var ZW=Object.defineProperty;var JW=(t,e,r)=>e in t?ZW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var BO=(t,e,r)=>JW(t,typeof e!="symbol"?e+"":e,r);import{jsPDF as eX}from"jspdf";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var $1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iw={exports:{}},$f={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UO;function tX(){if(UO)return $f;UO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:s,ref:i!==void 0?i:null,props:a}}return $f.Fragment=e,$f.jsx=r,$f.jsxs=r,$f}var zO;function rX(){return zO||(zO=1,iw.exports=tX()),iw.exports}var h=rX(),aw={exports:{}},jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VO;function nX(){if(VO)return jt;VO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function x(W){return W===null||typeof W!="object"?null:(W=v&&W[v]||W["@@iterator"],typeof W=="function"?W:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function C(W,Z,ue){this.props=W,this.context=Z,this.refs=_,this.updater=ue||T}C.prototype.isReactComponent={},C.prototype.setState=function(W,Z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Z,"setState")},C.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function I(){}I.prototype=C.prototype;function P(W,Z,ue){this.props=W,this.context=Z,this.refs=_,this.updater=ue||T}var V=P.prototype=new I;V.constructor=P,S(V,C.prototype),V.isPureReactComponent=!0;var j=Array.isArray;function D(){}var A={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function k(W,Z,ue){var Oe=ue.ref;return{$$typeof:t,type:W,key:Z,ref:Oe!==void 0?Oe:null,props:ue}}function $(W,Z){return k(W.type,Z,W.props)}function M(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function z(W){var Z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ue){return Z[ue]})}var U=/\/+/g;function Y(W,Z){return typeof W=="object"&&W!==null&&W.key!=null?z(""+W.key):Z.toString(36)}function ee(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(D,D):(W.status="pending",W.then(function(Z){W.status==="pending"&&(W.status="fulfilled",W.value=Z)},function(Z){W.status==="pending"&&(W.status="rejected",W.reason=Z)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function K(W,Z,ue,Oe,se){var ke=typeof W;(ke==="undefined"||ke==="boolean")&&(W=null);var Me=!1;if(W===null)Me=!0;else switch(ke){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(W.$$typeof){case t:case e:Me=!0;break;case m:return Me=W._init,K(Me(W._payload),Z,ue,Oe,se)}}if(Me)return se=se(W),Me=Oe===""?"."+Y(W,0):Oe,j(se)?(ue="",Me!=null&&(ue=Me.replace(U,"$&/")+"/"),K(se,Z,ue,"",function(qe){return qe})):se!=null&&(M(se)&&(se=$(se,ue+(se.key==null||W&&W.key===se.key?"":(""+se.key).replace(U,"$&/")+"/")+Me)),Z.push(se)),1;Me=0;var et=Oe===""?".":Oe+":";if(j(W))for(var Ae=0;Ae<W.length;Ae++)Oe=W[Ae],ke=et+Y(Oe,Ae),Me+=K(Oe,Z,ue,ke,se);else if(Ae=x(W),typeof Ae=="function")for(W=Ae.call(W),Ae=0;!(Oe=W.next()).done;)Oe=Oe.value,ke=et+Y(Oe,Ae++),Me+=K(Oe,Z,ue,ke,se);else if(ke==="object"){if(typeof W.then=="function")return K(ee(W),Z,ue,Oe,se);throw Z=String(W),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Me}function J(W,Z,ue){if(W==null)return W;var Oe=[],se=0;return K(W,Oe,"","",function(ke){return Z.call(ue,ke,se++)}),Oe}function Q(W){if(W._status===-1){var Z=W._result;Z=Z(),Z.then(function(ue){(W._status===0||W._status===-1)&&(W._status=1,W._result=ue)},function(ue){(W._status===0||W._status===-1)&&(W._status=2,W._result=ue)}),W._status===-1&&(W._status=0,W._result=Z)}if(W._status===1)return W._result.default;throw W._result}var fe=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},ie={map:J,forEach:function(W,Z,ue){J(W,function(){Z.apply(this,arguments)},ue)},count:function(W){var Z=0;return J(W,function(){Z++}),Z},toArray:function(W){return J(W,function(Z){return Z})||[]},only:function(W){if(!M(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return jt.Activity=g,jt.Children=ie,jt.Component=C,jt.Fragment=r,jt.Profiler=i,jt.PureComponent=P,jt.StrictMode=n,jt.Suspense=u,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,jt.__COMPILER_RUNTIME={__proto__:null,c:function(W){return A.H.useMemoCache(W)}},jt.cache=function(W){return function(){return W.apply(null,arguments)}},jt.cacheSignal=function(){return null},jt.cloneElement=function(W,Z,ue){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var Oe=S({},W.props),se=W.key;if(Z!=null)for(ke in Z.key!==void 0&&(se=""+Z.key),Z)!N.call(Z,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&Z.ref===void 0||(Oe[ke]=Z[ke]);var ke=arguments.length-2;if(ke===1)Oe.children=ue;else if(1<ke){for(var Me=Array(ke),et=0;et<ke;et++)Me[et]=arguments[et+2];Oe.children=Me}return k(W.type,se,Oe)},jt.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:a,_context:W},W},jt.createElement=function(W,Z,ue){var Oe,se={},ke=null;if(Z!=null)for(Oe in Z.key!==void 0&&(ke=""+Z.key),Z)N.call(Z,Oe)&&Oe!=="key"&&Oe!=="__self"&&Oe!=="__source"&&(se[Oe]=Z[Oe]);var Me=arguments.length-2;if(Me===1)se.children=ue;else if(1<Me){for(var et=Array(Me),Ae=0;Ae<Me;Ae++)et[Ae]=arguments[Ae+2];se.children=et}if(W&&W.defaultProps)for(Oe in Me=W.defaultProps,Me)se[Oe]===void 0&&(se[Oe]=Me[Oe]);return k(W,ke,se)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(W){return{$$typeof:c,render:W}},jt.isValidElement=M,jt.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:Q}},jt.memo=function(W,Z){return{$$typeof:f,type:W,compare:Z===void 0?null:Z}},jt.startTransition=function(W){var Z=A.T,ue={};A.T=ue;try{var Oe=W(),se=A.S;se!==null&&se(ue,Oe),typeof Oe=="object"&&Oe!==null&&typeof Oe.then=="function"&&Oe.then(D,fe)}catch(ke){fe(ke)}finally{Z!==null&&ue.types!==null&&(Z.types=ue.types),A.T=Z}},jt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},jt.use=function(W){return A.H.use(W)},jt.useActionState=function(W,Z,ue){return A.H.useActionState(W,Z,ue)},jt.useCallback=function(W,Z){return A.H.useCallback(W,Z)},jt.useContext=function(W){return A.H.useContext(W)},jt.useDebugValue=function(){},jt.useDeferredValue=function(W,Z){return A.H.useDeferredValue(W,Z)},jt.useEffect=function(W,Z){return A.H.useEffect(W,Z)},jt.useEffectEvent=function(W){return A.H.useEffectEvent(W)},jt.useId=function(){return A.H.useId()},jt.useImperativeHandle=function(W,Z,ue){return A.H.useImperativeHandle(W,Z,ue)},jt.useInsertionEffect=function(W,Z){return A.H.useInsertionEffect(W,Z)},jt.useLayoutEffect=function(W,Z){return A.H.useLayoutEffect(W,Z)},jt.useMemo=function(W,Z){return A.H.useMemo(W,Z)},jt.useOptimistic=function(W,Z){return A.H.useOptimistic(W,Z)},jt.useReducer=function(W,Z,ue){return A.H.useReducer(W,Z,ue)},jt.useRef=function(W){return A.H.useRef(W)},jt.useState=function(W){return A.H.useState(W)},jt.useSyncExternalStore=function(W,Z,ue){return A.H.useSyncExternalStore(W,Z,ue)},jt.useTransition=function(){return A.H.useTransition()},jt.version="19.2.4",jt}var $O;function kT(){return $O||($O=1,aw.exports=nX()),aw.exports}var q=kT();const ne=mr(q);var sw={exports:{}},Ff={},ow={exports:{}},lw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FO;function iX(){return FO||(FO=1,(function(t){function e(K,J){var Q=K.length;K.push(J);e:for(;0<Q;){var fe=Q-1>>>1,ie=K[fe];if(0<i(ie,J))K[fe]=J,K[Q]=ie,Q=fe;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var J=K[0],Q=K.pop();if(Q!==J){K[0]=Q;e:for(var fe=0,ie=K.length,W=ie>>>1;fe<W;){var Z=2*(fe+1)-1,ue=K[Z],Oe=Z+1,se=K[Oe];if(0>i(ue,Q))Oe<ie&&0>i(se,ue)?(K[fe]=se,K[Oe]=Q,fe=Oe):(K[fe]=ue,K[Z]=Q,fe=Z);else if(Oe<ie&&0>i(se,Q))K[fe]=se,K[Oe]=Q,fe=Oe;else break e}}return J}function i(K,J){var Q=K.sortIndex-J.sortIndex;return Q!==0?Q:K.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],f=[],m=1,g=null,v=3,x=!1,T=!1,S=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function V(K){for(var J=r(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=K)n(f),J.sortIndex=J.expirationTime,e(u,J);else break;J=r(f)}}function j(K){if(S=!1,V(K),!T)if(r(u)!==null)T=!0,D||(D=!0,z());else{var J=r(f);J!==null&&ee(j,J.startTime-K)}}var D=!1,A=-1,N=5,k=-1;function $(){return _?!0:!(t.unstable_now()-k<N)}function M(){if(_=!1,D){var K=t.unstable_now();k=K;var J=!0;try{e:{T=!1,S&&(S=!1,I(A),A=-1),x=!0;var Q=v;try{t:{for(V(K),g=r(u);g!==null&&!(g.expirationTime>K&&$());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,v=g.priorityLevel;var ie=fe(g.expirationTime<=K);if(K=t.unstable_now(),typeof ie=="function"){g.callback=ie,V(K),J=!0;break t}g===r(u)&&n(u),V(K)}else n(u);g=r(u)}if(g!==null)J=!0;else{var W=r(f);W!==null&&ee(j,W.startTime-K),J=!1}}break e}finally{g=null,v=Q,x=!1}J=void 0}}finally{J?z():D=!1}}}var z;if(typeof P=="function")z=function(){P(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=M,z=function(){Y.postMessage(null)}}else z=function(){C(M,0)};function ee(K,J){A=C(function(){K(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(K){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var Q=v;v=J;try{return K()}finally{v=Q}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(K,J){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=v;v=K;try{return J()}finally{v=Q}},t.unstable_scheduleCallback=function(K,J,Q){var fe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?fe+Q:fe):Q=fe,K){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Q+ie,K={id:m++,callback:J,priorityLevel:K,startTime:Q,expirationTime:ie,sortIndex:-1},Q>fe?(K.sortIndex=Q,e(f,K),r(u)===null&&K===r(f)&&(S?(I(A),A=-1):S=!0,ee(j,Q-fe))):(K.sortIndex=ie,e(u,K),T||x||(T=!0,D||(D=!0,z()))),K},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(K){var J=v;return function(){var Q=v;v=J;try{return K.apply(this,arguments)}finally{v=Q}}}})(lw)),lw}var qO;function aX(){return qO||(qO=1,ow.exports=iX()),ow.exports}var cw={exports:{}},vi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO;function sX(){if(HO)return vi;HO=1;var t=kT();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:f,implementation:m}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return vi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,vi.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,m)},vi.flushSync=function(u){var f=s.T,m=n.p;try{if(s.T=null,n.p=2,u)return u()}finally{s.T=f,n.p=m,n.d.f()}},vi.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},vi.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},vi.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):m==="script"&&n.d.X(u,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},vi.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},vi.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin);n.d.L(u,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},vi.preloadModule=function(u,f){if(typeof u=="string")if(f){var m=c(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},vi.requestFormReset=function(u){n.d.r(u)},vi.unstable_batchedUpdates=function(u,f){return u(f)},vi.useFormState=function(u,f,m){return s.H.useFormState(u,f,m)},vi.useFormStatus=function(){return s.H.useHostTransitionStatus()},vi.version="19.2.4",vi}var GO;function oX(){if(GO)return cw.exports;GO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cw.exports=sX(),cw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KO;function lX(){if(KO)return Ff;KO=1;var t=aX(),e=kT(),r=oX();function n(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(n(188))}function f(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(n(188));return l!==o?null:o}for(var d=o,p=l;;){var b=d.return;if(b===null)break;var w=b.alternate;if(w===null){if(p=b.return,p!==null){d=p;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===d)return u(b),o;if(w===p)return u(b),l;w=w.sibling}throw Error(n(188))}if(d.return!==p.return)d=b,p=w;else{for(var L=!1,H=b.child;H;){if(H===d){L=!0,d=b,p=w;break}if(H===p){L=!0,p=b,d=w;break}H=H.sibling}if(!L){for(H=w.child;H;){if(H===d){L=!0,d=w,p=b;break}if(H===p){L=!0,p=w,d=b;break}H=H.sibling}if(!L)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:l}function m(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=m(o),l!==null)return l;o=o.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),P=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(o){return o===null||typeof o!="object"?null:(o=M&&o[M]||o["@@iterator"],typeof o=="function"?o:null)}var U=Symbol.for("react.client.reference");function Y(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===U?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case j:return"Suspense";case D:return"SuspenseList";case k:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case P:return o.displayName||"Context";case I:return(o._context.displayName||"Context")+".Consumer";case V:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case A:return l=o.displayName||null,l!==null?l:Y(o.type)||"Memo";case N:l=o._payload,o=o._init;try{return Y(o(l))}catch{}}return null}var ee=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},fe=[],ie=-1;function W(o){return{current:o}}function Z(o){0>ie||(o.current=fe[ie],fe[ie]=null,ie--)}function ue(o,l){ie++,fe[ie]=o.current,o.current=l}var Oe=W(null),se=W(null),ke=W(null),Me=W(null);function et(o,l){switch(ue(ke,l),ue(se,o),ue(Oe,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?oO(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=oO(l),o=lO(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Z(Oe),ue(Oe,o)}function Ae(){Z(Oe),Z(se),Z(ke)}function qe(o){o.memoizedState!==null&&ue(Me,o);var l=Oe.current,d=lO(l,o.type);l!==d&&(ue(se,o),ue(Oe,d))}function he(o){se.current===o&&(Z(Oe),Z(se)),Me.current===o&&(Z(Me),Bf._currentValue=Q)}var pe,Ge;function $e(o){if(pe===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);pe=l&&l[1]||"",Ge=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+o+Ge}var it=!1;function lt(o,l){if(!o||it)return"";it=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(Se){var _e=Se}Reflect.construct(o,[],Re)}else{try{Re.call()}catch(Se){_e=Se}o.call(Re.prototype)}}else{try{throw Error()}catch(Se){_e=Se}(Re=o())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(Se){if(Se&&_e&&typeof Se.stack=="string")return[Se.stack,_e.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),L=w[0],H=w[1];if(L&&H){var ae=L.split(`
`),xe=H.split(`
`);for(b=p=0;p<ae.length&&!ae[p].includes("DetermineComponentFrameRoot");)p++;for(;b<xe.length&&!xe[b].includes("DetermineComponentFrameRoot");)b++;if(p===ae.length||b===xe.length)for(p=ae.length-1,b=xe.length-1;1<=p&&0<=b&&ae[p]!==xe[b];)b--;for(;1<=p&&0<=b;p--,b--)if(ae[p]!==xe[b]){if(p!==1||b!==1)do if(p--,b--,0>b||ae[p]!==xe[b]){var Ee=`
`+ae[p].replace(" at new "," at ");return o.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",o.displayName)),Ee}while(1<=p&&0<=b);break}}}finally{it=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?$e(d):""}function er(o,l){switch(o.tag){case 26:case 27:case 5:return $e(o.type);case 16:return $e("Lazy");case 13:return o.child!==l&&l!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return lt(o.type,!1);case 11:return lt(o.type.render,!1);case 1:return lt(o.type,!0);case 31:return $e("Activity");default:return""}}function je(o){try{var l="",d=null;do l+=er(o,d),d=o,o=o.return;while(o);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var le=Object.prototype.hasOwnProperty,ze=t.unstable_scheduleCallback,rt=t.unstable_cancelCallback,yt=t.unstable_shouldYield,Ke=t.unstable_requestPaint,vt=t.unstable_now,qt=t.unstable_getCurrentPriorityLevel,Ht=t.unstable_ImmediatePriority,wt=t.unstable_UserBlockingPriority,dr=t.unstable_NormalPriority,Gr=t.unstable_LowPriority,Wt=t.unstable_IdlePriority,Pn=t.log,Vr=t.unstable_setDisableYieldValue,ti=null,jr=null;function ln(o){if(typeof Pn=="function"&&Vr(o),jr&&typeof jr.setStrictMode=="function")try{jr.setStrictMode(ti,o)}catch{}}var pr=Math.clz32?Math.clz32:fs,ri=Math.log,Ba=Math.LN2;function fs(o){return o>>>=0,o===0?32:31-(ri(o)/Ba|0)|0}var Ua=256,vn=262144,fa=4194304;function fi(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function rr(o,l,d){var p=o.pendingLanes;if(p===0)return 0;var b=0,w=o.suspendedLanes,L=o.pingedLanes;o=o.warmLanes;var H=p&134217727;return H!==0?(p=H&~w,p!==0?b=fi(p):(L&=H,L!==0?b=fi(L):d||(d=H&~o,d!==0&&(b=fi(d))))):(H=p&~w,H!==0?b=fi(H):L!==0?b=fi(L):d||(d=p&~o,d!==0&&(b=fi(d)))),b===0?0:l!==0&&l!==b&&(l&w)===0&&(w=b&-b,d=l&-l,w>=d||w===32&&(d&4194048)!==0)?l:b}function qn(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function ms(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ps(){var o=fa;return fa<<=1,(fa&62914560)===0&&(fa=4194304),o}function mi(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Xi(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Zr(o,l,d,p,b,w){var L=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var H=o.entanglements,ae=o.expirationTimes,xe=o.hiddenUpdates;for(d=L&~d;0<d;){var Ee=31-pr(d),Re=1<<Ee;H[Ee]=0,ae[Ee]=-1;var _e=xe[Ee];if(_e!==null)for(xe[Ee]=null,Ee=0;Ee<_e.length;Ee++){var Se=_e[Ee];Se!==null&&(Se.lane&=-536870913)}d&=~Re}p!==0&&Ls(o,p,0),w!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=w&~(L&~l))}function Ls(o,l,d){o.pendingLanes|=l,o.suspendedLanes&=~l;var p=31-pr(l);o.entangledLanes|=l,o.entanglements[p]=o.entanglements[p]|1073741824|d&261930}function pi(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var p=31-pr(d),b=1<<p;b&l|o[p]&l&&(o[p]|=l),d&=~b}}function ki(o,l){var d=l&-l;return d=(d&42)!==0?1:Bs(d),(d&(o.suspendedLanes|l))!==0?0:d}function Bs(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ge(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Pe(){var o=J.p;return o!==0?o:(o=window.event,o===void 0?32:IO(o.type))}function at(o,l){var d=J.p;try{return J.p=o,l()}finally{J.p=d}}var Tt=Math.random().toString(36).slice(2),mt="__reactFiber$"+Tt,zt="__reactProps$"+Tt,nr="__reactContainer$"+Tt,Hn="__reactEvents$"+Tt,gi="__reactListeners$"+Tt,Us="__reactHandles$"+Tt,Al="__reactResources$"+Tt,gs="__reactMarker$"+Tt;function ut(o){delete o[mt],delete o[zt],delete o[Hn],delete o[gi],delete o[Us]}function oe(o){var l=o[mt];if(l)return l;for(var d=o.parentNode;d;){if(l=d[nr]||d[mt]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=pO(o);o!==null;){if(d=o[mt])return d;o=pO(o)}return l}o=d,d=o.parentNode}return null}function Le(o){if(o=o[mt]||o[nr]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function Ye(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(n(33))}function Rt(o){var l=o[Al];return l||(l=o[Al]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Xt(o){o[gs]=!0}var Jr=new Set,Lr={};function en(o,l){gr(o,l),gr(o+"Capture",l)}function gr(o,l){for(Lr[o]=l,o=0;o<l.length;o++)Jr.add(l[o])}var eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},M0={};function xg(o){return le.call(M0,o)?!0:le.call(El,o)?!1:eu.test(o)?M0[o]=!0:(El[o]=!0,!1)}function Nl(o,l,d){if(xg(l))if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+d)}}function Ol(o,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+d)}}function za(o,l,d,p){if(p===null)o.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(l,d,""+p)}}function Ci(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function wg(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function s2(o,l,d){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,w=p.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return b.call(this)},set:function(L){d=""+L,w.call(this,L)}}),Object.defineProperty(o,l,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(L){d=""+L},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function P0(o){if(!o._valueTracker){var l=wg(o)?"checked":"value";o._valueTracker=s2(o,l,""+o[l])}}function Yd(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return o&&(p=wg(o)?o.checked?"true":"false":o.value),o=p,o!==d?(l.setValue(o),!0):!1}function D0(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var xo=/[\n"\\]/g;function cn(o){return o.replace(xo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function kl(o,l,d,p,b,w,L,H){o.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?o.type=L:o.removeAttribute("type"),l!=null?L==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Ci(l)):o.value!==""+Ci(l)&&(o.value=""+Ci(l)):L!=="submit"&&L!=="reset"||o.removeAttribute("value"),l!=null?L0(o,L,Ci(l)):d!=null?L0(o,L,Ci(d)):p!=null&&o.removeAttribute("value"),b==null&&w!=null&&(o.defaultChecked=!!w),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?o.name=""+Ci(H):o.removeAttribute("name")}function tu(o,l,d,p,b,w,L,H){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),l!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||l!=null)){P0(o);return}d=d!=null?""+Ci(d):"",l=l!=null?""+Ci(l):d,H||l===o.value||(o.value=l),o.defaultValue=l}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=H?o.checked:!!p,o.defaultChecked=!!p,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(o.name=L),P0(o)}function L0(o,l,d){l==="number"&&D0(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function sr(o,l,d,p){if(o=o.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<o.length;d++)b=l.hasOwnProperty("$"+o[d].value),o[d].selected!==b&&(o[d].selected=b),b&&p&&(o[d].defaultSelected=!0)}else{for(d=""+Ci(d),l=null,b=0;b<o.length;b++){if(o[b].value===d){o[b].selected=!0,p&&(o[b].defaultSelected=!0);return}l!==null||o[b].disabled||(l=o[b])}l!==null&&(l.selected=!0)}}function ru(o,l,d){if(l!=null&&(l=""+Ci(l),l!==o.value&&(o.value=l),d==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=d!=null?""+Ci(d):""}function Cl(o,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(n(92));if(ee(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=Ci(l),o.defaultValue=d,p=o.textContent,p===d&&p!==""&&p!==null&&(o.value=p),P0(o)}function Va(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var o2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qd(o,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":p?o.setProperty(l,d):typeof d!="number"||d===0||o2.has(l)?l==="float"?o.cssFloat=d:o[l]=(""+d).trim():o[l]=d+"px"}function _g(o,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(o=o.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var b in l)p=l[b],l.hasOwnProperty(b)&&d[b]!==p&&Qd(o,b,p)}else for(var w in l)l.hasOwnProperty(w)&&Qd(o,w,l[w])}function Zd(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(o){return c2.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Gn(){}var B0=null;function U0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var wo=null,ma=null;function Sg(o){var l=Le(o);if(l&&(o=l.stateNode)){var d=o[zt]||null;e:switch(o=l.stateNode,l.type){case"input":if(kl(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+cn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==o&&p.form===o.form){var b=p[zt]||null;if(!b)throw Error(n(90));kl(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===o.form&&Yd(p)}break e;case"textarea":ru(o,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&sr(o,!!d.multiple,l,!1)}}}var Jd=!1;function Tg(o,l,d){if(Jd)return o(l,d);Jd=!0;try{var p=o(l);return p}finally{if(Jd=!1,(wo!==null||ma!==null)&&(x1(),wo&&(l=wo,o=ma,ma=wo=null,Sg(l),o)))for(l=0;l<o.length;l++)Sg(o[l])}}function Yi(o,l){var d=o.stateNode;if(d===null)return null;var p=d[zt]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ef=!1;if(ys)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){ef=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{ef=!1}var pa=null,z0=null,$s=null;function Il(){if($s)return $s;var o,l=z0,d=l.length,p,b="value"in pa?pa.value:pa.textContent,w=b.length;for(o=0;o<d&&l[o]===b[o];o++);var L=d-o;for(p=1;p<=L&&l[d-p]===b[w-p];p++);return $s=b.slice(o,1<p?1-p:void 0)}function nu(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function jl(){return!0}function $r(){return!1}function yi(o){function l(d,p,b,w,L){this._reactName=d,this._targetInst=b,this.type=p,this.nativeEvent=w,this.target=L,this.currentTarget=null;for(var H in o)o.hasOwnProperty(H)&&(d=o[H],this[H]=d?d(w):w[H]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?jl:$r,this.isPropagationStopped=$r,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),l}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iu=yi(_o),Rl=g({},_o,{view:0,detail:0}),Ag=yi(Rl),Ml,V0,Ii,au=g({},Rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dl,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ii&&(Ii&&o.type==="mousemove"?(Ml=o.screenX-Ii.screenX,V0=o.screenY-Ii.screenY):V0=Ml=0,Ii=o),Ml)},movementY:function(o){return"movementY"in o?o.movementY:V0}}),Eg=yi(au),su=g({},au,{dataTransfer:0}),Ng=yi(su),tf=g({},Rl,{relatedTarget:0}),Pl=yi(tf),Og=g({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),$0=yi(Og),u2=g({},_o,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),kg=yi(u2),ou=g({},_o,{data:0}),rf=yi(ou),Cg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},af={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ig(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=af[o])?!!l[o]:!1}function Dl(){return Ig}var jg=g({},Rl,{key:function(o){if(o.key){var l=Cg[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=nu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?nf[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dl,charCode:function(o){return o.type==="keypress"?nu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?nu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rg=yi(jg),So=g({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=yi(So),Mg=g({},Rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dl}),Pg=yi(Mg),Dg=g({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),F0=yi(Dg),ji=g({},au,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Lg=yi(ji),Bg=g({},_o,{newState:0,oldState:0}),Ll=yi(Bg),y=[9,13,27,32],O=ys&&"CompositionEvent"in window,B=null;ys&&"documentMode"in document&&(B=document.documentMode);var X=ys&&"TextEvent"in window&&!B,ye=ys&&(!O||B&&8<B&&11>=B),Te=" ",We=!1;function yr(o,l){switch(o){case"keyup":return y.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sn(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var $t=!1;function Kn(o,l){switch(o){case"compositionend":return Sn(l);case"keypress":return l.which!==32?null:(We=!0,Te);case"textInput":return o=l.data,o===Te&&We?null:o;default:return null}}function Wn(o,l){if($t)return o==="compositionend"||!O&&yr(o,l)?(o=Il(),$s=z0=pa=null,$t=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ye&&l.locale!=="ko"?null:l.data;default:return null}}var Bl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qi(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Bl[o.type]:l==="textarea"}function lu(o,l,d,p){wo?ma?ma.push(p):ma=[p]:wo=p,l=N1(l,"onChange"),0<l.length&&(d=new iu("onChange","change",null,d,p),o.push({event:d,listeners:l}))}var To=null,of=null;function AK(o){tO(o,0)}function Ug(o){var l=Ye(o);if(Yd(l))return o}function xE(o,l){if(o==="change")return l}var wE=!1;if(ys){var h2;if(ys){var d2="oninput"in document;if(!d2){var _E=document.createElement("div");_E.setAttribute("oninput","return;"),d2=typeof _E.oninput=="function"}h2=d2}else h2=!1;wE=h2&&(!document.documentMode||9<document.documentMode)}function SE(){To&&(To.detachEvent("onpropertychange",TE),of=To=null)}function TE(o){if(o.propertyName==="value"&&Ug(of)){var l=[];lu(l,of,o,U0(o)),Tg(AK,l)}}function EK(o,l,d){o==="focusin"?(SE(),To=l,of=d,To.attachEvent("onpropertychange",TE)):o==="focusout"&&SE()}function NK(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ug(of)}function OK(o,l){if(o==="click")return Ug(l)}function kK(o,l){if(o==="input"||o==="change")return Ug(l)}function CK(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var ga=typeof Object.is=="function"?Object.is:CK;function lf(o,l){if(ga(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var b=d[p];if(!le.call(l,b)||!ga(o[b],l[b]))return!1}return!0}function AE(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function EE(o,l){var d=AE(o);o=0;for(var p;d;){if(d.nodeType===3){if(p=o+d.textContent.length,o<=l&&p>=l)return{node:d,offset:l-o};o=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=AE(d)}}function NE(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?NE(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function OE(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=D0(o.document);l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=D0(o.document)}return l}function f2(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var IK=ys&&"documentMode"in document&&11>=document.documentMode,q0=null,m2=null,cf=null,p2=!1;function kE(o,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;p2||q0==null||q0!==D0(p)||(p=q0,"selectionStart"in p&&f2(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),cf&&lf(cf,p)||(cf=p,p=N1(m2,"onSelect"),0<p.length&&(l=new iu("onSelect","select",null,l,d),o.push({event:l,listeners:p}),l.target=q0)))}function cu(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var H0={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionrun:cu("Transition","TransitionRun"),transitionstart:cu("Transition","TransitionStart"),transitioncancel:cu("Transition","TransitionCancel"),transitionend:cu("Transition","TransitionEnd")},g2={},CE={};ys&&(CE=document.createElement("div").style,"AnimationEvent"in window||(delete H0.animationend.animation,delete H0.animationiteration.animation,delete H0.animationstart.animation),"TransitionEvent"in window||delete H0.transitionend.transition);function uu(o){if(g2[o])return g2[o];if(!H0[o])return o;var l=H0[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in CE)return g2[o]=l[d];return o}var IE=uu("animationend"),jE=uu("animationiteration"),RE=uu("animationstart"),jK=uu("transitionrun"),RK=uu("transitionstart"),MK=uu("transitioncancel"),ME=uu("transitionend"),PE=new Map,y2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");y2.push("scrollEnd");function vs(o,l){PE.set(o,l),en(l,[o])}var zg=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},$a=[],G0=0,v2=0;function Vg(){for(var o=G0,l=v2=G0=0;l<o;){var d=$a[l];$a[l++]=null;var p=$a[l];$a[l++]=null;var b=$a[l];$a[l++]=null;var w=$a[l];if($a[l++]=null,p!==null&&b!==null){var L=p.pending;L===null?b.next=b:(b.next=L.next,L.next=b),p.pending=b}w!==0&&DE(d,b,w)}}function $g(o,l,d,p){$a[G0++]=o,$a[G0++]=l,$a[G0++]=d,$a[G0++]=p,v2|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function b2(o,l,d,p){return $g(o,l,d,p),Fg(o)}function hu(o,l){return $g(o,null,null,l),Fg(o)}function DE(o,l,d){o.lanes|=d;var p=o.alternate;p!==null&&(p.lanes|=d);for(var b=!1,w=o.return;w!==null;)w.childLanes|=d,p=w.alternate,p!==null&&(p.childLanes|=d),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(b=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,b&&l!==null&&(b=31-pr(d),o=w.hiddenUpdates,p=o[b],p===null?o[b]=[l]:p.push(l),l.lane=d|536870912),w):null}function Fg(o){if(50<If)throw If=0,O4=null,Error(n(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var K0={};function PK(o,l,d,p){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ya(o,l,d,p){return new PK(o,l,d,p)}function x2(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ao(o,l){var d=o.alternate;return d===null?(d=ya(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function LE(o,l){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,l=d.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function qg(o,l,d,p,b,w){var L=0;if(p=o,typeof o=="function")x2(o)&&(L=1);else if(typeof o=="string")L=zW(o,d,Oe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case k:return o=ya(31,d,l,b),o.elementType=k,o.lanes=w,o;case S:return du(d.children,b,w,l);case _:L=8,b|=24;break;case C:return o=ya(12,d,l,b|2),o.elementType=C,o.lanes=w,o;case j:return o=ya(13,d,l,b),o.elementType=j,o.lanes=w,o;case D:return o=ya(19,d,l,b),o.elementType=D,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:L=10;break e;case I:L=9;break e;case V:L=11;break e;case A:L=14;break e;case N:L=16,p=null;break e}L=29,d=Error(n(130,o===null?"null":typeof o,"")),p=null}return l=ya(L,d,l,b),l.elementType=o,l.type=p,l.lanes=w,l}function du(o,l,d,p){return o=ya(7,o,p,l),o.lanes=d,o}function w2(o,l,d){return o=ya(6,o,null,l),o.lanes=d,o}function BE(o){var l=ya(18,null,null,0);return l.stateNode=o,l}function _2(o,l,d){return l=ya(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var UE=new WeakMap;function Fa(o,l){if(typeof o=="object"&&o!==null){var d=UE.get(o);return d!==void 0?d:(l={value:o,source:l,stack:je(l)},UE.set(o,l),l)}return{value:o,source:l,stack:je(l)}}var W0=[],X0=0,Hg=null,uf=0,qa=[],Ha=0,Ul=null,Fs=1,qs="";function Eo(o,l){W0[X0++]=uf,W0[X0++]=Hg,Hg=o,uf=l}function zE(o,l,d){qa[Ha++]=Fs,qa[Ha++]=qs,qa[Ha++]=Ul,Ul=o;var p=Fs;o=qs;var b=32-pr(p)-1;p&=~(1<<b),d+=1;var w=32-pr(l)+b;if(30<w){var L=b-b%5;w=(p&(1<<L)-1).toString(32),p>>=L,b-=L,Fs=1<<32-pr(l)+b|d<<b|p,qs=w+o}else Fs=1<<w|d<<b|p,qs=o}function S2(o){o.return!==null&&(Eo(o,1),zE(o,1,0))}function T2(o){for(;o===Hg;)Hg=W0[--X0],W0[X0]=null,uf=W0[--X0],W0[X0]=null;for(;o===Ul;)Ul=qa[--Ha],qa[Ha]=null,qs=qa[--Ha],qa[Ha]=null,Fs=qa[--Ha],qa[Ha]=null}function VE(o,l){qa[Ha++]=Fs,qa[Ha++]=qs,qa[Ha++]=Ul,Fs=l.id,qs=l.overflow,Ul=o}var ni=null,Fr=null,tr=!1,zl=null,Ga=!1,A2=Error(n(519));function Vl(o){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hf(Fa(l,o)),A2}function $E(o){var l=o.stateNode,d=o.type,p=o.memoizedProps;switch(l[mt]=o,l[zt]=p,d){case"dialog":Kt("cancel",l),Kt("close",l);break;case"iframe":case"object":case"embed":Kt("load",l);break;case"video":case"audio":for(d=0;d<Rf.length;d++)Kt(Rf[d],l);break;case"source":Kt("error",l);break;case"img":case"image":case"link":Kt("error",l),Kt("load",l);break;case"details":Kt("toggle",l);break;case"input":Kt("invalid",l),tu(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Kt("invalid",l);break;case"textarea":Kt("invalid",l),Cl(l,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||aO(l.textContent,d)?(p.popover!=null&&(Kt("beforetoggle",l),Kt("toggle",l)),p.onScroll!=null&&Kt("scroll",l),p.onScrollEnd!=null&&Kt("scrollend",l),p.onClick!=null&&(l.onclick=Gn),l=!0):l=!1,l||Vl(o,!0)}function FE(o){for(ni=o.return;ni;)switch(ni.tag){case 5:case 31:case 13:Ga=!1;return;case 27:case 3:Ga=!0;return;default:ni=ni.return}}function Y0(o){if(o!==ni)return!1;if(!tr)return FE(o),tr=!0,!1;var l=o.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||F4(o.type,o.memoizedProps)),d=!d),d&&Fr&&Vl(o),FE(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Fr=mO(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Fr=mO(o)}else l===27?(l=Fr,tc(o.type)?(o=W4,W4=null,Fr=o):Fr=l):Fr=ni?Wa(o.stateNode.nextSibling):null;return!0}function fu(){Fr=ni=null,tr=!1}function E2(){var o=zl;return o!==null&&(ta===null?ta=o:ta.push.apply(ta,o),zl=null),o}function hf(o){zl===null?zl=[o]:zl.push(o)}var N2=W(null),mu=null,No=null;function $l(o,l,d){ue(N2,l._currentValue),l._currentValue=d}function Oo(o){o._currentValue=N2.current,Z(N2)}function O2(o,l,d){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===d)break;o=o.return}}function k2(o,l,d,p){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var w=b.dependencies;if(w!==null){var L=b.child;w=w.firstContext;e:for(;w!==null;){var H=w;w=b;for(var ae=0;ae<l.length;ae++)if(H.context===l[ae]){w.lanes|=d,H=w.alternate,H!==null&&(H.lanes|=d),O2(w.return,d,o),p||(L=null);break e}w=H.next}}else if(b.tag===18){if(L=b.return,L===null)throw Error(n(341));L.lanes|=d,w=L.alternate,w!==null&&(w.lanes|=d),O2(L,d,o),L=null}else L=b.child;if(L!==null)L.return=b;else for(L=b;L!==null;){if(L===o){L=null;break}if(b=L.sibling,b!==null){b.return=L.return,L=b;break}L=L.return}b=L}}function Q0(o,l,d,p){o=null;for(var b=l,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var L=b.alternate;if(L===null)throw Error(n(387));if(L=L.memoizedProps,L!==null){var H=b.type;ga(b.pendingProps.value,L.value)||(o!==null?o.push(H):o=[H])}}else if(b===Me.current){if(L=b.alternate,L===null)throw Error(n(387));L.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(Bf):o=[Bf])}b=b.return}o!==null&&k2(l,o,d,p),l.flags|=262144}function Gg(o){for(o=o.firstContext;o!==null;){if(!ga(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function pu(o){mu=o,No=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ii(o){return qE(mu,o)}function Kg(o,l){return mu===null&&pu(o),qE(o,l)}function qE(o,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},No===null){if(o===null)throw Error(n(308));No=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else No=No.next=l;return d}var DK=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(d,p){o.push(p)}};this.abort=function(){l.aborted=!0,o.forEach(function(d){return d()})}},LK=t.unstable_scheduleCallback,BK=t.unstable_NormalPriority,Tn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function C2(){return{controller:new DK,data:new Map,refCount:0}}function df(o){o.refCount--,o.refCount===0&&LK(BK,function(){o.controller.abort()})}var ff=null,I2=0,Z0=0,J0=null;function UK(o,l){if(ff===null){var d=ff=[];I2=0,Z0=M4(),J0={status:"pending",value:void 0,then:function(p){d.push(p)}}}return I2++,l.then(HE,HE),l}function HE(){if(--I2===0&&ff!==null){J0!==null&&(J0.status="fulfilled");var o=ff;ff=null,Z0=0,J0=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function zK(o,l){var d=[],p={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return o.then(function(){p.status="fulfilled",p.value=l;for(var b=0;b<d.length;b++)(0,d[b])(l)},function(b){for(p.status="rejected",p.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),p}var GE=K.S;K.S=function(o,l){kN=vt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&UK(o,l),GE!==null&&GE(o,l)};var gu=W(null);function j2(){var o=gu.current;return o!==null?o:Rr.pooledCache}function Wg(o,l){l===null?ue(gu,gu.current):ue(gu,l.pool)}function KE(){var o=j2();return o===null?null:{parent:Tn._currentValue,pool:o}}var eh=Error(n(460)),R2=Error(n(474)),Xg=Error(n(542)),Yg={then:function(){}};function WE(o){return o=o.status,o==="fulfilled"||o==="rejected"}function XE(o,l,d){switch(d=o[d],d===void 0?o.push(l):d!==l&&(l.then(Gn,Gn),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,QE(o),o;default:if(typeof l.status=="string")l.then(Gn,Gn);else{if(o=Rr,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=l,o.status="pending",o.then(function(p){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=p}},function(p){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,QE(o),o}throw vu=l,eh}}function yu(o){try{var l=o._init;return l(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(vu=d,eh):d}}var vu=null;function YE(){if(vu===null)throw Error(n(459));var o=vu;return vu=null,o}function QE(o){if(o===eh||o===Xg)throw Error(n(483))}var th=null,mf=0;function Qg(o){var l=mf;return mf+=1,th===null&&(th=[]),XE(th,o,l)}function pf(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Zg(o,l){throw l.$$typeof===v?Error(n(525)):(o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function ZE(o){function l(me,ce){if(o){var ve=me.deletions;ve===null?(me.deletions=[ce],me.flags|=16):ve.push(ce)}}function d(me,ce){if(!o)return null;for(;ce!==null;)l(me,ce),ce=ce.sibling;return null}function p(me){for(var ce=new Map;me!==null;)me.key!==null?ce.set(me.key,me):ce.set(me.index,me),me=me.sibling;return ce}function b(me,ce){return me=Ao(me,ce),me.index=0,me.sibling=null,me}function w(me,ce,ve){return me.index=ve,o?(ve=me.alternate,ve!==null?(ve=ve.index,ve<ce?(me.flags|=67108866,ce):ve):(me.flags|=67108866,ce)):(me.flags|=1048576,ce)}function L(me){return o&&me.alternate===null&&(me.flags|=67108866),me}function H(me,ce,ve,Ie){return ce===null||ce.tag!==6?(ce=w2(ve,me.mode,Ie),ce.return=me,ce):(ce=b(ce,ve),ce.return=me,ce)}function ae(me,ce,ve,Ie){var gt=ve.type;return gt===S?Ee(me,ce,ve.props.children,Ie,ve.key):ce!==null&&(ce.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===N&&yu(gt)===ce.type)?(ce=b(ce,ve.props),pf(ce,ve),ce.return=me,ce):(ce=qg(ve.type,ve.key,ve.props,null,me.mode,Ie),pf(ce,ve),ce.return=me,ce)}function xe(me,ce,ve,Ie){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==ve.containerInfo||ce.stateNode.implementation!==ve.implementation?(ce=_2(ve,me.mode,Ie),ce.return=me,ce):(ce=b(ce,ve.children||[]),ce.return=me,ce)}function Ee(me,ce,ve,Ie,gt){return ce===null||ce.tag!==7?(ce=du(ve,me.mode,Ie,gt),ce.return=me,ce):(ce=b(ce,ve),ce.return=me,ce)}function Re(me,ce,ve){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ce=w2(""+ce,me.mode,ve),ce.return=me,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return ve=qg(ce.type,ce.key,ce.props,null,me.mode,ve),pf(ve,ce),ve.return=me,ve;case T:return ce=_2(ce,me.mode,ve),ce.return=me,ce;case N:return ce=yu(ce),Re(me,ce,ve)}if(ee(ce)||z(ce))return ce=du(ce,me.mode,ve,null),ce.return=me,ce;if(typeof ce.then=="function")return Re(me,Qg(ce),ve);if(ce.$$typeof===P)return Re(me,Kg(me,ce),ve);Zg(me,ce)}return null}function _e(me,ce,ve,Ie){var gt=ce!==null?ce.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return gt!==null?null:H(me,ce,""+ve,Ie);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case x:return ve.key===gt?ae(me,ce,ve,Ie):null;case T:return ve.key===gt?xe(me,ce,ve,Ie):null;case N:return ve=yu(ve),_e(me,ce,ve,Ie)}if(ee(ve)||z(ve))return gt!==null?null:Ee(me,ce,ve,Ie,null);if(typeof ve.then=="function")return _e(me,ce,Qg(ve),Ie);if(ve.$$typeof===P)return _e(me,ce,Kg(me,ve),Ie);Zg(me,ve)}return null}function Se(me,ce,ve,Ie,gt){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return me=me.get(ve)||null,H(ce,me,""+Ie,gt);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case x:return me=me.get(Ie.key===null?ve:Ie.key)||null,ae(ce,me,Ie,gt);case T:return me=me.get(Ie.key===null?ve:Ie.key)||null,xe(ce,me,Ie,gt);case N:return Ie=yu(Ie),Se(me,ce,ve,Ie,gt)}if(ee(Ie)||z(Ie))return me=me.get(ve)||null,Ee(ce,me,Ie,gt,null);if(typeof Ie.then=="function")return Se(me,ce,ve,Qg(Ie),gt);if(Ie.$$typeof===P)return Se(me,ce,ve,Kg(ce,Ie),gt);Zg(ce,Ie)}return null}function ct(me,ce,ve,Ie){for(var gt=null,or=null,dt=ce,Lt=ce=0,Qt=null;dt!==null&&Lt<ve.length;Lt++){dt.index>Lt?(Qt=dt,dt=null):Qt=dt.sibling;var lr=_e(me,dt,ve[Lt],Ie);if(lr===null){dt===null&&(dt=Qt);break}o&&dt&&lr.alternate===null&&l(me,dt),ce=w(lr,ce,Lt),or===null?gt=lr:or.sibling=lr,or=lr,dt=Qt}if(Lt===ve.length)return d(me,dt),tr&&Eo(me,Lt),gt;if(dt===null){for(;Lt<ve.length;Lt++)dt=Re(me,ve[Lt],Ie),dt!==null&&(ce=w(dt,ce,Lt),or===null?gt=dt:or.sibling=dt,or=dt);return tr&&Eo(me,Lt),gt}for(dt=p(dt);Lt<ve.length;Lt++)Qt=Se(dt,me,Lt,ve[Lt],Ie),Qt!==null&&(o&&Qt.alternate!==null&&dt.delete(Qt.key===null?Lt:Qt.key),ce=w(Qt,ce,Lt),or===null?gt=Qt:or.sibling=Qt,or=Qt);return o&&dt.forEach(function(sc){return l(me,sc)}),tr&&Eo(me,Lt),gt}function At(me,ce,ve,Ie){if(ve==null)throw Error(n(151));for(var gt=null,or=null,dt=ce,Lt=ce=0,Qt=null,lr=ve.next();dt!==null&&!lr.done;Lt++,lr=ve.next()){dt.index>Lt?(Qt=dt,dt=null):Qt=dt.sibling;var sc=_e(me,dt,lr.value,Ie);if(sc===null){dt===null&&(dt=Qt);break}o&&dt&&sc.alternate===null&&l(me,dt),ce=w(sc,ce,Lt),or===null?gt=sc:or.sibling=sc,or=sc,dt=Qt}if(lr.done)return d(me,dt),tr&&Eo(me,Lt),gt;if(dt===null){for(;!lr.done;Lt++,lr=ve.next())lr=Re(me,lr.value,Ie),lr!==null&&(ce=w(lr,ce,Lt),or===null?gt=lr:or.sibling=lr,or=lr);return tr&&Eo(me,Lt),gt}for(dt=p(dt);!lr.done;Lt++,lr=ve.next())lr=Se(dt,me,Lt,lr.value,Ie),lr!==null&&(o&&lr.alternate!==null&&dt.delete(lr.key===null?Lt:lr.key),ce=w(lr,ce,Lt),or===null?gt=lr:or.sibling=lr,or=lr);return o&&dt.forEach(function(QW){return l(me,QW)}),tr&&Eo(me,Lt),gt}function Nr(me,ce,ve,Ie){if(typeof ve=="object"&&ve!==null&&ve.type===S&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case x:e:{for(var gt=ve.key;ce!==null;){if(ce.key===gt){if(gt=ve.type,gt===S){if(ce.tag===7){d(me,ce.sibling),Ie=b(ce,ve.props.children),Ie.return=me,me=Ie;break e}}else if(ce.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===N&&yu(gt)===ce.type){d(me,ce.sibling),Ie=b(ce,ve.props),pf(Ie,ve),Ie.return=me,me=Ie;break e}d(me,ce);break}else l(me,ce);ce=ce.sibling}ve.type===S?(Ie=du(ve.props.children,me.mode,Ie,ve.key),Ie.return=me,me=Ie):(Ie=qg(ve.type,ve.key,ve.props,null,me.mode,Ie),pf(Ie,ve),Ie.return=me,me=Ie)}return L(me);case T:e:{for(gt=ve.key;ce!==null;){if(ce.key===gt)if(ce.tag===4&&ce.stateNode.containerInfo===ve.containerInfo&&ce.stateNode.implementation===ve.implementation){d(me,ce.sibling),Ie=b(ce,ve.children||[]),Ie.return=me,me=Ie;break e}else{d(me,ce);break}else l(me,ce);ce=ce.sibling}Ie=_2(ve,me.mode,Ie),Ie.return=me,me=Ie}return L(me);case N:return ve=yu(ve),Nr(me,ce,ve,Ie)}if(ee(ve))return ct(me,ce,ve,Ie);if(z(ve)){if(gt=z(ve),typeof gt!="function")throw Error(n(150));return ve=gt.call(ve),At(me,ce,ve,Ie)}if(typeof ve.then=="function")return Nr(me,ce,Qg(ve),Ie);if(ve.$$typeof===P)return Nr(me,ce,Kg(me,ve),Ie);Zg(me,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,ce!==null&&ce.tag===6?(d(me,ce.sibling),Ie=b(ce,ve),Ie.return=me,me=Ie):(d(me,ce),Ie=w2(ve,me.mode,Ie),Ie.return=me,me=Ie),L(me)):d(me,ce)}return function(me,ce,ve,Ie){try{mf=0;var gt=Nr(me,ce,ve,Ie);return th=null,gt}catch(dt){if(dt===eh||dt===Xg)throw dt;var or=ya(29,dt,null,me.mode);return or.lanes=Ie,or.return=me,or}finally{}}}var bu=ZE(!0),JE=ZE(!1),Fl=!1;function M2(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function P2(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ql(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Hl(o,l,d){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(fr&2)!==0){var b=p.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),p.pending=l,l=Fg(o),DE(o,null,d),l}return $g(o,p,l,d),Fg(o)}function gf(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=o.pendingLanes,d|=p,l.lanes=d,pi(o,d)}}function D2(o,l){var d=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var b=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var L={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?b=w=L:w=w.next=L,d=d.next}while(d!==null);w===null?b=w=l:w=w.next=l}else b=w=l;d={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}var L2=!1;function yf(){if(L2){var o=J0;if(o!==null)throw o}}function vf(o,l,d,p){L2=!1;var b=o.updateQueue;Fl=!1;var w=b.firstBaseUpdate,L=b.lastBaseUpdate,H=b.shared.pending;if(H!==null){b.shared.pending=null;var ae=H,xe=ae.next;ae.next=null,L===null?w=xe:L.next=xe,L=ae;var Ee=o.alternate;Ee!==null&&(Ee=Ee.updateQueue,H=Ee.lastBaseUpdate,H!==L&&(H===null?Ee.firstBaseUpdate=xe:H.next=xe,Ee.lastBaseUpdate=ae))}if(w!==null){var Re=b.baseState;L=0,Ee=xe=ae=null,H=w;do{var _e=H.lane&-536870913,Se=_e!==H.lane;if(Se?(Yt&_e)===_e:(p&_e)===_e){_e!==0&&_e===Z0&&(L2=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var ct=o,At=H;_e=l;var Nr=d;switch(At.tag){case 1:if(ct=At.payload,typeof ct=="function"){Re=ct.call(Nr,Re,_e);break e}Re=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=At.payload,_e=typeof ct=="function"?ct.call(Nr,Re,_e):ct,_e==null)break e;Re=g({},Re,_e);break e;case 2:Fl=!0}}_e=H.callback,_e!==null&&(o.flags|=64,Se&&(o.flags|=8192),Se=b.callbacks,Se===null?b.callbacks=[_e]:Se.push(_e))}else Se={lane:_e,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Ee===null?(xe=Ee=Se,ae=Re):Ee=Ee.next=Se,L|=_e;if(H=H.next,H===null){if(H=b.shared.pending,H===null)break;Se=H,H=Se.next,Se.next=null,b.lastBaseUpdate=Se,b.shared.pending=null}}while(!0);Ee===null&&(ae=Re),b.baseState=ae,b.firstBaseUpdate=xe,b.lastBaseUpdate=Ee,w===null&&(b.shared.lanes=0),Yl|=L,o.lanes=L,o.memoizedState=Re}}function e9(o,l){if(typeof o!="function")throw Error(n(191,o));o.call(l)}function t9(o,l){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)e9(d[o],l)}var rh=W(null),Jg=W(0);function r9(o,l){o=Lo,ue(Jg,o),ue(rh,l),Lo=o|l.baseLanes}function B2(){ue(Jg,Lo),ue(rh,rh.current)}function U2(){Lo=Jg.current,Z(rh),Z(Jg)}var va=W(null),Ka=null;function Gl(o){var l=o.alternate;ue(bn,bn.current&1),ue(va,o),Ka===null&&(l===null||rh.current!==null||l.memoizedState!==null)&&(Ka=o)}function z2(o){ue(bn,bn.current),ue(va,o),Ka===null&&(Ka=o)}function n9(o){o.tag===22?(ue(bn,bn.current),ue(va,o),Ka===null&&(Ka=o)):Kl()}function Kl(){ue(bn,bn.current),ue(va,va.current)}function ba(o){Z(va),Ka===o&&(Ka=null),Z(bn)}var bn=W(0);function e1(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||G4(d)||K4(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ko=0,Dt=null,Ar=null,An=null,t1=!1,nh=!1,xu=!1,r1=0,bf=0,ih=null,VK=0;function un(){throw Error(n(321))}function V2(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!ga(o[d],l[d]))return!1;return!0}function $2(o,l,d,p,b,w){return ko=w,Dt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,K.H=o===null||o.memoizedState===null?z9:n4,xu=!1,w=d(p,b),xu=!1,nh&&(w=a9(l,d,p,b)),i9(o),w}function i9(o){K.H=_f;var l=Ar!==null&&Ar.next!==null;if(ko=0,An=Ar=Dt=null,t1=!1,bf=0,ih=null,l)throw Error(n(300));o===null||En||(o=o.dependencies,o!==null&&Gg(o)&&(En=!0))}function a9(o,l,d,p){Dt=o;var b=0;do{if(nh&&(ih=null),bf=0,nh=!1,25<=b)throw Error(n(301));if(b+=1,An=Ar=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}K.H=V9,w=l(d,p)}while(nh);return w}function $K(){var o=K.H,l=o.useState()[0];return l=typeof l.then=="function"?xf(l):l,o=o.useState()[0],(Ar!==null?Ar.memoizedState:null)!==o&&(Dt.flags|=1024),l}function F2(){var o=r1!==0;return r1=0,o}function q2(o,l,d){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~d}function H2(o){if(t1){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}t1=!1}ko=0,An=Ar=Dt=null,nh=!1,bf=r1=0,ih=null}function Ri(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Dt.memoizedState=An=o:An=An.next=o,An}function xn(){if(Ar===null){var o=Dt.alternate;o=o!==null?o.memoizedState:null}else o=Ar.next;var l=An===null?Dt.memoizedState:An.next;if(l!==null)An=l,Ar=o;else{if(o===null)throw Dt.alternate===null?Error(n(467)):Error(n(310));Ar=o,o={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},An===null?Dt.memoizedState=An=o:An=An.next=o}return An}function n1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xf(o){var l=bf;return bf+=1,ih===null&&(ih=[]),o=XE(ih,o,l),l=Dt,(An===null?l.memoizedState:An.next)===null&&(l=l.alternate,K.H=l===null||l.memoizedState===null?z9:n4),o}function i1(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return xf(o);if(o.$$typeof===P)return ii(o)}throw Error(n(438,String(o)))}function G2(o){var l=null,d=Dt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=Dt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=n1(),Dt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(o),p=0;p<o;p++)d[p]=$;return l.index++,d}function Co(o,l){return typeof l=="function"?l(o):l}function a1(o){var l=xn();return K2(l,Ar,o)}function K2(o,l,d){var p=o.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var b=o.baseQueue,w=p.pending;if(w!==null){if(b!==null){var L=b.next;b.next=w.next,w.next=L}l.baseQueue=b=w,p.pending=null}if(w=o.baseState,b===null)o.memoizedState=w;else{l=b.next;var H=L=null,ae=null,xe=l,Ee=!1;do{var Re=xe.lane&-536870913;if(Re!==xe.lane?(Yt&Re)===Re:(ko&Re)===Re){var _e=xe.revertLane;if(_e===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,gesture:null,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),Re===Z0&&(Ee=!0);else if((ko&_e)===_e){xe=xe.next,_e===Z0&&(Ee=!0);continue}else Re={lane:0,revertLane:xe.revertLane,gesture:null,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ae===null?(H=ae=Re,L=w):ae=ae.next=Re,Dt.lanes|=_e,Yl|=_e;Re=xe.action,xu&&d(w,Re),w=xe.hasEagerState?xe.eagerState:d(w,Re)}else _e={lane:Re,revertLane:xe.revertLane,gesture:xe.gesture,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ae===null?(H=ae=_e,L=w):ae=ae.next=_e,Dt.lanes|=Re,Yl|=Re;xe=xe.next}while(xe!==null&&xe!==l);if(ae===null?L=w:ae.next=H,!ga(w,o.memoizedState)&&(En=!0,Ee&&(d=J0,d!==null)))throw d;o.memoizedState=w,o.baseState=L,o.baseQueue=ae,p.lastRenderedState=w}return b===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function W2(o){var l=xn(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var p=d.dispatch,b=d.pending,w=l.memoizedState;if(b!==null){d.pending=null;var L=b=b.next;do w=o(w,L.action),L=L.next;while(L!==b);ga(w,l.memoizedState)||(En=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,p]}function s9(o,l,d){var p=Dt,b=xn(),w=tr;if(w){if(d===void 0)throw Error(n(407));d=d()}else d=l();var L=!ga((Ar||b).memoizedState,d);if(L&&(b.memoizedState=d,En=!0),b=b.queue,Q2(c9.bind(null,p,b,o),[o]),b.getSnapshot!==l||L||An!==null&&An.memoizedState.tag&1){if(p.flags|=2048,ah(9,{destroy:void 0},l9.bind(null,p,b,d,l),null),Rr===null)throw Error(n(349));w||(ko&127)!==0||o9(p,l,d)}return d}function o9(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Dt.updateQueue,l===null?(l=n1(),Dt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function l9(o,l,d,p){l.value=d,l.getSnapshot=p,u9(l)&&h9(o)}function c9(o,l,d){return d(function(){u9(l)&&h9(o)})}function u9(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!ga(o,d)}catch{return!0}}function h9(o){var l=hu(o,2);l!==null&&ra(l,o,2)}function X2(o){var l=Ri();if(typeof o=="function"){var d=o;if(o=d(),xu){ln(!0);try{d()}finally{ln(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:o},l}function d9(o,l,d,p){return o.baseState=d,K2(o,Ar,typeof p=="function"?p:Co)}function FK(o,l,d,p,b){if(l1(o))throw Error(n(485));if(o=l.action,o!==null){var w={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){w.listeners.push(L)}};K.T!==null?d(!0):w.isTransition=!1,p(w),d=l.pending,d===null?(w.next=l.pending=w,f9(l,w)):(w.next=d.next,l.pending=d.next=w)}}function f9(o,l){var d=l.action,p=l.payload,b=o.state;if(l.isTransition){var w=K.T,L={};K.T=L;try{var H=d(b,p),ae=K.S;ae!==null&&ae(L,H),m9(o,l,H)}catch(xe){Y2(o,l,xe)}finally{w!==null&&L.types!==null&&(w.types=L.types),K.T=w}}else try{w=d(b,p),m9(o,l,w)}catch(xe){Y2(o,l,xe)}}function m9(o,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){p9(o,l,p)},function(p){return Y2(o,l,p)}):p9(o,l,d)}function p9(o,l,d){l.status="fulfilled",l.value=d,g9(l),o.state=d,l=o.pending,l!==null&&(d=l.next,d===l?o.pending=null:(d=d.next,l.next=d,f9(o,d)))}function Y2(o,l,d){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,g9(l),l=l.next;while(l!==p)}o.action=null}function g9(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function y9(o,l){return l}function v9(o,l){if(tr){var d=Rr.formState;if(d!==null){e:{var p=Dt;if(tr){if(Fr){t:{for(var b=Fr,w=Ga;b.nodeType!==8;){if(!w){b=null;break t}if(b=Wa(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){Fr=Wa(b.nextSibling),p=b.data==="F!";break e}}Vl(p)}p=!1}p&&(l=d[0])}}return d=Ri(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y9,lastRenderedState:l},d.queue=p,d=L9.bind(null,Dt,p),p.dispatch=d,p=X2(!1),w=r4.bind(null,Dt,!1,p.queue),p=Ri(),b={state:l,dispatch:null,action:o,pending:null},p.queue=b,d=FK.bind(null,Dt,b,w,d),b.dispatch=d,p.memoizedState=o,[l,d,!1]}function b9(o){var l=xn();return x9(l,Ar,o)}function x9(o,l,d){if(l=K2(o,l,y9)[0],o=a1(Co)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=xf(l)}catch(L){throw L===eh?Xg:L}else p=l;l=xn();var b=l.queue,w=b.dispatch;return d!==l.memoizedState&&(Dt.flags|=2048,ah(9,{destroy:void 0},qK.bind(null,b,d),null)),[p,w,o]}function qK(o,l){o.action=l}function w9(o){var l=xn(),d=Ar;if(d!==null)return x9(l,d,o);xn(),l=l.memoizedState,d=xn();var p=d.queue.dispatch;return d.memoizedState=o,[l,p,!1]}function ah(o,l,d,p){return o={tag:o,create:d,deps:p,inst:l,next:null},l=Dt.updateQueue,l===null&&(l=n1(),Dt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=o.next=o:(p=d.next,d.next=o,o.next=p,l.lastEffect=o),o}function _9(){return xn().memoizedState}function s1(o,l,d,p){var b=Ri();Dt.flags|=o,b.memoizedState=ah(1|l,{destroy:void 0},d,p===void 0?null:p)}function o1(o,l,d,p){var b=xn();p=p===void 0?null:p;var w=b.memoizedState.inst;Ar!==null&&p!==null&&V2(p,Ar.memoizedState.deps)?b.memoizedState=ah(l,w,d,p):(Dt.flags|=o,b.memoizedState=ah(1|l,w,d,p))}function S9(o,l){s1(8390656,8,o,l)}function Q2(o,l){o1(2048,8,o,l)}function HK(o){Dt.flags|=4;var l=Dt.updateQueue;if(l===null)l=n1(),Dt.updateQueue=l,l.events=[o];else{var d=l.events;d===null?l.events=[o]:d.push(o)}}function T9(o){var l=xn().memoizedState;return HK({ref:l,nextImpl:o}),function(){if((fr&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function A9(o,l){return o1(4,2,o,l)}function E9(o,l){return o1(4,4,o,l)}function N9(o,l){if(typeof l=="function"){o=o();var d=l(o);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function O9(o,l,d){d=d!=null?d.concat([o]):null,o1(4,4,N9.bind(null,l,o),d)}function Z2(){}function k9(o,l){var d=xn();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&V2(l,p[1])?p[0]:(d.memoizedState=[o,l],o)}function C9(o,l){var d=xn();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&V2(l,p[1]))return p[0];if(p=o(),xu){ln(!0);try{o()}finally{ln(!1)}}return d.memoizedState=[p,l],p}function J2(o,l,d){return d===void 0||(ko&1073741824)!==0&&(Yt&261930)===0?o.memoizedState=l:(o.memoizedState=d,o=IN(),Dt.lanes|=o,Yl|=o,d)}function I9(o,l,d,p){return ga(d,l)?d:rh.current!==null?(o=J2(o,d,p),ga(o,l)||(En=!0),o):(ko&42)===0||(ko&1073741824)!==0&&(Yt&261930)===0?(En=!0,o.memoizedState=d):(o=IN(),Dt.lanes|=o,Yl|=o,l)}function j9(o,l,d,p,b){var w=J.p;J.p=w!==0&&8>w?w:8;var L=K.T,H={};K.T=H,r4(o,!1,l,d);try{var ae=b(),xe=K.S;if(xe!==null&&xe(H,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var Ee=zK(ae,p);wf(o,l,Ee,_a(o))}else wf(o,l,p,_a(o))}catch(Re){wf(o,l,{then:function(){},status:"rejected",reason:Re},_a())}finally{J.p=w,L!==null&&H.types!==null&&(L.types=H.types),K.T=L}}function GK(){}function e4(o,l,d,p){if(o.tag!==5)throw Error(n(476));var b=R9(o).queue;j9(o,b,l,Q,d===null?GK:function(){return M9(o),d(p)})}function R9(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:Q},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:d},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function M9(o){var l=R9(o);l.next===null&&(l=o.alternate.memoizedState),wf(o,l.next.queue,{},_a())}function t4(){return ii(Bf)}function P9(){return xn().memoizedState}function D9(){return xn().memoizedState}function KK(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var d=_a();o=ql(d);var p=Hl(l,o,d);p!==null&&(ra(p,l,d),gf(p,l,d)),l={cache:C2()},o.payload=l;return}l=l.return}}function WK(o,l,d){var p=_a();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},l1(o)?B9(l,d):(d=b2(o,l,d,p),d!==null&&(ra(d,o,p),U9(d,l,p)))}function L9(o,l,d){var p=_a();wf(o,l,d,p)}function wf(o,l,d,p){var b={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(l1(o))B9(l,b);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var L=l.lastRenderedState,H=w(L,d);if(b.hasEagerState=!0,b.eagerState=H,ga(H,L))return $g(o,l,b,0),Rr===null&&Vg(),!1}catch{}finally{}if(d=b2(o,l,b,p),d!==null)return ra(d,o,p),U9(d,l,p),!0}return!1}function r4(o,l,d,p){if(p={lane:2,revertLane:M4(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},l1(o)){if(l)throw Error(n(479))}else l=b2(o,d,p,2),l!==null&&ra(l,o,2)}function l1(o){var l=o.alternate;return o===Dt||l!==null&&l===Dt}function B9(o,l){nh=t1=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function U9(o,l,d){if((d&4194048)!==0){var p=l.lanes;p&=o.pendingLanes,d|=p,l.lanes=d,pi(o,d)}}var _f={readContext:ii,use:i1,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};_f.useEffectEvent=un;var z9={readContext:ii,use:i1,useCallback:function(o,l){return Ri().memoizedState=[o,l===void 0?null:l],o},useContext:ii,useEffect:S9,useImperativeHandle:function(o,l,d){d=d!=null?d.concat([o]):null,s1(4194308,4,N9.bind(null,l,o),d)},useLayoutEffect:function(o,l){return s1(4194308,4,o,l)},useInsertionEffect:function(o,l){s1(4,2,o,l)},useMemo:function(o,l){var d=Ri();l=l===void 0?null:l;var p=o();if(xu){ln(!0);try{o()}finally{ln(!1)}}return d.memoizedState=[p,l],p},useReducer:function(o,l,d){var p=Ri();if(d!==void 0){var b=d(l);if(xu){ln(!0);try{d(l)}finally{ln(!1)}}}else b=l;return p.memoizedState=p.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},p.queue=o,o=o.dispatch=WK.bind(null,Dt,o),[p.memoizedState,o]},useRef:function(o){var l=Ri();return o={current:o},l.memoizedState=o},useState:function(o){o=X2(o);var l=o.queue,d=L9.bind(null,Dt,l);return l.dispatch=d,[o.memoizedState,d]},useDebugValue:Z2,useDeferredValue:function(o,l){var d=Ri();return J2(d,o,l)},useTransition:function(){var o=X2(!1);return o=j9.bind(null,Dt,o.queue,!0,!1),Ri().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,d){var p=Dt,b=Ri();if(tr){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),Rr===null)throw Error(n(349));(Yt&127)!==0||o9(p,l,d)}b.memoizedState=d;var w={value:d,getSnapshot:l};return b.queue=w,S9(c9.bind(null,p,w,o),[o]),p.flags|=2048,ah(9,{destroy:void 0},l9.bind(null,p,w,d,l),null),d},useId:function(){var o=Ri(),l=Rr.identifierPrefix;if(tr){var d=qs,p=Fs;d=(p&~(1<<32-pr(p)-1)).toString(32)+d,l="_"+l+"R_"+d,d=r1++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=VK++,l="_"+l+"r_"+d.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:t4,useFormState:v9,useActionState:v9,useOptimistic:function(o){var l=Ri();l.memoizedState=l.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=r4.bind(null,Dt,!0,d),d.dispatch=l,[o,l]},useMemoCache:G2,useCacheRefresh:function(){return Ri().memoizedState=KK.bind(null,Dt)},useEffectEvent:function(o){var l=Ri(),d={impl:o};return l.memoizedState=d,function(){if((fr&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},n4={readContext:ii,use:i1,useCallback:k9,useContext:ii,useEffect:Q2,useImperativeHandle:O9,useInsertionEffect:A9,useLayoutEffect:E9,useMemo:C9,useReducer:a1,useRef:_9,useState:function(){return a1(Co)},useDebugValue:Z2,useDeferredValue:function(o,l){var d=xn();return I9(d,Ar.memoizedState,o,l)},useTransition:function(){var o=a1(Co)[0],l=xn().memoizedState;return[typeof o=="boolean"?o:xf(o),l]},useSyncExternalStore:s9,useId:P9,useHostTransitionStatus:t4,useFormState:b9,useActionState:b9,useOptimistic:function(o,l){var d=xn();return d9(d,Ar,o,l)},useMemoCache:G2,useCacheRefresh:D9};n4.useEffectEvent=T9;var V9={readContext:ii,use:i1,useCallback:k9,useContext:ii,useEffect:Q2,useImperativeHandle:O9,useInsertionEffect:A9,useLayoutEffect:E9,useMemo:C9,useReducer:W2,useRef:_9,useState:function(){return W2(Co)},useDebugValue:Z2,useDeferredValue:function(o,l){var d=xn();return Ar===null?J2(d,o,l):I9(d,Ar.memoizedState,o,l)},useTransition:function(){var o=W2(Co)[0],l=xn().memoizedState;return[typeof o=="boolean"?o:xf(o),l]},useSyncExternalStore:s9,useId:P9,useHostTransitionStatus:t4,useFormState:w9,useActionState:w9,useOptimistic:function(o,l){var d=xn();return Ar!==null?d9(d,Ar,o,l):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:G2,useCacheRefresh:D9};V9.useEffectEvent=T9;function i4(o,l,d,p){l=o.memoizedState,d=d(p,l),d=d==null?l:g({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var a4={enqueueSetState:function(o,l,d){o=o._reactInternals;var p=_a(),b=ql(p);b.payload=l,d!=null&&(b.callback=d),l=Hl(o,b,p),l!==null&&(ra(l,o,p),gf(l,o,p))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var p=_a(),b=ql(p);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=Hl(o,b,p),l!==null&&(ra(l,o,p),gf(l,o,p))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=_a(),p=ql(d);p.tag=2,l!=null&&(p.callback=l),l=Hl(o,p,d),l!==null&&(ra(l,o,d),gf(l,o,d))}};function $9(o,l,d,p,b,w,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,L):l.prototype&&l.prototype.isPureReactComponent?!lf(d,p)||!lf(b,w):!0}function F9(o,l,d,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==o&&a4.enqueueReplaceState(l,l.state,null)}function wu(o,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(o=o.defaultProps){d===l&&(d=g({},d));for(var b in o)d[b]===void 0&&(d[b]=o[b])}return d}function q9(o){zg(o)}function H9(o){console.error(o)}function G9(o){zg(o)}function c1(o,l){try{var d=o.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function K9(o,l,d){try{var p=o.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function s4(o,l,d){return d=ql(d),d.tag=3,d.payload={element:null},d.callback=function(){c1(o,l)},d}function W9(o){return o=ql(o),o.tag=3,o}function X9(o,l,d,p){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var w=p.value;o.payload=function(){return b(w)},o.callback=function(){K9(l,d,p)}}var L=d.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(o.callback=function(){K9(l,d,p),typeof b!="function"&&(Ql===null?Ql=new Set([this]):Ql.add(this));var H=p.stack;this.componentDidCatch(p.value,{componentStack:H!==null?H:""})})}function XK(o,l,d,p,b){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&Q0(l,d,b,!0),d=va.current,d!==null){switch(d.tag){case 31:case 13:return Ka===null?w1():d.alternate===null&&hn===0&&(hn=3),d.flags&=-257,d.flags|=65536,d.lanes=b,p===Yg?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),I4(o,p,b)),!1;case 22:return d.flags|=65536,p===Yg?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),I4(o,p,b)),!1}throw Error(n(435,d.tag))}return I4(o,p,b),w1(),!1}if(tr)return l=va.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,p!==A2&&(o=Error(n(422),{cause:p}),hf(Fa(o,d)))):(p!==A2&&(l=Error(n(423),{cause:p}),hf(Fa(l,d))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,p=Fa(p,d),b=s4(o.stateNode,p,b),D2(o,b),hn!==4&&(hn=2)),!1;var w=Error(n(520),{cause:p});if(w=Fa(w,d),Cf===null?Cf=[w]:Cf.push(w),hn!==4&&(hn=2),l===null)return!0;p=Fa(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,o=b&-b,d.lanes|=o,o=s4(d.stateNode,p,o),D2(d,o),!1;case 1:if(l=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ql===null||!Ql.has(w))))return d.flags|=65536,b&=-b,d.lanes|=b,b=W9(b),X9(b,o,d,p),D2(d,b),!1}d=d.return}while(d!==null);return!1}var o4=Error(n(461)),En=!1;function ai(o,l,d,p){l.child=o===null?JE(l,null,d,p):bu(l,o.child,d,p)}function Y9(o,l,d,p,b){d=d.render;var w=l.ref;if("ref"in p){var L={};for(var H in p)H!=="ref"&&(L[H]=p[H])}else L=p;return pu(l),p=$2(o,l,d,L,w,b),H=F2(),o!==null&&!En?(q2(o,l,b),Io(o,l,b)):(tr&&H&&S2(l),l.flags|=1,ai(o,l,p,b),l.child)}function Q9(o,l,d,p,b){if(o===null){var w=d.type;return typeof w=="function"&&!x2(w)&&w.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=w,Z9(o,l,w,p,b)):(o=qg(d.type,null,p,l,l.mode,b),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,!p4(o,b)){var L=w.memoizedProps;if(d=d.compare,d=d!==null?d:lf,d(L,p)&&o.ref===l.ref)return Io(o,l,b)}return l.flags|=1,o=Ao(w,p),o.ref=l.ref,o.return=l,l.child=o}function Z9(o,l,d,p,b){if(o!==null){var w=o.memoizedProps;if(lf(w,p)&&o.ref===l.ref)if(En=!1,l.pendingProps=p=w,p4(o,b))(o.flags&131072)!==0&&(En=!0);else return l.lanes=o.lanes,Io(o,l,b)}return l4(o,l,d,p,b)}function J9(o,l,d,p){var b=p.children,w=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(w=w!==null?w.baseLanes|d:d,o!==null){for(p=l.child=o.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~w}else p=0,l.child=null;return eN(o,l,w,d,p)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Wg(l,w!==null?w.cachePool:null),w!==null?r9(l,w):B2(),n9(l);else return p=l.lanes=536870912,eN(o,l,w!==null?w.baseLanes|d:d,d,p)}else w!==null?(Wg(l,w.cachePool),r9(l,w),Kl(),l.memoizedState=null):(o!==null&&Wg(l,null),B2(),Kl());return ai(o,l,b,d),l.child}function Sf(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function eN(o,l,d,p,b){var w=j2();return w=w===null?null:{parent:Tn._currentValue,pool:w},l.memoizedState={baseLanes:d,cachePool:w},o!==null&&Wg(l,null),B2(),n9(l),o!==null&&Q0(o,l,p,!0),l.childLanes=b,null}function u1(o,l){return l=d1({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function tN(o,l,d){return bu(l,o.child,null,d),o=u1(l,l.pendingProps),o.flags|=2,ba(l),l.memoizedState=null,o}function YK(o,l,d){var p=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(tr){if(p.mode==="hidden")return o=u1(l,p),l.lanes=536870912,Sf(null,o);if(z2(l),(o=Fr)?(o=fO(o,Ga),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Ul!==null?{id:Fs,overflow:qs}:null,retryLane:536870912,hydrationErrors:null},d=BE(o),d.return=l,l.child=d,ni=l,Fr=null)):o=null,o===null)throw Vl(l);return l.lanes=536870912,null}return u1(l,p)}var w=o.memoizedState;if(w!==null){var L=w.dehydrated;if(z2(l),b)if(l.flags&256)l.flags&=-257,l=tN(o,l,d);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(n(558));else if(En||Q0(o,l,d,!1),b=(d&o.childLanes)!==0,En||b){if(p=Rr,p!==null&&(L=ki(p,d),L!==0&&L!==w.retryLane))throw w.retryLane=L,hu(o,L),ra(p,o,L),o4;w1(),l=tN(o,l,d)}else o=w.treeContext,Fr=Wa(L.nextSibling),ni=l,tr=!0,zl=null,Ga=!1,o!==null&&VE(l,o),l=u1(l,p),l.flags|=4096;return l}return o=Ao(o.child,{mode:p.mode,children:p.children}),o.ref=l.ref,l.child=o,o.return=l,o}function h1(o,l){var d=l.ref;if(d===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(o===null||o.ref!==d)&&(l.flags|=4194816)}}function l4(o,l,d,p,b){return pu(l),d=$2(o,l,d,p,void 0,b),p=F2(),o!==null&&!En?(q2(o,l,b),Io(o,l,b)):(tr&&p&&S2(l),l.flags|=1,ai(o,l,d,b),l.child)}function rN(o,l,d,p,b,w){return pu(l),l.updateQueue=null,d=a9(l,p,d,b),i9(o),p=F2(),o!==null&&!En?(q2(o,l,w),Io(o,l,w)):(tr&&p&&S2(l),l.flags|=1,ai(o,l,d,w),l.child)}function nN(o,l,d,p,b){if(pu(l),l.stateNode===null){var w=K0,L=d.contextType;typeof L=="object"&&L!==null&&(w=ii(L)),w=new d(p,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=a4,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=p,w.state=l.memoizedState,w.refs={},M2(l),L=d.contextType,w.context=typeof L=="object"&&L!==null?ii(L):K0,w.state=l.memoizedState,L=d.getDerivedStateFromProps,typeof L=="function"&&(i4(l,d,L,p),w.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(L=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),L!==w.state&&a4.enqueueReplaceState(w,w.state,null),vf(l,p,w,b),yf(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(o===null){w=l.stateNode;var H=l.memoizedProps,ae=wu(d,H);w.props=ae;var xe=w.context,Ee=d.contextType;L=K0,typeof Ee=="object"&&Ee!==null&&(L=ii(Ee));var Re=d.getDerivedStateFromProps;Ee=typeof Re=="function"||typeof w.getSnapshotBeforeUpdate=="function",H=l.pendingProps!==H,Ee||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(H||xe!==L)&&F9(l,w,p,L),Fl=!1;var _e=l.memoizedState;w.state=_e,vf(l,p,w,b),yf(),xe=l.memoizedState,H||_e!==xe||Fl?(typeof Re=="function"&&(i4(l,d,Re,p),xe=l.memoizedState),(ae=Fl||$9(l,d,ae,p,_e,xe,L))?(Ee||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=xe),w.props=p,w.state=xe,w.context=L,p=ae):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{w=l.stateNode,P2(o,l),L=l.memoizedProps,Ee=wu(d,L),w.props=Ee,Re=l.pendingProps,_e=w.context,xe=d.contextType,ae=K0,typeof xe=="object"&&xe!==null&&(ae=ii(xe)),H=d.getDerivedStateFromProps,(xe=typeof H=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L!==Re||_e!==ae)&&F9(l,w,p,ae),Fl=!1,_e=l.memoizedState,w.state=_e,vf(l,p,w,b),yf();var Se=l.memoizedState;L!==Re||_e!==Se||Fl||o!==null&&o.dependencies!==null&&Gg(o.dependencies)?(typeof H=="function"&&(i4(l,d,H,p),Se=l.memoizedState),(Ee=Fl||$9(l,d,Ee,p,_e,Se,ae)||o!==null&&o.dependencies!==null&&Gg(o.dependencies))?(xe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,Se,ae),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,Se,ae)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||L===o.memoizedProps&&_e===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&_e===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Se),w.props=p,w.state=Se,w.context=ae,p=Ee):(typeof w.componentDidUpdate!="function"||L===o.memoizedProps&&_e===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&_e===o.memoizedState||(l.flags|=1024),p=!1)}return w=p,h1(o,l),p=(l.flags&128)!==0,w||p?(w=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,o!==null&&p?(l.child=bu(l,o.child,null,b),l.child=bu(l,null,d,b)):ai(o,l,d,b),l.memoizedState=w.state,o=l.child):o=Io(o,l,b),o}function iN(o,l,d,p){return fu(),l.flags|=256,ai(o,l,d,p),l.child}var c4={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function u4(o){return{baseLanes:o,cachePool:KE()}}function h4(o,l,d){return o=o!==null?o.childLanes&~d:0,l&&(o|=wa),o}function aN(o,l,d){var p=l.pendingProps,b=!1,w=(l.flags&128)!==0,L;if((L=w)||(L=o!==null&&o.memoizedState===null?!1:(bn.current&2)!==0),L&&(b=!0,l.flags&=-129),L=(l.flags&32)!==0,l.flags&=-33,o===null){if(tr){if(b?Gl(l):Kl(),(o=Fr)?(o=fO(o,Ga),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Ul!==null?{id:Fs,overflow:qs}:null,retryLane:536870912,hydrationErrors:null},d=BE(o),d.return=l,l.child=d,ni=l,Fr=null)):o=null,o===null)throw Vl(l);return K4(o)?l.lanes=32:l.lanes=536870912,null}var H=p.children;return p=p.fallback,b?(Kl(),b=l.mode,H=d1({mode:"hidden",children:H},b),p=du(p,b,d,null),H.return=l,p.return=l,H.sibling=p,l.child=H,p=l.child,p.memoizedState=u4(d),p.childLanes=h4(o,L,d),l.memoizedState=c4,Sf(null,p)):(Gl(l),d4(l,H))}var ae=o.memoizedState;if(ae!==null&&(H=ae.dehydrated,H!==null)){if(w)l.flags&256?(Gl(l),l.flags&=-257,l=f4(o,l,d)):l.memoizedState!==null?(Kl(),l.child=o.child,l.flags|=128,l=null):(Kl(),H=p.fallback,b=l.mode,p=d1({mode:"visible",children:p.children},b),H=du(H,b,d,null),H.flags|=2,p.return=l,H.return=l,p.sibling=H,l.child=p,bu(l,o.child,null,d),p=l.child,p.memoizedState=u4(d),p.childLanes=h4(o,L,d),l.memoizedState=c4,l=Sf(null,p));else if(Gl(l),K4(H)){if(L=H.nextSibling&&H.nextSibling.dataset,L)var xe=L.dgst;L=xe,p=Error(n(419)),p.stack="",p.digest=L,hf({value:p,source:null,stack:null}),l=f4(o,l,d)}else if(En||Q0(o,l,d,!1),L=(d&o.childLanes)!==0,En||L){if(L=Rr,L!==null&&(p=ki(L,d),p!==0&&p!==ae.retryLane))throw ae.retryLane=p,hu(o,p),ra(L,o,p),o4;G4(H)||w1(),l=f4(o,l,d)}else G4(H)?(l.flags|=192,l.child=o.child,l=null):(o=ae.treeContext,Fr=Wa(H.nextSibling),ni=l,tr=!0,zl=null,Ga=!1,o!==null&&VE(l,o),l=d4(l,p.children),l.flags|=4096);return l}return b?(Kl(),H=p.fallback,b=l.mode,ae=o.child,xe=ae.sibling,p=Ao(ae,{mode:"hidden",children:p.children}),p.subtreeFlags=ae.subtreeFlags&65011712,xe!==null?H=Ao(xe,H):(H=du(H,b,d,null),H.flags|=2),H.return=l,p.return=l,p.sibling=H,l.child=p,Sf(null,p),p=l.child,H=o.child.memoizedState,H===null?H=u4(d):(b=H.cachePool,b!==null?(ae=Tn._currentValue,b=b.parent!==ae?{parent:ae,pool:ae}:b):b=KE(),H={baseLanes:H.baseLanes|d,cachePool:b}),p.memoizedState=H,p.childLanes=h4(o,L,d),l.memoizedState=c4,Sf(o.child,p)):(Gl(l),d=o.child,o=d.sibling,d=Ao(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,o!==null&&(L=l.deletions,L===null?(l.deletions=[o],l.flags|=16):L.push(o)),l.child=d,l.memoizedState=null,d)}function d4(o,l){return l=d1({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function d1(o,l){return o=ya(22,o,null,l),o.lanes=0,o}function f4(o,l,d){return bu(l,o.child,null,d),o=d4(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function sN(o,l,d){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),O2(o.return,l,d)}function m4(o,l,d,p,b,w){var L=o.memoizedState;L===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:b,treeForkCount:w}:(L.isBackwards=l,L.rendering=null,L.renderingStartTime=0,L.last=p,L.tail=d,L.tailMode=b,L.treeForkCount=w)}function oN(o,l,d){var p=l.pendingProps,b=p.revealOrder,w=p.tail;p=p.children;var L=bn.current,H=(L&2)!==0;if(H?(L=L&1|2,l.flags|=128):L&=1,ue(bn,L),ai(o,l,p,d),p=tr?uf:0,!H&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&sN(o,d,l);else if(o.tag===19)sN(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(b){case"forwards":for(d=l.child,b=null;d!==null;)o=d.alternate,o!==null&&e1(o)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),m4(l,!1,b,d,w,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(o=b.alternate,o!==null&&e1(o)===null){l.child=b;break}o=b.sibling,b.sibling=d,d=b,b=o}m4(l,!0,d,null,w,p);break;case"together":m4(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function Io(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Yl|=l.lanes,(d&l.childLanes)===0)if(o!==null){if(Q0(o,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,d=Ao(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Ao(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function p4(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Gg(o)))}function QK(o,l,d){switch(l.tag){case 3:et(l,l.stateNode.containerInfo),$l(l,Tn,o.memoizedState.cache),fu();break;case 27:case 5:qe(l);break;case 4:et(l,l.stateNode.containerInfo);break;case 10:$l(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,z2(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Gl(l),l.flags|=128,null):(d&l.child.childLanes)!==0?aN(o,l,d):(Gl(l),o=Io(o,l,d),o!==null?o.sibling:null);Gl(l);break;case 19:var b=(o.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(Q0(o,l,d,!1),p=(d&l.childLanes)!==0),b){if(p)return oN(o,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ue(bn,bn.current),p)break;return null;case 22:return l.lanes=0,J9(o,l,d,l.pendingProps);case 24:$l(l,Tn,o.memoizedState.cache)}return Io(o,l,d)}function lN(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps)En=!0;else{if(!p4(o,d)&&(l.flags&128)===0)return En=!1,QK(o,l,d);En=(o.flags&131072)!==0}else En=!1,tr&&(l.flags&1048576)!==0&&zE(l,uf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(o=yu(l.elementType),l.type=o,typeof o=="function")x2(o)?(p=wu(o,p),l.tag=1,l=nN(null,l,o,p,d)):(l.tag=0,l=l4(null,l,o,p,d));else{if(o!=null){var b=o.$$typeof;if(b===V){l.tag=11,l=Y9(null,l,o,p,d);break e}else if(b===A){l.tag=14,l=Q9(null,l,o,p,d);break e}}throw l=Y(o)||o,Error(n(306,l,""))}}return l;case 0:return l4(o,l,l.type,l.pendingProps,d);case 1:return p=l.type,b=wu(p,l.pendingProps),nN(o,l,p,b,d);case 3:e:{if(et(l,l.stateNode.containerInfo),o===null)throw Error(n(387));p=l.pendingProps;var w=l.memoizedState;b=w.element,P2(o,l),vf(l,p,null,d);var L=l.memoizedState;if(p=L.cache,$l(l,Tn,p),p!==w.cache&&k2(l,[Tn],d,!0),yf(),p=L.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:L.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=iN(o,l,p,d);break e}else if(p!==b){b=Fa(Error(n(424)),l),hf(b),l=iN(o,l,p,d);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Fr=Wa(o.firstChild),ni=l,tr=!0,zl=null,Ga=!0,d=JE(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(fu(),p===b){l=Io(o,l,d);break e}ai(o,l,p,d)}l=l.child}return l;case 26:return h1(o,l),o===null?(d=bO(l.type,null,l.pendingProps,null))?l.memoizedState=d:tr||(d=l.type,o=l.pendingProps,p=O1(ke.current).createElement(d),p[mt]=l,p[zt]=o,si(p,d,o),Xt(p),l.stateNode=p):l.memoizedState=bO(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return qe(l),o===null&&tr&&(p=l.stateNode=gO(l.type,l.pendingProps,ke.current),ni=l,Ga=!0,b=Fr,tc(l.type)?(W4=b,Fr=Wa(p.firstChild)):Fr=b),ai(o,l,l.pendingProps.children,d),h1(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&tr&&((b=p=Fr)&&(p=NW(p,l.type,l.pendingProps,Ga),p!==null?(l.stateNode=p,ni=l,Fr=Wa(p.firstChild),Ga=!1,b=!0):b=!1),b||Vl(l)),qe(l),b=l.type,w=l.pendingProps,L=o!==null?o.memoizedProps:null,p=w.children,F4(b,w)?p=null:L!==null&&F4(b,L)&&(l.flags|=32),l.memoizedState!==null&&(b=$2(o,l,$K,null,null,d),Bf._currentValue=b),h1(o,l),ai(o,l,p,d),l.child;case 6:return o===null&&tr&&((o=d=Fr)&&(d=OW(d,l.pendingProps,Ga),d!==null?(l.stateNode=d,ni=l,Fr=null,o=!0):o=!1),o||Vl(l)),null;case 13:return aN(o,l,d);case 4:return et(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=bu(l,null,p,d):ai(o,l,p,d),l.child;case 11:return Y9(o,l,l.type,l.pendingProps,d);case 7:return ai(o,l,l.pendingProps,d),l.child;case 8:return ai(o,l,l.pendingProps.children,d),l.child;case 12:return ai(o,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,$l(l,l.type,p.value),ai(o,l,p.children,d),l.child;case 9:return b=l.type._context,p=l.pendingProps.children,pu(l),b=ii(b),p=p(b),l.flags|=1,ai(o,l,p,d),l.child;case 14:return Q9(o,l,l.type,l.pendingProps,d);case 15:return Z9(o,l,l.type,l.pendingProps,d);case 19:return oN(o,l,d);case 31:return YK(o,l,d);case 22:return J9(o,l,d,l.pendingProps);case 24:return pu(l),p=ii(Tn),o===null?(b=j2(),b===null&&(b=Rr,w=C2(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=d),b=w),l.memoizedState={parent:p,cache:b},M2(l),$l(l,Tn,b)):((o.lanes&d)!==0&&(P2(o,l),vf(l,null,null,d),yf()),b=o.memoizedState,w=l.memoizedState,b.parent!==p?(b={parent:p,cache:p},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),$l(l,Tn,p)):(p=w.cache,$l(l,Tn,p),p!==b.cache&&k2(l,[Tn],d,!0))),ai(o,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function jo(o){o.flags|=4}function g4(o,l,d,p,b){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(b&335544128)===b)if(o.stateNode.complete)o.flags|=8192;else if(PN())o.flags|=8192;else throw vu=Yg,R2}else o.flags&=-16777217}function cN(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!TO(l))if(PN())o.flags|=8192;else throw vu=Yg,R2}function f1(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?ps():536870912,o.lanes|=l,ch|=l)}function Tf(o,l){if(!tr)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function qr(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,p=0;if(l)for(var b=o.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=p,o.childLanes=d,l}function ZK(o,l,d){var p=l.pendingProps;switch(T2(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(l),null;case 1:return qr(l),null;case 3:return d=l.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Oo(Tn),Ae(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Y0(l)?jo(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,E2())),qr(l),null;case 26:var b=l.type,w=l.memoizedState;return o===null?(jo(l),w!==null?(qr(l),cN(l,w)):(qr(l),g4(l,b,null,p,d))):w?w!==o.memoizedState?(jo(l),qr(l),cN(l,w)):(qr(l),l.flags&=-16777217):(o=o.memoizedProps,o!==p&&jo(l),qr(l),g4(l,b,o,p,d)),null;case 27:if(he(l),d=ke.current,b=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&jo(l);else{if(!p){if(l.stateNode===null)throw Error(n(166));return qr(l),null}o=Oe.current,Y0(l)?$E(l):(o=gO(b,p,d),l.stateNode=o,jo(l))}return qr(l),null;case 5:if(he(l),b=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&jo(l);else{if(!p){if(l.stateNode===null)throw Error(n(166));return qr(l),null}if(w=Oe.current,Y0(l))$E(l);else{var L=O1(ke.current);switch(w){case 1:w=L.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=L.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=L.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=L.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=L.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?L.createElement("select",{is:p.is}):L.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?L.createElement(b,{is:p.is}):L.createElement(b)}}w[mt]=l,w[zt]=p;e:for(L=l.child;L!==null;){if(L.tag===5||L.tag===6)w.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===l)break e;for(;L.sibling===null;){if(L.return===null||L.return===l)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}l.stateNode=w;e:switch(si(w,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&jo(l)}}return qr(l),g4(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,d),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==p&&jo(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(o=ke.current,Y0(l)){if(o=l.stateNode,d=l.memoizedProps,p=null,b=ni,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}o[mt]=l,o=!!(o.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||aO(o.nodeValue,d)),o||Vl(l,!0)}else o=O1(o).createTextNode(p),o[mt]=l,l.stateNode=o}return qr(l),null;case 31:if(d=l.memoizedState,o===null||o.memoizedState!==null){if(p=Y0(l),d!==null){if(o===null){if(!p)throw Error(n(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[mt]=l}else fu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;qr(l),o=!1}else d=E2(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return l.flags&256?(ba(l),l):(ba(l),null);if((l.flags&128)!==0)throw Error(n(558))}return qr(l),null;case 13:if(p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=Y0(l),p!==null&&p.dehydrated!==null){if(o===null){if(!b)throw Error(n(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[mt]=l}else fu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;qr(l),b=!1}else b=E2(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(ba(l),l):(ba(l),null)}return ba(l),(l.flags&128)!==0?(l.lanes=d,l):(d=p!==null,o=o!==null&&o.memoizedState!==null,d&&(p=l.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==b&&(p.flags|=2048)),d!==o&&d&&(l.child.flags|=8192),f1(l,l.updateQueue),qr(l),null);case 4:return Ae(),o===null&&B4(l.stateNode.containerInfo),qr(l),null;case 10:return Oo(l.type),qr(l),null;case 19:if(Z(bn),p=l.memoizedState,p===null)return qr(l),null;if(b=(l.flags&128)!==0,w=p.rendering,w===null)if(b)Tf(p,!1);else{if(hn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(w=e1(o),w!==null){for(l.flags|=128,Tf(p,!1),o=w.updateQueue,l.updateQueue=o,f1(l,o),l.subtreeFlags=0,o=d,d=l.child;d!==null;)LE(d,o),d=d.sibling;return ue(bn,bn.current&1|2),tr&&Eo(l,p.treeForkCount),l.child}o=o.sibling}p.tail!==null&&vt()>v1&&(l.flags|=128,b=!0,Tf(p,!1),l.lanes=4194304)}else{if(!b)if(o=e1(w),o!==null){if(l.flags|=128,b=!0,o=o.updateQueue,l.updateQueue=o,f1(l,o),Tf(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!tr)return qr(l),null}else 2*vt()-p.renderingStartTime>v1&&d!==536870912&&(l.flags|=128,b=!0,Tf(p,!1),l.lanes=4194304);p.isBackwards?(w.sibling=l.child,l.child=w):(o=p.last,o!==null?o.sibling=w:l.child=w,p.last=w)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=vt(),o.sibling=null,d=bn.current,ue(bn,b?d&1|2:d&1),tr&&Eo(l,p.treeForkCount),o):(qr(l),null);case 22:case 23:return ba(l),U2(),p=l.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(qr(l),l.subtreeFlags&6&&(l.flags|=8192)):qr(l),d=l.updateQueue,d!==null&&f1(l,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),o!==null&&Z(gu),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Oo(Tn),qr(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function JK(o,l){switch(T2(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Oo(Tn),Ae(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return he(l),null;case 31:if(l.memoizedState!==null){if(ba(l),l.alternate===null)throw Error(n(340));fu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(ba(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));fu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Z(bn),null;case 4:return Ae(),null;case 10:return Oo(l.type),null;case 22:case 23:return ba(l),U2(),o!==null&&Z(gu),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Oo(Tn),null;case 25:return null;default:return null}}function uN(o,l){switch(T2(l),l.tag){case 3:Oo(Tn),Ae();break;case 26:case 27:case 5:he(l);break;case 4:Ae();break;case 31:l.memoizedState!==null&&ba(l);break;case 13:ba(l);break;case 19:Z(bn);break;case 10:Oo(l.type);break;case 22:case 23:ba(l),U2(),o!==null&&Z(gu);break;case 24:Oo(Tn)}}function Af(o,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&o)===o){p=void 0;var w=d.create,L=d.inst;p=w(),L.destroy=p}d=d.next}while(d!==b)}}catch(H){Sr(l,l.return,H)}}function Wl(o,l,d){try{var p=l.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var w=b.next;p=w;do{if((p.tag&o)===o){var L=p.inst,H=L.destroy;if(H!==void 0){L.destroy=void 0,b=l;var ae=d,xe=H;try{xe()}catch(Ee){Sr(b,ae,Ee)}}}p=p.next}while(p!==w)}}catch(Ee){Sr(l,l.return,Ee)}}function hN(o){var l=o.updateQueue;if(l!==null){var d=o.stateNode;try{t9(l,d)}catch(p){Sr(o,o.return,p)}}}function dN(o,l,d){d.props=wu(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(p){Sr(o,l,p)}}function Ef(o,l){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof d=="function"?o.refCleanup=d(p):d.current=p}}catch(b){Sr(o,l,b)}}function Hs(o,l){var d=o.ref,p=o.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(b){Sr(o,l,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){Sr(o,l,b)}else d.current=null}function fN(o){var l=o.type,d=o.memoizedProps,p=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(b){Sr(o,o.return,b)}}function y4(o,l,d){try{var p=o.stateNode;wW(p,o.type,d,l),p[zt]=l}catch(b){Sr(o,o.return,b)}}function mN(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&tc(o.type)||o.tag===4}function v4(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||mN(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&tc(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function b4(o,l,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(o),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Gn));else if(p!==4&&(p===27&&tc(o.type)&&(d=o.stateNode,l=null),o=o.child,o!==null))for(b4(o,l,d),o=o.sibling;o!==null;)b4(o,l,d),o=o.sibling}function m1(o,l,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(p!==4&&(p===27&&tc(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(m1(o,l,d),o=o.sibling;o!==null;)m1(o,l,d),o=o.sibling}function pN(o){var l=o.stateNode,d=o.memoizedProps;try{for(var p=o.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);si(l,p,d),l[mt]=o,l[zt]=d}catch(w){Sr(o,o.return,w)}}var Ro=!1,Nn=!1,x4=!1,gN=typeof WeakSet=="function"?WeakSet:Set,Xn=null;function eW(o,l){if(o=o.containerInfo,V4=P1,o=OE(o),f2(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var b=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var L=0,H=-1,ae=-1,xe=0,Ee=0,Re=o,_e=null;t:for(;;){for(var Se;Re!==d||b!==0&&Re.nodeType!==3||(H=L+b),Re!==w||p!==0&&Re.nodeType!==3||(ae=L+p),Re.nodeType===3&&(L+=Re.nodeValue.length),(Se=Re.firstChild)!==null;)_e=Re,Re=Se;for(;;){if(Re===o)break t;if(_e===d&&++xe===b&&(H=L),_e===w&&++Ee===p&&(ae=L),(Se=Re.nextSibling)!==null)break;Re=_e,_e=Re.parentNode}Re=Se}d=H===-1||ae===-1?null:{start:H,end:ae}}else d=null}d=d||{start:0,end:0}}else d=null;for($4={focusedElem:o,selectionRange:d},P1=!1,Xn=l;Xn!==null;)if(l=Xn,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Xn=o;else for(;Xn!==null;){switch(l=Xn,w=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)b=o[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,d=l,b=w.memoizedProps,w=w.memoizedState,p=d.stateNode;try{var ct=wu(d.type,b);o=p.getSnapshotBeforeUpdate(ct,w),p.__reactInternalSnapshotBeforeUpdate=o}catch(At){Sr(d,d.return,At)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,d=o.nodeType,d===9)H4(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":H4(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=l.sibling,o!==null){o.return=l.return,Xn=o;break}Xn=l.return}}function yN(o,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Po(o,d),p&4&&Af(5,d);break;case 1:if(Po(o,d),p&4)if(o=d.stateNode,l===null)try{o.componentDidMount()}catch(L){Sr(d,d.return,L)}else{var b=wu(d.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(b,l,o.__reactInternalSnapshotBeforeUpdate)}catch(L){Sr(d,d.return,L)}}p&64&&hN(d),p&512&&Ef(d,d.return);break;case 3:if(Po(o,d),p&64&&(o=d.updateQueue,o!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{t9(o,l)}catch(L){Sr(d,d.return,L)}}break;case 27:l===null&&p&4&&pN(d);case 26:case 5:Po(o,d),l===null&&p&4&&fN(d),p&512&&Ef(d,d.return);break;case 12:Po(o,d);break;case 31:Po(o,d),p&4&&xN(o,d);break;case 13:Po(o,d),p&4&&wN(o,d),p&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=cW.bind(null,d),kW(o,d))));break;case 22:if(p=d.memoizedState!==null||Ro,!p){l=l!==null&&l.memoizedState!==null||Nn,b=Ro;var w=Nn;Ro=p,(Nn=l)&&!w?Do(o,d,(d.subtreeFlags&8772)!==0):Po(o,d),Ro=b,Nn=w}break;case 30:break;default:Po(o,d)}}function vN(o){var l=o.alternate;l!==null&&(o.alternate=null,vN(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&ut(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Kr=null,Zi=!1;function Mo(o,l,d){for(d=d.child;d!==null;)bN(o,l,d),d=d.sibling}function bN(o,l,d){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(ti,d)}catch{}switch(d.tag){case 26:Nn||Hs(d,l),Mo(o,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Nn||Hs(d,l);var p=Kr,b=Zi;tc(d.type)&&(Kr=d.stateNode,Zi=!1),Mo(o,l,d),Pf(d.stateNode),Kr=p,Zi=b;break;case 5:Nn||Hs(d,l);case 6:if(p=Kr,b=Zi,Kr=null,Mo(o,l,d),Kr=p,Zi=b,Kr!==null)if(Zi)try{(Kr.nodeType===9?Kr.body:Kr.nodeName==="HTML"?Kr.ownerDocument.body:Kr).removeChild(d.stateNode)}catch(w){Sr(d,l,w)}else try{Kr.removeChild(d.stateNode)}catch(w){Sr(d,l,w)}break;case 18:Kr!==null&&(Zi?(o=Kr,hO(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),yh(o)):hO(Kr,d.stateNode));break;case 4:p=Kr,b=Zi,Kr=d.stateNode.containerInfo,Zi=!0,Mo(o,l,d),Kr=p,Zi=b;break;case 0:case 11:case 14:case 15:Wl(2,d,l),Nn||Wl(4,d,l),Mo(o,l,d);break;case 1:Nn||(Hs(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&dN(d,l,p)),Mo(o,l,d);break;case 21:Mo(o,l,d);break;case 22:Nn=(p=Nn)||d.memoizedState!==null,Mo(o,l,d),Nn=p;break;default:Mo(o,l,d)}}function xN(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{yh(o)}catch(d){Sr(l,l.return,d)}}}function wN(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{yh(o)}catch(d){Sr(l,l.return,d)}}function tW(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new gN),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new gN),l;default:throw Error(n(435,o.tag))}}function p1(o,l){var d=tW(o);l.forEach(function(p){if(!d.has(p)){d.add(p);var b=uW.bind(null,o,p);p.then(b,b)}})}function Ji(o,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var b=d[p],w=o,L=l,H=L;e:for(;H!==null;){switch(H.tag){case 27:if(tc(H.type)){Kr=H.stateNode,Zi=!1;break e}break;case 5:Kr=H.stateNode,Zi=!1;break e;case 3:case 4:Kr=H.stateNode.containerInfo,Zi=!0;break e}H=H.return}if(Kr===null)throw Error(n(160));bN(w,L,b),Kr=null,Zi=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)_N(l,o),l=l.sibling}var bs=null;function _N(o,l){var d=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ji(l,o),ea(o),p&4&&(Wl(3,o,o.return),Af(3,o),Wl(5,o,o.return));break;case 1:Ji(l,o),ea(o),p&512&&(Nn||d===null||Hs(d,d.return)),p&64&&Ro&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var b=bs;if(Ji(l,o),ea(o),p&512&&(Nn||d===null||Hs(d,d.return)),p&4){var w=d!==null?d.memoizedState:null;if(p=o.memoizedState,d===null)if(p===null)if(o.stateNode===null){e:{p=o.type,d=o.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":w=b.getElementsByTagName("title")[0],(!w||w[gs]||w[mt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(p),b.head.insertBefore(w,b.querySelector("head > title"))),si(w,p,d),w[mt]=o,Xt(w),p=w;break e;case"link":var L=_O("link","href",b).get(p+(d.href||""));if(L){for(var H=0;H<L.length;H++)if(w=L[H],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){L.splice(H,1);break t}}w=b.createElement(p),si(w,p,d),b.head.appendChild(w);break;case"meta":if(L=_O("meta","content",b).get(p+(d.content||""))){for(H=0;H<L.length;H++)if(w=L[H],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){L.splice(H,1);break t}}w=b.createElement(p),si(w,p,d),b.head.appendChild(w);break;default:throw Error(n(468,p))}w[mt]=o,Xt(w),p=w}o.stateNode=p}else SO(b,o.type,o.stateNode);else o.stateNode=wO(b,p,o.memoizedProps);else w!==p?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,p===null?SO(b,o.type,o.stateNode):wO(b,p,o.memoizedProps)):p===null&&o.stateNode!==null&&y4(o,o.memoizedProps,d.memoizedProps)}break;case 27:Ji(l,o),ea(o),p&512&&(Nn||d===null||Hs(d,d.return)),d!==null&&p&4&&y4(o,o.memoizedProps,d.memoizedProps);break;case 5:if(Ji(l,o),ea(o),p&512&&(Nn||d===null||Hs(d,d.return)),o.flags&32){b=o.stateNode;try{Va(b,"")}catch(ct){Sr(o,o.return,ct)}}p&4&&o.stateNode!=null&&(b=o.memoizedProps,y4(o,b,d!==null?d.memoizedProps:b)),p&1024&&(x4=!0);break;case 6:if(Ji(l,o),ea(o),p&4){if(o.stateNode===null)throw Error(n(162));p=o.memoizedProps,d=o.stateNode;try{d.nodeValue=p}catch(ct){Sr(o,o.return,ct)}}break;case 3:if(I1=null,b=bs,bs=k1(l.containerInfo),Ji(l,o),bs=b,ea(o),p&4&&d!==null&&d.memoizedState.isDehydrated)try{yh(l.containerInfo)}catch(ct){Sr(o,o.return,ct)}x4&&(x4=!1,SN(o));break;case 4:p=bs,bs=k1(o.stateNode.containerInfo),Ji(l,o),ea(o),bs=p;break;case 12:Ji(l,o),ea(o);break;case 31:Ji(l,o),ea(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,p1(o,p)));break;case 13:Ji(l,o),ea(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(y1=vt()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,p1(o,p)));break;case 22:b=o.memoizedState!==null;var ae=d!==null&&d.memoizedState!==null,xe=Ro,Ee=Nn;if(Ro=xe||b,Nn=Ee||ae,Ji(l,o),Nn=Ee,Ro=xe,ea(o),p&8192)e:for(l=o.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(d===null||ae||Ro||Nn||_u(o)),d=null,l=o;;){if(l.tag===5||l.tag===26){if(d===null){ae=d=l;try{if(w=ae.stateNode,b)L=w.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{H=ae.stateNode;var Re=ae.memoizedProps.style,_e=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;H.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(ct){Sr(ae,ae.return,ct)}}}else if(l.tag===6){if(d===null){ae=l;try{ae.stateNode.nodeValue=b?"":ae.memoizedProps}catch(ct){Sr(ae,ae.return,ct)}}}else if(l.tag===18){if(d===null){ae=l;try{var Se=ae.stateNode;b?dO(Se,!0):dO(ae.stateNode,!1)}catch(ct){Sr(ae,ae.return,ct)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=o.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,p1(o,d))));break;case 19:Ji(l,o),ea(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,p1(o,p)));break;case 30:break;case 21:break;default:Ji(l,o),ea(o)}}function ea(o){var l=o.flags;if(l&2){try{for(var d,p=o.return;p!==null;){if(mN(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var b=d.stateNode,w=v4(o);m1(o,w,b);break;case 5:var L=d.stateNode;d.flags&32&&(Va(L,""),d.flags&=-33);var H=v4(o);m1(o,H,L);break;case 3:case 4:var ae=d.stateNode.containerInfo,xe=v4(o);b4(o,xe,ae);break;default:throw Error(n(161))}}catch(Ee){Sr(o,o.return,Ee)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function SN(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;SN(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Po(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)yN(o,l.alternate,l),l=l.sibling}function _u(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Wl(4,l,l.return),_u(l);break;case 1:Hs(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&dN(l,l.return,d),_u(l);break;case 27:Pf(l.stateNode);case 26:case 5:Hs(l,l.return),_u(l);break;case 22:l.memoizedState===null&&_u(l);break;case 30:_u(l);break;default:_u(l)}o=o.sibling}}function Do(o,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,b=o,w=l,L=w.flags;switch(w.tag){case 0:case 11:case 15:Do(b,w,d),Af(4,w);break;case 1:if(Do(b,w,d),p=w,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(xe){Sr(p,p.return,xe)}if(p=w,b=p.updateQueue,b!==null){var H=p.stateNode;try{var ae=b.shared.hiddenCallbacks;if(ae!==null)for(b.shared.hiddenCallbacks=null,b=0;b<ae.length;b++)e9(ae[b],H)}catch(xe){Sr(p,p.return,xe)}}d&&L&64&&hN(w),Ef(w,w.return);break;case 27:pN(w);case 26:case 5:Do(b,w,d),d&&p===null&&L&4&&fN(w),Ef(w,w.return);break;case 12:Do(b,w,d);break;case 31:Do(b,w,d),d&&L&4&&xN(b,w);break;case 13:Do(b,w,d),d&&L&4&&wN(b,w);break;case 22:w.memoizedState===null&&Do(b,w,d),Ef(w,w.return);break;case 30:break;default:Do(b,w,d)}l=l.sibling}}function w4(o,l){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&df(d))}function _4(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&df(o))}function xs(o,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)TN(o,l,d,p),l=l.sibling}function TN(o,l,d,p){var b=l.flags;switch(l.tag){case 0:case 11:case 15:xs(o,l,d,p),b&2048&&Af(9,l);break;case 1:xs(o,l,d,p);break;case 3:xs(o,l,d,p),b&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&df(o)));break;case 12:if(b&2048){xs(o,l,d,p),o=l.stateNode;try{var w=l.memoizedProps,L=w.id,H=w.onPostCommit;typeof H=="function"&&H(L,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ae){Sr(l,l.return,ae)}}else xs(o,l,d,p);break;case 31:xs(o,l,d,p);break;case 13:xs(o,l,d,p);break;case 23:break;case 22:w=l.stateNode,L=l.alternate,l.memoizedState!==null?w._visibility&2?xs(o,l,d,p):Nf(o,l):w._visibility&2?xs(o,l,d,p):(w._visibility|=2,sh(o,l,d,p,(l.subtreeFlags&10256)!==0||!1)),b&2048&&w4(L,l);break;case 24:xs(o,l,d,p),b&2048&&_4(l.alternate,l);break;default:xs(o,l,d,p)}}function sh(o,l,d,p,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var w=o,L=l,H=d,ae=p,xe=L.flags;switch(L.tag){case 0:case 11:case 15:sh(w,L,H,ae,b),Af(8,L);break;case 23:break;case 22:var Ee=L.stateNode;L.memoizedState!==null?Ee._visibility&2?sh(w,L,H,ae,b):Nf(w,L):(Ee._visibility|=2,sh(w,L,H,ae,b)),b&&xe&2048&&w4(L.alternate,L);break;case 24:sh(w,L,H,ae,b),b&&xe&2048&&_4(L.alternate,L);break;default:sh(w,L,H,ae,b)}l=l.sibling}}function Nf(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=o,p=l,b=p.flags;switch(p.tag){case 22:Nf(d,p),b&2048&&w4(p.alternate,p);break;case 24:Nf(d,p),b&2048&&_4(p.alternate,p);break;default:Nf(d,p)}l=l.sibling}}var Of=8192;function oh(o,l,d){if(o.subtreeFlags&Of)for(o=o.child;o!==null;)AN(o,l,d),o=o.sibling}function AN(o,l,d){switch(o.tag){case 26:oh(o,l,d),o.flags&Of&&o.memoizedState!==null&&VW(d,bs,o.memoizedState,o.memoizedProps);break;case 5:oh(o,l,d);break;case 3:case 4:var p=bs;bs=k1(o.stateNode.containerInfo),oh(o,l,d),bs=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=Of,Of=16777216,oh(o,l,d),Of=p):oh(o,l,d));break;default:oh(o,l,d)}}function EN(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function kf(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Xn=p,ON(p,o)}EN(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)NN(o),o=o.sibling}function NN(o){switch(o.tag){case 0:case 11:case 15:kf(o),o.flags&2048&&Wl(9,o,o.return);break;case 3:kf(o);break;case 12:kf(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,g1(o)):kf(o);break;default:kf(o)}}function g1(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Xn=p,ON(p,o)}EN(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Wl(8,l,l.return),g1(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,g1(l));break;default:g1(l)}o=o.sibling}}function ON(o,l){for(;Xn!==null;){var d=Xn;switch(d.tag){case 0:case 11:case 15:Wl(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:df(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Xn=p;else e:for(d=o;Xn!==null;){p=Xn;var b=p.sibling,w=p.return;if(vN(p),p===d){Xn=null;break e}if(b!==null){b.return=w,Xn=b;break e}Xn=w}}}var rW={getCacheForType:function(o){var l=ii(Tn),d=l.data.get(o);return d===void 0&&(d=o(),l.data.set(o,d)),d},cacheSignal:function(){return ii(Tn).controller.signal}},nW=typeof WeakMap=="function"?WeakMap:Map,fr=0,Rr=null,Gt=null,Yt=0,_r=0,xa=null,Xl=!1,lh=!1,S4=!1,Lo=0,hn=0,Yl=0,Su=0,T4=0,wa=0,ch=0,Cf=null,ta=null,A4=!1,y1=0,kN=0,v1=1/0,b1=null,Ql=null,Dn=0,Zl=null,uh=null,Bo=0,E4=0,N4=null,CN=null,If=0,O4=null;function _a(){return(fr&2)!==0&&Yt!==0?Yt&-Yt:K.T!==null?M4():Pe()}function IN(){if(wa===0)if((Yt&536870912)===0||tr){var o=vn;vn<<=1,(vn&3932160)===0&&(vn=262144),wa=o}else wa=536870912;return o=va.current,o!==null&&(o.flags|=32),wa}function ra(o,l,d){(o===Rr&&(_r===2||_r===9)||o.cancelPendingCommit!==null)&&(hh(o,0),Jl(o,Yt,wa,!1)),Xi(o,d),((fr&2)===0||o!==Rr)&&(o===Rr&&((fr&2)===0&&(Su|=d),hn===4&&Jl(o,Yt,wa,!1)),Gs(o))}function jN(o,l,d){if((fr&6)!==0)throw Error(n(327));var p=!d&&(l&127)===0&&(l&o.expiredLanes)===0||qn(o,l),b=p?sW(o,l):C4(o,l,!0),w=p;do{if(b===0){lh&&!p&&Jl(o,l,0,!1);break}else{if(d=o.current.alternate,w&&!iW(d)){b=C4(o,l,!1),w=!1;continue}if(b===2){if(w=l,o.errorRecoveryDisabledLanes&w)var L=0;else L=o.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){l=L;e:{var H=o;b=Cf;var ae=H.current.memoizedState.isDehydrated;if(ae&&(hh(H,L).flags|=256),L=C4(H,L,!1),L!==2){if(S4&&!ae){H.errorRecoveryDisabledLanes|=w,Su|=w,b=4;break e}w=ta,ta=b,w!==null&&(ta===null?ta=w:ta.push.apply(ta,w))}b=L}if(w=!1,b!==2)continue}}if(b===1){hh(o,0),Jl(o,l,0,!0);break}e:{switch(p=o,w=b,w){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:Jl(p,l,wa,!Xl);break e;case 2:ta=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(b=y1+300-vt(),10<b)){if(Jl(p,l,wa,!Xl),rr(p,0,!0)!==0)break e;Bo=l,p.timeoutHandle=cO(RN.bind(null,p,d,ta,b1,A4,l,wa,Su,ch,Xl,w,"Throttled",-0,0),b);break e}RN(p,d,ta,b1,A4,l,wa,Su,ch,Xl,w,null,-0,0)}}break}while(!0);Gs(o)}function RN(o,l,d,p,b,w,L,H,ae,xe,Ee,Re,_e,Se){if(o.timeoutHandle=-1,Re=l.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},AN(l,w,Re);var ct=(w&62914560)===w?y1-vt():(w&4194048)===w?kN-vt():0;if(ct=$W(Re,ct),ct!==null){Bo=w,o.cancelPendingCommit=ct(VN.bind(null,o,l,w,d,p,b,L,H,ae,Ee,Re,null,_e,Se)),Jl(o,w,L,!xe);return}}VN(o,l,w,d,p,b,L,H,ae)}function iW(o){for(var l=o;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var b=d[p],w=b.getSnapshot;b=b.value;try{if(!ga(w(),b))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Jl(o,l,d,p){l&=~T4,l&=~Su,o.suspendedLanes|=l,o.pingedLanes&=~l,p&&(o.warmLanes|=l),p=o.expirationTimes;for(var b=l;0<b;){var w=31-pr(b),L=1<<w;p[w]=-1,b&=~L}d!==0&&Ls(o,d,l)}function x1(){return(fr&6)===0?(jf(0),!1):!0}function k4(){if(Gt!==null){if(_r===0)var o=Gt.return;else o=Gt,No=mu=null,H2(o),th=null,mf=0,o=Gt;for(;o!==null;)uN(o.alternate,o),o=o.return;Gt=null}}function hh(o,l){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,TW(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),Bo=0,k4(),Rr=o,Gt=d=Ao(o.current,null),Yt=l,_r=0,xa=null,Xl=!1,lh=qn(o,l),S4=!1,ch=wa=T4=Su=Yl=hn=0,ta=Cf=null,A4=!1,(l&8)!==0&&(l|=l&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=l;0<p;){var b=31-pr(p),w=1<<b;l|=o[b],p&=~w}return Lo=l,Vg(),d}function MN(o,l){Dt=null,K.H=_f,l===eh||l===Xg?(l=YE(),_r=3):l===R2?(l=YE(),_r=4):_r=l===o4?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,xa=l,Gt===null&&(hn=1,c1(o,Fa(l,o.current)))}function PN(){var o=va.current;return o===null?!0:(Yt&4194048)===Yt?Ka===null:(Yt&62914560)===Yt||(Yt&536870912)!==0?o===Ka:!1}function DN(){var o=K.H;return K.H=_f,o===null?_f:o}function LN(){var o=K.A;return K.A=rW,o}function w1(){hn=4,Xl||(Yt&4194048)!==Yt&&va.current!==null||(lh=!0),(Yl&134217727)===0&&(Su&134217727)===0||Rr===null||Jl(Rr,Yt,wa,!1)}function C4(o,l,d){var p=fr;fr|=2;var b=DN(),w=LN();(Rr!==o||Yt!==l)&&(b1=null,hh(o,l)),l=!1;var L=hn;e:do try{if(_r!==0&&Gt!==null){var H=Gt,ae=xa;switch(_r){case 8:k4(),L=6;break e;case 3:case 2:case 9:case 6:va.current===null&&(l=!0);var xe=_r;if(_r=0,xa=null,dh(o,H,ae,xe),d&&lh){L=0;break e}break;default:xe=_r,_r=0,xa=null,dh(o,H,ae,xe)}}aW(),L=hn;break}catch(Ee){MN(o,Ee)}while(!0);return l&&o.shellSuspendCounter++,No=mu=null,fr=p,K.H=b,K.A=w,Gt===null&&(Rr=null,Yt=0,Vg()),L}function aW(){for(;Gt!==null;)BN(Gt)}function sW(o,l){var d=fr;fr|=2;var p=DN(),b=LN();Rr!==o||Yt!==l?(b1=null,v1=vt()+500,hh(o,l)):lh=qn(o,l);e:do try{if(_r!==0&&Gt!==null){l=Gt;var w=xa;t:switch(_r){case 1:_r=0,xa=null,dh(o,l,w,1);break;case 2:case 9:if(WE(w)){_r=0,xa=null,UN(l);break}l=function(){_r!==2&&_r!==9||Rr!==o||(_r=7),Gs(o)},w.then(l,l);break e;case 3:_r=7;break e;case 4:_r=5;break e;case 7:WE(w)?(_r=0,xa=null,UN(l)):(_r=0,xa=null,dh(o,l,w,7));break;case 5:var L=null;switch(Gt.tag){case 26:L=Gt.memoizedState;case 5:case 27:var H=Gt;if(L?TO(L):H.stateNode.complete){_r=0,xa=null;var ae=H.sibling;if(ae!==null)Gt=ae;else{var xe=H.return;xe!==null?(Gt=xe,_1(xe)):Gt=null}break t}}_r=0,xa=null,dh(o,l,w,5);break;case 6:_r=0,xa=null,dh(o,l,w,6);break;case 8:k4(),hn=6;break e;default:throw Error(n(462))}}oW();break}catch(Ee){MN(o,Ee)}while(!0);return No=mu=null,K.H=p,K.A=b,fr=d,Gt!==null?0:(Rr=null,Yt=0,Vg(),hn)}function oW(){for(;Gt!==null&&!yt();)BN(Gt)}function BN(o){var l=lN(o.alternate,o,Lo);o.memoizedProps=o.pendingProps,l===null?_1(o):Gt=l}function UN(o){var l=o,d=l.alternate;switch(l.tag){case 15:case 0:l=rN(d,l,l.pendingProps,l.type,void 0,Yt);break;case 11:l=rN(d,l,l.pendingProps,l.type.render,l.ref,Yt);break;case 5:H2(l);default:uN(d,l),l=Gt=LE(l,Lo),l=lN(d,l,Lo)}o.memoizedProps=o.pendingProps,l===null?_1(o):Gt=l}function dh(o,l,d,p){No=mu=null,H2(l),th=null,mf=0;var b=l.return;try{if(XK(o,b,l,d,Yt)){hn=1,c1(o,Fa(d,o.current)),Gt=null;return}}catch(w){if(b!==null)throw Gt=b,w;hn=1,c1(o,Fa(d,o.current)),Gt=null;return}l.flags&32768?(tr||p===1?o=!0:lh||(Yt&536870912)!==0?o=!1:(Xl=o=!0,(p===2||p===9||p===3||p===6)&&(p=va.current,p!==null&&p.tag===13&&(p.flags|=16384))),zN(l,o)):_1(l)}function _1(o){var l=o;do{if((l.flags&32768)!==0){zN(l,Xl);return}o=l.return;var d=ZK(l.alternate,l,Lo);if(d!==null){Gt=d;return}if(l=l.sibling,l!==null){Gt=l;return}Gt=l=o}while(l!==null);hn===0&&(hn=5)}function zN(o,l){do{var d=JK(o.alternate,o);if(d!==null){d.flags&=32767,Gt=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(o=o.sibling,o!==null)){Gt=o;return}Gt=o=d}while(o!==null);hn=6,Gt=null}function VN(o,l,d,p,b,w,L,H,ae){o.cancelPendingCommit=null;do S1();while(Dn!==0);if((fr&6)!==0)throw Error(n(327));if(l!==null){if(l===o.current)throw Error(n(177));if(w=l.lanes|l.childLanes,w|=v2,Zr(o,d,w,L,H,ae),o===Rr&&(Gt=Rr=null,Yt=0),uh=l,Zl=o,Bo=d,E4=w,N4=b,CN=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,hW(dr,function(){return GN(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=K.T,K.T=null,b=J.p,J.p=2,L=fr,fr|=4;try{eW(o,l,d)}finally{fr=L,J.p=b,K.T=p}}Dn=1,$N(),FN(),qN()}}function $N(){if(Dn===1){Dn=0;var o=Zl,l=uh,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=K.T,K.T=null;var p=J.p;J.p=2;var b=fr;fr|=4;try{_N(l,o);var w=$4,L=OE(o.containerInfo),H=w.focusedElem,ae=w.selectionRange;if(L!==H&&H&&H.ownerDocument&&NE(H.ownerDocument.documentElement,H)){if(ae!==null&&f2(H)){var xe=ae.start,Ee=ae.end;if(Ee===void 0&&(Ee=xe),"selectionStart"in H)H.selectionStart=xe,H.selectionEnd=Math.min(Ee,H.value.length);else{var Re=H.ownerDocument||document,_e=Re&&Re.defaultView||window;if(_e.getSelection){var Se=_e.getSelection(),ct=H.textContent.length,At=Math.min(ae.start,ct),Nr=ae.end===void 0?At:Math.min(ae.end,ct);!Se.extend&&At>Nr&&(L=Nr,Nr=At,At=L);var me=EE(H,At),ce=EE(H,Nr);if(me&&ce&&(Se.rangeCount!==1||Se.anchorNode!==me.node||Se.anchorOffset!==me.offset||Se.focusNode!==ce.node||Se.focusOffset!==ce.offset)){var ve=Re.createRange();ve.setStart(me.node,me.offset),Se.removeAllRanges(),At>Nr?(Se.addRange(ve),Se.extend(ce.node,ce.offset)):(ve.setEnd(ce.node,ce.offset),Se.addRange(ve))}}}}for(Re=[],Se=H;Se=Se.parentNode;)Se.nodeType===1&&Re.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Re.length;H++){var Ie=Re[H];Ie.element.scrollLeft=Ie.left,Ie.element.scrollTop=Ie.top}}P1=!!V4,$4=V4=null}finally{fr=b,J.p=p,K.T=d}}o.current=l,Dn=2}}function FN(){if(Dn===2){Dn=0;var o=Zl,l=uh,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=K.T,K.T=null;var p=J.p;J.p=2;var b=fr;fr|=4;try{yN(o,l.alternate,l)}finally{fr=b,J.p=p,K.T=d}}Dn=3}}function qN(){if(Dn===4||Dn===3){Dn=0,Ke();var o=Zl,l=uh,d=Bo,p=CN;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Dn=5:(Dn=0,uh=Zl=null,HN(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(Ql=null),ge(d),l=l.stateNode,jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(ti,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=K.T,b=J.p,J.p=2,K.T=null;try{for(var w=o.onRecoverableError,L=0;L<p.length;L++){var H=p[L];w(H.value,{componentStack:H.stack})}}finally{K.T=l,J.p=b}}(Bo&3)!==0&&S1(),Gs(o),b=o.pendingLanes,(d&261930)!==0&&(b&42)!==0?o===O4?If++:(If=0,O4=o):If=0,jf(0)}}function HN(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,df(l)))}function S1(){return $N(),FN(),qN(),GN()}function GN(){if(Dn!==5)return!1;var o=Zl,l=E4;E4=0;var d=ge(Bo),p=K.T,b=J.p;try{J.p=32>d?32:d,K.T=null,d=N4,N4=null;var w=Zl,L=Bo;if(Dn=0,uh=Zl=null,Bo=0,(fr&6)!==0)throw Error(n(331));var H=fr;if(fr|=4,NN(w.current),TN(w,w.current,L,d),fr=H,jf(0,!1),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(ti,w)}catch{}return!0}finally{J.p=b,K.T=p,HN(o,l)}}function KN(o,l,d){l=Fa(d,l),l=s4(o.stateNode,l,2),o=Hl(o,l,2),o!==null&&(Xi(o,2),Gs(o))}function Sr(o,l,d){if(o.tag===3)KN(o,o,d);else for(;l!==null;){if(l.tag===3){KN(l,o,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ql===null||!Ql.has(p))){o=Fa(d,o),d=W9(2),p=Hl(l,d,2),p!==null&&(X9(d,p,l,o),Xi(p,2),Gs(p));break}}l=l.return}}function I4(o,l,d){var p=o.pingCache;if(p===null){p=o.pingCache=new nW;var b=new Set;p.set(l,b)}else b=p.get(l),b===void 0&&(b=new Set,p.set(l,b));b.has(d)||(S4=!0,b.add(d),o=lW.bind(null,o,l,d),l.then(o,o))}function lW(o,l,d){var p=o.pingCache;p!==null&&p.delete(l),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,Rr===o&&(Yt&d)===d&&(hn===4||hn===3&&(Yt&62914560)===Yt&&300>vt()-y1?(fr&2)===0&&hh(o,0):T4|=d,ch===Yt&&(ch=0)),Gs(o)}function WN(o,l){l===0&&(l=ps()),o=hu(o,l),o!==null&&(Xi(o,l),Gs(o))}function cW(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),WN(o,d)}function uW(o,l){var d=0;switch(o.tag){case 31:case 13:var p=o.stateNode,b=o.memoizedState;b!==null&&(d=b.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(l),WN(o,d)}function hW(o,l){return ze(o,l)}var T1=null,fh=null,j4=!1,A1=!1,R4=!1,ec=0;function Gs(o){o!==fh&&o.next===null&&(fh===null?T1=fh=o:fh=fh.next=o),A1=!0,j4||(j4=!0,fW())}function jf(o,l){if(!R4&&A1){R4=!0;do for(var d=!1,p=T1;p!==null;){if(o!==0){var b=p.pendingLanes;if(b===0)var w=0;else{var L=p.suspendedLanes,H=p.pingedLanes;w=(1<<31-pr(42|o)+1)-1,w&=b&~(L&~H),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,ZN(p,w))}else w=Yt,w=rr(p,p===Rr?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||qn(p,w)||(d=!0,ZN(p,w));p=p.next}while(d);R4=!1}}function dW(){XN()}function XN(){A1=j4=!1;var o=0;ec!==0&&SW()&&(o=ec);for(var l=vt(),d=null,p=T1;p!==null;){var b=p.next,w=YN(p,l);w===0?(p.next=null,d===null?T1=b:d.next=b,b===null&&(fh=d)):(d=p,(o!==0||(w&3)!==0)&&(A1=!0)),p=b}Dn!==0&&Dn!==5||jf(o),ec!==0&&(ec=0)}function YN(o,l){for(var d=o.suspendedLanes,p=o.pingedLanes,b=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var L=31-pr(w),H=1<<L,ae=b[L];ae===-1?((H&d)===0||(H&p)!==0)&&(b[L]=ms(H,l)):ae<=l&&(o.expiredLanes|=H),w&=~H}if(l=Rr,d=Yt,d=rr(o,o===l?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,d===0||o===l&&(_r===2||_r===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&rt(p),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||qn(o,d)){if(l=d&-d,l===o.callbackPriority)return l;switch(p!==null&&rt(p),ge(d)){case 2:case 8:d=wt;break;case 32:d=dr;break;case 268435456:d=Wt;break;default:d=dr}return p=QN.bind(null,o),d=ze(d,p),o.callbackPriority=l,o.callbackNode=d,l}return p!==null&&p!==null&&rt(p),o.callbackPriority=2,o.callbackNode=null,2}function QN(o,l){if(Dn!==0&&Dn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(S1()&&o.callbackNode!==d)return null;var p=Yt;return p=rr(o,o===Rr?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(jN(o,p,l),YN(o,vt()),o.callbackNode!=null&&o.callbackNode===d?QN.bind(null,o):null)}function ZN(o,l){if(S1())return null;jN(o,l,!0)}function fW(){AW(function(){(fr&6)!==0?ze(Ht,dW):XN()})}function M4(){if(ec===0){var o=Z0;o===0&&(o=Ua,Ua<<=1,(Ua&261888)===0&&(Ua=256)),ec=o}return ec}function JN(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:zs(""+o)}function eO(o,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,o.id&&d.setAttribute("form",o.id),l.parentNode.insertBefore(d,l),o=new FormData(o),d.parentNode.removeChild(d),o}function mW(o,l,d,p,b){if(l==="submit"&&d&&d.stateNode===b){var w=JN((b[zt]||null).action),L=p.submitter;L&&(l=(l=L[zt]||null)?JN(l.formAction):L.getAttribute("formAction"),l!==null&&(w=l,L=null));var H=new iu("action","action",null,p,b);o.push({event:H,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ec!==0){var ae=L?eO(b,L):new FormData(b);e4(d,{pending:!0,data:ae,method:b.method,action:w},null,ae)}}else typeof w=="function"&&(H.preventDefault(),ae=L?eO(b,L):new FormData(b),e4(d,{pending:!0,data:ae,method:b.method,action:w},w,ae))},currentTarget:b}]})}}for(var P4=0;P4<y2.length;P4++){var D4=y2[P4],pW=D4.toLowerCase(),gW=D4[0].toUpperCase()+D4.slice(1);vs(pW,"on"+gW)}vs(IE,"onAnimationEnd"),vs(jE,"onAnimationIteration"),vs(RE,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(jK,"onTransitionRun"),vs(RK,"onTransitionStart"),vs(MK,"onTransitionCancel"),vs(ME,"onTransitionEnd"),gr("onMouseEnter",["mouseout","mouseover"]),gr("onMouseLeave",["mouseout","mouseover"]),gr("onPointerEnter",["pointerout","pointerover"]),gr("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rf));function tO(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var p=o[d],b=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var L=p.length-1;0<=L;L--){var H=p[L],ae=H.instance,xe=H.currentTarget;if(H=H.listener,ae!==w&&b.isPropagationStopped())break e;w=H,b.currentTarget=xe;try{w(b)}catch(Ee){zg(Ee)}b.currentTarget=null,w=ae}else for(L=0;L<p.length;L++){if(H=p[L],ae=H.instance,xe=H.currentTarget,H=H.listener,ae!==w&&b.isPropagationStopped())break e;w=H,b.currentTarget=xe;try{w(b)}catch(Ee){zg(Ee)}b.currentTarget=null,w=ae}}}}function Kt(o,l){var d=l[Hn];d===void 0&&(d=l[Hn]=new Set);var p=o+"__bubble";d.has(p)||(rO(l,o,2,!1),d.add(p))}function L4(o,l,d){var p=0;l&&(p|=4),rO(d,o,p,l)}var E1="_reactListening"+Math.random().toString(36).slice(2);function B4(o){if(!o[E1]){o[E1]=!0,Jr.forEach(function(d){d!=="selectionchange"&&(yW.has(d)||L4(d,!1,o),L4(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[E1]||(l[E1]=!0,L4("selectionchange",!1,l))}}function rO(o,l,d,p){switch(IO(l)){case 2:var b=HW;break;case 8:b=GW;break;default:b=J4}d=b.bind(null,l,d,o),b=void 0,!ef||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),p?b!==void 0?o.addEventListener(l,d,{capture:!0,passive:b}):o.addEventListener(l,d,!0):b!==void 0?o.addEventListener(l,d,{passive:b}):o.addEventListener(l,d,!1)}function U4(o,l,d,p,b){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var L=p.tag;if(L===3||L===4){var H=p.stateNode.containerInfo;if(H===b)break;if(L===4)for(L=p.return;L!==null;){var ae=L.tag;if((ae===3||ae===4)&&L.stateNode.containerInfo===b)return;L=L.return}for(;H!==null;){if(L=oe(H),L===null)return;if(ae=L.tag,ae===5||ae===6||ae===26||ae===27){p=w=L;continue e}H=H.parentNode}}p=p.return}Tg(function(){var xe=w,Ee=U0(d),Re=[];e:{var _e=PE.get(o);if(_e!==void 0){var Se=iu,ct=o;switch(o){case"keypress":if(nu(d)===0)break e;case"keydown":case"keyup":Se=Rg;break;case"focusin":ct="focus",Se=Pl;break;case"focusout":ct="blur",Se=Pl;break;case"beforeblur":case"afterblur":Se=Pl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=Ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=Pg;break;case IE:case jE:case RE:Se=$0;break;case ME:Se=F0;break;case"scroll":case"scrollend":Se=Ag;break;case"wheel":Se=Lg;break;case"copy":case"cut":case"paste":Se=kg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=sf;break;case"toggle":case"beforetoggle":Se=Ll}var At=(l&4)!==0,Nr=!At&&(o==="scroll"||o==="scrollend"),me=At?_e!==null?_e+"Capture":null:_e;At=[];for(var ce=xe,ve;ce!==null;){var Ie=ce;if(ve=Ie.stateNode,Ie=Ie.tag,Ie!==5&&Ie!==26&&Ie!==27||ve===null||me===null||(Ie=Yi(ce,me),Ie!=null&&At.push(Mf(ce,Ie,ve))),Nr)break;ce=ce.return}0<At.length&&(_e=new Se(_e,ct,null,d,Ee),Re.push({event:_e,listeners:At}))}}if((l&7)===0){e:{if(_e=o==="mouseover"||o==="pointerover",Se=o==="mouseout"||o==="pointerout",_e&&d!==B0&&(ct=d.relatedTarget||d.fromElement)&&(oe(ct)||ct[nr]))break e;if((Se||_e)&&(_e=Ee.window===Ee?Ee:(_e=Ee.ownerDocument)?_e.defaultView||_e.parentWindow:window,Se?(ct=d.relatedTarget||d.toElement,Se=xe,ct=ct?oe(ct):null,ct!==null&&(Nr=a(ct),At=ct.tag,ct!==Nr||At!==5&&At!==27&&At!==6)&&(ct=null)):(Se=null,ct=xe),Se!==ct)){if(At=Eg,Ie="onMouseLeave",me="onMouseEnter",ce="mouse",(o==="pointerout"||o==="pointerover")&&(At=sf,Ie="onPointerLeave",me="onPointerEnter",ce="pointer"),Nr=Se==null?_e:Ye(Se),ve=ct==null?_e:Ye(ct),_e=new At(Ie,ce+"leave",Se,d,Ee),_e.target=Nr,_e.relatedTarget=ve,Ie=null,oe(Ee)===xe&&(At=new At(me,ce+"enter",ct,d,Ee),At.target=ve,At.relatedTarget=Nr,Ie=At),Nr=Ie,Se&&ct)t:{for(At=vW,me=Se,ce=ct,ve=0,Ie=me;Ie;Ie=At(Ie))ve++;Ie=0;for(var gt=ce;gt;gt=At(gt))Ie++;for(;0<ve-Ie;)me=At(me),ve--;for(;0<Ie-ve;)ce=At(ce),Ie--;for(;ve--;){if(me===ce||ce!==null&&me===ce.alternate){At=me;break t}me=At(me),ce=At(ce)}At=null}else At=null;Se!==null&&nO(Re,_e,Se,At,!1),ct!==null&&Nr!==null&&nO(Re,Nr,ct,At,!0)}}e:{if(_e=xe?Ye(xe):window,Se=_e.nodeName&&_e.nodeName.toLowerCase(),Se==="select"||Se==="input"&&_e.type==="file")var or=xE;else if(Qi(_e))if(wE)or=kK;else{or=NK;var dt=EK}else Se=_e.nodeName,!Se||Se.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?xe&&Zd(xe.elementType)&&(or=xE):or=OK;if(or&&(or=or(o,xe))){lu(Re,or,d,Ee);break e}dt&&dt(o,_e,xe),o==="focusout"&&xe&&_e.type==="number"&&xe.memoizedProps.value!=null&&L0(_e,"number",_e.value)}switch(dt=xe?Ye(xe):window,o){case"focusin":(Qi(dt)||dt.contentEditable==="true")&&(q0=dt,m2=xe,cf=null);break;case"focusout":cf=m2=q0=null;break;case"mousedown":p2=!0;break;case"contextmenu":case"mouseup":case"dragend":p2=!1,kE(Re,d,Ee);break;case"selectionchange":if(IK)break;case"keydown":case"keyup":kE(Re,d,Ee)}var Lt;if(O)e:{switch(o){case"compositionstart":var Qt="onCompositionStart";break e;case"compositionend":Qt="onCompositionEnd";break e;case"compositionupdate":Qt="onCompositionUpdate";break e}Qt=void 0}else $t?yr(o,d)&&(Qt="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Qt="onCompositionStart");Qt&&(ye&&d.locale!=="ko"&&($t||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&$t&&(Lt=Il()):(pa=Ee,z0="value"in pa?pa.value:pa.textContent,$t=!0)),dt=N1(xe,Qt),0<dt.length&&(Qt=new rf(Qt,o,null,d,Ee),Re.push({event:Qt,listeners:dt}),Lt?Qt.data=Lt:(Lt=Sn(d),Lt!==null&&(Qt.data=Lt)))),(Lt=X?Kn(o,d):Wn(o,d))&&(Qt=N1(xe,"onBeforeInput"),0<Qt.length&&(dt=new rf("onBeforeInput","beforeinput",null,d,Ee),Re.push({event:dt,listeners:Qt}),dt.data=Lt)),mW(Re,o,xe,d,Ee)}tO(Re,l)})}function Mf(o,l,d){return{instance:o,listener:l,currentTarget:d}}function N1(o,l){for(var d=l+"Capture",p=[];o!==null;){var b=o,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=Yi(o,d),b!=null&&p.unshift(Mf(o,b,w)),b=Yi(o,l),b!=null&&p.push(Mf(o,b,w))),o.tag===3)return p;o=o.return}return[]}function vW(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function nO(o,l,d,p,b){for(var w=l._reactName,L=[];d!==null&&d!==p;){var H=d,ae=H.alternate,xe=H.stateNode;if(H=H.tag,ae!==null&&ae===p)break;H!==5&&H!==26&&H!==27||xe===null||(ae=xe,b?(xe=Yi(d,w),xe!=null&&L.unshift(Mf(d,xe,ae))):b||(xe=Yi(d,w),xe!=null&&L.push(Mf(d,xe,ae)))),d=d.return}L.length!==0&&o.push({event:l,listeners:L})}var bW=/\r\n?/g,xW=/\u0000|\uFFFD/g;function iO(o){return(typeof o=="string"?o:""+o).replace(bW,`
`).replace(xW,"")}function aO(o,l){return l=iO(l),iO(o)===l}function Er(o,l,d,p,b,w){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Va(o,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Va(o,""+p);break;case"className":Ol(o,"class",p);break;case"tabIndex":Ol(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(o,d,p);break;case"style":_g(o,p,w);break;case"data":if(l!=="object"){Ol(o,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){o.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=zs(""+p),o.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(l!=="input"&&Er(o,l,"name",b.name,b,null),Er(o,l,"formEncType",b.formEncType,b,null),Er(o,l,"formMethod",b.formMethod,b,null),Er(o,l,"formTarget",b.formTarget,b,null)):(Er(o,l,"encType",b.encType,b,null),Er(o,l,"method",b.method,b,null),Er(o,l,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=zs(""+p),o.setAttribute(d,p);break;case"onClick":p!=null&&(o.onclick=Gn);break;case"onScroll":p!=null&&Kt("scroll",o);break;case"onScrollEnd":p!=null&&Kt("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));o.innerHTML=d}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}d=zs(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""+p):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":p===!0?o.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,p):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(d,p):o.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(d):o.setAttribute(d,p);break;case"popover":Kt("beforetoggle",o),Kt("toggle",o),Nl(o,"popover",p);break;case"xlinkActuate":za(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":za(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":za(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":za(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":za(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":za(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":za(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":za(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":za(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Nl(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=l2.get(d)||d,Nl(o,d,p))}}function z4(o,l,d,p,b,w){switch(d){case"style":_g(o,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));o.innerHTML=d}}break;case"children":typeof p=="string"?Va(o,p):(typeof p=="number"||typeof p=="bigint")&&Va(o,""+p);break;case"onScroll":p!=null&&Kt("scroll",o);break;case"onScrollEnd":p!=null&&Kt("scrollend",o);break;case"onClick":p!=null&&(o.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lr.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),l=d.slice(2,b?d.length-7:void 0),w=o[zt]||null,w=w!=null?w[d]:null,typeof w=="function"&&o.removeEventListener(l,w,b),typeof p=="function")){typeof w!="function"&&w!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(l,p,b);break e}d in o?o[d]=p:p===!0?o.setAttribute(d,""):Nl(o,d,p)}}}function si(o,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",o),Kt("load",o);var p=!1,b=!1,w;for(w in d)if(d.hasOwnProperty(w)){var L=d[w];if(L!=null)switch(w){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Er(o,l,w,L,d,null)}}b&&Er(o,l,"srcSet",d.srcSet,d,null),p&&Er(o,l,"src",d.src,d,null);return;case"input":Kt("invalid",o);var H=w=L=b=null,ae=null,xe=null;for(p in d)if(d.hasOwnProperty(p)){var Ee=d[p];if(Ee!=null)switch(p){case"name":b=Ee;break;case"type":L=Ee;break;case"checked":ae=Ee;break;case"defaultChecked":xe=Ee;break;case"value":w=Ee;break;case"defaultValue":H=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(n(137,l));break;default:Er(o,l,p,Ee,d,null)}}tu(o,w,H,ae,xe,L,b,!1);return;case"select":Kt("invalid",o),p=L=w=null;for(b in d)if(d.hasOwnProperty(b)&&(H=d[b],H!=null))switch(b){case"value":w=H;break;case"defaultValue":L=H;break;case"multiple":p=H;default:Er(o,l,b,H,d,null)}l=w,d=L,o.multiple=!!p,l!=null?sr(o,!!p,l,!1):d!=null&&sr(o,!!p,d,!0);return;case"textarea":Kt("invalid",o),w=b=p=null;for(L in d)if(d.hasOwnProperty(L)&&(H=d[L],H!=null))switch(L){case"value":p=H;break;case"defaultValue":b=H;break;case"children":w=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:Er(o,l,L,H,d,null)}Cl(o,p,b,w);return;case"option":for(ae in d)if(d.hasOwnProperty(ae)&&(p=d[ae],p!=null))switch(ae){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Er(o,l,ae,p,d,null)}return;case"dialog":Kt("beforetoggle",o),Kt("toggle",o),Kt("cancel",o),Kt("close",o);break;case"iframe":case"object":Kt("load",o);break;case"video":case"audio":for(p=0;p<Rf.length;p++)Kt(Rf[p],o);break;case"image":Kt("error",o),Kt("load",o);break;case"details":Kt("toggle",o);break;case"embed":case"source":case"link":Kt("error",o),Kt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in d)if(d.hasOwnProperty(xe)&&(p=d[xe],p!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Er(o,l,xe,p,d,null)}return;default:if(Zd(l)){for(Ee in d)d.hasOwnProperty(Ee)&&(p=d[Ee],p!==void 0&&z4(o,l,Ee,p,d,void 0));return}}for(H in d)d.hasOwnProperty(H)&&(p=d[H],p!=null&&Er(o,l,H,p,d,null))}function wW(o,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,L=null,H=null,ae=null,xe=null,Ee=null;for(Se in d){var Re=d[Se];if(d.hasOwnProperty(Se)&&Re!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":ae=Re;default:p.hasOwnProperty(Se)||Er(o,l,Se,null,p,Re)}}for(var _e in p){var Se=p[_e];if(Re=d[_e],p.hasOwnProperty(_e)&&(Se!=null||Re!=null))switch(_e){case"type":w=Se;break;case"name":b=Se;break;case"checked":xe=Se;break;case"defaultChecked":Ee=Se;break;case"value":L=Se;break;case"defaultValue":H=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(n(137,l));break;default:Se!==Re&&Er(o,l,_e,Se,p,Re)}}kl(o,L,H,ae,xe,Ee,w,b);return;case"select":Se=L=H=_e=null;for(w in d)if(ae=d[w],d.hasOwnProperty(w)&&ae!=null)switch(w){case"value":break;case"multiple":Se=ae;default:p.hasOwnProperty(w)||Er(o,l,w,null,p,ae)}for(b in p)if(w=p[b],ae=d[b],p.hasOwnProperty(b)&&(w!=null||ae!=null))switch(b){case"value":_e=w;break;case"defaultValue":H=w;break;case"multiple":L=w;default:w!==ae&&Er(o,l,b,w,p,ae)}l=H,d=L,p=Se,_e!=null?sr(o,!!d,_e,!1):!!p!=!!d&&(l!=null?sr(o,!!d,l,!0):sr(o,!!d,d?[]:"",!1));return;case"textarea":Se=_e=null;for(H in d)if(b=d[H],d.hasOwnProperty(H)&&b!=null&&!p.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Er(o,l,H,null,p,b)}for(L in p)if(b=p[L],w=d[L],p.hasOwnProperty(L)&&(b!=null||w!=null))switch(L){case"value":_e=b;break;case"defaultValue":Se=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==w&&Er(o,l,L,b,p,w)}ru(o,_e,Se);return;case"option":for(var ct in d)if(_e=d[ct],d.hasOwnProperty(ct)&&_e!=null&&!p.hasOwnProperty(ct))switch(ct){case"selected":o.selected=!1;break;default:Er(o,l,ct,null,p,_e)}for(ae in p)if(_e=p[ae],Se=d[ae],p.hasOwnProperty(ae)&&_e!==Se&&(_e!=null||Se!=null))switch(ae){case"selected":o.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:Er(o,l,ae,_e,p,Se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in d)_e=d[At],d.hasOwnProperty(At)&&_e!=null&&!p.hasOwnProperty(At)&&Er(o,l,At,null,p,_e);for(xe in p)if(_e=p[xe],Se=d[xe],p.hasOwnProperty(xe)&&_e!==Se&&(_e!=null||Se!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(n(137,l));break;default:Er(o,l,xe,_e,p,Se)}return;default:if(Zd(l)){for(var Nr in d)_e=d[Nr],d.hasOwnProperty(Nr)&&_e!==void 0&&!p.hasOwnProperty(Nr)&&z4(o,l,Nr,void 0,p,_e);for(Ee in p)_e=p[Ee],Se=d[Ee],!p.hasOwnProperty(Ee)||_e===Se||_e===void 0&&Se===void 0||z4(o,l,Ee,_e,p,Se);return}}for(var me in d)_e=d[me],d.hasOwnProperty(me)&&_e!=null&&!p.hasOwnProperty(me)&&Er(o,l,me,null,p,_e);for(Re in p)_e=p[Re],Se=d[Re],!p.hasOwnProperty(Re)||_e===Se||_e==null&&Se==null||Er(o,l,Re,_e,p,Se)}function sO(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _W(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var b=d[p],w=b.transferSize,L=b.initiatorType,H=b.duration;if(w&&H&&sO(L)){for(L=0,H=b.responseEnd,p+=1;p<d.length;p++){var ae=d[p],xe=ae.startTime;if(xe>H)break;var Ee=ae.transferSize,Re=ae.initiatorType;Ee&&sO(Re)&&(ae=ae.responseEnd,L+=Ee*(ae<H?1:(H-xe)/(ae-xe)))}if(--p,l+=8*(w+L)/(b.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var V4=null,$4=null;function O1(o){return o.nodeType===9?o:o.ownerDocument}function oO(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lO(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function F4(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var q4=null;function SW(){var o=window.event;return o&&o.type==="popstate"?o===q4?!1:(q4=o,!0):(q4=null,!1)}var cO=typeof setTimeout=="function"?setTimeout:void 0,TW=typeof clearTimeout=="function"?clearTimeout:void 0,uO=typeof Promise=="function"?Promise:void 0,AW=typeof queueMicrotask=="function"?queueMicrotask:typeof uO<"u"?function(o){return uO.resolve(null).then(o).catch(EW)}:cO;function EW(o){setTimeout(function(){throw o})}function tc(o){return o==="head"}function hO(o,l){var d=l,p=0;do{var b=d.nextSibling;if(o.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(p===0){o.removeChild(b),yh(l);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")Pf(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,Pf(d);for(var w=d.firstChild;w;){var L=w.nextSibling,H=w.nodeName;w[gs]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&w.rel.toLowerCase()==="stylesheet"||d.removeChild(w),w=L}}else d==="body"&&Pf(o.ownerDocument.body);d=b}while(d);yh(l)}function dO(o,l){var d=o;o=0;do{var p=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=p}while(d)}function H4(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":H4(d),ut(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function NW(o,l,d,p){for(;o.nodeType===1;){var b=d;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[gs])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=Wa(o.nextSibling),o===null)break}return null}function OW(o,l,d){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=Wa(o.nextSibling),o===null))return null;return o}function fO(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=Wa(o.nextSibling),o===null))return null;return o}function G4(o){return o.data==="$?"||o.data==="$~"}function K4(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function kW(o,l){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||d.readyState!=="loading")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function Wa(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var W4=null;function mO(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(l===0)return Wa(o.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}o=o.nextSibling}return null}function pO(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return o;l--}else d!=="/$"&&d!=="/&"||l++}o=o.previousSibling}return null}function gO(o,l,d){switch(l=O1(d),o){case"html":if(o=l.documentElement,!o)throw Error(n(452));return o;case"head":if(o=l.head,!o)throw Error(n(453));return o;case"body":if(o=l.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Pf(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);ut(o)}var Xa=new Map,yO=new Set;function k1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Uo=J.d;J.d={f:CW,r:IW,D:jW,C:RW,L:MW,m:PW,X:LW,S:DW,M:BW};function CW(){var o=Uo.f(),l=x1();return o||l}function IW(o){var l=Le(o);l!==null&&l.tag===5&&l.type==="form"?M9(l):Uo.r(o)}var mh=typeof document>"u"?null:document;function vO(o,l,d){var p=mh;if(p&&typeof l=="string"&&l){var b=cn(l);b='link[rel="'+o+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),yO.has(b)||(yO.add(b),o={rel:o,crossOrigin:d,href:l},p.querySelector(b)===null&&(l=p.createElement("link"),si(l,"link",o),Xt(l),p.head.appendChild(l)))}}function jW(o){Uo.D(o),vO("dns-prefetch",o,null)}function RW(o,l){Uo.C(o,l),vO("preconnect",o,l)}function MW(o,l,d){Uo.L(o,l,d);var p=mh;if(p&&o&&l){var b='link[rel="preload"][as="'+cn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+cn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+cn(d.imageSizes)+'"]')):b+='[href="'+cn(o)+'"]';var w=b;switch(l){case"style":w=ph(o);break;case"script":w=gh(o)}Xa.has(w)||(o=g({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:o,as:l},d),Xa.set(w,o),p.querySelector(b)!==null||l==="style"&&p.querySelector(Df(w))||l==="script"&&p.querySelector(Lf(w))||(l=p.createElement("link"),si(l,"link",o),Xt(l),p.head.appendChild(l)))}}function PW(o,l){Uo.m(o,l);var d=mh;if(d&&o){var p=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+cn(p)+'"][href="'+cn(o)+'"]',w=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=gh(o)}if(!Xa.has(w)&&(o=g({rel:"modulepreload",href:o},l),Xa.set(w,o),d.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Lf(w)))return}p=d.createElement("link"),si(p,"link",o),Xt(p),d.head.appendChild(p)}}}function DW(o,l,d){Uo.S(o,l,d);var p=mh;if(p&&o){var b=Rt(p).hoistableStyles,w=ph(o);l=l||"default";var L=b.get(w);if(!L){var H={loading:0,preload:null};if(L=p.querySelector(Df(w)))H.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":l},d),(d=Xa.get(w))&&X4(o,d);var ae=L=p.createElement("link");Xt(ae),si(ae,"link",o),ae._p=new Promise(function(xe,Ee){ae.onload=xe,ae.onerror=Ee}),ae.addEventListener("load",function(){H.loading|=1}),ae.addEventListener("error",function(){H.loading|=2}),H.loading|=4,C1(L,l,p)}L={type:"stylesheet",instance:L,count:1,state:H},b.set(w,L)}}}function LW(o,l){Uo.X(o,l);var d=mh;if(d&&o){var p=Rt(d).hoistableScripts,b=gh(o),w=p.get(b);w||(w=d.querySelector(Lf(b)),w||(o=g({src:o,async:!0},l),(l=Xa.get(b))&&Y4(o,l),w=d.createElement("script"),Xt(w),si(w,"link",o),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(b,w))}}function BW(o,l){Uo.M(o,l);var d=mh;if(d&&o){var p=Rt(d).hoistableScripts,b=gh(o),w=p.get(b);w||(w=d.querySelector(Lf(b)),w||(o=g({src:o,async:!0,type:"module"},l),(l=Xa.get(b))&&Y4(o,l),w=d.createElement("script"),Xt(w),si(w,"link",o),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(b,w))}}function bO(o,l,d,p){var b=(b=ke.current)?k1(b):null;if(!b)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=ph(d.href),d=Rt(b).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=ph(d.href);var w=Rt(b).hoistableStyles,L=w.get(o);if(L||(b=b.ownerDocument||b,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,L),(w=b.querySelector(Df(o)))&&!w._p&&(L.instance=w,L.state.loading=5),Xa.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Xa.set(o,d),w||UW(b,o,d,L.state))),l&&p===null)throw Error(n(528,""));return L}if(l&&p!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=gh(d),d=Rt(b).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function ph(o){return'href="'+cn(o)+'"'}function Df(o){return'link[rel="stylesheet"]['+o+"]"}function xO(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function UW(o,l,d,p){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=o.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),si(l,"link",d),Xt(l),o.head.appendChild(l))}function gh(o){return'[src="'+cn(o)+'"]'}function Lf(o){return"script[async]"+o}function wO(o,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=o.querySelector('style[data-href~="'+cn(d.href)+'"]');if(p)return l.instance=p,Xt(p),p;var b=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Xt(p),si(p,"style",b),C1(p,d.precedence,o),l.instance=p;case"stylesheet":b=ph(d.href);var w=o.querySelector(Df(b));if(w)return l.state.loading|=4,l.instance=w,Xt(w),w;p=xO(d),(b=Xa.get(b))&&X4(p,b),w=(o.ownerDocument||o).createElement("link"),Xt(w);var L=w;return L._p=new Promise(function(H,ae){L.onload=H,L.onerror=ae}),si(w,"link",p),l.state.loading|=4,C1(w,d.precedence,o),l.instance=w;case"script":return w=gh(d.src),(b=o.querySelector(Lf(w)))?(l.instance=b,Xt(b),b):(p=d,(b=Xa.get(w))&&(p=g({},d),Y4(p,b)),o=o.ownerDocument||o,b=o.createElement("script"),Xt(b),si(b,"link",p),o.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,C1(p,d.precedence,o));return l.instance}function C1(o,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,w=b,L=0;L<p.length;L++){var H=p[L];if(H.dataset.precedence===l)w=H;else if(w!==b)break}w?w.parentNode.insertBefore(o,w.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(o,l.firstChild))}function X4(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Y4(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var I1=null;function _O(o,l,d){if(I1===null){var p=new Map,b=I1=new Map;b.set(d,p)}else b=I1,p=b.get(d),p||(p=new Map,b.set(d,p));if(p.has(o))return p;for(p.set(o,null),d=d.getElementsByTagName(o),b=0;b<d.length;b++){var w=d[b];if(!(w[gs]||w[mt]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var L=w.getAttribute(l)||"";L=o+L;var H=p.get(L);H?H.push(w):p.set(L,[w])}}return p}function SO(o,l,d){o=o.ownerDocument||o,o.head.insertBefore(d,l==="title"?o.querySelector("head > title"):null)}function zW(o,l,d){if(d===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function TO(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function VW(o,l,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=ph(p.href),w=l.querySelector(Df(b));if(w){l=w._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=j1.bind(o),l.then(o,o)),d.state.loading|=4,d.instance=w,Xt(w);return}w=l.ownerDocument||l,p=xO(p),(b=Xa.get(b))&&X4(p,b),w=w.createElement("link"),Xt(w);var L=w;L._p=new Promise(function(H,ae){L.onload=H,L.onerror=ae}),si(w,"link",p),d.instance=w}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=j1.bind(o),l.addEventListener("load",d),l.addEventListener("error",d))}}var Q4=0;function $W(o,l){return o.stylesheets&&o.count===0&&M1(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var p=setTimeout(function(){if(o.stylesheets&&M1(o,o.stylesheets),o.unsuspend){var w=o.unsuspend;o.unsuspend=null,w()}},6e4+l);0<o.imgBytes&&Q4===0&&(Q4=62500*_W());var b=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&M1(o,o.stylesheets),o.unsuspend)){var w=o.unsuspend;o.unsuspend=null,w()}},(o.imgBytes>Q4?50:800)+l);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function j1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)M1(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var R1=null;function M1(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,R1=new Map,l.forEach(FW,o),R1=null,j1.call(o))}function FW(o,l){if(!(l.state.loading&4)){var d=R1.get(o);if(d)var p=d.get(null);else{d=new Map,R1.set(o,d);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var L=b[w];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(d.set(L.dataset.precedence,L),p=L)}p&&d.set(null,p)}b=l.instance,L=b.getAttribute("data-precedence"),w=d.get(L)||p,w===p&&d.set(null,b),d.set(L,b),this.count++,p=j1.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),w?w.parentNode.insertBefore(b,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),l.state.loading|=4}}var Bf={$$typeof:P,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function qW(o,l,d,p,b,w,L,H,ae){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function AO(o,l,d,p,b,w,L,H,ae,xe,Ee,Re){return o=new qW(o,l,d,L,ae,xe,Ee,Re,H),l=1,w===!0&&(l|=24),w=ya(3,null,null,l),o.current=w,w.stateNode=o,l=C2(),l.refCount++,o.pooledCache=l,l.refCount++,w.memoizedState={element:p,isDehydrated:d,cache:l},M2(w),o}function EO(o){return o?(o=K0,o):K0}function NO(o,l,d,p,b,w){b=EO(b),p.context===null?p.context=b:p.pendingContext=b,p=ql(l),p.payload={element:d},w=w===void 0?null:w,w!==null&&(p.callback=w),d=Hl(o,p,l),d!==null&&(ra(d,o,l),gf(d,o,l))}function OO(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function Z4(o,l){OO(o,l),(o=o.alternate)&&OO(o,l)}function kO(o){if(o.tag===13||o.tag===31){var l=hu(o,67108864);l!==null&&ra(l,o,67108864),Z4(o,67108864)}}function CO(o){if(o.tag===13||o.tag===31){var l=_a();l=Bs(l);var d=hu(o,l);d!==null&&ra(d,o,l),Z4(o,l)}}var P1=!0;function HW(o,l,d,p){var b=K.T;K.T=null;var w=J.p;try{J.p=2,J4(o,l,d,p)}finally{J.p=w,K.T=b}}function GW(o,l,d,p){var b=K.T;K.T=null;var w=J.p;try{J.p=8,J4(o,l,d,p)}finally{J.p=w,K.T=b}}function J4(o,l,d,p){if(P1){var b=ew(p);if(b===null)U4(o,l,p,D1,d),jO(o,p);else if(WW(b,o,l,d,p))p.stopPropagation();else if(jO(o,p),l&4&&-1<KW.indexOf(o)){for(;b!==null;){var w=Le(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var L=fi(w.pendingLanes);if(L!==0){var H=w;for(H.pendingLanes|=2,H.entangledLanes|=2;L;){var ae=1<<31-pr(L);H.entanglements[1]|=ae,L&=~ae}Gs(w),(fr&6)===0&&(v1=vt()+500,jf(0))}}break;case 31:case 13:H=hu(w,2),H!==null&&ra(H,w,2),x1(),Z4(w,2)}if(w=ew(p),w===null&&U4(o,l,p,D1,d),w===b)break;b=w}b!==null&&p.stopPropagation()}else U4(o,l,p,null,d)}}function ew(o){return o=U0(o),tw(o)}var D1=null;function tw(o){if(D1=null,o=oe(o),o!==null){var l=a(o);if(l===null)o=null;else{var d=l.tag;if(d===13){if(o=s(l),o!==null)return o;o=null}else if(d===31){if(o=c(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return D1=o,null}function IO(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qt()){case Ht:return 2;case wt:return 8;case dr:case Gr:return 32;case Wt:return 268435456;default:return 32}default:return 32}}var rw=!1,rc=null,nc=null,ic=null,Uf=new Map,zf=new Map,ac=[],KW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jO(o,l){switch(o){case"focusin":case"focusout":rc=null;break;case"dragenter":case"dragleave":nc=null;break;case"mouseover":case"mouseout":ic=null;break;case"pointerover":case"pointerout":Uf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":zf.delete(l.pointerId)}}function Vf(o,l,d,p,b,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:w,targetContainers:[b]},l!==null&&(l=Le(l),l!==null&&kO(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),o)}function WW(o,l,d,p,b){switch(l){case"focusin":return rc=Vf(rc,o,l,d,p,b),!0;case"dragenter":return nc=Vf(nc,o,l,d,p,b),!0;case"mouseover":return ic=Vf(ic,o,l,d,p,b),!0;case"pointerover":var w=b.pointerId;return Uf.set(w,Vf(Uf.get(w)||null,o,l,d,p,b)),!0;case"gotpointercapture":return w=b.pointerId,zf.set(w,Vf(zf.get(w)||null,o,l,d,p,b)),!0}return!1}function RO(o){var l=oe(o.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){o.blockedOn=l,at(o.priority,function(){CO(d)});return}}else if(l===31){if(l=c(d),l!==null){o.blockedOn=l,at(o.priority,function(){CO(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function L1(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=ew(o.nativeEvent);if(d===null){d=o.nativeEvent;var p=new d.constructor(d.type,d);B0=p,d.target.dispatchEvent(p),B0=null}else return l=Le(d),l!==null&&kO(l),o.blockedOn=d,!1;l.shift()}return!0}function MO(o,l,d){L1(o)&&d.delete(l)}function XW(){rw=!1,rc!==null&&L1(rc)&&(rc=null),nc!==null&&L1(nc)&&(nc=null),ic!==null&&L1(ic)&&(ic=null),Uf.forEach(MO),zf.forEach(MO)}function B1(o,l){o.blockedOn===l&&(o.blockedOn=null,rw||(rw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,XW)))}var U1=null;function PO(o){U1!==o&&(U1=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){U1===o&&(U1=null);for(var l=0;l<o.length;l+=3){var d=o[l],p=o[l+1],b=o[l+2];if(typeof p!="function"){if(tw(p||d)===null)continue;break}var w=Le(d);w!==null&&(o.splice(l,3),l-=3,e4(w,{pending:!0,data:b,method:d.method,action:p},p,b))}}))}function yh(o){function l(ae){return B1(ae,o)}rc!==null&&B1(rc,o),nc!==null&&B1(nc,o),ic!==null&&B1(ic,o),Uf.forEach(l),zf.forEach(l);for(var d=0;d<ac.length;d++){var p=ac[d];p.blockedOn===o&&(p.blockedOn=null)}for(;0<ac.length&&(d=ac[0],d.blockedOn===null);)RO(d),d.blockedOn===null&&ac.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var b=d[p],w=d[p+1],L=b[zt]||null;if(typeof w=="function")L||PO(d);else if(L){var H=null;if(w&&w.hasAttribute("formAction")){if(b=w,L=w[zt]||null)H=L.formAction;else if(tw(b)!==null)continue}else H=L.action;typeof H=="function"?d[p+1]=H:(d.splice(p,3),p-=3),PO(d)}}}function DO(){function o(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(L){return b=L})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function nw(o){this._internalRoot=o}z1.prototype.render=nw.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,p=_a();NO(d,p,o,l,null,null)},z1.prototype.unmount=nw.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;NO(o.current,2,null,o,null,null),x1(),l[nr]=null}};function z1(o){this._internalRoot=o}z1.prototype.unstable_scheduleHydration=function(o){if(o){var l=Pe();o={blockedOn:null,target:o,priority:l};for(var d=0;d<ac.length&&l!==0&&l<ac[d].priority;d++);ac.splice(d,0,o),d===0&&RO(o)}};var LO=e.version;if(LO!=="19.2.4")throw Error(n(527,LO,"19.2.4"));J.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=f(l),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var YW={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var V1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!V1.isDisabled&&V1.supportsFiber)try{ti=V1.inject(YW),jr=V1}catch{}}return Ff.createRoot=function(o,l){if(!i(o))throw Error(n(299));var d=!1,p="",b=q9,w=H9,L=G9;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError)),l=AO(o,1,!1,null,null,d,p,null,b,w,L,DO),o[nr]=l.current,B4(o),new nw(l)},Ff.hydrateRoot=function(o,l,d){if(!i(o))throw Error(n(299));var p=!1,b="",w=q9,L=H9,H=G9,ae=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(L=d.onCaughtError),d.onRecoverableError!==void 0&&(H=d.onRecoverableError),d.formState!==void 0&&(ae=d.formState)),l=AO(o,1,!0,l,d??null,p,b,ae,w,L,H,DO),l.context=EO(null),d=l.current,p=_a(),p=Bs(p),b=ql(p),b.callback=null,Hl(d,b,p),d=p,l.current.lanes=d,Xi(l,d),Gs(l),o[nr]=l.current,B4(o),new z1(l)},Ff.version="19.2.4",Ff}var WO;function cX(){if(WO)return sw.exports;WO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sw.exports=lX(),sw.exports}var uX=cX();const hX=mr(uX);var zi=(t=>(t.ADMIN="ADMIN",t.STUDENT="STUDENT",t))(zi||{});const Or={AP_PHYSICS:"AP Physics",HONORS_PHYSICS:"Honors Physics",FORENSICS:"Forensic Science",UNCATEGORIZED:"Uncategorized"};var Fo=(t=>(t.ACTIVE="ACTIVE",t.ARCHIVED="ARCHIVED",t.DRAFT="DRAFT",t))(Fo||{}),XO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},dX=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],c=t[r++],u=((i&7)<<18|(a&63)<<12|(s&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},hU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,m=a>>2,g=(a&3)<<4|c>>4;let v=(c&15)<<2|f>>6,x=f&63;u||(x=64,s||(v=64)),n.push(r[m],r[g],r[v],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],c=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const g=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||c==null||f==null||g==null)throw new fX;const v=a<<2|c>>4;if(n.push(v),f!==64){const x=c<<4&240|f>>2;if(n.push(x),g!==64){const T=f<<6&192|g;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mX=function(t){const e=uU(t);return hU.encodeByteArray(e,!0)},qy=function(t){return mX(t).replace(/\./g,"")},dU=function(t){try{return hU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX=()=>pX().__FIREBASE_DEFAULTS__,yX=()=>{if(typeof process>"u"||typeof XO>"u")return;const t=XO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vX=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dU(t[1]);return e&&JSON.parse(e)},Cb=()=>{try{return gX()||yX()||vX()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fU=t=>{var e,r;return(r=(e=Cb())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},CT=t=>{const e=fU(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},mU=()=>{var t;return(t=Cb())===null||t===void 0?void 0:t.config},pU=t=>{var e;return(e=Cb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qy(JSON.stringify(r)),qy(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function wX(){var t;const e=(t=Cb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _X(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SX(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TX(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AX(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yU(){return!wX()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vU(){try{return typeof indexedDB=="object"}catch{return!1}}function EX(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NX="FirebaseError";class Ms extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=NX,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fp.prototype.create)}}class Fp{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?OX(a,n):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Ms(i,c,n)}}function OX(t,e){return t.replace(kX,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const kX=/\{\$([^}]+)}/g;function CX(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zm(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(YO(a)&&YO(s)){if(!zm(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function YO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function IX(t,e){const r=new jX(t,e);return r.subscribe.bind(r)}class jX{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");RX(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=uw),i.error===void 0&&(i.error=uw),i.complete===void 0&&(i.complete=uw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RX(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function uw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t){return t&&t._delegate?t._delegate:t}let ll=class{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new bX;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DX(e))try{this.getOrInitializeService({instanceIdentifier:ju})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=ju){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ju){return this.instances.has(e)}getOptions(e=ju){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:PX(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ju){return this.component?this.component.multipleInstances?e:ju:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PX(t){return t===ju?void 0:t}function DX(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new MX(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Zt||(Zt={}));const BX={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},UX=Zt.INFO,zX={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},VX=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=zX[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class IT{constructor(e){this.name=e,this._logLevel=UX,this._logHandler=VX,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BX[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...e),this._logHandler(this,Zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...e),this._logHandler(this,Zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...e),this._logHandler(this,Zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...e),this._logHandler(this,Zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...e),this._logHandler(this,Zt.ERROR,...e)}}const $X=(t,e)=>e.some(r=>t instanceof r);let QO,ZO;function FX(){return QO||(QO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qX(){return ZO||(ZO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bU=new WeakMap,oS=new WeakMap,xU=new WeakMap,hw=new WeakMap,jT=new WeakMap;function HX(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(Cc(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&bU.set(r,t)}).catch(()=>{}),jT.set(e,t),e}function GX(t){if(oS.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});oS.set(t,e)}let lS={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return oS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xU.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Cc(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KX(t){lS=t(lS)}function WX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(dw(this),e,...r);return xU.set(n,e.sort?e.sort():[e]),Cc(n)}:qX().includes(t)?function(...e){return t.apply(dw(this),e),Cc(bU.get(this))}:function(...e){return Cc(t.apply(dw(this),e))}}function XX(t){return typeof t=="function"?WX(t):(t instanceof IDBTransaction&&GX(t),$X(t,FX())?new Proxy(t,lS):t)}function Cc(t){if(t instanceof IDBRequest)return HX(t);if(hw.has(t))return hw.get(t);const e=XX(t);return e!==t&&(hw.set(t,e),jT.set(e,t)),e}const dw=t=>jT.get(t);function YX(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),c=Cc(s);return n&&s.addEventListener("upgradeneeded",u=>{n(Cc(s.result),u.oldVersion,u.newVersion,Cc(s.transaction),u)}),r&&s.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const QX=["get","getKey","getAll","getAllKeys","count"],ZX=["put","add","delete","clear"],fw=new Map;function JO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fw.get(e))return fw.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=ZX.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||QX.includes(r)))return;const a=async function(s,...c){const u=this.transaction(s,i?"readwrite":"readonly");let f=u.store;return n&&(f=f.index(c.shift())),(await Promise.all([f[r](...c),i&&u.done]))[0]};return fw.set(e,a),a}KX(t=>({...t,get:(e,r,n)=>JO(e,r)||t.get(e,r,n),has:(e,r)=>!!JO(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(eY(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function eY(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cS="@firebase/app",ek="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new IT("@firebase/app"),tY="@firebase/app-compat",rY="@firebase/analytics-compat",nY="@firebase/analytics",iY="@firebase/app-check-compat",aY="@firebase/app-check",sY="@firebase/auth",oY="@firebase/auth-compat",lY="@firebase/database",cY="@firebase/data-connect",uY="@firebase/database-compat",hY="@firebase/functions",dY="@firebase/functions-compat",fY="@firebase/installations",mY="@firebase/installations-compat",pY="@firebase/messaging",gY="@firebase/messaging-compat",yY="@firebase/performance",vY="@firebase/performance-compat",bY="@firebase/remote-config",xY="@firebase/remote-config-compat",wY="@firebase/storage",_Y="@firebase/storage-compat",SY="@firebase/firestore",TY="@firebase/vertexai-preview",AY="@firebase/firestore-compat",EY="firebase",NY="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="[DEFAULT]",OY={[cS]:"fire-core",[tY]:"fire-core-compat",[nY]:"fire-analytics",[rY]:"fire-analytics-compat",[aY]:"fire-app-check",[iY]:"fire-app-check-compat",[sY]:"fire-auth",[oY]:"fire-auth-compat",[lY]:"fire-rtdb",[cY]:"fire-data-connect",[uY]:"fire-rtdb-compat",[hY]:"fire-fn",[dY]:"fire-fn-compat",[fY]:"fire-iid",[mY]:"fire-iid-compat",[pY]:"fire-fcm",[gY]:"fire-fcm-compat",[yY]:"fire-perf",[vY]:"fire-perf-compat",[bY]:"fire-rc",[xY]:"fire-rc-compat",[wY]:"fire-gcs",[_Y]:"fire-gcs-compat",[SY]:"fire-fst",[AY]:"fire-fst-compat",[TY]:"fire-vertex","fire-js":"fire-js",[EY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map,kY=new Map,hS=new Map;function tk(t,e){try{t.container.addComponent(e)}catch(r){cl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Lc(t){const e=t.name;if(hS.has(e))return cl.debug(`There were multiple attempts to register component ${e}.`),!1;hS.set(e,t);for(const r of Hy.values())tk(r,t);for(const r of kY.values())tk(r,t);return!0}function Hp(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Wo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ic=new Fp("app","Firebase",CY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ic.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=NY;function wU(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:uS,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Ic.create("bad-app-name",{appName:String(i)});if(r||(r=mU()),!r)throw Ic.create("no-options");const a=Hy.get(i);if(a){if(zm(r,a.options)&&zm(n,a.config))return a;throw Ic.create("duplicate-app",{appName:i})}const s=new LX(i);for(const u of hS.values())s.addComponent(u);const c=new IY(r,n,s);return Hy.set(i,c),c}function Ib(t=uS){const e=Hy.get(t);if(!e&&t===uS&&mU())return wU();if(!e)throw Ic.create("no-app",{appName:t});return e}function ns(t,e,r){var n;let i=(n=OY[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cl.warn(c.join(" "));return}Lc(new ll(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jY="firebase-heartbeat-database",RY=1,Vm="firebase-heartbeat-store";let mw=null;function _U(){return mw||(mw=YX(jY,RY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vm)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ic.create("idb-open",{originalErrorMessage:t.message})})),mw}async function MY(t){try{const r=(await _U()).transaction(Vm),n=await r.objectStore(Vm).get(SU(t));return await r.done,n}catch(e){if(e instanceof Ms)cl.warn(e.message);else{const r=Ic.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cl.warn(r.message)}}}async function rk(t,e){try{const n=(await _U()).transaction(Vm,"readwrite");await n.objectStore(Vm).put(e,SU(t)),await n.done}catch(r){if(r instanceof Ms)cl.warn(r.message);else{const n=Ic.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});cl.warn(n.message)}}}function SU(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY=1024,DY=720*60*60*1e3;class LY{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new UY(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=nk();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const c=new Date(s.date).valueOf();return Date.now()-c<=DY}),this._storage.overwrite(this._heartbeatsCache))}catch(n){cl.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=nk(),{heartbeatsToSend:n,unsentEntries:i}=BY(this._heartbeatsCache.heartbeats),a=qy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return cl.warn(r),""}}}function nk(){return new Date().toISOString().substring(0,10)}function BY(t,e=PY){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),ik(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),ik(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class UY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vU()?EX().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await MY(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return rk(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return rk(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ik(t){return qy(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zY(t){Lc(new ll("platform-logger",e=>new JX(e),"PRIVATE")),Lc(new ll("heartbeat",e=>new LY(e),"PRIVATE")),ns(cS,ek,t),ns(cS,ek,"esm2017"),ns("fire-js","")}zY("");var VY="firebase",$Y="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(VY,$Y,"app");function RT(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function TU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FY=TU,AU=new Fp("auth","Firebase",TU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=new IT("@firebase/auth");function qY(t,...e){Gy.logLevel<=Zt.WARN&&Gy.warn(`Auth (${S0}): ${t}`,...e)}function Ey(t,...e){Gy.logLevel<=Zt.ERROR&&Gy.error(`Auth (${S0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t,...e){throw PT(t,...e)}function Cs(t,...e){return PT(t,...e)}function MT(t,e,r){const n=Object.assign(Object.assign({},FY()),{[e]:r});return new Fp("auth","Firebase",n).create(e,{appName:t.name})}function Xu(t){return MT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HY(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&ao(t,"argument-error"),MT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function PT(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return AU.create(t,...e)}function Ct(t,e,...r){if(!t)throw PT(e,...r)}function Xo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ey(e),new Error(e)}function ul(t,e){t||Xo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GY(){return ak()==="http:"||ak()==="https:"}function ak(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GY()||SX()||"connection"in navigator)?navigator.onLine:!0}function WY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,r){this.shortDelay=e,this.longDelay=r,ul(r>e,"Short delay should be less than long delay!"),this.isMobile=xX()||TX()}get(){return KY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t,e){ul(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YY=new Gp(3e4,6e4);function LT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rd(t,e,r,n,i={}){return NU(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const c=qp(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:u},a);return _X()||(f.referrerPolicy="no-referrer"),EU.fetch()(OU(t,t.config.apiHost,r,c),f)})}async function NU(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},XY),e);try{const i=new ZY(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw F1(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const c=a.ok?s.errorMessage:s.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw F1(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw F1(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw F1(t,"user-disabled",s);const m=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw MT(t,m,f);ao(t,m)}}catch(i){if(i instanceof Ms)throw i;ao(t,"network-request-failed",{message:String(i)})}}async function QY(t,e,r,n,i={}){const a=await Rd(t,e,r,n,i);return"mfaPendingCredential"in a&&ao(t,"multi-factor-auth-required",{_serverResponse:a}),a}function OU(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?DT(t.config,i):`${t.config.apiScheme}://${i}`}class ZY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Cs(this.auth,"network-request-failed")),YY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function F1(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Cs(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JY(t,e){return Rd(t,"POST","/v1/accounts:delete",e)}async function kU(t,e){return Rd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eQ(t,e=!1){const r=zr(t),n=await r.getIdToken(e),i=BT(n);Ct(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:wm(pw(i.auth_time)),issuedAtTime:wm(pw(i.iat)),expirationTime:wm(pw(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function pw(t){return Number(t)*1e3}function BT(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Ey("JWT malformed, contained fewer than 3 sections"),null;try{const i=dU(r);return i?JSON.parse(i):(Ey("Failed to decode base64 JWT payload"),null)}catch(i){return Ey("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sk(t){const e=BT(t);return Ct(e,"internal-error"),Ct(typeof e.exp<"u","internal-error"),Ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $m(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ms&&tQ(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function tQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=wm(this.lastLoginAt),this.creationTime=wm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ky(t){var e;const r=t.auth,n=await t.getIdToken(),i=await $m(t,kU(r,{idToken:n}));Ct(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?CU(a.providerUserInfo):[],c=iQ(t.providerData,s),u=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=u?f:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new fS(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function nQ(t){const e=zr(t);await Ky(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iQ(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function CU(t){return t.map(e=>{var{providerId:r}=e,n=RT(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aQ(t,e){const r=await NU(t,{},async()=>{const n=qp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=OU(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",EU.fetch()(s,{method:"POST",headers:c,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function sQ(t,e){return Rd(t,"POST","/v2/accounts:revokeToken",LT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ct(e.idToken,"internal-error"),Ct(typeof e.idToken<"u","internal-error"),Ct(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ct(e.length!==0,"internal-error");const r=sk(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await aQ(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Bh;return n&&(Ct(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Ct(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Ct(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bh,this.toJSON())}_performRefresh(){return Xo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t,e){Ct(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yo{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=RT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new fS(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await $m(this,this.stsTokenManager.getToken(this.auth,e));return Ct(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return eQ(this,e)}reload(){return nQ(this)}_assign(e){this!==e&&(Ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Yo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Ky(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wo(this.auth.app))return Promise.reject(Xu(this.auth));const e=await this.getIdToken();return await $m(this,JY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,c,u,f,m;const g=(n=r.displayName)!==null&&n!==void 0?n:void 0,v=(i=r.email)!==null&&i!==void 0?i:void 0,x=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,T=(s=r.photoURL)!==null&&s!==void 0?s:void 0,S=(c=r.tenantId)!==null&&c!==void 0?c:void 0,_=(u=r._redirectEventId)!==null&&u!==void 0?u:void 0,C=(f=r.createdAt)!==null&&f!==void 0?f:void 0,I=(m=r.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:P,emailVerified:V,isAnonymous:j,providerData:D,stsTokenManager:A}=r;Ct(P&&A,e,"internal-error");const N=Bh.fromJSON(this.name,A);Ct(typeof P=="string",e,"internal-error"),oc(g,e.name),oc(v,e.name),Ct(typeof V=="boolean",e,"internal-error"),Ct(typeof j=="boolean",e,"internal-error"),oc(x,e.name),oc(T,e.name),oc(S,e.name),oc(_,e.name),oc(C,e.name),oc(I,e.name);const k=new Yo({uid:P,auth:e,email:v,emailVerified:V,displayName:g,isAnonymous:j,photoURL:T,phoneNumber:x,tenantId:S,stsTokenManager:N,createdAt:C,lastLoginAt:I});return D&&Array.isArray(D)&&(k.providerData=D.map($=>Object.assign({},$))),_&&(k._redirectEventId=_),k}static async _fromIdTokenResponse(e,r,n=!1){const i=new Bh;i.updateFromServerResponse(r);const a=new Yo({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Ky(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ct(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?CU(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Bh;c.updateFromIdToken(n);const u=new Yo({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new fS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new Map;function Qo(t){ul(t instanceof Function,"Expected a class definition");let e=ok.get(t);return e?(ul(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ok.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}IU.type="NONE";const lk=IU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t,e,r){return`firebase:${t}:${e}:${r}`}class Uh{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Ny(this.userKey,i.apiKey,a),this.fullPersistenceKey=Ny("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Uh(Qo(lk),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Qo(lk);const s=Ny(n,e.config.apiKey,e.name);let c=null;for(const f of r)try{const m=await f._get(s);if(m){const g=Yo._fromJSON(e,m);f!==a&&(c=g),a=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Uh(a,e,n):(a=u[0],c&&await a._set(s,c.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new Uh(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LU(e))return"Blackberry";if(BU(e))return"Webos";if(RU(e))return"Safari";if((e.includes("chrome/")||MU(e))&&!e.includes("edge/"))return"Chrome";if(DU(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function jU(t=zn()){return/firefox\//i.test(t)}function RU(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MU(t=zn()){return/crios\//i.test(t)}function PU(t=zn()){return/iemobile/i.test(t)}function DU(t=zn()){return/android/i.test(t)}function LU(t=zn()){return/blackberry/i.test(t)}function BU(t=zn()){return/webos/i.test(t)}function UT(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oQ(t=zn()){var e;return UT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lQ(){return AX()&&document.documentMode===10}function UU(t=zn()){return UT(t)||DU(t)||BU(t)||LU(t)||/windows phone/i.test(t)||PU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t,e=[]){let r;switch(t){case"Browser":r=ck(zn());break;case"Worker":r=`${ck(zn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${S0}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,c)=>{try{const u=e(a);s(u)}catch(u){c(u)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uQ(t,e={}){return Rd(t,"GET","/v2/passwordPolicy",LT(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hQ=6;class dQ{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:hQ,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(r=u.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(n=u.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uk(this),this.idTokenSubscription=new uk(this),this.beforeStateQueue=new cQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Qo(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Uh.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await kU(this,{idToken:e}),n=await Yo._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Wo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===c)&&(u!=null&&u.user)&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Ky(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wo(this.app))return Promise.reject(Xu(this));const r=e?zr(e):null;return r&&Ct(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wo(this.app)?Promise.reject(Xu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wo(this.app)?Promise.reject(Xu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uQ(this),r=new dQ(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fp("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await sQ(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Qo(e)||this._popupRedirectResolver;Ct(r,this,"argument-error"),this.redirectPersistenceManager=await Uh.create(this,[Qo(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(c,this,"internal-error"),c.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const u=e.addObserver(r,n,i);return()=>{s=!0,u()}}else{const u=e.addObserver(r);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&qY(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function jb(t){return zr(t)}class uk{constructor(e){this.auth=e,this.observer=null,this.addObserver=IX(r=>this.observer=r)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mQ(t){zT=t}function pQ(t){return zT.loadJS(t)}function gQ(){return zT.gapiScript}function yQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vQ(t,e){const r=Hp(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(zm(a,e??{}))return i;ao(i,"already-initialized")}return r.initialize({options:e})}function bQ(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Qo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function xQ(t,e,r){const n=jb(t);Ct(n._canInitEmulator,n,"emulator-config-failed"),Ct(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=VU(e),{host:s,port:c}=wQ(e),u=c===null?"":`:${c}`;n.config.emulator={url:`${a}//${s}${u}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),_Q()}function VU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wQ(t){const e=VU(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:hk(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:hk(s)}}}function hk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _Q(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Xo("not implemented")}_getIdTokenResponse(e){return Xo("not implemented")}_linkToIdToken(e,r){return Xo("not implemented")}_getReauthenticationResolver(e){return Xo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t,e){return QY(t,"POST","/v1/accounts:signInWithIdp",LT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ="http://localhost";class r0 extends $U{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new r0(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ao("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=RT(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new r0(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return zh(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,zh(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,zh(e,r)}buildRequest(){const e={requestUri:SQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=qp(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends VT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Kp{constructor(){super("facebook.com")}static credential(e){return r0._fromParams({providerId:pc.PROVIDER_ID,signInMethod:pc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pc.credentialFromTaggedObject(e)}static credentialFromError(e){return pc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pc.credential(e.oauthAccessToken)}catch{return null}}}pc.FACEBOOK_SIGN_IN_METHOD="facebook.com";pc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Kp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return r0._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Go.credential(r,n)}catch{return null}}}Go.GOOGLE_SIGN_IN_METHOD="google.com";Go.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends Kp{constructor(){super("github.com")}static credential(e){return r0._fromParams({providerId:gc.PROVIDER_ID,signInMethod:gc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gc.credentialFromTaggedObject(e)}static credentialFromError(e){return gc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gc.credential(e.oauthAccessToken)}catch{return null}}}gc.GITHUB_SIGN_IN_METHOD="github.com";gc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends Kp{constructor(){super("twitter.com")}static credential(e,r){return r0._fromParams({providerId:yc.PROVIDER_ID,signInMethod:yc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return yc.credentialFromTaggedObject(e)}static credentialFromError(e){return yc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return yc.credential(r,n)}catch{return null}}}yc.TWITTER_SIGN_IN_METHOD="twitter.com";yc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Yo._fromIdTokenResponse(e,n,i),s=dk(n);return new Xh({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=dk(n);return new Xh({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function dk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy extends Ms{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Wy.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Wy(e,r,n,i)}}function FU(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Wy._fromErrorAndOperation(t,a,e,n):a})}async function TQ(t,e,r=!1){const n=await $m(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Xh._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AQ(t,e,r=!1){const{auth:n}=t;if(Wo(n.app))return Promise.reject(Xu(n));const i="reauthenticate";try{const a=await $m(t,FU(n,i,e,t),r);Ct(a.idToken,n,"internal-error");const s=BT(a.idToken);Ct(s,n,"internal-error");const{sub:c}=s;return Ct(t.uid===c,n,"user-mismatch"),Xh._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ao(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EQ(t,e,r=!1){if(Wo(t.app))return Promise.reject(Xu(t));const n="signIn",i=await FU(t,n,e),a=await Xh._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}function NQ(t,e,r,n){return zr(t).onIdTokenChanged(e,r,n)}function OQ(t,e,r){return zr(t).beforeAuthStateChanged(e,r)}function kQ(t,e,r,n){return zr(t).onAuthStateChanged(e,r,n)}function CQ(t){return zr(t).signOut()}const Xy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Xy,"1"),this.storage.removeItem(Xy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IQ=1e3,jQ=10;class HU extends qU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,c,u)=>{this.notifyListeners(s,u)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);lQ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jQ):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},IQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}HU.type="LOCAL";const RQ=HU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU extends qU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}GU.type="SESSION";const KU=GU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Rb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(s).map(async f=>f(r.origin,a)),u=await MQ(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:u})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((c,u)=>{const f=$T("",20);i.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(v.data.response);break;default:clearTimeout(m),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(){return window}function DQ(t){to().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(){return typeof to().WorkerGlobalScope<"u"&&typeof to().importScripts=="function"}async function LQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function UQ(){return WU()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="firebaseLocalStorageDb",zQ=1,Yy="firebaseLocalStorage",YU="fbase_key";class Wp{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Mb(t,e){return t.transaction([Yy],e?"readwrite":"readonly").objectStore(Yy)}function VQ(){const t=indexedDB.deleteDatabase(XU);return new Wp(t).toPromise()}function mS(){const t=indexedDB.open(XU,zQ);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Yy,{keyPath:YU})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Yy)?e(n):(n.close(),await VQ(),e(await mS()))})})}async function fk(t,e,r){const n=Mb(t,!0).put({[YU]:e,value:r});return new Wp(n).toPromise()}async function $Q(t,e){const r=Mb(t,!1).get(e),n=await new Wp(r).toPromise();return n===void 0?null:n.value}function mk(t,e){const r=Mb(t,!0).delete(e);return new Wp(r).toPromise()}const FQ=800,qQ=3;class QU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mS(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>qQ)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rb._getInstance(UQ()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await LQ(),!this.activeServiceWorker)return;this.sender=new PQ(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mS();return await fk(e,Xy,"1"),await mk(e,Xy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>fk(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>$Q(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>mk(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Mb(i,!1).getAll();return new Wp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QU.type="LOCAL";const HQ=QU;new Gp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t,e){return e?Qo(e):(Ct(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends $U{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zh(e,this._buildIdpRequest())}_linkToIdToken(e,r){return zh(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return zh(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function GQ(t){return EQ(t.auth,new FT(t),t.bypassAuthState)}function KQ(t){const{auth:e,user:r}=t;return Ct(r,e,"internal-error"),AQ(r,new FT(t),t.bypassAuthState)}async function WQ(t){const{auth:e,user:r}=t;return Ct(r,e,"internal-error"),TQ(r,new FT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:c}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GQ;case"linkViaPopup":case"linkViaRedirect":return WQ;case"reauthViaPopup":case"reauthViaRedirect":return KQ;default:ao(this.auth,"internal-error")}}resolve(e){ul(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ul(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XQ=new Gp(2e3,1e4);async function YQ(t,e,r){if(Wo(t.app))return Promise.reject(Cs(t,"operation-not-supported-in-this-environment"));const n=jb(t);HY(t,e,VT);const i=ZU(n,r);return new Vu(n,"signInViaPopup",e,i).executeNotNull()}class Vu extends JU{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Vu.currentPopupAction&&Vu.currentPopupAction.cancel(),Vu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ct(e,this.auth,"internal-error"),e}async onExecution(){ul(this.filter.length===1,"Popup operations only handle one event");const e=$T();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XQ.get())};e()}}Vu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QQ="pendingRedirect",Oy=new Map;class ZQ extends JU{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Oy.get(this.auth._key());if(!e){try{const n=await JQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Oy.set(this.auth._key(),e)}return this.bypassAuthState||Oy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JQ(t,e){const r=rZ(e),n=tZ(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function eZ(t,e){Oy.set(t._key(),e)}function tZ(t){return Qo(t._redirectPersistence)}function rZ(t){return Ny(QQ,t.config.apiKey,t.name)}async function nZ(t,e,r=!1){if(Wo(t.app))return Promise.reject(Xu(t));const n=jb(t),i=ZU(n,e),s=await new ZQ(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iZ=600*1e3;class aZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sZ(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!ez(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Cs(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(pk(e))}saveEventToCache(e){this.cachedEventUids.add(pk(e)),this.lastProcessedEventTime=Date.now()}}function pk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ez({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ez(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oZ(t,e={}){return Rd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cZ=/^https?/;async function uZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oZ(t);for(const r of e)try{if(hZ(r))return}catch{}ao(t,"unauthorized-domain")}function hZ(t){const e=dS(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!cZ.test(r))return!1;if(lZ.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dZ=new Gp(3e4,6e4);function gk(){const t=to().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function fZ(t){return new Promise((e,r)=>{var n,i,a;function s(){gk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gk(),r(Cs(t,"network-request-failed"))},timeout:dZ.get()})}if(!((i=(n=to().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=to().gapi)===null||a===void 0)&&a.load)s();else{const c=yQ("iframefcb");return to()[c]=()=>{gapi.load?s():r(Cs(t,"network-request-failed"))},pQ(`${gQ()}?onload=${c}`).catch(u=>r(u))}}).catch(e=>{throw ky=null,e})}let ky=null;function mZ(t){return ky=ky||fZ(t),ky}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ=new Gp(5e3,15e3),gZ="__/auth/iframe",yZ="emulator/auth/iframe",vZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xZ(t){const e=t.config;Ct(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?DT(e,yZ):`https://${t.config.authDomain}/${gZ}`,n={apiKey:e.apiKey,appName:t.name,v:S0},i=bZ.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${qp(n).slice(1)}`}async function wZ(t){const e=await mZ(t),r=to().gapi;return Ct(r,t,"internal-error"),e.open({where:document.body,url:xZ(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vZ,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=Cs(t,"network-request-failed"),c=to().setTimeout(()=>{a(s)},pZ.get());function u(){to().clearTimeout(c),i(n)}n.ping(u).then(u,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Z={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SZ=500,TZ=600,AZ="_blank",EZ="http://localhost";class yk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NZ(t,e,r,n=SZ,i=TZ){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const u=Object.assign(Object.assign({},_Z),{width:n.toString(),height:i.toString(),top:a,left:s}),f=zn().toLowerCase();r&&(c=MU(f)?AZ:r),jU(f)&&(e=e||EZ,u.scrollbars="yes");const m=Object.entries(u).reduce((v,[x,T])=>`${v}${x}=${T},`,"");if(oQ(f)&&c!=="_self")return OZ(e||"",c),new yk(null);const g=window.open(e||"",c,m);Ct(g,t,"popup-blocked");try{g.focus()}catch{}return new yk(g)}function OZ(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZ="__/auth/handler",CZ="emulator/auth/handler",IZ=encodeURIComponent("fac");async function vk(t,e,r,n,i,a){Ct(t.config.authDomain,t,"auth-domain-config-required"),Ct(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:S0,eventId:i};if(e instanceof VT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",CX(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))s[m]=g}if(e instanceof Kp){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(s.scopes=m.join(","))}t.tenantId&&(s.tid=t.tenantId);const c=s;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const u=await t._getAppCheckToken(),f=u?`#${IZ}=${encodeURIComponent(u)}`:"";return`${jZ(t)}?${qp(c).slice(1)}${f}`}function jZ({config:t}){return t.emulator?DT(t,CZ):`https://${t.authDomain}/${kZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="webStorageSupport";class RZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KU,this._completeRedirectFn=nZ,this._overrideRedirectResult=eZ}async _openPopup(e,r,n,i){var a;ul((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await vk(e,r,n,dS(),i);return NZ(e,s,$T())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await vk(e,r,n,dS(),i);return DQ(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(ul(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await wZ(e),n=new aZ(e);return r.register("authEvent",i=>(Ct(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(gw,{type:gw},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[gw];s!==void 0&&r(!!s),ao(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=uZ(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return UU()||RU()||UT()}}const MZ=RZ;var bk="@firebase/auth",xk="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LZ(t){Lc(new ll("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=n.options;Ct(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zU(t)},f=new fQ(n,i,a,u);return bQ(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Lc(new ll("auth-internal",e=>{const r=jb(e.getProvider("auth").getImmediate());return(n=>new PZ(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(bk,xk,DZ(t)),ns(bk,xk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BZ=300,UZ=pU("authIdTokenMaxAge")||BZ;let wk=null;const zZ=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>UZ)return;const i=r==null?void 0:r.token;wk!==i&&(wk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tz(t=Ib()){const e=Hp(t,"auth");if(e.isInitialized())return e.getImmediate();const r=vQ(t,{popupRedirectResolver:MZ,persistence:[HQ,RQ,KU]}),n=pU("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=zZ(a.toString());OQ(r,s,()=>s(r.currentUser)),NQ(r,c=>s(c))}}const i=fU("auth");return i&&xQ(r,`http://${i}`),r}function VZ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mQ({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Cs("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",VZ().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LZ("Browser");var _k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yu,rz;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,N){function k(){}k.prototype=N.prototype,A.D=N.prototype,A.prototype=new k,A.prototype.constructor=A,A.C=function($,M,z){for(var U=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)U[Y-2]=arguments[Y];return N.prototype[M].apply($,U)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,N,k){k||(k=0);var $=Array(16);if(typeof N=="string")for(var M=0;16>M;++M)$[M]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(M=0;16>M;++M)$[M]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=A.g[0],k=A.g[1],M=A.g[2];var z=A.g[3],U=N+(z^k&(M^z))+$[0]+3614090360&4294967295;N=k+(U<<7&4294967295|U>>>25),U=z+(M^N&(k^M))+$[1]+3905402710&4294967295,z=N+(U<<12&4294967295|U>>>20),U=M+(k^z&(N^k))+$[2]+606105819&4294967295,M=z+(U<<17&4294967295|U>>>15),U=k+(N^M&(z^N))+$[3]+3250441966&4294967295,k=M+(U<<22&4294967295|U>>>10),U=N+(z^k&(M^z))+$[4]+4118548399&4294967295,N=k+(U<<7&4294967295|U>>>25),U=z+(M^N&(k^M))+$[5]+1200080426&4294967295,z=N+(U<<12&4294967295|U>>>20),U=M+(k^z&(N^k))+$[6]+2821735955&4294967295,M=z+(U<<17&4294967295|U>>>15),U=k+(N^M&(z^N))+$[7]+4249261313&4294967295,k=M+(U<<22&4294967295|U>>>10),U=N+(z^k&(M^z))+$[8]+1770035416&4294967295,N=k+(U<<7&4294967295|U>>>25),U=z+(M^N&(k^M))+$[9]+2336552879&4294967295,z=N+(U<<12&4294967295|U>>>20),U=M+(k^z&(N^k))+$[10]+4294925233&4294967295,M=z+(U<<17&4294967295|U>>>15),U=k+(N^M&(z^N))+$[11]+2304563134&4294967295,k=M+(U<<22&4294967295|U>>>10),U=N+(z^k&(M^z))+$[12]+1804603682&4294967295,N=k+(U<<7&4294967295|U>>>25),U=z+(M^N&(k^M))+$[13]+4254626195&4294967295,z=N+(U<<12&4294967295|U>>>20),U=M+(k^z&(N^k))+$[14]+2792965006&4294967295,M=z+(U<<17&4294967295|U>>>15),U=k+(N^M&(z^N))+$[15]+1236535329&4294967295,k=M+(U<<22&4294967295|U>>>10),U=N+(M^z&(k^M))+$[1]+4129170786&4294967295,N=k+(U<<5&4294967295|U>>>27),U=z+(k^M&(N^k))+$[6]+3225465664&4294967295,z=N+(U<<9&4294967295|U>>>23),U=M+(N^k&(z^N))+$[11]+643717713&4294967295,M=z+(U<<14&4294967295|U>>>18),U=k+(z^N&(M^z))+$[0]+3921069994&4294967295,k=M+(U<<20&4294967295|U>>>12),U=N+(M^z&(k^M))+$[5]+3593408605&4294967295,N=k+(U<<5&4294967295|U>>>27),U=z+(k^M&(N^k))+$[10]+38016083&4294967295,z=N+(U<<9&4294967295|U>>>23),U=M+(N^k&(z^N))+$[15]+3634488961&4294967295,M=z+(U<<14&4294967295|U>>>18),U=k+(z^N&(M^z))+$[4]+3889429448&4294967295,k=M+(U<<20&4294967295|U>>>12),U=N+(M^z&(k^M))+$[9]+568446438&4294967295,N=k+(U<<5&4294967295|U>>>27),U=z+(k^M&(N^k))+$[14]+3275163606&4294967295,z=N+(U<<9&4294967295|U>>>23),U=M+(N^k&(z^N))+$[3]+4107603335&4294967295,M=z+(U<<14&4294967295|U>>>18),U=k+(z^N&(M^z))+$[8]+1163531501&4294967295,k=M+(U<<20&4294967295|U>>>12),U=N+(M^z&(k^M))+$[13]+2850285829&4294967295,N=k+(U<<5&4294967295|U>>>27),U=z+(k^M&(N^k))+$[2]+4243563512&4294967295,z=N+(U<<9&4294967295|U>>>23),U=M+(N^k&(z^N))+$[7]+1735328473&4294967295,M=z+(U<<14&4294967295|U>>>18),U=k+(z^N&(M^z))+$[12]+2368359562&4294967295,k=M+(U<<20&4294967295|U>>>12),U=N+(k^M^z)+$[5]+4294588738&4294967295,N=k+(U<<4&4294967295|U>>>28),U=z+(N^k^M)+$[8]+2272392833&4294967295,z=N+(U<<11&4294967295|U>>>21),U=M+(z^N^k)+$[11]+1839030562&4294967295,M=z+(U<<16&4294967295|U>>>16),U=k+(M^z^N)+$[14]+4259657740&4294967295,k=M+(U<<23&4294967295|U>>>9),U=N+(k^M^z)+$[1]+2763975236&4294967295,N=k+(U<<4&4294967295|U>>>28),U=z+(N^k^M)+$[4]+1272893353&4294967295,z=N+(U<<11&4294967295|U>>>21),U=M+(z^N^k)+$[7]+4139469664&4294967295,M=z+(U<<16&4294967295|U>>>16),U=k+(M^z^N)+$[10]+3200236656&4294967295,k=M+(U<<23&4294967295|U>>>9),U=N+(k^M^z)+$[13]+681279174&4294967295,N=k+(U<<4&4294967295|U>>>28),U=z+(N^k^M)+$[0]+3936430074&4294967295,z=N+(U<<11&4294967295|U>>>21),U=M+(z^N^k)+$[3]+3572445317&4294967295,M=z+(U<<16&4294967295|U>>>16),U=k+(M^z^N)+$[6]+76029189&4294967295,k=M+(U<<23&4294967295|U>>>9),U=N+(k^M^z)+$[9]+3654602809&4294967295,N=k+(U<<4&4294967295|U>>>28),U=z+(N^k^M)+$[12]+3873151461&4294967295,z=N+(U<<11&4294967295|U>>>21),U=M+(z^N^k)+$[15]+530742520&4294967295,M=z+(U<<16&4294967295|U>>>16),U=k+(M^z^N)+$[2]+3299628645&4294967295,k=M+(U<<23&4294967295|U>>>9),U=N+(M^(k|~z))+$[0]+4096336452&4294967295,N=k+(U<<6&4294967295|U>>>26),U=z+(k^(N|~M))+$[7]+1126891415&4294967295,z=N+(U<<10&4294967295|U>>>22),U=M+(N^(z|~k))+$[14]+2878612391&4294967295,M=z+(U<<15&4294967295|U>>>17),U=k+(z^(M|~N))+$[5]+4237533241&4294967295,k=M+(U<<21&4294967295|U>>>11),U=N+(M^(k|~z))+$[12]+1700485571&4294967295,N=k+(U<<6&4294967295|U>>>26),U=z+(k^(N|~M))+$[3]+2399980690&4294967295,z=N+(U<<10&4294967295|U>>>22),U=M+(N^(z|~k))+$[10]+4293915773&4294967295,M=z+(U<<15&4294967295|U>>>17),U=k+(z^(M|~N))+$[1]+2240044497&4294967295,k=M+(U<<21&4294967295|U>>>11),U=N+(M^(k|~z))+$[8]+1873313359&4294967295,N=k+(U<<6&4294967295|U>>>26),U=z+(k^(N|~M))+$[15]+4264355552&4294967295,z=N+(U<<10&4294967295|U>>>22),U=M+(N^(z|~k))+$[6]+2734768916&4294967295,M=z+(U<<15&4294967295|U>>>17),U=k+(z^(M|~N))+$[13]+1309151649&4294967295,k=M+(U<<21&4294967295|U>>>11),U=N+(M^(k|~z))+$[4]+4149444226&4294967295,N=k+(U<<6&4294967295|U>>>26),U=z+(k^(N|~M))+$[11]+3174756917&4294967295,z=N+(U<<10&4294967295|U>>>22),U=M+(N^(z|~k))+$[2]+718787259&4294967295,M=z+(U<<15&4294967295|U>>>17),U=k+(z^(M|~N))+$[9]+3951481745&4294967295,A.g[0]=A.g[0]+N&4294967295,A.g[1]=A.g[1]+(M+(U<<21&4294967295|U>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+z&4294967295}n.prototype.u=function(A,N){N===void 0&&(N=A.length);for(var k=N-this.blockSize,$=this.B,M=this.h,z=0;z<N;){if(M==0)for(;z<=k;)i(this,A,z),z+=this.blockSize;if(typeof A=="string"){for(;z<N;)if($[M++]=A.charCodeAt(z++),M==this.blockSize){i(this,$),M=0;break}}else for(;z<N;)if($[M++]=A[z++],M==this.blockSize){i(this,$),M=0;break}}this.h=M,this.o+=N},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var N=1;N<A.length-8;++N)A[N]=0;var k=8*this.o;for(N=A.length-8;N<A.length;++N)A[N]=k&255,k/=256;for(this.u(A),A=Array(16),N=k=0;4>N;++N)for(var $=0;32>$;$+=8)A[k++]=this.g[N]>>>$&255;return A};function a(A,N){var k=c;return Object.prototype.hasOwnProperty.call(k,A)?k[A]:k[A]=N(A)}function s(A,N){this.h=N;for(var k=[],$=!0,M=A.length-1;0<=M;M--){var z=A[M]|0;$&&z==N||(k[M]=z,$=!1)}this.g=k}var c={};function u(A){return-128<=A&&128>A?a(A,function(N){return new s([N|0],0>N?-1:0)}):new s([A|0],0>A?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return g;if(0>A)return _(f(-A));for(var N=[],k=1,$=0;A>=k;$++)N[$]=A/k|0,k*=4294967296;return new s(N,0)}function m(A,N){if(A.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(A.charAt(0)=="-")return _(m(A.substring(1),N));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(N,8)),$=g,M=0;M<A.length;M+=8){var z=Math.min(8,A.length-M),U=parseInt(A.substring(M,M+z),N);8>z?(z=f(Math.pow(N,z)),$=$.j(z).add(f(U))):($=$.j(k),$=$.add(f(U)))}return $}var g=u(0),v=u(1),x=u(16777216);t=s.prototype,t.m=function(){if(S(this))return-_(this).m();for(var A=0,N=1,k=0;k<this.g.length;k++){var $=this.i(k);A+=(0<=$?$:4294967296+$)*N,N*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T(this))return"0";if(S(this))return"-"+_(this).toString(A);for(var N=f(Math.pow(A,6)),k=this,$="";;){var M=V(k,N).g;k=C(k,M.j(N));var z=((0<k.g.length?k.g[0]:k.h)>>>0).toString(A);if(k=M,T(k))return z+$;for(;6>z.length;)z="0"+z;$=z+$}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function T(A){if(A.h!=0)return!1;for(var N=0;N<A.g.length;N++)if(A.g[N]!=0)return!1;return!0}function S(A){return A.h==-1}t.l=function(A){return A=C(this,A),S(A)?-1:T(A)?0:1};function _(A){for(var N=A.g.length,k=[],$=0;$<N;$++)k[$]=~A.g[$];return new s(k,~A.h).add(v)}t.abs=function(){return S(this)?_(this):this},t.add=function(A){for(var N=Math.max(this.g.length,A.g.length),k=[],$=0,M=0;M<=N;M++){var z=$+(this.i(M)&65535)+(A.i(M)&65535),U=(z>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);$=U>>>16,z&=65535,U&=65535,k[M]=U<<16|z}return new s(k,k[k.length-1]&-2147483648?-1:0)};function C(A,N){return A.add(_(N))}t.j=function(A){if(T(this)||T(A))return g;if(S(this))return S(A)?_(this).j(_(A)):_(_(this).j(A));if(S(A))return _(this.j(_(A)));if(0>this.l(x)&&0>A.l(x))return f(this.m()*A.m());for(var N=this.g.length+A.g.length,k=[],$=0;$<2*N;$++)k[$]=0;for($=0;$<this.g.length;$++)for(var M=0;M<A.g.length;M++){var z=this.i($)>>>16,U=this.i($)&65535,Y=A.i(M)>>>16,ee=A.i(M)&65535;k[2*$+2*M]+=U*ee,I(k,2*$+2*M),k[2*$+2*M+1]+=z*ee,I(k,2*$+2*M+1),k[2*$+2*M+1]+=U*Y,I(k,2*$+2*M+1),k[2*$+2*M+2]+=z*Y,I(k,2*$+2*M+2)}for($=0;$<N;$++)k[$]=k[2*$+1]<<16|k[2*$];for($=N;$<2*N;$++)k[$]=0;return new s(k,0)};function I(A,N){for(;(A[N]&65535)!=A[N];)A[N+1]+=A[N]>>>16,A[N]&=65535,N++}function P(A,N){this.g=A,this.h=N}function V(A,N){if(T(N))throw Error("division by zero");if(T(A))return new P(g,g);if(S(A))return N=V(_(A),N),new P(_(N.g),_(N.h));if(S(N))return N=V(A,_(N)),new P(_(N.g),N.h);if(30<A.g.length){if(S(A)||S(N))throw Error("slowDivide_ only works with positive integers.");for(var k=v,$=N;0>=$.l(A);)k=j(k),$=j($);var M=D(k,1),z=D($,1);for($=D($,2),k=D(k,2);!T($);){var U=z.add($);0>=U.l(A)&&(M=M.add(k),z=U),$=D($,1),k=D(k,1)}return N=C(A,M.j(N)),new P(M,N)}for(M=g;0<=A.l(N);){for(k=Math.max(1,Math.floor(A.m()/N.m())),$=Math.ceil(Math.log(k)/Math.LN2),$=48>=$?1:Math.pow(2,$-48),z=f(k),U=z.j(N);S(U)||0<U.l(A);)k-=$,z=f(k),U=z.j(N);T(z)&&(z=v),M=M.add(z),A=C(A,U)}return new P(M,A)}t.A=function(A){return V(this,A).h},t.and=function(A){for(var N=Math.max(this.g.length,A.g.length),k=[],$=0;$<N;$++)k[$]=this.i($)&A.i($);return new s(k,this.h&A.h)},t.or=function(A){for(var N=Math.max(this.g.length,A.g.length),k=[],$=0;$<N;$++)k[$]=this.i($)|A.i($);return new s(k,this.h|A.h)},t.xor=function(A){for(var N=Math.max(this.g.length,A.g.length),k=[],$=0;$<N;$++)k[$]=this.i($)^A.i($);return new s(k,this.h^A.h)};function j(A){for(var N=A.g.length+1,k=[],$=0;$<N;$++)k[$]=A.i($)<<1|A.i($-1)>>>31;return new s(k,A.h)}function D(A,N){var k=N>>5;N%=32;for(var $=A.g.length-k,M=[],z=0;z<$;z++)M[z]=0<N?A.i(z+k)>>>N|A.i(z+k+1)<<32-N:A.i(z+k);return new s(M,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,rz=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=m,Yu=s}).apply(typeof _k<"u"?_k:typeof self<"u"?self:typeof window<"u"?window:{});var q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nz,dm,iz,Cy,pS,az,sz,oz;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,O,B){return y==Array.prototype||y==Object.prototype||(y[O]=B.value),y};function r(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof q1=="object"&&q1];for(var O=0;O<y.length;++O){var B=y[O];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var n=r(this);function i(y,O){if(O)e:{var B=n;y=y.split(".");for(var X=0;X<y.length-1;X++){var ye=y[X];if(!(ye in B))break e;B=B[ye]}y=y[y.length-1],X=B[y],O=O(X),O!=X&&O!=null&&e(B,y,{configurable:!0,writable:!0,value:O})}}function a(y,O){y instanceof String&&(y+="");var B=0,X=!1,ye={next:function(){if(!X&&B<y.length){var Te=B++;return{value:O(Te,y[Te]),done:!1}}return X=!0,{done:!0,value:void 0}}};return ye[Symbol.iterator]=function(){return ye},ye}i("Array.prototype.values",function(y){return y||function(){return a(this,function(O,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},c=this||self;function u(y){var O=typeof y;return O=O!="object"?O:y?Array.isArray(y)?"array":O:"null",O=="array"||O=="object"&&typeof y.length=="number"}function f(y){var O=typeof y;return O=="object"&&y!=null||O=="function"}function m(y,O,B){return y.call.apply(y.bind,arguments)}function g(y,O,B){if(!y)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var ye=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ye,X),y.apply(O,ye)}}return function(){return y.apply(O,arguments)}}function v(y,O,B){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,v.apply(null,arguments)}function x(y,O){var B=Array.prototype.slice.call(arguments,1);return function(){var X=B.slice();return X.push.apply(X,arguments),y.apply(this,X)}}function T(y,O){function B(){}B.prototype=O.prototype,y.aa=O.prototype,y.prototype=new B,y.prototype.constructor=y,y.Qb=function(X,ye,Te){for(var We=Array(arguments.length-2),yr=2;yr<arguments.length;yr++)We[yr-2]=arguments[yr];return O.prototype[ye].apply(X,We)}}function S(y){const O=y.length;if(0<O){const B=Array(O);for(let X=0;X<O;X++)B[X]=y[X];return B}return[]}function _(y,O){for(let B=1;B<arguments.length;B++){const X=arguments[B];if(u(X)){const ye=y.length||0,Te=X.length||0;y.length=ye+Te;for(let We=0;We<Te;We++)y[ye+We]=X[We]}else y.push(X)}}class C{constructor(O,B){this.i=O,this.j=B,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function I(y){return/^[\s\xa0]*$/.test(y)}function P(){var y=c.navigator;return y&&(y=y.userAgent)?y:""}function V(y){return V[" "](y),y}V[" "]=function(){};var j=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function D(y,O,B){for(const X in y)O.call(B,y[X],X,y)}function A(y,O){for(const B in y)O.call(void 0,y[B],B,y)}function N(y){const O={};for(const B in y)O[B]=y[B];return O}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(y,O){let B,X;for(let ye=1;ye<arguments.length;ye++){X=arguments[ye];for(B in X)y[B]=X[B];for(let Te=0;Te<k.length;Te++)B=k[Te],Object.prototype.hasOwnProperty.call(X,B)&&(y[B]=X[B])}}function M(y){var O=1;y=y.split(":");const B=[];for(;0<O&&y.length;)B.push(y.shift()),O--;return y.length&&B.push(y.join(":")),B}function z(y){c.setTimeout(()=>{throw y},0)}function U(){var y=fe;let O=null;return y.g&&(O=y.g,y.g=y.g.next,y.g||(y.h=null),O.next=null),O}class Y{constructor(){this.h=this.g=null}add(O,B){const X=ee.get();X.set(O,B),this.h?this.h.next=X:this.g=X,this.h=X}}var ee=new C(()=>new K,y=>y.reset());class K{constructor(){this.next=this.g=this.h=null}set(O,B){this.h=O,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let J,Q=!1,fe=new Y,ie=()=>{const y=c.Promise.resolve(void 0);J=()=>{y.then(W)}};var W=()=>{for(var y;y=U();){try{y.h.call(y.g)}catch(B){z(B)}var O=ee;O.j(y),100>O.h&&(O.h++,y.next=O.g,O.g=y)}Q=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(y,O){this.type=y,this.g=this.target=O,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Oe=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,O=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const B=()=>{};c.addEventListener("test",B,O),c.removeEventListener("test",B,O)}catch{}return y})();function se(y,O){if(ue.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var B=this.type=y.type,X=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=O,O=y.relatedTarget){if(j){e:{try{V(O.nodeName);var ye=!0;break e}catch{}ye=!1}ye||(O=null)}}else B=="mouseover"?O=y.fromElement:B=="mouseout"&&(O=y.toElement);this.relatedTarget=O,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:ke[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&se.aa.h.call(this)}}T(se,ue);var ke={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),et=0;function Ae(y,O,B,X,ye){this.listener=y,this.proxy=null,this.src=O,this.type=B,this.capture=!!X,this.ha=ye,this.key=++et,this.da=this.fa=!1}function qe(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function he(y){this.src=y,this.g={},this.h=0}he.prototype.add=function(y,O,B,X,ye){var Te=y.toString();y=this.g[Te],y||(y=this.g[Te]=[],this.h++);var We=Ge(y,O,X,ye);return-1<We?(O=y[We],B||(O.fa=!1)):(O=new Ae(O,this.src,Te,!!X,ye),O.fa=B,y.push(O)),O};function pe(y,O){var B=O.type;if(B in y.g){var X=y.g[B],ye=Array.prototype.indexOf.call(X,O,void 0),Te;(Te=0<=ye)&&Array.prototype.splice.call(X,ye,1),Te&&(qe(O),y.g[B].length==0&&(delete y.g[B],y.h--))}}function Ge(y,O,B,X){for(var ye=0;ye<y.length;++ye){var Te=y[ye];if(!Te.da&&Te.listener==O&&Te.capture==!!B&&Te.ha==X)return ye}return-1}var $e="closure_lm_"+(1e6*Math.random()|0),it={};function lt(y,O,B,X,ye){if(Array.isArray(O)){for(var Te=0;Te<O.length;Te++)lt(y,O[Te],B,X,ye);return null}return B=qt(B),y&&y[Me]?y.K(O,B,f(X)?!!X.capture:!1,ye):er(y,O,B,!1,X,ye)}function er(y,O,B,X,ye,Te){if(!O)throw Error("Invalid event type");var We=f(ye)?!!ye.capture:!!ye,yr=Ke(y);if(yr||(y[$e]=yr=new he(y)),B=yr.add(O,B,X,We,Te),B.proxy)return B;if(X=je(),B.proxy=X,X.src=y,X.listener=B,y.addEventListener)Oe||(ye=We),ye===void 0&&(ye=!1),y.addEventListener(O.toString(),X,ye);else if(y.attachEvent)y.attachEvent(rt(O.toString()),X);else if(y.addListener&&y.removeListener)y.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return B}function je(){function y(B){return O.call(y.src,y.listener,B)}const O=yt;return y}function le(y,O,B,X,ye){if(Array.isArray(O))for(var Te=0;Te<O.length;Te++)le(y,O[Te],B,X,ye);else X=f(X)?!!X.capture:!!X,B=qt(B),y&&y[Me]?(y=y.i,O=String(O).toString(),O in y.g&&(Te=y.g[O],B=Ge(Te,B,X,ye),-1<B&&(qe(Te[B]),Array.prototype.splice.call(Te,B,1),Te.length==0&&(delete y.g[O],y.h--)))):y&&(y=Ke(y))&&(O=y.g[O.toString()],y=-1,O&&(y=Ge(O,B,X,ye)),(B=-1<y?O[y]:null)&&ze(B))}function ze(y){if(typeof y!="number"&&y&&!y.da){var O=y.src;if(O&&O[Me])pe(O.i,y);else{var B=y.type,X=y.proxy;O.removeEventListener?O.removeEventListener(B,X,y.capture):O.detachEvent?O.detachEvent(rt(B),X):O.addListener&&O.removeListener&&O.removeListener(X),(B=Ke(O))?(pe(B,y),B.h==0&&(B.src=null,O[$e]=null)):qe(y)}}}function rt(y){return y in it?it[y]:it[y]="on"+y}function yt(y,O){if(y.da)y=!0;else{O=new se(O,this);var B=y.listener,X=y.ha||y.src;y.fa&&ze(y),y=B.call(X,O)}return y}function Ke(y){return y=y[$e],y instanceof he?y:null}var vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function qt(y){return typeof y=="function"?y:(y[vt]||(y[vt]=function(O){return y.handleEvent(O)}),y[vt])}function Ht(){Z.call(this),this.i=new he(this),this.M=this,this.F=null}T(Ht,Z),Ht.prototype[Me]=!0,Ht.prototype.removeEventListener=function(y,O,B,X){le(this,y,O,B,X)};function wt(y,O){var B,X=y.F;if(X)for(B=[];X;X=X.F)B.push(X);if(y=y.M,X=O.type||O,typeof O=="string")O=new ue(O,y);else if(O instanceof ue)O.target=O.target||y;else{var ye=O;O=new ue(X,y),$(O,ye)}if(ye=!0,B)for(var Te=B.length-1;0<=Te;Te--){var We=O.g=B[Te];ye=dr(We,X,!0,O)&&ye}if(We=O.g=y,ye=dr(We,X,!0,O)&&ye,ye=dr(We,X,!1,O)&&ye,B)for(Te=0;Te<B.length;Te++)We=O.g=B[Te],ye=dr(We,X,!1,O)&&ye}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var y=this.i,O;for(O in y.g){for(var B=y.g[O],X=0;X<B.length;X++)qe(B[X]);delete y.g[O],y.h--}}this.F=null},Ht.prototype.K=function(y,O,B,X){return this.i.add(String(y),O,!1,B,X)},Ht.prototype.L=function(y,O,B,X){return this.i.add(String(y),O,!0,B,X)};function dr(y,O,B,X){if(O=y.i.g[String(O)],!O)return!0;O=O.concat();for(var ye=!0,Te=0;Te<O.length;++Te){var We=O[Te];if(We&&!We.da&&We.capture==B){var yr=We.listener,Sn=We.ha||We.src;We.fa&&pe(y.i,We),ye=yr.call(Sn,X)!==!1&&ye}}return ye&&!X.defaultPrevented}function Gr(y,O,B){if(typeof y=="function")B&&(y=v(y,B));else if(y&&typeof y.handleEvent=="function")y=v(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:c.setTimeout(y,O||0)}function Wt(y){y.g=Gr(()=>{y.g=null,y.i&&(y.i=!1,Wt(y))},y.l);const O=y.h;y.h=null,y.m.apply(null,O)}class Pn extends Z{constructor(O,B){super(),this.m=O,this.l=B,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(y){Z.call(this),this.h=y,this.g={}}T(Vr,Z);var ti=[];function jr(y){D(y.g,function(O,B){this.g.hasOwnProperty(B)&&ze(O)},y),y.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),jr(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ln=c.JSON.stringify,pr=c.JSON.parse,ri=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function Ba(){}Ba.prototype.h=null;function fs(y){return y.h||(y.h=y.i())}function Ua(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fa(){ue.call(this,"d")}T(fa,ue);function fi(){ue.call(this,"c")}T(fi,ue);var rr={},qn=null;function ms(){return qn=qn||new Ht}rr.La="serverreachability";function ps(y){ue.call(this,rr.La,y)}T(ps,ue);function mi(y){const O=ms();wt(O,new ps(O))}rr.STAT_EVENT="statevent";function Xi(y,O){ue.call(this,rr.STAT_EVENT,y),this.stat=O}T(Xi,ue);function Zr(y){const O=ms();wt(O,new Xi(O,y))}rr.Ma="timingevent";function Ls(y,O){ue.call(this,rr.Ma,y),this.size=O}T(Ls,ue);function pi(y,O){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},O)}function ki(){this.g=!0}ki.prototype.xa=function(){this.g=!1};function Bs(y,O,B,X,ye,Te){y.info(function(){if(y.g)if(Te)for(var We="",yr=Te.split("&"),Sn=0;Sn<yr.length;Sn++){var $t=yr[Sn].split("=");if(1<$t.length){var Kn=$t[0];$t=$t[1];var Wn=Kn.split("_");We=2<=Wn.length&&Wn[1]=="type"?We+(Kn+"="+$t+"&"):We+(Kn+"=redacted&")}}else We=null;else We=Te;return"XMLHTTP REQ ("+X+") [attempt "+ye+"]: "+O+`
`+B+`
`+We})}function ge(y,O,B,X,ye,Te,We){y.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+ye+"]: "+O+`
`+B+`
`+Te+" "+We})}function Pe(y,O,B,X){y.info(function(){return"XMLHTTP TEXT ("+O+"): "+Tt(y,B)+(X?" "+X:"")})}function at(y,O){y.info(function(){return"TIMEOUT: "+O})}ki.prototype.info=function(){};function Tt(y,O){if(!y.g)return O;if(!O)return null;try{var B=JSON.parse(O);if(B){for(y=0;y<B.length;y++)if(Array.isArray(B[y])){var X=B[y];if(!(2>X.length)){var ye=X[1];if(Array.isArray(ye)&&!(1>ye.length)){var Te=ye[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(var We=1;We<ye.length;We++)ye[We]=""}}}}return ln(B)}catch{return O}}var mt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nr;function Hn(){}T(Hn,Ba),Hn.prototype.g=function(){return new XMLHttpRequest},Hn.prototype.i=function(){return{}},nr=new Hn;function gi(y,O,B,X){this.j=y,this.i=O,this.l=B,this.R=X||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Us}function Us(){this.i=null,this.g="",this.h=!1}var Al={},gs={};function ut(y,O,B){y.L=1,y.v=ru(cn(O)),y.m=B,y.P=!0,oe(y,null)}function oe(y,O){y.F=Date.now(),Rt(y),y.A=cn(y.v);var B=y.A,X=y.R;Array.isArray(X)||(X=[String(X)]),wo(B.i,"t",X),y.C=0,B=y.j.J,y.h=new Us,y.g=Pg(y.j,B?O:null,!y.m),0<y.O&&(y.M=new Pn(v(y.Y,y,y.g),y.O)),O=y.U,B=y.g,X=y.ca;var ye="readystatechange";Array.isArray(ye)||(ye&&(ti[0]=ye.toString()),ye=ti);for(var Te=0;Te<ye.length;Te++){var We=lt(B,ye[Te],X||O.handleEvent,!1,O.h||O);if(!We)break;O.g[We.key]=We}O=y.H?N(y.H):{},y.m?(y.u||(y.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,O)):(y.u="GET",y.g.ea(y.A,y.u,null,O)),mi(),Bs(y.i,y.u,y.A,y.l,y.R,y.m)}gi.prototype.ca=function(y){y=y.target;const O=this.M;O&&Ii(y)==3?O.j():this.Y(y)},gi.prototype.Y=function(y){try{if(y==this.g)e:{const Wn=Ii(this.g);var O=this.g.Ba();const Bl=this.g.Z();if(!(3>Wn)&&(Wn!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||Wn!=4||O==7||(O==8||0>=Bl?mi(3):mi(2)),Jr(this);var B=this.g.Z();this.X=B;t:if(Le(this)){var X=au(this.g);y="";var ye=X.length,Te=Ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),Lr(this);var We="";break t}this.h.i=new c.TextDecoder}for(O=0;O<ye;O++)this.h.h=!0,y+=this.h.i.decode(X[O],{stream:!(Te&&O==ye-1)});X.length=0,this.h.g+=y,this.C=0,We=this.h.g}else We=this.g.oa();if(this.o=B==200,ge(this.i,this.u,this.A,this.l,this.R,Wn,B),this.o){if(this.T&&!this.K){t:{if(this.g){var yr,Sn=this.g;if((yr=Sn.g?Sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(yr)){var $t=yr;break t}}$t=null}if(B=$t)Pe(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gr(this,B);else{this.o=!1,this.s=3,Zr(12),en(this),Lr(this);break e}}if(this.P){B=!0;let Qi;for(;!this.J&&this.C<We.length;)if(Qi=Ye(this,We),Qi==gs){Wn==4&&(this.s=4,Zr(14),B=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(Qi==Al){this.s=4,Zr(15),Pe(this.i,this.l,We,"[Invalid Chunk]"),B=!1;break}else Pe(this.i,this.l,Qi,null),gr(this,Qi);if(Le(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wn!=4||We.length!=0||this.h.h||(this.s=1,Zr(16),B=!1),this.o=this.o&&B,!B)Pe(this.i,this.l,We,"[Invalid Chunked Response]"),en(this),Lr(this);else if(0<We.length&&!this.W){this.W=!0;var Kn=this.j;Kn.g==this&&Kn.ba&&!Kn.M&&(Kn.j.info("Great, no buffering proxy detected. Bytes received: "+We.length),af(Kn),Kn.M=!0,Zr(11))}}else Pe(this.i,this.l,We,null),gr(this,We);Wn==4&&en(this),this.o&&!this.J&&(Wn==4?jg(this.j,this):(this.o=!1,Rt(this)))}else Eg(this.g),B==400&&0<We.indexOf("Unknown SID")?(this.s=3,Zr(12)):(this.s=0,Zr(13)),en(this),Lr(this)}}}catch{}finally{}};function Le(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function Ye(y,O){var B=y.C,X=O.indexOf(`
`,B);return X==-1?gs:(B=Number(O.substring(B,X)),isNaN(B)?Al:(X+=1,X+B>O.length?gs:(O=O.slice(X,X+B),y.C=X+B,O)))}gi.prototype.cancel=function(){this.J=!0,en(this)};function Rt(y){y.S=Date.now()+y.I,Xt(y,y.I)}function Xt(y,O){if(y.B!=null)throw Error("WatchDog timer not null");y.B=pi(v(y.ba,y),O)}function Jr(y){y.B&&(c.clearTimeout(y.B),y.B=null)}gi.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(at(this.i,this.A),this.L!=2&&(mi(),Zr(17)),en(this),this.s=2,Lr(this)):Xt(this,this.S-y)};function Lr(y){y.j.G==0||y.J||jg(y.j,y)}function en(y){Jr(y);var O=y.M;O&&typeof O.ma=="function"&&O.ma(),y.M=null,jr(y.U),y.g&&(O=y.g,y.g=null,O.abort(),O.ma())}function gr(y,O){try{var B=y.j;if(B.G!=0&&(B.g==y||Nl(B.h,y))){if(!y.K&&Nl(B.h,y)&&B.G==3){try{var X=B.Da.g.parse(O)}catch{X=null}if(Array.isArray(X)&&X.length==3){var ye=X;if(ye[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<y.F)Dl(B),Pl(B);else break e;nf(B),Zr(18)}}else B.za=ye[1],0<B.za-B.T&&37500>ye[2]&&B.F&&B.v==0&&!B.C&&(B.C=pi(v(B.Za,B),6e3));if(1>=xg(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else So(B,11)}else if((y.K||B.g==y)&&Dl(B),!I(O))for(ye=B.Da.g.parse(O),O=0;O<ye.length;O++){let $t=ye[O];if(B.T=$t[0],$t=$t[1],B.G==2)if($t[0]=="c"){B.K=$t[1],B.ia=$t[2];const Kn=$t[3];Kn!=null&&(B.la=Kn,B.j.info("VER="+B.la));const Wn=$t[4];Wn!=null&&(B.Aa=Wn,B.j.info("SVER="+B.Aa));const Bl=$t[5];Bl!=null&&typeof Bl=="number"&&0<Bl&&(X=1.5*Bl,B.L=X,B.j.info("backChannelRequestTimeoutMs_="+X)),X=B;const Qi=y.g;if(Qi){const lu=Qi.g?Qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lu){var Te=X.h;Te.g||lu.indexOf("spdy")==-1&&lu.indexOf("quic")==-1&&lu.indexOf("h2")==-1||(Te.j=Te.l,Te.g=new Set,Te.h&&(Ol(Te,Te.h),Te.h=null))}if(X.D){const To=Qi.g?Qi.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(X.ya=To,sr(X.I,X.D,To))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-y.F,B.j.info("Handshake RTT: "+B.R+"ms")),X=B;var We=y;if(X.qa=Mg(X,X.J?X.ia:null,X.W),We.K){za(X.h,We);var yr=We,Sn=X.L;Sn&&(yr.I=Sn),yr.B&&(Jr(yr),Rt(yr)),X.g=We}else Cg(X);0<B.i.length&&$0(B)}else $t[0]!="stop"&&$t[0]!="close"||So(B,7);else B.G==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?So(B,7):tf(B):$t[0]!="noop"&&B.l&&B.l.ta($t),B.v=0)}}mi(4)}catch{}}var eu=class{constructor(y,O){this.g=y,this.map=O}};function El(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function M0(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function xg(y){return y.h?1:y.g?y.g.size:0}function Nl(y,O){return y.h?y.h==O:y.g?y.g.has(O):!1}function Ol(y,O){y.g?y.g.add(O):y.h=O}function za(y,O){y.h&&y.h==O?y.h=null:y.g&&y.g.has(O)&&y.g.delete(O)}El.prototype.cancel=function(){if(this.i=Ci(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Ci(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let O=y.i;for(const B of y.g.values())O=O.concat(B.D);return O}return S(y.i)}function wg(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(u(y)){for(var O=[],B=y.length,X=0;X<B;X++)O.push(y[X]);return O}O=[],B=0;for(X in y)O[B++]=y[X];return O}function s2(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(u(y)||typeof y=="string"){var O=[];y=y.length;for(var B=0;B<y;B++)O.push(B);return O}O=[],B=0;for(const X in y)O[B++]=X;return O}}}function P0(y,O){if(y.forEach&&typeof y.forEach=="function")y.forEach(O,void 0);else if(u(y)||typeof y=="string")Array.prototype.forEach.call(y,O,void 0);else for(var B=s2(y),X=wg(y),ye=X.length,Te=0;Te<ye;Te++)O.call(void 0,X[Te],B&&B[Te],y)}var Yd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function D0(y,O){if(y){y=y.split("&");for(var B=0;B<y.length;B++){var X=y[B].indexOf("="),ye=null;if(0<=X){var Te=y[B].substring(0,X);ye=y[B].substring(X+1)}else Te=y[B];O(Te,ye?decodeURIComponent(ye.replace(/\+/g," ")):"")}}}function xo(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof xo){this.h=y.h,kl(this,y.j),this.o=y.o,this.g=y.g,tu(this,y.s),this.l=y.l;var O=y.i,B=new zs;B.i=O.i,O.g&&(B.g=new Map(O.g),B.h=O.h),L0(this,B),this.m=y.m}else y&&(O=String(y).match(Yd))?(this.h=!1,kl(this,O[1]||"",!0),this.o=Cl(O[2]||""),this.g=Cl(O[3]||"",!0),tu(this,O[4]),this.l=Cl(O[5]||"",!0),L0(this,O[6]||"",!0),this.m=Cl(O[7]||"")):(this.h=!1,this.i=new zs(null,this.h))}xo.prototype.toString=function(){var y=[],O=this.j;O&&y.push(Va(O,Qd,!0),":");var B=this.g;return(B||O=="file")&&(y.push("//"),(O=this.o)&&y.push(Va(O,Qd,!0),"@"),y.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&y.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&y.push("/"),y.push(Va(B,B.charAt(0)=="/"?Zd:_g,!0))),(B=this.i.toString())&&y.push("?",B),(B=this.m)&&y.push("#",Va(B,c2)),y.join("")};function cn(y){return new xo(y)}function kl(y,O,B){y.j=B?Cl(O,!0):O,y.j&&(y.j=y.j.replace(/:$/,""))}function tu(y,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);y.s=O}else y.s=null}function L0(y,O,B){O instanceof zs?(y.i=O,Sg(y.i,y.h)):(B||(O=Va(O,l2)),y.i=new zs(O,y.h))}function sr(y,O,B){y.i.set(O,B)}function ru(y){return sr(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function Cl(y,O){return y?O?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Va(y,O,B){return typeof y=="string"?(y=encodeURI(y).replace(O,o2),B&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function o2(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Qd=/[#\/\?@]/g,_g=/[#\?:]/g,Zd=/[#\?]/g,l2=/[#\?@]/g,c2=/#/g;function zs(y,O){this.h=this.g=null,this.i=y||null,this.j=!!O}function Gn(y){y.g||(y.g=new Map,y.h=0,y.i&&D0(y.i,function(O,B){y.add(decodeURIComponent(O.replace(/\+/g," ")),B)}))}t=zs.prototype,t.add=function(y,O){Gn(this),this.i=null,y=ma(this,y);var B=this.g.get(y);return B||this.g.set(y,B=[]),B.push(O),this.h+=1,this};function B0(y,O){Gn(y),O=ma(y,O),y.g.has(O)&&(y.i=null,y.h-=y.g.get(O).length,y.g.delete(O))}function U0(y,O){return Gn(y),O=ma(y,O),y.g.has(O)}t.forEach=function(y,O){Gn(this),this.g.forEach(function(B,X){B.forEach(function(ye){y.call(O,ye,X,this)},this)},this)},t.na=function(){Gn(this);const y=Array.from(this.g.values()),O=Array.from(this.g.keys()),B=[];for(let X=0;X<O.length;X++){const ye=y[X];for(let Te=0;Te<ye.length;Te++)B.push(O[X])}return B},t.V=function(y){Gn(this);let O=[];if(typeof y=="string")U0(this,y)&&(O=O.concat(this.g.get(ma(this,y))));else{y=Array.from(this.g.values());for(let B=0;B<y.length;B++)O=O.concat(y[B])}return O},t.set=function(y,O){return Gn(this),this.i=null,y=ma(this,y),U0(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[O]),this.h+=1,this},t.get=function(y,O){return y?(y=this.V(y),0<y.length?String(y[0]):O):O};function wo(y,O,B){B0(y,O),0<B.length&&(y.i=null,y.g.set(ma(y,O),S(B)),y.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],O=Array.from(this.g.keys());for(var B=0;B<O.length;B++){var X=O[B];const Te=encodeURIComponent(String(X)),We=this.V(X);for(X=0;X<We.length;X++){var ye=Te;We[X]!==""&&(ye+="="+encodeURIComponent(String(We[X]))),y.push(ye)}}return this.i=y.join("&")};function ma(y,O){return O=String(O),y.j&&(O=O.toLowerCase()),O}function Sg(y,O){O&&!y.j&&(Gn(y),y.i=null,y.g.forEach(function(B,X){var ye=X.toLowerCase();X!=ye&&(B0(this,X),wo(this,ye,B))},y)),y.j=O}function Jd(y,O){const B=new ki;if(c.Image){const X=new Image;X.onload=x(Yi,B,"TestLoadImage: loaded",!0,O,X),X.onerror=x(Yi,B,"TestLoadImage: error",!1,O,X),X.onabort=x(Yi,B,"TestLoadImage: abort",!1,O,X),X.ontimeout=x(Yi,B,"TestLoadImage: timeout",!1,O,X),c.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=y}else O(!1)}function Tg(y,O){const B=new ki,X=new AbortController,ye=setTimeout(()=>{X.abort(),Yi(B,"TestPingServer: timeout",!1,O)},1e4);fetch(y,{signal:X.signal}).then(Te=>{clearTimeout(ye),Te.ok?Yi(B,"TestPingServer: ok",!0,O):Yi(B,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(ye),Yi(B,"TestPingServer: error",!1,O)})}function Yi(y,O,B,X,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),X(B)}catch{}}function ys(){this.g=new ri}function ef(y,O,B){const X=B||"";try{P0(y,function(ye,Te){let We=ye;f(ye)&&(We=ln(ye)),O.push(X+Te+"="+encodeURIComponent(We))})}catch(ye){throw O.push(X+"type="+encodeURIComponent("_badmap")),ye}}function Vs(y){this.l=y.Ub||null,this.j=y.eb||!1}T(Vs,Ba),Vs.prototype.g=function(){return new pa(this.l,this.j)},Vs.prototype.i=(function(y){return function(){return y}})({});function pa(y,O){Ht.call(this),this.D=y,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(pa,Ht),t=pa.prototype,t.open=function(y,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=O,this.readyState=1,Il(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(O.body=y),(this.D||c).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Il(this)),this.g&&(this.readyState=3,Il(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;z0(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function z0(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var O=y.value?y.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!y.done}))&&(this.response=this.responseText+=O)}y.done?$s(this):Il(this),this.readyState==3&&z0(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,$s(this))},t.Qa=function(y){this.g&&(this.response=y,$s(this))},t.ga=function(){this.g&&$s(this)};function $s(y){y.readyState=4,y.l=null,y.j=null,y.v=null,Il(y)}t.setRequestHeader=function(y,O){this.u.append(y,O)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],O=this.h.entries();for(var B=O.next();!B.done;)B=B.value,y.push(B[0]+": "+B[1]),B=O.next();return y.join(`\r
`)};function Il(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function nu(y){let O="";return D(y,function(B,X){O+=X,O+=":",O+=B,O+=`\r
`}),O}function jl(y,O,B){e:{for(X in B){var X=!1;break e}X=!0}X||(B=nu(B),typeof y=="string"?B!=null&&encodeURIComponent(String(B)):sr(y,O,B))}function $r(y){Ht.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T($r,Ht);var yi=/^https?$/i,_o=["POST","PUT"];t=$r.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,O,B,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);O=O?O.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nr.g(),this.v=this.o?fs(this.o):fs(nr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(O,String(y),!0),this.B=!1}catch(Te){iu(this,Te);return}if(y=B||"",B=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var ye in X)B.set(ye,X[ye]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const Te of X.keys())B.set(Te,X.get(Te));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(B.keys()).find(Te=>Te.toLowerCase()=="content-type"),ye=c.FormData&&y instanceof c.FormData,!(0<=Array.prototype.indexOf.call(_o,O,void 0))||X||ye||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Te,We]of B)this.g.setRequestHeader(Te,We);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{V0(this),this.u=!0,this.g.send(y),this.u=!1}catch(Te){iu(this,Te)}};function iu(y,O){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=O,y.m=5,Rl(y),Ml(y)}function Rl(y){y.A||(y.A=!0,wt(y,"complete"),wt(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,wt(this,"complete"),wt(this,"abort"),Ml(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ml(this,!0)),$r.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ag(this):this.bb())},t.bb=function(){Ag(this)};function Ag(y){if(y.h&&typeof s<"u"&&(!y.v[1]||Ii(y)!=4||y.Z()!=2)){if(y.u&&Ii(y)==4)Gr(y.Ea,0,y);else if(wt(y,"readystatechange"),Ii(y)==4){y.h=!1;try{const We=y.Z();e:switch(We){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var B;if(!(B=O)){var X;if(X=We===0){var ye=String(y.D).match(Yd)[1]||null;!ye&&c.self&&c.self.location&&(ye=c.self.location.protocol.slice(0,-1)),X=!yi.test(ye?ye.toLowerCase():"")}B=X}if(B)wt(y,"complete"),wt(y,"success");else{y.m=6;try{var Te=2<Ii(y)?y.g.statusText:""}catch{Te=""}y.l=Te+" ["+y.Z()+"]",Rl(y)}}finally{Ml(y)}}}}function Ml(y,O){if(y.g){V0(y);const B=y.g,X=y.v[0]?()=>{}:null;y.g=null,y.v=null,O||wt(y,"ready");try{B.onreadystatechange=X}catch{}}}function V0(y){y.I&&(c.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function Ii(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<Ii(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var O=this.g.responseText;return y&&O.indexOf(y)==0&&(O=O.substring(y.length)),pr(O)}};function au(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Eg(y){const O={};y=(y.g&&2<=Ii(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<y.length;X++){if(I(y[X]))continue;var B=M(y[X]);const ye=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Te=O[ye]||[];O[ye]=Te,Te.push(B)}A(O,function(X){return X.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function su(y,O,B){return B&&B.internalChannelParams&&B.internalChannelParams[y]||O}function Ng(y){this.Aa=0,this.i=[],this.j=new ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=su("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=su("baseRetryDelayMs",5e3,y),this.cb=su("retryDelaySeedMs",1e4,y),this.Wa=su("forwardChannelMaxRetries",2,y),this.wa=su("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new El(y&&y.concurrentRequestLimit),this.Da=new ys,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ng.prototype,t.la=8,t.G=1,t.connect=function(y,O,B,X){Zr(0),this.W=y,this.H=O||{},B&&X!==void 0&&(this.H.OSID=B,this.H.OAID=X),this.F=this.X,this.I=Mg(this,null,this.W),$0(this)};function tf(y){if(Og(y),y.G==3){var O=y.U++,B=cn(y.I);if(sr(B,"SID",y.K),sr(B,"RID",O),sr(B,"TYPE","terminate"),ou(y,B),O=new gi(y,y.j,O),O.L=2,O.v=ru(cn(B)),B=!1,c.navigator&&c.navigator.sendBeacon)try{B=c.navigator.sendBeacon(O.v.toString(),"")}catch{}!B&&c.Image&&(new Image().src=O.v,B=!0),B||(O.g=Pg(O.j,null),O.g.ea(O.v)),O.F=Date.now(),Rt(O)}sf(y)}function Pl(y){y.g&&(af(y),y.g.cancel(),y.g=null)}function Og(y){Pl(y),y.u&&(c.clearTimeout(y.u),y.u=null),Dl(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&c.clearTimeout(y.s),y.s=null)}function $0(y){if(!M0(y.h)&&!y.s){y.s=!0;var O=y.Ga;J||ie(),Q||(J(),Q=!0),fe.add(O,y),y.B=0}}function u2(y,O){return xg(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=O.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=pi(v(y.Ga,y,O),Rg(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const ye=new gi(this,this.j,y);let Te=this.o;if(this.S&&(Te?(Te=N(Te),$(Te,this.S)):Te=this.S),this.m!==null||this.O||(ye.H=Te,Te=null),this.P)e:{for(var O=0,B=0;B<this.i.length;B++){t:{var X=this.i[B];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(O+=X,4096<O){O=B;break e}if(O===4096||B===this.i.length-1){O=B+1;break e}}O=1e3}else O=1e3;O=rf(this,ye,O),B=cn(this.I),sr(B,"RID",y),sr(B,"CVER",22),this.D&&sr(B,"X-HTTP-Session-Id",this.D),ou(this,B),Te&&(this.O?O="headers="+encodeURIComponent(String(nu(Te)))+"&"+O:this.m&&jl(B,this.m,Te)),Ol(this.h,ye),this.Ua&&sr(B,"TYPE","init"),this.P?(sr(B,"$req",O),sr(B,"SID","null"),ye.T=!0,ut(ye,B,null)):ut(ye,B,O),this.G=2}}else this.G==3&&(y?kg(this,y):this.i.length==0||M0(this.h)||kg(this))};function kg(y,O){var B;O?B=O.l:B=y.U++;const X=cn(y.I);sr(X,"SID",y.K),sr(X,"RID",B),sr(X,"AID",y.T),ou(y,X),y.m&&y.o&&jl(X,y.m,y.o),B=new gi(y,y.j,B,y.B+1),y.m===null&&(B.H=y.o),O&&(y.i=O.D.concat(y.i)),O=rf(y,B,1e3),B.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),Ol(y.h,B),ut(B,X,O)}function ou(y,O){y.H&&D(y.H,function(B,X){sr(O,X,B)}),y.l&&P0({},function(B,X){sr(O,X,B)})}function rf(y,O,B){B=Math.min(y.i.length,B);var X=y.l?v(y.l.Na,y.l,y):null;e:{var ye=y.i;let Te=-1;for(;;){const We=["count="+B];Te==-1?0<B?(Te=ye[0].g,We.push("ofs="+Te)):Te=0:We.push("ofs="+Te);let yr=!0;for(let Sn=0;Sn<B;Sn++){let $t=ye[Sn].g;const Kn=ye[Sn].map;if($t-=Te,0>$t)Te=Math.max(0,ye[Sn].g-100),yr=!1;else try{ef(Kn,We,"req"+$t+"_")}catch{X&&X(Kn)}}if(yr){X=We.join("&");break e}}}return y=y.i.splice(0,B),O.D=y,X}function Cg(y){if(!y.g&&!y.u){y.Y=1;var O=y.Fa;J||ie(),Q||(J(),Q=!0),fe.add(O,y),y.v=0}}function nf(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=pi(v(y.Fa,y),Rg(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,Ig(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=pi(v(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zr(10),Pl(this),Ig(this))};function af(y){y.A!=null&&(c.clearTimeout(y.A),y.A=null)}function Ig(y){y.g=new gi(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var O=cn(y.qa);sr(O,"RID","rpc"),sr(O,"SID",y.K),sr(O,"AID",y.T),sr(O,"CI",y.F?"0":"1"),!y.F&&y.ja&&sr(O,"TO",y.ja),sr(O,"TYPE","xmlhttp"),ou(y,O),y.m&&y.o&&jl(O,y.m,y.o),y.L&&(y.g.I=y.L);var B=y.g;y=y.ia,B.L=1,B.v=ru(cn(O)),B.m=null,B.P=!0,oe(B,y)}t.Za=function(){this.C!=null&&(this.C=null,Pl(this),nf(this),Zr(19))};function Dl(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function jg(y,O){var B=null;if(y.g==O){Dl(y),af(y),y.g=null;var X=2}else if(Nl(y.h,O))B=O.D,za(y.h,O),X=1;else return;if(y.G!=0){if(O.o)if(X==1){B=O.m?O.m.length:0,O=Date.now()-O.F;var ye=y.B;X=ms(),wt(X,new Ls(X,B)),$0(y)}else Cg(y);else if(ye=O.s,ye==3||ye==0&&0<O.X||!(X==1&&u2(y,O)||X==2&&nf(y)))switch(B&&0<B.length&&(O=y.h,O.i=O.i.concat(B)),ye){case 1:So(y,5);break;case 4:So(y,10);break;case 3:So(y,6);break;default:So(y,2)}}}function Rg(y,O){let B=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(B*=2),B*O}function So(y,O){if(y.j.info("Error code "+O),O==2){var B=v(y.fb,y),X=y.Xa;const ye=!X;X=new xo(X||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||kl(X,"https"),ru(X),ye?Jd(X.toString(),B):Tg(X.toString(),B)}else Zr(2);y.G=0,y.l&&y.l.sa(O),sf(y),Og(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Zr(2)):(this.j.info("Failed to ping google.com"),Zr(1))};function sf(y){if(y.G=0,y.ka=[],y.l){const O=Ci(y.h);(O.length!=0||y.i.length!=0)&&(_(y.ka,O),_(y.ka,y.i),y.h.i.length=0,S(y.i),y.i.length=0),y.l.ra()}}function Mg(y,O,B){var X=B instanceof xo?cn(B):new xo(B);if(X.g!="")O&&(X.g=O+"."+X.g),tu(X,X.s);else{var ye=c.location;X=ye.protocol,O=O?O+"."+ye.hostname:ye.hostname,ye=+ye.port;var Te=new xo(null);X&&kl(Te,X),O&&(Te.g=O),ye&&tu(Te,ye),B&&(Te.l=B),X=Te}return B=y.D,O=y.ya,B&&O&&sr(X,B,O),sr(X,"VER",y.la),ou(y,X),X}function Pg(y,O,B){if(O&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=y.Ca&&!y.pa?new $r(new Vs({eb:B})):new $r(y.pa),O.Ha(y.J),O}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dg(){}t=Dg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function F0(){}F0.prototype.g=function(y,O){return new ji(y,O)};function ji(y,O){Ht.call(this),this.g=new Ng(O),this.l=y,this.h=O&&O.messageUrlParams||null,y=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(y?y["X-WebChannel-Content-Type"]=O.messageContentType:y={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(y?y["X-WebChannel-Client-Profile"]=O.va:y={"X-WebChannel-Client-Profile":O.va}),this.g.S=y,(y=O&&O.Sb)&&!I(y)&&(this.g.m=y),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!I(O)&&(this.g.D=O,y=this.h,y!==null&&O in y&&(y=this.h,O in y&&delete y[O])),this.j=new Ll(this)}T(ji,Ht),ji.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ji.prototype.close=function(){tf(this.g)},ji.prototype.o=function(y){var O=this.g;if(typeof y=="string"){var B={};B.__data__=y,y=B}else this.u&&(B={},B.__data__=ln(y),y=B);O.i.push(new eu(O.Ya++,y)),O.G==3&&$0(O)},ji.prototype.N=function(){this.g.l=null,delete this.j,tf(this.g),delete this.g,ji.aa.N.call(this)};function Lg(y){fa.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var O=y.__sm__;if(O){e:{for(const B in O){y=B;break e}y=void 0}(this.i=y)&&(y=this.i,O=O!==null&&y in O?O[y]:void 0),this.data=O}else this.data=y}T(Lg,fa);function Bg(){fi.call(this),this.status=1}T(Bg,fi);function Ll(y){this.g=y}T(Ll,Dg),Ll.prototype.ua=function(){wt(this.g,"a")},Ll.prototype.ta=function(y){wt(this.g,new Lg(y))},Ll.prototype.sa=function(y){wt(this.g,new Bg)},Ll.prototype.ra=function(){wt(this.g,"b")},F0.prototype.createWebChannel=F0.prototype.g,ji.prototype.send=ji.prototype.o,ji.prototype.open=ji.prototype.m,ji.prototype.close=ji.prototype.close,oz=function(){return new F0},sz=function(){return ms()},az=rr,pS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mt.NO_ERROR=0,mt.TIMEOUT=8,mt.HTTP_ERROR=6,Cy=mt,zt.COMPLETE="complete",iz=zt,Ua.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,dm=Ua,$r.prototype.listenOnce=$r.prototype.L,$r.prototype.getLastError=$r.prototype.Ka,$r.prototype.getLastErrorCode=$r.prototype.Ba,$r.prototype.getStatus=$r.prototype.Z,$r.prototype.getResponseJson=$r.prototype.Oa,$r.prototype.getResponseText=$r.prototype.oa,$r.prototype.send=$r.prototype.ea,$r.prototype.setWithCredentials=$r.prototype.Ha,nz=$r}).apply(typeof q1<"u"?q1:typeof self<"u"?self:typeof window<"u"?window:{});const Sk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ci=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new IT("@firebase/firestore");function Oh(){return n0.logLevel}function Ve(t,...e){if(n0.logLevel<=Zt.DEBUG){const r=e.map(qT);n0.debug(`Firestore (${Md}): ${t}`,...r)}}function Vi(t,...e){if(n0.logLevel<=Zt.ERROR){const r=e.map(qT);n0.error(`Firestore (${Md}): ${t}`,...r)}}function i0(t,...e){if(n0.logLevel<=Zt.WARN){const r=e.map(qT);n0.warn(`Firestore (${Md}): ${t}`,...r)}}function qT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t="Unexpected state"){const e=`FIRESTORE (${Md}) INTERNAL ASSERTION FAILED: `+t;throw Vi(e),new Error(e)}function pt(t,e){t||ft()}function It(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Je extends Ms{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $Z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(ci.UNAUTHENTICATED)))}shutdown(){}}class FZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class qZ{constructor(e){this.t=e,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){pt(this.o===void 0);let n=this.i;const i=u=>this.i!==n?(n=this.i,r(u)):Promise.resolve();let a=new ro;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ro,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},c=u=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ro)}}),0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(pt(typeof n.accessToken=="string"),new lz(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string"),new ci(e)}}class HZ{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=ci.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class GZ{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new HZ(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(ci.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class KZ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WZ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){pt(this.o===void 0);const n=a=>{a.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Ve("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(pt(typeof r.token=="string"),this.R=r.token,new KZ(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=XZ(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Mt(t,e){return t<e?-1:t>e?1:0}function Yh(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}function uz(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Je(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Je(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Je(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Je(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new on(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new on(0,0))}static max(){return new bt(new on(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,r,n){r===void 0?r=0:r>e.length&&ft(),n===void 0?n=e.length-r:n>e.length-r&&ft(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Fm.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Fm?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class wr extends Fm{construct(e,r,n){return new wr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Je(Ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new wr(r)}static emptyPath(){return new wr([])}}const YZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Fm{construct(e,r,n){return new sn(e,r,n)}static isValidIdentifier(e){return YZ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Je(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Je(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Je(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(n+=c,i++):(a(),i++)}if(a(),s)throw new Je(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(r)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.path=e}static fromPath(e){return new tt(wr.fromString(e))}static fromName(e){return new tt(wr.fromString(e).popFirst(5))}static empty(){return new tt(wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return wr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new wr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function gS(t){return t.fields.find((e=>e.kind===2))}function Ru(t){return t.fields.filter((e=>e.kind!==2))}Qy.UNKNOWN_ID=-1;class Iy{constructor(e,r){this.fieldPath=e,this.kind=r}}class qm{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new qm(0,Ma.min())}}function QZ(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(n===1e9?new on(r+1,0):new on(r,n));return new Ma(i,tt.empty(),e)}function hz(t){return new Ma(t.readTime,t.key,-1)}class Ma{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ma(bt.min(),tt.empty(),-1)}static max(){return new Ma(bt.max(),tt.empty(),-1)}}function HT(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=tt.comparator(t.documentKey,e.documentKey),r!==0?r:Mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0(t){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==dz)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new we(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof we?r:we.resolve(r)}catch(r){return we.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):we.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):we.reject(r)}static resolve(e){return new we(((r,n)=>{r(e)}))}static reject(e){return new we(((r,n)=>{n(e)}))}static waitFor(e){return new we(((r,n)=>{let i=0,a=0,s=!1;e.forEach((c=>{++i,c.next((()=>{++a,s&&a===i&&r()}),(u=>n(u)))})),s=!0,a===i&&r()}))}static or(e){let r=we.resolve(!1);for(const n of e)r=r.next((i=>i?we.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new we(((n,i)=>{const a=e.length,s=new Array(a);let c=0;for(let u=0;u<a;u++){const f=u;r(e[f]).next((m=>{s[f]=m,++c,c===a&&n(s)}),(m=>i(m)))}}))}static doWhile(e,r){return new we(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new ro,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new _m(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=GT(n.target.error);this.V.reject(new _m(e,i))}}static open(e,r,n,i){try{return new Pb(r,e.transaction(i,n))}catch(a){throw new _m(r,a)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new JZ(r)}}class jc{constructor(e,r,n){this.name=e,this.version=r,this.p=n,jc.S(zn())===12.2&&Vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),Du(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!vU())return!1;if(jc.v())return!0;const e=zn(),r=jc.S(e),n=0<r&&r<10,i=mz(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||a)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Ve("SimpleDb","Opening database:",this.name),this.db=await new Promise(((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const s=a.target.result;r(s)},i.onblocked=()=>{n(new _m(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const s=a.target.error;s.name==="VersionError"?n(new Je(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?n(new Je(Ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):n(new _m(e,s))},i.onupgradeneeded=a=>{Ve("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const s=a.target.result;this.p.O(s,i.transaction,a.oldVersion,this.version).next((()=>{Ve("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const a=r==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const c=Pb.open(this.db,e,a?"readonly":"readwrite",n),u=i(c).next((f=>(c.g(),f))).catch((f=>(c.abort(f),we.reject(f)))).toPromise();return u.catch((()=>{})),await c.m,u}catch(c){const u=c,f=u.name!=="FirebaseError"&&s<3;if(Ve("SimpleDb","Transaction failed with error:",u.message,"Retrying:",f),this.close(),!f)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function mz(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class ZZ{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Du(this.B.delete())}}class _m extends Je{constructor(e,r){super(Ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Hc(t){return t.name==="IndexedDbTransactionError"}class JZ{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(Ve("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Du(n)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),Du(this.store.add(e))}get(e){return Du(this.store.get(e)).next((r=>(r===void 0&&(r=null),Ve("SimpleDb","GET",this.store.name,e,r),r)))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),Du(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),Du(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(n.range);return new we(((s,c)=>{a.onerror=u=>{c(u.target.error)},a.onsuccess=u=>{s(u.target.result)}}))}{const a=this.cursor(n),s=[];return this.W(a,((c,u)=>{s.push(u)})).next((()=>s))}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new we(((i,a)=>{n.onerror=s=>{a(s.target.error)},n.onsuccess=s=>{i(s.target.result)}}))}j(e,r){Ve("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,((a,s,c)=>c.delete()))}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new we(((n,i)=>{r.onerror=a=>{const s=GT(a.target.error);i(s)},r.onsuccess=a=>{const s=a.target.result;s?e(s.primaryKey,s.value).next((c=>{c?s.continue():n()})):n()}}))}W(e,r){const n=[];return new we(((i,a)=>{e.onerror=s=>{a(s.target.error)},e.onsuccess=s=>{const c=s.target.result;if(!c)return void i();const u=new ZZ(c),f=r(c.primaryKey,c.value,u);if(f instanceof we){const m=f.catch((g=>(u.done(),we.reject(g))));n.push(m)}u.isDone?i():u.K===null?c.continue():c.continue(u.K)}})).next((()=>we.waitFor(n)))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Du(t){return new we(((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=GT(n.target.error);r(i)}}))}let Tk=!1;function GT(t){const e=jc.S(zn());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new Je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Tk||(Tk=!0,setTimeout((()=>{throw n}),0)),n}}return t}class eJ{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Ve("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Ve("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){Hc(r)?Ve("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await T0(r)}await this.X(6e4)}))}}class tJ{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(r=>this.te(r,e)))}te(e,r){const n=new Set;let i=r,a=!0;return we.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((s=>{if(s!==null&&!n.has(s))return Ve("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next((c=>{i-=c,n.add(s)}));a=!1})))).next((()=>r-i))}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next((i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next((a=>{const s=a.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next((()=>this.re(i,a))).next((c=>(Ve("IndexBackfiller",`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,r,c)))).next((()=>s.size))}))))}re(e,r){let n=e;return r.changes.forEach(((i,a)=>{const s=hz(a);HT(s,n)>0&&(n=s)})),new Ma(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}es.oe=-1;function Db(t){return t==null}function Hm(t){return t===0&&1/t==-1/0}function rJ(t){return typeof t=="number"&&Number.isInteger(t)&&!Hm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=Ak(e)),e=nJ(t.get(r),e);return Ak(e)}function nJ(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case"":r+="";break;default:r+=a}}return r}function Ak(t){return t+""}function Xs(t){const e=t.length;if(pt(e>=2),e===2)return pt(t.charAt(0)===""&&t.charAt(1)===""),wr.emptyPath();const r=e-2,n=[];let i="";for(let a=0;a<e;){const s=t.indexOf("",a);switch((s<0||s>r)&&ft(),t.charAt(s+1)){case"":const c=t.substring(a,s);let u;i.length===0?u=c:(i+=c,u=i,i=""),n.push(u);break;case"":i+=t.substring(a,s),i+="\0";break;case"":i+=t.substring(a,s+1);break;default:ft()}a=s+2}return new wr(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t,e){return[t,qi(e)]}function pz(t,e,r){return[t,qi(e),r]}const iJ={},aJ=["prefixPath","collectionGroup","readTime","documentId"],sJ=["prefixPath","collectionGroup","documentId"],oJ=["collectionGroup","readTime","prefixPath","documentId"],lJ=["canonicalId","targetId"],cJ=["targetId","path"],uJ=["path","targetId"],hJ=["collectionId","parent"],dJ=["indexId","uid"],fJ=["uid","sequenceNumber"],mJ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pJ=["indexId","uid","orderedDocumentKey"],gJ=["userId","collectionPath","documentId"],yJ=["userId","collectionPath","largestBatchId"],vJ=["userId","collectionGroup","largestBatchId"],gz=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bJ=[...gz,"documentOverlays"],yz=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vz=yz,KT=[...vz,"indexConfiguration","indexState","indexEntries"],xJ=KT,wJ=[...KT,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends fz{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function $n(t,e){const r=It(t);return jc.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function A0(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function bz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,r){this.comparator=e,this.root=r||ui.EMPTY}insert(e,r){return new Yr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ui.BLACK,null,null))}remove(e){return new Yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ui.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new H1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new H1(this.root,e,this.comparator,!1)}getReverseIterator(){return new H1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new H1(this.root,e,this.comparator,!0)}}class H1{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ui{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??ui.RED,this.left=i??ui.EMPTY,this.right=a??ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new ui(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return ui.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}ui.EMPTY=null,ui.RED=!0,ui.BLACK=!1;ui.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(e,r,n,i,a){return this}insert(e,r,n){return new ui(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Ok(this.data.getIterator())}getIteratorFrom(e){return new Ok(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Ir(this.comparator);return r.data=e,r}}class Ok{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vh(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new ca([])}unionWith(e){let r=new Ir(sn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ca(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Yh(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new xz("Invalid base64 string: "+a):a}})(e);return new Rn(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Rn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const _J=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hl(t){if(pt(!!t),typeof t=="string"){let e=0;const r=_J.exec(t);if(pt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Wr(t.seconds),nanos:Wr(t.nanos)}}function Wr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bc(t){return typeof t=="string"?Rn.fromBase64String(t):Rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function XT(t){const e=t.mapValue.fields.__previous_value__;return WT(e)?XT(e):e}function Gm(t){const e=hl(t.mapValue.fields.__local_write_time__.timestampValue);return new on(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SJ{constructor(e,r,n,i,a,s,c,u,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=f}}class a0{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new a0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof a0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ry={nullValue:"NULL_VALUE"};function s0(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?WT(t)?4:wz(t)?9007199254740991:Lb(t)?10:11:ft()}function so(t,e){if(t===e)return!0;const r=s0(t);if(r!==s0(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gm(t).isEqual(Gm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=hl(i.timestampValue),c=hl(a.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Bc(i.bytesValue).isEqual(Bc(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Wr(i.geoPointValue.latitude)===Wr(a.geoPointValue.latitude)&&Wr(i.geoPointValue.longitude)===Wr(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Wr(i.integerValue)===Wr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Wr(i.doubleValue),c=Wr(a.doubleValue);return s===c?Hm(s)===Hm(c):isNaN(s)&&isNaN(c)}return!1})(t,e);case 9:return Yh(t.arrayValue.values||[],e.arrayValue.values||[],so);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},c=a.mapValue.fields||{};if(Nk(s)!==Nk(c))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!so(s[u],c[u])))return!1;return!0})(t,e);default:return ft()}}function Km(t,e){return(t.values||[]).find((r=>so(r,e)))!==void 0}function Uc(t,e){if(t===e)return 0;const r=s0(t),n=s0(e);if(r!==n)return Mt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const c=Wr(a.integerValue||a.doubleValue),u=Wr(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return kk(t.timestampValue,e.timestampValue);case 4:return kk(Gm(t),Gm(e));case 5:return Mt(t.stringValue,e.stringValue);case 6:return(function(a,s){const c=Bc(a),u=Bc(s);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const c=a.split("/"),u=s.split("/");for(let f=0;f<c.length&&f<u.length;f++){const m=Mt(c[f],u[f]);if(m!==0)return m}return Mt(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const c=Mt(Wr(a.latitude),Wr(s.latitude));return c!==0?c:Mt(Wr(a.longitude),Wr(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Ck(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var c,u,f,m;const g=a.fields||{},v=s.fields||{},x=(c=g.value)===null||c===void 0?void 0:c.arrayValue,T=(u=v.value)===null||u===void 0?void 0:u.arrayValue,S=Mt(((f=x==null?void 0:x.values)===null||f===void 0?void 0:f.length)||0,((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0);return S!==0?S:Ck(x,T)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===_c.mapValue&&s===_c.mapValue)return 0;if(a===_c.mapValue)return 1;if(s===_c.mapValue)return-1;const c=a.fields||{},u=Object.keys(c),f=s.fields||{},m=Object.keys(f);u.sort(),m.sort();for(let g=0;g<u.length&&g<m.length;++g){const v=Mt(u[g],m[g]);if(v!==0)return v;const x=Uc(c[u[g]],f[m[g]]);if(x!==0)return x}return Mt(u.length,m.length)})(t.mapValue,e.mapValue);default:throw ft()}}function kk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const r=hl(t),n=hl(e),i=Mt(r.seconds,n.seconds);return i!==0?i:Mt(r.nanos,n.nanos)}function Ck(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Uc(r[i],n[i]);if(a)return a}return Mt(r.length,n.length)}function Qh(t){return vS(t)}function vS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=hl(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Bc(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return tt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=vS(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${vS(r.fields[s])}`;return i+"}"})(t.mapValue):ft()}function Wm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bS(t){return!!t&&"integerValue"in t}function Xm(t){return!!t&&"arrayValue"in t}function Ik(t){return!!t&&"nullValue"in t}function jk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function My(t){return!!t&&"mapValue"in t}function Lb(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Sm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return A0(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Sm(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Sm(t.arrayValue.values[r]);return e}return Object.assign({},t)}function wz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const _z={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function TJ(t){return"nullValue"in t?Ry:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Wm(a0.empty(),tt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Lb(t)?_z:{mapValue:{}}:ft()}function AJ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Wm(a0.empty(),tt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?_z:"mapValue"in t?Lb(t)?{mapValue:{}}:_c:ft()}function Rk(t,e){const r=Uc(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Mk(t,e){const r=Uc(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!My(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sm(r)}setAll(e){let r=sn.emptyPath(),n={},i=[];e.forEach(((s,c)=>{if(!r.isImmediateParentOf(c)){const u=this.getFieldsMap(r);this.applyChanges(u,n,i),n={},i=[],r=c.popLast()}s?n[c.lastSegment()]=Sm(s):i.push(c.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());My(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return so(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];My(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){A0(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new Ti(Sm(this.value))}}function Sz(t){const e=[];return A0(t.fields,((r,n)=>{const i=new sn([r]);if(My(n)){const a=Sz(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new ca(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,r,n,i,a,s,c){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=c}static newInvalidDocument(e){return new pn(e,0,bt.min(),bt.min(),bt.min(),Ti.empty(),0)}static newFoundDocument(e,r,n,i){return new pn(e,1,r,bt.min(),n,i,0)}static newNoDocument(e,r){return new pn(e,2,r,bt.min(),bt.min(),Ti.empty(),0)}static newUnknownDocument(e,r){return new pn(e,3,r,bt.min(),bt.min(),Ti.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,r){this.position=e,this.inclusive=r}}function Pk(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=tt.comparator(tt.fromName(s.referenceValue),r.key):n=Uc(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function Dk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!so(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,r="asc"){this.field=e,this.dir=r}}function EJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tz=class{};class Jt extends Tz{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new NJ(e,r,n):r==="array-contains"?new CJ(e,n):r==="in"?new Cz(e,n):r==="not-in"?new IJ(e,n):r==="array-contains-any"?new jJ(e,n):new Jt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new OJ(e,n):new kJ(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Uc(r,this.value)):r!==null&&s0(this.value)===s0(r)&&this.matchesComparison(Uc(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends Tz{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Tr(e,r)}matches(e){return Jh(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jh(t){return t.op==="and"}function xS(t){return t.op==="or"}function YT(t){return Az(t)&&Jh(t)}function Az(t){for(const e of t.filters)if(e instanceof Tr)return!1;return!0}function wS(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+Qh(t.value);if(YT(t))return t.filters.map((e=>wS(e))).join(",");{const e=t.filters.map((r=>wS(r))).join(",");return`${t.op}(${e})`}}function Ez(t,e){return t instanceof Jt?(function(n,i){return i instanceof Jt&&n.op===i.op&&n.field.isEqual(i.field)&&so(n.value,i.value)})(t,e):t instanceof Tr?(function(n,i){return i instanceof Tr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,s,c)=>a&&Ez(s,i.filters[c])),!0):!1})(t,e):void ft()}function Nz(t,e){const r=t.filters.concat(e);return Tr.create(r,t.op)}function Oz(t){return t instanceof Jt?(function(r){return`${r.field.canonicalString()} ${r.op} ${Qh(r.value)}`})(t):t instanceof Tr?(function(r){return r.op.toString()+" {"+r.getFilters().map(Oz).join(" ,")+"}"})(t):"Filter"}class NJ extends Jt{constructor(e,r,n){super(e,r,n),this.key=tt.fromName(n.referenceValue)}matches(e){const r=tt.comparator(e.key,this.key);return this.matchesComparison(r)}}class OJ extends Jt{constructor(e,r){super(e,"in",r),this.keys=kz("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class kJ extends Jt{constructor(e,r){super(e,"not-in",r),this.keys=kz("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function kz(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>tt.fromName(n.referenceValue)))}class CJ extends Jt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Xm(r)&&Km(r.arrayValue,this.value)}}class Cz extends Jt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Km(this.value.arrayValue,r)}}class IJ extends Jt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Km(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Km(this.value.arrayValue,r)}}class jJ extends Jt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Xm(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Km(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RJ{constructor(e,r=null,n=[],i=[],a=null,s=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=c,this.ue=null}}function _S(t,e=null,r=[],n=[],i=null,a=null,s=null){return new RJ(t,e,r,n,i,a,s)}function o0(t){const e=It(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>wS(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),Db(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Qh(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Qh(n))).join(",")),e.ue=r}return e.ue}function Xp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!EJ(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Ez(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Dk(t.startAt,e.startAt)&&Dk(t.endAt,e.endAt)}function Zy(t){return tt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Jy(t,e){return t.filters.filter((r=>r instanceof Jt&&r.field.isEqual(e)))}function Lk(t,e,r){let n=Ry,i=!0;for(const a of Jy(t,e)){let s=Ry,c=!0;switch(a.op){case"<":case"<=":s=TJ(a.value);break;case"==":case"in":case">=":s=a.value;break;case">":s=a.value,c=!1;break;case"!=":case"not-in":s=Ry}Rk({value:n,inclusive:i},{value:s,inclusive:c})<0&&(n=s,i=c)}if(r!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=r.position[a];Rk({value:n,inclusive:i},{value:s,inclusive:r.inclusive})<0&&(n=s,i=r.inclusive);break}}return{value:n,inclusive:i}}function Bk(t,e,r){let n=_c,i=!0;for(const a of Jy(t,e)){let s=_c,c=!0;switch(a.op){case">=":case">":s=AJ(a.value),c=!1;break;case"==":case"in":case"<=":s=a.value;break;case"<":s=a.value,c=!1;break;case"!=":case"not-in":s=_c}Mk({value:n,inclusive:i},{value:s,inclusive:c})>0&&(n=s,i=c)}if(r!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=r.position[a];Mk({value:n,inclusive:i},{value:s,inclusive:r.inclusive})>0&&(n=s,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,r=null,n=[],i=[],a=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function MJ(t,e,r,n,i,a,s,c){return new Pd(t,e,r,n,i,a,s,c)}function Yp(t){return new Pd(t)}function Uk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Iz(t){return t.collectionGroup!==null}function Tm(t){const e=It(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Ir(sn.comparator);return s.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Ym(a,n))})),r.has(sn.keyField().canonicalString())||e.ce.push(new Ym(sn.keyField(),n))}return e.ce}function is(t){const e=It(t);return e.le||(e.le=PJ(e,Tm(t))),e.le}function PJ(t,e){if(t.limitType==="F")return _S(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Ym(i.field,a)}));const r=t.endAt?new Zh(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Zh(t.startAt.position,t.startAt.inclusive):null;return _S(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function SS(t,e){const r=t.filters.concat([e]);return new Pd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function ev(t,e,r){return new Pd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Bb(t,e){return Xp(is(t),is(e))&&t.limitType===e.limitType}function jz(t){return`${o0(is(t))}|lt:${t.limitType}`}function kh(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>Oz(i))).join(", ")}]`),Db(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>Qh(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>Qh(i))).join(",")),`Target(${n})`})(is(t))}; limitType=${t.limitType})`}function Qp(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):tt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of Tm(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(s,c,u){const f=Pk(s,c,u);return s.inclusive?f<=0:f<0})(n.startAt,Tm(n),i)||n.endAt&&!(function(s,c,u){const f=Pk(s,c,u);return s.inclusive?f>=0:f>0})(n.endAt,Tm(n),i))})(t,e)}function DJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Rz(t){return(e,r)=>{let n=!1;for(const i of Tm(t)){const a=LJ(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function LJ(t,e,r){const n=t.field.isKeyField()?tt.comparator(e.key,r.key):(function(a,s,c){const u=s.data.field(a),f=c.data.field(a);return u!==null&&f!==null?Uc(u,f):ft()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){A0(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return bz(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BJ=new Yr(tt.comparator);function Oa(){return BJ}const Mz=new Yr(tt.comparator);function fm(...t){let e=Mz;for(const r of t)e=e.insert(r.key,r);return e}function Pz(t){let e=Mz;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Ys(){return Am()}function Dz(){return Am()}function Am(){return new Gc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const UJ=new Yr(tt.comparator),zJ=new Ir(tt.comparator);function Ft(...t){let e=zJ;for(const r of t)e=e.add(r);return e}const VJ=new Ir(Mt);function $J(){return VJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hm(e)?"-0":e}}function Lz(t){return{integerValue:""+t}}function FJ(t,e){return rJ(e)?Lz(e):QT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this._=void 0}}function qJ(t,e,r){return t instanceof Qm?(function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&WT(a)&&(a=XT(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}})(r,e):t instanceof l0?Uz(t,e):t instanceof ed?zz(t,e):(function(i,a){const s=Bz(i,a),c=zk(s)+zk(i.Pe);return bS(s)&&bS(i.Pe)?Lz(c):QT(i.serializer,c)})(t,e)}function HJ(t,e,r){return t instanceof l0?Uz(t,e):t instanceof ed?zz(t,e):r}function Bz(t,e){return t instanceof Zm?(function(n){return bS(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class Qm extends Ub{}class l0 extends Ub{constructor(e){super(),this.elements=e}}function Uz(t,e){const r=Vz(e);for(const n of t.elements)r.some((i=>so(i,n)))||r.push(n);return{arrayValue:{values:r}}}class ed extends Ub{constructor(e){super(),this.elements=e}}function zz(t,e){let r=Vz(e);for(const n of t.elements)r=r.filter((i=>!so(i,n)));return{arrayValue:{values:r}}}class Zm extends Ub{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function zk(t){return Wr(t.integerValue||t.doubleValue)}function Vz(t){return Xm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e,r){this.field=e,this.transform=r}}function GJ(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof l0&&i instanceof l0||n instanceof ed&&i instanceof ed?Yh(n.elements,i.elements,so):n instanceof Zm&&i instanceof Zm?so(n.Pe,i.Pe):n instanceof Qm&&i instanceof Qm})(t.transform,e.transform)}class KJ{constructor(e,r){this.version=e,this.transformResults=r}}class Ni{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Py(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zb{}function Fz(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vb(t.key,Ni.none()):new Dd(t.key,t.data,Ni.none());{const r=t.data,n=Ti.empty();let i=new Ir(sn.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new bl(t.key,n,new ca(i.toArray()),Ni.none())}}function WJ(t,e,r){t instanceof Dd?(function(i,a,s){const c=i.value.clone(),u=$k(i.fieldTransforms,a,s.transformResults);c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,r):t instanceof bl?(function(i,a,s){if(!Py(i.precondition,a))return void a.convertToUnknownDocument(s.version);const c=$k(i.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(qz(i)),u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,r):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,r)}function Em(t,e,r,n){return t instanceof Dd?(function(a,s,c,u){if(!Py(a.precondition,s))return c;const f=a.value.clone(),m=Fk(a.fieldTransforms,u,s);return f.setAll(m),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,r,n):t instanceof bl?(function(a,s,c,u){if(!Py(a.precondition,s))return c;const f=Fk(a.fieldTransforms,u,s),m=s.data;return m.setAll(qz(a)),m.setAll(f),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,r,n):(function(a,s,c){return Py(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(t,e,r)}function XJ(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=Bz(n.transform,i||null);a!=null&&(r===null&&(r=Ti.empty()),r.set(n.field,a))}return r||null}function Vk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Yh(n,i,((a,s)=>GJ(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dd extends zb{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bl extends zb{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function qz(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function $k(t,e,r){const n=new Map;pt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,c=e.data.field(a.field);n.set(a.field,HJ(s,c,r[i]))}return n}function Fk(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,qJ(a,s,e))}return n}class Vb extends zb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hz extends zb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&WJ(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Em(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Em(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=Dz();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let c=this.applyToLocalView(s,a.mutatedFields);c=r.has(i.key)?null:c;const u=Fz(s,c);u!==null&&n.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(bt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Ft())}isEqual(e){return this.batchId===e.batchId&&Yh(this.mutations,e.mutations,((r,n)=>Vk(r,n)))&&Yh(this.baseMutations,e.baseMutations,((r,n)=>Vk(r,n)))}}class JT{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){pt(e.mutations.length===n.length);let i=(function(){return UJ})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new JT(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On,ir;function QJ(t){switch(t){default:return ft();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}function Gz(t){if(t===void 0)return Vi("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case On.OK:return Ce.OK;case On.CANCELLED:return Ce.CANCELLED;case On.UNKNOWN:return Ce.UNKNOWN;case On.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case On.INTERNAL:return Ce.INTERNAL;case On.UNAVAILABLE:return Ce.UNAVAILABLE;case On.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case On.NOT_FOUND:return Ce.NOT_FOUND;case On.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case On.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case On.ABORTED:return Ce.ABORTED;case On.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case On.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case On.DATA_LOSS:return Ce.DATA_LOSS;default:return ft()}}(ir=On||(On={}))[ir.OK=0]="OK",ir[ir.CANCELLED=1]="CANCELLED",ir[ir.UNKNOWN=2]="UNKNOWN",ir[ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ir[ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ir[ir.NOT_FOUND=5]="NOT_FOUND",ir[ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",ir[ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",ir[ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",ir[ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ir[ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ir[ir.ABORTED=10]="ABORTED",ir[ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",ir[ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",ir[ir.INTERNAL=13]="INTERNAL",ir[ir.UNAVAILABLE=14]="UNAVAILABLE",ir[ir.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JJ=new Yu([4294967295,4294967295],0);function qk(t){const e=ZJ().encode(t),r=new rz;return r.update(e),new Uint8Array(r.digest())}function Hk(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Yu([r,n],0),new Yu([i,a],0)]}class t8{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new mm(`Invalid padding: ${r}`);if(n<0)throw new mm(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new mm(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new mm(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Yu.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Yu.fromNumber(n)));return i.compare(JJ)===1&&(i=new Yu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=qk(e),[n,i]=Hk(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new t8(a,i,r);return n.forEach((c=>s.insert(c))),s}insert(e){if(this.Ie===0)return;const r=qk(e),[n,i]=Hk(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class mm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Zp.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new $b(bt.min(),i,new Yr(Mt),Oa(),Ft())}}class Zp{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Zp(n,r,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class Kz{constructor(e,r){this.targetId=e,this.me=r}}class Wz{constructor(e,r,n=Rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class Gk{constructor(){this.fe=0,this.ge=Wk(),this.pe=Rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ft(),r=Ft(),n=Ft();return this.ge.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ft()}})),new Zp(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=Wk()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class eee{constructor(e){this.Le=e,this.Be=new Map,this.ke=Oa(),this.qe=Kk(),this.Qe=new Yr(Mt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,(r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:ft()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach(((n,i)=>{this.ze(i)&&r(i)}))}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(Zy(a))if(n===0){const s=new tt(a.path);this.Ue(r,s,pn.newNoDocument(s,bt.min()))}else pt(n===1);else{const s=this.Ye(r);if(s!==n){const c=this.Ze(e),u=c?this.Xe(c,e,s):1;if(u!==0){this.je(r);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,f)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,c;try{s=Bc(n).toUint8Array()}catch(u){if(u instanceof xz)return i0("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new t8(s,i,a)}catch(u){return i0(u instanceof mm?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Ue(r,a,null),i++)})),i}rt(e){const r=new Map;this.Be.forEach(((a,s)=>{const c=this.Je(s);if(c){if(a.current&&Zy(c.target)){const u=new tt(c.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,pn.newNoDocument(u,e))}a.be&&(r.set(s,a.ve()),a.Ce())}}));let n=Ft();this.qe.forEach(((a,s)=>{let c=!0;s.forEachWhile((u=>{const f=this.Je(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(a))})),this.ke.forEach(((a,s)=>s.setReadTime(e)));const i=new $b(e,r,this.Qe,this.ke,n);return this.ke=Oa(),this.qe=Kk(),this.Qe=new Yr(Mt),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Gk,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ir(Mt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ve("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Gk),this.Le.getRemoteKeysForTarget(e).forEach((r=>{this.Ue(e,r,null)}))}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Kk(){return new Yr(tt.comparator)}function Wk(){return new Yr(tt.comparator)}const tee={asc:"ASCENDING",desc:"DESCENDING"},ree={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nee={and:"AND",or:"OR"};class iee{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function TS(t,e){return t.useProto3Json||Db(e)?e:{value:e}}function td(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aee(t,e){return td(t,e.toTimestamp())}function Hi(t){return pt(!!t),bt.fromTimestamp((function(r){const n=hl(r);return new on(n.seconds,n.nanos)})(t))}function r8(t,e){return AS(t,e).canonicalString()}function AS(t,e){const r=(function(i){return new wr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function Yz(t){const e=wr.fromString(t);return pt(aV(e)),e}function tv(t,e){return r8(t.databaseId,e.path)}function Qu(t,e){const r=Yz(e);if(r.get(1)!==t.databaseId.projectId)throw new Je(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Je(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new tt(Jz(r))}function Qz(t,e){return r8(t.databaseId,e)}function Zz(t){const e=Yz(t);return e.length===4?wr.emptyPath():Jz(e)}function ES(t){return new wr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Jz(t){return pt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Xk(t,e,r){return{name:tv(t,e),fields:r.value.mapValue.fields}}function see(t,e,r){const n=Qu(t,e.name),i=Hi(e.updateTime),a=e.createTime?Hi(e.createTime):bt.min(),s=new Ti({mapValue:{fields:e.fields}}),c=pn.newFoundDocument(n,i,a,s);return r&&c.setHasCommittedMutations(),r?c.setHasCommittedMutations():c}function oee(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ft()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,m){return f.useProto3Json?(pt(m===void 0||typeof m=="string"),Rn.fromBase64String(m||"")):(pt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Rn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(f){const m=f.code===void 0?Ce.UNKNOWN:Gz(f.code);return new Je(m,f.message||"")})(s);r=new Wz(n,i,a,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Qu(t,n.document.name),a=Hi(n.document.updateTime),s=n.document.createTime?Hi(n.document.createTime):bt.min(),c=new Ti({mapValue:{fields:n.document.fields}}),u=pn.newFoundDocument(i,a,s,c),f=n.targetIds||[],m=n.removedTargetIds||[];r=new Dy(f,m,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Qu(t,n.document),a=n.readTime?Hi(n.readTime):bt.min(),s=pn.newNoDocument(i,a),c=n.removedTargetIds||[];r=new Dy([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Qu(t,n.document),a=n.removedTargetIds||[];r=new Dy([],a,i,null)}else{if(!("filter"in e))return ft();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new YJ(i,a),c=n.targetId;r=new Kz(c,s)}}return r}function rv(t,e){let r;if(e instanceof Dd)r={update:Xk(t,e.key,e.value)};else if(e instanceof Vb)r={delete:tv(t,e.key)};else if(e instanceof bl)r={update:Xk(t,e.key,e.data),updateMask:fee(e.fieldMask)};else{if(!(e instanceof Hz))return ft();r={verify:tv(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,s){const c=s.transform;if(c instanceof Qm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof l0)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ed)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zm)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw ft()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:aee(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ft()})(t,e.precondition)),r}function NS(t,e){const r=e.currentDocument?(function(a){return a.updateTime!==void 0?Ni.updateTime(Hi(a.updateTime)):a.exists!==void 0?Ni.exists(a.exists):Ni.none()})(e.currentDocument):Ni.none(),n=e.updateTransforms?e.updateTransforms.map((i=>(function(s,c){let u=null;if("setToServerValue"in c)pt(c.setToServerValue==="REQUEST_TIME"),u=new Qm;else if("appendMissingElements"in c){const m=c.appendMissingElements.values||[];u=new l0(m)}else if("removeAllFromArray"in c){const m=c.removeAllFromArray.values||[];u=new ed(m)}else"increment"in c?u=new Zm(s,c.increment):ft();const f=sn.fromServerFormat(c.fieldPath);return new $z(f,u)})(t,i))):[];if(e.update){e.update.name;const i=Qu(t,e.update.name),a=new Ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=(function(u){const f=u.fieldPaths||[];return new ca(f.map((m=>sn.fromServerFormat(m))))})(e.updateMask);return new bl(i,a,s,r,n)}return new Dd(i,a,r,n)}if(e.delete){const i=Qu(t,e.delete);return new Vb(i,r)}if(e.verify){const i=Qu(t,e.verify);return new Hz(i,r)}return ft()}function lee(t,e){return t&&t.length>0?(pt(e!==void 0),t.map((r=>(function(i,a){let s=i.updateTime?Hi(i.updateTime):Hi(a);return s.isEqual(bt.min())&&(s=Hi(a)),new KJ(s,i.transformResults||[])})(r,e)))):[]}function eV(t,e){return{documents:[Qz(t,e.path)]}}function tV(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Qz(t,i);const a=(function(f){if(f.length!==0)return iV(Tr.create(f,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const s=(function(f){if(f.length!==0)return f.map((m=>(function(v){return{field:Ch(v.field),direction:uee(v.dir)}})(m)))})(e.orderBy);s&&(r.structuredQuery.orderBy=s);const c=TS(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{_t:r,parent:i}}function rV(t){let e=Zz(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){pt(n===1);const m=r.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];r.where&&(a=(function(g){const v=nV(g);return v instanceof Tr&&YT(v)?v.getFilters():[v]})(r.where));let s=[];r.orderBy&&(s=(function(g){return g.map((v=>(function(T){return new Ym(Ih(T.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(r.orderBy));let c=null;r.limit&&(c=(function(g){let v;return v=typeof g=="object"?g.value:g,Db(v)?null:v})(r.limit));let u=null;r.startAt&&(u=(function(g){const v=!!g.before,x=g.values||[];return new Zh(x,v)})(r.startAt));let f=null;return r.endAt&&(f=(function(g){const v=!g.before,x=g.values||[];return new Zh(x,v)})(r.endAt)),MJ(e,i,s,a,c,"F",u,f)}function cee(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function nV(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ih(r.unaryFilter.field);return Jt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ih(r.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ih(r.unaryFilter.field);return Jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ih(r.unaryFilter.field);return Jt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ft()}})(t):t.fieldFilter!==void 0?(function(r){return Jt.create(Ih(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Tr.create(r.compositeFilter.filters.map((n=>nV(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ft()}})(r.compositeFilter.op))})(t):ft()}function uee(t){return tee[t]}function hee(t){return ree[t]}function dee(t){return nee[t]}function Ch(t){return{fieldPath:t.canonicalString()}}function Ih(t){return sn.fromServerFormat(t.fieldPath)}function iV(t){return t instanceof Jt?(function(r){if(r.op==="=="){if(jk(r.value))return{unaryFilter:{field:Ch(r.field),op:"IS_NAN"}};if(Ik(r.value))return{unaryFilter:{field:Ch(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(jk(r.value))return{unaryFilter:{field:Ch(r.field),op:"IS_NOT_NAN"}};if(Ik(r.value))return{unaryFilter:{field:Ch(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ch(r.field),op:hee(r.op),value:r.value}}})(t):t instanceof Tr?(function(r){const n=r.getFilters().map((i=>iV(i)));return n.length===1?n[0]:{compositeFilter:{op:dee(r.op),filters:n}}})(t):ft()}function fee(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function aV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,r,n,i,a=bt.min(),s=bt.min(),c=Rn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Zo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.ct=e}}function mee(t,e){let r;if(e.document)r=see(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=tt.fromSegments(e.noDocument.path),i=u0(e.noDocument.readTime);r=pn.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return ft();{const n=tt.fromSegments(e.unknownDocument.path),i=u0(e.unknownDocument.version);r=pn.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime((function(i){const a=new on(i[0],i[1]);return bt.fromTimestamp(a)})(e.readTime)),r}function Yk(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:nv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=(function(a,s){return{name:tv(a,s.key),fields:s.data.value.mapValue.fields,updateTime:td(a,s.version.toTimestamp()),createTime:td(a,s.createTime.toTimestamp())}})(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:c0(e.version)};else{if(!e.isUnknownDocument())return ft();n.unknownDocument={path:r.path.toArray(),version:c0(e.version)}}return n}function nv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function c0(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function u0(t){const e=new on(t.seconds,t.nanoseconds);return bt.fromTimestamp(e)}function Lu(t,e){const r=(e.baseMutations||[]).map((a=>NS(t.ct,a)));for(let a=0;a<e.mutations.length-1;++a){const s=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const c=e.mutations[a+1];s.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const n=e.mutations.map((a=>NS(t.ct,a))),i=on.fromMillis(e.localWriteTimeMs);return new ZT(e.batchId,i,r,n)}function pm(t){const e=u0(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?u0(t.lastLimboFreeSnapshotVersion):bt.min();let n;return n=(function(a){return a.documents!==void 0})(t.query)?(function(a){return pt(a.documents.length===1),is(Yp(Zz(a.documents[0])))})(t.query):(function(a){return is(rV(a))})(t.query),new Zo(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Rn.fromBase64String(t.resumeToken))}function oV(t,e){const r=c0(e.snapshotVersion),n=c0(e.lastLimboFreeSnapshotVersion);let i;i=Zy(e.target)?eV(t.ct,e.target):tV(t.ct,e.target)._t;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:o0(e.target),readTime:r,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function lV(t){const e=rV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ev(e,e.limit,"L"):e}function yw(t,e){return new e8(e.largestBatchId,NS(t.ct,e.overlayMutation))}function Qk(t,e){const r=e.path.lastSegment();return[t,qi(e.path.popLast()),r]}function Zk(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:c0(n.readTime),documentKey:qi(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{getBundleMetadata(e,r){return Jk(e).get(r).next((n=>{if(n)return(function(a){return{id:a.bundleId,createTime:u0(a.createTime),version:a.version}})(n)}))}saveBundleMetadata(e,r){return Jk(e).put((function(i){return{bundleId:i.id,createTime:c0(Hi(i.createTime)),version:i.version}})(r))}getNamedQuery(e,r){return eC(e).get(r).next((n=>{if(n)return(function(a){return{name:a.name,query:lV(a.bundledQuery),readTime:u0(a.readTime)}})(n)}))}saveNamedQuery(e,r){return eC(e).put((function(i){return{name:i.name,readTime:c0(Hi(i.readTime)),bundledQuery:i.bundledQuery}})(r))}}function Jk(t){return $n(t,"bundles")}function eC(t){return $n(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new Fb(e,n)}getOverlay(e,r){return qf(e).get(Qk(this.userId,r)).next((n=>n?yw(this.serializer,n):null))}getOverlays(e,r){const n=Ys();return we.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){const i=[];return n.forEach(((a,s)=>{const c=new e8(r,s);i.push(this.ht(e,c))})),we.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach((s=>i.add(qi(s.getCollectionPath()))));const a=[];return i.forEach((s=>{const c=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,n+1],!1,!0);a.push(qf(e).j("collectionPathOverlayIndex",c))})),we.waitFor(a)}getOverlaysForCollection(e,r,n){const i=Ys(),a=qi(r),s=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return qf(e).U("collectionPathOverlayIndex",s).next((c=>{for(const u of c){const f=yw(this.serializer,u);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,r,n,i){const a=Ys();let s;const c=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return qf(e).J({index:"collectionGroupOverlayIndex",range:c},((u,f,m)=>{const g=yw(this.serializer,f);a.size()<i||g.largestBatchId===s?(a.set(g.getKey(),g),s=g.largestBatchId):m.done()})).next((()=>a))}ht(e,r){return qf(e).put((function(i,a,s){const[c,u,f]=Qk(a,s.mutation.key);return{userId:a,collectionPath:u,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:rv(i.ct,s.mutation)}})(this.serializer,this.userId,r))}}function qf(t){return $n(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{Pt(e){return $n(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((r=>{const n=r==null?void 0:r.value;return n?Rn.fromUint8Array(n):Rn.EMPTY_BYTE_STRING}))}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Wr(e.integerValue));else if("doubleValue"in e){const n=Wr(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),Hm(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=hl(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Bc(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?wz(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Lb(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):ft()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const a=e.fields||{};this.dt(r,53);const s="value",c=((i=(n=a[s].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(Wr(c)),this.Vt(s,r),this.Tt(a[s],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),tt.fromName(e).path.forEach((n=>{this.dt(r,60),this.Dt(n,r)}))}dt(e,r){e.At(r)}ft(e){e.At(2)}}Bu.vt=new Bu;function yee(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function tC(t){const e=64-(function(n){let i=0;for(let a=0;a<8;++a){const s=yee(255&n[a]);if(i+=s,s!==8)break}return i})(t);return Math.ceil(e/8)}class vee{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=tC(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=tC(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=(function(a){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,a,!1),new Uint8Array(s.buffer)})(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class bee{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class xee{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Hf{constructor(){this.jt=new vee,this.Ht=new bee(this.jt),this.Jt=new xee(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Uu(this.indexId,this.documentKey,this.arrayValue,n)}}function lc(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=rC(t.arrayValue,e.arrayValue),r!==0?r:(r=rC(t.directionalValue,e.directionalValue),r!==0?r:tt.comparator(t.documentKey,e.documentKey)))}function rC(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.Xt=new Ir(((r,n)=>sn.comparator(r.field,n.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(pt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=gS(e);if(r!==void 0&&!this.sn(r))return!1;const n=Ru(e);let i=new Set,a=0,s=0;for(;a<n.length&&this.sn(n[a]);++a)i=i.add(n[a].fieldPath.canonicalString());if(a===n.length)return!0;if(this.Xt.size>0){const c=this.Xt.getIterator().getNext();if(!i.has(c.field.canonicalString())){const u=n[a];if(!this.on(c,u)||!this._n(this.en[s++],u))return!1}++a}for(;a<n.length;++a){const c=n[a];if(s>=this.en.length||!this._n(this.en[s++],c))return!1}return!0}an(){if(this.nn)return null;let e=new Ir(sn.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new Iy(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new Iy(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new Iy(n.field,n.dir==="asc"?0:1)));return new Qy(Qy.UNKNOWN_ID,this.collectionId,r,qm.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t){var e,r;if(pt(t instanceof Jt||t instanceof Tr),t instanceof Jt){if(t instanceof Cz){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map((a=>Jt.create(t.field,"==",a))))||[];return Tr.create(i,"or")}return t}const n=t.filters.map((i=>cV(i)));return Tr.create(n,t.op)}function wee(t){if(t.getFilters().length===0)return[];const e=CS(cV(t));return pt(uV(e)),OS(e)||kS(e)?[e]:e.getFilters()}function OS(t){return t instanceof Jt}function kS(t){return t instanceof Tr&&YT(t)}function uV(t){return OS(t)||kS(t)||(function(r){if(r instanceof Tr&&xS(r)){for(const n of r.getFilters())if(!OS(n)&&!kS(n))return!1;return!0}return!1})(t)}function CS(t){if(pt(t instanceof Jt||t instanceof Tr),t instanceof Jt)return t;if(t.filters.length===1)return CS(t.filters[0]);const e=t.filters.map((n=>CS(n)));let r=Tr.create(e,t.op);return r=iv(r),uV(r)?r:(pt(r instanceof Tr),pt(Jh(r)),pt(r.filters.length>1),r.filters.reduce(((n,i)=>n8(n,i))))}function n8(t,e){let r;return pt(t instanceof Jt||t instanceof Tr),pt(e instanceof Jt||e instanceof Tr),r=t instanceof Jt?e instanceof Jt?(function(i,a){return Tr.create([i,a],"and")})(t,e):iC(t,e):e instanceof Jt?iC(e,t):(function(i,a){if(pt(i.filters.length>0&&a.filters.length>0),Jh(i)&&Jh(a))return Nz(i,a.getFilters());const s=xS(i)?i:a,c=xS(i)?a:i,u=s.filters.map((f=>n8(f,c)));return Tr.create(u,"or")})(t,e),iv(r)}function iC(t,e){if(Jh(e))return Nz(e,t.getFilters());{const r=e.filters.map((n=>n8(t,n)));return Tr.create(r,"or")}}function iv(t){if(pt(t instanceof Jt||t instanceof Tr),t instanceof Jt)return t;const e=t.getFilters();if(e.length===1)return iv(e[0]);if(Az(t))return t;const r=e.map((i=>iv(i))),n=[];return r.forEach((i=>{i instanceof Jt?n.push(i):i instanceof Tr&&(i.op===t.op?n.push(...i.filters):n.push(i))})),n.length===1?n[0]:Tr.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(){this.un=new i8}addToCollectionParentIndex(e,r){return this.un.add(r),we.resolve()}getCollectionParents(e,r){return we.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return we.resolve()}deleteFieldIndex(e,r){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,r){return we.resolve()}getDocumentsMatchingTarget(e,r){return we.resolve(null)}getIndexType(e,r){return we.resolve(0)}getFieldIndexes(e,r){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,r){return we.resolve(Ma.min())}getMinOffsetFromCollectionGroup(e,r){return we.resolve(Ma.min())}updateCollectionGroup(e,r,n){return we.resolve()}updateIndexEntries(e,r){return we.resolve()}}class i8{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Ir(wr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ir(wr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Uint8Array(0);class See{constructor(e,r){this.databaseId=r,this.cn=new i8,this.ln=new Gc((n=>o0(n)),((n,i)=>Xp(n,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener((()=>{this.cn.add(r)}));const a={collectionId:n,parent:qi(i)};return aC(e).put(a)}return we.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[uz(r),""],!1,!0);return aC(e).U(i).next((a=>{for(const s of a){if(s.collectionId!==r)break;n.push(Xs(s.parent))}return n}))}addFieldIndex(e,r){const n=Gf(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(r);delete i.indexId;const a=n.add(i);if(r.indexState){const s=xh(e);return a.next((c=>{s.put(Zk(c,this.uid,r.indexState.sequenceNumber,r.indexState.offset))}))}return a.next()}deleteFieldIndex(e,r){const n=Gf(e),i=xh(e),a=bh(e);return n.delete(r.indexId).next((()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const r=Gf(e),n=bh(e),i=xh(e);return r.j().next((()=>n.j())).next((()=>i.j()))}createTargetIndexes(e,r){return we.forEach(this.hn(r),(n=>this.getIndexType(e,n).next((i=>{if(i===0||i===1){const a=new nC(n).an();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,r){const n=bh(e);let i=!0;const a=new Map;return we.forEach(this.hn(r),(s=>this.Pn(e,s).next((c=>{i&&(i=!!c),a.set(s,c)})))).next((()=>{if(i){let s=Ft();const c=[];return we.forEach(a,((u,f)=>{Ve("IndexedDbIndexManager",`Using index ${(function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map((V=>`${V.fieldPath}:${V.kind}`)).join(",")}`})(u)} to execute ${o0(r)}`);const m=(function(P,V){const j=gS(V);if(j===void 0)return null;for(const D of Jy(P,j.fieldPath))switch(D.op){case"array-contains-any":return D.value.arrayValue.values||[];case"array-contains":return[D.value]}return null})(f,u),g=(function(P,V){const j=new Map;for(const D of Ru(V))for(const A of Jy(P,D.fieldPath))switch(A.op){case"==":case"in":j.set(D.fieldPath.canonicalString(),A.value);break;case"not-in":case"!=":return j.set(D.fieldPath.canonicalString(),A.value),Array.from(j.values())}return null})(f,u),v=(function(P,V){const j=[];let D=!0;for(const A of Ru(V)){const N=A.kind===0?Lk(P,A.fieldPath,P.startAt):Bk(P,A.fieldPath,P.startAt);j.push(N.value),D&&(D=N.inclusive)}return new Zh(j,D)})(f,u),x=(function(P,V){const j=[];let D=!0;for(const A of Ru(V)){const N=A.kind===0?Bk(P,A.fieldPath,P.endAt):Lk(P,A.fieldPath,P.endAt);j.push(N.value),D&&(D=N.inclusive)}return new Zh(j,D)})(f,u),T=this.In(u,f,v),S=this.In(u,f,x),_=this.Tn(u,f,g),C=this.En(u.indexId,m,T,v.inclusive,S,x.inclusive,_);return we.forEach(C,(I=>n.G(I,r.limit).next((P=>{P.forEach((V=>{const j=tt.fromSegments(V.documentKey);s.has(j)||(s=s.add(j),c.push(j))}))}))))})).next((()=>c))}return we.resolve(null)}))}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=wee(Tr.create(e.filters,"and")).map((n=>_S(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt))),this.ln.set(e,r),r)}En(e,r,n,i,a,s,c){const u=(r!=null?r.length:1)*Math.max(n.length,a.length),f=u/(r!=null?r.length:1),m=[];for(let g=0;g<u;++g){const v=r?this.dn(r[g/f]):G1,x=this.An(e,v,n[g%f],i),T=this.Rn(e,v,a[g%f],s),S=c.map((_=>this.An(e,v,_,!0)));m.push(...this.createRange(x,T,S))}return m}An(e,r,n,i){const a=new Uu(e,tt.empty(),r,n);return i?a:a.Zt()}Rn(e,r,n,i){const a=new Uu(e,tt.empty(),r,n);return i?a.Zt():a}Pn(e,r){const n=new nC(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let s=null;for(const c of a)n.rn(c)&&(!s||c.fields.length>s.fields.length)&&(s=c);return s}))}getIndexType(e,r){let n=2;const i=this.hn(r);return we.forEach(i,(a=>this.Pn(e,a).next((s=>{s?n!==0&&s.fields.length<(function(u){let f=new Ir(sn.comparator),m=!1;for(const g of u.filters)for(const v of g.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?m=!0:f=f.add(v.field));for(const g of u.orderBy)g.field.isKeyField()||(f=f.add(g.field));return f.size+(m?1:0)})(a)&&(n=1):n=0})))).next((()=>(function(s){return s.limit!==null})(r)&&i.length>1&&n===2?1:n))}Vn(e,r){const n=new Hf;for(const i of Ru(e)){const a=r.data.field(i.fieldPath);if(a==null)return null;const s=n.Yt(i.kind);Bu.vt.It(a,s)}return n.zt()}dn(e){const r=new Hf;return Bu.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new Hf;return Bu.vt.It(Wm(this.databaseId,r),n.Yt((function(a){const s=Ru(a);return s.length===0?0:s[s.length-1].kind})(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new Hf);let a=0;for(const s of Ru(e)){const c=n[a++];for(const u of i)if(this.fn(r,s.fieldPath)&&Xm(c))i=this.gn(i,s,c);else{const f=u.Yt(s.kind);Bu.vt.It(c,f)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],a=[];for(const s of n.arrayValue.values||[])for(const c of i){const u=new Hf;u.seed(c.zt()),Bu.vt.It(s,u.Yt(r.kind)),a.push(u)}return a}fn(e,r){return!!e.filters.find((n=>n instanceof Jt&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in")))}getFieldIndexes(e,r){const n=Gf(e),i=xh(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next((a=>{const s=[];return we.forEach(a,(c=>i.get([c.indexId,this.uid]).next((u=>{s.push((function(m,g){const v=g?new qm(g.sequenceNumber,new Ma(u0(g.readTime),new tt(Xs(g.documentKey)),g.largestBatchId)):qm.empty(),x=m.fields.map((([T,S])=>new Iy(sn.fromServerFormat(T),S)));return new Qy(m.indexId,m.collectionGroup,x,v)})(c,u))})))).next((()=>s))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((r=>r.length===0?null:(r.sort(((n,i)=>{const a=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Mt(n.collectionGroup,i.collectionGroup)})),r[0].collectionGroup)))}updateCollectionGroup(e,r,n){const i=Gf(e),a=xh(e);return this.yn(e).next((s=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next((c=>we.forEach(c,(u=>a.put(Zk(u.indexId,this.uid,s,n))))))))}updateIndexEntries(e,r){const n=new Map;return we.forEach(r,((i,a)=>{const s=n.get(i.collectionGroup);return(s?we.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(n.set(i.collectionGroup,c),we.forEach(c,(u=>this.wn(e,i,u).next((f=>{const m=this.Sn(a,u);return f.isEqual(m)?we.resolve():this.bn(e,a,u,f,m)})))))))}))}Dn(e,r,n,i){return bh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return bh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=bh(e);let a=new Ir(lc);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},((s,c)=>{a=a.add(new Uu(n.indexId,r,c.arrayValue,c.directionalValue))})).next((()=>a))}Sn(e,r){let n=new Ir(lc);const i=this.Vn(r,e);if(i==null)return n;const a=gS(r);if(a!=null){const s=e.data.field(a.fieldPath);if(Xm(s))for(const c of s.arrayValue.values||[])n=n.add(new Uu(r.indexId,e.key,this.dn(c),i))}else n=n.add(new Uu(r.indexId,e.key,G1,i));return n}bn(e,r,n,i,a){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const s=[];return(function(u,f,m,g,v){const x=u.getIterator(),T=f.getIterator();let S=vh(x),_=vh(T);for(;S||_;){let C=!1,I=!1;if(S&&_){const P=m(S,_);P<0?I=!0:P>0&&(C=!0)}else S!=null?I=!0:C=!0;C?(g(_),_=vh(T)):I?(v(S),S=vh(x)):(S=vh(x),_=vh(T))}})(i,a,lc,(c=>{s.push(this.Dn(e,r,n,c))}),(c=>{s.push(this.vn(e,r,n,c))})),we.waitFor(s)}yn(e){let r=1;return xh(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((n,i,a)=>{a.done(),r=i.sequenceNumber+1})).next((()=>r))}createRange(e,r,n){n=n.sort(((s,c)=>lc(s,c))).filter(((s,c,u)=>!c||lc(s,u[c-1])!==0));const i=[];i.push(e);for(const s of n){const c=lc(s,e),u=lc(s,r);if(c===0)i[0]=e.Zt();else if(c>0&&u<0)i.push(s),i.push(s.Zt());else if(u>0)break}i.push(r);const a=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];const c=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,G1,[]],u=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,G1,[]];a.push(IDBKeyRange.bound(c,u))}return a}Cn(e,r){return lc(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(sC)}getMinOffset(e,r){return we.mapArray(this.hn(r),(n=>this.Pn(e,n).next((i=>i||ft())))).next(sC)}}function aC(t){return $n(t,"collectionParents")}function bh(t){return $n(t,"indexEntries")}function Gf(t){return $n(t,"indexConfiguration")}function xh(t){return $n(t,"indexState")}function sC(t){pt(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;HT(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new Ma(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ia{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ia(e,ia.DEFAULT_COLLECTION_PERCENTILE,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),a=[],s=IDBKeyRange.only(r.batchId);let c=0;const u=n.J({range:s},((m,g,v)=>(c++,v.delete())));a.push(u.next((()=>{pt(c===1)})));const f=[];for(const m of r.mutations){const g=pz(e,m.key.path,r.batchId);a.push(i.delete(g)),f.push(m.key)}return we.waitFor(a).next((()=>f))}function av(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ft();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ia.DEFAULT_COLLECTION_PERCENTILE=10,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ia.DEFAULT=new ia(41943040,ia.DEFAULT_COLLECTION_PERCENTILE,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ia.DISABLED=new ia(-1,0,0);class qb{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){pt(e.uid!=="");const a=e.isAuthenticated()?e.uid:"";return new qb(a,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cc(e).J({index:"userMutationsIndex",range:n},((i,a,s)=>{r=!1,s.done()})).next((()=>r))}addMutationBatch(e,r,n,i){const a=jh(e),s=cc(e);return s.add({}).next((c=>{pt(typeof c=="number");const u=new ZT(c,r,n,i),f=(function(x,T,S){const _=S.baseMutations.map((I=>rv(x.ct,I))),C=S.mutations.map((I=>rv(x.ct,I)));return{userId:T,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:_,mutations:C}})(this.serializer,this.userId,u),m=[];let g=new Ir(((v,x)=>Mt(v.canonicalString(),x.canonicalString())));for(const v of i){const x=pz(this.userId,v.key.path,c);g=g.add(v.key.path.popLast()),m.push(s.put(f)),m.push(a.put(x,iJ))}return g.forEach((v=>{m.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Fn[c]=u.keys()})),we.waitFor(m).next((()=>u))}))}lookupMutationBatch(e,r){return cc(e).get(r).next((n=>n?(pt(n.userId===this.userId),Lu(this.serializer,n)):null))}Mn(e,r){return this.Fn[r]?we.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next((n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let a=null;return cc(e).J({index:"userMutationsIndex",range:i},((s,c,u)=>{c.userId===this.userId&&(pt(c.batchId>=n),a=Lu(this.serializer,c)),u.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return cc(e).J({index:"userMutationsIndex",range:r,reverse:!0},((i,a,s)=>{n=a.batchId,s.done()})).next((()=>n))}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cc(e).U("userMutationsIndex",r).next((n=>n.map((i=>Lu(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=jy(this.userId,r.path),i=IDBKeyRange.lowerBound(n),a=[];return jh(e).J({range:i},((s,c,u)=>{const[f,m,g]=s,v=Xs(m);if(f===this.userId&&r.path.isEqual(v))return cc(e).get(g).next((x=>{if(!x)throw ft();pt(x.userId===this.userId),a.push(Lu(this.serializer,x))}));u.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ir(Mt);const i=[];return r.forEach((a=>{const s=jy(this.userId,a.path),c=IDBKeyRange.lowerBound(s),u=jh(e).J({range:c},((f,m,g)=>{const[v,x,T]=f,S=Xs(x);v===this.userId&&a.path.isEqual(S)?n=n.add(T):g.done()}));i.push(u)})),we.waitFor(i).next((()=>this.xn(e,n)))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,a=jy(this.userId,n),s=IDBKeyRange.lowerBound(a);let c=new Ir(Mt);return jh(e).J({range:s},((u,f,m)=>{const[g,v,x]=u,T=Xs(v);g===this.userId&&n.isPrefixOf(T)?T.length===i&&(c=c.add(x)):m.done()})).next((()=>this.xn(e,c)))}xn(e,r){const n=[],i=[];return r.forEach((a=>{i.push(cc(e).get(a).next((s=>{if(s===null)throw ft();pt(s.userId===this.userId),n.push(Lu(this.serializer,s))})))})),we.waitFor(i).next((()=>n))}removeMutationBatch(e,r){return hV(e._e,this.userId,r).next((n=>(e.addOnCommittedListener((()=>{this.On(r.batchId)})),we.forEach(n,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((r=>{if(!r)return we.resolve();const n=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),i=[];return jh(e).J({range:n},((a,s,c)=>{if(a[0]===this.userId){const u=Xs(a[1]);i.push(u)}else c.done()})).next((()=>{pt(i.length===0)}))}))}containsKey(e,r){return dV(e,this.userId,r)}Nn(e){return fV(e).get(this.userId).next((r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function dV(t,e,r){const n=jy(e,r.path),i=n[1],a=IDBKeyRange.lowerBound(n);let s=!1;return jh(t).J({range:a,H:!0},((c,u,f)=>{const[m,g,v]=c;m===e&&g===i&&(s=!0),f.done()})).next((()=>s))}function cc(t){return $n(t,"mutations")}function jh(t){return $n(t,"documentMutations")}function fV(t){return $n(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new h0(0)}static kn(){return new h0(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next((r=>{const n=new h0(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next((()=>r.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.qn(e).next((r=>bt.fromTimestamp(new on(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.qn(e).next((r=>r.highestListenSequenceNumber))}setTargetsMetadata(e,r,n){return this.qn(e).next((i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i))))}addTargetData(e,r){return this.Kn(e,r).next((()=>this.qn(e).next((n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next((()=>wh(e).delete(r.targetId))).next((()=>this.qn(e))).next((n=>(pt(n.targetCount>0),n.targetCount-=1,this.Qn(e,n))))}removeTargets(e,r,n){let i=0;const a=[];return wh(e).J(((s,c)=>{const u=pm(c);u.sequenceNumber<=r&&n.get(u.targetId)===null&&(i++,a.push(this.removeTargetData(e,u)))})).next((()=>we.waitFor(a))).next((()=>i))}forEachTarget(e,r){return wh(e).J(((n,i)=>{const a=pm(i);r(a)}))}qn(e){return lC(e).get("targetGlobalKey").next((r=>(pt(r!==null),r)))}Qn(e,r){return lC(e).put("targetGlobalKey",r)}Kn(e,r){return wh(e).put(oV(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next((r=>r.targetCount))}getTargetData(e,r){const n=o0(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let a=null;return wh(e).J({range:i,index:"queryTargetsIndex"},((s,c,u)=>{const f=pm(c);Xp(r,f.target)&&(a=f,u.done())})).next((()=>a))}addMatchingKeys(e,r,n){const i=[],a=vc(e);return r.forEach((s=>{const c=qi(s.path);i.push(a.put({targetId:n,path:c})),i.push(this.referenceDelegate.addReference(e,n,s))})),we.waitFor(i)}removeMatchingKeys(e,r,n){const i=vc(e);return we.forEach(r,(a=>{const s=qi(a.path);return we.waitFor([i.delete([n,s]),this.referenceDelegate.removeReference(e,n,a)])}))}removeMatchingKeysForTargetId(e,r){const n=vc(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=vc(e);let a=Ft();return i.J({range:n,H:!0},((s,c,u)=>{const f=Xs(s[1]),m=new tt(f);a=a.add(m)})).next((()=>a))}containsKey(e,r){const n=qi(r.path),i=IDBKeyRange.bound([n],[uz(n)],!1,!0);let a=0;return vc(e).J({index:"documentTargetsIndex",H:!0,range:i},(([s,c],u,f)=>{s!==0&&(a++,f.done())})).next((()=>a>0))}ot(e,r){return wh(e).get(r).next((n=>n?pm(n):null))}}function wh(t){return $n(t,"targets")}function lC(t){return $n(t,"targetGlobal")}function vc(t){return $n(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC([t,e],[r,n]){const i=Mt(t,r);return i===0?Mt(e,n):i}class Aee{constructor(e){this.Un=e,this.buffer=new Ir(cC),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();cC(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Eee{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Ve("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Hc(r)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await T0(r)}await this.Hn(3e5)}))}}class Nee{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return we.resolve(es.oe);const n=new Aee(r);return this.Jn.forEachTarget(e,(i=>n.zn(i.sequenceNumber))).next((()=>this.Jn.Zn(e,(i=>n.zn(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(oC)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oC):this.Xn(e,r)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,a,s,c,u,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(n=g,c=Date.now(),this.removeTargets(e,n,r)))).next((g=>(a=g,u=Date.now(),this.removeOrphanedDocuments(e,n)))).next((g=>(f=Date.now(),Oh()<=Zt.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-m}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${a} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(f-u)+`ms
Total Duration: ${f-m}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function Oee(t,e){return new Nee(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kee{constructor(e,r){this.db=e,this.garbageCollector=Oee(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}er(e){let r=0;return this.Zn(e,(n=>{r++})).next((()=>r))}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,((n,i)=>r(i)))}addReference(e,r,n){return K1(e,n)}removeReference(e,r,n){return K1(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return K1(e,r)}nr(e,r){return(function(i,a){let s=!1;return fV(i).Y((c=>dV(i,c,a).next((u=>(u&&(s=!0),we.resolve(!u)))))).next((()=>s))})(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.tr(e,((s,c)=>{if(c<=r){const u=this.nr(e,s).next((f=>{if(!f)return a++,n.getEntry(e,s).next((()=>(n.removeEntry(s,bt.min()),vc(e).delete((function(g){return[0,qi(g.path)]})(s)))))}));i.push(u)}})).next((()=>we.waitFor(i))).next((()=>n.apply(e))).next((()=>a))}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return K1(e,r)}tr(e,r){const n=vc(e);let i,a=es.oe;return n.J({index:"documentTargetsIndex"},(([s,c],{path:u,sequenceNumber:f})=>{s===0?(a!==es.oe&&r(new tt(Xs(i)),a),a=f,i=u):a=es.oe})).next((()=>{a!==es.oe&&r(new tt(Xs(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function K1(t,e){return vc(t).put((function(n,i){return{targetId:0,path:qi(n.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.changes=new Gc((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?we.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return Tu(e).put(n)}removeEntry(e,r,n){return Tu(e).delete((function(a,s){const c=a.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],nv(s),c[c.length-1]]})(r,n))}updateMetadata(e,r){return this.getMetadata(e).next((n=>(n.byteSize+=r,this.rr(e,n))))}getEntry(e,r){let n=pn.newInvalidDocument(r);return Tu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Kf(r))},((i,a)=>{n=this.ir(r,a)})).next((()=>n))}sr(e,r){let n={size:0,document:pn.newInvalidDocument(r)};return Tu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Kf(r))},((i,a)=>{n={document:this.ir(r,a),size:av(a)}})).next((()=>n))}getEntries(e,r){let n=Oa();return this._r(e,r,((i,a)=>{const s=this.ir(i,a);n=n.insert(i,s)})).next((()=>n))}ar(e,r){let n=Oa(),i=new Yr(tt.comparator);return this._r(e,r,((a,s)=>{const c=this.ir(a,s);n=n.insert(a,c),i=i.insert(a,av(s))})).next((()=>({documents:n,ur:i})))}_r(e,r,n){if(r.isEmpty())return we.resolve();let i=new Ir(dC);r.forEach((u=>i=i.add(u)));const a=IDBKeyRange.bound(Kf(i.first()),Kf(i.last())),s=i.getIterator();let c=s.getNext();return Tu(e).J({index:"documentKeyIndex",range:a},((u,f,m)=>{const g=tt.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&dC(c,g)<0;)n(c,null),c=s.getNext();c&&c.isEqual(g)&&(n(c,f),c=s.hasNext()?s.getNext():null),c?m.$(Kf(c)):m.done()})).next((()=>{for(;c;)n(c,null),c=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,r,n,i,a){const s=r.path,c=[s.popLast().toArray(),s.lastSegment(),nv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tu(e).U(IDBKeyRange.bound(c,u,!0)).next((f=>{a==null||a.incrementDocumentReadCount(f.length);let m=Oa();for(const g of f){const v=this.ir(tt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(Qp(r,v)||i.has(v.key))&&(m=m.insert(v.key,v))}return m}))}getAllFromCollectionGroup(e,r,n,i){let a=Oa();const s=hC(r,n),c=hC(r,Ma.max());return Tu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,c,!0)},((u,f,m)=>{const g=this.ir(tt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);a=a.insert(g.key,g),a.size===i&&m.done()})).next((()=>a))}newChangeBuffer(e){return new Iee(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((r=>r.byteSize))}getMetadata(e){return uC(e).get("remoteDocumentGlobalKey").next((r=>(pt(!!r),r)))}rr(e,r){return uC(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=mee(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(bt.min())))return n}return pn.newInvalidDocument(e)}}function pV(t){return new Cee(t)}class Iee extends mV{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new Gc((n=>n.toString()),((n,i)=>n.isEqual(i)))}applyChanges(e){const r=[];let n=0,i=new Ir(((a,s)=>Mt(a.canonicalString(),s.canonicalString())));return this.changes.forEach(((a,s)=>{const c=this.lr.get(a);if(r.push(this.cr.removeEntry(e,a,c.readTime)),s.isValidDocument()){const u=Yk(this.cr.serializer,s);i=i.add(a.path.popLast());const f=av(u);n+=f-c.size,r.push(this.cr.addEntry(e,a,u))}else if(n-=c.size,this.trackRemovals){const u=Yk(this.cr.serializer,s.convertToNoDocument(bt.min()));r.push(this.cr.addEntry(e,a,u))}})),i.forEach((a=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,a))})),r.push(this.cr.updateMetadata(e,n)),we.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next((n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document)))}getAllFromCache(e,r){return this.cr.ar(e,r).next((({documents:n,ur:i})=>(i.forEach(((a,s)=>{this.lr.set(a,{size:s,readTime:n.get(a).readTime})})),n)))}}function uC(t){return $n(t,"remoteDocumentGlobal")}function Tu(t){return $n(t,"remoteDocumentsV14")}function Kf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hC(t,e){const r=e.documentKey.path.toArray();return[t,nv(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function dC(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let a=0;a<r.length-2&&a<n.length-2;++a)if(i=Mt(r[a],n[a]),i)return i;return i=Mt(r.length,n.length),i||(i=Mt(r[r.length-2],n[n.length-2]),i||Mt(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&Em(n.mutation,i,ca.empty(),on.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Ft()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Ft()){const i=Ys();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let s=fm();return a.forEach(((c,u)=>{s=s.insert(c,u.overlayedDocument)})),s}))))}getOverlayedDocuments(e,r){const n=Ys();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Ft())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,c)=>{r.set(s,c)}))}))}computeViews(e,r,n,i){let a=Oa();const s=Am(),c=(function(){return Am()})();return r.forEach(((u,f)=>{const m=n.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof bl)?a=a.insert(f.key,f):m!==void 0?(s.set(f.key,m.mutation.getFieldMask()),Em(m.mutation,f,m.mutation.getFieldMask(),on.now())):s.set(f.key,ca.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((f,m)=>s.set(f,m))),r.forEach(((f,m)=>{var g;return c.set(f,new jee(m,(g=s.get(f))!==null&&g!==void 0?g:null))})),c)))}recalculateAndSaveOverlays(e,r){const n=Am();let i=new Yr(((s,c)=>s-c)),a=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((s=>{for(const c of s)c.keys().forEach((u=>{const f=r.get(u);if(f===null)return;let m=n.get(u)||ca.empty();m=c.applyToLocalView(f,m),n.set(u,m);const g=(i.get(c.batchId)||Ft()).add(u);i=i.insert(c.batchId,g)}))})).next((()=>{const s=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,m=u.value,g=Dz();m.forEach((v=>{if(!a.has(v)){const x=Fz(r.get(v),n.get(v));x!==null&&g.set(v,x),a=a.add(v)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,g))}return we.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(s){return tt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Iz(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):we.resolve(Ys());let c=-1,u=a;return s.next((f=>we.forEach(f,((m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(m)?we.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{u=u.insert(m,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,u,f,Ft()))).next((m=>({batchId:c,changes:Pz(m)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new tt(r)).next((n=>{let i=fm();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=fm();return this.indexManager.getCollectionParents(e,a).next((c=>we.forEach(c,(u=>{const f=(function(g,v){return new Pd(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(r,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next((m=>{m.forEach(((g,v)=>{s=s.insert(g,v)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((s=>{a.forEach(((u,f)=>{const m=f.getKey();s.get(m)===null&&(s=s.insert(m,pn.newInvalidDocument(m)))}));let c=fm();return s.forEach(((u,f)=>{const m=a.get(u);m!==void 0&&Em(m.mutation,f,ca.empty(),on.now()),Qp(r,f)&&(c=c.insert(u,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return we.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Hi(i.createTime)}})(r)),we.resolve()}getNamedQuery(e,r){return we.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,(function(i){return{name:i.name,query:lV(i.bundledQuery),readTime:Hi(i.readTime)}})(r)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mee{constructor(){this.overlays=new Yr(tt.comparator),this.Ir=new Map}getOverlay(e,r){return we.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ys();return we.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.ht(e,r,a)})),we.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(n)),we.resolve()}getOverlaysForCollection(e,r,n){const i=Ys(),a=r.length+1,s=new tt(r.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&u.largestBatchId>n&&i.set(u.getKey(),u)}return we.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Yr(((f,m)=>f-m));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let m=a.get(f.largestBatchId);m===null&&(m=Ys(),a=a.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=Ys(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return we.resolve(c)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new e8(r,n));let a=this.Ir.get(r);a===void 0&&(a=Ft(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(){this.Tr=new Ir(Qn.Er),this.dr=new Ir(Qn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Qn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Vr(new Qn(e,r))}mr(e,r){e.forEach((n=>this.removeReference(n,r)))}gr(e){const r=new tt(new wr([])),n=new Qn(r,e),i=new Qn(r,e+1),a=[];return this.dr.forEachInRange([n,i],(s=>{this.Vr(s),a.push(s.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new tt(new wr([])),n=new Qn(r,e),i=new Qn(r,e+1);let a=Ft();return this.dr.forEachInRange([n,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const r=new Qn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Qn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return tt.comparator(e.key,r.key)||Mt(e.wr,r.wr)}static Ar(e,r){return Mt(e.wr,r.wr)||tt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ir(Qn.Er)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ZT(a,r,n,i);this.mutationQueue.push(s);for(const c of i)this.br=this.br.add(new Qn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return we.resolve(s)}lookupMutationBatch(e,r){return we.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return we.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Qn(r,0),i=new Qn(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],(s=>{const c=this.Dr(s.wr);a.push(c)})),we.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ir(Mt);return r.forEach((i=>{const a=new Qn(i,0),s=new Qn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],(c=>{n=n.add(c.wr)}))})),we.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;tt.isDocumentKey(a)||(a=a.child(""));const s=new Qn(new tt(a),0);let c=new Ir(Mt);return this.br.forEachWhile((u=>{const f=u.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(c=c.add(u.wr)),!0)}),s),we.resolve(this.Cr(c))}Cr(e){const r=[];return e.forEach((n=>{const i=this.Dr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){pt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return we.forEach(r.mutations,(i=>{const a=new Qn(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,r){const n=new Qn(r,0),i=this.br.firstAfterOrEqual(n);return we.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lee{constructor(e){this.Mr=e,this.docs=(function(){return new Yr(tt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return we.resolve(n?n.document.mutableCopy():pn.newInvalidDocument(r))}getEntries(e,r){let n=Oa();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():pn.newInvalidDocument(i))})),we.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Oa();const s=r.path,c=new tt(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:m}}=u.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||HT(hz(m),n)<=0||(i.has(m.key)||Qp(r,m))&&(a=a.insert(m.key,m.mutableCopy()))}return we.resolve(a)}getAllFromCollectionGroup(e,r,n,i){ft()}Or(e,r){return we.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new Bee(this)}getSize(e){return we.resolve(this.size)}}class Bee extends mV{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)})),we.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uee{constructor(e){this.persistence=e,this.Nr=new Gc((r=>o0(r)),Xp),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new a8,this.targetCount=0,this.kr=h0.Bn()}forEachTarget(e,r){return this.Nr.forEach(((n,i)=>r(i))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),we.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new h0(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,we.resolve()}updateTargetData(e,r){return this.Kn(r),we.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach(((s,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),we.waitFor(a).next((()=>i))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return we.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),we.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),we.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),we.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return we.resolve(n)}containsKey(e,r){return we.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,r){this.qr={},this.overlays={},this.Qr=new es(0),this.Kr=!1,this.Kr=!0,this.$r=new Pee,this.referenceDelegate=e(this),this.Ur=new Uee(this),this.indexManager=new _ee,this.remoteDocumentCache=(function(i){return new Lee(i)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new sV(r),this.Gr=new Ree(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Mee,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new Dee(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ve("MemoryPersistence","Starting transaction:",e);const i=new zee(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((a=>this.referenceDelegate.jr(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Hr(e,r){return we.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,r))))}}class zee extends fz{constructor(e){super(),this.currentSequenceNumber=e}}class Hb{constructor(e){this.persistence=e,this.Jr=new a8,this.Yr=null}static Zr(e){return new Hb(e)}get Xr(){if(this.Yr)return this.Yr;throw ft()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),we.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),we.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),we.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach((i=>this.Xr.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.Xr.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.Xr,(n=>{const i=tt.fromPath(n);return this.ei(e,i).next((a=>{a||r.removeEntry(i,bt.min())}))})).next((()=>(this.Yr=null,r.apply(e))))}updateLimboDocument(e,r){return this.ei(e,r).next((n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())}))}Wr(e){return 0}ei(e,r){return we.or([()=>we.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vee{constructor(e){this.serializer=e}O(e,r,n,i){const a=new Pb("createOrUpgrade",r);n<1&&i>=1&&((function(u){u.createObjectStore("owner")})(e),(function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ek,{unique:!0}),u.createObjectStore("documentMutations")})(e),fC(e),(function(u){u.createObjectStore("remoteDocuments")})(e));let s=we.resolve();return n<3&&i>=3&&(n!==0&&((function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")})(e),fC(e)),s=s.next((()=>(function(u){const f=u.store("targetGlobal"),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",m)})(a)))),n<4&&i>=4&&(n!==0&&(s=s.next((()=>(function(u,f){return f.store("mutations").U().next((m=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ek,{unique:!0});const g=f.store("mutations"),v=m.map((x=>g.put(x)));return we.waitFor(v)}))})(e,a)))),s=s.next((()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)}))),n<5&&i>=5&&(s=s.next((()=>this.ni(a)))),n<6&&i>=6&&(s=s.next((()=>((function(u){u.createObjectStore("remoteDocumentGlobal")})(e),this.ri(a))))),n<7&&i>=7&&(s=s.next((()=>this.ii(a)))),n<8&&i>=8&&(s=s.next((()=>this.si(e,a)))),n<9&&i>=9&&(s=s.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),n<10&&i>=10&&(s=s.next((()=>this.oi(a)))),n<11&&i>=11&&(s=s.next((()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),(function(u){u.createObjectStore("namedQueries",{keyPath:"name"})})(e)}))),n<12&&i>=12&&(s=s.next((()=>{(function(u){const f=u.createObjectStore("documentOverlays",{keyPath:gJ});f.createIndex("collectionPathOverlayIndex",yJ,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",vJ,{unique:!1})})(e)}))),n<13&&i>=13&&(s=s.next((()=>(function(u){const f=u.createObjectStore("remoteDocumentsV14",{keyPath:aJ});f.createIndex("documentKeyIndex",sJ),f.createIndex("collectionGroupIndex",oJ)})(e))).next((()=>this._i(e,a))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&i>=14&&(s=s.next((()=>this.ai(e,a)))),n<15&&i>=15&&(s=s.next((()=>(function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:dJ}).createIndex("sequenceNumberIndex",fJ,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:mJ}).createIndex("documentKeyIndex",pJ,{unique:!1})})(e)))),n<16&&i>=16&&(s=s.next((()=>{r.objectStore("indexState").clear()})).next((()=>{r.objectStore("indexEntries").clear()}))),n<17&&i>=17&&(s=s.next((()=>{(function(u){u.createObjectStore("globals",{keyPath:"name"})})(e)}))),s}ri(e){let r=0;return e.store("remoteDocuments").J(((n,i)=>{r+=av(i)})).next((()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next((i=>we.forEach(i,(a=>{const s=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",s).next((c=>we.forEach(c,(u=>{pt(u.userId===a.userId);const f=Lu(this.serializer,u);return hV(e,a.userId,f).next((()=>{}))}))))}))))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((i=>{const a=[];return n.J(((s,c)=>{const u=new wr(s),f=(function(g){return[0,qi(g)]})(u);a.push(r.get(f).next((m=>m?we.resolve():(g=>r.put({targetId:0,path:qi(g),sequenceNumber:i.highestListenSequenceNumber}))(u))))})).next((()=>we.waitFor(a)))}))}si(e,r){e.createObjectStore("collectionParents",{keyPath:hJ});const n=r.store("collectionParents"),i=new i8,a=s=>{if(i.add(s)){const c=s.lastSegment(),u=s.popLast();return n.put({collectionId:c,parent:qi(u)})}};return r.store("remoteDocuments").J({H:!0},((s,c)=>{const u=new wr(s);return a(u.popLast())})).next((()=>r.store("documentMutations").J({H:!0},(([s,c,u],f)=>{const m=Xs(c);return a(m.popLast())}))))}oi(e){const r=e.store("targets");return r.J(((n,i)=>{const a=pm(i),s=oV(this.serializer,a);return r.put(s)}))}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J(((a,s)=>{const c=r.store("remoteDocumentsV14"),u=(function(g){return g.document?new tt(wr.fromString(g.document.name).popFirst(5)):g.noDocument?tt.fromSegments(g.noDocument.path):g.unknownDocument?tt.fromSegments(g.unknownDocument.path):ft()})(s).path.toArray(),f={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(c.put(f))})).next((()=>we.waitFor(i)))}ai(e,r){const n=r.store("mutations"),i=pV(this.serializer),a=new yV(Hb.Zr,this.serializer.ct);return n.U().next((s=>{const c=new Map;return s.forEach((u=>{var f;let m=(f=c.get(u.userId))!==null&&f!==void 0?f:Ft();Lu(this.serializer,u).keys().forEach((g=>m=m.add(g))),c.set(u.userId,m)})),we.forEach(c,((u,f)=>{const m=new ci(f),g=Fb.lt(this.serializer,m),v=a.getIndexManager(m),x=qb.lt(m,this.serializer,v,a.referenceDelegate);return new gV(i,x,g,v).recalculateAndSaveOverlaysForDocumentKeys(new yS(r,es.oe),u).next()}))}))}}function fC(t){t.createObjectStore("targetDocuments",{keyPath:cJ}).createIndex("documentTargetsIndex",uJ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lJ,{unique:!0}),t.createObjectStore("targetGlobal")}const vw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class s8{constructor(e,r,n,i,a,s,c,u,f,m,g=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=a,this.window=s,this.document=c,this.ci=f,this.li=m,this.hi=g,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=v=>Promise.resolve(),!s8.D())throw new Je(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kee(this,i),this.Ai=r+"main",this.serializer=new sV(u),this.Ri=new jc(this.Ai,this.hi,new Vee(this.serializer)),this.$r=new gee,this.Ur=new Tee(this.referenceDelegate,this.serializer),this.remoteDocumentCache=pV(this.serializer),this.Gr=new pee,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,m===!1&&Vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Je(Ce.FAILED_PRECONDITION,vw);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ur.getHighestSequenceNumber(e)))})).then((e=>{this.Qr=new es(e,this.ci)})).then((()=>{this.Kr=!0})).catch((e=>(this.Ri&&this.Ri.close(),Promise.reject(e))))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L((async r=>{r.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>W1(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.wi(e).next((r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))))}))})).next((()=>this.Si(e))).next((r=>this.isPrimary&&!r?this.bi(e).next((()=>!1)):!!r&&this.Di(e).next((()=>!0)))))).catch((e=>{if(Hc(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ui.enqueueRetryable((()=>this.di(e))),this.isPrimary=e}))}wi(e){return Wf(e).get("owner").next((r=>we.resolve(this.vi(r))))}Ci(e){return W1(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(r=>{const n=$n(r,"clientMetadata");return n.U().next((i=>{const a=this.xi(i,18e5),s=i.filter((c=>a.indexOf(c)===-1));return we.forEach(s,(c=>n.delete(c.clientId))).next((()=>s))}))})).catch((()=>[]));if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.Fi())).then((()=>this.pi()))))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?we.resolve(!0):Wf(e).get("owner").next((r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new Je(Ce.FAILED_PRECONDITION,vw);return!1}}return!(!this.networkEnabled||!this.inForeground)||W1(e).U().next((n=>this.xi(n,5e3).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(a||s&&c)return!0}return!1}))===void 0))})).next((r=>(this.isPrimary!==r&&Ve("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r)))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const r=new yS(e,es.oe);return this.bi(r).next((()=>this.Ci(r)))})),this.Ri.close(),this.qi()}xi(e,r){return e.filter((n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId)))}Qi(){return this.runTransaction("getActiveClients","readonly",(e=>W1(e).U().next((r=>this.xi(r,18e5).map((n=>n.clientId))))))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return qb.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new See(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Fb.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ve("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",a=(function(u){return u===17?wJ:u===16?xJ:u===15?KT:u===14?vz:u===13?yz:u===12?bJ:u===11?gz:void ft()})(this.hi);let s;return this.Ri.runTransaction(e,i,a,(c=>(s=new yS(c,this.Qr?this.Qr.next():es.oe),r==="readwrite-primary"?this.wi(s).next((u=>!!u||this.Si(s))).next((u=>{if(!u)throw Vi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))),new Je(Ce.FAILED_PRECONDITION,dz);return n(s)})).next((u=>this.Di(s).next((()=>u)))):this.Ki(s).next((()=>n(s)))))).then((c=>(s.raiseOnCommittedEvent(),c)))}Ki(e){return Wf(e).get("owner").next((r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Je(Ce.FAILED_PRECONDITION,vw)}))}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wf(e).put("owner",r)}static D(){return jc.D()}bi(e){const r=Wf(e);return r.get("owner").next((n=>this.vi(n)?(Ve("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):we.resolve()))}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Vi(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.mi())))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;yU()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return Ve("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Vi("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Vi("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wf(t){return $n(t,"owner")}function W1(t){return $n(t,"clientMetadata")}function $ee(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Ft(),i=Ft();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new o8(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fee{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return yU()?8:mz(zn())>0?6:4})()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.Zi(e,r,i,n).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new Fee;return this.Xi(e,r,s).next((c=>{if(a.result=c,this.zi)return this.es(e,r,s,c.size)}))})).next((()=>a.result))}es(e,r,n,i){return n.documentReadCount<this.ji?(Oh()<=Zt.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",kh(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),we.resolve()):(Oh()<=Zt.DEBUG&&Ve("QueryEngine","Query:",kh(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Oh()<=Zt.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",kh(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,is(r))):we.resolve())}Yi(e,r){if(Uk(r))return we.resolve(null);let n=is(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=ev(r,null,"F"),n=is(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const s=Ft(...a);return this.Ji.getDocuments(e,s).next((c=>this.indexManager.getMinOffset(e,n).next((u=>{const f=this.ts(r,c);return this.ns(r,f,s,u.readTime)?this.Yi(e,ev(r,null,"F")):this.rs(e,f,r,u)}))))})))))}Zi(e,r,n,i){return Uk(r)||i.isEqual(bt.min())?we.resolve(null):this.Ji.getDocuments(e,n).next((a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?we.resolve(null):(Oh()<=Zt.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kh(r)),this.rs(e,s,r,QZ(i,-1)).next((c=>c)))}))}ts(e,r){let n=new Ir(Rz(e));return r.forEach(((i,a)=>{Qp(e,a)&&(n=n.add(a))})),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Oh()<=Zt.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",kh(r)),this.Ji.getDocumentsMatchingQuery(e,r,Ma.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Yr(Mt),this._s=new Gc((a=>o0(a)),Xp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.os)))}}function bV(t,e,r,n){return new qee(t,e,r,n)}async function xV(t,e){const r=It(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const s=[],c=[];let u=Ft();for(const f of i){s.push(f.batchId);for(const m of f.mutations)u=u.add(m.key)}for(const f of a){c.push(f.batchId);for(const m of f.mutations)u=u.add(m.key)}return r.localDocuments.getDocuments(n,u).next((f=>({hs:f,removedBatchIds:s,addedBatchIds:c})))}))}))}function Hee(t,e){const r=It(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return(function(c,u,f,m){const g=f.batch,v=g.keys();let x=we.resolve();return v.forEach((T=>{x=x.next((()=>m.getEntry(u,T))).next((S=>{const _=f.docVersions.get(T);pt(_!==null),S.version.compareTo(_)<0&&(g.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),m.addEntry(S)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(u,g)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let u=Ft();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(u=u.add(c.batch.mutations[f].key));return u})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function wV(t){const e=It(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Ur.getLastRemoteSnapshotVersion(r)))}function Gee(t,e){const r=It(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const c=[];e.targetChanges.forEach(((m,g)=>{const v=i.get(g);if(!v)return;c.push(r.Ur.removeMatchingKeys(a,m.removedDocuments,g).next((()=>r.Ur.addMatchingKeys(a,m.addedDocuments,g))));let x=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(Rn.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,n)),i=i.insert(g,x),(function(S,_,C){return S.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(v,x,m)&&c.push(r.Ur.updateTargetData(a,x))}));let u=Oa(),f=Ft();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(Kee(a,s,e.documentUpdates).next((m=>{u=m.Ps,f=m.Is}))),!n.isEqual(bt.min())){const m=r.Ur.getLastRemoteSnapshotVersion(a).next((g=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n)));c.push(m)}return we.waitFor(c).next((()=>s.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,u,f))).next((()=>u))})).then((a=>(r.os=i,a)))}function Kee(t,e,r){let n=Ft(),i=Ft();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let s=Oa();return r.forEach(((c,u)=>{const f=a.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(bt.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):Ve("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)})),{Ps:s,Is:i}}))}function Wee(t,e){const r=It(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function Xee(t,e){const r=It(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Ur.getTargetData(n,e).next((a=>a?(i=a,we.resolve(i)):r.Ur.allocateTargetId(n).next((s=>(i=new Zo(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n}))}async function IS(t,e,r){const n=It(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Hc(s))throw s;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function mC(t,e,r){const n=It(t);let i=bt.min(),a=Ft();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(u,f,m){const g=It(u),v=g._s.get(m);return v!==void 0?we.resolve(g.os.get(v)):g.Ur.getTargetData(f,m)})(n,s,is(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,c.targetId).next((u=>{a=u}))})).next((()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:bt.min(),r?a:Ft()))).next((c=>(Yee(n,DJ(e),c),{documents:c,Ts:a})))))}function Yee(t,e,r){let n=t.us.get(e)||bt.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.us.set(e,n)}class pC{constructor(){this.activeTargetIds=$J()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _V{constructor(){this.so=new pC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new pC,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X1=null;function bw(){return X1===null?X1=(function(){return 268435456+Math.round(2147483648*Math.random())})():X1++,"0x"+X1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="WebChannelConnection";class ete extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const c=bw(),u=this.xo(r,n.toUriEncodedString());Ve("RestConnection",`Sending RPC '${r}' ${c}:`,u,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,a,s),this.No(r,u,f,i).then((m=>(Ve("RestConnection",`Received RPC '${r}' ${c}: `,m),m)),(m=>{throw i0("RestConnection",`RPC '${r}' ${c} failed with error: `,m,"url: ",u,"request:",i),m}))}Lo(r,n,i,a,s,c){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Md})(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>r[s]=a)),i&&i.headers.forEach(((a,s)=>r[s]=a))}xo(r,n){const i=Zee[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=bw();return new Promise(((s,c)=>{const u=new nz;u.setWithCredentials(!0),u.listenOnce(iz.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Cy.NO_ERROR:const m=u.getResponseJson();Ve(bi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),s(m);break;case Cy.TIMEOUT:Ve(bi,`RPC '${e}' ${a} timed out`),c(new Je(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Cy.HTTP_ERROR:const g=u.getStatus();if(Ve(bi,`RPC '${e}' ${a} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const T=(function(_){const C=_.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(C)>=0?C:Ce.UNKNOWN})(x.status);c(new Je(T,x.message))}else c(new Je(Ce.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Je(Ce.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Ve(bi,`RPC '${e}' ${a} completed.`)}}));const f=JSON.stringify(i);Ve(bi,`RPC '${e}' ${a} sending request:`,i),u.send(r,"POST",f,n,15)}))}Bo(e,r,n){const i=bw(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=oz(),c=sz(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,r,n),u.encodeInitMessageHeaders=!0;const m=a.join("");Ve(bi,`Creating RPC '${e}' stream ${i}: ${m}`,u);const g=s.createWebChannel(m,u);let v=!1,x=!1;const T=new Jee({Io:_=>{x?Ve(bi,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(v||(Ve(bi,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),Ve(bi,`RPC '${e}' stream ${i} sending:`,_),g.send(_))},To:()=>g.close()}),S=(_,C,I)=>{_.listen(C,(P=>{try{I(P)}catch(V){setTimeout((()=>{throw V}),0)}}))};return S(g,dm.EventType.OPEN,(()=>{x||(Ve(bi,`RPC '${e}' stream ${i} transport opened.`),T.yo())})),S(g,dm.EventType.CLOSE,(()=>{x||(x=!0,Ve(bi,`RPC '${e}' stream ${i} transport closed`),T.So())})),S(g,dm.EventType.ERROR,(_=>{x||(x=!0,i0(bi,`RPC '${e}' stream ${i} transport errored:`,_),T.So(new Je(Ce.UNAVAILABLE,"The operation could not be completed")))})),S(g,dm.EventType.MESSAGE,(_=>{var C;if(!x){const I=_.data[0];pt(!!I);const P=I,V=P.error||((C=P[0])===null||C===void 0?void 0:C.error);if(V){Ve(bi,`RPC '${e}' stream ${i} received error:`,V);const j=V.status;let D=(function(k){const $=On[k];if($!==void 0)return Gz($)})(j),A=V.message;D===void 0&&(D=Ce.INTERNAL,A="Unknown error status: "+j+" with message "+V.message),x=!0,T.So(new Je(D,A)),g.close()}else Ve(bi,`RPC '${e}' stream ${i} received:`,I),T.bo(I)}})),S(c,az.STAT_EVENT,(_=>{_.stat===pS.PROXY?Ve(bi,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===pS.NOPROXY&&Ve(bi,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.wo()}),0),T}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tte(){return typeof window<"u"?window:null}function Ly(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t){return new iee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,r,n,i,a,s,c,u){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new SV(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Ce.RESOURCE_EXHAUSTED?(Vi(r.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.Yo===r&&this.P_(n,i)}),(n=>{e((()=>{const i=new Je(Ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)}))}))}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{n((()=>this.I_(i)))})),this.stream.onMessage((i=>{n((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget((()=>this.Yo===e?r():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rte extends TV{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=oee(this.serializer,e),n=(function(a){if(!("targetChange"in a))return bt.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?bt.min():s.readTime?Hi(s.readTime):bt.min()})(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=ES(this.serializer),r.addTarget=(function(a,s){let c;const u=s.target;if(c=Zy(u)?{documents:eV(a,u)}:{query:tV(a,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=Xz(a,s.resumeToken);const f=TS(a,s.expectedCount);f!==null&&(c.expectedCount=f)}else if(s.snapshotVersion.compareTo(bt.min())>0){c.readTime=td(a,s.snapshotVersion.toTimestamp());const f=TS(a,s.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const n=cee(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=ES(this.serializer),r.removeTarget=e,this.a_(r)}}class nte extends TV{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return pt(!!e.streamToken),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=lee(e.writeResults,e.commitTime),n=Hi(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=ES(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>rv(this.serializer,n)))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Je(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Mo(e,AS(r,n),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Je(Ce.UNKNOWN,a.toString())}))}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Lo(e,AS(r,n),i,s,c,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Je(Ce.UNKNOWN,s.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class ate{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vi(r),this.D_=!1):Ve("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((s=>{n.enqueueAndForget((async()=>{E0(this)&&(Ve("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const f=It(u);f.L_.add(4),await Jp(f),f.q_.set("Unknown"),f.L_.delete(4),await Kb(f)})(this))}))})),this.q_=new ate(n,i)}}async function Kb(t){if(E0(t))for(const e of t.B_)await e(!0)}async function Jp(t){for(const e of t.B_)await e(!1)}function AV(t,e){const r=It(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),h8(r)?u8(r):Ld(r).r_()&&c8(r,e))}function l8(t,e){const r=It(t),n=Ld(r);r.N_.delete(e),n.r_()&&EV(r,e),r.N_.size===0&&(n.r_()?n.o_():E0(r)&&r.q_.set("Unknown"))}function c8(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ld(t).A_(e)}function EV(t,e){t.Q_.xe(e),Ld(t).R_(e)}function u8(t){t.Q_=new eee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ld(t).start(),t.q_.v_()}function h8(t){return E0(t)&&!Ld(t).n_()&&t.N_.size>0}function E0(t){return It(t).L_.size===0}function NV(t){t.Q_=void 0}async function ote(t){t.q_.set("Online")}async function lte(t){t.N_.forEach(((e,r)=>{c8(t,e)}))}async function cte(t,e){NV(t),h8(t)?(t.q_.M_(e),u8(t)):t.q_.set("Unknown")}async function ute(t,e,r){if(t.q_.set("Online"),e instanceof Wz&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const c of a.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,s),i.N_.delete(c),i.Q_.removeTarget(c))})(t,e)}catch(n){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await sv(t,n)}else if(e instanceof Dy?t.Q_.Ke(e):e instanceof Kz?t.Q_.He(e):t.Q_.We(e),!r.isEqual(bt.min()))try{const n=await wV(t.localStore);r.compareTo(n)>=0&&await(function(a,s){const c=a.Q_.rt(s);return c.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const m=a.N_.get(f);m&&a.N_.set(f,m.withResumeToken(u.resumeToken,s))}})),c.targetMismatches.forEach(((u,f)=>{const m=a.N_.get(u);if(!m)return;a.N_.set(u,m.withResumeToken(Rn.EMPTY_BYTE_STRING,m.snapshotVersion)),EV(a,u);const g=new Zo(m.target,u,f,m.sequenceNumber);c8(a,g)})),a.remoteSyncer.applyRemoteEvent(c)})(t,r)}catch(n){Ve("RemoteStore","Failed to raise snapshot:",n),await sv(t,n)}}async function sv(t,e,r){if(!Hc(e))throw e;t.L_.add(1),await Jp(t),t.q_.set("Offline"),r||(r=()=>wV(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ve("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Kb(t)}))}function OV(t,e){return e().catch((r=>sv(t,r,e)))}async function eg(t){const e=It(t),r=zc(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hte(e);)try{const i=await Wee(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,dte(e,i)}catch(i){await sv(e,i)}kV(e)&&CV(e)}function hte(t){return E0(t)&&t.O_.length<10}function dte(t,e){t.O_.push(e);const r=zc(t);r.r_()&&r.V_&&r.m_(e.mutations)}function kV(t){return E0(t)&&!zc(t).n_()&&t.O_.length>0}function CV(t){zc(t).start()}async function fte(t){zc(t).p_()}async function mte(t){const e=zc(t);for(const r of t.O_)e.m_(r.mutations)}async function pte(t,e,r){const n=t.O_.shift(),i=JT.from(n,e,r);await OV(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await eg(t)}async function gte(t,e){e&&zc(t).V_&&await(async function(n,i){if((function(s){return QJ(s)&&s!==Ce.ABORTED})(i.code)){const a=n.O_.shift();zc(n).s_(),await OV(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await eg(n)}})(t,e),kV(t)&&CV(t)}async function yC(t,e){const r=It(t);r.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const n=E0(r);r.L_.add(3),await Jp(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Kb(r)}async function yte(t,e){const r=It(t);e?(r.L_.delete(2),await Kb(r)):e||(r.L_.add(2),await Jp(r),r.q_.set("Unknown"))}function Ld(t){return t.K_||(t.K_=(function(r,n,i){const a=It(r);return a.w_(),new rte(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:ote.bind(null,t),Ro:lte.bind(null,t),mo:cte.bind(null,t),d_:ute.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),h8(t)?u8(t):t.q_.set("Unknown")):(await t.K_.stop(),NV(t))}))),t.K_}function zc(t){return t.U_||(t.U_=(function(r,n,i){const a=It(r);return a.w_(),new nte(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fte.bind(null,t),mo:gte.bind(null,t),f_:mte.bind(null,t),g_:pte.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await eg(t)):(await t.U_.stop(),t.O_.length>0&&(Ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,c=new d8(e,r,s,i,a);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Je(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f8(t,e){if(Vi("AsyncQueue",`${e}: ${t}`),Hc(t))return new Je(Ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.comparator=e?(r,n)=>e(r,n)||tt.comparator(r.key,n.key):(r,n)=>tt.comparator(r.key,n.key),this.keyedMap=fm(),this.sortedSet=new Yr(this.comparator)}static emptySet(e){return new Vh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Vh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Vh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.W_=new Yr(tt.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ft():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class rd{constructor(e,r,n,i,a,s,c,u,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach((c=>{s.push({type:0,doc:c})})),new rd(e,r,Vh.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class bte{constructor(){this.queries=bC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=It(r),a=i.queries;i.queries=bC(),a.forEach(((s,c)=>{for(const u of c.j_)u.onError(n)}))})(this,new Je(Ce.ABORTED,"Firestore shutting down"))}}function bC(){return new Gc((t=>jz(t)),Bb)}async function m8(t,e){const r=It(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new vte,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const c=f8(s,`Initialization of query '${kh(e.query)}' failed`);return void e.onError(c)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&g8(r)}async function p8(t,e){const r=It(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function xte(t,e){const r=It(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const c of s.j_)c.X_(i)&&(n=!0);s.z_=i}}n&&g8(r)}function wte(t,e,r){const n=It(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function g8(t){t.Y_.forEach((e=>{e.next()}))}var jS,xC;(xC=jS||(jS={})).ea="default",xC.Cache="cache";class y8{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new rd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=rd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==jS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.key=e}}class jV{constructor(e){this.key=e}}class _te{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ft(),this.mutatedKeys=Ft(),this.Aa=Rz(e),this.Ra=new Vh(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new vC,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,g)=>{const v=i.get(m),x=Qp(this.query,g)?g:null,T=!!v&&this.mutatedKeys.has(v.key),S=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let _=!1;v&&x?v.data.isEqual(x.data)?T!==S&&(n.track({type:3,doc:x}),_=!0):this.ga(v,x)||(n.track({type:2,doc:x}),_=!0,(u&&this.Aa(x,u)>0||f&&this.Aa(x,f)<0)&&(c=!0)):!v&&x?(n.track({type:0,doc:x}),_=!0):v&&!x&&(n.track({type:1,doc:v}),_=!0,(u||f)&&(c=!0)),_&&(x?(s=s.add(x),a=S?a.add(m):a.delete(m)):(s=s.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const m=this.query.limitType==="F"?s.last():s.first();s=s.delete(m.key),a=a.delete(m.key),n.track({type:1,doc:m})}return{Ra:s,fa:n,ns:c,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((m,g)=>(function(x,T){const S=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return S(x)-S(T)})(m.type,g.type)||this.Aa(m.doc,g.doc))),this.pa(n),i=i!=null&&i;const c=r&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,f=u!==this.Ea;return this.Ea=u,s.length!==0||f?{snapshot:new rd(this.query,e.Ra,a,s,e.mutatedKeys,u===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((r=>this.Ta=this.Ta.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ta=this.Ta.delete(r))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ft(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const r=[];return e.forEach((n=>{this.da.has(n)||r.push(new jV(n))})),this.da.forEach((n=>{e.has(n)||r.push(new IV(n))})),r}ba(e){this.Ta=e.Ts,this.da=Ft();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return rd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Ste{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Tte{constructor(e){this.key=e,this.va=!1}}class Ate{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Gc((c=>jz(c)),Bb),this.Ma=new Map,this.xa=new Set,this.Oa=new Yr(tt.comparator),this.Na=new Map,this.La=new a8,this.Ba={},this.ka=new Map,this.qa=h0.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Ete(t,e,r=!0){const n=BV(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await RV(n,e,r,!0),i}async function Nte(t,e){const r=BV(t);await RV(r,e,!0,!1)}async function RV(t,e,r,n){const i=await Xee(t.localStore,is(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let c;return n&&(c=await Ote(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&AV(t.remoteStore,i),c}async function Ote(t,e,r,n,i){t.Ka=(g,v,x)=>(async function(S,_,C,I){let P=_.view.ma(C);P.ns&&(P=await mC(S.localStore,_.query,!1).then((({documents:A})=>_.view.ma(A,P))));const V=I&&I.targetChanges.get(_.targetId),j=I&&I.targetMismatches.get(_.targetId)!=null,D=_.view.applyChanges(P,S.isPrimaryClient,V,j);return _C(S,_.targetId,D.wa),D.snapshot})(t,g,v,x);const a=await mC(t.localStore,e,!0),s=new _te(e,a.Ts),c=s.ma(a.documents),u=Zp.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(c,t.isPrimaryClient,u);_C(t,r,f.wa);const m=new Ste(e,r,s);return t.Fa.set(e,m),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),f.snapshot}async function kte(t,e,r){const n=It(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter((s=>!Bb(s,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await IS(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&l8(n.remoteStore,i.targetId),RS(n,i.targetId)})).catch(T0)):(RS(n,i.targetId),await IS(n.localStore,i.targetId,!0))}async function Cte(t,e){const r=It(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),l8(r.remoteStore,n.targetId))}async function Ite(t,e,r){const n=UV(t);try{const i=await(function(s,c){const u=It(s),f=on.now(),m=c.reduce(((x,T)=>x.add(T.key)),Ft());let g,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let T=Oa(),S=Ft();return u.cs.getEntries(x,m).next((_=>{T=_,T.forEach(((C,I)=>{I.isValidDocument()||(S=S.add(C))}))})).next((()=>u.localDocuments.getOverlayedDocuments(x,T))).next((_=>{g=_;const C=[];for(const I of c){const P=XJ(I,g.get(I.key).overlayedDocument);P!=null&&C.push(new bl(I.key,P,Sz(P.value.mapValue),Ni.exists(!0)))}return u.mutationQueue.addMutationBatch(x,f,C,c)})).next((_=>{v=_;const C=_.applyToLocalDocumentSet(g,S);return u.documentOverlayCache.saveOverlays(x,_.batchId,C)}))})).then((()=>({batchId:v.batchId,changes:Pz(g)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(s,c,u){let f=s.Ba[s.currentUser.toKey()];f||(f=new Yr(Mt)),f=f.insert(c,u),s.Ba[s.currentUser.toKey()]=f})(n,i.batchId,r),await tg(n,i.changes),await eg(n.remoteStore)}catch(i){const a=f8(i,"Failed to persist write");r.reject(a)}}async function MV(t,e){const r=It(t);try{const n=await Gee(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=r.Na.get(a);s&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?pt(s.va):i.removedDocuments.size>0&&(pt(s.va),s.va=!1))})),await tg(r,n,e)}catch(n){await T0(n)}}function wC(t,e,r){const n=It(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach(((a,s)=>{const c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)})),(function(s,c){const u=It(s);u.onlineState=c;let f=!1;u.queries.forEach(((m,g)=>{for(const v of g.j_)v.Z_(c)&&(f=!0)})),f&&g8(u)})(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function jte(t,e,r){const n=It(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let s=new Yr(tt.comparator);s=s.insert(a,pn.newNoDocument(a,bt.min()));const c=Ft().add(a),u=new $b(bt.min(),new Map,new Yr(Mt),s,c);await MV(n,u),n.Oa=n.Oa.remove(a),n.Na.delete(e),v8(n)}else await IS(n.localStore,e,!1).then((()=>RS(n,e,r))).catch(T0)}async function Rte(t,e){const r=It(t),n=e.batch.batchId;try{const i=await Hee(r.localStore,e);DV(r,n,null),PV(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await tg(r,i)}catch(i){await T0(i)}}async function Mte(t,e,r){const n=It(t);try{const i=await(function(s,c){const u=It(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return u.mutationQueue.lookupMutationBatch(f,c).next((g=>(pt(g!==null),m=g.keys(),u.mutationQueue.removeMutationBatch(f,g)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>u.localDocuments.getDocuments(f,m)))}))})(n.localStore,e);DV(n,e,r),PV(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await tg(n,i)}catch(i){await T0(i)}}function PV(t,e){(t.ka.get(e)||[]).forEach((r=>{r.resolve()})),t.ka.delete(e)}function DV(t,e,r){const n=It(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function RS(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((n=>{t.La.containsKey(n)||LV(t,n)}))}function LV(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(l8(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),v8(t))}function _C(t,e,r){for(const n of r)n instanceof IV?(t.La.addReference(n.key,e),Pte(t,n)):n instanceof jV?(Ve("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||LV(t,n.key)):ft()}function Pte(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ve("SyncEngine","New document in limbo: "+r),t.xa.add(n),v8(t))}function v8(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new tt(wr.fromString(e)),n=t.qa.next();t.Na.set(n,new Tte(r)),t.Oa=t.Oa.insert(r,n),AV(t.remoteStore,new Zo(is(Yp(r.path)),n,"TargetPurposeLimboResolution",es.oe))}}async function tg(t,e,r){const n=It(t),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach(((c,u)=>{s.push(n.Ka(u,e,r).then((f=>{var m;if((f||r)&&n.isPrimaryClient){const g=f?!f.fromCache:(m=r==null?void 0:r.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;n.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(f){i.push(f);const g=o8.Wi(u.targetId,f);a.push(g)}})))})),await Promise.all(s),n.Ca.d_(i),await(async function(u,f){const m=It(u);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>we.forEach(f,(v=>we.forEach(v.$i,(x=>m.persistence.referenceDelegate.addReference(g,v.targetId,x))).next((()=>we.forEach(v.Ui,(x=>m.persistence.referenceDelegate.removeReference(g,v.targetId,x)))))))))}catch(g){if(!Hc(g))throw g;Ve("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const x=m.os.get(v),T=x.snapshotVersion,S=x.withLastLimboFreeSnapshotVersion(T);m.os=m.os.insert(v,S)}}})(n.localStore,a))}async function Dte(t,e){const r=It(t);if(!r.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const n=await xV(r.localStore,e);r.currentUser=e,(function(a,s){a.ka.forEach((c=>{c.forEach((u=>{u.reject(new Je(Ce.CANCELLED,s))}))})),a.ka.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await tg(r,n.hs)}}function Lte(t,e){const r=It(t),n=r.Na.get(e);if(n&&n.va)return Ft().add(n.key);{let i=Ft();const a=r.Ma.get(e);if(!a)return i;for(const s of a){const c=r.Fa.get(s);i=i.unionWith(c.view.Va)}return i}}function BV(t){const e=It(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jte.bind(null,e),e.Ca.d_=xte.bind(null,e.eventManager),e.Ca.$a=wte.bind(null,e.eventManager),e}function UV(t){const e=It(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mte.bind(null,e),e}class Jm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gb(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return bV(this.persistence,new vV,e.initialUser,this.serializer)}Ga(e){return new yV(Hb.Zr,this.serializer)}Wa(e){return new _V}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jm.provider={build:()=>new Jm};class Bte extends Jm{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await UV(this.Ja.syncEngine),await eg(this.Ja.remoteStore),await this.persistence.yi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}za(e){return bV(this.persistence,new vV,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new Eee(n,e.asyncQueue,r)}Ha(e,r){const n=new tJ(r,this.persistence);return new eJ(e.asyncQueue,n)}Ga(e){const r=$ee(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?ia.withCacheSize(this.cacheSizeBytes):ia.DEFAULT;return new s8(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,tte(),Ly(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new _V}}class ov{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>wC(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dte.bind(null,this.syncEngine),await yte(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bte})()}createDatastore(e){const r=Gb(e.databaseInfo.databaseId),n=(function(a){return new ete(a)})(e.databaseInfo);return(function(a,s,c,u){return new ite(a,s,c,u)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,s,c){return new ste(n,i,a,s,c)})(this.localStore,this.datastore,e.asyncQueue,(r=>wC(this.syncEngine,r,0)),(function(){return gC.D()?new gC:new Qee})())}createSyncEngine(e,r){return(function(i,a,s,c,u,f,m){const g=new Ate(i,a,s,c,u,f);return m&&(g.Qa=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const a=It(i);Ve("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Jp(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}ov.provider={build:()=>new ov};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ci.UNAUTHENTICATED,this.clientId=cz.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async s=>{Ve("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(Ve("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=f8(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function xw(t,e){t.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await xV(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function SC(t,e){t.asyncQueue.verifyOperationInProgress();const r=await zte(t);Ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>yC(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>yC(e.remoteStore,i))),t._onlineComponents=e}async function zte(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await xw(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ce.FAILED_PRECONDITION||i.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;i0("Error using user provided cache. Falling back to memory cache: "+r),await xw(t,new Jm)}}else Ve("FirestoreClient","Using default OfflineComponentProvider"),await xw(t,new Jm);return t._offlineComponents}async function zV(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve("FirestoreClient","Using user provided OnlineComponentProvider"),await SC(t,t._uninitializedComponentsProvider._online)):(Ve("FirestoreClient","Using default OnlineComponentProvider"),await SC(t,new ov))),t._onlineComponents}function Vte(t){return zV(t).then((e=>e.syncEngine))}async function lv(t){const e=await zV(t),r=e.eventManager;return r.onListen=Ete.bind(null,e.syncEngine),r.onUnlisten=kte.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Nte.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Cte.bind(null,e.syncEngine),r}function $te(t,e,r={}){const n=new ro;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,c,u,f){const m=new b8({next:v=>{m.Za(),s.enqueueAndForget((()=>p8(a,g)));const x=v.docs.has(c);!x&&v.fromCache?f.reject(new Je(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&v.fromCache&&u&&u.source==="server"?f.reject(new Je(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new y8(Yp(c.path),m,{includeMetadataChanges:!0,_a:!0});return m8(a,g)})(await lv(t),t.asyncQueue,e,r,n))),n.promise}function Fte(t,e,r={}){const n=new ro;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,c,u,f){const m=new b8({next:v=>{m.Za(),s.enqueueAndForget((()=>p8(a,g))),v.fromCache&&u.source==="server"?f.reject(new Je(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new y8(c,m,{includeMetadataChanges:!0,_a:!0});return m8(a,g)})(await lv(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t,e,r){if(!r)throw new Je(Ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qte(t,e,r,n){if(e===!0&&n===!0)throw new Je(Ce.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function AC(t){if(!tt.isDocumentKey(t))throw new Je(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EC(t){if(tt.isDocumentKey(t))throw new Je(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ft()}function Gi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Je(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Wb(t);throw new Je(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function Hte(t,e){if(e<=0)throw new Je(Ce.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Je(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Je(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VV((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Je(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Je(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Je(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xb{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Je(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Je(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NC(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new $Z;switch(n.type){case"firstParty":return new GZ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Je(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=TC.get(r);n&&(Ve("ComponentProvider","Removing Datastore"),TC.delete(r),n.terminate())})(this),Promise.resolve()}}function Gte(t,e,r,n={}){var i;const a=(t=Gi(t,Xb))._getSettings(),s=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&i0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let c,u;if(typeof n.mockUserToken=="string")c=n.mockUserToken,u=ci.MOCK_USER;else{c=gU(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new Je(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ci(f)}t._authCredentials=new FZ(new lz(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new xl(this.firestore,e,this._query)}}class Oi{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oi(this.firestore,e,this._key)}}class Rc extends xl{constructor(e,r,n){super(e,r,Yp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oi(this.firestore,null,new tt(e))}withConverter(e){return new Rc(this.firestore,e,this._path)}}function Mr(t,e,...r){if(t=zr(t),$V("collection","path",e),t instanceof Xb){const n=wr.fromString(e,...r);return EC(n),new Rc(t,null,n)}{if(!(t instanceof Oi||t instanceof Rc))throw new Je(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wr.fromString(e,...r));return EC(n),new Rc(t.firestore,null,n)}}function ht(t,e,...r){if(t=zr(t),arguments.length===1&&(e=cz.newId()),$V("doc","path",e),t instanceof Xb){const n=wr.fromString(e,...r);return AC(n),new Oi(t,null,new tt(n))}{if(!(t instanceof Oi||t instanceof Rc))throw new Je(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wr.fromString(e,...r));return AC(n),new Oi(t.firestore,t instanceof Rc?t.converter:null,new tt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new SV(this,"async_queue_retry"),this.Vu=()=>{const n=Ly();n&&Ve("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Ly();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ly();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const r=new ro;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Hc(e))throw e;Ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const r=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const i=(function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c})(n);throw Vi("INTERNAL UNHANDLED ERROR: ",i),n})).then((n=>(this.du=!1,n))))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=d8.createAndSchedule(this,e,r,n,(a=>this.yu(a)));return this.Tu.push(i),i}fu(){this.Eu&&ft()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function kC(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class oo extends Xb{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new OC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OC(e),this._firestoreClient=void 0,await e}}}function Kte(t,e){const r=typeof t=="object"?t:Ib(),n=typeof t=="string"?t:"(default)",i=Hp(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=CT("firestore");a&&Gte(i,...a)}return i}function Yb(t){if(t._terminated)throw new Je(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FV(t),t._firestoreClient}function FV(t){var e,r,n;const i=t._freezeSettings(),a=(function(c,u,f,m){return new SJ(c,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,VV(m.experimentalLongPollingOptions),m.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ute(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}})(t._componentsProvider))}function Wte(t,e){i0("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return Xte(t,ov.provider,{build:n=>new Bte(n,r.cacheSizeBytes,void 0)}),Promise.resolve()}function Xte(t,e,r){if((t=Gi(t,oo))._firestoreClient||t._terminated)throw new Je(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Je(Ce.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},FV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nd(Rn.fromBase64String(e))}catch(r){throw new Je(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new nd(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Je(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Je(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Je(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yte=/^__.*__$/;class Qte{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new bl(e,this.data,this.fieldMask,r,this.fieldTransforms):new Dd(e,this.data,r,this.fieldTransforms)}}class qV{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new bl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function HV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class Jb{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Jb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return cv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(HV(this.Cu)&&Yte.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Zte{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Gb(e)}Qu(e,r,n,i=!1){return new Jb({Cu:e,methodName:r,qu:n,path:sn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ex(t){const e=t._freezeSettings(),r=Gb(t._databaseId);return new Zte(t._databaseId,!!e.ignoreUndefinedProperties,r)}function GV(t,e,r,n,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);S8("Data must be an object, but it was:",s,n);const c=KV(n,s);let u,f;if(a.merge)u=new ca(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const m=[];for(const g of a.mergeFields){const v=MS(e,g,r);if(!s.contains(v))throw new Je(Ce.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);XV(m,v)||m.push(v)}u=new ca(m),f=s.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,f=s.fieldTransforms;return new Qte(new Ti(c),u,f)}class tx extends Zb{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tx}}function Jte(t,e,r){return new Jb({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _8 extends Zb{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Jte(this,e,!0),n=this.Ku.map((a=>Bd(a,r))),i=new l0(n);return new $z(e.path,i)}isEqual(e){return e instanceof _8&&zm(this.Ku,e.Ku)}}function ere(t,e,r,n){const i=t.Qu(1,e,r);S8("Data must be an object, but it was:",i,n);const a=[],s=Ti.empty();A0(n,((u,f)=>{const m=T8(e,u,r);f=zr(f);const g=i.Nu(m);if(f instanceof tx)a.push(m);else{const v=Bd(f,g);v!=null&&(a.push(m),s.set(m,v))}}));const c=new ca(a);return new qV(s,c,i.fieldTransforms)}function tre(t,e,r,n,i,a){const s=t.Qu(1,e,r),c=[MS(e,n,r)],u=[i];if(a.length%2!=0)throw new Je(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)c.push(MS(e,a[v])),u.push(a[v+1]);const f=[],m=Ti.empty();for(let v=c.length-1;v>=0;--v)if(!XV(f,c[v])){const x=c[v];let T=u[v];T=zr(T);const S=s.Nu(x);if(T instanceof tx)f.push(x);else{const _=Bd(T,S);_!=null&&(f.push(x),m.set(x,_))}}const g=new ca(f);return new qV(m,g,s.fieldTransforms)}function rre(t,e,r,n=!1){return Bd(r,t.Qu(n?4:3,e))}function Bd(t,e){if(WV(t=zr(t)))return S8("Unsupported field value:",e,t),KV(t,e);if(t instanceof Zb)return(function(n,i){if(!HV(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,i){const a=[];let s=0;for(const c of n){let u=Bd(c,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=zr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return FJ(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=on.fromDate(n);return{timestampValue:td(i.serializer,a)}}if(n instanceof on){const a=new on(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:td(i.serializer,a)}}if(n instanceof x8)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof nd)return{bytesValue:Xz(i.serializer,n._byteString)};if(n instanceof Oi){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:r8(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof w8)return(function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map((u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return QT(c.serializer,u)}))}}}}}})(n,i);throw i.Bu(`Unsupported field value: ${Wb(n)}`)})(t,e)}function KV(t,e){const r={};return bz(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):A0(t,((n,i)=>{const a=Bd(i,e.Mu(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function WV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof on||t instanceof x8||t instanceof nd||t instanceof Oi||t instanceof Zb||t instanceof w8)}function S8(t,e,r){if(!WV(r)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(r)){const n=Wb(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function MS(t,e,r){if((e=zr(e))instanceof Qb)return e._internalPath;if(typeof e=="string")return T8(t,e);throw cv("Field path arguments must be of type string or ",t,!1,void 0,r)}const nre=new RegExp("[~\\*/\\[\\]]");function T8(t,e,r){if(e.search(nre)>=0)throw cv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Qb(...e.split("."))._internalPath}catch{throw cv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function cv(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${n}`),s&&(u+=` in document ${i}`),u+=")"),new Je(Ce.INVALID_ARGUMENT,c+t+u)}function XV(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Oi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ire(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(rx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class ire extends YV{data(){return super.data()}}function rx(t,e){return typeof e=="string"?T8(t,e):e instanceof Qb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Je(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A8{}class E8 extends A8{}function xi(t,e,...r){let n=[];e instanceof A8&&n.push(e),n=n.concat(r),(function(a){const s=a.filter((u=>u instanceof N8)).length,c=a.filter((u=>u instanceof nx)).length;if(s>1||s>0&&c>0)throw new Je(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class nx extends E8{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new nx(e,r,n)}_apply(e){const r=this._parse(e);return ZV(e._query,r),new xl(e.firestore,e.converter,SS(e._query,r))}_parse(e){const r=ex(e.firestore);return(function(a,s,c,u,f,m,g){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Je(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){IC(g,m);const x=[];for(const T of g)x.push(CC(u,a,T));v={arrayValue:{values:x}}}else v=CC(u,a,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||IC(g,m),v=rre(c,s,g,m==="in"||m==="not-in");return Jt.create(f,m,v)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Mi(t,e,r){const n=e,i=rx("where",t);return nx._create(i,n,r)}class N8 extends A8{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new N8(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Tr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let s=i;const c=a.getFlattenedFilters();for(const u of c)ZV(s,u),s=SS(s,u)})(e._query,r),new xl(e.firestore,e.converter,SS(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class O8 extends E8{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new O8(e,r)}_apply(e){const r=(function(i,a,s){if(i.startAt!==null)throw new Je(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Je(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ym(a,s)})(e._query,this._field,this._direction);return new xl(e.firestore,e.converter,(function(i,a){const s=i.explicitOrderBy.concat([a]);return new Pd(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function Xf(t,e="asc"){const r=e,n=rx("orderBy",t);return O8._create(n,r)}class k8 extends E8{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new k8(e,r,n)}_apply(e){return new xl(e.firestore,e.converter,ev(e._query,this._limit,this._limitType))}}function _h(t){return Hte("limit",t),k8._create("limit",t,"F")}function CC(t,e,r){if(typeof(r=zr(r))=="string"){if(r==="")throw new Je(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iz(e)&&r.indexOf("/")!==-1)throw new Je(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(wr.fromString(r));if(!tt.isDocumentKey(n))throw new Je(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Wm(t,new tt(n))}if(r instanceof Oi)return Wm(t,r._key);throw new Je(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wb(r)}.`)}function IC(t,e){if(!Array.isArray(t)||t.length===0)throw new Je(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZV(t,e){const r=(function(i,a){for(const s of i)for(const c of s.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Je(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Je(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class are{convertValue(e,r="none"){switch(s0(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Bc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ft()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return A0(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((s=>Wr(s.doubleValue)));return new w8(a)}convertGeoPoint(e){return new x8(Wr(e.latitude),Wr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=XT(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Gm(e));default:return null}}convertTimestamp(e){const r=hl(e);return new on(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=wr.fromString(e);pt(aV(n));const i=new a0(n.get(1),n.get(3)),a=new tt(n.popFirst(5));return i.isEqual(r)||Vi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class e$ extends YV{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new By(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(rx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class By extends e${data(e={}){return super.data(e)}}class t${constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new gm(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new By(this._firestore,this._userDataWriter,n.key,n,new gm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Je(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((c=>{const u=new By(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const u=new By(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),m=s.indexOf(c.doc.key)),{type:sre(c.type),doc:u,oldIndex:f,newIndex:m}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function sre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t){t=Gi(t,Oi);const e=Gi(t.firestore,oo);return $te(Yb(e),t._key).then((r=>r$(e,t,r)))}class C8 extends are{constructor(e){super(),this.firestore=e}convertBytes(e){return new nd(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Oi(this.firestore,null,r)}}function Yf(t){t=Gi(t,xl);const e=Gi(t.firestore,oo),r=Yb(e),n=new C8(e);return QV(t._query),Fte(r,t._query).then((i=>new t$(e,n,t,i)))}function Bi(t,e,r){t=Gi(t,Oi);const n=Gi(t.firestore,oo),i=JV(t.converter,e,r);return ix(n,[GV(ex(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Ni.none())])}function xr(t,e,r,...n){t=Gi(t,Oi);const i=Gi(t.firestore,oo),a=ex(i);let s;return s=typeof(e=zr(e))=="string"||e instanceof Qb?tre(a,"updateDoc",t._key,e,r,n):ere(a,"updateDoc",t._key,e),ix(i,[s.toMutation(t._key,Ni.exists(!0))])}function Sa(t){return ix(Gi(t.firestore,oo),[new Vb(t._key,Ni.none())])}function Qf(t,e){const r=Gi(t.firestore,oo),n=ht(t),i=JV(t.converter,e);return ix(r,[GV(ex(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Ni.exists(!1))]).then((()=>n))}function Yn(t,...e){var r,n,i;t=zr(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||kC(e[s])||(a=e[s],s++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(kC(e[s])){const g=e[s];e[s]=(r=g.next)===null||r===void 0?void 0:r.bind(g),e[s+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),e[s+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,f,m;if(t instanceof Oi)f=Gi(t.firestore,oo),m=Yp(t._key.path),u={next:g=>{e[s]&&e[s](r$(f,t,g))},error:e[s+1],complete:e[s+2]};else{const g=Gi(t,xl);f=Gi(g.firestore,oo),m=g._query;const v=new C8(f);u={next:x=>{e[s]&&e[s](new t$(f,v,g,x))},error:e[s+1],complete:e[s+2]},QV(t._query)}return(function(v,x,T,S){const _=new b8(S),C=new y8(x,_,T);return v.asyncQueue.enqueueAndForget((async()=>m8(await lv(v),C))),()=>{_.Za(),v.asyncQueue.enqueueAndForget((async()=>p8(await lv(v),C)))}})(Yb(f),m,c,u)}function ix(t,e){return(function(n,i){const a=new ro;return n.asyncQueue.enqueueAndForget((async()=>Ite(await Vte(n),i,a))),a.promise})(Yb(t),e)}function r$(t,e,r){const n=r.docs.get(e._key),i=new C8(t);return new e$(t,i,e._key,n,new gm(r.hasPendingWrites,r.fromCache),e.converter)}function ore(...t){return new _8("arrayUnion",t)}(function(e,r=!0){(function(i){Md=i})(S0),Lc(new ll("firestore",((n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),c=new oo(new qZ(n.getProvider("auth-internal")),new WZ(n.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Je(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new a0(f.options.projectId,m)})(s,i),s);return a=Object.assign({useFetchStreams:r},a),c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),ns(Sk,"4.7.3",e),ns(Sk,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$="firebasestorage.googleapis.com",i$="storageBucket",lre=120*1e3,cre=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn extends Ms{constructor(e,r,n=0){super(ww(e),`Firebase Storage: ${r} (${ww(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ww(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gn||(gn={}));function ww(t){return"storage/"+t}function I8(){const t="An unknown error occurred, please check the error payload for server response.";return new yn(gn.UNKNOWN,t)}function ure(t){return new yn(gn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function hre(t){return new yn(gn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dre(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yn(gn.UNAUTHENTICATED,t)}function fre(){return new yn(gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mre(t){return new yn(gn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function pre(){return new yn(gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gre(){return new yn(gn.CANCELED,"User canceled the upload/download.")}function yre(t){return new yn(gn.INVALID_URL,"Invalid URL '"+t+"'.")}function vre(t){return new yn(gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function bre(){return new yn(gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+i$+"' property when initializing the app?")}function xre(){return new yn(gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wre(){return new yn(gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _re(t){return new yn(gn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function PS(t){return new yn(gn.INVALID_ARGUMENT,t)}function a$(){return new yn(gn.APP_DELETED,"The Firebase app was deleted.")}function Sre(t){return new yn(gn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nm(t,e){return new yn(gn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Zf(t){throw new yn(gn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=ka.makeFromUrl(e,r)}catch{return new ka(e,"")}if(n.path==="")return n;throw vre(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const s="(/(.*))?$",c=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function f(V){V.path_=decodeURIComponent(V.path)}const m="v[A-Za-z0-9_]+",g=r.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${m}/b/${i}/o${v}`,"i"),T={bucket:1,path:3},S=r===n$?"(?:storage.googleapis.com|storage.cloud.google.com)":r,_="([^?#]*)",C=new RegExp(`^https?://${S}/${i}/${_}`,"i"),P=[{regex:c,indices:u,postModify:a},{regex:x,indices:T,postModify:f},{regex:C,indices:{bucket:1,path:2},postModify:f}];for(let V=0;V<P.length;V++){const j=P[V],D=j.regex.exec(e);if(D){const A=D[j.indices.bucket];let N=D[j.indices.path];N||(N=""),n=new ka(A,N),j.postModify(n);break}}if(n==null)throw yre(e);return n}}class Tre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Are(t,e,r){let n=1,i=null,a=null,s=!1,c=0;function u(){return c===2}let f=!1;function m(..._){f||(f=!0,e.apply(null,_))}function g(_){i=setTimeout(()=>{i=null,t(x,u())},_)}function v(){a&&clearTimeout(a)}function x(_,...C){if(f){v();return}if(_){v(),m.call(null,_,...C);return}if(u()||s){v(),m.call(null,_,...C);return}n<64&&(n*=2);let P;c===1?(c=2,P=0):P=(n+Math.random())*1e3,g(P)}let T=!1;function S(_){T||(T=!0,v(),!f&&(i!==null?(_||(c=2),clearTimeout(i),g(0)):_||(c=1)))}return g(0),a=setTimeout(()=>{s=!0,S(!0)},r),S}function Ere(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nre(t){return t!==void 0}function Ore(t){return typeof t=="object"&&!Array.isArray(t)}function j8(t){return typeof t=="string"||t instanceof String}function jC(t){return R8()&&t instanceof Blob}function R8(){return typeof Blob<"u"}function RC(t,e,r,n){if(n<e)throw PS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw PS(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function s$(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Zu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zu||(Zu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kre(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(e,r,n,i,a,s,c,u,f,m,g,v=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=g,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,T)=>{this.resolve_=x,this.reject_=T,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Y1(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=c=>{const u=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const c=a.getErrorCode()===Zu.NO_ERROR,u=a.getStatus();if(!c||kre(u,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===Zu.ABORT;n(!1,new Y1(!1,null,m));return}const f=this.successCodes_.indexOf(u)!==-1;n(!0,new Y1(f,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());Nre(u)?a(u):a()}catch(u){s(u)}else if(c!==null){const u=I8();u.serverResponse=c.getErrorText(),this.errorCallback_?s(this.errorCallback_(c,u)):s(u)}else if(i.canceled){const u=this.appDelete_?a$():gre();s(u)}else{const u=pre();s(u)}};this.canceled_?r(!1,new Y1(!1,null,!0)):this.backoffId_=Are(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ere(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Y1{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function Ire(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Rre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Mre(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Pre(t,e,r,n,i,a,s=!0){const c=s$(t.urlParams),u=t.url+c,f=Object.assign({},t.headers);return Rre(f,e),Ire(f,r),jre(f,a),Mre(f,n),new Cre(u,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dre(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Lre(...t){const e=Dre();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(R8())return new Blob(t);throw new yn(gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Bre(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ure(t){if(typeof atob>"u")throw _re("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _w{constructor(e,r){this.data=e,this.contentType=r||null}}function zre(t,e){switch(t){case Qs.RAW:return new _w(o$(e));case Qs.BASE64:case Qs.BASE64URL:return new _w(l$(t,e));case Qs.DATA_URL:return new _w($re(e),Fre(e))}throw I8()}function o$(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,s=t.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Vre(t){let e;try{e=decodeURIComponent(t)}catch{throw Nm(Qs.DATA_URL,"Malformed data URL.")}return o$(e)}function l$(t,e){switch(t){case Qs.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Nm(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qs.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Nm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Ure(e)}catch(i){throw i.message.includes("polyfill")?i:Nm(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class c${constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Nm(Qs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=qre(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function $re(t){const e=new c$(t);return e.base64?l$(Qs.BASE64,e.rest):Vre(e.rest)}function Fre(t){return new c$(t).contentType}function qre(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,r){let n=0,i="";jC(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(jC(this.data_)){const n=this.data_,i=Bre(n,e,r);return i===null?null:new bc(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new bc(n,!0)}}static getBlob(...e){if(R8()){const r=e.map(n=>n instanceof bc?n.data_:n);return new bc(Lre.apply(null,r))}else{const r=e.map(s=>j8(s)?zre(Qs.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let c=0;c<s.length;c++)i[a++]=s[c]}),new bc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(t){let e;try{e=JSON.parse(t)}catch{return null}return Ore(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hre(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Gre(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function h$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kre(t,e){return e}class Pi{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||Kre}}let Q1=null;function Wre(t){return!j8(t)||t.length<2?t:h$(t)}function d$(){if(Q1)return Q1;const t=[];t.push(new Pi("bucket")),t.push(new Pi("generation")),t.push(new Pi("metageneration")),t.push(new Pi("name","fullPath",!0));function e(a,s){return Wre(s)}const r=new Pi("name");r.xform=e,t.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new Pi("size");return i.xform=n,t.push(i),t.push(new Pi("timeCreated")),t.push(new Pi("updated")),t.push(new Pi("md5Hash",null,!0)),t.push(new Pi("cacheControl",null,!0)),t.push(new Pi("contentDisposition",null,!0)),t.push(new Pi("contentEncoding",null,!0)),t.push(new Pi("contentLanguage",null,!0)),t.push(new Pi("contentType",null,!0)),t.push(new Pi("metadata","customMetadata",!0)),Q1=t,Q1}function Xre(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new ka(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function Yre(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,e[s.server])}return Xre(n,t),n}function f$(t,e,r){const n=u$(e);return n===null?null:Yre(t,n,r)}function Qre(t,e,r,n){const i=u$(e);if(i===null||!j8(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(f=>{const m=t.bucket,g=t.fullPath,v="/b/"+s(m)+"/o/"+s(g),x=ax(v,r,n),T=s$({alt:"media",token:f});return x+T})[0]}function Zre(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class M8{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t){if(!t)throw I8()}function Jre(t,e){function r(n,i){const a=f$(t,i,e);return m$(a!==null),a}return r}function ene(t,e){function r(n,i){const a=f$(t,i,e);return m$(a!==null),Qre(a,i,t.host,t._protocol)}return r}function p$(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=fre():i=dre():r.getStatus()===402?i=hre(t.bucket):r.getStatus()===403?i=mre(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function g$(t){const e=p$(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=ure(t.path)),a.serverResponse=i.serverResponse,a}return r}function tne(t,e,r){const n=e.fullServerUrl(),i=ax(n,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,c=new M8(i,a,ene(t,r),s);return c.errorHandler=g$(e),c}function rne(t,e){const r=e.fullServerUrl(),n=ax(r,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function s(u,f){}const c=new M8(n,i,s,a);return c.successCodes=[200,204],c.errorHandler=g$(e),c}function nne(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ine(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=nne(null,e)),n}function ane(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function c(){let P="";for(let V=0;V<2;V++)P=P+Math.random().toString().slice(2);return P}const u=c();s["Content-Type"]="multipart/related; boundary="+u;const f=ine(e,n,i),m=Zre(f,r),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+u+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+u+"--",x=bc.getBlob(g,n,v);if(x===null)throw xre();const T={name:f.fullPath},S=ax(a,t.host,t._protocol),_="POST",C=t.maxUploadRetryTime,I=new M8(S,_,Jre(t,r),C);return I.urlParams=T,I.headers=s,I.body=x.uploadData(),I.errorHandler=p$(e),I}class sne{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Zf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class one extends sne{initXhr(){this.xhr_.responseType="text"}}function P8(){return new one}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,r){this._service=e,r instanceof ka?this._location=r:this._location=ka.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new d0(e,r)}get root(){const e=new ka(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h$(this._location.path)}get storage(){return this._service}get parent(){const e=Hre(this._location.path);if(e===null)return null;const r=new ka(this._location.bucket,e);return new d0(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw Sre(e)}}function lne(t,e,r){t._throwIfRoot("uploadBytes");const n=ane(t.storage,t._location,d$(),new bc(e,!0),r);return t.storage.makeRequestWithTokens(n,P8).then(i=>({metadata:i,ref:t}))}function cne(t){t._throwIfRoot("getDownloadURL");const e=tne(t.storage,t._location,d$());return t.storage.makeRequestWithTokens(e,P8).then(r=>{if(r===null)throw wre();return r})}function une(t){t._throwIfRoot("deleteObject");const e=rne(t.storage,t._location);return t.storage.makeRequestWithTokens(e,P8)}function hne(t,e){const r=Gre(t._location.path,e),n=new ka(t._location.bucket,r);return new d0(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dne(t){return/^[A-Za-z]+:\/\//.test(t)}function fne(t,e){return new d0(t,e)}function y$(t,e){if(t instanceof D8){const r=t;if(r._bucket==null)throw bre();const n=new d0(r,r._bucket);return e!=null?y$(n,e):n}else return e!==void 0?hne(t,e):t}function mne(t,e){if(e&&dne(e)){if(t instanceof D8)return fne(t,e);throw PS("To use ref(service, url), the first argument must be a Storage instance.")}else return y$(t,e)}function MC(t,e){const r=e==null?void 0:e[i$];return r==null?null:ka.makeFromBucketSpec(r,t)}function pne(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:gU(i,t.app.options.projectId))}class D8{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=n$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lre,this._maxUploadRetryTime=cre,this._requests=new Set,i!=null?this._bucket=ka.makeFromBucketSpec(i,this._host):this._bucket=MC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ka.makeFromBucketSpec(this._url,e):this._bucket=MC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){RC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){RC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new d0(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new Tre(a$());{const s=Pre(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const PC="@firebase/storage",DC="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$="storage";function DS(t,e,r){return t=zr(t),lne(t,e,r)}function uv(t){return t=zr(t),cne(t)}function gne(t){return t=zr(t),une(t)}function Om(t,e){return t=zr(t),mne(t,e)}function yne(t=Ib(),e){t=zr(t);const n=Hp(t,v$).getImmediate({identifier:e}),i=CT("storage");return i&&vne(n,...i),n}function vne(t,e,r,n={}){pne(t,e,r,n)}function bne(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new D8(r,n,i,e,S0)}function xne(){Lc(new ll(v$,bne,"PUBLIC").setMultipleInstances(!0)),ns(PC,DC,""),ns(PC,DC,"esm2017")}xne();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wne="type.googleapis.com/google.protobuf.Int64Value",_ne="type.googleapis.com/google.protobuf.UInt64Value";function b$(t,e){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function LS(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>LS(e));if(typeof t=="function"||typeof t=="object")return b$(t,e=>LS(e));throw new Error("Data cannot be encoded in JSON: "+t)}function hv(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case wne:case _ne:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>hv(e)):typeof t=="function"||typeof t=="object"?b$(t,e=>hv(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $h extends Ms{constructor(e,r,n){super(`${L8}/${e}`,r||""),this.details=n}}function Sne(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Tne(t,e){let r=Sne(t),n=r,i;try{const a=e&&e.error;if(a){const s=a.status;if(typeof s=="string"){if(!LC[s])return new $h("internal","internal");r=LC[s],n=s}const c=a.message;typeof c=="string"&&(n=c),i=a.details,i!==void 0&&(i=hv(i))}}catch{}return r==="ok"?null:new $h(r,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane{constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||n.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="us-central1";function Ene(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new $h("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Nne{constructor(e,r,n,i,a=BS,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new Ane(r,n,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(a);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=BS}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function One(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}function kne(t,e,r){return(n=>Ine(t,e,n,{}))}async function Cne(t,e,r,n){r["Content-Type"]="application/json";let i;try{i=await n(t,{method:"POST",body:JSON.stringify(e),headers:r})}catch{return{status:0,json:null}}let a=null;try{a=await i.json()}catch{}return{status:i.status,json:a}}function Ine(t,e,r,n){const i=t._url(e);return jne(t,i,r,n)}async function jne(t,e,r,n){r=LS(r);const i={data:r},a={},s=await t.contextProvider.getContext(n.limitedUseAppCheckTokens);s.authToken&&(a.Authorization="Bearer "+s.authToken),s.messagingToken&&(a["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=s.appCheckToken);const c=n.timeout||7e4,u=Ene(c),f=await Promise.race([Cne(e,i,a,t.fetchImpl),u.promise,t.cancelAllRequests]);if(u.cancel(),!f)throw new $h("cancelled","Firebase Functions instance was deleted.");const m=Tne(f.status,f.json);if(m)throw m;if(!f.json)throw new $h("internal","Response is not valid JSON object.");let g=f.json.data;if(typeof g>"u"&&(g=f.json.result),typeof g>"u")throw new $h("internal","Response is missing data field.");return{data:hv(g)}}const BC="@firebase/functions",UC="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rne="auth-internal",Mne="app-check-internal",Pne="messaging-internal";function Dne(t,e){const r=(n,{instanceIdentifier:i})=>{const a=n.getProvider("app").getImmediate(),s=n.getProvider(Rne),c=n.getProvider(Pne),u=n.getProvider(Mne);return new Nne(a,s,c,u,i,t)};Lc(new ll(L8,r,"PUBLIC").setMultipleInstances(!0)),ns(BC,UC,e),ns(BC,UC,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lne(t=Ib(),e=BS){const n=Hp(zr(t),L8).getImmediate({identifier:e}),i=CT("functions");return i&&Bne(n,...i),n}function Bne(t,e,r){One(zr(t),e,r)}function Pa(t,e,r){return kne(zr(t),e)}Dne(fetch.bind(self));const Une={apiKey:"AIzaSyAEbD7LIWGkS0vu6o1uPuKvMpLeSeeTMeo",authDomain:"porters-portal.firebaseapp.com",projectId:"porters-portal",storageBucket:"porters-portal.firebasestorage.app",messagingSenderId:"348700508218",appId:"1:348700508218:web:d3555fb7d19018c6b7b503"},sx=wU(Une),US=tz(sx),zne=new Go,He=Kte(sx),km=yne(sx),Da=Lne(sx);Wte(He).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence unavailable: multiple tabs open."):t.code==="unimplemented"&&console.warn("Firestore persistence not supported in this browser.")});const Vne=Pa(Da,"awardXP"),$ne=Pa(Da,"acceptQuest"),Fne=Pa(Da,"deployMission"),qne=Pa(Da,"resolveQuest"),Hne=Pa(Da,"equipItem"),Gne=Pa(Da,"disenchantItem"),Kne=Pa(Da,"craftItem"),Wne=Pa(Da,"adminUpdateInventory"),Xne=Pa(Da,"adminUpdateEquipped"),Yne=Pa(Da,"submitEngagement"),Qne=Pa(Da,"sendClassMessage");Pa(Da,"uploadQuestionBank");const x$=Pa(Da,"awardQuestionXP"),dv=()=>({pasteCount:0,engagementTime:0,keystrokes:0,clickCount:0,startTime:Date.now(),lastActive:Date.now()});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w$=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...c},u)=>q.createElement("svg",{ref:u,...Jne,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:w$("lucide",i),...c},[...s.map(([f,m])=>q.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const r=q.forwardRef(({className:n,...i},a)=>q.createElement(eie,{ref:a,iconNode:e,className:w$(`lucide-${Zne(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=Be("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=Be("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=Be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Be("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=Be("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=Be("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Be("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=Be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=Be("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=Be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=Be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=Be("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Be("Component",[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=Be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=Be("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=Be("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=Be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=Be("Dice5",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=Be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=Be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=Be("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=Be("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=Be("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=Be("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Be("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=Be("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Be("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=Be("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=Be("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=Be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=Be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=Be("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=Be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=Be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=Be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=Be("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Be("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=Be("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=Be("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=Be("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=Be("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=Be("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=Be("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=Be("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=Be("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=Be("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=Be("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=Be("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=Be("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Be("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=Be("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=Be("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=Be("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=Be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=Be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Be("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Be("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=Be("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=Be("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Be("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=Be("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=Be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=Be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=Be("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=Be("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=Be("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=Be("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=Be("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Bie="kellporter2@paps.net",P$="Mr. Porter",Uie=[{name:"Dashboard",icon:h.jsx(gie,{className:"w-5 h-5"}),role:"ANY"},{name:"Admin Panel",icon:h.jsx(lx,{className:"w-5 h-5"}),role:"ADMIN"},{name:"User Management",icon:h.jsx(id,{className:"w-5 h-5"}),role:"ADMIN"},{name:"XP Command",icon:h.jsx(f0,{className:"w-5 h-5"}),role:"ADMIN"}],Ze={getWeekId:()=>{const t=new Date,e=new Date(t.getFullYear(),0,1),r=(t.getTime()-e.getTime())/864e5,n=Math.ceil((r+e.getDay()+1)/7);return`${t.getFullYear()}-W${n}`},subscribeToXPEvents:t=>Yn(Mr(He,"xp_events"),e=>{t(e.docs.map(r=>({id:r.id,...r.data()})))},e=>console.error("XP Events subscription error:",e)),saveXPEvent:async t=>{await Bi(ht(He,"xp_events",t.id),t)},deleteXPEvent:async t=>{await Sa(ht(He,"xp_events",t))},subscribeToQuests:t=>Yn(Mr(He,"quests"),e=>{t(e.docs.map(r=>({id:r.id,...r.data()})))},e=>console.error("Quests subscription error:",e)),saveQuest:async t=>{await Bi(ht(He,"quests",t.id),t)},deleteQuest:async t=>{await Sa(ht(He,"quests",t))},acceptQuest:async(t,e)=>{await $ne({questId:e})},deployMission:async(t,e)=>{await Fne({questId:e.id})},resolveQuest:async(t,e,r,n)=>{await qne({userId:t,questId:e.id,success:r,classType:n})},adjustUserXP:async(t,e,r)=>{await Ze.awardXP(t,e,r)},equipItem:async(t,e,r)=>{await Hne({itemId:e.id,classType:r})},disenchantItem:async(t,e,r)=>{await Gne({itemId:e.id,classType:r})},craftItem:async(t,e,r,n)=>{await Kne({itemId:e.id,action:r,classType:n})},adminUpdateInventory:async(t,e,r)=>{await Wne({userId:t,inventory:e,currency:r})},adminUpdateEquipped:async(t,e)=>{await Xne({userId:t,equipped:e})},updateUserAppearance:async(t,e,r)=>{try{const n=ht(He,"users",t);r?await xr(n,{[`gamification.classProfiles.${r}.appearance`]:e}):await xr(n,{"gamification.appearance":e})}catch(n){console.error("Error updating appearance:",n)}},sendMessage:async(t,e,r,n)=>{try{if(t.mutedUntil){const i=new Date(t.mutedUntil);if(i>new Date)throw new Error(`You are muted until ${i.toLocaleTimeString()}.`)}await Qne({content:e,channelId:r,classType:n})}catch(i){throw console.error("Error sending message:",i),i}},toggleReaction:async(t,e,r)=>{const n=ht(He,"class_messages",t),i=await _i(n);if(!i.exists())return;const s={...i.data().reactions||{}},c=(s[e]||[]).includes(r);Object.keys(s).forEach(u=>{s[u]=(s[u]||[]).filter(f=>f!==r),s[u].length===0&&delete s[u]}),c||(s[e]||(s[e]=[]),s[e].push(r)),await xr(n,{reactions:s})},togglePersonalPin:async(t,e)=>{const r=ht(He,"class_messages",t),n=await _i(r);if(!n.exists())return;const a=[...n.data().pinnedBy||[]];a.includes(e)?await xr(r,{pinnedBy:a.filter(s=>s!==e)}):await xr(r,{pinnedBy:[...a,e]})},toggleGlobalPin:async(t,e)=>{const r=ht(He,"class_messages",t);await xr(r,{isGlobalPinned:e})},deleteMessage:async t=>{try{await Sa(ht(He,"class_messages",t))}catch(e){throw console.error("Error deleting message:",e),e}},subscribeToFlaggedMessages:t=>{const e=xi(Mr(He,"class_messages"),Mi("isFlagged","==",!0),_h(50));return Yn(e,r=>{const n=r.docs.map(i=>({id:i.id,...i.data()}));n.sort((i,a)=>new Date(a.timestamp).getTime()-new Date(i.timestamp).getTime()),t(n)},r=>{console.error("Subscribe Flagged Messages Error:",r)})},unflagMessage:async t=>{try{const e=ht(He,"class_messages",t);await xr(e,{isFlagged:!1,systemNote:""})}catch(e){throw console.error("Error unflagging message:",e),e}},muteUser:async(t,e)=>{try{let r=null;e===-2?r=new Date("9999-12-31").toISOString():e>0&&(r=new Date(Date.now()+e*6e4).toISOString()),await xr(ht(He,"users",t),{mutedUntil:r})}catch(r){throw console.error("Error muting user:",r),r}},subscribeToChannelMessages:(t,e)=>{const r=xi(Mr(He,"class_messages"),Mi("channelId","==",t),_h(100));return Yn(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));i.sort((a,s)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime()),e(i)},n=>{console.error("Subscribe Messages Error:",n)})},subscribeToAllConversations:t=>{const e=xi(Mr(He,"conversations"),Xf("lastMessageAt","desc"));return Yn(e,r=>{t(r.docs.map(n=>({id:n.id,...n.data()})))},r=>console.error("Conversations subscription error:",r))},subscribeToChatMessages:(t,e)=>{const r=xi(Mr(He,`conversations/${t}/messages`),Xf("timestamp","asc"));return Yn(r,n=>{e(n.docs.map(i=>({id:i.id,...i.data()})))},n=>console.error("Chat messages subscription error:",n))},sendChatMessage:async(t,e,r)=>{const n={senderId:e.id,senderName:e.role===zi.ADMIN?P$:e.name,content:r,timestamp:new Date().toISOString()};await Qf(Mr(He,`conversations/${t}/messages`),n),await xr(ht(He,"conversations",t),{lastMessage:r,lastMessageAt:new Date().toISOString()})},toggleConversationDisable:async(t,e)=>{await xr(ht(He,"conversations",t),{adminDisabled:e})},subscribeToChatFlags:t=>{const e=xi(Mr(He,"chat_flags"),Mi("isResolved","==",!1));return Yn(e,r=>{const n=r.docs.map(i=>({id:i.id,...i.data()}));n.sort((i,a)=>new Date(a.timestamp).getTime()-new Date(i.timestamp).getTime()),t(n)},r=>{console.error("Subscribe Flags Error:",r)})},resolveFlag:async t=>{await xr(ht(He,"chat_flags",t),{isResolved:!0})},resolveFlagByMessageId:async t=>{try{const e=xi(Mr(He,"chat_flags"),Mi("messageId","==",t),Mi("isResolved","==",!1)),n=(await Yf(e)).docs.map(i=>xr(i.ref,{isResolved:!0}));await Promise.all(n)}catch(e){console.error("Error resolving flag by messageId:",e)}},subscribeToEvidence:(t,e,r)=>{const n=xi(Mr(He,"evidence"),Mi("studentId","==",t),Mi("weekId","==",e));return Yn(n,i=>{const a=i.docs.map(s=>({id:s.id,...s.data()}));r(a)},i=>console.error("Evidence subscription error:",i))},uploadEvidence:async t=>{await Bi(ht(He,"evidence",t.id),t,{merge:!0})},deleteWeeklyEvidence:async t=>{try{const e=t.map(n=>{if(!n.imageUrl)return Promise.resolve();const i=Om(km,n.imageUrl);return gne(i).catch(a=>console.warn("File missing:",a))});await Promise.all(e);const r=t.map(n=>Sa(ht(He,"evidence",n.id)));await Promise.all(r)}catch(e){throw console.error("Error clearing weekly evidence:",e),new Error("Failed to clear evidence log.")}},saveLabReport:async t=>{await Bi(ht(He,"lab_reports",t.id),t,{merge:!0})},updateUserSettings:async(t,e)=>{try{const r=ht(He,"users",t);await xr(r,{settings:e})}catch(r){console.error("Error updating settings:",r)}},updateUserLastLevelSeen:async(t,e)=>{await xr(ht(He,"users",t),{"gamification.lastLevelSeen":e})},generateCodename:async t=>{const e=["Neon","Quantum","Dark","Atomic","Silent","Lunar","Iron","Plasma","Forensic"],r=["Quark","Proton","Trace","Nova","Pulse","Specter","Vertex","Agent","Observer"],n=`${e[Math.floor(Math.random()*e.length)]} ${r[Math.floor(Math.random()*r.length)]}`;await xr(ht(He,"users",t),{"gamification.codename":n})},subscribeToUsers:t=>{const e=Mr(He,"users");return Yn(e,r=>{const n=r.docs.map(i=>{const a=i.data();return{id:i.id,...a}});t(n)},r=>console.error("Users subscription error:",r))},subscribeToAssignments:t=>{const e=Mr(He,"assignments");return Yn(e,r=>{const n=r.docs.map(i=>{const a=i.data();return{id:i.id,title:a.title,description:a.description,classType:a.classType,status:a.status,unit:a.unit||"Unassigned Unit",category:a.category||"Supplemental",htmlContent:a.htmlContent,contentUrl:a.contentUrl,resources:a.resources||[],publicComments:(a.publicComments||[]).sort((s,c)=>new Date(c.timestamp).getTime()-new Date(s.timestamp).getTime()),dueDate:a.dueDate}});t(n)},r=>console.error("Assignments subscription error:",r))},subscribeToSubmissions:t=>{const e=xi(Mr(He,"submissions"),Xf("submittedAt","desc"),_h(200));return Yn(e,r=>{const n=r.docs.map(i=>{const a=i.data();return{id:i.id,userId:a.userId,userName:a.userName,assignmentId:a.assignmentId,assignmentTitle:a.assignmentTitle,metrics:a.metrics||dv(),submittedAt:a.submittedAt,status:a.status,score:a.score,hasUnreadAdmin:a.hasUnreadAdmin||!1,hasUnreadStudent:a.hasUnreadStudent||!1,isPinned:a.isPinned||!1,isArchived:a.isArchived||!1,privateComments:(a.privateComments||[]).sort((s,c)=>new Date(c.timestamp).getTime()-new Date(s.timestamp).getTime())}});t(n)},r=>console.error("Submissions subscription error:",r))},subscribeToUserSubmissions:(t,e)=>{const r=xi(Mr(He,"submissions"),Mi("userId","==",t),_h(50));return Yn(r,n=>{const i=n.docs.map(a=>{const s=a.data();return{id:a.id,userId:s.userId,userName:s.userName,assignmentId:s.assignmentId,assignmentTitle:s.assignmentTitle,metrics:s.metrics||dv(),submittedAt:s.submittedAt,status:s.status,score:s.score,hasUnreadAdmin:s.hasUnreadAdmin||!1,hasUnreadStudent:s.hasUnreadStudent||!1,isPinned:s.isPinned||!1,isArchived:s.isArchived||!1,privateComments:(s.privateComments||[]).sort((c,u)=>new Date(u.timestamp).getTime()-new Date(c.timestamp).getTime())}}).sort((a,s)=>new Date(s.submittedAt||"").getTime()-new Date(a.submittedAt||"").getTime());e(i)},n=>console.error("User submissions subscription error:",n))},subscribeToWhitelist:t=>{const e=Mr(He,"allowed_emails");return Yn(e,r=>{const n=r.docs.map(i=>({email:i.id,classType:i.data().classType,classTypes:i.data().classTypes||[i.data().classType].filter(Boolean)}));t(n)},r=>console.error("Whitelist subscription error:",r))},subscribeToClassConfigs:t=>{const e=Mr(He,"class_configs");return Yn(e,r=>{const n=r.docs.map(i=>({id:i.id,...i.data()}));t(n)},r=>console.error("ClassConfigs subscription error:",r))},addAssignment:async t=>{try{const e={title:t.title,description:t.description,classType:t.classType,status:t.status,unit:t.unit||"Unassigned Unit",category:t.category||"Textbook",htmlContent:t.htmlContent||"",contentUrl:t.contentUrl||null,resources:t.resources||[],publicComments:t.publicComments||[],dueDate:t.dueDate||null};t.id?await Bi(ht(He,"assignments",t.id),e,{merge:!0}):await Qf(Mr(He,"assignments"),e)}catch(e){throw console.error(e),e}},updateAssignmentStatus:async(t,e)=>{try{await xr(ht(He,"assignments",t),{status:e})}catch(r){console.error(r)}},deleteAssignment:async t=>{try{await Sa(ht(He,"assignments",t))}catch(e){console.error(e)}},addToWhitelist:async(t,e)=>{try{const r=ht(He,"allowed_emails",t),n=await _i(r),i=n.exists()?n.data().classTypes||[n.data().classType].filter(Boolean):[],a=Array.from(new Set([...i,e]));await Bi(r,{classType:e,classTypes:a});const s=xi(Mr(He,"users"),Mi("email","==",t)),c=await Yf(s);await Promise.all(c.docs.map(async u=>{const f=u.data(),m=f.enrolledClasses||(f.classType?[f.classType]:[]),g=Array.from(new Set([...m,e]));await xr(ht(He,"users",u.id),{isWhitelisted:!0,classType:e,enrolledClasses:g})}))}catch(r){console.error(r)}},updateWhitelistSection:async(t,e)=>{try{await xr(ht(He,"allowed_emails",t),{section:e});const r=xi(Mr(He,"users"),Mi("email","==",t)),n=await Yf(r);await Promise.all(n.docs.map(async i=>{await xr(ht(He,"users",i.id),{section:e})}))}catch(r){console.error(r)}},removeFromWhitelist:async t=>{try{await Sa(ht(He,"allowed_emails",t));const e=xi(Mr(He,"users"),Mi("email","==",t)),r=await Yf(e);await Promise.all(r.docs.map(async n=>{await xr(ht(He,"users",n.id),{isWhitelisted:!1,enrolledClasses:[],classType:"Uncategorized"})}))}catch(e){console.error(e)}},approveUser:async(t,e)=>{try{const r=ht(He,"users",t),n=await _i(r);if(n.exists()){const i=n.data(),a=i.enrolledClasses||(i.classType?[i.classType]:[]),s=Array.from(new Set([...a,e]));await xr(r,{isWhitelisted:!0,classType:e,enrolledClasses:s});const c=i.email;if(c){const u=await _i(ht(He,"allowed_emails",c)),f=u.exists()?u.data().classTypes||[u.data().classType].filter(Boolean):[],m=Array.from(new Set([...f,e]));await Bi(ht(He,"allowed_emails",c),{classType:e,classTypes:m})}}}catch(r){console.error(r)}},removeUser:async t=>{try{const e=await _i(ht(He,"users",t));if(e.exists()){const r=e.data().email;await Sa(ht(He,"allowed_emails",r))}await Sa(ht(He,"users",t))}catch(e){console.error(e)}},submitAssignment:async t=>{try{const e=`${t.userId}_${t.assignmentId}`;await Bi(ht(He,"submissions",e),{userId:t.userId,userName:t.userName,assignmentId:t.assignmentId,assignmentTitle:t.assignmentTitle,metrics:t.metrics,status:t.status,score:t.score,submittedAt:new Date().toISOString()},{merge:!0})}catch(e){console.error(e)}},updateUserEnrolledClasses:async(t,e)=>{try{const r=ht(He,"users",t),n=await _i(r);if(!n.exists())return;const a=n.data().email,s={enrolledClasses:e,classType:e.length>0?e[0]:"Uncategorized"};e.length===0?(s.isWhitelisted=!1,a&&await Sa(ht(He,"allowed_emails",a))):(s.isWhitelisted=!0,a&&await Bi(ht(He,"allowed_emails",a),{classType:e[0],classTypes:e})),await xr(r,s)}catch(r){console.error("Error updating user classes:",r)}},updateUserClass:async(t,e)=>{try{const r=ht(He,"users",t),n=await _i(r);if(n.exists()){const i=n.data().enrolledClasses||[],a=Array.from(new Set([...i,e]));await xr(r,{classType:e,enrolledClasses:a,isWhitelisted:!0});const s=n.data().email;s&&await Bi(ht(He,"allowed_emails",s),{classType:e})}}catch(r){console.error(r)}},switchUserView:async(t,e)=>{try{await xr(ht(He,"users",t),{classType:e})}catch(r){console.error("Error switching view:",r)}},awardXP:async(t,e,r)=>{await Vne({targetUserId:t,amount:e,classType:r})},submitEngagement:async(t,e,r,n,i,a)=>(await Yne({assignmentId:r,assignmentTitle:n,userName:e,metrics:i,classType:a})).data,subscribeToLeaderboard:t=>{const e=xi(Mr(He,"users"),Mi("role","==","STUDENT"));return Yn(e,r=>{t(r.docs.map(n=>({id:n.id,...n.data()})))},r=>console.error("Leaderboard subscription error:",r))},saveClassConfig:async t=>{try{await Bi(ht(He,"class_configs",t.className),t)}catch(e){throw console.error("Error saving class config:",e),e}},deleteClassConfig:async t=>{try{await Sa(ht(He,"class_configs",t))}catch(e){throw console.error("Error deleting class config:",e),e}},uploadResource:async t=>{const e=Math.random().toString(36).substring(2,9),r=Om(km,`resources/${e}_${t.name}`);return await DS(r,t),await uv(r)},uploadHtmlResource:async t=>{const e=Math.random().toString(36).substring(2,9),r=Om(km,`resources/html/${e}_${t.name}`);return await DS(r,t),await uv(r)},subscribeToAnnouncements:t=>{const e=xi(Mr(He,"announcements"),Xf("createdAt","desc"),_h(20));return Yn(e,r=>{const n=new Date,i=r.docs.map(a=>({id:a.id,...a.data()})).filter(a=>!a.expiresAt||new Date(a.expiresAt)>n);t(i)},r=>console.error("Announcements subscription error:",r))},createAnnouncement:async t=>{await Qf(Mr(He,"announcements"),t)},deleteAnnouncement:async t=>{await Sa(ht(He,"announcements",t))},dismissAnnouncement:async(t,e)=>{await xr(ht(He,"users",t),{"gamification.dismissedAnnouncements":ore(e)})},subscribeToNotifications:(t,e)=>{const r=xi(Mr(He,"notifications"),Mi("userId","==",t),Xf("timestamp","desc"),_h(50));return Yn(r,n=>{e(n.docs.map(i=>({id:i.id,...i.data()})))},n=>console.error("Notifications subscription error:",n))},markNotificationRead:async t=>{await xr(ht(He,"notifications",t),{isRead:!0})},markAllNotificationsRead:async t=>{const e=xi(Mr(He,"notifications"),Mi("userId","==",t),Mi("isRead","==",!1)),n=(await Yf(e)).docs.map(i=>xr(i.ref,{isRead:!0}));await Promise.all(n)},createNotification:async t=>{await Qf(Mr(He,"notifications"),t)},notifyUsers:async(t,e,r,n,i)=>{const a=t.map(s=>Qf(Mr(He,"notifications"),{userId:s,type:e,title:r,message:n,timestamp:new Date().toISOString(),isRead:!1,meta:i||{}}));await Promise.all(a)},updateCodename:async(t,e)=>{await xr(ht(He,"users",t),{"gamification.codename":e})},updateEngagementStreak:async(t,e,r)=>{await xr(ht(He,"users",t),{"gamification.engagementStreak":e,"gamification.lastStreakWeek":r})}},D$=q.createContext(null),fo=()=>{const t=q.useContext(D$);if(!t)throw new Error("useToast must be used within ToastProvider");return t},zie={success:h.jsx(Ai,{className:"w-5 h-5 text-green-400 shrink-0"}),error:h.jsx(ss,{className:"w-5 h-5 text-red-400 shrink-0"}),info:h.jsx(A$,{className:"w-5 h-5 text-blue-400 shrink-0"})},Vie={success:"border-green-500/30 bg-green-950/80",error:"border-red-500/30 bg-red-950/80",info:"border-blue-500/30 bg-blue-950/80"},$ie=({children:t})=>{const[e,r]=q.useState([]),n=q.useCallback((s,c)=>{const u=Math.random().toString(36).substring(2,8);r(f=>[...f,{id:u,message:s,type:c}]),setTimeout(()=>{r(f=>f.filter(m=>m.id!==u))},4e3)},[]),i=q.useCallback(s=>{r(c=>c.filter(u=>u.id!==s))},[]),a={success:s=>n(s,"success"),error:s=>n(s,"error"),info:s=>n(s,"info")};return h.jsxs(D$.Provider,{value:a,children:[t,h.jsx("div",{className:"fixed bottom-6 left-6 z-[9999] flex flex-col gap-3 pointer-events-none max-w-sm",children:e.map(s=>h.jsxs("div",{className:`pointer-events-auto flex items-start gap-3 px-4 py-3 rounded-xl border backdrop-blur-xl shadow-2xl animate-in slide-in-from-left-5 fade-in duration-300 ${Vie[s.type]}`,children:[zie[s.type],h.jsx("span",{className:"text-sm text-white font-medium leading-snug flex-1",children:s.message}),h.jsx("button",{onClick:()=>i(s.id),className:"text-gray-500 hover:text-white transition shrink-0",children:h.jsx(Rs,{className:"w-4 h-4"})})]},s.id))})]})},Fie=()=>{const[t,e]=q.useState(navigator.onLine),[r,n]=q.useState(!1);return q.useEffect(()=>{const i=()=>{e(!0),n(!0),setTimeout(()=>n(!1),3e3)},a=()=>{e(!1),n(!1)};return window.addEventListener("online",i),window.addEventListener("offline",a),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",a)}},[]),t&&!r?null:h.jsx("div",{className:`fixed top-0 left-0 right-0 z-[9999] flex items-center justify-center gap-2 py-2 text-sm font-bold transition-all duration-300 ${t?"bg-green-600/90 text-white":"bg-red-600/90 text-white"}`,children:t?h.jsxs(h.Fragment,{children:[h.jsx(Lie,{className:"w-4 h-4"}),"Connection restored"]}):h.jsxs(h.Fragment,{children:[h.jsx(Die,{className:"w-4 h-4"}),"You are offline  changes will sync when reconnected"]})})},Ia=({isOpen:t,onClose:e,title:r,children:n,maxWidth:i="max-w-md"})=>(q.useEffect(()=>{const a=s=>{s.key==="Escape"&&e()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e]),t?h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:h.jsxs("div",{className:`bg-[#0f0720]/95 backdrop-blur-xl border border-white/10 rounded-3xl shadow-[0_0_50px_rgba(0,0,0,0.5)] w-full ${i} overflow-hidden flex flex-col max-h-[95vh] animate-in zoom-in-95 duration-200`,children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/5 bg-white/5",children:[h.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:r}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition text-gray-400 hover:text-white",children:h.jsx(Rs,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:n})]})}):null),qie=({isOpen:t,onClose:e,user:r,onSaveSettings:n})=>{var T;const[i,a]=ne.useState(r.settings||{liveBackground:!0,performanceMode:!1,privacyMode:!1,compactView:!1,soundEffects:!0}),[s,c]=ne.useState(((T=r.gamification)==null?void 0:T.codename)||""),[u,f]=ne.useState(!1),m=fo(),g=S=>{a(_=>({..._,[S]:!_[S]}))},v=async()=>{var S;f(!0);try{await n(i),s!==(((S=r.gamification)==null?void 0:S.codename)||"")&&await Ze.updateCodename(r.id,s.trim().slice(0,24)),e()}catch(_){console.error(_),m.error("Failed to save settings.")}finally{f(!1)}},x=({icon:S,title:_,description:C,value:I,onToggle:P})=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-2xl border border-white/10 hover:border-purple-500/30 transition",children:[h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:`p-2 rounded-xl ${I?"bg-purple-500/20 text-purple-400":"bg-white/10 text-gray-500"}`,children:h.jsx(S,{className:"w-5 h-5"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-white text-sm",children:_}),h.jsx("p",{className:"text-xs text-gray-500 leading-tight mt-0.5",children:C})]})]}),h.jsx("button",{onClick:P,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${I?"bg-purple-600":"bg-white/20"}`,children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I?"translate-x-6":"translate-x-1"}`})})]});return h.jsx(Ia,{isOpen:t,onClose:e,title:"User Control Center",maxWidth:"max-w-md",children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 px-1",children:"Visuals & Performance"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(x,{icon:Tie,title:"Live Neon Background",description:"Toggle the video loop background. Disable to save GPU.",value:i.liveBackground,onToggle:()=>g("liveBackground")}),h.jsx(x,{icon:oie,title:"Performance Mode",description:"Disable blurs and heavy animations for older hardware.",value:i.performanceMode,onToggle:()=>g("performanceMode")})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 px-1",children:"Privacy & Identity"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(x,{icon:Mc,title:"Privacy Codename",description:"Hide real name on leaderboards and use your operative codename.",value:i.privacyMode,onToggle:()=>g("privacyMode")}),i.privacyMode&&h.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/10",children:[h.jsx("label",{className:"text-xs font-bold text-gray-300 block mb-2",children:"Operative Codename"}),h.jsx("input",{type:"text",value:s,onChange:S=>c(S.target.value.slice(0,24)),placeholder:"Enter codename...",className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white focus:outline-none focus:border-purple-500 transition",maxLength:24}),h.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[s.length,"/24 characters"]})]})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 px-1",children:"Interface"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(x,{icon:Eie,title:"Compact View",description:"Reduce sidebar and dashboard padding for power users.",value:i.compactView,onToggle:()=>g("compactView")}),h.jsx(x,{icon:Pie,title:"Sound Effects",description:"Play audio feedback for XP gains, level ups, and actions.",value:i.soundEffects!==!1,onToggle:()=>a(S=>({...S,soundEffects:S.soundEffects===!1}))})]})]}),h.jsxs("button",{onClick:v,disabled:u,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-2xl font-bold transition shadow-lg shadow-purple-900/30 flex items-center justify-center gap-2",children:[u?h.jsx(Ca,{className:"w-5 h-5 animate-spin"}):h.jsx(I$,{className:"w-5 h-5"}),"Apply Changes"]})]})})},Hie=({user:t,onLogout:e,activeTab:r,setActiveTab:n,children:i})=>{var T,S;const[a,s]=q.useState(""),[c,u]=q.useState(!1),[f,m]=q.useState(!1),g=t.settings||{liveBackground:!0,performanceMode:!1,privacyMode:!1,compactView:!1};q.useEffect(()=>{if(!g.liveBackground){s("");return}(async()=>{try{const C=Om(km,"public/background.mp4"),I=await uv(C);s(I)}catch{console.warn("Firebase background not found, using local fallback."),s("/background.mp4")}})()},[g.liveBackground]);const v=async _=>{await Ze.updateUserSettings(t.id,_)},x=()=>h.jsx(h.Fragment,{children:Uie.filter(_=>!(_.role==="ADMIN"&&t.role!==zi.ADMIN||_.role==="STUDENT"&&t.role!==zi.STUDENT)).map(_=>h.jsxs("button",{onClick:()=>{n(_.name),m(!1)},className:`w-full flex items-center gap-4 px-6 rounded-xl transition-all group ${g.compactView?"py-3":"py-4"} ${r===_.name?"bg-purple-600/80 text-white shadow-lg border border-purple-500/50":"text-gray-400 hover:bg-white/5 hover:text-white hover:pl-7"}`,children:[h.jsx("span",{className:`${r===_.name?"text-white":"text-gray-500 group-hover:text-purple-400"}`,children:_.icon}),h.jsx("span",{className:"font-medium text-sm",children:_.name})]},_.name))});return h.jsxs("div",{className:`flex flex-col md:flex-row h-screen overflow-hidden text-gray-100 relative ${g.performanceMode?"perf-mode":""}`,children:[h.jsx("div",{className:"fixed inset-0 z-[-3] bg-[#0f0720] static-purple-bg"}),g.liveBackground&&a&&h.jsx("div",{className:"fixed inset-0 pointer-events-none z-[-2] overflow-hidden",children:h.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-105",children:h.jsx("source",{src:a,type:"video/mp4"})},a)}),h.jsx("div",{className:`fixed inset-0 pointer-events-none z-[-1] transition-opacity duration-700 ${g.liveBackground?"bg-[#0f0720]/70":"bg-[#0f0720]/40"} ${g.performanceMode?"":"backdrop-blur-[3px]"}`}),h.jsxs("header",{className:"md:hidden flex items-center justify-between p-4 bg-black/40 backdrop-blur-md border-b border-white/10 z-30",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-purple-600 p-2 rounded-lg",children:h.jsx(qC,{className:"w-5 h-5 text-white"})}),h.jsx("h1",{className:"font-bold text-white text-lg",children:"Porter Portal"})]}),h.jsx("button",{onClick:()=>m(!0),className:"p-2 text-white hover:bg-white/10 rounded-lg transition","aria-label":"Open navigation menu",children:h.jsx(bie,{className:"w-6 h-6"})})]}),f&&h.jsxs("div",{className:"fixed inset-0 z-50 md:hidden flex",children:[h.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm animate-in fade-in",onClick:()=>m(!1)}),h.jsxs("div",{className:"relative w-4/5 max-w-xs bg-[#1a1b26] border-r border-white/10 h-full flex flex-col p-6 animate-in slide-in-from-left duration-300 shadow-2xl",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-sm font-bold shadow-inner border border-white/20",children:t.name.charAt(0)}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-bold text-white",children:g.privacyMode?((T=t.gamification)==null?void 0:T.codename)||"Agent":t.name}),h.jsx("p",{className:"text-[10px] text-gray-500",children:t.role})]})]}),h.jsx("button",{onClick:()=>m(!1),className:"p-2 text-gray-400 hover:text-white",children:h.jsx(Rs,{className:"w-6 h-6"})})]}),h.jsx("nav",{className:"flex-1 space-y-2 overflow-y-auto",children:h.jsx(x,{})}),h.jsxs("div",{className:"pt-6 border-t border-white/10 space-y-3",children:[h.jsxs("button",{onClick:()=>{u(!0),m(!1)},className:"w-full flex items-center gap-3 p-3 text-gray-400 hover:text-white hover:bg-white/5 rounded-xl transition",children:[h.jsx(tp,{className:"w-5 h-5"}),h.jsx("span",{className:"font-medium",children:"Settings"})]}),h.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 p-3 text-red-400 hover:bg-red-500/10 rounded-xl transition",children:[h.jsx(HC,{className:"w-5 h-5"}),h.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})]})]}),h.jsx("aside",{className:`p-4 hidden md:flex flex-col z-10 transition-all ${g.compactView?"w-60":"w-72"}`,children:h.jsxs("div",{className:`h-full bg-white/5 border border-white/10 rounded-3xl flex flex-col shadow-2xl animate-glass-turn ${g.performanceMode?"":"backdrop-blur-2xl"}`,children:[h.jsxs("div",{className:"p-8 flex items-center gap-4 border-b border-white/5",children:[h.jsx("div",{className:"bg-purple-600 shadow-[0_0_15px_rgba(147,51,234,0.5)] p-3 rounded-xl",children:h.jsx(qC,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"font-bold text-lg tracking-tight text-white",children:"Porter Portal"}),h.jsx("p",{className:"text-xs text-purple-300 font-medium tracking-widest uppercase",children:t.role===zi.ADMIN?"Admin System":"Operative Terminal"})]})]}),h.jsx("nav",{className:"flex-1 p-4 space-y-2 mt-4 overflow-y-auto custom-scrollbar",children:h.jsx(x,{})}),h.jsxs("div",{className:"p-6 border-t border-white/5 bg-black/10 rounded-b-3xl",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-sm font-bold shadow-inner border border-white/20",children:t.name.charAt(0)}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-sm font-semibold truncate text-white",children:g.privacyMode?((S=t.gamification)==null?void 0:S.codename)||"Agent":t.name}),h.jsx("p",{className:"text-[10px] text-gray-500 truncate",children:t.email})]})]}),h.jsx("button",{onClick:()=>u(!0),className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition",children:h.jsx(tp,{className:"w-4 h-4"})})]}),h.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:text-red-300 transition-all text-sm font-medium",children:[h.jsx(HC,{className:"w-4 h-4"}),"Sign Out"]})]})]})}),h.jsx("main",{className:`flex-1 overflow-y-auto p-4 md:p-8 animate-fade-in z-10 ${g.performanceMode?"no-anim":"animate-slide-up"}`,children:h.jsx("div",{className:"max-w-7xl mx-auto h-full",children:i})}),h.jsx(qie,{isOpen:c,onClose:()=>u(!1),user:t,onSaveSettings:v})]})};class aa{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new aa(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class ja{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new ja(r,aa.range(this,e))}}class Fe{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,i,a,s=r&&r.loc;if(s&&s.start<=s.end){var c=s.lexer.input;i=s.start,a=s.end,i===c.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var u=c.slice(i,a).replace(/[^]/g,"$&"),f;i>15?f=""+c.slice(i-15,i):f=c.slice(0,i);var m;a+15<c.length?m=c.slice(a,a+15)+"":m=c.slice(a),n+=f+u+m}var g=new Error(n);return g.name="ParseError",g.__proto__=Fe.prototype,g.position=i,i!=null&&a!=null&&(g.length=a-i),g.rawMessage=e,g}}Fe.prototype.__proto__=Error.prototype;var Gie=function(e,r){return e===void 0?r:e},Kie=/([A-Z])/g,Wie=function(e){return e.replace(Kie,"-$1").toLowerCase()},Xie={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Yie=/[&><"']/g;function Qie(t){return String(t).replace(Yie,e=>Xie[e])}var L$=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},Zie=function(e){var r=L$(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},Jie=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},eae=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},ur={deflt:Gie,escape:Qie,hyphenate:Wie,getBaseElem:L$,isCharacterBox:Zie,protocolFromUrl:eae},Uy={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function tae(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class $8{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in Uy)if(Uy.hasOwnProperty(r)){var n=Uy[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:tae(n)}}reportNonstrict(e,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Fe("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,n){var i=this.strict;if(typeof i=="function")try{i=i(e,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=ur.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}class uc{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return Ws[rae[this.id]]}sub(){return Ws[nae[this.id]]}fracNum(){return Ws[iae[this.id]]}fracDen(){return Ws[aae[this.id]]}cramp(){return Ws[sae[this.id]]}text(){return Ws[oae[this.id]]}isTight(){return this.size>=2}}var F8=0,gv=1,Fh=2,rl=3,np=4,ts=5,ad=6,$i=7,Ws=[new uc(F8,0,!1),new uc(gv,0,!0),new uc(Fh,1,!1),new uc(rl,1,!0),new uc(np,2,!1),new uc(ts,2,!0),new uc(ad,3,!1),new uc($i,3,!0)],rae=[np,ts,np,ts,ad,$i,ad,$i],nae=[ts,ts,ts,ts,$i,$i,$i,$i],iae=[Fh,rl,np,ts,ad,$i,ad,$i],aae=[rl,rl,ts,ts,$i,$i,$i,$i],sae=[gv,gv,rl,rl,ts,ts,$i,$i],oae=[F8,gv,Fh,rl,Fh,rl,Fh,rl],St={DISPLAY:Ws[F8],TEXT:Ws[Fh],SCRIPT:Ws[np],SCRIPTSCRIPT:Ws[ad]},qS=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function lae(t){for(var e=0;e<qS.length;e++)for(var r=qS[e],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(t>=i[0]&&t<=i[1])return r.name}return null}var zy=[];qS.forEach(t=>t.blocks.forEach(e=>zy.push(...e)));function B$(t){for(var e=0;e<zy.length;e+=2)if(t>=zy[e]&&t<=zy[e+1])return!0;return!1}var Sh=80,cae=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},uae=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},hae=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},dae=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},fae=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},mae=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},pae=function(e,r,n){var i=n-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},gae=function(e,r,n){r=1e3*r;var i="";switch(e){case"sqrtMain":i=cae(r,Sh);break;case"sqrtSize1":i=uae(r,Sh);break;case"sqrtSize2":i=hae(r,Sh);break;case"sqrtSize3":i=dae(r,Sh);break;case"sqrtSize4":i=fae(r,Sh);break;case"sqrtTall":i=pae(r,Sh,n)}return i},yae=function(e,r){switch(e){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},ZC={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},vae=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class rg{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var Zs={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},J1={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},JC={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function bae(t,e){Zs[t]=e}function q8(t,e,r){if(!Zs[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),i=Zs[e][n];if(!i&&t[0]in JC&&(n=JC[t[0]].charCodeAt(0),i=Zs[e][n]),!i&&r==="text"&&B$(n)&&(i=Zs[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var Nw={};function xae(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Nw[e]){var r=Nw[e]={cssEmPerMu:J1.quad[e]/18};for(var n in J1)J1.hasOwnProperty(n)&&(r[n]=J1[n][e])}return Nw[e]}var wae=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],eI=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],tI=function(e,r){return r.size<2?e:wae[e-1][r.size-1]};class Ho{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Ho.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=eI[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new Ho(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:tI(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:eI[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=tI(Ho.BASESIZE,e);return this.size===r&&this.textSize===Ho.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ho.BASESIZE?["sizing","reset-size"+this.size,"size"+Ho.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=xae(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ho.BASESIZE=6;var HS={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},_ae={ex:!0,em:!0,mu:!0},U$=function(e){return typeof e!="string"&&(e=e.unit),e in HS||e in _ae||e==="ex"},an=function(e,r){var n;if(e.unit in HS)n=HS[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new Fe("Invalid unit: '"+e.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*n,r.maxSize)},Xe=function(e){return+e.toFixed(4)+"em"},$c=function(e){return e.filter(r=>r).join(" ")},z$=function(e,r,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},V$=function(e){var r=document.createElement(e);r.className=$c(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r},Sae=/[\s"'>/=\x00-\x1f]/,$$=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+ur.escape($c(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=ur.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+ur.escape(n)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(Sae.test(a))throw new Fe("Invalid attribute name '"+a+"'");r+=" "+a+'="'+ur.escape(this.attributes[a])+'"'}r+=">";for(var s=0;s<this.children.length;s++)r+=this.children[s].toMarkup();return r+="</"+e+">",r};class ng{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,z$.call(this,e,n,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return V$.call(this,"span")}toMarkup(){return $$.call(this,"span")}}class H8{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,z$.call(this,r,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return V$.call(this,"a")}toMarkup(){return $$.call(this,"a")}}class Tae{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+ur.escape(this.src)+'"'+(' alt="'+ur.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=ur.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+ur.escape(r)+'"'),e+="'/>",e}}var Aae={:"",:"",:"",:""};class os{constructor(e,r,n,i,a,s,c,u){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=c||[],this.style=u||{},this.maxFontSize=0;var f=lae(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[]/.test(this.text)&&(this.text=Aae[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=Xe(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=$c(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=ur.escape($c(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=ur.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,r+=' style="'+ur.escape(n)+'"');var a=ur.escape(this.text);return e?(r+=">",r+=a,r+="</span>",r):a}}class dl{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+ur.escape(this.attributes[r])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class Fc{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",ZC[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+ur.escape(this.alternate)+'"/>':'<path d="'+ur.escape(ZC[this.pathName])+'"/>'}}class GS{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+ur.escape(this.attributes[r])+'"');return e+="/>",e}}function rI(t){if(t instanceof os)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function Eae(t){if(t instanceof ng)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var Nae={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Oae={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ur={math:{},text:{}};function E(t,e,r,n,i,a){Ur[t][i]={font:e,group:r,replace:n},a&&n&&(Ur[t][n]=Ur[t][i])}var R="math",De="text",F="main",te="ams",Qr="accent-token",st="bin",Wi="close",Ud="inner",_t="mathord",Mn="op-token",La="open",cx="punct",re="rel",wl="spacing",de="textord";E(R,F,re,"","\\equiv",!0);E(R,F,re,"","\\prec",!0);E(R,F,re,"","\\succ",!0);E(R,F,re,"","\\sim",!0);E(R,F,re,"","\\perp");E(R,F,re,"","\\preceq",!0);E(R,F,re,"","\\succeq",!0);E(R,F,re,"","\\simeq",!0);E(R,F,re,"","\\mid",!0);E(R,F,re,"","\\ll",!0);E(R,F,re,"","\\gg",!0);E(R,F,re,"","\\asymp",!0);E(R,F,re,"","\\parallel");E(R,F,re,"","\\bowtie",!0);E(R,F,re,"","\\smile",!0);E(R,F,re,"","\\sqsubseteq",!0);E(R,F,re,"","\\sqsupseteq",!0);E(R,F,re,"","\\doteq",!0);E(R,F,re,"","\\frown",!0);E(R,F,re,"","\\ni",!0);E(R,F,re,"","\\propto",!0);E(R,F,re,"","\\vdash",!0);E(R,F,re,"","\\dashv",!0);E(R,F,re,"","\\owns");E(R,F,cx,".","\\ldotp");E(R,F,cx,"","\\cdotp");E(R,F,de,"#","\\#");E(De,F,de,"#","\\#");E(R,F,de,"&","\\&");E(De,F,de,"&","\\&");E(R,F,de,"","\\aleph",!0);E(R,F,de,"","\\forall",!0);E(R,F,de,"","\\hbar",!0);E(R,F,de,"","\\exists",!0);E(R,F,de,"","\\nabla",!0);E(R,F,de,"","\\flat",!0);E(R,F,de,"","\\ell",!0);E(R,F,de,"","\\natural",!0);E(R,F,de,"","\\clubsuit",!0);E(R,F,de,"","\\wp",!0);E(R,F,de,"","\\sharp",!0);E(R,F,de,"","\\diamondsuit",!0);E(R,F,de,"","\\Re",!0);E(R,F,de,"","\\heartsuit",!0);E(R,F,de,"","\\Im",!0);E(R,F,de,"","\\spadesuit",!0);E(R,F,de,"","\\S",!0);E(De,F,de,"","\\S");E(R,F,de,"","\\P",!0);E(De,F,de,"","\\P");E(R,F,de,"","\\dag");E(De,F,de,"","\\dag");E(De,F,de,"","\\textdagger");E(R,F,de,"","\\ddag");E(De,F,de,"","\\ddag");E(De,F,de,"","\\textdaggerdbl");E(R,F,Wi,"","\\rmoustache",!0);E(R,F,La,"","\\lmoustache",!0);E(R,F,Wi,"","\\rgroup",!0);E(R,F,La,"","\\lgroup",!0);E(R,F,st,"","\\mp",!0);E(R,F,st,"","\\ominus",!0);E(R,F,st,"","\\uplus",!0);E(R,F,st,"","\\sqcap",!0);E(R,F,st,"","\\ast");E(R,F,st,"","\\sqcup",!0);E(R,F,st,"","\\bigcirc",!0);E(R,F,st,"","\\bullet",!0);E(R,F,st,"","\\ddagger");E(R,F,st,"","\\wr",!0);E(R,F,st,"","\\amalg");E(R,F,st,"&","\\And");E(R,F,re,"","\\longleftarrow",!0);E(R,F,re,"","\\Leftarrow",!0);E(R,F,re,"","\\Longleftarrow",!0);E(R,F,re,"","\\longrightarrow",!0);E(R,F,re,"","\\Rightarrow",!0);E(R,F,re,"","\\Longrightarrow",!0);E(R,F,re,"","\\leftrightarrow",!0);E(R,F,re,"","\\longleftrightarrow",!0);E(R,F,re,"","\\Leftrightarrow",!0);E(R,F,re,"","\\Longleftrightarrow",!0);E(R,F,re,"","\\mapsto",!0);E(R,F,re,"","\\longmapsto",!0);E(R,F,re,"","\\nearrow",!0);E(R,F,re,"","\\hookleftarrow",!0);E(R,F,re,"","\\hookrightarrow",!0);E(R,F,re,"","\\searrow",!0);E(R,F,re,"","\\leftharpoonup",!0);E(R,F,re,"","\\rightharpoonup",!0);E(R,F,re,"","\\swarrow",!0);E(R,F,re,"","\\leftharpoondown",!0);E(R,F,re,"","\\rightharpoondown",!0);E(R,F,re,"","\\nwarrow",!0);E(R,F,re,"","\\rightleftharpoons",!0);E(R,te,re,"","\\nless",!0);E(R,te,re,"","\\@nleqslant");E(R,te,re,"","\\@nleqq");E(R,te,re,"","\\lneq",!0);E(R,te,re,"","\\lneqq",!0);E(R,te,re,"","\\@lvertneqq");E(R,te,re,"","\\lnsim",!0);E(R,te,re,"","\\lnapprox",!0);E(R,te,re,"","\\nprec",!0);E(R,te,re,"","\\npreceq",!0);E(R,te,re,"","\\precnsim",!0);E(R,te,re,"","\\precnapprox",!0);E(R,te,re,"","\\nsim",!0);E(R,te,re,"","\\@nshortmid");E(R,te,re,"","\\nmid",!0);E(R,te,re,"","\\nvdash",!0);E(R,te,re,"","\\nvDash",!0);E(R,te,re,"","\\ntriangleleft");E(R,te,re,"","\\ntrianglelefteq",!0);E(R,te,re,"","\\subsetneq",!0);E(R,te,re,"","\\@varsubsetneq");E(R,te,re,"","\\subsetneqq",!0);E(R,te,re,"","\\@varsubsetneqq");E(R,te,re,"","\\ngtr",!0);E(R,te,re,"","\\@ngeqslant");E(R,te,re,"","\\@ngeqq");E(R,te,re,"","\\gneq",!0);E(R,te,re,"","\\gneqq",!0);E(R,te,re,"","\\@gvertneqq");E(R,te,re,"","\\gnsim",!0);E(R,te,re,"","\\gnapprox",!0);E(R,te,re,"","\\nsucc",!0);E(R,te,re,"","\\nsucceq",!0);E(R,te,re,"","\\succnsim",!0);E(R,te,re,"","\\succnapprox",!0);E(R,te,re,"","\\ncong",!0);E(R,te,re,"","\\@nshortparallel");E(R,te,re,"","\\nparallel",!0);E(R,te,re,"","\\nVDash",!0);E(R,te,re,"","\\ntriangleright");E(R,te,re,"","\\ntrianglerighteq",!0);E(R,te,re,"","\\@nsupseteqq");E(R,te,re,"","\\supsetneq",!0);E(R,te,re,"","\\@varsupsetneq");E(R,te,re,"","\\supsetneqq",!0);E(R,te,re,"","\\@varsupsetneqq");E(R,te,re,"","\\nVdash",!0);E(R,te,re,"","\\precneqq",!0);E(R,te,re,"","\\succneqq",!0);E(R,te,re,"","\\@nsubseteqq");E(R,te,st,"","\\unlhd");E(R,te,st,"","\\unrhd");E(R,te,re,"","\\nleftarrow",!0);E(R,te,re,"","\\nrightarrow",!0);E(R,te,re,"","\\nLeftarrow",!0);E(R,te,re,"","\\nRightarrow",!0);E(R,te,re,"","\\nleftrightarrow",!0);E(R,te,re,"","\\nLeftrightarrow",!0);E(R,te,re,"","\\vartriangle");E(R,te,de,"","\\hslash");E(R,te,de,"","\\triangledown");E(R,te,de,"","\\lozenge");E(R,te,de,"","\\circledS");E(R,te,de,"","\\circledR");E(De,te,de,"","\\circledR");E(R,te,de,"","\\measuredangle",!0);E(R,te,de,"","\\nexists");E(R,te,de,"","\\mho");E(R,te,de,"","\\Finv",!0);E(R,te,de,"","\\Game",!0);E(R,te,de,"","\\backprime");E(R,te,de,"","\\blacktriangle");E(R,te,de,"","\\blacktriangledown");E(R,te,de,"","\\blacksquare");E(R,te,de,"","\\blacklozenge");E(R,te,de,"","\\bigstar");E(R,te,de,"","\\sphericalangle",!0);E(R,te,de,"","\\complement",!0);E(R,te,de,"","\\eth",!0);E(De,F,de,"","");E(R,te,de,"","\\diagup");E(R,te,de,"","\\diagdown");E(R,te,de,"","\\square");E(R,te,de,"","\\Box");E(R,te,de,"","\\Diamond");E(R,te,de,"","\\yen",!0);E(De,te,de,"","\\yen",!0);E(R,te,de,"","\\checkmark",!0);E(De,te,de,"","\\checkmark");E(R,te,de,"","\\beth",!0);E(R,te,de,"","\\daleth",!0);E(R,te,de,"","\\gimel",!0);E(R,te,de,"","\\digamma",!0);E(R,te,de,"","\\varkappa");E(R,te,La,"","\\@ulcorner",!0);E(R,te,Wi,"","\\@urcorner",!0);E(R,te,La,"","\\@llcorner",!0);E(R,te,Wi,"","\\@lrcorner",!0);E(R,te,re,"","\\leqq",!0);E(R,te,re,"","\\leqslant",!0);E(R,te,re,"","\\eqslantless",!0);E(R,te,re,"","\\lesssim",!0);E(R,te,re,"","\\lessapprox",!0);E(R,te,re,"","\\approxeq",!0);E(R,te,st,"","\\lessdot");E(R,te,re,"","\\lll",!0);E(R,te,re,"","\\lessgtr",!0);E(R,te,re,"","\\lesseqgtr",!0);E(R,te,re,"","\\lesseqqgtr",!0);E(R,te,re,"","\\doteqdot");E(R,te,re,"","\\risingdotseq",!0);E(R,te,re,"","\\fallingdotseq",!0);E(R,te,re,"","\\backsim",!0);E(R,te,re,"","\\backsimeq",!0);E(R,te,re,"","\\subseteqq",!0);E(R,te,re,"","\\Subset",!0);E(R,te,re,"","\\sqsubset",!0);E(R,te,re,"","\\preccurlyeq",!0);E(R,te,re,"","\\curlyeqprec",!0);E(R,te,re,"","\\precsim",!0);E(R,te,re,"","\\precapprox",!0);E(R,te,re,"","\\vartriangleleft");E(R,te,re,"","\\trianglelefteq");E(R,te,re,"","\\vDash",!0);E(R,te,re,"","\\Vvdash",!0);E(R,te,re,"","\\smallsmile");E(R,te,re,"","\\smallfrown");E(R,te,re,"","\\bumpeq",!0);E(R,te,re,"","\\Bumpeq",!0);E(R,te,re,"","\\geqq",!0);E(R,te,re,"","\\geqslant",!0);E(R,te,re,"","\\eqslantgtr",!0);E(R,te,re,"","\\gtrsim",!0);E(R,te,re,"","\\gtrapprox",!0);E(R,te,st,"","\\gtrdot");E(R,te,re,"","\\ggg",!0);E(R,te,re,"","\\gtrless",!0);E(R,te,re,"","\\gtreqless",!0);E(R,te,re,"","\\gtreqqless",!0);E(R,te,re,"","\\eqcirc",!0);E(R,te,re,"","\\circeq",!0);E(R,te,re,"","\\triangleq",!0);E(R,te,re,"","\\thicksim");E(R,te,re,"","\\thickapprox");E(R,te,re,"","\\supseteqq",!0);E(R,te,re,"","\\Supset",!0);E(R,te,re,"","\\sqsupset",!0);E(R,te,re,"","\\succcurlyeq",!0);E(R,te,re,"","\\curlyeqsucc",!0);E(R,te,re,"","\\succsim",!0);E(R,te,re,"","\\succapprox",!0);E(R,te,re,"","\\vartriangleright");E(R,te,re,"","\\trianglerighteq");E(R,te,re,"","\\Vdash",!0);E(R,te,re,"","\\shortmid");E(R,te,re,"","\\shortparallel");E(R,te,re,"","\\between",!0);E(R,te,re,"","\\pitchfork",!0);E(R,te,re,"","\\varpropto");E(R,te,re,"","\\blacktriangleleft");E(R,te,re,"","\\therefore",!0);E(R,te,re,"","\\backepsilon");E(R,te,re,"","\\blacktriangleright");E(R,te,re,"","\\because",!0);E(R,te,re,"","\\llless");E(R,te,re,"","\\gggtr");E(R,te,st,"","\\lhd");E(R,te,st,"","\\rhd");E(R,te,re,"","\\eqsim",!0);E(R,F,re,"","\\Join");E(R,te,re,"","\\Doteq",!0);E(R,te,st,"","\\dotplus",!0);E(R,te,st,"","\\smallsetminus");E(R,te,st,"","\\Cap",!0);E(R,te,st,"","\\Cup",!0);E(R,te,st,"","\\doublebarwedge",!0);E(R,te,st,"","\\boxminus",!0);E(R,te,st,"","\\boxplus",!0);E(R,te,st,"","\\divideontimes",!0);E(R,te,st,"","\\ltimes",!0);E(R,te,st,"","\\rtimes",!0);E(R,te,st,"","\\leftthreetimes",!0);E(R,te,st,"","\\rightthreetimes",!0);E(R,te,st,"","\\curlywedge",!0);E(R,te,st,"","\\curlyvee",!0);E(R,te,st,"","\\circleddash",!0);E(R,te,st,"","\\circledast",!0);E(R,te,st,"","\\centerdot");E(R,te,st,"","\\intercal",!0);E(R,te,st,"","\\doublecap");E(R,te,st,"","\\doublecup");E(R,te,st,"","\\boxtimes",!0);E(R,te,re,"","\\dashrightarrow",!0);E(R,te,re,"","\\dashleftarrow",!0);E(R,te,re,"","\\leftleftarrows",!0);E(R,te,re,"","\\leftrightarrows",!0);E(R,te,re,"","\\Lleftarrow",!0);E(R,te,re,"","\\twoheadleftarrow",!0);E(R,te,re,"","\\leftarrowtail",!0);E(R,te,re,"","\\looparrowleft",!0);E(R,te,re,"","\\leftrightharpoons",!0);E(R,te,re,"","\\curvearrowleft",!0);E(R,te,re,"","\\circlearrowleft",!0);E(R,te,re,"","\\Lsh",!0);E(R,te,re,"","\\upuparrows",!0);E(R,te,re,"","\\upharpoonleft",!0);E(R,te,re,"","\\downharpoonleft",!0);E(R,F,re,"","\\origof",!0);E(R,F,re,"","\\imageof",!0);E(R,te,re,"","\\multimap",!0);E(R,te,re,"","\\leftrightsquigarrow",!0);E(R,te,re,"","\\rightrightarrows",!0);E(R,te,re,"","\\rightleftarrows",!0);E(R,te,re,"","\\twoheadrightarrow",!0);E(R,te,re,"","\\rightarrowtail",!0);E(R,te,re,"","\\looparrowright",!0);E(R,te,re,"","\\curvearrowright",!0);E(R,te,re,"","\\circlearrowright",!0);E(R,te,re,"","\\Rsh",!0);E(R,te,re,"","\\downdownarrows",!0);E(R,te,re,"","\\upharpoonright",!0);E(R,te,re,"","\\downharpoonright",!0);E(R,te,re,"","\\rightsquigarrow",!0);E(R,te,re,"","\\leadsto");E(R,te,re,"","\\Rrightarrow",!0);E(R,te,re,"","\\restriction");E(R,F,de,"","`");E(R,F,de,"$","\\$");E(De,F,de,"$","\\$");E(De,F,de,"$","\\textdollar");E(R,F,de,"%","\\%");E(De,F,de,"%","\\%");E(R,F,de,"_","\\_");E(De,F,de,"_","\\_");E(De,F,de,"_","\\textunderscore");E(R,F,de,"","\\angle",!0);E(R,F,de,"","\\infty",!0);E(R,F,de,"","\\prime");E(R,F,de,"","\\triangle");E(R,F,de,"","\\Gamma",!0);E(R,F,de,"","\\Delta",!0);E(R,F,de,"","\\Theta",!0);E(R,F,de,"","\\Lambda",!0);E(R,F,de,"","\\Xi",!0);E(R,F,de,"","\\Pi",!0);E(R,F,de,"","\\Sigma",!0);E(R,F,de,"","\\Upsilon",!0);E(R,F,de,"","\\Phi",!0);E(R,F,de,"","\\Psi",!0);E(R,F,de,"","\\Omega",!0);E(R,F,de,"A","");E(R,F,de,"B","");E(R,F,de,"E","");E(R,F,de,"Z","");E(R,F,de,"H","");E(R,F,de,"I","");E(R,F,de,"K","");E(R,F,de,"M","");E(R,F,de,"N","");E(R,F,de,"O","");E(R,F,de,"P","");E(R,F,de,"T","");E(R,F,de,"X","");E(R,F,de,"","\\neg",!0);E(R,F,de,"","\\lnot");E(R,F,de,"","\\top");E(R,F,de,"","\\bot");E(R,F,de,"","\\emptyset");E(R,te,de,"","\\varnothing");E(R,F,_t,"","\\alpha",!0);E(R,F,_t,"","\\beta",!0);E(R,F,_t,"","\\gamma",!0);E(R,F,_t,"","\\delta",!0);E(R,F,_t,"","\\epsilon",!0);E(R,F,_t,"","\\zeta",!0);E(R,F,_t,"","\\eta",!0);E(R,F,_t,"","\\theta",!0);E(R,F,_t,"","\\iota",!0);E(R,F,_t,"","\\kappa",!0);E(R,F,_t,"","\\lambda",!0);E(R,F,_t,"","\\mu",!0);E(R,F,_t,"","\\nu",!0);E(R,F,_t,"","\\xi",!0);E(R,F,_t,"","\\omicron",!0);E(R,F,_t,"","\\pi",!0);E(R,F,_t,"","\\rho",!0);E(R,F,_t,"","\\sigma",!0);E(R,F,_t,"","\\tau",!0);E(R,F,_t,"","\\upsilon",!0);E(R,F,_t,"","\\phi",!0);E(R,F,_t,"","\\chi",!0);E(R,F,_t,"","\\psi",!0);E(R,F,_t,"","\\omega",!0);E(R,F,_t,"","\\varepsilon",!0);E(R,F,_t,"","\\vartheta",!0);E(R,F,_t,"","\\varpi",!0);E(R,F,_t,"","\\varrho",!0);E(R,F,_t,"","\\varsigma",!0);E(R,F,_t,"","\\varphi",!0);E(R,F,st,"","*",!0);E(R,F,st,"+","+");E(R,F,st,"","-",!0);E(R,F,st,"","\\cdot",!0);E(R,F,st,"","\\circ",!0);E(R,F,st,"","\\div",!0);E(R,F,st,"","\\pm",!0);E(R,F,st,"","\\times",!0);E(R,F,st,"","\\cap",!0);E(R,F,st,"","\\cup",!0);E(R,F,st,"","\\setminus",!0);E(R,F,st,"","\\land");E(R,F,st,"","\\lor");E(R,F,st,"","\\wedge",!0);E(R,F,st,"","\\vee",!0);E(R,F,de,"","\\surd");E(R,F,La,"","\\langle",!0);E(R,F,La,"","\\lvert");E(R,F,La,"","\\lVert");E(R,F,Wi,"?","?");E(R,F,Wi,"!","!");E(R,F,Wi,"","\\rangle",!0);E(R,F,Wi,"","\\rvert");E(R,F,Wi,"","\\rVert");E(R,F,re,"=","=");E(R,F,re,":",":");E(R,F,re,"","\\approx",!0);E(R,F,re,"","\\cong",!0);E(R,F,re,"","\\ge");E(R,F,re,"","\\geq",!0);E(R,F,re,"","\\gets");E(R,F,re,">","\\gt",!0);E(R,F,re,"","\\in",!0);E(R,F,re,"","\\@not");E(R,F,re,"","\\subset",!0);E(R,F,re,"","\\supset",!0);E(R,F,re,"","\\subseteq",!0);E(R,F,re,"","\\supseteq",!0);E(R,te,re,"","\\nsubseteq",!0);E(R,te,re,"","\\nsupseteq",!0);E(R,F,re,"","\\models");E(R,F,re,"","\\leftarrow",!0);E(R,F,re,"","\\le");E(R,F,re,"","\\leq",!0);E(R,F,re,"<","\\lt",!0);E(R,F,re,"","\\rightarrow",!0);E(R,F,re,"","\\to");E(R,te,re,"","\\ngeq",!0);E(R,te,re,"","\\nleq",!0);E(R,F,wl,"","\\ ");E(R,F,wl,"","\\space");E(R,F,wl,"","\\nobreakspace");E(De,F,wl,"","\\ ");E(De,F,wl,""," ");E(De,F,wl,"","\\space");E(De,F,wl,"","\\nobreakspace");E(R,F,wl,null,"\\nobreak");E(R,F,wl,null,"\\allowbreak");E(R,F,cx,",",",");E(R,F,cx,";",";");E(R,te,st,"","\\barwedge",!0);E(R,te,st,"","\\veebar",!0);E(R,F,st,"","\\odot",!0);E(R,F,st,"","\\oplus",!0);E(R,F,st,"","\\otimes",!0);E(R,F,de,"","\\partial",!0);E(R,F,st,"","\\oslash",!0);E(R,te,st,"","\\circledcirc",!0);E(R,te,st,"","\\boxdot",!0);E(R,F,st,"","\\bigtriangleup");E(R,F,st,"","\\bigtriangledown");E(R,F,st,"","\\dagger");E(R,F,st,"","\\diamond");E(R,F,st,"","\\star");E(R,F,st,"","\\triangleleft");E(R,F,st,"","\\triangleright");E(R,F,La,"{","\\{");E(De,F,de,"{","\\{");E(De,F,de,"{","\\textbraceleft");E(R,F,Wi,"}","\\}");E(De,F,de,"}","\\}");E(De,F,de,"}","\\textbraceright");E(R,F,La,"{","\\lbrace");E(R,F,Wi,"}","\\rbrace");E(R,F,La,"[","\\lbrack",!0);E(De,F,de,"[","\\lbrack",!0);E(R,F,Wi,"]","\\rbrack",!0);E(De,F,de,"]","\\rbrack",!0);E(R,F,La,"(","\\lparen",!0);E(R,F,Wi,")","\\rparen",!0);E(De,F,de,"<","\\textless",!0);E(De,F,de,">","\\textgreater",!0);E(R,F,La,"","\\lfloor",!0);E(R,F,Wi,"","\\rfloor",!0);E(R,F,La,"","\\lceil",!0);E(R,F,Wi,"","\\rceil",!0);E(R,F,de,"\\","\\backslash");E(R,F,de,"","|");E(R,F,de,"","\\vert");E(De,F,de,"|","\\textbar",!0);E(R,F,de,"","\\|");E(R,F,de,"","\\Vert");E(De,F,de,"","\\textbardbl");E(De,F,de,"~","\\textasciitilde");E(De,F,de,"\\","\\textbackslash");E(De,F,de,"^","\\textasciicircum");E(R,F,re,"","\\uparrow",!0);E(R,F,re,"","\\Uparrow",!0);E(R,F,re,"","\\downarrow",!0);E(R,F,re,"","\\Downarrow",!0);E(R,F,re,"","\\updownarrow",!0);E(R,F,re,"","\\Updownarrow",!0);E(R,F,Mn,"","\\coprod");E(R,F,Mn,"","\\bigvee");E(R,F,Mn,"","\\bigwedge");E(R,F,Mn,"","\\biguplus");E(R,F,Mn,"","\\bigcap");E(R,F,Mn,"","\\bigcup");E(R,F,Mn,"","\\int");E(R,F,Mn,"","\\intop");E(R,F,Mn,"","\\iint");E(R,F,Mn,"","\\iiint");E(R,F,Mn,"","\\prod");E(R,F,Mn,"","\\sum");E(R,F,Mn,"","\\bigotimes");E(R,F,Mn,"","\\bigoplus");E(R,F,Mn,"","\\bigodot");E(R,F,Mn,"","\\oint");E(R,F,Mn,"","\\oiint");E(R,F,Mn,"","\\oiiint");E(R,F,Mn,"","\\bigsqcup");E(R,F,Mn,"","\\smallint");E(De,F,Ud,"","\\textellipsis");E(R,F,Ud,"","\\mathellipsis");E(De,F,Ud,"","\\ldots",!0);E(R,F,Ud,"","\\ldots",!0);E(R,F,Ud,"","\\@cdots",!0);E(R,F,Ud,"","\\ddots",!0);E(R,F,de,"","\\varvdots");E(De,F,de,"","\\varvdots");E(R,F,Qr,"","\\acute");E(R,F,Qr,"","\\grave");E(R,F,Qr,"","\\ddot");E(R,F,Qr,"~","\\tilde");E(R,F,Qr,"","\\bar");E(R,F,Qr,"","\\breve");E(R,F,Qr,"","\\check");E(R,F,Qr,"^","\\hat");E(R,F,Qr,"","\\vec");E(R,F,Qr,"","\\dot");E(R,F,Qr,"","\\mathring");E(R,F,_t,"","\\@imath");E(R,F,_t,"","\\@jmath");E(R,F,de,"","");E(R,F,de,"","");E(De,F,de,"","\\i",!0);E(De,F,de,"","\\j",!0);E(De,F,de,"","\\ss",!0);E(De,F,de,"","\\ae",!0);E(De,F,de,"","\\oe",!0);E(De,F,de,"","\\o",!0);E(De,F,de,"","\\AE",!0);E(De,F,de,"","\\OE",!0);E(De,F,de,"","\\O",!0);E(De,F,Qr,"","\\'");E(De,F,Qr,"","\\`");E(De,F,Qr,"","\\^");E(De,F,Qr,"","\\~");E(De,F,Qr,"","\\=");E(De,F,Qr,"","\\u");E(De,F,Qr,"","\\.");E(De,F,Qr,"","\\c");E(De,F,Qr,"","\\r");E(De,F,Qr,"","\\v");E(De,F,Qr,"",'\\"');E(De,F,Qr,"","\\H");E(De,F,Qr,"","\\textcircled");var F$={"--":!0,"---":!0,"``":!0,"''":!0};E(De,F,de,"","--",!0);E(De,F,de,"","\\textendash");E(De,F,de,"","---",!0);E(De,F,de,"","\\textemdash");E(De,F,de,"","`",!0);E(De,F,de,"","\\textquoteleft");E(De,F,de,"","'",!0);E(De,F,de,"","\\textquoteright");E(De,F,de,"","``",!0);E(De,F,de,"","\\textquotedblleft");E(De,F,de,"","''",!0);E(De,F,de,"","\\textquotedblright");E(R,F,de,"","\\degree",!0);E(De,F,de,"","\\degree");E(De,F,de,"","\\textdegree",!0);E(R,F,de,"","\\pounds");E(R,F,de,"","\\mathsterling",!0);E(De,F,de,"","\\pounds");E(De,F,de,"","\\textsterling",!0);E(R,te,de,"","\\maltese");E(De,te,de,"","\\maltese");var nI='0123456789/@."';for(var Ow=0;Ow<nI.length;Ow++){var iI=nI.charAt(Ow);E(R,F,de,iI,iI)}var aI='0123456789!@*()-=+";:?/.,';for(var kw=0;kw<aI.length;kw++){var sI=aI.charAt(kw);E(De,F,de,sI,sI)}var yv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Cw=0;Cw<yv.length;Cw++){var ey=yv.charAt(Cw);E(R,F,_t,ey,ey),E(De,F,de,ey,ey)}E(R,te,de,"C","");E(De,te,de,"C","");E(R,te,de,"H","");E(De,te,de,"H","");E(R,te,de,"N","");E(De,te,de,"N","");E(R,te,de,"P","");E(De,te,de,"P","");E(R,te,de,"Q","");E(De,te,de,"Q","");E(R,te,de,"R","");E(De,te,de,"R","");E(R,te,de,"Z","");E(De,te,de,"Z","");E(R,F,_t,"h","");E(De,F,_t,"h","");var Nt="";for(var Di=0;Di<yv.length;Di++){var dn=yv.charAt(Di);Nt=String.fromCharCode(55349,56320+Di),E(R,F,_t,dn,Nt),E(De,F,de,dn,Nt),Nt=String.fromCharCode(55349,56372+Di),E(R,F,_t,dn,Nt),E(De,F,de,dn,Nt),Nt=String.fromCharCode(55349,56424+Di),E(R,F,_t,dn,Nt),E(De,F,de,dn,Nt),Nt=String.fromCharCode(55349,56580+Di),E(R,F,_t,dn,Nt),E(De,F,de,dn,Nt),Nt=String.fromCharCode(55349,56684+Di),E(R,F,_t,dn,Nt),E(De,F,de,dn,Nt),Nt=String.fromCharCode(55349,56736+Di),E(R,F,_t,dn,Nt),E(De,F,de,dn,Nt),Nt=String.fromCharCode(55349,56788+Di),E(R,F,_t,dn,Nt),E(De,F,de,dn,Nt),Nt=String.fromCharCode(55349,56840+Di),E(R,F,_t,dn,Nt),E(De,F,de,dn,Nt),Nt=String.fromCharCode(55349,56944+Di),E(R,F,_t,dn,Nt),E(De,F,de,dn,Nt),Di<26&&(Nt=String.fromCharCode(55349,56632+Di),E(R,F,_t,dn,Nt),E(De,F,de,dn,Nt),Nt=String.fromCharCode(55349,56476+Di),E(R,F,_t,dn,Nt),E(De,F,de,dn,Nt))}Nt="";E(R,F,_t,"k",Nt);E(De,F,de,"k",Nt);for(var Au=0;Au<10;Au++){var hc=Au.toString();Nt=String.fromCharCode(55349,57294+Au),E(R,F,_t,hc,Nt),E(De,F,de,hc,Nt),Nt=String.fromCharCode(55349,57314+Au),E(R,F,_t,hc,Nt),E(De,F,de,hc,Nt),Nt=String.fromCharCode(55349,57324+Au),E(R,F,_t,hc,Nt),E(De,F,de,hc,Nt),Nt=String.fromCharCode(55349,57334+Au),E(R,F,_t,hc,Nt),E(De,F,de,hc,Nt)}var KS="";for(var Iw=0;Iw<KS.length;Iw++){var ty=KS.charAt(Iw);E(R,F,_t,ty,ty),E(De,F,de,ty,ty)}var ry=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],oI=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],kae=function(e,r){var n=e.charCodeAt(0),i=e.charCodeAt(1),a=(n-55296)*1024+(i-56320)+65536,s=r==="math"?0:1;if(119808<=a&&a<120484){var c=Math.floor((a-119808)/26);return[ry[c][2],ry[c][s]]}else if(120782<=a&&a<=120831){var u=Math.floor((a-120782)/10);return[oI[u][2],oI[u][s]]}else{if(a===120485||a===120486)return[ry[0][2],ry[0][s]];if(120486<a&&a<120782)return["",""];throw new Fe("Unsupported character: "+e)}},ux=function(e,r,n){return Ur[n][e]&&Ur[n][e].replace&&(e=Ur[n][e].replace),{value:e,metrics:q8(e,r,n)}},Ts=function(e,r,n,i,a){var s=ux(e,r,n),c=s.metrics;e=s.value;var u;if(c){var f=c.italic;(n==="text"||i&&i.font==="mathit")&&(f=0),u=new os(e,c.height,c.depth,f,c.skew,c.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+n+"'")),u=new os(e,0,0,0,0,0,a);if(i){u.maxFontSize=i.sizeMultiplier,i.style.isTight()&&u.classes.push("mtight");var m=i.getColor();m&&(u.style.color=m)}return u},Cae=function(e,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&ux(e,"Main-Bold",r).metrics?Ts(e,"Main-Bold",r,n,i.concat(["mathbf"])):e==="\\"||Ur[r][e].font==="main"?Ts(e,"Main-Regular",r,n,i):Ts(e,"AMS-Regular",r,n,i.concat(["amsrm"]))},Iae=function(e,r,n,i,a){return a!=="textord"&&ux(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},jae=function(e,r,n){var i=e.mode,a=e.text,s=["mord"],c=i==="math"||i==="text"&&r.font,u=c?r.font:r.fontFamily,f="",m="";if(a.charCodeAt(0)===55349&&([f,m]=kae(a,i)),f.length>0)return Ts(a,f,i,r,s.concat(m));if(u){var g,v;if(u==="boldsymbol"){var x=Iae(a,i,r,s,n);g=x.fontName,v=[x.fontClass]}else c?(g=G$[u].fontName,v=[u]):(g=ny(u,r.fontWeight,r.fontShape),v=[u,r.fontWeight,r.fontShape]);if(ux(a,g,i).metrics)return Ts(a,g,i,r,s.concat(v));if(F$.hasOwnProperty(a)&&g.slice(0,10)==="Typewriter"){for(var T=[],S=0;S<a.length;S++)T.push(Ts(a[S],g,i,r,s.concat(v)));return H$(T)}}if(n==="mathord")return Ts(a,"Math-Italic",i,r,s.concat(["mathnormal"]));if(n==="textord"){var _=Ur[i][a]&&Ur[i][a].font;if(_==="ams"){var C=ny("amsrm",r.fontWeight,r.fontShape);return Ts(a,C,i,r,s.concat("amsrm",r.fontWeight,r.fontShape))}else if(_==="main"||!_){var I=ny("textrm",r.fontWeight,r.fontShape);return Ts(a,I,i,r,s.concat(r.fontWeight,r.fontShape))}else{var P=ny(_,r.fontWeight,r.fontShape);return Ts(a,P,i,r,s.concat(P,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},Rae=(t,e)=>{if($c(t.classes)!==$c(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},Mae=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof os&&n instanceof os&&Rae(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t},G8=function(e){for(var r=0,n=0,i=0,a=0;a<e.children.length;a++){var s=e.children[a];s.height>r&&(r=s.height),s.depth>n&&(n=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}e.height=r,e.depth=n,e.maxFontSize=i},na=function(e,r,n,i){var a=new ng(e,r,n,i);return G8(a),a},q$=(t,e,r,n)=>new ng(t,e,r,n),Pae=function(e,r,n){var i=na([e],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=Xe(i.height),i.maxFontSize=1,i},Dae=function(e,r,n,i){var a=new H8(e,r,n,i);return G8(a),a},H$=function(e){var r=new rg(e);return G8(r),r},Lae=function(e,r){return e instanceof rg?na([],[e],r):e},Bae=function(e){if(e.positionType==="individualShift"){for(var r=e.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,a=i,s=1;s<r.length;s++){var c=-r[s].shift-a-r[s].elem.depth,u=c-(r[s-1].elem.height+r[s-1].elem.depth);a=a+c,n.push({type:"kern",size:u}),n.push(r[s])}return{children:n,depth:i}}var f;if(e.positionType==="top"){for(var m=e.positionData,g=0;g<e.children.length;g++){var v=e.children[g];m-=v.type==="kern"?v.size:v.elem.height+v.elem.depth}f=m}else if(e.positionType==="bottom")f=-e.positionData;else{var x=e.children[0];if(x.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-x.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-x.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},Uae=function(e,r){for(var{children:n,depth:i}=Bae(e),a=0,s=0;s<n.length;s++){var c=n[s];if(c.type==="elem"){var u=c.elem;a=Math.max(a,u.maxFontSize,u.height)}}a+=2;var f=na(["pstrut"],[]);f.style.height=Xe(a);for(var m=[],g=i,v=i,x=i,T=0;T<n.length;T++){var S=n[T];if(S.type==="kern")x+=S.size;else{var _=S.elem,C=S.wrapperClasses||[],I=S.wrapperStyle||{},P=na(C,[f,_],void 0,I);P.style.top=Xe(-a-x-_.depth),S.marginLeft&&(P.style.marginLeft=S.marginLeft),S.marginRight&&(P.style.marginRight=S.marginRight),m.push(P),x+=_.height+_.depth}g=Math.min(g,x),v=Math.max(v,x)}var V=na(["vlist"],m);V.style.height=Xe(v);var j;if(g<0){var D=na([],[]),A=na(["vlist"],[D]);A.style.height=Xe(-g);var N=na(["vlist-s"],[new os("")]);j=[na(["vlist-r"],[V,N]),na(["vlist-r"],[A])]}else j=[na(["vlist-r"],[V])];var k=na(["vlist-t"],j);return j.length===2&&k.classes.push("vlist-t2"),k.height=v,k.depth=-g,k},zae=(t,e)=>{var r=na(["mspace"],[],e),n=an(t,e);return r.style.marginRight=Xe(n),r},ny=function(e,r,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var a;return r==="textbf"&&n==="textit"?a="BoldItalic":r==="textbf"?a="Bold":r==="textit"?a="Italic":a="Regular",i+"-"+a},G$={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},K$={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Vae=function(e,r){var[n,i,a]=K$[e],s=new Fc(n),c=new dl([s],{width:Xe(i),height:Xe(a),style:"width:"+Xe(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),u=q$(["overlay"],[c],r);return u.height=a,u.style.height=Xe(a),u.style.width=Xe(i),u},be={fontMap:G$,makeSymbol:Ts,mathsym:Cae,makeSpan:na,makeSvgSpan:q$,makeLineSpan:Pae,makeAnchor:Dae,makeFragment:H$,wrapFragment:Lae,makeVList:Uae,makeOrd:jae,makeGlue:zae,staticSvg:Vae,svgData:K$,tryCombineChars:Mae},nn={number:3,unit:"mu"},Eu={number:4,unit:"mu"},zo={number:5,unit:"mu"},$ae={mord:{mop:nn,mbin:Eu,mrel:zo,minner:nn},mop:{mord:nn,mop:nn,mrel:zo,minner:nn},mbin:{mord:Eu,mop:Eu,mopen:Eu,minner:Eu},mrel:{mord:zo,mop:zo,mopen:zo,minner:zo},mopen:{},mclose:{mop:nn,mbin:Eu,mrel:zo,minner:nn},mpunct:{mord:nn,mop:nn,mrel:zo,mopen:nn,mclose:nn,mpunct:nn,minner:nn},minner:{mord:nn,mop:nn,mbin:Eu,mrel:zo,mopen:nn,mpunct:nn,minner:nn}},Fae={mord:{mop:nn},mop:{mord:nn,mop:nn},mbin:{},mrel:{},mopen:{},mclose:{mop:nn},mpunct:{},minner:{mop:nn}},W$={},vv={},bv={};function nt(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,c={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},u=0;u<r.length;++u)W$[r[u]]=c;e&&(a&&(vv[e]=a),s&&(bv[e]=s))}function N0(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;nt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var xv=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},wn=function(e){return e.type==="ordgroup"?e.body:[e]},fl=be.makeSpan,qae=["leftmost","mbin","mopen","mrel","mop","mpunct"],Hae=["rightmost","mrel","mclose","mpunct"],Gae={display:St.DISPLAY,text:St.TEXT,script:St.SCRIPT,scriptscript:St.SCRIPTSCRIPT},Kae={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Vn=function(e,r,n,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<e.length;s++){var c=ar(e[s],r);if(c instanceof rg){var u=c.children;a.push(...u)}else a.push(c)}if(be.tryCombineChars(a),!n)return a;var f=r;if(e.length===1){var m=e[0];m.type==="sizing"?f=r.havingSize(m.size):m.type==="styling"&&(f=r.havingStyle(Gae[m.style]))}var g=fl([i[0]||"leftmost"],[],r),v=fl([i[1]||"rightmost"],[],r),x=n==="root";return lI(a,(T,S)=>{var _=S.classes[0],C=T.classes[0];_==="mbin"&&Hae.includes(C)?S.classes[0]="mord":C==="mbin"&&qae.includes(_)&&(T.classes[0]="mord")},{node:g},v,x),lI(a,(T,S)=>{var _=WS(S),C=WS(T),I=_&&C?T.hasClass("mtight")?Fae[_][C]:$ae[_][C]:null;if(I)return be.makeGlue(I,f)},{node:g},v,x),a},lI=function t(e,r,n,i,a){i&&e.push(i);for(var s=0;s<e.length;s++){var c=e[s],u=X$(c);if(u){t(u.children,r,n,null,a);continue}var f=!c.hasClass("mspace");if(f){var m=r(c,n.node);m&&(n.insertAfter?n.insertAfter(m):(e.unshift(m),s++))}f?n.node=c:a&&c.hasClass("newline")&&(n.node=fl(["leftmost"])),n.insertAfter=(g=>v=>{e.splice(g+1,0,v),s++})(s)}i&&e.pop()},X$=function(e){return e instanceof rg||e instanceof H8||e instanceof ng&&e.hasClass("enclosing")?e:null},Wae=function t(e,r){var n=X$(e);if(n){var i=n.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},WS=function(e,r){return e?(r&&(e=Wae(e,r)),Kae[e.classes[0]]||null):null},ip=function(e,r){var n=["nulldelimiter"].concat(e.baseSizingClasses());return fl(r.concat(n))},ar=function(e,r,n){if(!e)return fl();if(vv[e.type]){var i=vv[e.type](e,r);if(n&&r.size!==n.size){i=fl(r.sizingClasses(n),[i],r);var a=r.sizeMultiplier/n.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new Fe("Got group of unknown type: '"+e.type+"'")};function iy(t,e){var r=fl(["base"],t,e),n=fl(["strut"]);return n.style.height=Xe(r.height+r.depth),r.depth&&(n.style.verticalAlign=Xe(-r.depth)),r.children.unshift(n),r}function XS(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n=Vn(t,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var a=[],s=[],c=0;c<n.length;c++)if(s.push(n[c]),n[c].hasClass("mbin")||n[c].hasClass("mrel")||n[c].hasClass("allowbreak")){for(var u=!1;c<n.length-1&&n[c+1].hasClass("mspace")&&!n[c+1].hasClass("newline");)c++,s.push(n[c]),n[c].hasClass("nobreak")&&(u=!0);u||(a.push(iy(s,e)),s=[])}else n[c].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(iy(s,e)),s=[]),a.push(n[c]));s.length>0&&a.push(iy(s,e));var f;r?(f=iy(Vn(r,e,!0)),f.classes=["tag"],a.push(f)):i&&a.push(i);var m=fl(["katex-html"],a);if(m.setAttribute("aria-hidden","true"),f){var g=f.children[0];g.style.height=Xe(m.height+m.depth),m.depth&&(g.style.verticalAlign=Xe(-m.depth))}return m}function Y$(t){return new rg(t)}class Ea{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=$c(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof Js&&this.children[n+1]instanceof Js){for(var i=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof Js;)i+=this.children[++n].toText();e.appendChild(new Js(i).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=ur.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+ur.escape($c(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Js{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return ur.escape(this.toText())}toText(){return this.text}}class Xae{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Xe(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Xe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ue={MathNode:Ea,TextNode:Js,SpaceNode:Xae,newDocumentFragment:Y$},ls=function(e,r,n){return Ur[r][e]&&Ur[r][e].replace&&e.charCodeAt(0)!==55349&&!(F$.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=Ur[r][e].replace),new Ue.TextNode(e)},K8=function(e){return e.length===1?e[0]:new Ue.MathNode("mrow",e)},W8=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;Ur[i][a]&&Ur[i][a].replace&&(a=Ur[i][a].replace);var s=be.fontMap[n].fontName;return q8(a,s,i)?be.fontMap[n].variant:null};function jw(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Js&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof Js&&r.text===","}else return!1}var ha=function(e,r,n){if(e.length===1){var i=Dr(e[0],r);return n&&i instanceof Ea&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,c=0;c<e.length;c++){var u=Dr(e[c],r);if(u instanceof Ea&&s instanceof Ea){if(u.type==="mtext"&&s.type==="mtext"&&u.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...u.children);continue}else if(u.type==="mn"&&s.type==="mn"){s.children.push(...u.children);continue}else if(jw(u)&&s.type==="mn"){s.children.push(...u.children);continue}else if(u.type==="mn"&&jw(s))u.children=[...s.children,...u.children],a.pop();else if((u.type==="msup"||u.type==="msub")&&u.children.length>=1&&(s.type==="mn"||jw(s))){var f=u.children[0];f instanceof Ea&&f.type==="mn"&&(f.children=[...s.children,...f.children],a.pop())}else if(s.type==="mi"&&s.children.length===1){var m=s.children[0];if(m instanceof Js&&m.text===""&&(u.type==="mo"||u.type==="mi"||u.type==="mn")){var g=u.children[0];g instanceof Js&&g.text.length>0&&(g.text=g.text.slice(0,1)+""+g.text.slice(1),a.pop())}}}a.push(u),s=u}return a},qc=function(e,r,n){return K8(ha(e,r,n))},Dr=function(e,r){if(!e)return new Ue.MathNode("mrow");if(bv[e.type]){var n=bv[e.type](e,r);return n}else throw new Fe("Got group of unknown type: '"+e.type+"'")};function cI(t,e,r,n,i){var a=ha(t,r),s;a.length===1&&a[0]instanceof Ea&&["mrow","mtable"].includes(a[0].type)?s=a[0]:s=new Ue.MathNode("mrow",a);var c=new Ue.MathNode("annotation",[new Ue.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var u=new Ue.MathNode("semantics",[s,c]),f=new Ue.MathNode("math",[u]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&f.setAttribute("display","block");var m=i?"katex":"katex-mathml";return be.makeSpan([m],[f])}var Q$=function(e){return new Ho({style:e.displayMode?St.DISPLAY:St.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Z$=function(e,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),e=be.makeSpan(n,[e])}return e},Yae=function(e,r,n){var i=Q$(n),a;if(n.output==="mathml")return cI(e,r,i,n.displayMode,!0);if(n.output==="html"){var s=XS(e,i);a=be.makeSpan(["katex"],[s])}else{var c=cI(e,r,i,n.displayMode,!1),u=XS(e,i);a=be.makeSpan(["katex"],[c,u])}return Z$(a,n)},Qae=function(e,r,n){var i=Q$(n),a=XS(e,i),s=be.makeSpan(["katex"],[a]);return Z$(s,n)},Zae={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Jae=function(e){var r=new Ue.MathNode("mo",[new Ue.TextNode(Zae[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},ese={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},tse=function(e){return e.type==="ordgroup"?e.body.length:1},rse=function(e,r){function n(){var c=4e5,u=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(u)){var f=e,m=tse(f.base),g,v,x;if(m>5)u==="widehat"||u==="widecheck"?(g=420,c=2364,x=.42,v=u+"4"):(g=312,c=2340,x=.34,v="tilde4");else{var T=[1,1,2,2,3,3][m];u==="widehat"||u==="widecheck"?(c=[0,1062,2364,2364,2364][T],g=[0,239,300,360,420][T],x=[0,.24,.3,.3,.36,.42][T],v=u+T):(c=[0,600,1033,2339,2340][T],g=[0,260,286,306,312][T],x=[0,.26,.286,.3,.306,.34][T],v="tilde"+T)}var S=new Fc(v),_=new dl([S],{width:"100%",height:Xe(x),viewBox:"0 0 "+c+" "+g,preserveAspectRatio:"none"});return{span:be.makeSvgSpan([],[_],r),minWidth:0,height:x}}else{var C=[],I=ese[u],[P,V,j]=I,D=j/1e3,A=P.length,N,k;if(A===1){var $=I[3];N=["hide-tail"],k=[$]}else if(A===2)N=["halfarrow-left","halfarrow-right"],k=["xMinYMin","xMaxYMin"];else if(A===3)N=["brace-left","brace-center","brace-right"],k=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+A+" children.");for(var M=0;M<A;M++){var z=new Fc(P[M]),U=new dl([z],{width:"400em",height:Xe(D),viewBox:"0 0 "+c+" "+j,preserveAspectRatio:k[M]+" slice"}),Y=be.makeSvgSpan([N[M]],[U],r);if(A===1)return{span:Y,minWidth:V,height:D};Y.style.height=Xe(D),C.push(Y)}return{span:be.makeSpan(["stretchy"],C,r),minWidth:V,height:D}}}var{span:i,minWidth:a,height:s}=n();return i.height=s,i.style.height=Xe(s),a>0&&(i.style.minWidth=Xe(a)),i},nse=function(e,r,n,i,a){var s,c=e.height+e.depth+n+i;if(/fbox|color|angl/.test(r)){if(s=be.makeSpan(["stretchy",r],[],a),r==="fbox"){var u=a.color&&a.getColor();u&&(s.style.borderColor=u)}}else{var f=[];/^[bx]cancel$/.test(r)&&f.push(new GS({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&f.push(new GS({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new dl(f,{width:"100%",height:Xe(c)});s=be.makeSvgSpan([],[m],a)}return s.height=c,s.style.height=Xe(c),s},ml={encloseSpan:nse,mathMLnode:Jae,svgSpan:rse};function Ut(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function X8(t){var e=hx(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function hx(t){return t&&(t.type==="atom"||Oae.hasOwnProperty(t.type))?t:null}var Y8=(t,e)=>{var r,n,i;t&&t.type==="supsub"?(n=Ut(t.base,"accent"),r=n.base,t.base=r,i=Eae(ar(t,e)),t.base=n):(n=Ut(t,"accent"),r=n.base);var a=ar(r,e.havingCrampedStyle()),s=n.isShifty&&ur.isCharacterBox(r),c=0;if(s){var u=ur.getBaseElem(r),f=ar(u,e.havingCrampedStyle());c=rI(f).skew}var m=n.label==="\\c",g=m?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),v;if(n.isStretchy)v=ml.svgSpan(n,e),v=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:v,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+Xe(2*c)+")",marginLeft:Xe(2*c)}:void 0}]},e);else{var x,T;n.label==="\\vec"?(x=be.staticSvg("vec",e),T=be.svgData.vec[1]):(x=be.makeOrd({mode:n.mode,text:n.label},e,"textord"),x=rI(x),x.italic=0,T=x.width,m&&(g+=x.depth)),v=be.makeSpan(["accent-body"],[x]);var S=n.label==="\\textcircled";S&&(v.classes.push("accent-full"),g=a.height);var _=c;S||(_-=T/2),v.style.left=Xe(_),n.label==="\\textcircled"&&(v.style.top=".2em"),v=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-g},{type:"elem",elem:v}]},e)}var C=be.makeSpan(["mord","accent"],[v],e);return i?(i.children[0]=C,i.height=Math.max(C.height,i.height),i.classes[0]="mord",i):C},J$=(t,e)=>{var r=t.isStretchy?ml.mathMLnode(t.label):new Ue.MathNode("mo",[ls(t.label,t.mode)]),n=new Ue.MathNode("mover",[Dr(t.base,e),r]);return n.setAttribute("accent","true"),n},ise=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));nt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=xv(e[0]),n=!ise.test(t.funcName),i=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:Y8,mathmlBuilder:J$});nt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:Y8,mathmlBuilder:J$});nt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(t,e)=>{var r=ar(t.base,e),n=ml.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,a=be.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return be.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var r=ml.mathMLnode(t.label),n=new Ue.MathNode("munder",[Dr(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var ay=t=>{var e=new Ue.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};nt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:i}=t;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,n=e.havingStyle(r.sup()),i=be.wrapFragment(ar(t.body,n,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;t.below&&(n=e.havingStyle(r.sub()),s=be.wrapFragment(ar(t.below,n,e),e),s.classes.push(a+"-arrow-pad"));var c=ml.svgSpan(t,e),u=-e.fontMetrics().axisHeight+.5*c.height,f=-e.fontMetrics().axisHeight-.5*c.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(f-=i.depth);var m;if(s){var g=-e.fontMetrics().axisHeight+s.height+.5*c.height+.111;m=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:c,shift:u},{type:"elem",elem:s,shift:g}]},e)}else m=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:c,shift:u}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),be.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(t,e){var r=ml.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var i=ay(Dr(t.body,e));if(t.below){var a=ay(Dr(t.below,e));n=new Ue.MathNode("munderover",[r,a,i])}else n=new Ue.MathNode("mover",[r,i])}else if(t.below){var s=ay(Dr(t.below,e));n=new Ue.MathNode("munder",[r,s])}else n=ay(),n=new Ue.MathNode("mover",[r,n]);return n}});var ase=be.makeSpan;function eF(t,e){var r=Vn(t.body,e,!0);return ase([t.mclass],r,e)}function tF(t,e){var r,n=ha(t.body,e);return t.mclass==="minner"?r=new Ue.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0],r.type="mi"):r=new Ue.MathNode("mi",n):(t.isCharacterBox?(r=n[0],r.type="mo"):r=new Ue.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}nt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:wn(i),isCharacterBox:ur.isCharacterBox(i)}},htmlBuilder:eF,mathmlBuilder:tF});var dx=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};nt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:dx(e[0]),body:wn(e[1]),isCharacterBox:ur.isCharacterBox(e[1])}}});nt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:n}=t,i=e[1],a=e[0],s;n!=="\\stackrel"?s=dx(i):s="mrel";var c={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:wn(i)},u={type:"supsub",mode:a.mode,base:c,sup:n==="\\underset"?null:a,sub:n==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:s,body:[u],isCharacterBox:ur.isCharacterBox(u)}},htmlBuilder:eF,mathmlBuilder:tF});nt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:dx(e[0]),body:wn(e[0])}},htmlBuilder(t,e){var r=Vn(t.body,e,!0),n=be.makeSpan([t.mclass],r,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(t,e){var r=ha(t.body,e),n=new Ue.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var sse={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},uI=()=>({type:"styling",body:[],mode:"math",style:"display"}),hI=t=>t.type==="textord"&&t.text==="@",ose=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function lse(t,e,r){var n=sse[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:n,mode:"math",family:"rel"},s=r.callFunction("\\Big",[a],[]),c=r.callFunction("\\\\cdright",[e[1]],[]),u={type:"ordgroup",mode:"math",body:[i,s,c]};return r.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function cse(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Fe("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],i=[n],a=0;a<e.length;a++){for(var s=e[a],c=uI(),u=0;u<s.length;u++)if(!hI(s[u]))c.body.push(s[u]);else{n.push(c),u+=1;var f=X8(s[u]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var g=0;g<2;g++){for(var v=!0,x=u+1;x<s.length;x++){if(ose(s[x],f)){v=!1,u=x;break}if(hI(s[x]))throw new Fe("Missing a "+f+" character to complete a CD arrow.",s[x]);m[g].body.push(s[x])}if(v)throw new Fe("Missing a "+f+" character to complete a CD arrow.",s[u])}else throw new Fe('Expected one of "<>AV=|." after @',s[u]);var T=lse(f,m,t),S={type:"styling",body:[T],mode:"math",style:"display"};n.push(S),c=uI()}a%2===0?n.push(c):n.shift(),n=[],i.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var _=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:_,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}nt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=be.wrapFragment(ar(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=Xe(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new Ue.MathNode("mrow",[Dr(t.label,e)]);return r=new Ue.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new Ue.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});nt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=be.wrapFragment(ar(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new Ue.MathNode("mrow",[Dr(t.fragment,e)])}});nt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=Ut(e[0],"ordgroup"),i=n.body,a="",s=0;s<i.length;s++){var c=Ut(i[s],"textord");a+=c.text}var u=parseInt(a),f;if(isNaN(u))throw new Fe("\\@char has non-numeric argument "+a);if(u<0||u>=1114111)throw new Fe("\\@char with invalid code point "+a);return u<=65535?f=String.fromCharCode(u):(u-=65536,f=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:r.mode,text:f}}});var rF=(t,e)=>{var r=Vn(t.body,e.withColor(t.color),!1);return be.makeFragment(r)},nF=(t,e)=>{var r=ha(t.body,e.withColor(t.color)),n=new Ue.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};nt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=Ut(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:n,body:wn(i)}},htmlBuilder:rF,mathmlBuilder:nF});nt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,i=Ut(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var a=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:a}},htmlBuilder:rF,mathmlBuilder:nF});nt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:n}=t,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:i&&Ut(i,"size").value}},htmlBuilder(t,e){var r=be.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=Xe(an(t.size,e)))),r},mathmlBuilder(t,e){var r=new Ue.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",Xe(an(t.size,e)))),r}});var YS={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},iF=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Fe("Expected a control sequence",t);return e},use=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},aF=(t,e,r,n)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,n)};nt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(YS[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=YS[n.text]),Ut(e.parseFunction(),"internal");throw new Fe("Invalid token after macro prefix",n)}});nt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Fe("Expected a control sequence",n);for(var a=0,s,c=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),c[a].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new Fe('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new Fe('Argument number "'+n.text+'" out of order');a++,c.push([])}else{if(n.text==="EOF")throw new Fe("Expected a macro definition");c[a].push(n.text)}var{tokens:u}=e.gullet.consumeArg();return s&&u.unshift(s),(r==="\\edef"||r==="\\xdef")&&(u=e.gullet.expandTokens(u),u.reverse()),e.gullet.macros.set(i,{tokens:u,numArgs:a,delimiters:c},r===YS[r]),{type:"internal",mode:e.mode}}});nt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=iF(e.gullet.popToken());e.gullet.consumeSpaces();var i=use(e);return aF(e,n,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});nt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=iF(e.gullet.popToken()),i=e.gullet.popToken(),a=e.gullet.popToken();return aF(e,n,a,r==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var ym=function(e,r,n){var i=Ur.math[e]&&Ur.math[e].replace,a=q8(i||e,r,n);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return a},Q8=function(e,r,n,i){var a=n.havingBaseStyle(r),s=be.makeSpan(i.concat(a.sizingClasses(n)),[e],n),c=a.sizeMultiplier/n.sizeMultiplier;return s.height*=c,s.depth*=c,s.maxFontSize=a.sizeMultiplier,s},sF=function(e,r,n){var i=r.havingBaseStyle(n),a=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Xe(a),e.height-=a,e.depth+=a},hse=function(e,r,n,i,a,s){var c=be.makeSymbol(e,"Main-Regular",a,i),u=Q8(c,r,i,s);return n&&sF(u,i,r),u},dse=function(e,r,n,i){return be.makeSymbol(e,"Size"+r+"-Regular",n,i)},oF=function(e,r,n,i,a,s){var c=dse(e,r,a,i),u=Q8(be.makeSpan(["delimsizing","size"+r],[c],i),St.TEXT,i,s);return n&&sF(u,i,St.TEXT),u},Rw=function(e,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=be.makeSpan(["delimsizinginner",i],[be.makeSpan([],[be.makeSymbol(e,r,n)])]);return{type:"elem",elem:a}},Mw=function(e,r,n){var i=Zs["Size4-Regular"][e.charCodeAt(0)]?Zs["Size4-Regular"][e.charCodeAt(0)][4]:Zs["Size1-Regular"][e.charCodeAt(0)][4],a=new Fc("inner",yae(e,Math.round(1e3*r))),s=new dl([a],{width:Xe(i),height:Xe(r),style:"width:"+Xe(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),c=be.makeSvgSpan([],[s],n);return c.height=r,c.style.height=Xe(r),c.style.width=Xe(i),{type:"elem",elem:c}},QS=.008,sy={type:"kern",size:-1*QS},fse=["|","\\lvert","\\rvert","\\vert"],mse=["\\|","\\lVert","\\rVert","\\Vert"],lF=function(e,r,n,i,a,s){var c,u,f,m,g="",v=0;c=f=m=e,u=null;var x="Size1-Regular";e==="\\uparrow"?f=m="":e==="\\Uparrow"?f=m="":e==="\\downarrow"?c=f="":e==="\\Downarrow"?c=f="":e==="\\updownarrow"?(c="\\uparrow",f="",m="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",f="",m="\\Downarrow"):fse.includes(e)?(f="",g="vert",v=333):mse.includes(e)?(f="",g="doublevert",v=556):e==="["||e==="\\lbrack"?(c="",f="",m="",x="Size4-Regular",g="lbrack",v=667):e==="]"||e==="\\rbrack"?(c="",f="",m="",x="Size4-Regular",g="rbrack",v=667):e==="\\lfloor"||e===""?(f=c="",m="",x="Size4-Regular",g="lfloor",v=667):e==="\\lceil"||e===""?(c="",f=m="",x="Size4-Regular",g="lceil",v=667):e==="\\rfloor"||e===""?(f=c="",m="",x="Size4-Regular",g="rfloor",v=667):e==="\\rceil"||e===""?(c="",f=m="",x="Size4-Regular",g="rceil",v=667):e==="("||e==="\\lparen"?(c="",f="",m="",x="Size4-Regular",g="lparen",v=875):e===")"||e==="\\rparen"?(c="",f="",m="",x="Size4-Regular",g="rparen",v=875):e==="\\{"||e==="\\lbrace"?(c="",u="",m="",f="",x="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",u="",m="",f="",x="Size4-Regular"):e==="\\lgroup"||e===""?(c="",m="",f="",x="Size4-Regular"):e==="\\rgroup"||e===""?(c="",m="",f="",x="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",m="",f="",x="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",m="",f="",x="Size4-Regular");var T=ym(c,x,a),S=T.height+T.depth,_=ym(f,x,a),C=_.height+_.depth,I=ym(m,x,a),P=I.height+I.depth,V=0,j=1;if(u!==null){var D=ym(u,x,a);V=D.height+D.depth,j=2}var A=S+P+V,N=Math.max(0,Math.ceil((r-A)/(j*C))),k=A+N*j*C,$=i.fontMetrics().axisHeight;n&&($*=i.sizeMultiplier);var M=k/2-$,z=[];if(g.length>0){var U=k-S-P,Y=Math.round(k*1e3),ee=vae(g,Math.round(U*1e3)),K=new Fc(g,ee),J=(v/1e3).toFixed(3)+"em",Q=(Y/1e3).toFixed(3)+"em",fe=new dl([K],{width:J,height:Q,viewBox:"0 0 "+v+" "+Y}),ie=be.makeSvgSpan([],[fe],i);ie.height=Y/1e3,ie.style.width=J,ie.style.height=Q,z.push({type:"elem",elem:ie})}else{if(z.push(Rw(m,x,a)),z.push(sy),u===null){var W=k-S-P+2*QS;z.push(Mw(f,W,i))}else{var Z=(k-S-P-V)/2+2*QS;z.push(Mw(f,Z,i)),z.push(sy),z.push(Rw(u,x,a)),z.push(sy),z.push(Mw(f,Z,i))}z.push(sy),z.push(Rw(c,x,a))}var ue=i.havingBaseStyle(St.TEXT),Oe=be.makeVList({positionType:"bottom",positionData:M,children:z},ue);return Q8(be.makeSpan(["delimsizing","mult"],[Oe],ue),St.TEXT,i,s)},Pw=80,Dw=.08,Lw=function(e,r,n,i,a){var s=gae(e,i,n),c=new Fc(e,s),u=new dl([c],{width:"400em",height:Xe(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return be.makeSvgSpan(["hide-tail"],[u],a)},pse=function(e,r){var n=r.havingBaseSizing(),i=dF("\\surd",e*n.sizeMultiplier,hF,n),a=n.sizeMultiplier,s=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),c,u=0,f=0,m=0,g;return i.type==="small"?(m=1e3+1e3*s+Pw,e<1?a=1:e<1.4&&(a=.7),u=(1+s+Dw)/a,f=(1+s)/a,c=Lw("sqrtMain",u,m,s,r),c.style.minWidth="0.853em",g=.833/a):i.type==="large"?(m=(1e3+Pw)*Cm[i.size],f=(Cm[i.size]+s)/a,u=(Cm[i.size]+s+Dw)/a,c=Lw("sqrtSize"+i.size,u,m,s,r),c.style.minWidth="1.02em",g=1/a):(u=e+s+Dw,f=e+s,m=Math.floor(1e3*e+s)+Pw,c=Lw("sqrtTall",u,m,s,r),c.style.minWidth="0.742em",g=1.056),c.height=f,c.style.height=Xe(u),{span:c,advanceWidth:g,ruleWidth:(r.fontMetrics().sqrtRuleThickness+s)*a}},cF=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],gse=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],uF=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Cm=[0,1.2,1.8,2.4,3],yse=function(e,r,n,i,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),cF.includes(e)||uF.includes(e))return oF(e,r,!1,n,i,a);if(gse.includes(e))return lF(e,Cm[r],!1,n,i,a);throw new Fe("Illegal delimiter: '"+e+"'")},vse=[{type:"small",style:St.SCRIPTSCRIPT},{type:"small",style:St.SCRIPT},{type:"small",style:St.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],bse=[{type:"small",style:St.SCRIPTSCRIPT},{type:"small",style:St.SCRIPT},{type:"small",style:St.TEXT},{type:"stack"}],hF=[{type:"small",style:St.SCRIPTSCRIPT},{type:"small",style:St.SCRIPT},{type:"small",style:St.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],xse=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},dF=function(e,r,n,i){for(var a=Math.min(2,3-i.style.size),s=a;s<n.length&&n[s].type!=="stack";s++){var c=ym(e,xse(n[s]),"math"),u=c.height+c.depth;if(n[s].type==="small"){var f=i.havingBaseStyle(n[s].style);u*=f.sizeMultiplier}if(u>r)return n[s]}return n[n.length-1]},fF=function(e,r,n,i,a,s){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;uF.includes(e)?c=vse:cF.includes(e)?c=hF:c=bse;var u=dF(e,r,c,i);return u.type==="small"?hse(e,u.style,n,i,a,s):u.type==="large"?oF(e,u.size,n,i,a,s):lF(e,r,n,i,a,s)},wse=function(e,r,n,i,a,s){var c=i.fontMetrics().axisHeight*i.sizeMultiplier,u=901,f=5/i.fontMetrics().ptPerEm,m=Math.max(r-c,n+c),g=Math.max(m/500*u,2*m-f);return fF(e,g,!0,i,a,s)},nl={sqrtImage:pse,sizedDelim:yse,sizeToMaxHeight:Cm,customSizedDelim:fF,leftRightDelim:wse},dI={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},_se=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function fx(t,e){var r=hx(t);if(r&&_se.includes(r.text))return r;throw r?new Fe("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new Fe("Invalid delimiter type '"+t.type+"'",t)}nt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=fx(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:dI[t.funcName].size,mclass:dI[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?be.makeSpan([t.mclass]):nl.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(ls(t.delim,t.mode));var r=new Ue.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=Xe(nl.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function fI(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}nt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new Fe("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:fx(e[0],t).text,color:r}}});nt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=fx(e[0],t),n=t.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=Ut(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{fI(t);for(var r=Vn(t.body,e,!0,["mopen","mclose"]),n=0,i=0,a=!1,s=0;s<r.length;s++)r[s].isMiddle?a=!0:(n=Math.max(r[s].height,n),i=Math.max(r[s].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var c;if(t.left==="."?c=ip(e,["mopen"]):c=nl.leftRightDelim(t.left,n,i,e,t.mode,["mopen"]),r.unshift(c),a)for(var u=1;u<r.length;u++){var f=r[u],m=f.isMiddle;m&&(r[u]=nl.leftRightDelim(m.delim,n,i,m.options,t.mode,[]))}var g;if(t.right===".")g=ip(e,["mclose"]);else{var v=t.rightColor?e.withColor(t.rightColor):e;g=nl.leftRightDelim(t.right,n,i,v,t.mode,["mclose"])}return r.push(g),be.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{fI(t);var r=ha(t.body,e);if(t.left!=="."){var n=new Ue.MathNode("mo",[ls(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var i=new Ue.MathNode("mo",[ls(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return K8(r)}});nt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=fx(e[0],t);if(!t.parser.leftrightDepth)throw new Fe("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=ip(e,[]);else{r=nl.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?ls("|","text"):ls(t.delim,t.mode),n=new Ue.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var Z8=(t,e)=>{var r=be.wrapFragment(ar(t.body,e),e),n=t.label.slice(1),i=e.sizeMultiplier,a,s=0,c=ur.isCharacterBox(t.body);if(n==="sout")a=be.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/i,s=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var u=an({number:.6,unit:"pt"},e),f=an({number:.35,unit:"ex"},e),m=e.havingBaseSizing();i=i/m.sizeMultiplier;var g=r.height+r.depth+u+f;r.style.paddingLeft=Xe(g/2+u);var v=Math.floor(1e3*g*i),x=mae(v),T=new dl([new Fc("phase",x)],{width:"400em",height:Xe(v/1e3),viewBox:"0 0 400000 "+v,preserveAspectRatio:"xMinYMin slice"});a=be.makeSvgSpan(["hide-tail"],[T],e),a.style.height=Xe(g),s=r.depth+u+f}else{/cancel/.test(n)?c||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var S=0,_=0,C=0;/box/.test(n)?(C=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),S=e.fontMetrics().fboxsep+(n==="colorbox"?0:C),_=S):n==="angl"?(C=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),S=4*C,_=Math.max(0,.25-r.depth)):(S=c?.2:0,_=S),a=ml.encloseSpan(r,n,S,_,e),/fbox|boxed|fcolorbox/.test(n)?(a.style.borderStyle="solid",a.style.borderWidth=Xe(C)):n==="angl"&&C!==.049&&(a.style.borderTopWidth=Xe(C),a.style.borderRightWidth=Xe(C)),s=r.depth+_,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var I;if(t.backgroundColor)I=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:r,shift:0}]},e);else{var P=/cancel|phase/.test(n)?["svg-align"]:[];I=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:P}]},e)}return/cancel/.test(n)&&(I.height=r.height,I.depth=r.depth),/cancel/.test(n)&&!c?be.makeSpan(["mord","cancel-lap"],[I],e):be.makeSpan(["mord"],[I],e)},J8=(t,e)=>{var r=0,n=new Ue.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Dr(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};nt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,a=Ut(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:Z8,mathmlBuilder:J8});nt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,a=Ut(e[0],"color-token").color,s=Ut(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,borderColor:a,body:c}},htmlBuilder:Z8,mathmlBuilder:J8});nt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});nt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:Z8,mathmlBuilder:J8});nt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var mF={};function mo(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,c={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},u=0;u<r.length;++u)mF[r[u]]=c;a&&(vv[e]=a),s&&(bv[e]=s)}var pF={};function G(t,e){pF[t]=e}function mI(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var mx=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Fe("{"+t.envName+"} can be used only in display mode.")};function eA(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Kc(t,e,r){var{hskipBeforeAndAfter:n,addJot:i,cols:a,arraystretch:s,colSeparationType:c,autoTag:u,singleRow:f,emptySingleRow:m,maxNumCols:g,leqno:v}=e;if(t.gullet.beginGroup(),f||t.gullet.macros.set("\\cr","\\\\\\relax"),!s){var x=t.gullet.expandMacroAsText("\\arraystretch");if(x==null)s=1;else if(s=parseFloat(x),!s||s<0)throw new Fe("Invalid \\arraystretch: "+x)}t.gullet.beginGroup();var T=[],S=[T],_=[],C=[],I=u!=null?[]:void 0;function P(){u&&t.gullet.macros.set("\\@eqnsw","1",!0)}function V(){I&&(t.gullet.macros.get("\\df@tag")?(I.push(t.subparse([new ja("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):I.push(!!u&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(P(),C.push(mI(t));;){var j=t.parseExpression(!1,f?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),j={type:"ordgroup",mode:t.mode,body:j},r&&(j={type:"styling",mode:t.mode,style:r,body:[j]}),T.push(j);var D=t.fetch().text;if(D==="&"){if(g&&T.length===g){if(f||c)throw new Fe("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(D==="\\end"){V(),T.length===1&&j.type==="styling"&&j.body[0].body.length===0&&(S.length>1||!m)&&S.pop(),C.length<S.length+1&&C.push([]);break}else if(D==="\\\\"){t.consume();var A=void 0;t.gullet.future().text!==" "&&(A=t.parseSizeGroup(!0)),_.push(A?A.value:null),V(),C.push(mI(t)),T=[],S.push(T),P()}else throw new Fe("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:s,body:S,cols:a,rowGaps:_,hskipBeforeAndAfter:n,hLinesBeforeRow:C,colSeparationType:c,tags:I,leqno:v}}function tA(t){return t.slice(0,1)==="d"?"display":"text"}var po=function(e,r){var n,i,a=e.body.length,s=e.hLinesBeforeRow,c=0,u=new Array(a),f=[],m=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),g=1/r.fontMetrics().ptPerEm,v=5*g;if(e.colSeparationType&&e.colSeparationType==="small"){var x=r.havingStyle(St.SCRIPT).sizeMultiplier;v=.2778*(x/r.sizeMultiplier)}var T=e.colSeparationType==="CD"?an({number:3,unit:"ex"},r):12*g,S=3*g,_=e.arraystretch*T,C=.7*_,I=.3*_,P=0;function V(je){for(var le=0;le<je.length;++le)le>0&&(P+=.25),f.push({pos:P,isDashed:je[le]})}for(V(s[0]),n=0;n<e.body.length;++n){var j=e.body[n],D=C,A=I;c<j.length&&(c=j.length);var N=new Array(j.length);for(i=0;i<j.length;++i){var k=ar(j[i],r);A<k.depth&&(A=k.depth),D<k.height&&(D=k.height),N[i]=k}var $=e.rowGaps[n],M=0;$&&(M=an($,r),M>0&&(M+=I,A<M&&(A=M),M=0)),e.addJot&&(A+=S),N.height=D,N.depth=A,P+=D,N.pos=P,P+=A+M,u[n]=N,V(s[n+1])}var z=P/2+r.fontMetrics().axisHeight,U=e.cols||[],Y=[],ee,K,J=[];if(e.tags&&e.tags.some(je=>je))for(n=0;n<a;++n){var Q=u[n],fe=Q.pos-z,ie=e.tags[n],W=void 0;ie===!0?W=be.makeSpan(["eqn-num"],[],r):ie===!1?W=be.makeSpan([],[],r):W=be.makeSpan([],Vn(ie,r,!0),r),W.depth=Q.depth,W.height=Q.height,J.push({type:"elem",elem:W,shift:fe})}for(i=0,K=0;i<c||K<U.length;++i,++K){for(var Z=U[K]||{},ue=!0;Z.type==="separator";){if(ue||(ee=be.makeSpan(["arraycolsep"],[]),ee.style.width=Xe(r.fontMetrics().doubleRuleSep),Y.push(ee)),Z.separator==="|"||Z.separator===":"){var Oe=Z.separator==="|"?"solid":"dashed",se=be.makeSpan(["vertical-separator"],[],r);se.style.height=Xe(P),se.style.borderRightWidth=Xe(m),se.style.borderRightStyle=Oe,se.style.margin="0 "+Xe(-m/2);var ke=P-z;ke&&(se.style.verticalAlign=Xe(-ke)),Y.push(se)}else throw new Fe("Invalid separator type: "+Z.separator);K++,Z=U[K]||{},ue=!1}if(!(i>=c)){var Me=void 0;(i>0||e.hskipBeforeAndAfter)&&(Me=ur.deflt(Z.pregap,v),Me!==0&&(ee=be.makeSpan(["arraycolsep"],[]),ee.style.width=Xe(Me),Y.push(ee)));var et=[];for(n=0;n<a;++n){var Ae=u[n],qe=Ae[i];if(qe){var he=Ae.pos-z;qe.depth=Ae.depth,qe.height=Ae.height,et.push({type:"elem",elem:qe,shift:he})}}et=be.makeVList({positionType:"individualShift",children:et},r),et=be.makeSpan(["col-align-"+(Z.align||"c")],[et]),Y.push(et),(i<c-1||e.hskipBeforeAndAfter)&&(Me=ur.deflt(Z.postgap,v),Me!==0&&(ee=be.makeSpan(["arraycolsep"],[]),ee.style.width=Xe(Me),Y.push(ee)))}}if(u=be.makeSpan(["mtable"],Y),f.length>0){for(var pe=be.makeLineSpan("hline",r,m),Ge=be.makeLineSpan("hdashline",r,m),$e=[{type:"elem",elem:u,shift:0}];f.length>0;){var it=f.pop(),lt=it.pos-z;it.isDashed?$e.push({type:"elem",elem:Ge,shift:lt}):$e.push({type:"elem",elem:pe,shift:lt})}u=be.makeVList({positionType:"individualShift",children:$e},r)}if(J.length===0)return be.makeSpan(["mord"],[u],r);var er=be.makeVList({positionType:"individualShift",children:J},r);return er=be.makeSpan(["tag"],[er],r),be.makeFragment([u,er])},Sse={c:"center ",l:"left ",r:"right "},go=function(e,r){for(var n=[],i=new Ue.MathNode("mtd",[],["mtr-glue"]),a=new Ue.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var c=e.body[s],u=[],f=0;f<c.length;f++)u.push(new Ue.MathNode("mtd",[Dr(c[f],r)]));e.tags&&e.tags[s]&&(u.unshift(i),u.push(i),e.leqno?u.unshift(a):u.push(a)),n.push(new Ue.MathNode("mtr",u))}var m=new Ue.MathNode("mtable",n),g=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",Xe(g));var v="",x="";if(e.cols&&e.cols.length>0){var T=e.cols,S="",_=!1,C=0,I=T.length;T[0].type==="separator"&&(v+="top ",C=1),T[T.length-1].type==="separator"&&(v+="bottom ",I-=1);for(var P=C;P<I;P++)T[P].type==="align"?(x+=Sse[T[P].align],_&&(S+="none "),_=!0):T[P].type==="separator"&&_&&(S+=T[P].separator==="|"?"solid ":"dashed ",_=!1);m.setAttribute("columnalign",x.trim()),/[sd]/.test(S)&&m.setAttribute("columnlines",S.trim())}if(e.colSeparationType==="align"){for(var V=e.cols||[],j="",D=1;D<V.length;D++)j+=D%2?"0em ":"1em ";m.setAttribute("columnspacing",j.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var A="",N=e.hLinesBeforeRow;v+=N[0].length>0?"left ":"",v+=N[N.length-1].length>0?"right ":"";for(var k=1;k<N.length-1;k++)A+=N[k].length===0?"none ":N[k][0]?"dashed ":"solid ";return/[sd]/.test(A)&&m.setAttribute("rowlines",A.trim()),v!==""&&(m=new Ue.MathNode("menclose",[m]),m.setAttribute("notation",v.trim())),e.arraystretch&&e.arraystretch<1&&(m=new Ue.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},gF=function(e,r){e.envName.indexOf("ed")===-1&&mx(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=Kc(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:eA(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),c,u=0,f={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var m="",g=0;g<r[0].body.length;g++){var v=Ut(r[0].body[g],"textord");m+=v.text}c=Number(m),u=c*2}var x=!u;s.body.forEach(function(C){for(var I=1;I<C.length;I+=2){var P=Ut(C[I],"styling"),V=Ut(P.body[0],"ordgroup");V.body.unshift(f)}if(x)u<C.length&&(u=C.length);else{var j=C.length/2;if(c<j)throw new Fe("Too many math in a row: "+("expected "+c+", but got "+j),C[0])}});for(var T=0;T<u;++T){var S="r",_=0;T%2===1?S="l":T>0&&x&&(_=1),n[T]={type:"align",align:S,pregap:_,postgap:0}}return s.colSeparationType=x?"align":"alignat",s};mo({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=hx(e[0]),n=r?[e[0]]:Ut(e[0],"ordgroup").body,i=n.map(function(s){var c=X8(s),u=c.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new Fe("Unknown column alignment: "+u,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Kc(t.parser,a,tA(t.envName))},htmlBuilder:po,mathmlBuilder:go});mo({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new Fe("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var a=Kc(t.parser,n,tA(t.envName)),s=Math.max(0,...a.body.map(c=>c.length));return a.cols=new Array(s).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:po,mathmlBuilder:go});mo({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=Kc(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:po,mathmlBuilder:go});mo({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=hx(e[0]),n=r?[e[0]]:Ut(e[0],"ordgroup").body,i=n.map(function(s){var c=X8(s),u=c.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new Fe("Unknown column alignment: "+u,s)});if(i.length>1)throw new Fe("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Kc(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new Fe("{subarray} can contain only one column");return a},htmlBuilder:po,mathmlBuilder:go});mo({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Kc(t.parser,e,tA(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:po,mathmlBuilder:go});mo({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:gF,htmlBuilder:po,mathmlBuilder:go});mo({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&mx(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:eA(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Kc(t.parser,e,"display")},htmlBuilder:po,mathmlBuilder:go});mo({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:gF,htmlBuilder:po,mathmlBuilder:go});mo({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){mx(t);var e={autoTag:eA(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Kc(t.parser,e,"display")},htmlBuilder:po,mathmlBuilder:go});mo({type:"array",names:["CD"],props:{numArgs:0},handler(t){return mx(t),cse(t.parser)},htmlBuilder:po,mathmlBuilder:go});G("\\nonumber","\\gdef\\@eqnsw{0}");G("\\notag","\\nonumber");nt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Fe(t.funcName+" valid only within array environment")}});var pI=mF;nt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];if(i.type!=="ordgroup")throw new Fe("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=Ut(i.body[s],"textord").text;if(n==="\\begin"){if(!pI.hasOwnProperty(a))throw new Fe("No such environment: "+a,i);var c=pI[a],{args:u,optArgs:f}=r.parseArguments("\\begin{"+a+"}",c),m={mode:r.mode,envName:a,parser:r},g=c.handler(m,u,f);r.expect("\\end",!1);var v=r.nextToken,x=Ut(r.parseFunction(),"environment");if(x.name!==a)throw new Fe("Mismatch: \\begin{"+a+"} matched by \\end{"+x.name+"}",v);return g}return{type:"environment",mode:r.mode,name:a,nameGroup:i}}});var yF=(t,e)=>{var r=t.font,n=e.withFont(r);return ar(t.body,n)},vF=(t,e)=>{var r=t.font,n=e.withFont(r);return Dr(t.body,n)},gI={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};nt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=xv(e[0]),a=n;return a in gI&&(a=gI[a]),{type:"font",mode:r.mode,font:a.slice(1),body:i}},htmlBuilder:yF,mathmlBuilder:vF});nt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],i=ur.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:dx(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});nt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:i}=t,{mode:a}=r,s=r.parseExpression(!0,i),c="math"+n.slice(1);return{type:"font",mode:a,font:c,body:{type:"ordgroup",mode:r.mode,body:s}}},htmlBuilder:yF,mathmlBuilder:vF});var bF=(t,e)=>{var r=e;return t==="display"?r=r.id>=St.SCRIPT.id?r.text():St.DISPLAY:t==="text"&&r.size===St.DISPLAY.size?r=St.TEXT:t==="script"?r=St.SCRIPT:t==="scriptscript"&&(r=St.SCRIPTSCRIPT),r},rA=(t,e)=>{var r=bF(t.size,e.style),n=r.fracNum(),i=r.fracDen(),a;a=e.havingStyle(n);var s=ar(t.numer,a,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,u=3.5/e.fontMetrics().ptPerEm;s.height=s.height<c?c:s.height,s.depth=s.depth<u?u:s.depth}a=e.havingStyle(i);var f=ar(t.denom,a,e),m,g,v;t.hasBarLine?(t.barSize?(g=an(t.barSize,e),m=be.makeLineSpan("frac-line",e,g)):m=be.makeLineSpan("frac-line",e),g=m.height,v=m.height):(m=null,g=0,v=e.fontMetrics().defaultRuleThickness);var x,T,S;r.size===St.DISPLAY.size||t.size==="display"?(x=e.fontMetrics().num1,g>0?T=3*v:T=7*v,S=e.fontMetrics().denom1):(g>0?(x=e.fontMetrics().num2,T=v):(x=e.fontMetrics().num3,T=3*v),S=e.fontMetrics().denom2);var _;if(m){var I=e.fontMetrics().axisHeight;x-s.depth-(I+.5*g)<T&&(x+=T-(x-s.depth-(I+.5*g))),I-.5*g-(f.height-S)<T&&(S+=T-(I-.5*g-(f.height-S)));var P=-(I-.5*g);_=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:m,shift:P},{type:"elem",elem:s,shift:-x}]},e)}else{var C=x-s.depth-(f.height-S);C<T&&(x+=.5*(T-C),S+=.5*(T-C)),_=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:s,shift:-x}]},e)}a=e.havingStyle(r),_.height*=a.sizeMultiplier/e.sizeMultiplier,_.depth*=a.sizeMultiplier/e.sizeMultiplier;var V;r.size===St.DISPLAY.size?V=e.fontMetrics().delim1:r.size===St.SCRIPTSCRIPT.size?V=e.havingStyle(St.SCRIPT).fontMetrics().delim2:V=e.fontMetrics().delim2;var j,D;return t.leftDelim==null?j=ip(e,["mopen"]):j=nl.customSizedDelim(t.leftDelim,V,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?D=be.makeSpan([]):t.rightDelim==null?D=ip(e,["mclose"]):D=nl.customSizedDelim(t.rightDelim,V,!0,e.havingStyle(r),t.mode,["mclose"]),be.makeSpan(["mord"].concat(a.sizingClasses(e)),[j,be.makeSpan(["mfrac"],[_]),D],e)},nA=(t,e)=>{var r=new Ue.MathNode("mfrac",[Dr(t.numer,e),Dr(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var n=an(t.barSize,e);r.setAttribute("linethickness",Xe(n))}var i=bF(t.size,e.style);if(i.size!==e.style.size){r=new Ue.MathNode("mstyle",[r]);var a=i.size===St.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var s=[];if(t.leftDelim!=null){var c=new Ue.MathNode("mo",[new Ue.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),s.push(c)}if(s.push(r),t.rightDelim!=null){var u=new Ue.MathNode("mo",[new Ue.TextNode(t.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),s.push(u)}return K8(s)}return r};nt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=e[1],s,c=null,u=null,f="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,c="(",u=")";break;case"\\\\bracefrac":s=!1,c="\\{",u="\\}";break;case"\\\\brackfrac":s=!1,c="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:c,rightDelim:u,size:f,barSize:null}},htmlBuilder:rA,mathmlBuilder:nA});nt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});nt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:n}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var yI=["display","text","script","scriptscript"],vI=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};nt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,n=e[4],i=e[5],a=xv(e[0]),s=a.type==="atom"&&a.family==="open"?vI(a.text):null,c=xv(e[1]),u=c.type==="atom"&&c.family==="close"?vI(c.text):null,f=Ut(e[2],"size"),m,g=null;f.isBlank?m=!0:(g=f.value,m=g.number>0);var v="auto",x=e[3];if(x.type==="ordgroup"){if(x.body.length>0){var T=Ut(x.body[0],"textord");v=yI[Number(T.text)]}}else x=Ut(x,"textord"),v=yI[Number(x.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:m,barSize:g,leftDelim:s,rightDelim:u,size:v}},htmlBuilder:rA,mathmlBuilder:nA});nt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Ut(e[0],"size").value,token:i}}});nt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=Jie(Ut(e[1],"infix").size),s=e[2],c=a.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:s,continued:!1,hasBarLine:c,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:rA,mathmlBuilder:nA});var xF=(t,e)=>{var r=e.style,n,i;t.type==="supsub"?(n=t.sup?ar(t.sup,e.havingStyle(r.sup()),e):ar(t.sub,e.havingStyle(r.sub()),e),i=Ut(t.base,"horizBrace")):i=Ut(t,"horizBrace");var a=ar(i.base,e.havingBaseStyle(St.DISPLAY)),s=ml.svgSpan(i,e),c;if(i.isOver?(c=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=be.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),n){var u=be.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e);i.isOver?c=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:n}]},e):c=be.makeVList({positionType:"bottom",positionData:u.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:u}]},e)}return be.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e)},Tse=(t,e)=>{var r=ml.mathMLnode(t.label);return new Ue.MathNode(t.isOver?"mover":"munder",[Dr(t.base,e),r])};nt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:xF,mathmlBuilder:Tse});nt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],i=Ut(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:wn(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=Vn(t.body,e,!1);return be.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=qc(t.body,e);return r instanceof Ea||(r=new Ea("mrow",[r])),r.setAttribute("href",t.href),r}});nt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=Ut(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var c={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:wn(c)}}});nt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:wn(e[0])}},htmlBuilder(t,e){var r=Vn(t.body,e,!1);return be.makeFragment(r)},mathmlBuilder(t,e){return new Ue.MathNode("mrow",ha(t.body,e))}});nt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,token:i}=t,a=Ut(e[0],"raw").string,s=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,u={};switch(n){case"\\htmlClass":u.class=a,c={command:"\\htmlClass",class:a};break;case"\\htmlId":u.id=a,c={command:"\\htmlId",id:a};break;case"\\htmlStyle":u.style=a,c={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var f=a.split(","),m=0;m<f.length;m++){var g=f[m],v=g.indexOf("=");if(v<0)throw new Fe("\\htmlData key/value '"+g+"' missing equals sign");var x=g.slice(0,v),T=g.slice(v+1);u["data-"+x.trim()]=T}c={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(c)?{type:"html",mode:r.mode,attributes:u,body:wn(s)}:r.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var r=Vn(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var i=be.makeSpan(n,r,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&i.setAttribute(a,t.attributes[a]);return i},mathmlBuilder:(t,e)=>qc(t.body,e)});nt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:wn(e[0]),mathml:wn(e[1])}},htmlBuilder:(t,e)=>{var r=Vn(t.html,e,!1);return be.makeFragment(r)},mathmlBuilder:(t,e)=>qc(t.mathml,e)});var Bw=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new Fe("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!U$(n))throw new Fe("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};nt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},c="";if(r[0])for(var u=Ut(r[0],"raw").string,f=u.split(","),m=0;m<f.length;m++){var g=f[m].split("=");if(g.length===2){var v=g[1].trim();switch(g[0].trim()){case"alt":c=v;break;case"width":i=Bw(v);break;case"height":a=Bw(v);break;case"totalheight":s=Bw(v);break;default:throw new Fe("Invalid key: '"+g[0]+"' in \\includegraphics.")}}}var x=Ut(e[0],"url").url;return c===""&&(c=x,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:x})?{type:"includegraphics",mode:n.mode,alt:c,width:i,height:a,totalheight:s,src:x}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=an(t.height,e),n=0;t.totalheight.number>0&&(n=an(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=an(t.width,e));var a={height:Xe(r+n)};i>0&&(a.width=Xe(i)),n>0&&(a.verticalAlign=Xe(-n));var s=new Tae(t.src,t.alt,a);return s.height=r,s.depth=n,s},mathmlBuilder:(t,e)=>{var r=new Ue.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=an(t.height,e),i=0;if(t.totalheight.number>0&&(i=an(t.totalheight,e)-n,r.setAttribute("valign",Xe(-i))),r.setAttribute("height",Xe(n+i)),t.width.number>0){var a=an(t.width,e);r.setAttribute("width",Xe(a))}return r.setAttribute("src",t.src),r}});nt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=Ut(e[0],"size");if(r.settings.strict){var a=n[1]==="m",s=i.value.unit==="mu";a?(s||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):s&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return be.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=an(t.dimension,e);return new Ue.SpaceNode(r)}});nt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=be.makeSpan([],[ar(t.body,e)]),r=be.makeSpan(["inner"],[r],e)):r=be.makeSpan(["inner"],[ar(t.body,e)]);var n=be.makeSpan(["fix"],[]),i=be.makeSpan([t.alignment],[r,n],e),a=be.makeSpan(["strut"]);return a.style.height=Xe(i.height+i.depth),i.depth&&(a.style.verticalAlign=Xe(-i.depth)),i.children.unshift(a),i=be.makeSpan(["thinbox"],[i],e),be.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new Ue.MathNode("mpadded",[Dr(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});nt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,i=n.mode;n.switchMode("math");var a=r==="\\("?"\\)":"$",s=n.parseExpression(!1,a);return n.expect(a),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:s}}});nt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Fe("Mismatched "+t.funcName)}});var bI=(t,e)=>{switch(e.style.size){case St.DISPLAY.size:return t.display;case St.TEXT.size:return t.text;case St.SCRIPT.size:return t.script;case St.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};nt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:wn(e[0]),text:wn(e[1]),script:wn(e[2]),scriptscript:wn(e[3])}},htmlBuilder:(t,e)=>{var r=bI(t,e),n=Vn(r,e,!1);return be.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=bI(t,e);return qc(r,e)}});var wF=(t,e,r,n,i,a,s)=>{t=be.makeSpan([],[t]);var c=r&&ur.isCharacterBox(r),u,f;if(e){var m=ar(e,n.havingStyle(i.sup()),n);f={elem:m,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-m.depth)}}if(r){var g=ar(r,n.havingStyle(i.sub()),n);u={elem:g,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-g.height)}}var v;if(f&&u){var x=n.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+t.depth+s;v=be.makeVList({positionType:"bottom",positionData:x,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:Xe(-a)},{type:"kern",size:u.kern},{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Xe(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(u){var T=t.height-s;v=be.makeVList({positionType:"top",positionData:T,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:Xe(-a)},{type:"kern",size:u.kern},{type:"elem",elem:t}]},n)}else if(f){var S=t.depth+s;v=be.makeVList({positionType:"bottom",positionData:S,children:[{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Xe(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var _=[v];if(u&&a!==0&&!c){var C=be.makeSpan(["mspace"],[],n);C.style.marginRight=Xe(a),_.unshift(C)}return be.makeSpan(["mop","op-limits"],_,n)},_F=["\\smallint"],zd=(t,e)=>{var r,n,i=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=Ut(t.base,"op"),i=!0):a=Ut(t,"op");var s=e.style,c=!1;s.size===St.DISPLAY.size&&a.symbol&&!_F.includes(a.name)&&(c=!0);var u;if(a.symbol){var f=c?"Size2-Regular":"Size1-Regular",m="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(m=a.name.slice(1),a.name=m==="oiint"?"\\iint":"\\iiint"),u=be.makeSymbol(a.name,f,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),m.length>0){var g=u.italic,v=be.staticSvg(m+"Size"+(c?"2":"1"),e);u=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:v,shift:c?.08:0}]},e),a.name="\\"+m,u.classes.unshift("mop"),u.italic=g}}else if(a.body){var x=Vn(a.body,e,!0);x.length===1&&x[0]instanceof os?(u=x[0],u.classes[0]="mop"):u=be.makeSpan(["mop"],x,e)}else{for(var T=[],S=1;S<a.name.length;S++)T.push(be.mathsym(a.name[S],a.mode,e));u=be.makeSpan(["mop"],T,e)}var _=0,C=0;return(u instanceof os||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(_=(u.height-u.depth)/2-e.fontMetrics().axisHeight,C=u.italic),i?wF(u,r,n,e,s,C,_):(_&&(u.style.position="relative",u.style.top=Xe(_)),u)},ig=(t,e)=>{var r;if(t.symbol)r=new Ea("mo",[ls(t.name,t.mode)]),_F.includes(t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new Ea("mo",ha(t.body,e));else{r=new Ea("mi",[new Js(t.name.slice(1))]);var n=new Ea("mo",[ls("","text")]);t.parentIsSupSub?r=new Ea("mrow",[r,n]):r=Y$([r,n])}return r},Ase={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};nt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=n;return i.length===1&&(i=Ase[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:zd,mathmlBuilder:ig});nt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:wn(n)}},htmlBuilder:zd,mathmlBuilder:ig});var Ese={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};nt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:zd,mathmlBuilder:ig});nt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:zd,mathmlBuilder:ig});nt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=Ese[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:zd,mathmlBuilder:ig});var SF=(t,e)=>{var r,n,i=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=Ut(t.base,"operatorname"),i=!0):a=Ut(t,"operatorname");var s;if(a.body.length>0){for(var c=a.body.map(g=>{var v=g.text;return typeof v=="string"?{type:"textord",mode:g.mode,text:v}:g}),u=Vn(c,e.withFont("mathrm"),!0),f=0;f<u.length;f++){var m=u[f];m instanceof os&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=be.makeSpan(["mop"],u,e)}else s=be.makeSpan(["mop"],[],e);return i?wF(s,r,n,e,e.style,0,0):s},Nse=(t,e)=>{for(var r=ha(t.body,e.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var a=r[i];if(!(a instanceof Ue.SpaceNode))if(a instanceof Ue.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof Ue.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var c=r.map(m=>m.toText()).join("");r=[new Ue.TextNode(c)]}var u=new Ue.MathNode("mi",r);u.setAttribute("mathvariant","normal");var f=new Ue.MathNode("mo",[ls("","text")]);return t.parentIsSupSub?new Ue.MathNode("mrow",[u,f]):Ue.newDocumentFragment([u,f])};nt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:wn(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:SF,mathmlBuilder:Nse});G("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");N0({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?be.makeFragment(Vn(t.body,e,!1)):be.makeSpan(["mord"],Vn(t.body,e,!0),e)},mathmlBuilder(t,e){return qc(t.body,e,!0)}});nt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=ar(t.body,e.havingCrampedStyle()),n=be.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,a=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return be.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var r=new Ue.MathNode("mo",[new Ue.TextNode("")]);r.setAttribute("stretchy","true");var n=new Ue.MathNode("mover",[Dr(t.body,e),r]);return n.setAttribute("accent","true"),n}});nt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:wn(n)}},htmlBuilder:(t,e)=>{var r=Vn(t.body,e.withPhantom(),!1);return be.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=ha(t.body,e);return new Ue.MathNode("mphantom",r)}});nt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=be.makeSpan([],[ar(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),be.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=ha(wn(t.body),e),n=new Ue.MathNode("mphantom",r),i=new Ue.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});nt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=be.makeSpan(["inner"],[ar(t.body,e.withPhantom())]),n=be.makeSpan(["fix"],[]);return be.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=ha(wn(t.body),e),n=new Ue.MathNode("mphantom",r),i=new Ue.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});nt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=Ut(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(t,e){var r=ar(t.body,e),n=an(t.dy,e);return be.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new Ue.MathNode("mpadded",[Dr(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}});nt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});nt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,i=r[0],a=Ut(e[0],"size"),s=Ut(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&Ut(i,"size").value,width:a.value,height:s.value}},htmlBuilder(t,e){var r=be.makeSpan(["mord","rule"],[],e),n=an(t.width,e),i=an(t.height,e),a=t.shift?an(t.shift,e):0;return r.style.borderRightWidth=Xe(n),r.style.borderTopWidth=Xe(i),r.style.bottom=Xe(a),r.width=n,r.height=i+a,r.depth=-a,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=an(t.width,e),n=an(t.height,e),i=t.shift?an(t.shift,e):0,a=e.color&&e.getColor()||"black",s=new Ue.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",Xe(r)),s.setAttribute("height",Xe(n));var c=new Ue.MathNode("mpadded",[s]);return i>=0?c.setAttribute("height",Xe(i)):(c.setAttribute("height",Xe(i)),c.setAttribute("depth",Xe(-i))),c.setAttribute("voffset",Xe(i)),c}});function TF(t,e,r){for(var n=Vn(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,a=0;a<n.length;a++){var s=n[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(n[a].classes,e.sizingClasses(r)):n[a].classes[s+1]==="reset-size"+e.size&&(n[a].classes[s+1]="reset-size"+r.size),n[a].height*=i,n[a].depth*=i}return be.makeFragment(n)}var xI=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Ose=(t,e)=>{var r=e.havingSize(t.size);return TF(t.body,r,e)};nt({type:"sizing",names:xI,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:i}=t,a=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:xI.indexOf(n)+1,body:a}},htmlBuilder:Ose,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=ha(t.body,r),i=new Ue.MathNode("mstyle",n);return i.setAttribute("mathsize",Xe(r.sizeMultiplier)),i}});nt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,i=!1,a=!1,s=r[0]&&Ut(r[0],"ordgroup");if(s)for(var c="",u=0;u<s.body.length;++u){var f=s.body[u];if(c=f.text,c==="t")i=!0;else if(c==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var m=e[0];return{type:"smash",mode:n.mode,body:m,smashHeight:i,smashDepth:a}},htmlBuilder:(t,e)=>{var r=be.makeSpan([],[ar(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var a=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return be.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var r=new Ue.MathNode("mpadded",[Dr(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});nt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,i=r[0],a=e[0];return{type:"sqrt",mode:n.mode,body:a,index:i}},htmlBuilder(t,e){var r=ar(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=be.wrapFragment(r,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,a=i;e.style.id<St.TEXT.id&&(a=e.fontMetrics().xHeight);var s=i+a/4,c=r.height+r.depth+s+i,{span:u,ruleWidth:f,advanceWidth:m}=nl.sqrtImage(c,e),g=u.height-f;g>r.height+r.depth+s&&(s=(s+g-r.height-r.depth)/2);var v=u.height-r.height-s-f;r.style.paddingLeft=Xe(m);var x=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+v)},{type:"elem",elem:u},{type:"kern",size:f}]},e);if(t.index){var T=e.havingStyle(St.SCRIPTSCRIPT),S=ar(t.index,T,e),_=.6*(x.height-x.depth),C=be.makeVList({positionType:"shift",positionData:-_,children:[{type:"elem",elem:S}]},e),I=be.makeSpan(["root"],[C]);return be.makeSpan(["mord","sqrt"],[I,x],e)}else return be.makeSpan(["mord","sqrt"],[x],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new Ue.MathNode("mroot",[Dr(r,e),Dr(n,e)]):new Ue.MathNode("msqrt",[Dr(r,e)])}});var wI={display:St.DISPLAY,text:St.TEXT,script:St.SCRIPT,scriptscript:St.SCRIPTSCRIPT};nt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:i}=t,a=i.parseExpression(!0,r),s=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(t,e){var r=wI[t.style],n=e.havingStyle(r).withFont("");return TF(t.body,n,e)},mathmlBuilder(t,e){var r=wI[t.style],n=e.havingStyle(r),i=ha(t.body,n),a=new Ue.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=s[t.style];return a.setAttribute("scriptlevel",c[0]),a.setAttribute("displaystyle",c[1]),a}});var kse=function(e,r){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===St.DISPLAY.size||n.alwaysHandleSupSub);return i?zd:null}else if(n.type==="operatorname"){var a=n.alwaysHandleSupSub&&(r.style.size===St.DISPLAY.size||n.limits);return a?SF:null}else{if(n.type==="accent")return ur.isCharacterBox(n.base)?Y8:null;if(n.type==="horizBrace"){var s=!e.sub;return s===n.isOver?xF:null}else return null}else return null};N0({type:"supsub",htmlBuilder(t,e){var r=kse(t,e);if(r)return r(t,e);var{base:n,sup:i,sub:a}=t,s=ar(n,e),c,u,f=e.fontMetrics(),m=0,g=0,v=n&&ur.isCharacterBox(n);if(i){var x=e.havingStyle(e.style.sup());c=ar(i,x,e),v||(m=s.height-x.fontMetrics().supDrop*x.sizeMultiplier/e.sizeMultiplier)}if(a){var T=e.havingStyle(e.style.sub());u=ar(a,T,e),v||(g=s.depth+T.fontMetrics().subDrop*T.sizeMultiplier/e.sizeMultiplier)}var S;e.style===St.DISPLAY?S=f.sup1:e.style.cramped?S=f.sup3:S=f.sup2;var _=e.sizeMultiplier,C=Xe(.5/f.ptPerEm/_),I=null;if(u){var P=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(s instanceof os||P)&&(I=Xe(-s.italic))}var V;if(c&&u){m=Math.max(m,S,c.depth+.25*f.xHeight),g=Math.max(g,f.sub2);var j=f.defaultRuleThickness,D=4*j;if(m-c.depth-(u.height-g)<D){g=D-(m-c.depth)+u.height;var A=.8*f.xHeight-(m-c.depth);A>0&&(m+=A,g-=A)}var N=[{type:"elem",elem:u,shift:g,marginRight:C,marginLeft:I},{type:"elem",elem:c,shift:-m,marginRight:C}];V=be.makeVList({positionType:"individualShift",children:N},e)}else if(u){g=Math.max(g,f.sub1,u.height-.8*f.xHeight);var k=[{type:"elem",elem:u,marginLeft:I,marginRight:C}];V=be.makeVList({positionType:"shift",positionData:g,children:k},e)}else if(c)m=Math.max(m,S,c.depth+.25*f.xHeight),V=be.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:c,marginRight:C}]},e);else throw new Error("supsub must have either sup or sub.");var $=WS(s,"right")||"mord";return be.makeSpan([$],[s,be.makeSpan(["msupsub"],[V])],e)},mathmlBuilder(t,e){var r=!1,n,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[Dr(t.base,e)];t.sub&&a.push(Dr(t.sub,e)),t.sup&&a.push(Dr(t.sup,e));var s;if(r)s=n?"mover":"munder";else if(t.sub)if(t.sup){var f=t.base;f&&f.type==="op"&&f.limits&&e.style===St.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===St.DISPLAY||f.limits)?s="munderover":s="msubsup"}else{var u=t.base;u&&u.type==="op"&&u.limits&&(e.style===St.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||e.style===St.DISPLAY)?s="munder":s="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===St.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===St.DISPLAY)?s="mover":s="msup"}return new Ue.MathNode(s,a)}});N0({type:"atom",htmlBuilder(t,e){return be.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new Ue.MathNode("mo",[ls(t.text,t.mode)]);if(t.family==="bin"){var n=W8(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var AF={mi:"italic",mn:"normal",mtext:"normal"};N0({type:"mathord",htmlBuilder(t,e){return be.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new Ue.MathNode("mi",[ls(t.text,t.mode,e)]),n=W8(t,e)||"italic";return n!==AF[r.type]&&r.setAttribute("mathvariant",n),r}});N0({type:"textord",htmlBuilder(t,e){return be.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=ls(t.text,t.mode,e),n=W8(t,e)||"normal",i;return t.mode==="text"?i=new Ue.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new Ue.MathNode("mn",[r]):t.text==="\\prime"?i=new Ue.MathNode("mo",[r]):i=new Ue.MathNode("mi",[r]),n!==AF[i.type]&&i.setAttribute("mathvariant",n),i}});var Uw={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},zw={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};N0({type:"spacing",htmlBuilder(t,e){if(zw.hasOwnProperty(t.text)){var r=zw[t.text].className||"";if(t.mode==="text"){var n=be.makeOrd(t,e,"textord");return n.classes.push(r),n}else return be.makeSpan(["mspace",r],[be.mathsym(t.text,t.mode,e)],e)}else{if(Uw.hasOwnProperty(t.text))return be.makeSpan(["mspace",Uw[t.text]],[],e);throw new Fe('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(zw.hasOwnProperty(t.text))r=new Ue.MathNode("mtext",[new Ue.TextNode("")]);else{if(Uw.hasOwnProperty(t.text))return new Ue.MathNode("mspace");throw new Fe('Unknown type of space "'+t.text+'"')}return r}});var _I=()=>{var t=new Ue.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};N0({type:"tag",mathmlBuilder(t,e){var r=new Ue.MathNode("mtable",[new Ue.MathNode("mtr",[_I(),new Ue.MathNode("mtd",[qc(t.body,e)]),_I(),new Ue.MathNode("mtd",[qc(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var SI={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},TI={"\\textbf":"textbf","\\textmd":"textmd"},Cse={"\\textit":"textit","\\textup":"textup"},AI=(t,e)=>{var r=t.font;if(r){if(SI[r])return e.withTextFontFamily(SI[r]);if(TI[r])return e.withTextFontWeight(TI[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(Cse[r])};nt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"text",mode:r.mode,body:wn(i),font:n}},htmlBuilder(t,e){var r=AI(t,e),n=Vn(t.body,r,!0);return be.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=AI(t,e);return qc(t.body,r)}});nt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=ar(t.body,e),n=be.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,a=be.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return be.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var r=new Ue.MathNode("mo",[new Ue.TextNode("")]);r.setAttribute("stretchy","true");var n=new Ue.MathNode("munder",[Dr(t.body,e),r]);return n.setAttribute("accentunder","true"),n}});nt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=ar(t.body,e),n=e.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return be.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new Ue.MathNode("mpadded",[Dr(t.body,e)],["vcenter"])}});nt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new Fe("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=EI(t),n=[],i=e.havingStyle(e.style.text()),a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),n.push(be.makeSymbol(s,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return be.makeSpan(["mord","text"].concat(i.sizingClasses(e)),be.tryCombineChars(n),i)},mathmlBuilder(t,e){var r=new Ue.TextNode(EI(t)),n=new Ue.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var EI=t=>t.body.replace(/ /g,t.star?"":""),Sc=W$,EF=`[ \r
	]`,Ise="\\\\[a-zA-Z@]+",jse="\\\\[^\uD800-\uDFFF]",Rse="("+Ise+")"+EF+"*",Mse=`\\\\(
|[ \r	]+
?)[ \r	]*`,ZS="[-]",Pse=new RegExp(ZS+"+$"),Dse="("+EF+"+)|"+(Mse+"|")+"([!-\\[\\]---]"+(ZS+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(ZS+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Rse)+("|"+jse+")");class NI{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(Dse,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new ja("EOF",new aa(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new Fe("Unexpected character: '"+e[r]+"'",new ja(e[r],new aa(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new ja(i,new aa(this,r,this.tokenRegex.lastIndex))}}class Lse{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Fe("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var Bse=pF;G("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});G("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});G("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});G("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});G("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});G("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");G("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var OI={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};G("\\char",function(t){var e=t.popToken(),r,n="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Fe("\\char` missing argument");n=e.text.charCodeAt(0)}else r=10;if(r){if(n=OI[e.text],n==null||n>=r)throw new Fe("Invalid base-"+r+" digit "+e.text);for(var i;(i=OI[t.future().text])!=null&&i<r;)n*=r,n+=i,t.popToken()}return"\\@char{"+n+"}"});var iA=(t,e,r,n)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Fe("\\newcommand's first argument must be a macro name");var a=i[0].text,s=t.isDefined(a);if(s&&!e)throw new Fe("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!s&&!r)throw new Fe("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var c=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var u="",f=t.expandNextToken();f.text!=="]"&&f.text!=="EOF";)u+=f.text,f=t.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new Fe("Invalid number of arguments: "+u);c=parseInt(u),i=t.consumeArg().tokens}return s&&n||t.macros.set(a,{tokens:i,numArgs:c}),""};G("\\newcommand",t=>iA(t,!1,!0,!1));G("\\renewcommand",t=>iA(t,!0,!1,!1));G("\\providecommand",t=>iA(t,!0,!0,!0));G("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});G("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});G("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Sc[r],Ur.math[r],Ur.text[r]),""});G("\\bgroup","{");G("\\egroup","}");G("~","\\nobreakspace");G("\\lq","`");G("\\rq","'");G("\\aa","\\r a");G("\\AA","\\r A");G("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");G("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");G("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");G("","\\mathscr{B}");G("","\\mathscr{E}");G("","\\mathscr{F}");G("","\\mathscr{H}");G("","\\mathscr{I}");G("","\\mathscr{L}");G("","\\mathscr{M}");G("","\\mathscr{R}");G("","\\mathfrak{C}");G("","\\mathfrak{H}");G("","\\mathfrak{Z}");G("\\Bbbk","\\Bbb{k}");G("","\\cdotp");G("\\llap","\\mathllap{\\textrm{#1}}");G("\\rlap","\\mathrlap{\\textrm{#1}}");G("\\clap","\\mathclap{\\textrm{#1}}");G("\\mathstrut","\\vphantom{(}");G("\\underbar","\\underline{\\text{#1}}");G("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');G("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");G("\\ne","\\neq");G("","\\neq");G("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");G("","\\notin");G("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");G("","\\perp");G("","\\mathclose{!\\mkern-0.8mu!}");G("","\\notni");G("","\\ulcorner");G("","\\urcorner");G("","\\llcorner");G("","\\lrcorner");G("","\\copyright");G("","\\textregistered");G("","\\textregistered");G("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');G("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');G("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');G("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');G("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");G("","\\vdots");G("\\varGamma","\\mathit{\\Gamma}");G("\\varDelta","\\mathit{\\Delta}");G("\\varTheta","\\mathit{\\Theta}");G("\\varLambda","\\mathit{\\Lambda}");G("\\varXi","\\mathit{\\Xi}");G("\\varPi","\\mathit{\\Pi}");G("\\varSigma","\\mathit{\\Sigma}");G("\\varUpsilon","\\mathit{\\Upsilon}");G("\\varPhi","\\mathit{\\Phi}");G("\\varPsi","\\mathit{\\Psi}");G("\\varOmega","\\mathit{\\Omega}");G("\\substack","\\begin{subarray}{c}#1\\end{subarray}");G("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");G("\\boxed","\\fbox{$\\displaystyle{#1}$}");G("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");G("\\implies","\\DOTSB\\;\\Longrightarrow\\;");G("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");G("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");G("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var kI={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};G("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in kI?e=kI[r]:(r.slice(0,4)==="\\not"||r in Ur.math&&["bin","rel"].includes(Ur.math[r].group))&&(e="\\dotsb"),e});var aA={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};G("\\dotso",function(t){var e=t.future().text;return e in aA?"\\ldots\\,":"\\ldots"});G("\\dotsc",function(t){var e=t.future().text;return e in aA&&e!==","?"\\ldots\\,":"\\ldots"});G("\\cdots",function(t){var e=t.future().text;return e in aA?"\\@cdots\\,":"\\@cdots"});G("\\dotsb","\\cdots");G("\\dotsm","\\cdots");G("\\dotsi","\\!\\cdots");G("\\dotsx","\\ldots\\,");G("\\DOTSI","\\relax");G("\\DOTSB","\\relax");G("\\DOTSX","\\relax");G("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");G("\\,","\\tmspace+{3mu}{.1667em}");G("\\thinspace","\\,");G("\\>","\\mskip{4mu}");G("\\:","\\tmspace+{4mu}{.2222em}");G("\\medspace","\\:");G("\\;","\\tmspace+{5mu}{.2777em}");G("\\thickspace","\\;");G("\\!","\\tmspace-{3mu}{.1667em}");G("\\negthinspace","\\!");G("\\negmedspace","\\tmspace-{4mu}{.2222em}");G("\\negthickspace","\\tmspace-{5mu}{.277em}");G("\\enspace","\\kern.5em ");G("\\enskip","\\hskip.5em\\relax");G("\\quad","\\hskip1em\\relax");G("\\qquad","\\hskip2em\\relax");G("\\tag","\\@ifstar\\tag@literal\\tag@paren");G("\\tag@paren","\\tag@literal{({#1})}");G("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Fe("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});G("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");G("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");G("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");G("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");G("\\newline","\\\\\\relax");G("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var NF=Xe(Zs["Main-Regular"][84][1]-.7*Zs["Main-Regular"][65][1]);G("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+NF+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");G("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+NF+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");G("\\hspace","\\@ifstar\\@hspacer\\@hspace");G("\\@hspace","\\hskip #1\\relax");G("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");G("\\ordinarycolon",":");G("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");G("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');G("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');G("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');G("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');G("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');G("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');G("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');G("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');G("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');G("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');G("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');G("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');G("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');G("","\\dblcolon");G("","\\eqcolon");G("","\\coloneqq");G("","\\eqqcolon");G("","\\Coloneqq");G("\\ratio","\\vcentcolon");G("\\coloncolon","\\dblcolon");G("\\colonequals","\\coloneqq");G("\\coloncolonequals","\\Coloneqq");G("\\equalscolon","\\eqqcolon");G("\\equalscoloncolon","\\Eqqcolon");G("\\colonminus","\\coloneq");G("\\coloncolonminus","\\Coloneq");G("\\minuscolon","\\eqcolon");G("\\minuscoloncolon","\\Eqcolon");G("\\coloncolonapprox","\\Colonapprox");G("\\coloncolonsim","\\Colonsim");G("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");G("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");G("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");G("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");G("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");G("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");G("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");G("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");G("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");G("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");G("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");G("\\ngeqq","\\html@mathml{\\@ngeqq}{}");G("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");G("\\nleqq","\\html@mathml{\\@nleqq}{}");G("\\nleqslant","\\html@mathml{\\@nleqslant}{}");G("\\nshortmid","\\html@mathml{\\@nshortmid}{}");G("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");G("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");G("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");G("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");G("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");G("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");G("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");G("\\imath","\\html@mathml{\\@imath}{}");G("\\jmath","\\html@mathml{\\@jmath}{}");G("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");G("","\\llbracket");G("","\\rrbracket");G("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");G("","\\lBrace");G("","\\rBrace");G("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");G("","\\minuso");G("\\darr","\\downarrow");G("\\dArr","\\Downarrow");G("\\Darr","\\Downarrow");G("\\lang","\\langle");G("\\rang","\\rangle");G("\\uarr","\\uparrow");G("\\uArr","\\Uparrow");G("\\Uarr","\\Uparrow");G("\\N","\\mathbb{N}");G("\\R","\\mathbb{R}");G("\\Z","\\mathbb{Z}");G("\\alef","\\aleph");G("\\alefsym","\\aleph");G("\\Alpha","\\mathrm{A}");G("\\Beta","\\mathrm{B}");G("\\bull","\\bullet");G("\\Chi","\\mathrm{X}");G("\\clubs","\\clubsuit");G("\\cnums","\\mathbb{C}");G("\\Complex","\\mathbb{C}");G("\\Dagger","\\ddagger");G("\\diamonds","\\diamondsuit");G("\\empty","\\emptyset");G("\\Epsilon","\\mathrm{E}");G("\\Eta","\\mathrm{H}");G("\\exist","\\exists");G("\\harr","\\leftrightarrow");G("\\hArr","\\Leftrightarrow");G("\\Harr","\\Leftrightarrow");G("\\hearts","\\heartsuit");G("\\image","\\Im");G("\\infin","\\infty");G("\\Iota","\\mathrm{I}");G("\\isin","\\in");G("\\Kappa","\\mathrm{K}");G("\\larr","\\leftarrow");G("\\lArr","\\Leftarrow");G("\\Larr","\\Leftarrow");G("\\lrarr","\\leftrightarrow");G("\\lrArr","\\Leftrightarrow");G("\\Lrarr","\\Leftrightarrow");G("\\Mu","\\mathrm{M}");G("\\natnums","\\mathbb{N}");G("\\Nu","\\mathrm{N}");G("\\Omicron","\\mathrm{O}");G("\\plusmn","\\pm");G("\\rarr","\\rightarrow");G("\\rArr","\\Rightarrow");G("\\Rarr","\\Rightarrow");G("\\real","\\Re");G("\\reals","\\mathbb{R}");G("\\Reals","\\mathbb{R}");G("\\Rho","\\mathrm{P}");G("\\sdot","\\cdot");G("\\sect","\\S");G("\\spades","\\spadesuit");G("\\sub","\\subset");G("\\sube","\\subseteq");G("\\supe","\\supseteq");G("\\Tau","\\mathrm{T}");G("\\thetasym","\\vartheta");G("\\weierp","\\wp");G("\\Zeta","\\mathrm{Z}");G("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");G("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");G("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");G("\\bra","\\mathinner{\\langle{#1}|}");G("\\ket","\\mathinner{|{#1}\\rangle}");G("\\braket","\\mathinner{\\langle{#1}\\rangle}");G("\\Bra","\\left\\langle#1\\right|");G("\\Ket","\\left|#1\\right\\rangle");var OF=t=>e=>{var r=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var u=g=>v=>{t&&(v.macros.set("|",s),i.length&&v.macros.set("\\|",c));var x=g;if(!g&&i.length){var T=v.future();T.text==="|"&&(v.popToken(),x=!0)}return{tokens:x?i:n,numArgs:0}};e.macros.set("|",u(!1)),i.length&&e.macros.set("\\|",u(!0));var f=e.consumeArg().tokens,m=e.expandTokens([...a,...f,...r]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};G("\\bra@ket",OF(!1));G("\\bra@set",OF(!0));G("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");G("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");G("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");G("\\angln","{\\angl n}");G("\\blue","\\textcolor{##6495ed}{#1}");G("\\orange","\\textcolor{##ffa500}{#1}");G("\\pink","\\textcolor{##ff00af}{#1}");G("\\red","\\textcolor{##df0030}{#1}");G("\\green","\\textcolor{##28ae7b}{#1}");G("\\gray","\\textcolor{gray}{#1}");G("\\purple","\\textcolor{##9d38bd}{#1}");G("\\blueA","\\textcolor{##ccfaff}{#1}");G("\\blueB","\\textcolor{##80f6ff}{#1}");G("\\blueC","\\textcolor{##63d9ea}{#1}");G("\\blueD","\\textcolor{##11accd}{#1}");G("\\blueE","\\textcolor{##0c7f99}{#1}");G("\\tealA","\\textcolor{##94fff5}{#1}");G("\\tealB","\\textcolor{##26edd5}{#1}");G("\\tealC","\\textcolor{##01d1c1}{#1}");G("\\tealD","\\textcolor{##01a995}{#1}");G("\\tealE","\\textcolor{##208170}{#1}");G("\\greenA","\\textcolor{##b6ffb0}{#1}");G("\\greenB","\\textcolor{##8af281}{#1}");G("\\greenC","\\textcolor{##74cf70}{#1}");G("\\greenD","\\textcolor{##1fab54}{#1}");G("\\greenE","\\textcolor{##0d923f}{#1}");G("\\goldA","\\textcolor{##ffd0a9}{#1}");G("\\goldB","\\textcolor{##ffbb71}{#1}");G("\\goldC","\\textcolor{##ff9c39}{#1}");G("\\goldD","\\textcolor{##e07d10}{#1}");G("\\goldE","\\textcolor{##a75a05}{#1}");G("\\redA","\\textcolor{##fca9a9}{#1}");G("\\redB","\\textcolor{##ff8482}{#1}");G("\\redC","\\textcolor{##f9685d}{#1}");G("\\redD","\\textcolor{##e84d39}{#1}");G("\\redE","\\textcolor{##bc2612}{#1}");G("\\maroonA","\\textcolor{##ffbde0}{#1}");G("\\maroonB","\\textcolor{##ff92c6}{#1}");G("\\maroonC","\\textcolor{##ed5fa6}{#1}");G("\\maroonD","\\textcolor{##ca337c}{#1}");G("\\maroonE","\\textcolor{##9e034e}{#1}");G("\\purpleA","\\textcolor{##ddd7ff}{#1}");G("\\purpleB","\\textcolor{##c6b9fc}{#1}");G("\\purpleC","\\textcolor{##aa87ff}{#1}");G("\\purpleD","\\textcolor{##7854ab}{#1}");G("\\purpleE","\\textcolor{##543b78}{#1}");G("\\mintA","\\textcolor{##f5f9e8}{#1}");G("\\mintB","\\textcolor{##edf2df}{#1}");G("\\mintC","\\textcolor{##e0e5cc}{#1}");G("\\grayA","\\textcolor{##f6f7f7}{#1}");G("\\grayB","\\textcolor{##f0f1f2}{#1}");G("\\grayC","\\textcolor{##e3e5e6}{#1}");G("\\grayD","\\textcolor{##d6d8da}{#1}");G("\\grayE","\\textcolor{##babec2}{#1}");G("\\grayF","\\textcolor{##888d93}{#1}");G("\\grayG","\\textcolor{##626569}{#1}");G("\\grayH","\\textcolor{##3b3e40}{#1}");G("\\grayI","\\textcolor{##21242c}{#1}");G("\\kaBlue","\\textcolor{##314453}{#1}");G("\\kaGreen","\\textcolor{##71B307}{#1}");var kF={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Use{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new Lse(Bse,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new NI(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new ja("EOF",n.loc)),this.pushTokens(i),new ja("",aa.range(r,n))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),a,s=0,c=0;do{if(a=this.popToken(),r.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new Fe("Extra }",a)}else if(a.text==="EOF")throw new Fe("Unexpected end of input in a macro argument, expected '"+(e&&n?e[c]:"}")+"'",a);if(e&&n)if((s===0||s===1&&e[c]==="{")&&a.text===e[c]){if(++c,c===e.length){r.splice(-c,c);break}}else c=0}while(s!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:a}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new Fe("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var a=this.popToken();if(n[i]!==a.text)throw new Fe("Use of the macro doesn't match its definition",a)}}for(var s=[],c=0;c<e;c++)s.push(this.consumeArg(r&&r[c+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Fe("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new Fe("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var c=a.length-1;c>=0;--c){var u=a[c];if(u.text==="#"){if(c===0)throw new Fe("Incomplete placeholder at end of macro body",u);if(u=a[--c],u.text==="#")a.splice(c+1,1);else if(/^[1-9]$/.test(u.text))a.splice(c,2,...s[+u.text-1]);else throw new Fe("Not a valid argument number",u)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new ja(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var c=new NI(i,this.settings),u=[],f=c.lex();f.text!=="EOF";)u.push(f),f=c.lex();u.reverse();var m={tokens:u,numArgs:a};return m}return i}isDefined(e){return this.macros.has(e)||Sc.hasOwnProperty(e)||Ur.math.hasOwnProperty(e)||Ur.text.hasOwnProperty(e)||kF.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Sc.hasOwnProperty(e)&&!Sc[e].primitive}}var CI=/^[]/,oy=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Vw={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},II={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class px{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Use(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new Fe("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new ja("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(px.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&Sc[i.text]&&Sc[i.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;n.push(a)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r=-1,n,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new Fe("only one infix operator per group",e[i].token);r=i,n=e[i].replaceWith}if(r!==-1&&n){var a,s,c=e.slice(0,r),u=e.slice(r+1);c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c},u.length===1&&u[0].type==="ordgroup"?s=u[0]:s={type:"ordgroup",mode:this.mode,body:u};var f;return n==="\\\\abovefrac"?f=this.callFunction(n,[a,e[r],s],[]):f=this.callFunction(n,[a,s],[]),[f]}else return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i;do{var a;i=this.parseGroup(e)}while(((a=i)==null?void 0:a.type)==="internal");if(!i)throw new Fe("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(e){var r=this.parseGroup("atom",e);if((r==null?void 0:r.type)==="internal"||this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var s=a.text==="\\limits";r.limits=s,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new Fe("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(n)throw new Fe("Double superscript",a);n=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new Fe("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(n)throw new Fe("Double superscript",a);var c={type:"textord",mode:this.mode,text:"\\prime"},u=[c];for(this.consume();this.fetch().text==="'";)u.push(c),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:u}}else if(oy[a.text]){var f=CI.test(a.text),m=[];for(m.push(new ja(oy[a.text])),this.consume();;){var g=this.fetch().text;if(!oy[g]||CI.test(g)!==f)break;m.unshift(new ja(oy[g])),this.consume()}var v=this.subparse(m);f?i={type:"ordgroup",mode:"math",body:v}:n={type:"ordgroup",mode:"math",body:v}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(e,r){var n=this.fetch(),i=n.text,a=Sc[i];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new Fe("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!a.allowedInText)throw new Fe("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&a.allowedInMath===!1)throw new Fe("Can't use function '"+i+"' in math mode",n);var{args:s,optArgs:c}=this.parseArguments(i,a);return this.callFunction(i,s,c,n,e)}callFunction(e,r,n,i,a){var s={funcName:e,parser:this,token:i,breakOnTokenText:a},c=Sc[e];if(c&&c.handler)return c.handler(s,r,n);throw new Fe("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<n;s++){var c=r.argTypes&&r.argTypes[s],u=s<r.numOptionalArgs;(r.primitive&&c==null||r.type==="sqrt"&&s===1&&a[0]==null)&&(c="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",c,u);if(u)a.push(f);else if(f!=null)i.push(f);else throw new Fe("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",n);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(n)throw new Fe("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new Fe("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new Fe("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,r){for(var n=this.fetch(),i=n,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new Fe("Invalid "+r+": '"+n.text+"'",n);return n.range(i,a)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new Fe("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new Fe("Invalid size: '"+r.text+"'",r);var a={number:+(i[1]+i[2]),unit:i[3]};if(!U$(a))throw new Fe("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:n.loc,body:a};return r&&this.switchMode(i),s}parseGroup(e,r){var n=this.fetch(),i=n.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,s),u=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:aa.range(n,u),body:c,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,e)||this.parseSymbol(),a==null&&i[0]==="\\"&&!kF.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Fe("Undefined control sequence: "+i,n);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var i=e[n],a=i.text;a==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:aa.range(i,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:aa.range(i,e[n+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&e[n+1].text===a&&(e.splice(n,2,{type:"textord",mode:"text",loc:aa.range(i,e[n+1]),text:a+a}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new Fe(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}II.hasOwnProperty(r[0])&&!Ur[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=II[r[0]]+r.slice(1));var a=Pse.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="":r==="j"&&(r=""));var s;if(Ur[this.mode][r]){this.settings.strict&&this.mode==="math"&&KS.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var c=Ur[this.mode][r].group,u=aa.range(e),f;if(Nae.hasOwnProperty(c)){var m=c;f={type:"atom",mode:this.mode,family:m,loc:u,text:r}}else f={type:c,mode:this.mode,loc:u,text:r};s=f}else if(r.charCodeAt(0)>=128)this.settings.strict&&(B$(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:aa.range(e),text:r};else return null;if(this.consume(),a)for(var g=0;g<a[0].length;g++){var v=a[0][g];if(!Vw[v])throw new Fe("Unknown accent ' "+v+"'",e);var x=Vw[v][this.mode]||Vw[v].text;if(!x)throw new Fe("Accent "+v+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:aa.range(e),label:x,isStretchy:!1,isShifty:!0,base:s}}return s}}px.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var sA=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new px(e,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new Fe("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new ja("\\df@tag")])}]}return i},CF=function(e,r,n){r.textContent="";var i=oA(e,n).toNode();r.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),CF=function(){throw new Fe("KaTeX doesn't work in quirks mode.")});var zse=function(e,r){var n=oA(e,r).toMarkup();return n},Vse=function(e,r){var n=new $8(r);return sA(e,n)},IF=function(e,r,n){if(n.throwOnError||!(e instanceof Fe))throw e;var i=be.makeSpan(["katex-error"],[new os(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},oA=function(e,r){var n=new $8(r);try{var i=sA(e,n);return Yae(i,e,n)}catch(a){return IF(a,e,n)}},$se=function(e,r){var n=new $8(r);try{var i=sA(e,n);return Qae(i,e,n)}catch(a){return IF(a,e,n)}},Fse="0.16.28",qse={Span:ng,Anchor:H8,SymbolNode:os,SvgNode:dl,PathNode:Fc,LineNode:GS},wv={version:Fse,render:CF,renderToString:zse,ParseError:Fe,SETTINGS_SCHEMA:Uy,__parse:Vse,__renderToDomTree:oA,__renderToHTMLTree:$se,__setFontMetrics:bae,__defineSymbol:E,__defineFunction:nt,__defineMacro:G,__domTree:qse};/*! @license DOMPurify 2.5.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.8/LICENSE */function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function JS(t,e){return JS=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},JS(t,e)}function Hse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vy(t,e,r){return Hse()?Vy=Reflect.construct:Vy=function(i,a,s){var c=[null];c.push.apply(c,a);var u=Function.bind.apply(i,c),f=new u;return s&&JS(f,s.prototype),f},Vy.apply(null,arguments)}function Ss(t){return Gse(t)||Kse(t)||Wse(t)||Xse()}function Gse(t){if(Array.isArray(t))return e7(t)}function Kse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wse(t,e){if(t){if(typeof t=="string")return e7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e7(t,e)}}function e7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Yse=Object.hasOwnProperty,jI=Object.setPrototypeOf,Qse=Object.isFrozen,Zse=Object.getPrototypeOf,Jse=Object.getOwnPropertyDescriptor,Ki=Object.freeze,cs=Object.seal,eoe=Object.create,jF=typeof Reflect<"u"&&Reflect,_v=jF.apply,t7=jF.construct;_v||(_v=function(e,r,n){return e.apply(r,n)});Ki||(Ki=function(e){return e});cs||(cs=function(e){return e});t7||(t7=function(e,r){return Vy(e,Ss(r))});var toe=us(Array.prototype.forEach),RI=us(Array.prototype.pop),Jf=us(Array.prototype.push),$y=us(String.prototype.toLowerCase),$w=us(String.prototype.toString),MI=us(String.prototype.match),ws=us(String.prototype.replace),roe=us(String.prototype.indexOf),noe=us(String.prototype.trim),oi=us(RegExp.prototype.test),Fw=ioe(TypeError);function us(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return _v(t,e,n)}}function ioe(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t7(t,r)}}function Vt(t,e,r){var n;r=(n=r)!==null&&n!==void 0?n:$y,jI&&jI(t,null);for(var i=e.length;i--;){var a=e[i];if(typeof a=="string"){var s=r(a);s!==a&&(Qse(e)||(e[i]=s),a=s)}t[a]=!0}return t}function Nu(t){var e=eoe(null),r;for(r in t)_v(Yse,t,[r])===!0&&(e[r]=t[r]);return e}function ly(t,e){for(;t!==null;){var r=Jse(t,e);if(r){if(r.get)return us(r.get);if(typeof r.value=="function")return us(r.value)}t=Zse(t)}function n(i){return console.warn("fallback value for",i),null}return n}var PI=Ki(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qw=Ki(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Hw=Ki(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),aoe=Ki(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Gw=Ki(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),soe=Ki(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),DI=Ki(["#text"]),LI=Ki(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Kw=Ki(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),BI=Ki(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),cy=Ki(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ooe=cs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),loe=cs(/<%[\w\W]*|[\w\W]*%>/gm),coe=cs(/\${[\w\W]*}/gm),uoe=cs(/^data-[\-\w.\u00B7-\uFFFF]+$/),hoe=cs(/^aria-[\-\w]+$/),doe=cs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),foe=cs(/^(?:\w+script|data):/i),moe=cs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),poe=cs(/^html$/i),goe=cs(/^[a-z][.\w]*(-[.\w]+)+$/i),yoe=function(){return typeof window>"u"?null:window},voe=function(e,r){if(xc(e)!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(i)&&(n=r.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(c){return c},createScriptURL:function(c){return c}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function RF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yoe(),e=function(oe){return RF(oe)};if(e.version="2.5.8",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var r=t.document,n=t.document,i=t.DocumentFragment,a=t.HTMLTemplateElement,s=t.Node,c=t.Element,u=t.NodeFilter,f=t.NamedNodeMap,m=f===void 0?t.NamedNodeMap||t.MozNamedAttrMap:f,g=t.HTMLFormElement,v=t.DOMParser,x=t.trustedTypes,T=c.prototype,S=ly(T,"cloneNode"),_=ly(T,"nextSibling"),C=ly(T,"childNodes"),I=ly(T,"parentNode");if(typeof a=="function"){var P=n.createElement("template");P.content&&P.content.ownerDocument&&(n=P.content.ownerDocument)}var V=voe(x,r),j=V?V.createHTML(""):"",D=n,A=D.implementation,N=D.createNodeIterator,k=D.createDocumentFragment,$=D.getElementsByTagName,M=r.importNode,z={};try{z=Nu(n).documentMode?n.documentMode:{}}catch{}var U={};e.isSupported=typeof I=="function"&&A&&A.createHTMLDocument!==void 0&&z!==9;var Y=ooe,ee=loe,K=coe,J=uoe,Q=hoe,fe=foe,ie=moe,W=goe,Z=doe,ue=null,Oe=Vt({},[].concat(Ss(PI),Ss(qw),Ss(Hw),Ss(Gw),Ss(DI))),se=null,ke=Vt({},[].concat(Ss(LI),Ss(Kw),Ss(BI),Ss(cy))),Me=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),et=null,Ae=null,qe=!0,he=!0,pe=!1,Ge=!0,$e=!1,it=!0,lt=!1,er=!1,je=!1,le=!1,ze=!1,rt=!1,yt=!0,Ke=!1,vt="user-content-",qt=!0,Ht=!1,wt={},dr=null,Gr=Vt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Wt=null,Pn=Vt({},["audio","video","img","source","image","track"]),Vr=null,ti=Vt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),jr="http://www.w3.org/1998/Math/MathML",ln="http://www.w3.org/2000/svg",pr="http://www.w3.org/1999/xhtml",ri=pr,Ba=!1,fs=null,Ua=Vt({},[jr,ln,pr],$w),vn,fa=["application/xhtml+xml","text/html"],fi="text/html",rr,qn=null,ms=n.createElement("form"),ps=function(oe){return oe instanceof RegExp||oe instanceof Function},mi=function(oe){qn&&qn===oe||((!oe||xc(oe)!=="object")&&(oe={}),oe=Nu(oe),vn=fa.indexOf(oe.PARSER_MEDIA_TYPE)===-1?vn=fi:vn=oe.PARSER_MEDIA_TYPE,rr=vn==="application/xhtml+xml"?$w:$y,ue="ALLOWED_TAGS"in oe?Vt({},oe.ALLOWED_TAGS,rr):Oe,se="ALLOWED_ATTR"in oe?Vt({},oe.ALLOWED_ATTR,rr):ke,fs="ALLOWED_NAMESPACES"in oe?Vt({},oe.ALLOWED_NAMESPACES,$w):Ua,Vr="ADD_URI_SAFE_ATTR"in oe?Vt(Nu(ti),oe.ADD_URI_SAFE_ATTR,rr):ti,Wt="ADD_DATA_URI_TAGS"in oe?Vt(Nu(Pn),oe.ADD_DATA_URI_TAGS,rr):Pn,dr="FORBID_CONTENTS"in oe?Vt({},oe.FORBID_CONTENTS,rr):Gr,et="FORBID_TAGS"in oe?Vt({},oe.FORBID_TAGS,rr):{},Ae="FORBID_ATTR"in oe?Vt({},oe.FORBID_ATTR,rr):{},wt="USE_PROFILES"in oe?oe.USE_PROFILES:!1,qe=oe.ALLOW_ARIA_ATTR!==!1,he=oe.ALLOW_DATA_ATTR!==!1,pe=oe.ALLOW_UNKNOWN_PROTOCOLS||!1,Ge=oe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$e=oe.SAFE_FOR_TEMPLATES||!1,it=oe.SAFE_FOR_XML!==!1,lt=oe.WHOLE_DOCUMENT||!1,le=oe.RETURN_DOM||!1,ze=oe.RETURN_DOM_FRAGMENT||!1,rt=oe.RETURN_TRUSTED_TYPE||!1,je=oe.FORCE_BODY||!1,yt=oe.SANITIZE_DOM!==!1,Ke=oe.SANITIZE_NAMED_PROPS||!1,qt=oe.KEEP_CONTENT!==!1,Ht=oe.IN_PLACE||!1,Z=oe.ALLOWED_URI_REGEXP||Z,ri=oe.NAMESPACE||pr,Me=oe.CUSTOM_ELEMENT_HANDLING||{},oe.CUSTOM_ELEMENT_HANDLING&&ps(oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Me.tagNameCheck=oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),oe.CUSTOM_ELEMENT_HANDLING&&ps(oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Me.attributeNameCheck=oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),oe.CUSTOM_ELEMENT_HANDLING&&typeof oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Me.allowCustomizedBuiltInElements=oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$e&&(he=!1),ze&&(le=!0),wt&&(ue=Vt({},Ss(DI)),se=[],wt.html===!0&&(Vt(ue,PI),Vt(se,LI)),wt.svg===!0&&(Vt(ue,qw),Vt(se,Kw),Vt(se,cy)),wt.svgFilters===!0&&(Vt(ue,Hw),Vt(se,Kw),Vt(se,cy)),wt.mathMl===!0&&(Vt(ue,Gw),Vt(se,BI),Vt(se,cy))),oe.ADD_TAGS&&(ue===Oe&&(ue=Nu(ue)),Vt(ue,oe.ADD_TAGS,rr)),oe.ADD_ATTR&&(se===ke&&(se=Nu(se)),Vt(se,oe.ADD_ATTR,rr)),oe.ADD_URI_SAFE_ATTR&&Vt(Vr,oe.ADD_URI_SAFE_ATTR,rr),oe.FORBID_CONTENTS&&(dr===Gr&&(dr=Nu(dr)),Vt(dr,oe.FORBID_CONTENTS,rr)),qt&&(ue["#text"]=!0),lt&&Vt(ue,["html","head","body"]),ue.table&&(Vt(ue,["tbody"]),delete et.tbody),Ki&&Ki(oe),qn=oe)},Xi=Vt({},["mi","mo","mn","ms","mtext"]),Zr=Vt({},["annotation-xml"]),Ls=Vt({},["title","style","font","a","script"]),pi=Vt({},qw);Vt(pi,Hw),Vt(pi,aoe);var ki=Vt({},Gw);Vt(ki,soe);var Bs=function(oe){var Le=I(oe);(!Le||!Le.tagName)&&(Le={namespaceURI:ri,tagName:"template"});var Ye=$y(oe.tagName),Rt=$y(Le.tagName);return fs[oe.namespaceURI]?oe.namespaceURI===ln?Le.namespaceURI===pr?Ye==="svg":Le.namespaceURI===jr?Ye==="svg"&&(Rt==="annotation-xml"||Xi[Rt]):!!pi[Ye]:oe.namespaceURI===jr?Le.namespaceURI===pr?Ye==="math":Le.namespaceURI===ln?Ye==="math"&&Zr[Rt]:!!ki[Ye]:oe.namespaceURI===pr?Le.namespaceURI===ln&&!Zr[Rt]||Le.namespaceURI===jr&&!Xi[Rt]?!1:!ki[Ye]&&(Ls[Ye]||!pi[Ye]):!!(vn==="application/xhtml+xml"&&fs[oe.namespaceURI]):!1},ge=function(oe){Jf(e.removed,{element:oe});try{oe.parentNode.removeChild(oe)}catch{try{oe.outerHTML=j}catch{oe.remove()}}},Pe=function(oe,Le){try{Jf(e.removed,{attribute:Le.getAttributeNode(oe),from:Le})}catch{Jf(e.removed,{attribute:null,from:Le})}if(Le.removeAttribute(oe),oe==="is"&&!se[oe])if(le||ze)try{ge(Le)}catch{}else try{Le.setAttribute(oe,"")}catch{}},at=function(oe){var Le,Ye;if(je)oe="<remove></remove>"+oe;else{var Rt=MI(oe,/^[\r\n\t ]+/);Ye=Rt&&Rt[0]}vn==="application/xhtml+xml"&&ri===pr&&(oe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+oe+"</body></html>");var Xt=V?V.createHTML(oe):oe;if(ri===pr)try{Le=new v().parseFromString(Xt,vn)}catch{}if(!Le||!Le.documentElement){Le=A.createDocument(ri,"template",null);try{Le.documentElement.innerHTML=Ba?j:Xt}catch{}}var Jr=Le.body||Le.documentElement;return oe&&Ye&&Jr.insertBefore(n.createTextNode(Ye),Jr.childNodes[0]||null),ri===pr?$.call(Le,lt?"html":"body")[0]:lt?Le.documentElement:Jr},Tt=function(oe){return N.call(oe.ownerDocument||oe,oe,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null,!1)},mt=function(oe){return oe instanceof g&&(typeof oe.nodeName!="string"||typeof oe.textContent!="string"||typeof oe.removeChild!="function"||!(oe.attributes instanceof m)||typeof oe.removeAttribute!="function"||typeof oe.setAttribute!="function"||typeof oe.namespaceURI!="string"||typeof oe.insertBefore!="function"||typeof oe.hasChildNodes!="function")},zt=function(oe){return xc(s)==="object"?oe instanceof s:oe&&xc(oe)==="object"&&typeof oe.nodeType=="number"&&typeof oe.nodeName=="string"},nr=function(oe,Le,Ye){U[oe]&&toe(U[oe],function(Rt){Rt.call(e,Le,Ye,qn)})},Hn=function(oe){var Le;if(nr("beforeSanitizeElements",oe,null),mt(oe)||oi(/[\u0080-\uFFFF]/,oe.nodeName))return ge(oe),!0;var Ye=rr(oe.nodeName);if(nr("uponSanitizeElement",oe,{tagName:Ye,allowedTags:ue}),oe.hasChildNodes()&&!zt(oe.firstElementChild)&&(!zt(oe.content)||!zt(oe.content.firstElementChild))&&oi(/<[/\w]/g,oe.innerHTML)&&oi(/<[/\w]/g,oe.textContent)||Ye==="select"&&oi(/<template/i,oe.innerHTML)||oe.nodeType===7||it&&oe.nodeType===8&&oi(/<[/\w]/g,oe.data))return ge(oe),!0;if(!ue[Ye]||et[Ye]){if(!et[Ye]&&Us(Ye)&&(Me.tagNameCheck instanceof RegExp&&oi(Me.tagNameCheck,Ye)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(Ye)))return!1;if(qt&&!dr[Ye]){var Rt=I(oe)||oe.parentNode,Xt=C(oe)||oe.childNodes;if(Xt&&Rt)for(var Jr=Xt.length,Lr=Jr-1;Lr>=0;--Lr){var en=S(Xt[Lr],!0);en.__removalCount=(oe.__removalCount||0)+1,Rt.insertBefore(en,_(oe))}}return ge(oe),!0}return oe instanceof c&&!Bs(oe)||(Ye==="noscript"||Ye==="noembed"||Ye==="noframes")&&oi(/<\/no(script|embed|frames)/i,oe.innerHTML)?(ge(oe),!0):($e&&oe.nodeType===3&&(Le=oe.textContent,Le=ws(Le,Y," "),Le=ws(Le,ee," "),Le=ws(Le,K," "),oe.textContent!==Le&&(Jf(e.removed,{element:oe.cloneNode()}),oe.textContent=Le)),nr("afterSanitizeElements",oe,null),!1)},gi=function(oe,Le,Ye){if(yt&&(Le==="id"||Le==="name")&&(Ye in n||Ye in ms))return!1;if(!(he&&!Ae[Le]&&oi(J,Le))){if(!(qe&&oi(Q,Le))){if(!se[Le]||Ae[Le]){if(!(Us(oe)&&(Me.tagNameCheck instanceof RegExp&&oi(Me.tagNameCheck,oe)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(oe))&&(Me.attributeNameCheck instanceof RegExp&&oi(Me.attributeNameCheck,Le)||Me.attributeNameCheck instanceof Function&&Me.attributeNameCheck(Le))||Le==="is"&&Me.allowCustomizedBuiltInElements&&(Me.tagNameCheck instanceof RegExp&&oi(Me.tagNameCheck,Ye)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(Ye))))return!1}else if(!Vr[Le]){if(!oi(Z,ws(Ye,ie,""))){if(!((Le==="src"||Le==="xlink:href"||Le==="href")&&oe!=="script"&&roe(Ye,"data:")===0&&Wt[oe])){if(!(pe&&!oi(fe,ws(Ye,ie,"")))){if(Ye)return!1}}}}}}return!0},Us=function(oe){return oe!=="annotation-xml"&&MI(oe,W)},Al=function(oe){var Le,Ye,Rt,Xt;nr("beforeSanitizeAttributes",oe,null);var Jr=oe.attributes;if(!(!Jr||mt(oe))){var Lr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:se};for(Xt=Jr.length;Xt--;){Le=Jr[Xt];var en=Le,gr=en.name,eu=en.namespaceURI;if(Ye=gr==="value"?Le.value:noe(Le.value),Rt=rr(gr),Lr.attrName=Rt,Lr.attrValue=Ye,Lr.keepAttr=!0,Lr.forceKeepAttr=void 0,nr("uponSanitizeAttribute",oe,Lr),Ye=Lr.attrValue,!Lr.forceKeepAttr&&(Pe(gr,oe),!!Lr.keepAttr)){if(!Ge&&oi(/\/>/i,Ye)){Pe(gr,oe);continue}$e&&(Ye=ws(Ye,Y," "),Ye=ws(Ye,ee," "),Ye=ws(Ye,K," "));var El=rr(oe.nodeName);if(gi(El,Rt,Ye)){if(Ke&&(Rt==="id"||Rt==="name")&&(Pe(gr,oe),Ye=vt+Ye),it&&oi(/((--!?|])>)|<\/(style|title)/i,Ye)){Pe(gr,oe);continue}if(V&&xc(x)==="object"&&typeof x.getAttributeType=="function"&&!eu)switch(x.getAttributeType(El,Rt)){case"TrustedHTML":{Ye=V.createHTML(Ye);break}case"TrustedScriptURL":{Ye=V.createScriptURL(Ye);break}}try{eu?oe.setAttributeNS(eu,gr,Ye):oe.setAttribute(gr,Ye),mt(oe)?ge(oe):RI(e.removed)}catch{}}}}nr("afterSanitizeAttributes",oe,null)}},gs=function ut(oe){var Le,Ye=Tt(oe);for(nr("beforeSanitizeShadowDOM",oe,null);Le=Ye.nextNode();)nr("uponSanitizeShadowNode",Le,null),Hn(Le),Al(Le),Le.content instanceof i&&ut(Le.content);nr("afterSanitizeShadowDOM",oe,null)};return e.sanitize=function(ut){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Le,Ye,Rt,Xt,Jr;if(Ba=!ut,Ba&&(ut="<!-->"),typeof ut!="string"&&!zt(ut))if(typeof ut.toString=="function"){if(ut=ut.toString(),typeof ut!="string")throw Fw("dirty is not a string, aborting")}else throw Fw("toString is not a function");if(!e.isSupported){if(xc(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof ut=="string")return t.toStaticHTML(ut);if(zt(ut))return t.toStaticHTML(ut.outerHTML)}return ut}if(er||mi(oe),e.removed=[],typeof ut=="string"&&(Ht=!1),Ht){if(ut.nodeName){var Lr=rr(ut.nodeName);if(!ue[Lr]||et[Lr])throw Fw("root node is forbidden and cannot be sanitized in-place")}}else if(ut instanceof s)Le=at("<!---->"),Ye=Le.ownerDocument.importNode(ut,!0),Ye.nodeType===1&&Ye.nodeName==="BODY"||Ye.nodeName==="HTML"?Le=Ye:Le.appendChild(Ye);else{if(!le&&!$e&&!lt&&ut.indexOf("<")===-1)return V&&rt?V.createHTML(ut):ut;if(Le=at(ut),!Le)return le?null:rt?j:""}Le&&je&&ge(Le.firstChild);for(var en=Tt(Ht?ut:Le);Rt=en.nextNode();)Rt.nodeType===3&&Rt===Xt||(Hn(Rt),Al(Rt),Rt.content instanceof i&&gs(Rt.content),Xt=Rt);if(Xt=null,Ht)return ut;if(le){if(ze)for(Jr=k.call(Le.ownerDocument);Le.firstChild;)Jr.appendChild(Le.firstChild);else Jr=Le;return(se.shadowroot||se.shadowrootmod)&&(Jr=M.call(r,Jr,!0)),Jr}var gr=lt?Le.outerHTML:Le.innerHTML;return lt&&ue["!doctype"]&&Le.ownerDocument&&Le.ownerDocument.doctype&&Le.ownerDocument.doctype.name&&oi(poe,Le.ownerDocument.doctype.name)&&(gr="<!DOCTYPE "+Le.ownerDocument.doctype.name+`>
`+gr),$e&&(gr=ws(gr,Y," "),gr=ws(gr,ee," "),gr=ws(gr,K," ")),V&&rt?V.createHTML(gr):gr},e.setConfig=function(ut){mi(ut),er=!0},e.clearConfig=function(){qn=null,er=!1},e.isValidAttribute=function(ut,oe,Le){qn||mi({});var Ye=rr(ut),Rt=rr(oe);return gi(Ye,Rt,Le)},e.addHook=function(ut,oe){typeof oe=="function"&&(U[ut]=U[ut]||[],Jf(U[ut],oe))},e.removeHook=function(ut){if(U[ut])return RI(U[ut])},e.removeHooks=function(ut){U[ut]&&(U[ut]=[])},e.removeAllHooks=function(){U={}},e}var MF=RF();let Ww=null,PF=!0;function boe(t){PF=t}function xoe(){return Ww||(Ww=new(window.AudioContext||window.webkitAudioContext)),Ww}function tn(t,e,r="sine",n=.15){if(PF)try{const i=xoe(),a=i.createOscillator(),s=i.createGain();a.type=r,a.frequency.setValueAtTime(t,i.currentTime),s.gain.setValueAtTime(n,i.currentTime),s.gain.exponentialRampToValueAtTime(.001,i.currentTime+e),a.connect(s),s.connect(i.destination),a.start(i.currentTime),a.stop(i.currentTime+e)}catch{}}const fc={xpGain:()=>{tn(600,.1,"sine",.1),setTimeout(()=>tn(900,.15,"sine",.08),80)},levelUp:()=>{[523,659,784,1047].forEach((e,r)=>{setTimeout(()=>tn(e,.3,"triangle",.12),r*120)})},lootDrop:()=>{tn(1200,.15,"sine",.08),setTimeout(()=>tn(1500,.12,"sine",.06),100),setTimeout(()=>tn(1800,.2,"triangle",.05),180)},questAccept:()=>{tn(440,.15,"square",.06),setTimeout(()=>tn(660,.2,"square",.06),120)},questDeploy:()=>{tn(880,.12,"sawtooth",.05),setTimeout(()=>tn(660,.12,"sawtooth",.05),100),setTimeout(()=>tn(550,.2,"sawtooth",.04),200)},equip:()=>{tn(200,.05,"square",.1),setTimeout(()=>tn(400,.08,"sine",.08),50)},salvage:()=>{tn(300,.15,"sawtooth",.06),setTimeout(()=>tn(200,.2,"sawtooth",.04),100),setTimeout(()=>tn(100,.3,"sawtooth",.03),200)},craft:()=>{tn(150,.08,"square",.1),setTimeout(()=>tn(800,.2,"triangle",.08),60)},error:()=>{tn(200,.15,"square",.08),setTimeout(()=>tn(150,.2,"square",.06),120)},messageSend:()=>{tn(500,.06,"sine",.05)},notification:()=>{tn(800,.1,"sine",.06),setTimeout(()=>tn(1e3,.12,"sine",.04),120)}},woe=({onComplete:t,contentUrl:e,htmlContent:r,userId:n,assignmentId:i,classType:a})=>{const s=q.useRef(dv()),c=q.useRef(Date.now()),u=q.useRef(t),[f,m]=q.useState(!0),[g,v]=q.useState(0),[x,T]=q.useState(!1),[S,_]=q.useState(null),[C,I]=q.useState(0),[P,V]=q.useState(0),j=q.useRef(null),D=q.useRef(null),A=q.useRef(new Set);q.useEffect(()=>{u.current=t},[t]);const N=q.useCallback(()=>{c.current=Date.now(),f||m(!0)},[f]);return q.useEffect(()=>{const k=setInterval(()=>{Date.now()-c.current<6e4?(s.current.engagementTime+=1,v(s.current.engagementTime),f||m(!0)):f&&m(!1)},1e3);return()=>clearInterval(k)},[f]),q.useEffect(()=>{const k=["mousemove","keydown","scroll","click"];return k.forEach($=>window.addEventListener($,N)),()=>k.forEach($=>window.removeEventListener($,N))},[N]),q.useEffect(()=>()=>{u.current(s.current)},[]),q.useEffect(()=>{if(!n||!i)return;const k=async $=>{var U,Y,ee,K,J,Q,fe,ie;const M=j.current;if(!M)return;const z=$.data;if(!(!z||typeof z!="object"||!((U=z.type)!=null&&U.startsWith("portal-"))))switch(N(),z.type){case"portal-ready":{T(!0);try{const W=await _i(ht(He,"practice_progress",`${n}_${i}`)),Z=W.exists()?W.data():null,ue=Z?{state:Z.state||null,currentQuestion:Z.currentQuestion??0}:null,Oe=(Z==null?void 0:Z.answeredQuestions)||[];Oe.forEach(se=>A.current.add(se)),I(Oe.length),(Y=M.contentWindow)==null||Y.postMessage({type:"portal-init",payload:{userId:n,savedState:ue}},"*")}catch(W){console.error("Bridge: Failed to load saved state",W),(ee=M.contentWindow)==null||ee.postMessage({type:"portal-init",payload:{userId:n,savedState:null}},"*")}break}case"portal-save":{const{state:W,currentQuestion:Z}=z.payload||{};if(!W)break;try{await Bi(ht(He,"practice_progress",`${n}_${i}`),{userId:n,assignmentId:i,state:W,currentQuestion:Z??0,answeredQuestions:Array.from(A.current),lastUpdated:new Date().toISOString()},{merge:!0}),(K=M.contentWindow)==null||K.postMessage({type:"portal-save-ok"},"*")}catch(ue){console.error("Bridge: Save failed",ue),(J=M.contentWindow)==null||J.postMessage({type:"portal-save-error"},"*")}break}case"portal-answer":{const{questionId:W,correct:Z,attempts:ue}=z.payload||{};if(!W)break;if(Z&&!A.current.has(W)){A.current.add(W),I(se=>se+1);const Oe=ue===1?15:10;try{const ke=(await x$({assignmentId:i,questionId:W,xpAmount:Oe,classType:a||"Uncategorized"})).data;if(ke.awarded){const Me=ke.serverXP||Oe;V(et=>et+Me),_({text:`+${Me} XP`,type:"success"}),fc.xpGain(),setTimeout(()=>_(null),2e3)}(Q=M.contentWindow)==null||Q.postMessage({type:"portal-xp-result",payload:{questionId:W,awarded:ke.awarded,xp:ke.serverXP||Oe}},"*")}catch(se){console.error("Bridge: XP award failed",se),(fe=M.contentWindow)==null||fe.postMessage({type:"portal-xp-result",payload:{questionId:W,awarded:!1,xp:0}},"*")}}else Z&&((ie=M.contentWindow)==null||ie.postMessage({type:"portal-xp-result",payload:{questionId:W,awarded:!1,xp:0}},"*"));break}}};return window.addEventListener("message",k),()=>window.removeEventListener("message",k)},[n,i,a,N]),q.useEffect(()=>{if(D.current&&r){const k=r.replace(/\$(.*?)\$/g,($,M)=>{try{return wv.renderToString(M,{throwOnError:!1})}catch{return M}});D.current.innerHTML=MF.sanitize(k,{ADD_TAGS:["annotation","semantics","mrow","mi","mn","mo","msup","msub","mfrac","mtext","math"],ADD_ATTR:["xmlns","encoding"]})}},[r]),h.jsxs("div",{className:"flex flex-col h-full bg-black/20 border border-white/10 rounded-2xl overflow-hidden relative",children:[h.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 flex justify-between items-center border-b border-white/5 z-20",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:`flex items-center gap-2 text-sm font-bold ${f?"text-green-400":"text-yellow-500"}`,children:[f?h.jsx(U8,{className:"w-4 h-4"}):h.jsx(lo,{className:"w-4 h-4 animate-pulse"}),f?"Active Session":"Away (Paused)"]}),h.jsxs("div",{className:"text-xs text-gray-400 font-mono bg-black/40 px-2 py-1 rounded",children:["TIME: ",Math.floor(g/60),"m ",g%60,"s"]}),x&&C>0&&h.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-purple-300 bg-purple-500/10 px-3 py-1 rounded-full border border-purple-500/20",children:[h.jsx(Ai,{className:"w-3 h-3"})," ",C," answered"]}),x&&P>0&&h.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-amber-300 bg-amber-500/10 px-3 py-1 rounded-full border border-amber-500/20",children:[h.jsx(oa,{className:"w-3 h-3"})," ",P," XP"]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[x&&h.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-green-400 bg-green-500/10 px-2.5 py-1 rounded-full border border-green-500/20 uppercase font-bold tracking-widest",children:[h.jsx(oa,{className:"w-3 h-3"})," XP Linked"]}),!f&&h.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-yellow-500 bg-yellow-500/10 px-3 py-1 rounded-full border border-yellow-500/20 uppercase font-bold tracking-widest",children:[h.jsx(ss,{className:"w-3 h-3"})," Resume movement for XP"]})]})]}),S&&h.jsx("div",{className:"absolute top-14 right-4 z-30 animate-in slide-in-from-right fade-in duration-300",children:h.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl shadow-lg font-bold text-sm ${S.type==="success"?"bg-green-600/90 text-white border border-green-400/30":"bg-blue-600/90 text-white border border-blue-400/30"}`,children:[S.type==="success"?h.jsx(Ai,{className:"w-4 h-4"}):h.jsx(mv,{className:"w-4 h-4"}),S.text]})}),h.jsxs("div",{className:"flex-1 relative overflow-hidden flex flex-col",children:[e?h.jsx("iframe",{ref:j,src:e,className:"w-full flex-1 border-none bg-white",title:"Resource Viewer",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals",onLoad:N}):h.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-600 italic",children:h.jsxs("div",{className:"text-center",children:[h.jsx(S$,{className:"w-12 h-12 mx-auto mb-2 opacity-10"}),h.jsx("p",{className:"font-mono text-sm uppercase",children:"No interactive link found."})]})}),r&&h.jsxs("div",{className:"h-1/3 bg-[#0f0720]/95 border-t border-white/10 overflow-y-auto p-6 text-gray-300 shadow-[0_-10px_30px_rgba(0,0,0,0.8)] z-10 custom-scrollbar",children:[h.jsxs("h3",{className:"text-white font-bold mb-3 text-xs uppercase tracking-widest flex items-center gap-2",children:[h.jsx(N$,{className:"w-4 h-4 text-purple-400"})," Operational Context"]}),h.jsx("div",{ref:D,className:"proctor-content text-sm leading-relaxed"})]})]})]})},_oe=()=>{const[t,e]=q.useState(!1),[r,n]=q.useState(null),i=async()=>{e(!0),n(null);try{await YQ(US,zne)}catch(s){console.error("Login Error:",s),n(s.message),e(!1)}},a=r&&r.includes("api-key-not-valid");return h.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 p-6 relative overflow-hidden font-sans",children:[h.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-indigo-600/20 rounded-full blur-3xl"}),h.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-600/20 rounded-full blur-3xl"}),h.jsx("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl overflow-hidden z-10 animate-in fade-in zoom-in-95 duration-300",children:h.jsxs("div",{className:"p-10 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl mx-auto flex items-center justify-center mb-6 shadow-lg transform -rotate-3 transition hover:rotate-0",children:h.jsx("span",{className:"text-3xl",children:""})}),h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),h.jsx("p",{className:"text-gray-500 mb-8",children:"Porter's Physics & Forensics Portal"}),r&&h.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm text-left animate-in slide-in-from-top-2",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(ss,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"break-words",children:[h.jsx("strong",{children:"Login Failed:"})," ",r]})]}),a&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-red-200 text-red-700",children:[h.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[h.jsx(hie,{className:"w-4 h-4"}),"Action Required:"]}),h.jsxs("p",{className:"text-xs leading-relaxed",children:["The app is missing your Firebase API Key. Please open ",h.jsx("code",{children:"lib/firebase.ts"})," and replace",h.jsx("code",{children:'"INSERT_YOUR_API_KEY_HERE"'})," with your actual key from the Firebase Console."]})]})]}),h.jsx("button",{onClick:i,disabled:t,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-3 px-4 rounded-xl transition-all shadow-sm hover:shadow-md group disabled:opacity-70 disabled:cursor-not-allowed mb-6",children:t?h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-indigo-600"}):h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),h.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),h.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),h.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),h.jsx("span",{children:"Sign in with Google"})]})}),h.jsxs("div",{className:"flex items-center gap-4 justify-center text-xs text-gray-400",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})," Secure Connection"]}),h.jsx("span",{children:""}),h.jsx("span",{children:"Firebase Auth"})]})]})})]})},DF=q.createContext(null),Wc=()=>{const t=q.useContext(DF);if(!t)throw new Error("useConfirm must be used within ConfirmProvider");return t},Soe=({children:t})=>{const[e,r]=q.useState({isOpen:!1,options:{message:""}}),n=q.useRef(null),i=q.useRef(null),a=q.useCallback(m=>new Promise(g=>{n.current=g,r({isOpen:!0,options:m})}),[]),s=q.useCallback(()=>{var m;(m=n.current)==null||m.call(n,!0),n.current=null,r(g=>({...g,isOpen:!1}))},[]),c=q.useCallback(()=>{var m;(m=n.current)==null||m.call(n,!1),n.current=null,r(g=>({...g,isOpen:!1}))},[]);q.useEffect(()=>{if(e.isOpen){const m=setTimeout(()=>{var g;(g=i.current)==null||g.focus()},50);return()=>clearTimeout(m)}},[e.isOpen]),q.useEffect(()=>{if(!e.isOpen)return;const m=g=>{g.key==="Escape"&&c(),g.key==="Enter"&&s()};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[e.isOpen,c,s]);const{variant:u="danger"}=e.options,f={danger:{bg:"bg-red-600 hover:bg-red-500",icon:"text-red-400",border:"border-red-500/30"},warning:{bg:"bg-amber-600 hover:bg-amber-500",icon:"text-amber-400",border:"border-amber-500/30"},info:{bg:"bg-purple-600 hover:bg-purple-500",icon:"text-purple-400",border:"border-purple-500/30"}}[u];return h.jsxs(DF.Provider,{value:{confirm:a},children:[t,e.isOpen&&h.jsxs("div",{className:"fixed inset-0 flex items-center justify-center p-4",style:{zIndex:99999},role:"dialog","aria-modal":"true","aria-label":"Confirmation dialog",children:[h.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:c}),h.jsxs("div",{className:`relative bg-gray-900 border ${f.border} rounded-2xl p-6 max-w-sm w-full shadow-2xl`,style:{animation:"confirmIn 150ms ease-out"},children:[h.jsxs("div",{className:"flex items-start gap-4 mb-5",children:[h.jsx("div",{className:`p-2 rounded-xl bg-white/5 ${f.icon} shrink-0`,children:h.jsx(ss,{className:"w-5 h-5"})}),h.jsxs("div",{children:[e.options.title&&h.jsx("h3",{className:"font-bold text-white text-sm mb-1",children:e.options.title}),h.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e.options.message})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:c,className:"flex-1 py-2.5 bg-white/5 border border-white/10 text-gray-300 rounded-xl text-sm font-bold hover:bg-white/10 transition",children:e.options.cancelLabel||"Cancel"}),h.jsx("button",{ref:i,onClick:s,className:`flex-1 py-2.5 ${f.bg} text-white rounded-xl text-sm font-bold transition`,children:e.options.confirmLabel||"Confirm"})]})]})]}),h.jsx("style",{children:`
                @keyframes confirmIn {
                    from { opacity: 0; transform: scale(0.95); }
                    to { opacity: 1; transform: scale(1); }
                }
            `})]})},UI={INFO:{bg:"bg-blue-500/10",border:"border-blue-500/30",text:"text-blue-400",icon:h.jsx(A$,{className:"w-4 h-4"})},WARNING:{bg:"bg-yellow-500/10",border:"border-yellow-500/30",text:"text-yellow-400",icon:h.jsx(ss,{className:"w-4 h-4"})},URGENT:{bg:"bg-red-500/10",border:"border-red-500/30",text:"text-red-400",icon:h.jsx(Aie,{className:"w-4 h-4"})}},Toe=({announcements:t,studentIds:e})=>{const{confirm:r}=Wc(),n=fo(),[i,a]=q.useState(!1),[s,c]=q.useState(""),[u,f]=q.useState(""),[m,g]=q.useState("INFO"),[v,x]=q.useState("GLOBAL"),T=async()=>{if(!(!s.trim()||!u.trim()))try{await Ze.createAnnouncement({title:s.trim(),content:u.trim(),classType:v,priority:m,createdAt:new Date().toISOString(),expiresAt:null,createdBy:"ADMIN"}),await Ze.notifyUsers(e,"ANNOUNCEMENT",s.trim(),u.trim().slice(0,100)),c(""),f(""),a(!1),n.success("Announcement broadcast sent.")}catch{n.error("Failed to create announcement.")}},S=async _=>{await r({message:"Delete this announcement?",confirmLabel:"Delete"})&&await Ze.deleteAnnouncement(_)};return h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-md",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[h.jsx(VS,{className:"w-5 h-5 text-orange-400"}),"Announcements"]}),h.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-1.5 px-3 py-1.5 bg-orange-600 hover:bg-orange-500 text-white rounded-xl text-xs font-bold transition",children:[h.jsx(Vc,{className:"w-3.5 h-3.5"})," Broadcast"]})]}),t.length===0?h.jsxs("div",{className:"text-center py-6 text-gray-500 italic",children:[h.jsx(VS,{className:"w-10 h-10 mx-auto mb-2 opacity-20"}),"No active announcements."]}):h.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto custom-scrollbar pr-1",children:t.map(_=>{const C=UI[_.priority]||UI.INFO;return h.jsxs("div",{className:`p-3 ${C.bg} border ${C.border} rounded-xl flex justify-between items-start`,children:[h.jsxs("div",{className:"flex gap-2 items-start",children:[h.jsx("div",{className:`mt-0.5 ${C.text}`,children:C.icon}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-bold text-white",children:_.title}),h.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:_.content}),h.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[_.classType==="GLOBAL"?"All Classes":_.classType,"  ",new Date(_.createdAt).toLocaleDateString()]})]})]}),h.jsx("button",{onClick:()=>S(_.id),className:"p-1 text-gray-500 hover:text-red-400 transition shrink-0",children:h.jsx(Ei,{className:"w-3.5 h-3.5"})})]},_.id)})}),h.jsx(Ia,{isOpen:i,onClose:()=>a(!1),title:"New Announcement",maxWidth:"max-w-md",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Title"}),h.jsx("input",{type:"text",value:s,onChange:_=>c(_.target.value),placeholder:"Quiz moved to Friday...",className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white focus:outline-none focus:border-purple-500 transition",maxLength:80})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Message"}),h.jsx("textarea",{value:u,onChange:_=>f(_.target.value),placeholder:"Details...",rows:3,className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white focus:outline-none focus:border-purple-500 transition resize-none",maxLength:300})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Priority"}),h.jsxs("select",{value:m,onChange:_=>g(_.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white",children:[h.jsx("option",{value:"INFO",children:"Info"}),h.jsx("option",{value:"WARNING",children:"Warning"}),h.jsx("option",{value:"URGENT",children:"Urgent"})]})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Audience"}),h.jsxs("select",{value:v,onChange:_=>x(_.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white",children:[h.jsx("option",{value:"GLOBAL",children:"All Classes"}),Object.values(Or).filter(_=>_!=="Uncategorized").map(_=>h.jsx("option",{value:_,children:_},_))]})]})]}),h.jsx("button",{onClick:T,disabled:!s.trim()||!u.trim(),className:"w-full bg-orange-600 hover:bg-orange-500 disabled:opacity-40 disabled:cursor-not-allowed text-white py-3 rounded-2xl font-bold transition",children:"Broadcast Announcement"})]})})]})},zI=["Hydrogen","Helium","Lithium","Beryllium","Boron","Carbon","Nitrogen","Oxygen","Fluorine","Neon","Sodium","Magnesium","Aluminum","Silicon","Phosphorus","Sulfur","Chlorine","Argon","Potassium","Calcium","Scandium","Titanium","Vanadium","Chromium","Manganese","Iron","Cobalt","Nickel","Copper","Zinc","Gallium","Germanium","Arsenic","Selenium","Bromine","Krypton","Rubidium","Strontium","Yttrium","Zirconium"],Aoe=["I","II","III","IV","V"],Eoe=t=>[2,10,18,36,54,86].includes(t)?{color:"border-fuchsia-500 text-fuchsia-400",glow:"shadow-fuchsia-500/50"}:[9,17,35,53,85].includes(t)?{color:"border-yellow-400 text-yellow-400",glow:"shadow-yellow-400/40"}:[3,11,19,37,55,87].includes(t)?{color:"border-red-500 text-red-500",glow:"shadow-red-500/40"}:{color:"border-cyan-400 text-cyan-400",glow:"shadow-cyan-400/30"},Sv=t=>{const e=Math.floor((t-1)/5),r=(t-1)%5,n=Math.min(e,zI.length-1),i=zI[n]||"Unknownium",a=Aoe[r],s=n+1,c=Eoe(s);return{rankName:`${i} ${a}`,tierColor:c.color,tierGlow:c.glow}},Ou={RECALIBRATE:5,REFORGE:25,OPTIMIZE:50},VI=t=>{const e=t.affixes.reduce((i,a)=>i+a.tier,0),r=t.affixes.length>0?e/t.affixes.length:1;let n=0;switch(t.rarity){case"COMMON":n=2;break;case"UNCOMMON":n=5;break;case"RARE":n=15;break;case"UNIQUE":n=50;break}return Math.floor(n*(1+r*.2))},LF=t=>{var i;const e={tech:10,focus:10,analysis:10,charisma:10};if(!((i=t.gamification)!=null&&i.equipped))return e;const r=t.gamification.equipped;return Object.values(r).filter(Boolean).forEach(a=>{a.stats&&Object.entries(a.stats).forEach(([s,c])=>{e[s]+=c})}),e},lA=t=>{if(!t)return 0;let e=0;const r=Object.values(t).filter(Boolean);return r.length===0?0:(r.forEach(n=>{let i=n.affixes.map(c=>c.tier);n.rarity==="UNIQUE"&&i.length===0&&(i=[10]);const a=i.length>0?i.reduce((c,u)=>c+u,0)/i.length:1;let s=0;switch(n.rarity){case"COMMON":s=0;break;case"UNCOMMON":s=10;break;case"RARE":s=30;break;case"UNIQUE":s=60;break}e+=a*10+s}),Math.floor(e))},rn=t=>{switch(t){case"COMMON":return{border:"border-slate-500",text:"text-slate-300",bg:"bg-slate-500/10",glow:"shadow-none",shimmer:""};case"UNCOMMON":return{border:"border-emerald-500",text:"text-emerald-400",bg:"bg-emerald-500/10",glow:"shadow-emerald-500/20",shimmer:"rarity-shimmer-uncommon"};case"RARE":return{border:"border-yellow-400",text:"text-yellow-300",bg:"bg-yellow-500/10",glow:"shadow-yellow-500/30",shimmer:"rarity-shimmer-rare"};case"UNIQUE":return{border:"border-orange-500",text:"text-orange-400",bg:"bg-orange-500/10",glow:"shadow-orange-500/40",shimmer:"rarity-shimmer-unique"};default:return{border:"border-slate-500",text:"text-slate-300",bg:"bg-slate-500/10",glow:"shadow-none",shimmer:""}}};function BF(t,e){var i;const r=t.gamification;if(!r)return{inventory:[],equipped:{},appearance:{bodyType:"A",hue:0}};const n=(i=r.classProfiles)==null?void 0:i[e];return n?{inventory:n.inventory||[],equipped:n.equipped||{},appearance:n.appearance||{bodyType:"A",hue:0}}:{inventory:r.inventory||[],equipped:r.equipped||{},appearance:r.appearance||{bodyType:"A",hue:0}}}const Noe=({student:t,submissions:e,assignments:r,onClose:n})=>{var _,C,I,P,V,j,D,A,N,k;const i=((_=t.gamification)==null?void 0:_.level)||1,a=((C=t.gamification)==null?void 0:C.xp)||0,s=((I=t.gamification)==null?void 0:I.currency)||0,c=Sv(i),u=LF(t),f=t.enrolledClasses||(t.classType?[t.classType]:[]),m=((V=(P=t.gamification)==null?void 0:P.completedQuests)==null?void 0:V.length)||0,g=((D=(j=t.gamification)==null?void 0:j.activeQuests)==null?void 0:D.filter($=>$.status==="ACCEPTED"||$.status==="DEPLOYED").length)||0,v=q.useMemo(()=>f.map($=>{var J,Q;const M=((Q=(J=t.gamification)==null?void 0:J.classXp)==null?void 0:Q[$])||0,z=BF(t,$),U=lA(z.equipped),Y=z.inventory.length,ee=e.filter(fe=>{const ie=r.find(W=>W.id===fe.assignmentId);return(ie==null?void 0:ie.classType)===$}),K=Math.round(ee.reduce((fe,ie)=>{var W;return fe+(((W=ie.metrics)==null?void 0:W.engagementTime)||0)},0)/60);return{cls:$,classXp:M,gearScore:U,inventoryCount:Y,resourcesViewed:ee.length,totalTime:K}}),[t,e,r,f]),x=q.useMemo(()=>e.filter($=>$.submittedAt).sort(($,M)=>new Date(M.submittedAt).getTime()-new Date($.submittedAt).getTime()).slice(0,10).map($=>{var M,z;return{...$,assignmentTitle:((M=r.find(U=>U.id===$.assignmentId))==null?void 0:M.title)||$.assignmentTitle,classType:((z=r.find(U=>U.id===$.assignmentId))==null?void 0:z.classType)||"Unknown"}}),[e,r]),T=Math.round(e.reduce(($,M)=>{var z;return $+(((z=M.metrics)==null?void 0:z.engagementTime)||0)},0)/60),S=q.useMemo(()=>{const $=new Set;e.forEach(K=>{if(K.submittedAt){const J=new Date(K.submittedAt),Q=J.getFullYear(),fe=new Date(Q,0,1),ie=Math.ceil(((J.getTime()-fe.getTime())/864e5+fe.getDay()+1)/7);$.add(`${Q}-W${ie}`)}});const M=new Date,z=M.getFullYear(),U=new Date(z,0,1),Y=Math.ceil(((M.getTime()-U.getTime())/864e5+U.getDay()+1)/7);let ee=0;for(let K=Y;K>0&&$.has(`${z}-W${K}`);K--)ee++;return ee},[e]);return h.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[h.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:n}),h.jsxs("div",{className:"relative w-full max-w-lg bg-[#12132a]/98 border-l border-white/10 h-full overflow-y-auto custom-scrollbar animate-in slide-in-from-right duration-300 shadow-2xl",children:[h.jsxs("div",{className:"sticky top-0 z-10 bg-[#12132a]/95 backdrop-blur-md border-b border-white/5 p-6 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:`w-14 h-14 rounded-2xl p-0.5 bg-gradient-to-tr from-white/10 to-white/5 ${c.tierGlow} shadow-xl`,children:t.avatarUrl?h.jsx("img",{src:t.avatarUrl,alt:t.name,className:`w-full h-full rounded-2xl border-2 object-cover ${c.tierColor.split(" ")[0]}`}):h.jsx("div",{className:`w-full h-full rounded-2xl border-2 ${c.tierColor.split(" ")[0]} bg-purple-500/20 flex items-center justify-center text-xl font-bold text-white`,children:t.name.charAt(0)})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-bold text-white",children:t.name}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:`text-[10px] font-mono uppercase font-bold tracking-widest ${c.tierColor.split(" ")[1]}`,children:c.rankName}),h.jsxs("span",{className:"text-[10px] text-gray-500",children:[" Lv.",i]})]}),((A=t.gamification)==null?void 0:A.codename)&&h.jsxs("div",{className:"text-[10px] text-purple-400 italic",children:['"',t.gamification.codename,'"']})]})]}),h.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-xl transition",children:h.jsx(Rs,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[h.jsx(oa,{className:"w-5 h-5 text-purple-400 mx-auto mb-1"}),h.jsx("div",{className:"text-lg font-bold text-white",children:a.toLocaleString()}),h.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Total XP"})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[h.jsx(lo,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),h.jsxs("div",{className:"text-lg font-bold text-white",children:[T,"m"]}),h.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Total Time"})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[h.jsx(Is,{className:"w-5 h-5 text-emerald-400 mx-auto mb-1"}),h.jsx("div",{className:"text-lg font-bold text-white",children:e.length}),h.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Resources"})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[h.jsx(zS,{className:"w-5 h-5 text-orange-400 mx-auto mb-1"}),h.jsx("div",{className:"text-lg font-bold text-white",children:m}),h.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Missions"})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[h.jsx(GC,{className:"w-5 h-5 text-yellow-400 mx-auto mb-1"}),h.jsx("div",{className:"text-lg font-bold text-white",children:s}),h.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Cyber-Flux"})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[h.jsx(T$,{className:"w-5 h-5 text-red-400 mx-auto mb-1"}),h.jsxs("div",{className:"text-lg font-bold text-white",children:[S,"w"]}),h.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Streak"})]})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[h.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Operative Stats"}),h.jsx("div",{className:"space-y-2",children:Object.entries(u).map(([$,M])=>h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-[10px] text-gray-400 uppercase w-16 font-bold",children:$}),h.jsx("div",{className:"flex-1 h-2 bg-white/5 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-cyan-400 rounded-full transition-all",style:{width:`${Math.min(100,M)}%`}})}),h.jsx("span",{className:"text-xs text-white font-bold w-8 text-right",children:M})]},$))})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[h.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Class Performance"}),h.jsx("div",{className:"space-y-3",children:v.map($=>h.jsxs("div",{className:"bg-black/20 rounded-xl p-3 border border-white/5",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("span",{className:"text-sm font-bold text-white",children:$.cls}),h.jsxs("span",{className:"text-xs text-purple-400 font-bold",children:[$.classXp.toLocaleString()," XP"]})]}),h.jsxs("div",{className:"flex gap-4 text-[10px] text-gray-400",children:[h.jsxs("span",{children:[h.jsx(Mc,{className:"w-3 h-3 inline mr-0.5"}),$.gearScore," GS"]}),h.jsxs("span",{children:[h.jsx(GC,{className:"w-3 h-3 inline mr-0.5"}),$.inventoryCount," items"]}),h.jsxs("span",{children:[h.jsx(Is,{className:"w-3 h-3 inline mr-0.5"}),$.resourcesViewed," viewed"]}),h.jsxs("span",{children:[h.jsx(lo,{className:"w-3 h-3 inline mr-0.5"}),$.totalTime,"m"]})]})]},$.cls))})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[h.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Recent Activity"}),x.length===0?h.jsx("p",{className:"text-xs text-gray-500 italic text-center py-4",children:"No recorded activity."}):h.jsx("div",{className:"space-y-2",children:x.map($=>{var z;const M=Math.round((((z=$.metrics)==null?void 0:z.engagementTime)||0)/60);return h.jsxs("div",{className:"flex items-center gap-3 py-2 border-b border-white/5 last:border-0",children:[h.jsx("div",{className:`w-2 h-2 rounded-full ${M>=5?"bg-green-500":M>=1?"bg-yellow-500":"bg-gray-500"}`}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"text-xs text-white font-bold truncate",children:$.assignmentTitle}),h.jsxs("div",{className:"text-[10px] text-gray-500",children:[$.classType,"  ",M,"m engaged"]})]}),h.jsx("div",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:$.submittedAt?new Date($.submittedAt).toLocaleDateString([],{month:"short",day:"numeric"}):""})]},$.id)})})]}),g>0&&h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[h.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Active Missions"}),h.jsx("div",{className:"space-y-2",children:(k=(N=t.gamification)==null?void 0:N.activeQuests)==null?void 0:k.filter($=>$.status==="ACCEPTED"||$.status==="DEPLOYED").map($=>h.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/5 last:border-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(zS,{className:`w-3.5 h-3.5 ${$.status==="DEPLOYED"?"text-yellow-400":"text-blue-400"}`}),h.jsx("span",{className:"text-xs text-white",children:$.questId})]}),h.jsx("span",{className:`text-[10px] font-bold uppercase ${$.status==="DEPLOYED"?"text-yellow-400":"text-blue-400"}`,children:$.status})]},$.questId))})]}),h.jsxs("div",{className:"text-[10px] text-gray-600 space-y-1 pb-4",children:[h.jsxs("div",{children:["Email: ",t.email]}),h.jsxs("div",{children:["Section: ",t.section||"Unassigned"]}),h.jsxs("div",{children:["Enrolled: ",f.join(", ")||"None"]}),h.jsxs("div",{children:["Last login: ",t.lastLoginAt?new Date(t.lastLoginAt).toLocaleString():"Never"]}),h.jsxs("div",{children:["Created: ",t.createdAt?new Date(t.createdAt).toLocaleDateString():""]}),t.mutedUntil&&new Date(t.mutedUntil)>new Date&&h.jsxs("div",{className:"text-orange-400 font-bold",children:[" Muted until ",new Date(t.mutedUntil).toLocaleString()]})]})]})]})]})},Ooe=({users:t,assignments:e=[],submissions:r=[]})=>{const{confirm:n}=Wc(),[i,a]=q.useState(null),[s,c]=q.useState([]),[u,f]=q.useState([]),[m,g]=q.useState(Date.now());q.useEffect(()=>{const A=Ze.subscribeToChatFlags(c),N=Ze.subscribeToAnnouncements(f),k=setInterval(()=>g(Date.now()),6e4);return()=>{A(),N(),clearInterval(k)}},[]);const v=t.filter(A=>A.role==="STUDENT"),x=v.length,T=Math.round(v.reduce((A,N)=>{var k;return A+(((k=N.stats)==null?void 0:k.totalTime)||0)},0)/(x||1)),S=v.reduce((A,N)=>{var k;return A+(((k=N.stats)==null?void 0:k.problemsCompleted)||0)},0),_=v.reduce((A,N)=>{var k;return A+(((k=N.gamification)==null?void 0:k.xp)||0)},0),C=v.filter(A=>A.mutedUntil&&new Date(A.mutedUntil).getTime()>m),I=async A=>{await n({message:"Lift silence sanction for this operative?",confirmLabel:"Unmute",variant:"info"})&&await Ze.muteUser(A,0)},P=async(A,N)=>{const k=new Date(N).getTime(),$=new Date(Math.max(k,Date.now())+3600*1e3),M=Math.ceil(($.getTime()-Date.now())/6e4);await Ze.muteUser(A,M)},V=({label:A,value:N,icon:k,color:$})=>h.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-2xl relative overflow-hidden group hover:border-white/20 transition-all duration-300",children:[h.jsx("div",{className:`absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-40 transition-opacity ${$}`,children:k}),h.jsxs("div",{className:"relative z-10",children:[h.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:N}),h.jsx("div",{className:"text-sm font-medium text-gray-400 uppercase tracking-wider",children:A})]}),h.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r ${$}`})]}),j=A=>{const k=new Date(A).getTime()-m;if(k<=0)return"Expired";const $=Math.ceil(k/6e4);return $>60?`${Math.ceil($/60)} hrs`:`${$} mins`},D=A=>{if(!A)return"Never";const N=new Date(A),k=Date.now()-N.getTime(),$=Math.floor(k/6e4);if($<1)return"Just now";if($<60)return`${$}m ago`;const M=Math.floor($/60);return M<24?`${M}h ago`:N.toLocaleDateString()};return h.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-10",children:[h.jsx("div",{className:"flex justify-between items-end",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Teacher Dashboard"}),h.jsx("p",{className:"text-gray-400",children:"Engagement analytics and operational overview."})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.jsx(V,{label:"Total Students",value:x,icon:h.jsx(id,{className:"w-12 h-12"}),color:"from-blue-500 to-cyan-400"}),h.jsx(V,{label:"Total XP Awarded",value:_.toLocaleString(),icon:h.jsx(oa,{className:"w-12 h-12"}),color:"from-purple-500 to-pink-500"}),h.jsx(V,{label:"Resources Viewed",value:S,icon:h.jsx(z8,{className:"w-12 h-12"}),color:"from-emerald-500 to-teal-400"}),h.jsx(V,{label:"Avg Active Time",value:`${T}m`,icon:h.jsx(lo,{className:"w-12 h-12"}),color:"from-amber-500 to-orange-400"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:`border rounded-3xl p-6 backdrop-blur-md transition-colors ${s.length>0?"bg-red-900/10 border-red-500/30":"bg-white/5 border-white/10"}`,children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h3",{className:`text-xl font-bold flex items-center gap-2 ${s.length>0?"text-red-400":"text-white"}`,children:[s.length>0?h.jsx(ss,{className:"w-5 h-5"}):h.jsx(lx,{className:"w-5 h-5 text-gray-400"}),"Moderation Queue"]}),h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${s.length>0?"bg-red-500 text-white animate-pulse":"bg-green-500/20 text-green-400"}`,children:s.length>0?`${s.length} Issues`:"Secure"})]}),s.length===0?h.jsxs("div",{className:"text-center py-8 text-gray-500 italic",children:[h.jsx(fv,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),"No active alerts. Comms channels are clear."]}):h.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto custom-scrollbar pr-2",children:s.map(A=>h.jsxs("div",{className:"bg-black/20 border border-red-500/20 p-3 rounded-xl",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-bold text-white",children:[A.senderName," ",h.jsxs("span",{className:"text-xs text-gray-500 font-normal",children:["in ",A.classType]})]}),h.jsxs("div",{className:"text-xs text-red-300 italic mt-1",children:['"',A.content,'"']})]}),h.jsx("div",{className:"text-[10px] text-gray-500 whitespace-nowrap ml-2",children:new Date(A.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),h.jsxs("div",{className:"flex gap-2 mt-2",children:[h.jsxs("button",{onClick:async()=>{await Ze.resolveFlag(A.id),A.messageId&&await Ze.unflagMessage(A.messageId).catch(()=>{})},className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 bg-emerald-600/20 hover:bg-emerald-600/40 border border-emerald-500/30 text-emerald-400 rounded-lg text-[11px] font-bold transition",children:[h.jsx(B8,{className:"w-3 h-3"})," Dismiss"]}),h.jsxs("button",{onClick:async()=>{await n({message:"Delete flagged message and resolve?",confirmLabel:"Delete"})&&(await Ze.resolveFlag(A.id),A.messageId&&await Ze.deleteMessage(A.messageId).catch(()=>{}))},className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 bg-red-600/20 hover:bg-red-600/40 border border-red-500/30 text-red-400 rounded-lg text-[11px] font-bold transition",children:[h.jsx(Ei,{className:"w-3 h-3"})," Delete"]})]})]},A.id))})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-md",children:[h.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[h.jsx(xie,{className:"w-5 h-5 text-orange-400"}),"Silenced Operatives"]}),C.length===0?h.jsxs("div",{className:"text-center py-8 text-gray-500 italic",children:[h.jsx(id,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),"No active silence sanctions."]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-left",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-white/10 text-[10px] uppercase font-bold text-gray-500",children:[h.jsx("th",{className:"pb-2",children:"Operative"}),h.jsx("th",{className:"pb-2",children:"Remaining"}),h.jsx("th",{className:"pb-2 text-right",children:"Protocol"})]})}),h.jsx("tbody",{className:"divide-y divide-white/5",children:C.map(A=>h.jsxs("tr",{className:"group hover:bg-white/5 transition",children:[h.jsxs("td",{className:"py-3",children:[h.jsx("div",{className:"text-sm font-bold text-white",children:A.name}),h.jsx("div",{className:"text-[10px] text-gray-500",children:A.classType})]}),h.jsx("td",{className:"py-3",children:h.jsx("span",{className:"bg-orange-500/20 text-orange-300 px-2 py-1 rounded text-xs font-mono",children:j(A.mutedUntil)})}),h.jsx("td",{className:"py-3 text-right",children:h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx("button",{onClick:()=>P(A.id,A.mutedUntil),className:"p-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-gray-300 hover:text-white transition",title:"Extend +1hr",children:h.jsx(pv,{className:"w-3.5 h-3.5"})}),h.jsx("button",{onClick:()=>I(A.id),className:"p-1.5 rounded-lg bg-green-500/20 hover:bg-green-500/30 text-green-400 transition",title:"Unmute",children:h.jsx(fv,{className:"w-3.5 h-3.5"})})]})})]},A.id))})]})})]})]}),h.jsx("div",{className:"mt-8",children:h.jsx(Toe,{announcements:u,studentIds:v.map(A=>A.id)})}),h.jsxs("div",{className:"mt-8 bg-white/5 backdrop-blur-md border border-white/10 rounded-3xl p-8",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Student Engagement Ranking"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-left",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-white/10 text-gray-400 text-sm",children:[h.jsx("th",{className:"p-3",children:"Student"}),h.jsx("th",{className:"p-3",children:"Class"}),h.jsx("th",{className:"p-3 text-center",children:"Last Seen"}),h.jsx("th",{className:"p-3 text-center",children:"Total Time"}),h.jsx("th",{className:"p-3 text-center",children:"Resources"}),h.jsx("th",{className:"p-3 text-right",children:"XP"})]})}),h.jsx("tbody",{className:"divide-y divide-white/5",children:(()=>{const A=Math.max(1,...v.map(N=>{var k;return((k=N.gamification)==null?void 0:k.xp)||0}));return v.sort((N,k)=>{var $,M;return((($=k.gamification)==null?void 0:$.xp)||0)-(((M=N.gamification)==null?void 0:M.xp)||0)}).map(N=>{var ee,K,J;const k=((ee=N.gamification)==null?void 0:ee.xp)||0,$=Math.round(k/A*100),M=N.lastLoginAt,z=M?Date.now()-new Date(M).getTime():1/0,U=z<36e5?"text-green-400":z<864e5?"text-yellow-400":z<1/0?"text-red-400":"text-gray-600",Y=z<36e5?"bg-green-500":z<864e5?"bg-yellow-500":z<1/0?"bg-red-500":"bg-gray-600";return h.jsxs("tr",{className:"hover:bg-white/5 transition cursor-pointer",onClick:()=>a(N),children:[h.jsx("td",{className:"p-3 font-bold text-white",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"relative",children:[N.avatarUrl?h.jsx("img",{src:N.avatarUrl,alt:N.name,className:"w-8 h-8 rounded-full border border-white/10 object-cover"}):h.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500/20 flex items-center justify-center text-xs",children:N.name.charAt(0)}),h.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 rounded-full border-2 border-[#0f0720] ${Y}`})]}),h.jsx("span",{className:"truncate max-w-[120px]",children:N.name})]})}),h.jsx("td",{className:"p-3 text-sm text-gray-400",children:N.classType}),h.jsx("td",{className:`p-3 text-center text-xs font-mono ${U}`,children:D(N.lastLoginAt)}),h.jsxs("td",{className:"p-3 text-center text-white",children:[((K=N.stats)==null?void 0:K.totalTime)||0,"m"]}),h.jsx("td",{className:"p-3 text-center text-white",children:((J=N.stats)==null?void 0:J.problemsCompleted)||0}),h.jsx("td",{className:"p-3 text-right",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx("div",{className:"w-16 h-1.5 bg-white/10 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-cyan-400 rounded-full transition-all",style:{width:`${$}%`}})}),h.jsx("span",{className:"text-purple-400 font-bold text-sm min-w-[3rem] text-right",children:k})]})})]},N.id)})})()})]})})]}),i&&h.jsx(Noe,{student:i,submissions:r.filter(A=>A.userId===i.id),assignments:e,onClose:()=>a(null)})]})},koe=({users:t,whitelistedEmails:e,classConfigs:r,onWhitelist:n})=>{const i=fo(),{confirm:a}=Wc(),[s,c]=q.useState(new Set),[u,f]=q.useState(Or.AP_PHYSICS),[m,g]=q.useState(!1),[v,x]=q.useState(!1),[T,S]=q.useState(""),[_,C]=q.useState(Or.AP_PHYSICS),[I,P]=q.useState(""),[V,j]=q.useState(""),[D,A]=q.useState(!1),[N,k]=q.useState(!1),[$,M]=q.useState({physicsLab:!0,evidenceLocker:!1,leaderboard:!0,physicsTools:!1,communications:!0}),[z,U]=q.useState(10),[Y,ee]=q.useState("single"),[K,J]=q.useState([]),[Q,fe]=q.useState(!1),ie=q.useRef(null),W=t.filter(le=>le.role==="STUDENT"),Z=q.useMemo(()=>e.filter(le=>!t.some(ze=>ze.email.toLowerCase()===le.email.toLowerCase())),[e,t]),ue=q.useMemo(()=>[...Array.from(new Set([...Object.values(Or).filter(ze=>ze!==Or.UNCATEGORIZED),...r.map(ze=>ze.className)])).sort(),Or.UNCATEGORIZED],[r]),Oe=le=>{const ze=W.filter(Ke=>{var vt,qt;return((vt=Ke.enrolledClasses)==null?void 0:vt.includes(le))||le===Or.UNCATEGORIZED&&(((qt=Ke.enrolledClasses)==null?void 0:qt.length)===0||!Ke.enrolledClasses)}),rt=ze.every(Ke=>s.has(Ke.id)),yt=new Set(s);ze.forEach(Ke=>{rt?yt.delete(Ke.id):yt.add(Ke.id)}),c(yt)},se=le=>{const ze=new Set(s);ze.has(le)?ze.delete(le):ze.add(le),c(ze)},ke=async()=>{if(s.size>0){const le=Array.from(s).map(async ze=>{const rt=t.find(yt=>yt.id===ze);if(rt){const yt=rt.enrolledClasses||[],Ke=Array.from(new Set([...yt.filter(vt=>vt!==Or.UNCATEGORIZED),u]));await Ze.updateUserEnrolledClasses(ze,Ke)}});await Promise.all(le),c(new Set)}},Me=async le=>{if(s.size>0){if(!await a({message:`Remove ${s.size} students from ${le}? Students with no remaining classes will lose system access.`,confirmLabel:"Remove"}))return;const ze=Array.from(s).map(async rt=>{const yt=t.find(Ke=>Ke.id===rt);if(yt){const vt=(yt.enrolledClasses||[]).filter(qt=>qt!==le);await Ze.updateUserEnrolledClasses(rt,vt)}});await Promise.all(ze),c(new Set)}},et=async(le,ze)=>{if(await a({message:`Remove ${le.name} from ${ze}? If this is their only class, their system access will be revoked.`,confirmLabel:"Remove"})){const yt=(le.enrolledClasses||[]).filter(Ke=>Ke!==ze);await Ze.updateUserEnrolledClasses(le.id,yt)}},Ae=async(le,ze)=>{await a({title:"Permanent Deletion",message:`PERMANENTLY delete account for ${ze}? This will remove all data and logs for this operative.`,confirmLabel:"Delete Forever"})&&await Ze.removeUser(le)},qe=async le=>{le!==Or.UNCATEGORIZED&&await a({message:`Delete group config ${le}? Students will remain but the group settings will be lost.`,confirmLabel:"Delete Config"})&&Ze.deleteClassConfig(le)},he=async le=>{await a({message:`Cancel invite for ${le}? Access will be revoked immediately.`,confirmLabel:"Revoke"})&&await Ze.removeFromWhitelist(le)},pe=(le,ze)=>{le!==Or.UNCATEGORIZED&&(j(le),A(!0),ze?(M(ze.features),U(ze.xpPerMinute||10)):(M({physicsLab:!0,evidenceLocker:!1,leaderboard:!0,physicsTools:!1,communications:!0}),U(10)),x(!0))},Ge=le=>{le.preventDefault(),n(T,_),I.trim()&&Ze.updateWhitelistSection(T,I.trim()),S(""),P(""),g(!1)},$e=le=>{var yt;const ze=(yt=le.target.files)==null?void 0:yt[0];if(!ze)return;const rt=new FileReader;rt.onload=Ke=>{var Wt,Pn;const vt=(Wt=Ke.target)==null?void 0:Wt.result;if(!vt)return;const qt=vt.split(/\r?\n/).filter(Vr=>Vr.trim()),Ht=(Pn=qt[0])!=null&&Pn.toLowerCase().includes("email")?1:0,wt=new Set(e.map(Vr=>Vr.email.toLowerCase())),dr=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Gr=qt.slice(Ht).map(Vr=>{const ti=Vr.includes("	")?Vr.split("	"):Vr.split(","),jr=(ti[0]||"").trim().toLowerCase(),ln=(ti[1]||"").trim()||Or.AP_PHYSICS,pr=(ti[2]||"").trim();let ri="pending";return dr.test(jr)?wt.has(jr)&&(ri="duplicate"):ri="invalid",{email:jr,classType:ln,section:pr,status:ri}}).filter(Vr=>Vr.email.length>0);J(Gr)},rt.readAsText(ze),le.target.value=""},it=async()=>{const le=K.filter(rt=>rt.status==="pending");if(le.length===0)return;fe(!0);let ze=0;for(const rt of le)try{await Ze.addToWhitelist(rt.email,rt.classType),rt.section&&await Ze.updateWhitelistSection(rt.email,rt.section),rt.status="success",ze++}catch{rt.status="invalid"}J([...K]),fe(!1),i.success(`${ze} operative${ze!==1?"s":""} imported successfully.`),K.every(rt=>rt.status==="success"||rt.status==="duplicate")&&setTimeout(()=>{g(!1),J([]),ee("single")},1500)},lt=async le=>{if(le.preventDefault(),!!V){k(!0);try{await Ze.saveClassConfig({id:V,className:V,features:$,xpPerMinute:z}),j(""),x(!1),A(!1)}catch(ze){console.error("Failed to save config:",ze),i.error("Failed to save class configuration.")}finally{k(!1)}}},er=le=>{if(!le)return"Never";const ze=new Date(le),rt=Date.now()-ze.getTime(),yt=Math.floor(rt/6e4);if(yt<60)return`${yt}m ago`;const Ke=Math.floor(yt/60);return Ke<24?`${Ke}h ago`:ze.toLocaleDateString()},je=le=>{const ze=le===Or.UNCATEGORIZED,rt=W.filter(Ke=>{var vt;return((vt=Ke.enrolledClasses)==null?void 0:vt.includes(le))||ze&&(!Ke.enrolledClasses||Ke.enrolledClasses.length===0)}),yt=r.find(Ke=>Ke.className===le);return h.jsxs("div",{className:`mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500 ${ze?"opacity-90":""}`,children:[h.jsxs("div",{className:`backdrop-blur-md border-t border-x border-white/10 p-4 rounded-t-2xl flex justify-between items-center ${ze?"bg-orange-500/10":"bg-white/5"}`,children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("h3",{className:`font-bold text-lg tracking-wide ${ze?"text-orange-300":"text-white"}`,children:[ze&&h.jsx(sie,{className:"w-5 h-5 inline mr-2 mb-1"}),le]}),h.jsxs("span",{className:`border text-[10px] font-bold px-3 py-1 rounded-full ${ze?"bg-orange-500/20 text-orange-200 border-orange-500/30":"bg-purple-500/20 text-purple-200 border-purple-500/30"}`,children:[rt.length," Registered"]}),!ze&&h.jsx("button",{onClick:()=>pe(le,yt),className:"text-xs text-gray-300 hover:text-white p-1.5 rounded-lg hover:bg-white/10 transition",title:"Edit Class Configuration",children:h.jsx(tp,{className:"w-4 h-4"})})]}),h.jsxs("div",{className:"flex gap-2",children:[s.size>0&&Array.from(s).some(Ke=>rt.find(vt=>vt.id===Ke))&&h.jsxs("button",{onClick:()=>Me(le),className:"text-xs text-red-400 bg-red-500/10 px-3 py-1.5 rounded-lg hover:bg-red-500/20 transition flex items-center gap-2",children:[h.jsx(Rie,{className:"w-3 h-3"})," Remove Selected"]}),!ze&&h.jsxs("button",{onClick:()=>qe(le),className:"text-xs text-gray-500 hover:text-red-400 px-3 py-1.5 rounded-lg hover:bg-white/5 transition flex items-center gap-2",children:[h.jsx(Ei,{className:"w-3 h-3"}),"Config"]})]})]}),h.jsx("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-b-2xl overflow-hidden",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-black/20 border-b border-white/5 text-[10px] uppercase font-bold text-gray-400",children:[h.jsx("th",{className:"w-12 p-4 text-center",children:rt.length>0&&h.jsx("button",{onClick:()=>Oe(le),className:"hover:text-purple-400 transition",children:h.jsx(YC,{className:"w-4 h-4"})})}),h.jsx("th",{className:"text-left p-4",children:"Operative"}),h.jsx("th",{className:"text-center p-4",children:"System Status"}),h.jsx("th",{className:"text-center p-4",children:"Last Seen"}),h.jsx("th",{className:"text-center p-4",children:"Class XP"}),h.jsx("th",{className:"text-center p-4 w-12",children:"Action"})]})}),h.jsx("tbody",{className:"divide-y divide-white/5",children:rt.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500 italic text-sm",children:ze?"No restricted operatives found.":"No students registered in this roster yet."})}):rt.map(Ke=>{var qt,Ht,wt,dr;const vt=((Ht=(qt=Ke.gamification)==null?void 0:qt.classXp)==null?void 0:Ht[le])||0;return h.jsxs("tr",{className:`hover:bg-white/5 transition group ${s.has(Ke.id)?"bg-purple-500/10":""}`,children:[h.jsx("td",{className:"p-4 text-center",children:h.jsx("button",{onClick:()=>se(Ke.id),className:"text-gray-500 hover:text-purple-400 transition",children:s.has(Ke.id)?h.jsx(Iie,{className:"w-4 h-4 text-purple-500"}):h.jsx(YC,{className:"w-4 h-4 group-hover:text-gray-400"})})}),h.jsx("td",{className:"p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:Ke.avatarUrl,alt:Ke.name,className:"w-8 h-8 rounded-full border border-white/10"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-bold text-gray-200 text-sm",children:Ke.name}),h.jsxs("div",{className:"text-[10px] text-gray-500 font-mono",children:[Ke.email,Ke.section?`  ${Ke.section}`:""]})]})]})}),h.jsx("td",{className:"p-4 text-center",children:h.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-widest px-2 py-0.5 rounded-full border inline-flex items-center gap-1.5 ${Ke.isWhitelisted?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:[Ke.isWhitelisted?h.jsx(WC,{className:"w-3 h-3"}):h.jsx(lx,{className:"w-3 h-3"}),Ke.isWhitelisted?"Authorized":"Restricted"]})}),h.jsx("td",{className:"p-4 text-center",children:h.jsxs("span",{className:"text-xs text-gray-400 flex items-center justify-center gap-1.5",children:[h.jsx(lo,{className:"w-3 h-3"}),er(Ke.lastLoginAt)]})}),h.jsx("td",{className:"p-4 text-center",children:h.jsxs("div",{children:[h.jsx("span",{className:"font-bold text-lg text-purple-300",children:vt.toLocaleString()}),(((wt=Ke.enrolledClasses)==null?void 0:wt.length)||0)>1&&h.jsxs("details",{className:"mt-1",children:[h.jsx("summary",{className:"text-[9px] text-gray-500 cursor-pointer hover:text-purple-400 transition",children:"All classes"}),h.jsx("div",{className:"mt-1 space-y-0.5 text-left",children:(dr=Ke.enrolledClasses)==null?void 0:dr.map(Gr=>{var Wt,Pn;return h.jsxs("div",{className:"flex items-center justify-between gap-2 text-[10px]",children:[h.jsx("span",{className:`truncate ${Gr===le?"text-purple-400 font-bold":"text-gray-500"}`,children:Gr}),h.jsx("span",{className:"text-gray-400 font-mono",children:(((Pn=(Wt=Ke.gamification)==null?void 0:Wt.classXp)==null?void 0:Pn[Gr])||0).toLocaleString()})]},Gr)})})]})]})}),h.jsx("td",{className:"p-4 text-center",children:h.jsx("div",{className:"flex items-center justify-center gap-2",children:h.jsx("button",{onClick:()=>ze?Ae(Ke.id,Ke.name):et(Ke,le),className:"text-gray-600 hover:text-red-400 transition p-2 rounded-lg hover:bg-white/5",title:ze?"Permanently Delete":"Remove from this Class",children:h.jsx(Rs,{className:"w-4 h-4"})})})})]},Ke.id)})})]})})]},le)};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"User Management"}),h.jsx("p",{className:"text-gray-400",children:"Manage rosters, permissions, and active invitations."})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[h.jsxs("button",{onClick:()=>{j(""),M({physicsLab:!0,evidenceLocker:!1,leaderboard:!0,physicsTools:!1,communications:!0}),A(!1),x(!0)},className:"bg-white/10 hover:bg-white/20 text-white px-4 py-3 rounded-xl border border-white/10 transition font-bold flex items-center justify-center gap-2",children:[h.jsx(tp,{className:"w-4 h-4"}),"Class Config"]}),h.jsxs("button",{onClick:()=>g(!0),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-3 rounded-xl shadow-[0_0_20px_rgba(147,51,234,0.3)] hover:shadow-[0_0_30px_rgba(147,51,234,0.5)] transition font-bold flex items-center justify-center gap-2",children:[h.jsx(QC,{className:"w-4 h-4"}),"Invite Student"]})]})]}),Z.length>0&&h.jsxs("div",{className:"bg-amber-900/10 border border-amber-500/30 rounded-2xl overflow-hidden animate-in zoom-in-95",children:[h.jsxs("div",{className:"bg-amber-500/20 px-6 py-3 flex items-center justify-between",children:[h.jsxs("h3",{className:"text-amber-200 font-bold text-sm uppercase tracking-widest flex items-center gap-2",children:[h.jsx(vie,{className:"w-4 h-4"})," Pending Class Invitations (",Z.length,")"]}),h.jsx("span",{className:"text-[10px] text-amber-400 font-bold italic",children:"Awaiting first login..."})]}),h.jsx("div",{className:"p-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:Z.map(le=>h.jsxs("div",{className:"bg-black/40 p-3 rounded-xl flex items-center justify-between border border-white/5 group hover:border-amber-500/30 transition",children:[h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-gray-200 text-xs font-bold truncate",children:le.email}),h.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[h.jsx(WC,{className:"w-3 h-3 text-amber-500"}),h.jsxs("span",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-tighter",children:[(le.classTypes||[le.classType]).join(", ")," Access"]})]})]}),h.jsx("button",{onClick:()=>he(le.email),className:"p-1.5 text-gray-600 hover:text-red-400 transition hover:bg-red-500/10 rounded-lg opacity-0 group-hover:opacity-100",title:"Cancel Invitation",children:h.jsx(Ei,{className:"w-3.5 h-3.5"})})]},le.email))})]}),h.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 p-4 rounded-xl flex flex-col md:flex-row items-center justify-between sticky top-0 z-20 shadow-xl gap-4",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full md:w-auto",children:[h.jsx("span",{className:"font-bold text-gray-300 text-sm whitespace-nowrap hidden md:inline",children:"Bulk Enrollment:"}),h.jsxs("div",{className:"relative w-full sm:w-auto",children:[h.jsx("select",{value:u,onChange:le=>f(le.target.value),className:"w-full sm:w-auto appearance-none bg-black/40 border border-white/20 text-gray-200 py-2 pl-4 pr-10 rounded-lg text-sm font-medium focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 cursor-pointer",children:ue.filter(le=>le!==Or.UNCATEGORIZED).map(le=>h.jsxs("option",{value:le,children:["Apply ",le," Access"]},le))}),h.jsx(js,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]}),h.jsxs("button",{onClick:ke,disabled:s.size===0,className:"w-full sm:w-auto bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-lg text-sm font-bold shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 whitespace-nowrap",children:[h.jsx(Vc,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Grant Access to Selected"}),h.jsx("span",{className:"inline sm:hidden",children:"Grant Access"})]})]}),h.jsxs("div",{className:"text-xs text-gray-500 font-mono text-center md:text-right w-full md:w-auto",children:[s.size," SELECTION ACTIVE"]})]}),h.jsx("div",{className:"pb-12",children:ue.map(le=>je(le))}),h.jsxs(Ia,{isOpen:m,onClose:()=>{g(!1),J([]),ee("single")},title:"New Operative Invitation",maxWidth:"max-w-lg",children:[h.jsxs("div",{className:"flex gap-1 bg-black/30 rounded-xl p-1 mb-4 border border-white/5",children:[h.jsxs("button",{onClick:()=>{ee("single"),J([])},className:`flex-1 py-2 rounded-lg text-xs font-bold transition flex items-center justify-center gap-1.5 ${Y==="single"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:[h.jsx(QC,{className:"w-3.5 h-3.5"})," Single"]}),h.jsxs("button",{onClick:()=>ee("csv"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition flex items-center justify-center gap-1.5 ${Y==="csv"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:[h.jsx(rp,{className:"w-3.5 h-3.5"})," CSV Import"]})]}),Y==="single"?h.jsxs("form",{onSubmit:Ge,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 px-1",children:"Authorized Gmail"}),h.jsx("input",{type:"email",required:!0,className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all",value:T,onChange:le=>S(le.target.value),placeholder:"student@gmail.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 px-1",children:"Initial Class Assignment"}),h.jsx("select",{className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all appearance-none",value:_,onChange:le=>C(le.target.value),children:ue.filter(le=>le!==Or.UNCATEGORIZED).map(le=>h.jsx("option",{value:le,children:le},le))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 px-1",children:"Section / Period (Optional)"}),h.jsx("input",{type:"text",className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all",value:I,onChange:le=>P(le.target.value),placeholder:"e.g. Period 3, Block A"})]}),h.jsx("p",{className:"text-[10px] text-gray-400 bg-black/30 p-3 rounded-lg border border-white/10",children:"Invitation puts the email on a secure whitelist. The student will be automatically placed in their class upon their first Google login."}),h.jsx("button",{type:"submit",className:"w-full bg-purple-600 text-white py-4 rounded-2xl font-bold hover:bg-purple-700 transition shadow-xl shadow-purple-200",children:"Whitelist Email"})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-black/30 border border-dashed border-white/20 rounded-2xl p-6 text-center",children:[h.jsx("input",{type:"file",ref:ie,accept:".csv,.tsv,.txt",onChange:$e,className:"hidden"}),K.length===0?h.jsxs(h.Fragment,{children:[h.jsx(rp,{className:"w-10 h-10 text-gray-500 mx-auto mb-3"}),h.jsx("button",{onClick:()=>{var le;return(le=ie.current)==null?void 0:le.click()},className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2.5 rounded-xl font-bold text-sm transition",children:"Select CSV File"}),h.jsxs("p",{className:"text-[10px] text-gray-500 mt-3",children:["Expected format: ",h.jsx("code",{className:"bg-black/40 px-1.5 py-0.5 rounded",children:"email, class, section"})]}),h.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Header row is auto-detected and skipped. Section column is optional."}),h.jsx("div",{className:"mt-3 bg-black/40 rounded-lg p-3 text-left",children:h.jsxs("p",{className:"text-[9px] text-gray-500 font-mono leading-relaxed",children:["email,class,section",h.jsx("br",{}),"john@gmail.com,AP Physics,Period 3",h.jsx("br",{}),"jane@gmail.com,Honors Physics,Period 1",h.jsx("br",{}),"alex@gmail.com,Forensic Science,"]})})]}):h.jsxs(h.Fragment,{children:[h.jsx(z8,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),h.jsxs("p",{className:"text-sm font-bold text-white",children:[K.length," records parsed"]}),h.jsx("button",{onClick:()=>{J([])},className:"text-[10px] text-gray-500 hover:text-white transition mt-1 underline",children:"Clear & pick another file"})]})]}),K.length>0&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar border border-white/10 rounded-xl",children:h.jsxs("table",{className:"w-full text-left text-xs",children:[h.jsx("thead",{className:"sticky top-0 bg-[#1a1b26]",children:h.jsxs("tr",{className:"border-b border-white/10 text-[10px] uppercase text-gray-500 font-bold",children:[h.jsx("th",{className:"p-2 pl-3",children:"Email"}),h.jsx("th",{className:"p-2",children:"Class"}),h.jsx("th",{className:"p-2",children:"Section"}),h.jsx("th",{className:"p-2 text-right pr-3",children:"Status"})]})}),h.jsx("tbody",{className:"divide-y divide-white/5",children:K.map((le,ze)=>h.jsxs("tr",{className:le.status==="invalid"?"bg-red-500/5":le.status==="duplicate"?"bg-yellow-500/5":le.status==="success"?"bg-green-500/5":"",children:[h.jsx("td",{className:"p-2 pl-3 text-gray-300 font-mono truncate max-w-[160px]",children:le.email}),h.jsx("td",{className:"p-2 text-gray-400",children:le.classType}),h.jsx("td",{className:"p-2 text-gray-500",children:le.section||""}),h.jsx("td",{className:"p-2 pr-3 text-right",children:h.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${le.status==="pending"?"bg-blue-500/20 text-blue-400":le.status==="success"?"bg-green-500/20 text-green-400":le.status==="duplicate"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:le.status})})]},ze))})]})}),h.jsx("div",{className:"flex items-center justify-between text-[10px] text-gray-500",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("span",{className:"text-blue-400",children:[K.filter(le=>le.status==="pending").length," ready"]}),h.jsxs("span",{className:"text-yellow-400",children:[K.filter(le=>le.status==="duplicate").length," duplicates"]}),h.jsxs("span",{className:"text-red-400",children:[K.filter(le=>le.status==="invalid").length," invalid"]}),K.some(le=>le.status==="success")&&h.jsxs("span",{className:"text-green-400",children:[K.filter(le=>le.status==="success").length," imported"]})]})}),K.filter(le=>le.status==="duplicate").length>0&&h.jsxs("div",{className:"flex items-start gap-2 text-[10px] text-yellow-400 bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-2.5",children:[h.jsx(ss,{className:"w-3.5 h-3.5 shrink-0 mt-0.5"}),"Duplicate emails are already on the whitelist and will be skipped."]}),h.jsx("button",{onClick:it,disabled:Q||K.filter(le=>le.status==="pending").length===0,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:opacity-40 disabled:cursor-not-allowed text-white py-4 rounded-2xl font-bold transition flex items-center justify-center gap-2",children:Q?h.jsxs(h.Fragment,{children:[h.jsx(Ca,{className:"w-4 h-4 animate-spin"})," Importing..."]}):h.jsxs(h.Fragment,{children:["Import ",K.filter(le=>le.status==="pending").length," Operatives"]})})]})]})]}),h.jsx(Ia,{isOpen:v,onClose:()=>x(!1),title:D?"Edit Class Node Config":"Initialize New Class Node",children:h.jsxs("form",{onSubmit:lt,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class Name"}),h.jsx("input",{type:"text",required:!0,className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white",value:V,onChange:le=>j(le.target.value),placeholder:"e.g. AP Physics Period 4"}),D&&h.jsx("p",{className:"text-[10px] text-orange-600 mt-2 font-bold uppercase",children:"System Note: Rename creates a new config branch."})]}),h.jsxs("div",{className:"border-t border-white/10 pt-4",children:[h.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Modular Feature Access"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[h.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:$.physicsLab,onChange:le=>M({...$,physicsLab:le.target.checked})}),h.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Physics Lab (Simulations & Reports)"})]}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[h.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:$.evidenceLocker,onChange:le=>M({...$,evidenceLocker:le.target.checked})}),h.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Evidence Log (Weekly Portfolio)"})]}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[h.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:$.leaderboard,onChange:le=>M({...$,leaderboard:le.target.checked})}),h.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Global XP Leaderboards"})]}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[h.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:$.physicsTools,onChange:le=>M({...$,physicsTools:le.target.checked})}),h.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Physics Computational Toolkit"})]}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[h.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:$.communications,onChange:le=>M({...$,communications:le.target.checked})}),h.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Real-time Class Communications"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"XP Per Minute of Engagement"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("input",{type:"number",min:1,max:100,value:z,onChange:le=>U(Math.max(1,Math.min(100,parseInt(le.target.value)||10))),className:"w-24 p-3 border border-white/10 rounded-xl bg-black/30 text-white text-center font-bold"}),h.jsx("span",{className:"text-xs text-gray-500",children:"XP per minute (default: 10, max: 100)"})]})]}),h.jsx("button",{type:"submit",disabled:N,className:`w-full bg-green-600 text-white py-4 rounded-2xl font-bold hover:bg-green-700 transition flex items-center justify-center gap-2 ${N?"opacity-70 cursor-not-allowed":""}`,children:N?h.jsxs(h.Fragment,{children:[h.jsx(Ca,{className:"w-4 h-4 animate-spin"})," ESTABLISHING PROTOCOL..."]}):D?"Update Terminal Configuration":"Initialize Class Node"})]})})]})},dc={1:{text:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/30"},2:{text:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/30"},3:{text:"text-purple-400",bg:"bg-purple-500/10",border:"border-purple-500/30"}},$I={multiple_choice:"MC",multiple_select:"Multi-Select",ranking:"Ranking",qualitative_reasoning:"Qualitative",linked_mc:"Linked MC",troubleshooting:"Troubleshoot",conflicting_contentions:"Conflicting",whats_wrong:"What's Wrong",working_backwards:"Backwards"},Coe=(t,e,r)=>`You are an expert educational assessment designer. I need you to generate a question bank of 150 questions for the following resource. I will attach the resource content below this prompt.

RESOURCE: ${t}
CLASS: ${e}
${r?`DESCRIPTION: ${r}`:""}

Generate questions organized into 3 Bloom's Taxonomy tiers. Use a MIXTURE of the following question formats across all tiers:

QUESTION FORMATS:
1. Multiple Choice  4 options, 1 correct
2. Multiple Select  4 options, 2-3 correct
3. Ranking Task  4 items to order correctly
4. Conflicting Contentions  Two students disagree, who is correct and why
5. Linked Multiple Choice  Two connected questions where part B depends on part A
6. Qualitative Reasoning  Conceptual MC requiring deep understanding
7. Troubleshooting Task  Identify the error in a scenario
8. What's Wrong Task  Find the flaw in given reasoning/solution
9. Working Backwards Task  Given the answer, determine what produced it

TIER DISTRIBUTION (50 questions each):
- TIER 1 (Remember & Understand)  50 questions, +10 XP each
- TIER 2 (Apply & Analyze)  50 questions, +25 XP each  
- TIER 3 (Evaluate & Create)  50 questions, +50 XP each

OUTPUT FORMAT  Respond with ONLY a valid JSON array. Each question object:
{
  "id": "t1q001" (tier + question number),
  "tier": 1, 2, or 3,
  "xp": 10, 25, or 50 (matching tier),
  "type": "multiple_choice" | "multiple_select" | "ranking" | "qualitative_reasoning" | "linked_mc" | "troubleshooting" | "conflicting_contentions" | "whats_wrong" | "working_backwards",
  "bloomsLevel": "Remember" | "Understand" | "Apply" | "Analyze" | "Evaluate" | "Create",
  "stem": "The question text",
  "context": "Optional scenario/context text" or null,
  "options": [{"id": "a", "text": "..."}, {"id": "b", "text": "..."}, {"id": "c", "text": "..."}, {"id": "d", "text": "..."}],
  "correctAnswer": "b" (for MC) OR ["a","c"] (for multiple_select) OR ["c","a","d","b"] (for ranking, in correct order),
  "explanation": "Why this is the correct answer",
  "linkedFollowUp": null OR (only for linked_mc) {"stem": "...", "options": [...], "correctAnswer": "...", "explanation": "..."}
}

IMPORTANT:
- All questions MUST be specific to the resource content I attached
- Distractors must be plausible and educational
- Vary question formats within each tier (use all 9 types)
- Output ONLY the JSON array  no markdown fences, no commentary
- Generate exactly 150 questions (50 per tier) if possible
- If you hit your output limit, end the JSON array cleanly with ] so I can parse what you generated.`,Ioe=(t,e,r)=>`You are an expert educational content creator. I need you to create comprehensive study material for students who are working through a practice set. This reading material should teach the underlying concepts so students understand the material before or while working on practice problems. I will attach the practice set content below this prompt.

PRACTICE SET: ${t}
CLASS: ${e}
${r?`DESCRIPTION: ${r}`:""}

Create detailed reading material that covers all the concepts, formulas, principles, and background knowledge a student needs to succeed on this practice set.

OUTPUT FORMAT  Respond with ONLY a valid JSON object:
{
  "title": "Study Guide: ${t}",
  "description": "A brief 1-2 sentence overview of what this reading covers",
  "estimatedMinutes": 15,
  "sections": [
    {
      "title": "Section title",
      "content": "Detailed explanation text. Use clear language appropriate for the class level. Include definitions, examples, step-by-step explanations, key formulas, common misconceptions, and practical applications. Make it thorough but readable."
    }
  ]
}

GUIDELINES:
- Create 8-15 sections that logically progress through the material
- Each section should be 150-400 words  substantial enough to actually teach the concept
- Include worked examples where applicable
- Define key vocabulary and terminology
- Address common student misconceptions
- Use clear, direct language appropriate for the class level
- The total reading should take approximately 10-20 minutes
- CRITICAL: For ALL math expressions, you MUST use LaTeX notation wrapped in dollar signs. Examples: $W = Fd\\cos\\theta$, $K = \\frac{1}{2}mv^2$, $U_g = mgy$
- Use double dollar signs for display equations on their own line: $$E_i + W_{ext} = E_f$$
- NEVER write bare math like "K=frac12mv2" or "W=Fdcostheta"  always wrap in $...$
- Every variable, formula, and equation must be in LaTeX dollar-sign delimiters
- Use bullet points (* at line start) for lists
- Use **bold** for key terms on first introduction
- Output ONLY the JSON object  no markdown fences, no commentary`,joe=({assignment:t,isOpen:e,onClose:r})=>{const n=fo(),i=q.useRef(null),[a,s]=q.useState([]),[c,u]=q.useState(!0),[f,m]=q.useState(!1),[g,v]=q.useState(t.category==="Practice Set"?"reading":"manage"),[x,T]=q.useState(null),[S,_]=q.useState(null),[C,I]=q.useState(""),[P,V]=q.useState(null),[j,D]=q.useState(!1),[A,N]=q.useState(null),[k,$]=q.useState({}),[M,z]=q.useState(null),[U,Y]=q.useState(!0),[ee,K]=q.useState(null),[J,Q]=q.useState(null),[fe,ie]=q.useState(null),[W,Z]=q.useState(!1),ue=q.useRef(null),Oe=t.category==="Practice Set";q.useEffect(()=>{if(!e)return;(async()=>{u(!0);try{const le=await _i(ht(He,"question_banks",t.id));le.exists()?s(le.data().questions||[]):s([]);const ze=await _i(ht(He,"reading_materials",t.id));ze.exists()?K(ze.data()):K(null)}catch(le){console.error("Failed to load bank:",le),s([])}finally{u(!1)}})()},[e,t.id]);const se=async je=>{m(!0);try{await Bi(ht(He,"question_banks",t.id),{assignmentId:t.id,title:t.title,classType:t.classType,questions:je,questionCount:je.length,updatedAt:new Date().toISOString()}),s(je)}catch(le){n.error("Failed to save: "+(le.message||"Unknown error"))}finally{m(!1)}},ke=async je=>{const le=a.filter(ze=>ze.id!==je);await se(le),n.success("Question removed."),P===je&&V(null)},Me=async()=>{try{await Sa(ht(He,"question_banks",t.id)),s([]),n.success("Question bank cleared.")}catch{n.error("Failed to clear bank.")}},et=()=>{navigator.clipboard.writeText(Coe(t.title,t.classType,t.description)),D(!0),setTimeout(()=>D(!1),2e3),n.success("Prompt copied!")},Ae=()=>{navigator.clipboard.writeText(Ioe(t.title,t.classType,t.description)),Z(!0),setTimeout(()=>Z(!1),2e3),n.success("Reading prompt copied!")},qe=async je=>{var ze;const le=(ze=je.target.files)==null?void 0:ze[0];if(le){ie(null),Q(null);try{let yt=(await le.text()).replace(/```json\s*|```\s*/g,"").trim();yt=yt.replace(/[\x00-\x1F\x7F]/g,qt=>qt===`
`||qt==="\r"||qt==="	"?" ":"");let Ke;try{Ke=JSON.parse(yt)}catch{const qt=yt.match(/\{[\s\S]*\}/);if(qt)Ke=JSON.parse(qt[0]);else throw new Error("No JSON object found.")}if(!Ke.title||!Ke.sections||!Array.isArray(Ke.sections))throw new Error("Missing required fields: title and sections array.");const vt=Ke.sections.filter(qt=>!qt.title||!qt.content);if(vt.length>0)throw new Error(`${vt.length} section(s) missing title or content.`);Q(Ke)}catch(rt){ie(rt.message||"Parse failed.")}ue.current&&(ue.current.value="")}},he=async()=>{if(J){m(!0);try{await Bi(ht(He,"reading_materials",t.id),{...J,assignmentId:t.id,updatedAt:new Date().toISOString()}),K(J),Q(null),n.success(`Study material uploaded: ${J.sections.length} sections!`)}catch(je){n.error("Failed to save: "+(je.message||"Unknown error"))}finally{m(!1)}}},pe=async()=>{m(!0);try{await Sa(ht(He,"reading_materials",t.id)),K(null),n.success("Study material removed.")}catch{n.error("Failed to delete.")}finally{m(!1)}},Ge=async je=>{var ze;const le=(ze=je.target.files)==null?void 0:ze[0];if(le){z(null),N(null);try{let yt=(await le.text()).replace(/```json\s*|```\s*/g,"").trim();yt=yt.replace(/[\x00-\x1F\x7F]/g,wt=>wt===`
`||wt==="\r"||wt==="	"?" ":"");let Ke;try{Ke=JSON.parse(yt)}catch{const wt=yt.match(/\[[\s\S]*\]/);if(wt)try{Ke=JSON.parse(wt[0])}catch{const dr=wt[0];let Gr=null;for(let Wt=dr.length-1;Wt>0;Wt--)if(dr[Wt]==="}")try{Gr=JSON.parse(dr.slice(0,Wt+1)+"]");break}catch{}if(Gr)Ke=Gr;else throw new Error("Could not recover any valid questions from truncated JSON.")}else{let dr=null;const Gr="["+yt;for(let Wt=Gr.length-1;Wt>0;Wt--)if(Gr[Wt]==="}")try{dr=JSON.parse(Gr.slice(0,Wt+1)+"]");break}catch{}if(dr)Ke=dr;else throw new Error("No JSON array found in file.")}}if(!Array.isArray(Ke)||Ke.length===0)throw new Error("Must be a non-empty JSON array.");const vt=Ke.filter(wt=>wt.id&&wt.tier&&wt.type&&wt.stem&&wt.options&&wt.correctAnswer),qt=Ke.length-vt.length;if(vt.length===0){z("All questions are missing required fields (id, tier, type, stem, options, correctAnswer).");return}const Ht={};vt.forEach(wt=>{Ht[wt.tier]=(Ht[wt.tier]||0)+1}),N(vt),$(Ht),qt>0&&n.success(`Parsed ${vt.length} questions (${qt} skipped  missing fields).`)}catch(rt){z(rt.message||"Parse failed.")}i.current&&(i.current.value="")}},$e=async()=>{if(!A)return;let je;if(U&&a.length>0){const le=new Set(a.map(rt=>rt.id)),ze=A.map((rt,yt)=>({...rt,id:le.has(rt.id)?`${rt.id}_${Date.now()}_${yt}`:rt.id}));je=[...a,...ze]}else je=A;await se(je),n.success(`${U?"Added":"Replaced with"} ${A.length} questions. Total: ${je.length}`),N(null),v("manage")},it=q.useMemo(()=>{let je=a;if(x&&(je=je.filter(le=>le.tier===x)),S&&(je=je.filter(le=>le.type===S)),C){const le=C.toLowerCase();je=je.filter(ze=>ze.stem.toLowerCase().includes(le)||ze.id.toLowerCase().includes(le))}return je},[a,x,S,C]),lt=q.useMemo(()=>{const je={1:0,2:0,3:0};return a.forEach(le=>{je[le.tier]=(je[le.tier]||0)+1}),je},[a]),er=q.useMemo(()=>{const je={};return a.forEach(le=>{je[le.type]=(je[le.type]||0)+1}),je},[a]);return e?h.jsx(Ia,{isOpen:e,onClose:r,title:"Question Bank Manager",maxWidth:"max-w-3xl",children:h.jsxs("div",{className:"text-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-3 bg-black/30 border border-white/10 rounded-xl p-4 mb-4",children:[h.jsx(Tw,{className:"w-5 h-5 text-purple-400 shrink-0"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("span",{className:"text-white font-bold text-sm",children:t.title}),h.jsx("div",{className:"text-xs mt-1",children:c?h.jsx("span",{className:"text-gray-500",children:"Loading..."}):a.length>0?h.jsxs("span",{className:"text-emerald-400",children:[a.length," questions loaded"]}):h.jsx("span",{className:"text-yellow-400",children:"No question bank yet"})})]}),a.length>0&&!c&&h.jsx("div",{className:"flex gap-2",children:[1,2,3].map(je=>h.jsxs("div",{className:`text-center px-3 py-1.5 rounded-lg ${dc[je].bg} ${dc[je].border} border`,children:[h.jsx("div",{className:`text-sm font-bold ${dc[je].text}`,children:lt[je]}),h.jsxs("div",{className:"text-[8px] text-gray-500 uppercase font-bold",children:["T",je]})]},je))})]}),h.jsxs("div",{className:"flex gap-2 mb-4",children:[!Oe&&h.jsxs("button",{onClick:()=>v("manage"),className:`flex-1 py-2.5 rounded-xl text-xs font-bold transition ${g==="manage"?"bg-purple-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[h.jsx(Tw,{className:"w-3.5 h-3.5 inline mr-1.5"}),"Manage Bank (",a.length,")"]}),!Oe&&h.jsxs("button",{onClick:()=>v("add"),className:`flex-1 py-2.5 rounded-xl text-xs font-bold transition ${g==="add"?"bg-purple-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[h.jsx(Vc,{className:"w-3.5 h-3.5 inline mr-1.5"}),a.length>0?"Add More":"Create Bank"]}),h.jsxs("button",{onClick:()=>v("reading"),className:`flex-1 py-2.5 rounded-xl text-xs font-bold transition ${g==="reading"?"bg-emerald-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[h.jsx(Is,{className:"w-3.5 h-3.5 inline mr-1.5"}),"Study Material ",ee?`(${ee.sections.length})`:""]})]}),g==="manage"&&h.jsx("div",{className:"space-y-3",children:c?h.jsx("div",{className:"py-12 text-center",children:h.jsx(Ca,{className:"w-6 h-6 text-purple-400 animate-spin mx-auto"})}):a.length===0?h.jsxs("div",{className:"py-12 text-center",children:[h.jsx(Tw,{className:"w-10 h-10 text-gray-700 mx-auto mb-2"}),h.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"No questions yet"}),h.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"Switch to the Create Bank tab to get started."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[h.jsxs("div",{className:"relative flex-1 min-w-[150px]",children:[h.jsx(j$,{className:"w-3.5 h-3.5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),h.jsx("input",{value:C,onChange:je=>I(je.target.value),placeholder:"Search questions...",className:"w-full pl-9 pr-3 py-2 bg-black/30 border border-white/10 rounded-lg text-xs text-white placeholder-gray-600 outline-none focus:border-purple-500/50"})]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{onClick:()=>T(null),className:`px-2.5 py-1.5 rounded-lg text-[10px] font-bold transition ${x?"text-gray-500 hover:text-gray-300":"bg-white/10 text-white"}`,children:"All"}),[1,2,3].map(je=>h.jsxs("button",{onClick:()=>T(x===je?null:je),className:`px-2.5 py-1.5 rounded-lg text-[10px] font-bold transition ${x===je?`${dc[je].bg} ${dc[je].text} ${dc[je].border} border`:"text-gray-500 hover:text-gray-300"}`,children:["T",je," (",lt[je],")"]},je))]})]}),Object.keys(er).length>1&&h.jsx("div",{className:"flex gap-1 flex-wrap",children:Object.entries(er).sort((je,le)=>le[1]-je[1]).map(([je,le])=>h.jsxs("button",{onClick:()=>_(S===je?null:je),className:`px-2 py-1 rounded-lg text-[9px] font-bold transition ${S===je?"bg-purple-500/20 text-purple-300 border border-purple-500/30":"bg-white/5 text-gray-500 hover:text-gray-300"}`,children:[$I[je]||je," (",le,")"]},je))}),h.jsx("div",{className:"max-h-[350px] overflow-y-auto custom-scrollbar space-y-2 pr-1",children:it.length===0?h.jsx("p",{className:"text-gray-600 text-xs text-center py-8",children:"No questions match your filters."}):it.map(je=>{const le=dc[je.tier]||dc[1],ze=P===je.id;return h.jsxs("div",{className:`rounded-xl border transition ${ze?`${le.border} ${le.bg}`:"border-white/5 bg-white/[0.02] hover:border-white/10"}`,children:[h.jsxs("div",{className:"flex items-start gap-2.5 p-3 cursor-pointer",onClick:()=>V(ze?null:je.id),children:[h.jsxs("div",{className:`w-6 h-6 rounded-md flex items-center justify-center shrink-0 text-[9px] font-black ${le.bg} ${le.text}`,children:["T",je.tier]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[h.jsx("span",{className:"text-[8px] text-gray-600 font-mono",children:je.id}),h.jsx("span",{className:"text-[8px] text-gray-600",children:""}),h.jsx("span",{className:"text-[8px] text-gray-500",children:$I[je.type]||je.type}),h.jsxs("span",{className:"text-[8px] text-yellow-500 font-bold ml-auto flex items-center gap-0.5",children:[h.jsx(oa,{className:"w-2.5 h-2.5"}),je.xp]})]}),h.jsx("p",{className:"text-xs text-gray-300 leading-snug line-clamp-2",children:je.stem})]}),h.jsx(Ju,{className:`w-3.5 h-3.5 text-gray-600 shrink-0 mt-1 transition-transform ${ze?"rotate-90":""}`})]}),ze&&h.jsxs("div",{className:"px-3 pb-3 space-y-2",children:[je.context&&h.jsx("div",{className:"text-[10px] text-gray-500 italic bg-black/20 rounded-lg p-2",children:je.context}),h.jsx("div",{className:"space-y-1",children:je.options.map(rt=>{const yt=Array.isArray(je.correctAnswer)?je.correctAnswer.includes(rt.id):je.correctAnswer===rt.id;return h.jsxs("div",{className:`flex items-start gap-2 text-[11px] px-2 py-1.5 rounded-lg ${yt?"bg-emerald-500/10 text-emerald-300":"text-gray-400"}`,children:[h.jsxs("span",{className:"font-mono font-bold text-[10px] mt-0.5 shrink-0",children:[rt.id.toUpperCase(),"."]}),h.jsx("span",{children:rt.text}),yt&&h.jsx(Ai,{className:"w-3 h-3 text-emerald-400 ml-auto shrink-0 mt-0.5"})]},rt.id)})}),h.jsxs("div",{className:"text-[10px] text-gray-500 bg-black/20 rounded-lg p-2",children:[h.jsx("span",{className:"font-bold text-gray-400",children:"Explanation: "}),je.explanation]}),je.linkedFollowUp&&h.jsxs("div",{className:"text-[10px] text-blue-300/70 bg-blue-500/5 border border-blue-500/20 rounded-lg p-2",children:[h.jsx("span",{className:"font-bold",children:"Follow-up: "}),je.linkedFollowUp.stem]}),h.jsxs("button",{onClick:()=>ke(je.id),disabled:f,className:"flex items-center gap-1.5 text-[10px] font-bold text-red-400 hover:text-red-300 bg-red-500/10 hover:bg-red-500/20 px-3 py-1.5 rounded-lg transition",children:[h.jsx(Ei,{className:"w-3 h-3"})," Delete Question"]})]})]},je.id)})}),h.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-white/5",children:[h.jsxs("span",{className:"text-[10px] text-gray-600",children:["Showing ",it.length," of ",a.length]}),h.jsxs("button",{onClick:Me,disabled:f,className:"text-[10px] font-bold text-red-400/60 hover:text-red-400 transition flex items-center gap-1",children:[h.jsx(Ei,{className:"w-3 h-3"})," Clear Entire Bank"]})]})]})}),g==="add"&&h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[h.jsx("span",{className:"w-5 h-5 rounded-full bg-purple-600 text-white text-[10px] font-bold flex items-center justify-center",children:"1"}),"Generate with AI"]}),h.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed",children:"Copy the prompt, paste into ChatGPT/Gemini/Claude with your resource content (PDF, notes, etc)."}),h.jsx("button",{onClick:et,className:`w-full py-2.5 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition ${j?"bg-emerald-600 text-white":"bg-purple-600 hover:bg-purple-500 text-white"}`,children:j?h.jsxs(h.Fragment,{children:[h.jsx(Ai,{className:"w-4 h-4"})," Copied!"]}):h.jsxs(h.Fragment,{children:[h.jsx($C,{className:"w-4 h-4"})," Copy AI Prompt"]})})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[h.jsx("span",{className:"w-5 h-5 rounded-full bg-purple-600 text-white text-[10px] font-bold flex items-center justify-center",children:"2"}),"Upload JSON"]}),h.jsxs("p",{className:"text-[11px] text-gray-500 leading-relaxed",children:["Save the AI output as ",h.jsx("code",{className:"bg-black/40 px-1 py-0.5 rounded text-purple-300 text-[10px]",children:".json"})," and upload here."]}),h.jsxs("label",{className:"flex items-center justify-center gap-3 py-3 border-2 border-dashed border-white/15 rounded-xl hover:border-purple-500/50 hover:bg-purple-500/5 transition cursor-pointer",children:[h.jsx(FC,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Choose .json file"}),h.jsx("input",{ref:i,type:"file",accept:".json,.txt",onChange:Ge,className:"hidden"})]})]}),M&&h.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-3 flex items-start gap-2",children:[h.jsx(ss,{className:"w-4 h-4 text-red-400 shrink-0 mt-0.5"}),h.jsx("p",{className:"text-red-300/70 text-xs",children:M})]}),A&&h.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/30 rounded-xl p-4 space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ai,{className:"w-4 h-4 text-emerald-400"}),h.jsxs("span",{className:"text-emerald-400 font-bold text-sm",children:[A.length," questions parsed"]})]}),h.jsx("div",{className:"flex gap-3",children:[1,2,3].map(je=>h.jsxs("div",{className:"flex-1 bg-black/30 rounded-lg p-2 text-center",children:[h.jsx("div",{className:"text-base font-bold text-white",children:k[je]||0}),h.jsxs("div",{className:"text-[8px] text-gray-500 uppercase font-bold",children:["Tier ",je]})]},je))}),a.length>0&&h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>Y(!0),className:`flex-1 py-2 rounded-lg text-[10px] font-bold transition border ${U?"bg-purple-500/20 border-purple-500/30 text-purple-300":"border-white/10 text-gray-500 hover:text-gray-300"}`,children:[h.jsx(Vc,{className:"w-3 h-3 inline mr-1"}),"Append to existing (",a.length," + ",A.length,")"]}),h.jsxs("button",{onClick:()=>Y(!1),className:`flex-1 py-2 rounded-lg text-[10px] font-bold transition border ${U?"border-white/10 text-gray-500 hover:text-gray-300":"bg-red-500/20 border-red-500/30 text-red-300"}`,children:[h.jsx(mv,{className:"w-3 h-3 inline mr-1"}),"Replace all"]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:$e,disabled:f,className:"flex-1 py-2.5 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-700 text-white font-bold rounded-xl transition flex items-center justify-center gap-2 text-sm",children:[f?h.jsx(Ca,{className:"w-4 h-4 animate-spin"}):h.jsx(rp,{className:"w-4 h-4"}),f?"Saving...":`Upload ${A.length} Questions`]}),h.jsx("button",{onClick:()=>N(null),className:"px-4 py-2.5 bg-white/5 hover:bg-white/10 text-gray-400 rounded-xl transition",children:h.jsx(Ei,{className:"w-4 h-4"})})]})]})]}),g==="reading"&&h.jsxs("div",{className:"space-y-5",children:[ee?h.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/30 rounded-xl p-4 space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Is,{className:"w-4 h-4 text-emerald-400"}),h.jsx("span",{className:"text-emerald-400 font-bold text-sm",children:ee.title})]}),h.jsxs("button",{onClick:pe,disabled:f,className:"text-[10px] font-bold text-red-400/60 hover:text-red-400 transition flex items-center gap-1",children:[h.jsx(Ei,{className:"w-3 h-3"})," Remove"]})]}),ee.description&&h.jsx("p",{className:"text-xs text-gray-400",children:ee.description}),h.jsxs("div",{className:"flex gap-2 text-[10px] text-gray-500",children:[h.jsxs("span",{children:[ee.sections.length," sections"]}),ee.estimatedMinutes&&h.jsxs(h.Fragment,{children:[h.jsx("span",{children:""}),h.jsxs("span",{children:["~",ee.estimatedMinutes," min read"]})]})]}),h.jsx("div",{className:"max-h-[200px] overflow-y-auto custom-scrollbar space-y-1.5 pr-1",children:ee.sections.map((je,le)=>h.jsxs("div",{className:"text-[11px] text-gray-400 bg-black/20 px-3 py-2 rounded-lg flex items-center gap-2",children:[h.jsx("span",{className:"w-5 h-5 rounded bg-emerald-500/10 text-emerald-400 text-[9px] font-bold flex items-center justify-center shrink-0",children:le+1}),h.jsx("span",{className:"truncate",children:je.title})]},le))})]}):h.jsxs("div",{className:"py-6 text-center",children:[h.jsx(Is,{className:"w-10 h-10 text-gray-700 mx-auto mb-2"}),h.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"No study material yet"}),h.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"Upload reading material so students can study while working on this resource."})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[h.jsx("span",{className:"w-5 h-5 rounded-full bg-emerald-600 text-white text-[10px] font-bold flex items-center justify-center",children:"1"}),"Generate with AI"]}),h.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed",children:"Copy the prompt, paste into ChatGPT/Gemini/Claude with your resource content. The AI will create reading material students can study for engagement XP."}),h.jsx("button",{onClick:Ae,className:`w-full py-2.5 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition ${W?"bg-emerald-600 text-white":"bg-emerald-600 hover:bg-emerald-500 text-white"}`,children:W?h.jsxs(h.Fragment,{children:[h.jsx(Ai,{className:"w-4 h-4"})," Copied!"]}):h.jsxs(h.Fragment,{children:[h.jsx($C,{className:"w-4 h-4"})," Copy Study Material Prompt"]})})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[h.jsx("span",{className:"w-5 h-5 rounded-full bg-emerald-600 text-white text-[10px] font-bold flex items-center justify-center",children:"2"}),"Upload Study Material JSON"]}),h.jsxs("label",{className:"flex items-center justify-center gap-3 py-3 border-2 border-dashed border-white/15 rounded-xl hover:border-emerald-500/50 hover:bg-emerald-500/5 transition cursor-pointer",children:[h.jsx(FC,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Choose .json file"}),h.jsx("input",{ref:ue,type:"file",accept:".json,.txt",onChange:qe,className:"hidden"})]})]}),fe&&h.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-3 flex items-start gap-2",children:[h.jsx(ss,{className:"w-4 h-4 text-red-400 shrink-0 mt-0.5"}),h.jsx("p",{className:"text-red-300/70 text-xs",children:fe})]}),J&&h.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/30 rounded-xl p-4 space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ai,{className:"w-4 h-4 text-emerald-400"}),h.jsx("span",{className:"text-emerald-400 font-bold text-sm",children:J.title})]}),h.jsxs("p",{className:"text-xs text-gray-400",children:[J.sections.length," sections  ~",J.estimatedMinutes||"?"," min read"]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:he,disabled:f,className:"flex-1 py-2.5 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-700 text-white font-bold rounded-xl transition flex items-center justify-center gap-2 text-sm",children:[f?h.jsx(Ca,{className:"w-4 h-4 animate-spin"}):h.jsx(rp,{className:"w-4 h-4"}),f?"Saving...":"Upload Study Material"]}),h.jsx("button",{onClick:()=>Q(null),className:"px-4 py-2.5 bg-white/5 hover:bg-white/10 text-gray-400 rounded-xl transition",children:h.jsx(Ei,{className:"w-4 h-4"})})]})]})]}),f&&h.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 text-xs text-purple-400",children:[h.jsx(Ca,{className:"w-3 h-3 animate-spin"})," Saving..."]})]})}):null},FI=["Textbook","Simulation","Lab Guide","Practice Set","Article","Video Lesson","Supplemental"],Roe={Textbook:h.jsx(Is,{className:"w-4 h-4"}),Simulation:h.jsx(U8,{className:"w-4 h-4"}),"Lab Guide":h.jsx(ox,{className:"w-4 h-4"}),"Practice Set":h.jsx(f0,{className:"w-4 h-4"}),Article:h.jsx(O$,{className:"w-4 h-4"}),"Video Lesson":h.jsx(M$,{className:"w-4 h-4"}),Supplemental:h.jsx(V8,{className:"w-4 h-4"})},Moe=({assignments:t,submissions:e,classConfigs:r,onCreateAssignment:n,onPreviewAssignment:i})=>{const a=fo(),{confirm:s}=Wc(),[c,u]=q.useState(!1),[f,m]=q.useState(!1),[g,v]=q.useState(!1),[x,T]=q.useState("All Classes"),[S,_]=q.useState("All Categories"),[C,I]=q.useState(new Set),[P,V]=q.useState(null),[j,D]=q.useState({title:"",description:"",status:Fo.ACTIVE,unit:"Unit 1: Overview",category:"Textbook",htmlContent:"",resources:[]}),[A,N]=q.useState(new Set([Or.AP_PHYSICS])),[k,$]=q.useState(!1),M=q.useMemo(()=>{const Q=Object.values(Or).filter(ie=>ie!==Or.UNCATEGORIZED),fe=(r||[]).map(ie=>ie.className);return Array.from(new Set(["All Classes",...Q,...fe]))},[r]),z=q.useMemo(()=>t.filter(Q=>{const fe=x==="All Classes"||Q.classType===x,ie=S==="All Categories"||Q.category===S;return fe&&ie}),[t,x,S]),U=q.useMemo(()=>{const Q={};return z.forEach(fe=>{const ie=x==="All Classes"?`${fe.classType.toUpperCase()}  ${fe.unit||"Unassigned"}`:fe.unit||"Unassigned";Q[ie]||(Q[ie]=[]),Q[ie].push(fe)}),Object.keys(Q).sort().reduce((fe,ie)=>(fe[ie]=Q[ie],fe),{})},[z,x]),Y=async Q=>{if(Q.preventDefault(),A.size===0){a.error("Select a target class.");return}v(!0);try{f&&j.id?await n({...j,classType:Array.from(A)[0]}):await Promise.all(Array.from(A).map(fe=>n({...j,classType:fe}))),u(!1),m(!1)}catch(fe){console.error(fe)}finally{v(!1)}},ee=Q=>{D(Q),N(new Set([Q.classType])),m(!0),u(!0)},K=async Q=>{const fe=Q.status===Fo.ACTIVE?Fo.ARCHIVED:Fo.ACTIVE;await Ze.updateAssignmentStatus(Q.id,fe)},J=q.useMemo(()=>[...Array.isArray(e)?e:[]].sort((fe,ie)=>{const W=new Date(fe.submittedAt||0).getTime();return new Date(ie.submittedAt||0).getTime()-W}),[e]);return h.jsxs("div",{className:"space-y-8 pb-12",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"Admin System"}),h.jsx("p",{className:"text-gray-400",children:"Resource deployment and operational oversight."})]}),h.jsxs("button",{onClick:()=>{D({title:"",description:"",status:Fo.ACTIVE,unit:"Unit 1: Overview",category:"Textbook",htmlContent:"",contentUrl:"",resources:[]}),m(!1),u(!0)},className:"bg-purple-600 hover:bg-purple-500 text-white px-8 py-3 rounded-2xl shadow-xl transition-all font-bold flex items-center gap-2",children:[h.jsx(Vc,{className:"w-5 h-5"})," Deploy Resource"]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[h.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-6",children:[h.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 flex flex-wrap items-center gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("select",{value:x,onChange:Q=>T(Q.target.value),className:"bg-black/20 text-white text-xs font-bold py-2 pl-3 pr-8 rounded-lg border border-white/10 appearance-none focus:outline-none",children:M.map(Q=>h.jsx("option",{value:Q,children:Q},Q))}),h.jsx(js,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-500 pointer-events-none"})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:S,onChange:Q=>_(Q.target.value),className:"bg-black/20 text-white text-xs font-bold py-2 pl-3 pr-8 rounded-lg border border-white/10 appearance-none focus:outline-none",children:[h.jsx("option",{value:"All Categories",children:"All Categories"}),FI.map(Q=>h.jsx("option",{value:Q,children:Q},Q))]}),h.jsx(js,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-500 pointer-events-none"})]})]}),h.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-3xl p-6 h-[600px] overflow-y-auto custom-scrollbar text-white",children:Object.entries(U).map(([Q,fe])=>h.jsxs("div",{className:"mb-6 last:mb-0",children:[h.jsxs("div",{className:"w-full flex items-center gap-3 py-2 mb-2 group",children:[h.jsx("button",{onClick:()=>{const ie=new Set(C);ie.has(Q)?ie.delete(Q):ie.add(Q),I(ie)},className:"text-gray-400 hover:text-white transition",children:C.has(Q)?h.jsx(js,{className:"w-4 h-4"}):h.jsx(Ju,{className:"w-4 h-4"})}),h.jsx("h3",{className:"text-[11px] font-bold uppercase tracking-[0.2em] text-gray-500 truncate",children:Q}),h.jsx("div",{className:"h-[1px] flex-1 bg-white/5 group-hover:bg-white/10 transition"})]}),!C.has(Q)&&h.jsx("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2 duration-300",children:fe.map(ie=>h.jsxs("div",{className:`p-4 rounded-2xl border transition group flex justify-between items-center ${ie.status===Fo.ARCHIVED?"bg-white/2 border-white/5 opacity-60":"bg-white/5 border-white/10 hover:border-purple-500/50"}`,children:[h.jsxs("div",{className:"flex items-center gap-4 min-w-0 pr-4 flex-1",children:[h.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${ie.status===Fo.ACTIVE?"bg-purple-500/20 text-purple-400":"bg-gray-500/20 text-gray-500"}`,children:Roe[ie.category||"Supplemental"]}),h.jsxs("div",{className:"truncate flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[h.jsx("h4",{className:"font-bold text-gray-200 text-sm truncate flex-1",children:ie.title}),h.jsx("span",{className:"text-[9px] text-gray-500 uppercase font-mono px-2 py-0.5 bg-black/40 rounded border border-white/5 flex-shrink-0 whitespace-nowrap",children:ie.classType})]}),h.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:ie.description})]})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition duration-200 shrink-0",children:[h.jsx("button",{onClick:()=>V(ie),className:"p-2 text-purple-400 hover:bg-purple-500/20 rounded-lg transition",title:"Question Bank",children:h.jsx(ep,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>i==null?void 0:i(ie.id),className:"p-2 text-indigo-400 hover:bg-indigo-500/20 rounded-lg transition",children:h.jsx(Sie,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>ee(ie),className:"p-2 text-gray-300 hover:bg-white/10 rounded-lg transition",children:h.jsx(Nie,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>K(ie),className:"p-2 text-yellow-400 hover:bg-yellow-500/20 rounded-lg transition",children:ie.status===Fo.ACTIVE?h.jsx(tie,{className:"w-4 h-4"}):h.jsx(S$,{className:"w-4 h-4"})}),h.jsx("button",{onClick:async()=>{await s({message:"Delete this resource permanently?",confirmLabel:"Delete"})&&await Ze.deleteAssignment(ie.id)},className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition",title:"Delete resource","aria-label":"Delete resource",children:h.jsx(Ei,{className:"w-4 h-4"})})]})]},ie.id))})]},Q))})]}),h.jsx("div",{className:"lg:col-span-4",children:h.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-3xl p-6 h-[710px] flex flex-col",children:[h.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-6",children:[h.jsx(lo,{className:"w-4 h-4 text-blue-400"})," Engagement Log"]}),h.jsxs("div",{className:"space-y-4 overflow-y-auto pr-2 custom-scrollbar flex-1",children:[J.length===0&&h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[h.jsx(lo,{className:"w-10 h-10 text-gray-700 mb-3"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"No engagement data yet"}),h.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"Activity will appear here as students complete resources."})]}),J.map(Q=>h.jsxs("div",{className:"bg-black/40 border border-white/5 p-4 rounded-2xl hover:bg-black/60 transition group",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-bold text-gray-200 text-xs block truncate",children:Q.userName}),h.jsx("span",{className:"text-[10px] text-gray-500 font-medium uppercase tracking-tight line-clamp-1",children:Q.assignmentTitle})]}),h.jsxs("span",{className:"text-[10px] font-bold text-blue-400 bg-blue-900/30 px-2 py-1 rounded-full",children:[Math.round(Q.score)," XP"]})]}),h.jsxs("div",{className:"text-[9px] text-gray-600 mt-2 border-t border-white/5 pt-2 flex justify-between",children:[h.jsxs("span",{children:[Math.round(Q.metrics.engagementTime/60),"m active"]}),h.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition",children:new Date(Q.submittedAt||"").toLocaleDateString()})]})]},Q.id))]})]})})]}),h.jsx(Ia,{isOpen:c,onClose:()=>u(!1),title:f?"Modify Resource":"Configure Deployment",maxWidth:"max-w-3xl",children:h.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"col-span-2",children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Title"}),h.jsx("input",{required:!0,className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white placeholder-gray-500",value:j.title,onChange:Q=>D({...j,title:Q.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Unit"}),h.jsx("input",{required:!0,className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white placeholder-gray-500",value:j.unit,onChange:Q=>D({...j,unit:Q.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Category"}),h.jsx("select",{value:j.category,onChange:Q=>D({...j,category:Q.target.value}),className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white placeholder-gray-500",children:FI.map(Q=>h.jsx("option",{value:Q,children:Q},Q))})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Target Classes"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:M.filter(Q=>Q!=="All Classes").map(Q=>h.jsx("button",{type:"button",onClick:()=>{const fe=new Set(A);fe.has(Q)?fe.size>1&&fe.delete(Q):fe.add(Q),N(fe)},className:`px-4 py-2 rounded-xl border text-xs font-bold transition ${A.has(Q)?"bg-purple-600 border-purple-600 text-white":"bg-black/30 border-white/10 text-gray-400"}`,children:Q},Q))})]}),h.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 p-5 rounded-2xl",children:[h.jsx("label",{className:"block text-sm font-bold text-purple-300 mb-2",children:"HTML Interactive Upload"}),h.jsx("input",{type:"file",accept:".html,.htm",className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-600 file:text-white",onChange:async Q=>{var fe;if((fe=Q.target.files)!=null&&fe[0]){$(!0);try{const ie=await Ze.uploadHtmlResource(Q.target.files[0]);D({...j,contentUrl:ie}),a.success("File uploaded!")}catch(ie){a.error("Upload failed: "+(ie.message||"Unknown error"))}finally{$(!1)}}}}),k&&h.jsxs("div",{className:"flex items-center gap-2 mt-2 text-purple-300 text-xs",children:[h.jsx(Ca,{className:"w-4 h-4 animate-spin"})," Uploading..."]}),!k&&j.contentUrl&&h.jsxs("div",{className:"flex items-center gap-2 mt-2 text-emerald-400 text-xs",children:[h.jsx(fv,{className:"w-4 h-4"})," Resource uploaded"]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:["Description ",h.jsx("span",{className:"text-gray-600",children:"(optional)"})]}),h.jsx("textarea",{className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white placeholder-gray-500 resize-none h-20",placeholder:"Brief description for AI prompts and student context...",value:j.description,onChange:Q=>D({...j,description:Q.target.value})})]}),h.jsx("button",{type:"submit",disabled:g,className:"w-full bg-purple-600 text-white py-4 rounded-2xl font-bold shadow-xl flex items-center justify-center gap-2",children:g?h.jsx(Ca,{className:"w-5 h-5 animate-spin"}):"Commit Deployment"})]})}),P&&h.jsx(joe,{assignment:P,isOpen:!!P,onClose:()=>V(null)})]})},Poe=["HEAD","CHEST","HANDS","FEET","BELT","AMULET","RING1","RING2"],Doe=({user:t,onClose:e,onDeleteItem:r,onUnequipItem:n,onGrantFlux:i})=>{var a,s,c,u,f,m;return t?h.jsx(Ia,{isOpen:!!t,onClose:e,title:"Inventory Inspection",maxWidth:"max-w-2xl",children:h.jsxs("div",{className:"space-y-6 text-gray-100 p-2",children:[h.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-4 rounded-2xl border border-white/5",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("img",{src:t.avatarUrl,className:"w-14 h-14 rounded-2xl border border-white/10",alt:t.name}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-white text-lg",children:t.name}),h.jsxs("div",{className:"text-[10px] font-black text-purple-400 mt-1 uppercase tracking-tighter",children:["Level ",((a=t.gamification)==null?void 0:a.level)||1]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Cyber-Flux"}),h.jsx("div",{className:"text-xl font-black text-cyan-400",children:((s=t.gamification)==null?void 0:s.currency)||0})]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{onClick:()=>i(t,100),className:"p-2 bg-green-500/10 text-green-400 rounded-lg hover:bg-green-500/20",title:"+100 Flux",children:h.jsx(Vc,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>i(t,-100),className:"p-2 bg-red-500/10 text-red-400 rounded-lg hover:bg-red-500/20",title:"-100 Flux",children:h.jsx(Rs,{className:"w-4 h-4"})})]})]})]}),h.jsxs("div",{className:"border-b border-white/5 pb-6",children:[h.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-3",children:"Active Loadout"}),h.jsx("div",{className:"flex gap-2 flex-wrap",children:Poe.map(g=>{var x,T;const v=(T=(x=t.gamification)==null?void 0:x.equipped)==null?void 0:T[g];return h.jsx("div",{className:`w-16 h-16 rounded-xl border flex items-center justify-center relative group ${v?rn(v.rarity).border+" "+rn(v.rarity).bg:"border-white/10 bg-black/20"}`,children:v?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"text-[8px] text-center px-1 font-bold truncate w-full text-white/90",children:v.name}),h.jsx("button",{onClick:()=>n(t,g),className:"absolute top-[-5px] right-[-5px] bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition shadow-md",children:h.jsx(Rs,{className:"w-3 h-3"})})]}):h.jsx("span",{className:"text-[8px] text-gray-600",children:g})},g)})})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-3",children:"Stored Gear"}),h.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[(u=(c=t.gamification)==null?void 0:c.inventory)==null?void 0:u.map((g,v)=>h.jsxs("div",{className:`aspect-square rounded-xl border-2 flex flex-col items-center justify-center relative group p-1 bg-white/5 ${rn(g.rarity).border}`,children:[h.jsx("div",{className:`text-[8px] font-bold ${rn(g.rarity).text} text-center truncate w-full`,children:g.name}),h.jsx("div",{className:"text-[8px] text-gray-500",children:g.slot}),h.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center opacity-0 group-hover:opacity-100 transition rounded-xl",children:h.jsx("button",{onClick:()=>r(t,g),className:"p-2 text-red-400 hover:text-red-200",children:h.jsx(Ei,{className:"w-4 h-4"})})})]},v)),(((m=(f=t.gamification)==null?void 0:f.inventory)==null?void 0:m.length)||0)===0&&h.jsx("div",{className:"col-span-6 text-center py-8 text-gray-500 italic",children:"Inventory Empty"})]})]})]})}):null},Loe=[10,50,100,-10,-50,-100],Boe=({user:t,onClose:e,onAdjust:r})=>{var s;const[n,i]=q.useState(50);if(!t)return null;const a=()=>{r(t,n),i(50)};return h.jsx(Ia,{isOpen:!!t,onClose:e,title:"Manual XP Adjustment",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4 bg-black/20 p-4 rounded-2xl border border-white/5",children:[h.jsx("img",{src:t.avatarUrl,className:"w-14 h-14 rounded-2xl border border-white/10",alt:t.name}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-white text-lg",children:t.name}),h.jsx("p",{className:"text-xs text-gray-500",children:t.email}),h.jsxs("div",{className:"text-[10px] font-black text-purple-400 mt-1 uppercase tracking-tighter",children:["Current: ",((s=t.gamification)==null?void 0:s.xp)||0," XP"]})]})]}),h.jsx("div",{className:"grid grid-cols-3 gap-2",children:Loe.map(c=>h.jsx("button",{onClick:()=>i(c),className:`py-3 rounded-xl font-black transition-all border ${n===c?c>0?"bg-green-600 border-green-500 text-white":"bg-red-600 border-red-500 text-white":"bg-white/5 border-white/10 text-gray-400 hover:bg-white/10"}`,children:c>0?`+${c}`:c},c))}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest px-1",children:"Precise Adjustment"}),h.jsx("input",{type:"number",className:"w-full bg-black/40 border border-white/10 rounded-xl py-4 px-4 text-center text-2xl font-black text-white focus:outline-none focus:border-purple-500/50",value:n,onChange:c=>i(parseInt(c.target.value)||0)})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:e,className:"flex-1 py-4 bg-white/5 border border-white/10 text-gray-400 font-bold rounded-2xl hover:bg-white/10 transition",children:"Cancel"}),h.jsx("button",{onClick:a,className:"flex-1 py-4 bg-purple-600 text-white font-bold rounded-2xl hover:bg-purple-500 transition shadow-xl shadow-purple-900/20",children:"Apply Protocol"})]})]})})},Uoe=({deployments:t,onResolveQuest:e,onRollForSalvation:r})=>h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4 px-2",children:"Active Field Deployments"}),t.length===0&&h.jsx("div",{className:"text-gray-500 italic text-center py-20 bg-black/20 rounded-3xl border border-white/5",children:"No active agents in the field."}),t.map((n,i)=>{const a=n.quest.type==="CUSTOM";return h.jsxs("div",{className:"bg-black/30 border border-white/10 rounded-2xl p-5 flex flex-col md:flex-row justify-between items-center gap-6 group hover:border-purple-500/30 transition-all",children:[h.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:n.user.avatarUrl,className:"w-12 h-12 rounded-xl border border-white/10 shadow-lg",alt:n.user.name}),h.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-black rounded-full shadow-lg"})]}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"font-bold text-white text-base truncate",children:n.user.name}),h.jsxs("div",{className:"text-[10px] text-purple-400 font-black uppercase tracking-tighter flex items-center gap-1.5",children:[h.jsx(f0,{className:"w-3 h-3"}),n.quest.title]})]})]}),h.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-end gap-6 w-full md:w-auto",children:[h.jsxs("div",{className:"text-center md:text-right",children:[h.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-500 mb-1",children:"Status"}),h.jsx("div",{className:`text-xs font-black px-2 py-0.5 rounded border ${n.status==="DEPLOYED"?"text-yellow-400 bg-yellow-500/10 border-yellow-500/20":"text-gray-300 bg-white/5 border-white/10"}`,children:n.status})]}),n.status==="DEPLOYED"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-center px-4 border-l border-white/5",children:[h.jsx("div",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-widest mb-1",children:a?"Manual Review":"Auto-Check"}),h.jsx("div",{className:`font-black text-sm tracking-tighter ${n.roll===100?"text-green-400":"text-orange-400"}`,children:a?"PENDING_HQ_SIG":n.roll===100?"SUCCESS_VERIFIED":"FAILURE_DETECTED"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[!a&&n.roll===0&&h.jsx("button",{onClick:()=>r(n),className:"p-2.5 bg-purple-600/20 text-purple-400 border border-purple-500/30 rounded-xl hover:bg-purple-600 hover:text-white transition shadow-lg shadow-purple-900/20 group/btn",title:"Initiate Salvation Protocol (Die Roll)",children:h.jsx(lie,{className:"w-5 h-5 group-hover/btn:rotate-12 transition-transform"})}),h.jsx("div",{className:"h-8 w-px bg-white/5 mx-2"}),h.jsx("button",{onClick:()=>e(n.user.id,n.quest,!0,n.user.classType),className:"p-2.5 bg-green-600/20 text-green-400 border border-green-500/30 rounded-xl hover:bg-green-600 hover:text-white transition shadow-lg shadow-green-900/20",title:"Approve Submission",children:h.jsx(B8,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>e(n.user.id,n.quest,!1,n.user.classType),className:"p-2.5 bg-red-600/20 text-red-400 border border-red-500/30 rounded-xl hover:bg-red-600 hover:text-white transition shadow-lg shadow-red-900/20",title:"Reject Submission",children:h.jsx(Rs,{className:"w-5 h-5"})})]})]})]})]},i)})]}),qI={title:"",description:"",xpReward:250,fluxReward:50,type:"ENGAGEMENT",lootRarity:"",startsAt:"",durationHours:0,techReq:0,focusReq:0,analysisReq:0,charismaReq:0,dieSides:20,consequence:"",isGroup:!1},zoe=({isOpen:t,onClose:e,form:r,setForm:n,onSubmit:i,isSubmitting:a})=>h.jsx(Ia,{isOpen:t,onClose:e,title:"Issue New Mission Objective",children:h.jsxs("form",{onSubmit:i,className:"space-y-4 text-gray-200 p-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Mission Codename"}),h.jsx("input",{value:r.title,onChange:s=>n({...r,title:s.target.value}),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold placeholder-gray-600 focus:border-purple-500 focus:outline-none",placeholder:"e.g. Operation Lab Rat"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Objective Briefing"}),h.jsx("textarea",{value:r.description,onChange:s=>n({...r,description:s.target.value}),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white placeholder-gray-600 resize-none h-20 focus:border-purple-500 focus:outline-none",placeholder:"Brief the operatives on their goal..."})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-3 bg-green-900/20 p-3 rounded-xl border border-green-500/30",children:[h.jsx("div",{className:"col-span-3 text-[10px] font-bold text-green-400 uppercase",children:"Mission Bounties"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold",children:"XP"}),h.jsx("input",{type:"number",value:r.xpReward,onChange:s=>n({...r,xpReward:parseInt(s.target.value)}),className:"w-full p-2 rounded-lg bg-black/40 border border-white/10 text-white text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold",children:"Flux"}),h.jsx("input",{type:"number",value:r.fluxReward,onChange:s=>n({...r,fluxReward:parseInt(s.target.value)}),className:"w-full p-2 rounded-lg bg-black/40 border border-white/10 text-white text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold",children:"Loot Drop"}),h.jsxs("select",{value:r.lootRarity,onChange:s=>n({...r,lootRarity:s.target.value}),className:"w-full p-2 rounded-lg bg-black/40 border border-white/10 text-white text-sm appearance-none",children:[h.jsx("option",{value:"",children:"None"}),h.jsx("option",{value:"COMMON",children:"Common"}),h.jsx("option",{value:"UNCOMMON",children:"Uncommon"}),h.jsx("option",{value:"RARE",children:"Rare"}),h.jsx("option",{value:"UNIQUE",children:"Unique"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Objective Category"}),h.jsxs("select",{value:r.type,onChange:s=>n({...r,type:s.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold focus:border-purple-500 focus:outline-none",children:[h.jsx("option",{value:"REVIEW_QUESTIONS",children:"Answer Review Questions"}),h.jsx("option",{value:"ENGAGEMENT",children:"Resource Engagement Time"}),h.jsx("option",{value:"STUDY_MATERIAL",children:"Study Material Reading"}),h.jsx("option",{value:"SKILL_CHECK",children:"Agent Skill Check"}),h.jsx("option",{value:"CUSTOM",children:"Manual Verification"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Starts At"}),h.jsx("input",{type:"datetime-local",value:r.startsAt,onChange:s=>n({...r,startsAt:s.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold focus:border-purple-500 focus:outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Duration (Hours)"}),h.jsx("input",{type:"number",value:r.durationHours,onChange:s=>n({...r,durationHours:parseInt(s.target.value)}),placeholder:"0 (Infinite)",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold focus:border-purple-500 focus:outline-none"})]})]}),h.jsxs("div",{className:"border-t border-white/10 pt-4",children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-3 px-1",children:"Skill Check Parameters (Optional)"}),h.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[h.jsx("div",{children:h.jsx("input",{type:"number",placeholder:"Tech",value:r.techReq||"",onChange:s=>n({...r,techReq:parseInt(s.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-center text-sm text-white"})}),h.jsx("div",{children:h.jsx("input",{type:"number",placeholder:"Focus",value:r.focusReq||"",onChange:s=>n({...r,focusReq:parseInt(s.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-center text-sm text-white"})}),h.jsx("div",{children:h.jsx("input",{type:"number",placeholder:"Analysis",value:r.analysisReq||"",onChange:s=>n({...r,analysisReq:parseInt(s.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-center text-sm text-white"})}),h.jsx("div",{children:h.jsx("input",{type:"number",placeholder:"Charisma",value:r.charismaReq||"",onChange:s=>n({...r,charismaReq:parseInt(s.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-center text-sm text-white"})})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[9px] text-gray-500 uppercase font-bold",children:"Failure Die (D-X)"}),h.jsx("input",{type:"number",value:r.dieSides,onChange:s=>n({...r,dieSides:parseInt(s.target.value)}),className:"w-full p-2 bg-black/40 border border-white/10 rounded-lg text-white"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[9px] text-gray-500 uppercase font-bold",children:"Consequence Text"}),h.jsx("input",{type:"text",value:r.consequence,onChange:s=>n({...r,consequence:s.target.value}),placeholder:"e.g. detention",className:"w-full p-2 bg-black/40 border border-white/10 rounded-lg text-white"})]})]}),h.jsx("div",{className:"mt-3",children:h.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400",children:[h.jsx("input",{type:"checkbox",checked:r.isGroup,onChange:s=>n({...r,isGroup:s.target.checked}),className:"rounded bg-black/40 border-white/10 text-purple-600"})," Group Mission (Requires multiple agents)"]})})]}),h.jsx("button",{type:"submit",disabled:a,className:"w-full bg-purple-600 text-white font-bold py-4 rounded-2xl shadow-xl transition-all hover:bg-purple-700 disabled:opacity-50",children:a?"Transmitting...":"Broadcast Mission"})]})}),Voe=({users:t})=>{const e=fo(),{confirm:r}=Wc(),[n,i]=q.useState("OPERATIVES"),[a,s]=q.useState(""),[c,u]=q.useState("All Classes"),[f,m]=q.useState("All Sections"),[g,v]=q.useState("XP_DESC"),[x,T]=q.useState([]),[S,_]=q.useState([]),[C,I]=q.useState(null),[P,V]=q.useState(null),[j,D]=q.useState(!1),[A,N]=q.useState(!1),[k,$]=q.useState(qI),[M,z]=q.useState(!1),[U,Y]=q.useState([]),[ee,K]=q.useState({title:"",multiplier:2,type:"GLOBAL",targetClass:Or.AP_PHYSICS});q.useEffect(()=>{const he=Ze.subscribeToXPEvents(T),pe=Ze.subscribeToQuests(_);return()=>{he(),pe()}},[]),q.useEffect(()=>{const he=[];t.forEach(pe=>{var Ge,$e;($e=(Ge=pe.gamification)==null?void 0:Ge.activeQuests)==null||$e.forEach(it=>{const lt=S.find(er=>er.id===it.questId);lt&&(it.status==="DEPLOYED"||it.status==="ACCEPTED")&&he.push({user:pe,quest:lt,status:it.status,roll:it.deploymentRoll,acceptedAt:it.acceptedAt})})}),Y(he)},[t,S,n]);const J=q.useMemo(()=>t.filter(he=>he.role==="STUDENT"),[t]),Q=q.useMemo(()=>{const he=new Set;return J.forEach(pe=>{pe.section&&he.add(pe.section)}),Array.from(he).sort()},[J]),fe=q.useMemo(()=>J.filter(he=>{var it;const pe=he.name.toLowerCase().includes(a.toLowerCase())||he.email.toLowerCase().includes(a.toLowerCase()),Ge=c==="All Classes"||he.classType===c||((it=he.enrolledClasses)==null?void 0:it.includes(c)),$e=f==="All Sections"||he.section===f;return pe&&Ge&&$e}).sort((he,pe)=>{var Ge,$e,it,lt;return g==="XP_DESC"?(((Ge=pe.gamification)==null?void 0:Ge.xp)||0)-((($e=he.gamification)==null?void 0:$e.xp)||0):g==="XP_ASC"?(((it=he.gamification)==null?void 0:it.xp)||0)-(((lt=pe.gamification)==null?void 0:lt.xp)||0):he.name.localeCompare(pe.name)}),[J,a,c,f,g]),ie=async(he,pe)=>{try{await Ze.adjustUserXP(he.id,pe,he.classType||Or.UNCATEGORIZED),e.success(`${pe>0?"+":""}${pe} XP applied to ${he.name}.`)}catch{e.error("Failed to adjust XP.")}I(null)},W=async he=>{he.preventDefault(),await Ze.saveXPEvent({id:Math.random().toString(36).substring(2,9),title:ee.title,multiplier:ee.multiplier,isActive:!0,type:ee.type,targetClass:ee.type==="CLASS_SPECIFIC"?ee.targetClass:void 0}),D(!1),K({title:"",multiplier:2,type:"GLOBAL",targetClass:Or.AP_PHYSICS})},Z=async he=>{he.preventDefault(),z(!0);try{const pe={};k.techReq>0&&(pe.tech=k.techReq),k.focusReq>0&&(pe.focus=k.focusReq),k.analysisReq>0&&(pe.analysis=k.analysisReq),k.charismaReq>0&&(pe.charisma=k.charismaReq);const Ge=new Date;Ge.setHours(Ge.getHours()+(k.durationHours||0));const $e={id:Math.random().toString(36).substring(2,9),title:k.title,description:k.description,xpReward:k.xpReward,fluxReward:k.fluxReward,isActive:!0,type:k.type,statRequirements:pe,startsAt:k.startsAt?new Date(k.startsAt).toISOString():null,expiresAt:k.durationHours>0?Ge.toISOString():null,itemRewardRarity:k.lootRarity||null,rollDieSides:k.dieSides||20,consequenceText:k.consequence||null,isGroupQuest:k.isGroup};await Ze.saveQuest($e),e.success(`Mission "${$e.title}" deployed.`),$(qI),N(!1)}catch(pe){console.error("Failed to issue mission:",pe),e.error("Failed to issue mission.")}finally{z(!1)}},ue=async he=>{await Ze.saveXPEvent({...he,isActive:!he.isActive})},Oe=async he=>{await Ze.saveQuest({...he,isActive:!he.isActive})},se=async(he,pe)=>{var $e,it;if(!await r({message:`Confiscate ${pe.name} from ${he.name}? This cannot be undone.`,confirmLabel:"Confiscate"}))return;const Ge=((($e=he.gamification)==null?void 0:$e.inventory)||[]).filter(lt=>lt.id!==pe.id);await Ze.adminUpdateInventory(he.id,Ge,((it=he.gamification)==null?void 0:it.currency)||0),V(lt=>lt?{...lt,gamification:{...lt.gamification,inventory:Ge}}:null)},ke=async(he,pe)=>{var $e;if(!await r({message:`Force unequip ${pe} from ${he.name}?`,confirmLabel:"Unequip",variant:"warning"}))return;const Ge={...($e=he.gamification)==null?void 0:$e.equipped};delete Ge[pe],await Ze.adminUpdateEquipped(he.id,Ge),V(it=>it?{...it,gamification:{...it.gamification,equipped:Ge}}:null)},Me=async(he,pe)=>{var $e,it;const Ge=Math.max(0,((($e=he.gamification)==null?void 0:$e.currency)||0)+pe);await Ze.adminUpdateInventory(he.id,((it=he.gamification)==null?void 0:it.inventory)||[],Ge),V(lt=>lt?{...lt,gamification:{...lt.gamification,currency:Ge}}:null)},et=async(he,pe,Ge,$e)=>{try{await Ze.resolveQuest(he,pe,Ge,$e),e.success(Ge?`Mission "${pe.title}" approved.`:`Mission "${pe.title}" rejected.`)}catch{e.error("Failed to resolve mission.")}},Ae=async he=>{const pe=he.quest.rollDieSides||20,Ge=Math.floor(Math.random()*pe)+1;e.info(`Rolled a ${Ge} on a D${pe}. ${Ge===pe?"CRITICAL SUCCESS!":"Failure confirmed."}`),await et(he.user.id,he.quest,Ge===pe,he.user.classType)},qe=({id:he,label:pe,icon:Ge})=>h.jsxs("button",{onClick:()=>i(he),className:`px-6 py-4 flex items-center gap-2 border-b-2 font-bold transition-all ${n===he?"border-purple-500 text-purple-400 bg-purple-500/5":"border-transparent text-gray-500 hover:text-gray-300"}`,children:[h.jsx(Ge,{className:"w-4 h-4"}),pe]});return h.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Gamification Command"}),h.jsx("p",{className:"text-gray-400",children:"Manage operative progression, rewards, and active engagement boosters."})]}),h.jsxs("div",{className:"flex gap-2",children:[n==="PROTOCOLS"&&h.jsxs("button",{onClick:()=>D(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-xl font-bold flex items-center gap-2 transition shadow-lg shadow-blue-900/20",children:[h.jsx(kie,{className:"w-4 h-4"})," Deploy Protocol"]}),n==="MISSIONS"&&h.jsxs("button",{onClick:()=>N(!0),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-xl font-bold flex items-center gap-2 transition shadow-lg shadow-purple-900/20",children:[h.jsx(iie,{className:"w-4 h-4"})," Issue Mission"]})]})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl overflow-hidden backdrop-blur-md",children:[h.jsxs("div",{className:"flex bg-black/20 border-b border-white/5 overflow-x-auto custom-scrollbar",children:[h.jsx(qe,{id:"OPERATIVES",label:"Operatives",icon:Mc}),h.jsx(qe,{id:"PROTOCOLS",label:"XP Protocols",icon:oa}),h.jsx(qe,{id:"MISSIONS",label:"Missions",icon:f0}),h.jsx(qe,{id:"MISSION_CONTROL",label:"Mission Control",icon:Rh})]}),h.jsxs("div",{className:"p-6",children:[n==="OPERATIVES"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(j$,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),h.jsx("input",{type:"text",placeholder:"Search name, operative ID or email...",className:"w-full bg-black/40 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white focus:outline-none focus:border-purple-500/50 transition",value:a,onChange:he=>s(he.target.value)})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("div",{className:"relative",children:[h.jsx(die,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-500"}),h.jsxs("select",{value:c,onChange:he=>u(he.target.value),className:"bg-black/40 border border-white/10 rounded-xl py-3 pl-10 pr-10 text-white text-sm font-bold appearance-none focus:outline-none focus:border-purple-500/50",children:[h.jsx("option",{children:"All Classes"}),Object.values(Or).map(he=>h.jsx("option",{value:he,children:he},he))]}),h.jsx(js,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]}),Q.length>0&&h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:f,onChange:he=>m(he.target.value),className:"bg-black/40 border border-white/10 rounded-xl py-3 px-4 text-white text-sm font-bold appearance-none focus:outline-none focus:border-purple-500/50",children:[h.jsx("option",{children:"All Sections"}),Q.map(he=>h.jsx("option",{value:he,children:he},he))]}),h.jsx(js,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]}),h.jsx("div",{className:"relative",children:h.jsxs("select",{value:g,onChange:he=>v(he.target.value),className:"bg-black/40 border border-white/10 rounded-xl py-3 px-4 text-white text-sm font-bold appearance-none focus:outline-none focus:border-purple-500/50",children:[h.jsx("option",{value:"XP_DESC",children:"Highest XP"}),h.jsx("option",{value:"XP_ASC",children:"Lowest XP"}),h.jsx("option",{value:"NAME",children:"Alphabetical"})]})})]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-left",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest border-b border-white/5",children:[h.jsx("th",{className:"pb-4 pl-4",children:"Operative"}),h.jsx("th",{className:"pb-4",children:"Status"}),h.jsx("th",{className:"pb-4 text-center",children:"XP Points"}),h.jsx("th",{className:"pb-4 text-center",children:"Gear Score"}),h.jsx("th",{className:"pb-4 text-right pr-4",children:"Action"})]})}),h.jsx("tbody",{className:"divide-y divide-white/5",children:fe.map(he=>{var pe,Ge,$e,it;return h.jsxs("tr",{className:"group hover:bg-white/5 transition-colors",children:[h.jsx("td",{className:"py-4 pl-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:he.avatarUrl,className:"w-10 h-10 rounded-xl border border-white/10",alt:he.name}),h.jsxs("div",{children:[h.jsx("div",{className:"font-bold text-gray-200",children:he.name}),h.jsx("div",{className:"text-[10px] font-mono text-gray-500 uppercase",children:((pe=he.gamification)==null?void 0:pe.codename)||"UNASSIGNED"})]})]})}),h.jsx("td",{className:"py-4",children:h.jsx("span",{className:"text-[10px] bg-purple-500/10 text-purple-400 px-2 py-1 rounded border border-purple-500/20 font-bold uppercase",children:he.classType})}),h.jsxs("td",{className:"py-4 text-center",children:[h.jsx("div",{className:"text-xl font-black text-white",children:(($e=(Ge=he.gamification)==null?void 0:Ge.xp)==null?void 0:$e.toLocaleString())||0}),h.jsx("div",{className:"text-[8px] text-gray-500 font-bold uppercase tracking-tighter",children:"Accumulated XP"})]}),h.jsx("td",{className:"py-4 text-center",children:h.jsx("span",{className:"text-sm font-bold text-yellow-400 bg-yellow-900/20 px-2 py-1 rounded border border-yellow-500/20",children:lA((it=he.gamification)==null?void 0:it.equipped)})}),h.jsx("td",{className:"py-4 text-right pr-4",children:h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx("button",{onClick:()=>V(he),className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg hover:bg-blue-500/20 transition border border-blue-500/20",title:"Inspect Inventory",children:h.jsx(Rh,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>I(he),className:"p-2 bg-green-500/10 text-green-400 rounded-lg hover:bg-green-500/20 transition border border-green-500/20",title:"Adjust XP",children:h.jsx(Vc,{className:"w-4 h-4"})})]})})]},he.id)})})]})})]}),n==="PROTOCOLS"&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.map(he=>h.jsxs("div",{className:`p-6 rounded-3xl border transition-all relative overflow-hidden ${he.isActive?"bg-blue-600/10 border-blue-500/30 ring-1 ring-blue-500/20 shadow-lg shadow-blue-900/10":"bg-black/20 border-white/10 opacity-60"}`,children:[he.isActive&&h.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1.5 px-2 py-1 rounded bg-blue-500 text-white text-[9px] font-black uppercase tracking-widest animate-pulse",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"}),"LIVE"]}),h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${he.isActive?"bg-blue-500 text-white":"bg-gray-800 text-gray-400"}`,children:h.jsx(oa,{className:"w-6 h-6"})}),h.jsx("button",{onClick:()=>Ze.deleteXPEvent(he.id),className:"p-2 text-gray-600 hover:text-red-400 transition",children:h.jsx(Ei,{className:"w-4 h-4"})})]}),h.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:he.title}),h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsxs("span",{className:"text-3xl font-black text-blue-400",children:[he.multiplier,"x"]}),h.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest",children:"Multiplier"})]}),h.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/5",children:[h.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:he.type==="GLOBAL"?"Global Uplink":he.targetClass}),h.jsx("button",{onClick:()=>ue(he),className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest transition-all ${he.isActive?"bg-green-500 text-white":"bg-gray-700 text-gray-300"}`,children:he.isActive?"Active":"Offline"})]})]},he.id)),h.jsxs("button",{onClick:()=>D(!0),className:"p-6 rounded-3xl border-2 border-dashed border-white/10 hover:border-blue-500/30 hover:bg-blue-500/5 transition-all flex flex-col items-center justify-center gap-3 text-gray-500 hover:text-blue-400 min-h-[220px]",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center",children:h.jsx(Vc,{className:"w-6 h-6"})}),h.jsx("span",{className:"font-bold uppercase tracking-widest text-xs",children:"Initialize Protocol"})]})]}),n==="MISSIONS"&&h.jsx("div",{className:"space-y-4",children:S.map(he=>h.jsxs("div",{className:`p-5 rounded-2xl border flex items-center justify-between transition-all ${he.isActive?"bg-purple-600/10 border-purple-500/30":"bg-black/20 border-white/10 opacity-60"}`,children:[h.jsxs("div",{className:"flex items-center gap-5",children:[h.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${he.isActive?"bg-purple-600 text-white shadow-lg shadow-purple-900/40":"bg-gray-800 text-gray-400"}`,children:h.jsx(FS,{className:"w-7 h-7"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-lg text-white",children:he.title}),h.jsx("p",{className:"text-sm text-gray-500",children:he.description}),he.statRequirements&&h.jsx("div",{className:"flex gap-2 mt-2",children:Object.entries(he.statRequirements).map(([pe,Ge])=>h.jsxs("span",{className:"text-[9px] bg-white/10 px-2 py-0.5 rounded text-gray-300 uppercase font-mono border border-white/10",children:[Ge," ",pe]},pe))}),h.jsxs("div",{className:"flex gap-3 mt-2",children:[h.jsx("span",{className:"text-[10px] font-bold text-purple-400 bg-purple-900/30 px-2 py-0.5 rounded border border-purple-500/20",children:he.type}),h.jsxs("span",{className:"text-[10px] font-bold text-green-400 bg-green-900/30 px-2 py-0.5 rounded border border-green-500/20",children:["+",he.xpReward," XP"]}),he.itemRewardRarity&&h.jsx("span",{className:"text-[10px] font-bold text-yellow-400 bg-yellow-900/30 px-2 py-0.5 rounded border border-purple-500/20",children:"LOOT DROP"})]})]})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"text-right",children:[h.jsx("button",{onClick:()=>Oe(he),className:`w-12 h-6 rounded-full relative transition-colors duration-200 focus:outline-none ${he.isActive?"bg-purple-600":"bg-gray-700"}`,children:h.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 rounded-full bg-white transition-transform duration-200 ${he.isActive?"translate-x-6":""}`})}),h.jsx("span",{className:"block text-[8px] font-bold text-gray-600 uppercase mt-1 tracking-widest",children:he.isActive?"Active":"Standby"})]}),h.jsx("button",{onClick:()=>Ze.deleteQuest(he.id),className:"p-2 text-gray-600 hover:text-red-400 transition",children:h.jsx(Ei,{className:"w-4 h-4"})})]})]},he.id))}),n==="MISSION_CONTROL"&&h.jsx(Uoe,{deployments:U,onResolveQuest:et,onRollForSalvation:Ae})]})]}),h.jsx(Doe,{user:P,onClose:()=>V(null),onDeleteItem:se,onUnequipItem:ke,onGrantFlux:Me}),h.jsx(zoe,{isOpen:A,onClose:()=>N(!1),form:k,setForm:$,onSubmit:Z,isSubmitting:M}),h.jsx(Ia,{isOpen:j,onClose:()=>D(!1),title:"New XP Protocol Deployment",children:h.jsxs("form",{onSubmit:W,className:"space-y-4 text-gray-100 p-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Protocol Title"}),h.jsx("input",{value:ee.title,onChange:he=>K({...ee,title:he.target.value}),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold",placeholder:"e.g. Double XP Weekend"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Multiplier"}),h.jsx("input",{type:"number",step:"0.5",value:ee.multiplier,onChange:he=>K({...ee,multiplier:parseFloat(he.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Uplink Type"}),h.jsxs("select",{value:ee.type,onChange:he=>K({...ee,type:he.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold",children:[h.jsx("option",{value:"GLOBAL",children:"Global Node"}),h.jsx("option",{value:"CLASS_SPECIFIC",children:"Class Sub-Node"})]})]})]}),ee.type==="CLASS_SPECIFIC"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Target Sub-Node"}),h.jsx("select",{value:ee.targetClass,onChange:he=>K({...ee,targetClass:he.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold",children:Object.values(Or).map(he=>h.jsx("option",{value:he,children:he},he))})]}),h.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-4 rounded-2xl shadow-xl transition-all hover:bg-blue-700",children:"Initiate Uplink"})]})}),h.jsx(Boe,{user:C,onClose:()=>I(null),onAdjust:ie})]})},$oe={FORCE:{src:"/tools/force-diagram.html",label:"Free Body Diagram Builder",icon:h.jsx(k$,{className:"w-4 h-4"}),color:"green",hoverBg:"hover:bg-green-600",iconBg:"bg-green-600/20",iconText:"text-green-400"},BAR:{src:"/tools/bar-chart.html",label:"Conservation of Energy (LOL) Chart",icon:h.jsx(_$,{className:"w-4 h-4"}),color:"blue",hoverBg:"hover:bg-blue-600",iconBg:"bg-blue-600/20",iconText:"text-blue-400"},GRAPHER:{src:"/tools/grapher.html",label:"AP Physics Grapher Pro",icon:h.jsx(R$,{className:"w-4 h-4"}),color:"purple",hoverBg:"hover:bg-purple-600",iconBg:"bg-purple-600/20",iconText:"text-purple-400"}},Foe=({onToggleChat:t})=>{const[e,r]=q.useState(null),[n,i]=q.useState(!1),a=c=>{e===c?r(null):(r(c),i(!1))};if(!e)return h.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-3 items-end",children:[h.jsxs("button",{onClick:()=>a("GRAPHER"),className:"bg-white/10 hover:bg-purple-600 text-white p-3 rounded-full shadow-lg backdrop-blur-md border border-white/20 transition-all hover:scale-110 group relative",title:"Physics Grapher",children:[h.jsx(R$,{className:"w-6 h-6"}),h.jsx("span",{className:"absolute right-full mr-2 bg-black/80 px-2 py-1 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition pointer-events-none",children:"Grapher Pro"})]}),h.jsxs("button",{onClick:()=>a("BAR"),className:"bg-white/10 hover:bg-blue-600 text-white p-3 rounded-full shadow-lg backdrop-blur-md border border-white/20 transition-all hover:scale-110 group relative",title:"LOL Diagrams",children:[h.jsx(_$,{className:"w-6 h-6"}),h.jsx("span",{className:"absolute right-full mr-2 bg-black/80 px-2 py-1 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition pointer-events-none",children:"LOL Charts"})]}),h.jsxs("button",{onClick:()=>a("FORCE"),className:"bg-white/10 hover:bg-green-600 text-white p-3 rounded-full shadow-lg backdrop-blur-md border border-white/20 transition-all hover:scale-110 group relative",title:"Force Diagrams",children:[h.jsx(k$,{className:"w-6 h-6"}),h.jsx("span",{className:"absolute right-full mr-2 bg-black/80 px-2 py-1 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition pointer-events-none",children:"Force Diagram"})]}),t&&h.jsxs("button",{onClick:t,className:"bg-white/10 hover:bg-[#5865F2] text-white p-3 rounded-full shadow-lg backdrop-blur-md border border-white/20 transition-all hover:scale-110 group relative",title:"Class Chat",children:[h.jsx($S,{className:"w-6 h-6"}),h.jsx("span",{className:"absolute right-full mr-2 bg-black/80 px-2 py-1 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition pointer-events-none",children:"Class Comms"})]})]});const s=$oe[e];return h.jsxs("div",{className:`fixed z-50 bg-[#1e1e1e] border border-white/20 shadow-2xl transition-all duration-300 overflow-hidden flex flex-col ${n?"w-64 h-12 bottom-6 right-6 rounded-xl":"inset-4 md:inset-10 rounded-2xl"}`,children:[h.jsxs("div",{className:"bg-[#2d2d2d] p-3 flex justify-between items-center border-b border-white/10",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`p-1.5 rounded-lg ${s.iconBg} ${s.iconText}`,children:s.icon}),h.jsx("span",{className:"font-bold text-white text-sm",children:s.label})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>i(!n),className:"p-1.5 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition",children:n?h.jsx(N$,{className:"w-4 h-4"}):h.jsx(_ie,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>r(null),className:"p-1.5 hover:bg-red-500/20 rounded-lg text-gray-400 hover:text-red-400 transition",children:h.jsx(Rs,{className:"w-4 h-4"})})]})]}),!n&&h.jsx("div",{className:"flex-1 bg-white relative",children:h.jsx("iframe",{src:s.src,className:"w-full h-full border-none",title:s.label,sandbox:"allow-scripts allow-same-origin allow-modals allow-downloads allow-forms"})})]})},qoe=["","","","","","","",""],Hoe=["","","","","","","","","","","","","","","","","","","","","","","","","",""],Goe=({user:t,isOpen:e,onClose:r,assignments:n,classConfigs:i,onOpenResource:a})=>{var Oe;const{confirm:s}=Wc(),[c,u]=q.useState([]),[f,m]=q.useState(""),[g,v]=q.useState("Main"),[x,T]=q.useState(!1),[S,_]=q.useState(!1),[C,I]=q.useState(null),[P,V]=q.useState(null),[j,D]=q.useState([]),A=q.useRef(null),N=q.useRef(null),k=q.useMemo(()=>Object.values(Or).filter(se=>{var Ae;if(se===Or.UNCATEGORIZED)return!1;if(t.role==="ADMIN")return!0;const ke=i.find(qe=>qe.className===se),Me=(Ae=t.enrolledClasses)==null?void 0:Ae.includes(se),et=ke?ke.features.communications:!0;return Me&&et}),[i,t.role,t.enrolledClasses]),[$,M]=q.useState(k[0]||""),z=q.useMemo(()=>g==="Resources"&&P?`res_${P}`:g==="Resources"&&!P||!$?"":`class_${$.replace(/\s+/g,"_").toLowerCase()}`,[$,g,P]),U=q.useRef(null),Y=q.useMemo(()=>n.filter(se=>se.classType===$&&se.status!=="DRAFT"),[n,$]),ee=q.useMemo(()=>c.filter(se=>{var ke;return se.isGlobalPinned||((ke=se.pinnedBy)==null?void 0:ke.includes(t.id))}),[c,t.id]),K=q.useMemo(()=>t.mutedUntil?new Date(t.mutedUntil)>new Date:!1,[t.mutedUntil]);q.useEffect(()=>{if(!e)return;let se="";if(g==="Resources"&&P?se=`res_${P}`:(g==="Main"||g==="Bookmarks")&&(se=`class_${$.replace(/\s+/g,"_").toLowerCase()}`),!se)return;T(!0);const ke=Ze.subscribeToChannelMessages(se,Me=>{u(Me),T(!1)});return()=>{ke()}},[e,$,g,P]),q.useEffect(()=>{if(!e||t.role!=="ADMIN")return;const se=Ze.subscribeToFlaggedMessages(ke=>{D(ke)});return()=>se()},[e,t.role]),q.useEffect(()=>{U.current&&(U.current.scrollTop=U.current.scrollHeight)},[c,x,g,P]),q.useEffect(()=>{const se=ke=>{A.current&&!A.current.contains(ke.target)&&_(!1),N.current&&!N.current.contains(ke.target)&&I(null)};return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[]),q.useEffect(()=>{if(!e)return;const se=ke=>{ke.key==="Escape"&&r()};return window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)},[e,r]);const J=q.useCallback(async se=>{if(se.preventDefault(),!(!f.trim()||!z)&&!K)try{await Ze.sendMessage(t,f,z,$),m(""),_(!1)}catch(ke){console.error("Failed to send message:",ke)}},[f,z,K,t,$]),Q=q.useCallback(async(se,ke)=>{try{await Ze.toggleReaction(se,ke,t.id),I(null)}catch(Me){console.error(Me)}},[t.id]),fe=q.useCallback(async se=>{try{await Ze.togglePersonalPin(se,t.id)}catch(ke){console.error(ke)}},[t.id]),ie=q.useCallback(async(se,ke)=>{try{await Ze.toggleGlobalPin(se,!ke)}catch(Me){console.error(Me)}},[]),W=async se=>{if(await s({message:"Permanently delete this message?",confirmLabel:"Delete"}))try{await Ze.deleteMessage(se)}catch(ke){console.error(ke)}},Z=async se=>{try{await Ze.unflagMessage(se),await Ze.resolveFlagByMessageId(se)}catch(ke){console.error(ke)}},ue=async se=>{if(await s({message:"Delete this flagged message?",confirmLabel:"Delete"}))try{await Ze.resolveFlagByMessageId(se),await Ze.deleteMessage(se)}catch(ke){console.error(ke)}};return e?h.jsxs("div",{className:"fixed bottom-0 right-0 md:bottom-6 md:right-6 w-full md:w-[420px] h-[650px] z-[60] font-sans animate-in slide-in-from-bottom-10 duration-500 shadow-2xl flex flex-col bg-black/40 backdrop-blur-xl border border-white/10 md:rounded-3xl overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 border-b border-white/5 backdrop-blur-md z-10",children:[h.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[g==="Resources"&&P?h.jsx("button",{onClick:()=>V(null),className:"p-2 hover:bg-white/10 rounded-full transition text-gray-300",children:h.jsx(aie,{className:"w-5 h-5"})}):h.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center shadow-lg text-white shrink-0",children:h.jsx($S,{className:"w-5 h-5"})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("h3",{className:"font-bold text-white text-sm truncate leading-tight",children:g==="Moderation"?"Moderation Queue":g==="Resources"?P?(Oe=Y.find(se=>se.id===P))==null?void 0:Oe.title:"Class Resources":$}),g!=="Resources"&&g!=="Moderation"&&k.length>1&&h.jsxs("div",{className:"relative group flex items-center cursor-pointer",children:[h.jsx("span",{className:"text-[10px] text-gray-400 font-medium uppercase tracking-wider truncate",children:$}),h.jsx(js,{className:"w-3 h-3 text-gray-500 ml-1"}),h.jsx("select",{className:"absolute inset-0 opacity-0 cursor-pointer",value:$,onChange:se=>M(se.target.value),children:k.map(se=>h.jsx("option",{value:se,children:se},se))})]})]})]}),h.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition text-gray-400 hover:text-white","aria-label":"Close chat",children:h.jsx(Rs,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[h.jsxs("div",{className:"w-16 bg-black/20 border-r border-white/5 flex flex-col items-center py-4 gap-4",children:[h.jsx("button",{onClick:()=>v("Main"),"aria-label":"Main chat",className:`p-3 rounded-2xl transition-all ${g==="Main"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:h.jsx($S,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>v("Resources"),"aria-label":"Resource channels",className:`p-3 rounded-2xl transition-all ${g==="Resources"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:h.jsx(Is,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>v("Bookmarks"),"aria-label":"Bookmarked messages",className:`p-3 rounded-2xl transition-all relative ${g==="Bookmarks"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:h.jsx(zC,{className:"w-5 h-5"})}),t.role==="ADMIN"&&h.jsxs("button",{onClick:()=>v("Moderation"),"aria-label":"Moderation queue",className:`mt-auto p-3 rounded-2xl transition-all relative ${g==="Moderation"?"bg-red-600 text-white shadow-lg shadow-red-500/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[h.jsx(Mc,{className:"w-5 h-5"}),j.length>0&&h.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center animate-pulse",children:j.length})]})]}),h.jsxs("div",{className:"flex-1 flex flex-col relative",children:[g==="Resources"&&!P&&h.jsx("div",{className:"absolute inset-0 p-4 overflow-y-auto custom-scrollbar animate-in slide-in-from-right duration-300",children:h.jsx("div",{className:"space-y-2",children:Y.map(se=>h.jsxs("div",{onClick:()=>V(se.id),className:"group p-4 bg-white/5 hover:bg-white/10 border border-white/5 rounded-2xl transition-all cursor-pointer flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[h.jsx("div",{className:"p-2.5 rounded-xl bg-indigo-500/10 text-indigo-400 group-hover:bg-indigo-500 group-hover:text-white transition shadow-inner",children:h.jsx(fie,{className:"w-5 h-5"})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("h4",{className:"font-bold text-gray-200 text-sm truncate group-hover:text-white transition",children:se.title}),h.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:se.unit})]})]}),h.jsx("button",{onClick:ke=>{ke.stopPropagation(),a==null||a(se.id),r()},className:"p-2 text-gray-500 hover:text-white hover:bg-white/10 rounded-lg transition",children:h.jsx(uie,{className:"w-4 h-4"})})]},se.id))})}),g==="Moderation"&&t.role==="ADMIN"&&h.jsxs("div",{className:"absolute inset-0 p-4 overflow-y-auto custom-scrollbar animate-in slide-in-from-right duration-300",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(ss,{className:"w-4 h-4 text-red-400"}),h.jsx("span",{className:"text-sm font-bold text-red-400 uppercase tracking-widest",children:"Flagged Messages"}),h.jsxs("span",{className:"ml-auto text-xs text-gray-500",children:[j.length," item",j.length!==1?"s":""]})]}),j.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-gray-500",children:[h.jsx(Mc,{className:"w-10 h-10 mb-3 opacity-30"}),h.jsx("p",{className:"text-sm",children:"Queue clear  no flagged messages"})]}):h.jsx("div",{className:"space-y-3",children:j.map(se=>{var ke;return h.jsxs("div",{className:"p-3 bg-red-900/20 border border-red-500/30 rounded-2xl",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-xs font-bold text-gray-300",children:se.senderName}),h.jsx("span",{className:"text-[10px] text-gray-500",children:new Date(se.timestamp).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),h.jsx("p",{className:"text-sm text-gray-200 mb-1",children:se.content}),se.systemNote&&h.jsx("p",{className:"text-[10px] text-red-400 mb-2 italic",children:se.systemNote}),h.jsx("div",{className:"text-[10px] text-gray-500 mb-3",children:((ke=se.channelId)==null?void 0:ke.replace("class_","").replace(/_/g," "))||"unknown channel"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>Z(se.id),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 bg-emerald-600/20 hover:bg-emerald-600/40 border border-emerald-500/30 text-emerald-400 rounded-xl text-xs font-bold transition",children:[h.jsx(B8,{className:"w-3.5 h-3.5"})," Approve"]}),h.jsxs("button",{onClick:()=>ue(se.id),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 bg-red-600/20 hover:bg-red-600/40 border border-red-500/30 text-red-400 rounded-xl text-xs font-bold transition",children:[h.jsx(Ei,{className:"w-3.5 h-3.5"})," Delete"]})]})]},se.id)})})]}),(g==="Main"||g==="Bookmarks"||g==="Resources"&&P)&&h.jsxs(h.Fragment,{children:[h.jsx("div",{ref:U,className:"flex-1 overflow-y-auto p-4 pt-12 space-y-6 custom-scrollbar scroll-smooth",children:(g==="Bookmarks"?ee:c).map((se,ke)=>{var Ae;const Me=se.senderId===t.id,et=ke>0&&c[ke-1].senderId===se.senderId&&new Date(se.timestamp).getTime()-new Date(c[ke-1].timestamp).getTime()<3e5;return h.jsxs("div",{className:`group flex flex-col ${Me?"items-end":"items-start"} ${et?"mt-1":"mt-4"}`,children:[!et&&h.jsxs("div",{className:"flex items-center gap-2 mb-1 px-1",children:[h.jsx("span",{className:`text-xs font-bold ${Me?"text-indigo-400":"text-gray-300"}`,children:se.senderName}),h.jsx("span",{className:"text-[10px] text-gray-600",children:new Date(se.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),se.isGlobalPinned&&h.jsx(KC,{className:"w-3 h-3 text-yellow-500 fill-current"})]}),h.jsxs("div",{className:"relative max-w-[85%]",children:[h.jsxs("div",{className:`flex items-center bg-black/80 backdrop-blur rounded-full px-2 py-1 gap-2 border border-white/10 opacity-0 group-hover:opacity-100 transition-all absolute -top-8 ${Me?"right-0":"left-0"} z-30`,children:[h.jsx("button",{onClick:()=>I(se.id),className:"p-1 hover:bg-white/10 rounded-full transition","aria-label":"Add reaction",children:h.jsx(XC,{className:"w-3.5 h-3.5 text-yellow-400"})}),h.jsx("button",{onClick:()=>fe(se.id),className:`p-1 hover:bg-white/10 rounded-full transition ${(Ae=se.pinnedBy)!=null&&Ae.includes(t.id)?"text-purple-400":"text-gray-400"}`,"aria-label":"Bookmark message",children:h.jsx(zC,{className:"w-3.5 h-3.5"})}),t.role==="ADMIN"&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>ie(se.id,!!se.isGlobalPinned),className:`p-1 hover:bg-white/10 rounded-full transition ${se.isGlobalPinned?"text-yellow-400":"text-gray-400"}`,"aria-label":"Pin for everyone",children:h.jsx(KC,{className:"w-3.5 h-3.5"})}),h.jsx("button",{onClick:()=>W(se.id),className:"p-1 hover:bg-red-500/20 text-gray-400 hover:text-red-400 rounded-full transition","aria-label":"Delete message",children:h.jsx(Ei,{className:"w-3.5 h-3.5"})})]})]}),C===se.id&&h.jsx("div",{ref:N,className:`absolute z-40 bottom-full mb-2 bg-black/95 border border-white/20 rounded-xl p-1 shadow-2xl flex gap-1 animate-in zoom-in-95 ${Me?"right-0":"left-0"}`,children:qoe.map(qe=>h.jsx("button",{onClick:()=>Q(se.id,qe),className:"p-1.5 hover:bg-white/10 rounded-lg transition text-sm",children:qe},qe))}),h.jsx("div",{className:`px-4 py-2.5 text-sm leading-relaxed shadow-lg backdrop-blur-sm border ${Me?"bg-indigo-600/80 text-white rounded-2xl rounded-tr-sm border-indigo-500/30":`bg-white/10 text-gray-100 rounded-2xl rounded-tl-sm border-white/5 ${se.isFlagged?"border-red-500/50 bg-red-900/20":""}`} ${se.isGlobalPinned?"ring-1 ring-yellow-500/50 bg-yellow-900/10":""}`,children:se.content}),h.jsx("div",{className:"flex flex-wrap gap-1 mt-1 justify-end",children:se.reactions&&Object.entries(se.reactions).map(([qe,he])=>{const pe=he;return pe.length>0&&h.jsxs("button",{onClick:()=>Q(se.id,qe),className:`text-[10px] px-1.5 py-0.5 rounded-full border transition ${pe.includes(t.id)?"bg-indigo-500/30 border-indigo-500/50 text-white":"bg-black/30 border-white/5 text-gray-400 hover:bg-white/10"}`,children:[qe," ",pe.length]},qe)})})]})]},se.id)})}),h.jsx("div",{className:"p-4 bg-black/20 backdrop-blur-md border-t border-white/5",children:h.jsxs("form",{onSubmit:J,className:"relative flex items-center gap-2",children:[S&&h.jsx("div",{ref:A,className:"absolute bottom-full left-0 mb-4 bg-[#1a1b1e] border border-white/10 rounded-2xl p-3 shadow-2xl grid grid-cols-6 gap-2 w-64 animate-in slide-in-from-bottom-2 z-50",children:Hoe.map(se=>h.jsx("button",{type:"button",onClick:()=>m(ke=>ke+se),className:"p-2 hover:bg-white/10 rounded-lg text-xl transition",children:se},se))}),h.jsx("button",{type:"button",onClick:()=>_(!S),className:"p-3 text-gray-400 hover:text-yellow-400 hover:bg-white/5 rounded-xl transition","aria-label":"Open emoji picker",children:h.jsx(XC,{className:"w-5 h-5"})}),h.jsx("input",{type:"text",value:f,onChange:se=>m(se.target.value),placeholder:K?"Transmission Disabled":"Type message...",disabled:!z||K,className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-indigo-500/50 focus:bg-white/10 transition"}),h.jsx("button",{type:"submit",disabled:!z||K||!f.trim(),className:"p-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl shadow-lg transition","aria-label":"Send message",children:h.jsx(Cie,{className:"w-5 h-5"})})]})})]})]})]})]}):null};function UF(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=UF(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Bt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=UF(t))&&(n&&(n+=" "),n+=e);return n}var Xw,HI;function da(){if(HI)return Xw;HI=1;var t=Array.isArray;return Xw=t,Xw}var Yw,GI;function zF(){if(GI)return Yw;GI=1;var t=typeof $1=="object"&&$1&&$1.Object===Object&&$1;return Yw=t,Yw}var Qw,KI;function yo(){if(KI)return Qw;KI=1;var t=zF(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Qw=r,Qw}var Zw,WI;function ag(){if(WI)return Zw;WI=1;var t=yo(),e=t.Symbol;return Zw=e,Zw}var Jw,XI;function Koe(){if(XI)return Jw;XI=1;var t=ag(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var c=r.call(s,i),u=s[i];try{s[i]=void 0;var f=!0}catch{}var m=n.call(s);return f&&(c?s[i]=u:delete s[i]),m}return Jw=a,Jw}var e5,YI;function Woe(){if(YI)return e5;YI=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return e5=r,e5}var t5,QI;function _l(){if(QI)return t5;QI=1;var t=ag(),e=Koe(),r=Woe(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(c){return c==null?c===void 0?i:n:a&&a in Object(c)?e(c):r(c)}return t5=s,t5}var r5,ZI;function Sl(){if(ZI)return r5;ZI=1;function t(e){return e!=null&&typeof e=="object"}return r5=t,r5}var n5,JI;function Vd(){if(JI)return n5;JI=1;var t=_l(),e=Sl(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return n5=n,n5}var i5,ej;function cA(){if(ej)return i5;ej=1;var t=da(),e=Vd(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return i5=i,i5}var a5,tj;function Xc(){if(tj)return a5;tj=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return a5=t,a5}var s5,rj;function uA(){if(rj)return s5;rj=1;var t=_l(),e=Xc(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(c){if(!e(c))return!1;var u=t(c);return u==n||u==i||u==r||u==a}return s5=s,s5}var o5,nj;function Xoe(){if(nj)return o5;nj=1;var t=yo(),e=t["__core-js_shared__"];return o5=e,o5}var l5,ij;function Yoe(){if(ij)return l5;ij=1;var t=Xoe(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return l5=r,l5}var c5,aj;function VF(){if(aj)return c5;aj=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return c5=r,c5}var u5,sj;function Qoe(){if(sj)return u5;sj=1;var t=uA(),e=Yoe(),r=Xc(),n=VF(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,u=s.toString,f=c.hasOwnProperty,m=RegExp("^"+u.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(v){if(!r(v)||e(v))return!1;var x=t(v)?m:a;return x.test(n(v))}return u5=g,u5}var h5,oj;function Zoe(){if(oj)return h5;oj=1;function t(e,r){return e==null?void 0:e[r]}return h5=t,h5}var d5,lj;function O0(){if(lj)return d5;lj=1;var t=Qoe(),e=Zoe();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return d5=r,d5}var f5,cj;function gx(){if(cj)return f5;cj=1;var t=O0(),e=t(Object,"create");return f5=e,f5}var m5,uj;function Joe(){if(uj)return m5;uj=1;var t=gx();function e(){this.__data__=t?t(null):{},this.size=0}return m5=e,m5}var p5,hj;function ele(){if(hj)return p5;hj=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return p5=t,p5}var g5,dj;function tle(){if(dj)return g5;dj=1;var t=gx(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var c=s[a];return c===e?void 0:c}return n.call(s,a)?s[a]:void 0}return g5=i,g5}var y5,fj;function rle(){if(fj)return y5;fj=1;var t=gx(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return y5=n,y5}var v5,mj;function nle(){if(mj)return v5;mj=1;var t=gx(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return v5=r,v5}var b5,pj;function ile(){if(pj)return b5;pj=1;var t=Joe(),e=ele(),r=tle(),n=rle(),i=nle();function a(s){var c=-1,u=s==null?0:s.length;for(this.clear();++c<u;){var f=s[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,b5=a,b5}var x5,gj;function ale(){if(gj)return x5;gj=1;function t(){this.__data__=[],this.size=0}return x5=t,x5}var w5,yj;function hA(){if(yj)return w5;yj=1;function t(e,r){return e===r||e!==e&&r!==r}return w5=t,w5}var _5,vj;function yx(){if(vj)return _5;vj=1;var t=hA();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return _5=e,_5}var S5,bj;function sle(){if(bj)return S5;bj=1;var t=yx(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var c=a.length-1;return s==c?a.pop():r.call(a,s,1),--this.size,!0}return S5=n,S5}var T5,xj;function ole(){if(xj)return T5;xj=1;var t=yx();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return T5=e,T5}var A5,wj;function lle(){if(wj)return A5;wj=1;var t=yx();function e(r){return t(this.__data__,r)>-1}return A5=e,A5}var E5,_j;function cle(){if(_j)return E5;_j=1;var t=yx();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return E5=e,E5}var N5,Sj;function vx(){if(Sj)return N5;Sj=1;var t=ale(),e=sle(),r=ole(),n=lle(),i=cle();function a(s){var c=-1,u=s==null?0:s.length;for(this.clear();++c<u;){var f=s[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,N5=a,N5}var O5,Tj;function dA(){if(Tj)return O5;Tj=1;var t=O0(),e=yo(),r=t(e,"Map");return O5=r,O5}var k5,Aj;function ule(){if(Aj)return k5;Aj=1;var t=ile(),e=vx(),r=dA();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return k5=n,k5}var C5,Ej;function hle(){if(Ej)return C5;Ej=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return C5=t,C5}var I5,Nj;function bx(){if(Nj)return I5;Nj=1;var t=hle();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return I5=e,I5}var j5,Oj;function dle(){if(Oj)return j5;Oj=1;var t=bx();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return j5=e,j5}var R5,kj;function fle(){if(kj)return R5;kj=1;var t=bx();function e(r){return t(this,r).get(r)}return R5=e,R5}var M5,Cj;function mle(){if(Cj)return M5;Cj=1;var t=bx();function e(r){return t(this,r).has(r)}return M5=e,M5}var P5,Ij;function ple(){if(Ij)return P5;Ij=1;var t=bx();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return P5=e,P5}var D5,jj;function fA(){if(jj)return D5;jj=1;var t=ule(),e=dle(),r=fle(),n=mle(),i=ple();function a(s){var c=-1,u=s==null?0:s.length;for(this.clear();++c<u;){var f=s[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,D5=a,D5}var L5,Rj;function $F(){if(Rj)return L5;Rj=1;var t=fA(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,c=i?i.apply(this,s):s[0],u=a.cache;if(u.has(c))return u.get(c);var f=n.apply(this,s);return a.cache=u.set(c,f)||u,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,L5=r,L5}var B5,Mj;function gle(){if(Mj)return B5;Mj=1;var t=$F(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return B5=r,B5}var U5,Pj;function yle(){if(Pj)return U5;Pj=1;var t=gle(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,c,u,f){a.push(u?f.replace(r,"$1"):c||s)}),a});return U5=n,U5}var z5,Dj;function mA(){if(Dj)return z5;Dj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return z5=t,z5}var V5,Lj;function vle(){if(Lj)return V5;Lj=1;var t=ag(),e=mA(),r=da(),n=Vd(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(c){if(typeof c=="string")return c;if(r(c))return e(c,s)+"";if(n(c))return a?a.call(c):"";var u=c+"";return u=="0"&&1/c==-1/0?"-0":u}return V5=s,V5}var $5,Bj;function FF(){if(Bj)return $5;Bj=1;var t=vle();function e(r){return r==null?"":t(r)}return $5=e,$5}var F5,Uj;function qF(){if(Uj)return F5;Uj=1;var t=da(),e=cA(),r=yle(),n=FF();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return F5=i,F5}var q5,zj;function xx(){if(zj)return q5;zj=1;var t=Vd();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return q5=e,q5}var H5,Vj;function pA(){if(Vj)return H5;Vj=1;var t=qF(),e=xx();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return H5=r,H5}var G5,$j;function HF(){if($j)return G5;$j=1;var t=pA();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return G5=e,G5}var ble=HF();const as=mr(ble);var K5,Fj;function xle(){if(Fj)return K5;Fj=1;function t(e){return e==null}return K5=t,K5}var wle=xle();const Pt=mr(wle);var W5,qj;function _le(){if(qj)return W5;qj=1;var t=_l(),e=da(),r=Sl(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return W5=i,W5}var Sle=_le();const m0=mr(Sle);var Tle=uA();const kt=mr(Tle);var Ale=Xc();const $d=mr(Ale);var X5={exports:{}},vr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hj;function Ele(){if(Hj)return vr;Hj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function S(_){if(typeof _=="object"&&_!==null){var C=_.$$typeof;switch(C){case t:switch(_=_.type,_){case r:case i:case n:case f:case m:return _;default:switch(_=_&&_.$$typeof,_){case c:case s:case u:case v:case g:case a:return _;default:return C}}case e:return C}}}return vr.ContextConsumer=s,vr.ContextProvider=a,vr.Element=t,vr.ForwardRef=u,vr.Fragment=r,vr.Lazy=v,vr.Memo=g,vr.Portal=e,vr.Profiler=i,vr.StrictMode=n,vr.Suspense=f,vr.SuspenseList=m,vr.isAsyncMode=function(){return!1},vr.isConcurrentMode=function(){return!1},vr.isContextConsumer=function(_){return S(_)===s},vr.isContextProvider=function(_){return S(_)===a},vr.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},vr.isForwardRef=function(_){return S(_)===u},vr.isFragment=function(_){return S(_)===r},vr.isLazy=function(_){return S(_)===v},vr.isMemo=function(_){return S(_)===g},vr.isPortal=function(_){return S(_)===e},vr.isProfiler=function(_){return S(_)===i},vr.isStrictMode=function(_){return S(_)===n},vr.isSuspense=function(_){return S(_)===f},vr.isSuspenseList=function(_){return S(_)===m},vr.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===f||_===m||_===x||typeof _=="object"&&_!==null&&(_.$$typeof===v||_.$$typeof===g||_.$$typeof===a||_.$$typeof===s||_.$$typeof===u||_.$$typeof===T||_.getModuleId!==void 0)},vr.typeOf=S,vr}var Gj;function Nle(){return Gj||(Gj=1,X5.exports=Ele()),X5.exports}var Ole=Nle(),Y5,Kj;function GF(){if(Kj)return Y5;Kj=1;var t=_l(),e=Sl(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return Y5=n,Y5}var Q5,Wj;function kle(){if(Wj)return Q5;Wj=1;var t=GF();function e(r){return t(r)&&r!=+r}return Q5=e,Q5}var Cle=kle();const sg=mr(Cle);var Ile=GF();const jle=mr(Ile);var Ns=function(e){return e===0?0:e>0?1:-1},$u=function(e){return m0(e)&&e.indexOf("%")===e.length-1},Qe=function(e){return jle(e)&&!sg(e)},Rle=function(e){return Pt(e)},Un=function(e){return Qe(e)||m0(e)},Mle=0,og=function(e){var r=++Mle;return"".concat(e||"").concat(r)},Os=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(e)&&!m0(e))return n;var a;if($u(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return sg(a)&&(a=n),i&&a>r&&(a=r),a},wc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Ple=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},sa=function(e,r){return Qe(e)&&Qe(r)?function(n){return e+n*(r-e)}:function(){return r}};function Tv(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):as(n,e))===r})}var Dle=function(e){if(!e||!e.length)return null;for(var r=e.length,n=0,i=0,a=0,s=0,c=1/0,u=-1/0,f=0,m=0,g=0;g<r;g++)f=e[g].cx||0,m=e[g].cy||0,n+=f,i+=m,a+=f*m,s+=f*f,c=Math.min(c,f),u=Math.max(u,f);var v=r*s!==n*n?(r*a-n*i)/(r*s-n*n):0;return{xmin:c,xmax:u,a:v,b:(i-v*n)/r}},Lle=function(e,r){return Qe(e)&&Qe(r)?e-r:m0(e)&&m0(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function qh(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function r7(t){"@babel/helpers - typeof";return r7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r7(t)}var Ble=["viewBox","children"],Ule=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Xj=["points","pathLength"],Z5={svg:Ble,polygon:Xj,polyline:Xj},gA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Av=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(q.isValidElement(e)&&(n=e.props),!$d(n))return null;var i={};return Object.keys(n).forEach(function(a){gA.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},zle=function(e,r,n){return function(i){return e(r,n,i),null}},p0=function(e,r,n){if(!$d(e)||r7(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];gA.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=zle(s,r,n))}),i},Vle=["children"],$le=["children"];function Yj(t,e){if(t==null)return{};var r=Fle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Qj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},il=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Zj=null,J5=null,yA=function t(e){if(e===Zj&&Array.isArray(J5))return J5;var r=[];return q.Children.forEach(e,function(n){Pt(n)||(Ole.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),J5=r,Zj=e,r};function Ra(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return il(i)}):n=[il(e)],yA(t).forEach(function(i){var a=as(i,"type.displayName")||as(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Aa(t,e){var r=Ra(t,e);return r&&r[0]}var Jj=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Qe(n)||n<=0||!Qe(i)||i<=0)},qle=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Hle=function(e){return e&&e.type&&m0(e.type)&&qle.indexOf(e.type)>=0},Gle=function(e,r,n,i){var a,s=(a=Z5==null?void 0:Z5[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!kt(e)&&(i&&s.includes(r)||Ule.includes(r))||n&&gA.includes(r)},xt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(q.isValidElement(e)&&(i=e.props),!$d(i))return null;var a={};return Object.keys(i).forEach(function(s){var c;Gle((c=i)===null||c===void 0?void 0:c[s],s,r,n)&&(a[s]=i[s])}),a},n7=function t(e,r){if(e===r)return!0;var n=q.Children.count(e);if(n!==q.Children.count(r))return!1;if(n===0)return!0;if(n===1)return eR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!eR(a,s))return!1}return!0},eR=function(e,r){if(Pt(e)&&Pt(r))return!0;if(!Pt(e)&&!Pt(r)){var n=e.props||{},i=n.children,a=Yj(n,Vle),s=r.props||{},c=s.children,u=Yj(s,$le);return i&&c?qh(a,u)&&n7(i,c):!i&&!c?qh(a,u):!1}return!1},tR=function(e,r){var n=[],i={};return yA(e).forEach(function(a,s){if(Hle(a))n.push(a);else if(a){var c=il(a.type),u=r[c]||{},f=u.handler,m=u.once;if(f&&(!m||!i[c])){var g=f(a,c,s);n.push(g),i[c]=!0}}}),n},Kle=function(e){var r=e&&e.type;return r&&Qj[r]?Qj[r]:null},Wle=function(e,r){return yA(r).indexOf(e)},Xle=["children","width","height","viewBox","className","style","title","desc"];function i7(){return i7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i7.apply(this,arguments)}function Yle(t,e){if(t==null)return{};var r=Qle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function a7(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,c=t.title,u=t.desc,f=Yle(t,Xle),m=i||{width:r,height:n,x:0,y:0},g=Bt("recharts-surface",a);return ne.createElement("svg",i7({},xt(f,!0,"svg"),{className:g,width:r,height:n,style:s,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),ne.createElement("title",null,c),ne.createElement("desc",null,u),e)}var Zle=["children","className"];function s7(){return s7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s7.apply(this,arguments)}function Jle(t,e){if(t==null)return{};var r=ece(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ece(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var cr=ne.forwardRef(function(t,e){var r=t.children,n=t.className,i=Jle(t,Zle),a=Bt("recharts-layer",n);return ne.createElement("g",s7({className:a},xt(i,!0),{ref:e}),r)}),al=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},e3,rR;function tce(){if(rR)return e3;rR=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return e3=t,e3}var t3,nR;function rce(){if(nR)return t3;nR=1;var t=tce();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return t3=e,t3}var r3,iR;function KF(){if(iR)return r3;iR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",c=RegExp("["+s+t+i+a+"]");function u(f){return c.test(f)}return r3=u,r3}var n3,aR;function nce(){if(aR)return n3;aR=1;function t(e){return e.split("")}return n3=t,n3}var i3,sR;function ice(){if(sR)return i3;sR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",c="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+u+")",m="[^"+t+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",T=f+"?",S="["+a+"]?",_="(?:"+x+"(?:"+[m,g,v].join("|")+")"+S+T+")*",C=S+T+_,I="(?:"+[m+c+"?",c,g,v,s].join("|")+")",P=RegExp(u+"(?="+u+")|"+I+C,"g");function V(j){return j.match(P)||[]}return i3=V,i3}var a3,oR;function ace(){if(oR)return a3;oR=1;var t=nce(),e=KF(),r=ice();function n(i){return e(i)?r(i):t(i)}return a3=n,a3}var s3,lR;function sce(){if(lR)return s3;lR=1;var t=rce(),e=KF(),r=ace(),n=FF();function i(a){return function(s){s=n(s);var c=e(s)?r(s):void 0,u=c?c[0]:s.charAt(0),f=c?t(c,1).join(""):s.slice(1);return u[a]()+f}}return s3=i,s3}var o3,cR;function oce(){if(cR)return o3;cR=1;var t=sce(),e=t("toUpperCase");return o3=e,o3}var lce=oce();const wx=mr(lce);function Br(t){return function(){return t}}const WF=Math.cos,Ev=Math.sin,Ps=Math.sqrt,Nv=Math.PI,_x=2*Nv,o7=Math.PI,l7=2*o7,Mu=1e-6,cce=l7-Mu;function XF(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function uce(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return XF;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class hce{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?XF:uce(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,u=n-e,f=i-r,m=s-e,g=c-r,v=m*m+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>Mu)if(!(Math.abs(g*u-f*m)>Mu)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-s,T=i-c,S=u*u+f*f,_=x*x+T*T,C=Math.sqrt(S),I=Math.sqrt(v),P=a*Math.tan((o7-Math.acos((S+v-_)/(2*C*I)))/2),V=P/I,j=P/C;Math.abs(V-1)>Mu&&this._append`L${e+V*m},${r+V*g}`,this._append`A${a},${a},0,0,${+(g*x>m*T)},${this._x1=e+j*u},${this._y1=r+j*f}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),u=n*Math.sin(i),f=e+c,m=r+u,g=1^s,v=s?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Mu||Math.abs(this._y1-m)>Mu)&&this._append`L${f},${m}`,n&&(v<0&&(v=v%l7+l7),v>cce?this._append`A${n},${n},0,1,${g},${e-c},${r-u}A${n},${n},0,1,${g},${this._x1=f},${this._y1=m}`:v>Mu&&this._append`A${n},${n},0,${+(v>=o7)},${g},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function vA(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new hce(e)}function bA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function YF(t){this._context=t}YF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Sx(t){return new YF(t)}function QF(t){return t[0]}function ZF(t){return t[1]}function JF(t,e){var r=Br(!0),n=null,i=Sx,a=null,s=vA(c);t=typeof t=="function"?t:t===void 0?QF:Br(t),e=typeof e=="function"?e:e===void 0?ZF:Br(e);function c(u){var f,m=(u=bA(u)).length,g,v=!1,x;for(n==null&&(a=i(x=s())),f=0;f<=m;++f)!(f<m&&r(g=u[f],f,u))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(g,f,u),+e(g,f,u));if(x)return a=null,x+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:Br(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:Br(+u),c):e},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Br(!!u),c):r},c.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),c):i},c.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),c):n},c}function uy(t,e,r){var n=null,i=Br(!0),a=null,s=Sx,c=null,u=vA(f);t=typeof t=="function"?t:t===void 0?QF:Br(+t),e=typeof e=="function"?e:Br(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?ZF:Br(+r);function f(g){var v,x,T,S=(g=bA(g)).length,_,C=!1,I,P=new Array(S),V=new Array(S);for(a==null&&(c=s(I=u())),v=0;v<=S;++v){if(!(v<S&&i(_=g[v],v,g))===C)if(C=!C)x=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),T=v-1;T>=x;--T)c.point(P[T],V[T]);c.lineEnd(),c.areaEnd()}C&&(P[v]=+t(_,v,g),V[v]=+e(_,v,g),c.point(n?+n(_,v,g):P[v],r?+r(_,v,g):V[v]))}if(I)return c=null,I+""||null}function m(){return JF().defined(i).curve(s).context(a)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:Br(+g),n=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Br(+g),f):t},f.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Br(+g),f):n},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:Br(+g),r=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Br(+g),f):e},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Br(+g),f):r},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(r)},f.lineX1=function(){return m().x(n).y(e)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Br(!!g),f):i},f.curve=function(g){return arguments.length?(s=g,a!=null&&(c=s(a)),f):s},f.context=function(g){return arguments.length?(g==null?a=c=null:c=s(a=g),f):a},f}class eq{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function dce(t){return new eq(t,!0)}function fce(t){return new eq(t,!1)}const xA={draw(t,e){const r=Ps(e/Nv);t.moveTo(r,0),t.arc(0,0,r,0,_x)}},mce={draw(t,e){const r=Ps(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},tq=Ps(1/3),pce=tq*2,gce={draw(t,e){const r=Ps(e/pce),n=r*tq;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},yce={draw(t,e){const r=Ps(e),n=-r/2;t.rect(n,n,r,r)}},vce=.8908130915292852,rq=Ev(Nv/10)/Ev(7*Nv/10),bce=Ev(_x/10)*rq,xce=-WF(_x/10)*rq,wce={draw(t,e){const r=Ps(e*vce),n=bce*r,i=xce*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=_x*a/5,c=WF(s),u=Ev(s);t.lineTo(u*r,-c*r),t.lineTo(c*n-u*i,u*n+c*i)}t.closePath()}},l3=Ps(3),_ce={draw(t,e){const r=-Ps(e/(l3*3));t.moveTo(0,r*2),t.lineTo(-l3*r,-r),t.lineTo(l3*r,-r),t.closePath()}},Ya=-.5,Qa=Ps(3)/2,c7=1/Ps(12),Sce=(c7/2+1)*3,Tce={draw(t,e){const r=Ps(e/Sce),n=r/2,i=r*c7,a=n,s=r*c7+r,c=-a,u=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(c,u),t.lineTo(Ya*n-Qa*i,Qa*n+Ya*i),t.lineTo(Ya*a-Qa*s,Qa*a+Ya*s),t.lineTo(Ya*c-Qa*u,Qa*c+Ya*u),t.lineTo(Ya*n+Qa*i,Ya*i-Qa*n),t.lineTo(Ya*a+Qa*s,Ya*s-Qa*a),t.lineTo(Ya*c+Qa*u,Ya*u-Qa*c),t.closePath()}};function Ace(t,e){let r=null,n=vA(i);t=typeof t=="function"?t:Br(t||xA),e=typeof e=="function"?e:Br(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Br(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Br(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Ov(){}function kv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function nq(t){this._context=t}nq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ece(t){return new nq(t)}function iq(t){this._context=t}iq.prototype={areaStart:Ov,areaEnd:Ov,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:kv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Nce(t){return new iq(t)}function aq(t){this._context=t}aq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:kv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Oce(t){return new aq(t)}function sq(t){this._context=t}sq.prototype={areaStart:Ov,areaEnd:Ov,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kce(t){return new sq(t)}function uR(t){return t<0?-1:1}function hR(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),c=(a*i+s*n)/(n+i);return(uR(a)+uR(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function dR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function c3(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,c=(a-n)/3;t._context.bezierCurveTo(n+c,i+c*e,a-c,s-c*r,a,s)}function Cv(t){this._context=t}Cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:c3(this,this._t0,dR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,c3(this,dR(this,r=hR(this,t,e)),r);break;default:c3(this,this._t0,r=hR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function oq(t){this._context=new lq(t)}(oq.prototype=Object.create(Cv.prototype)).point=function(t,e){Cv.prototype.point.call(this,e,t)};function lq(t){this._context=t}lq.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Cce(t){return new Cv(t)}function Ice(t){return new oq(t)}function cq(t){this._context=t}cq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=fR(t),i=fR(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function fR(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function jce(t){return new cq(t)}function Tx(t,e){this._context=t,this._t=e}Tx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Rce(t){return new Tx(t,.5)}function Mce(t){return new Tx(t,0)}function Pce(t){return new Tx(t,1)}function sd(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,c=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<c;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function u7(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Dce(t,e){return t[e]}function Lce(t){const e=[];return e.key=t,e}function Bce(){var t=Br([]),e=u7,r=sd,n=Dce;function i(a){var s=Array.from(t.apply(this,arguments),Lce),c,u=s.length,f=-1,m;for(const g of a)for(c=0,++f;c<u;++c)(s[c][f]=[0,+n(g,s[c].key,f,a)]).data=g;for(c=0,m=bA(e(s));c<u;++c)s[m[c]].index=c;return r(s,m),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Br(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Br(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?u7:typeof a=="function"?a:Br(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??sd,i):r},i}function Uce(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}sd(t,e)}}function zce(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,c=0;s<i;++s)c+=t[s][r][1]||0;n[r][1]+=n[r][0]=-c/2}sd(t,e)}}function Vce(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var c=0,u=0,f=0;c<s;++c){for(var m=t[e[c]],g=m[n][1]||0,v=m[n-1][1]||0,x=(g-v)/2,T=0;T<c;++T){var S=t[e[T]],_=S[n][1]||0,C=S[n-1][1]||0;x+=_-C}u+=g,f+=x*g}i[n-1][1]+=i[n-1][0]=r,u&&(r-=f/u)}i[n-1][1]+=i[n-1][0]=r,sd(t,e)}}function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}var $ce=["type","size","sizeType"];function h7(){return h7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h7.apply(this,arguments)}function mR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(r),!0).forEach(function(n){Fce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fce(t,e,r){return e=qce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qce(t){var e=Hce(t,"string");return ap(e)=="symbol"?e:e+""}function Hce(t,e){if(ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gce(t,e){if(t==null)return{};var r=Kce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uq={symbolCircle:xA,symbolCross:mce,symbolDiamond:gce,symbolSquare:yce,symbolStar:wce,symbolTriangle:_ce,symbolWye:Tce},Wce=Math.PI/180,Xce=function(e){var r="symbol".concat(wx(e));return uq[r]||xA},Yce=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Wce;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Qce=function(e,r){uq["symbol".concat(wx(e))]=r},Ax=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,c=s===void 0?"area":s,u=Gce(e,$ce),f=pR(pR({},u),{},{type:n,size:a,sizeType:c}),m=function(){var _=Xce(n),C=Ace().type(_).size(Yce(a,c,n));return C()},g=f.className,v=f.cx,x=f.cy,T=xt(f,!0);return v===+v&&x===+x&&a===+a?ne.createElement("path",h7({},T,{className:Bt("recharts-symbols",g),transform:"translate(".concat(v,", ").concat(x,")"),d:m()})):null};Ax.registerSymbol=Qce;function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function d7(){return d7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d7.apply(this,arguments)}function gR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(r),!0).forEach(function(n){sp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dq(n.key),n)}}function tue(t,e,r){return e&&eue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rue(t,e,r){return e=Iv(e),nue(t,hq()?Reflect.construct(e,r||[],Iv(t).constructor):e.apply(t,r))}function nue(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iue(t)}function iue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hq=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iv(t)}function aue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f7(t,e)}function f7(t,e){return f7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f7(t,e)}function sp(t,e,r){return e=dq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dq(t){var e=sue(t,"string");return od(e)=="symbol"?e:e+""}function sue(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Za=32,wA=(function(t){function e(){return Jce(this,e),rue(this,e,arguments)}return aue(e,t),tue(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Za/2,s=Za/6,c=Za/3,u=n.inactive?i:n.color;if(n.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Za,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(a,`
            H`).concat(Za,"M").concat(2*c,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return ne.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Za/8,"h").concat(Za,"v").concat(Za*3/4,"h").concat(-Za,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(n.legendIcon)){var f=Zce({},n);return delete f.legendIcon,ne.cloneElement(n.legendIcon,f)}return ne.createElement(Ax,{fill:u,cx:a,cy:a,size:Za,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,c=i.layout,u=i.formatter,f=i.inactiveColor,m={x:0,y:0,width:Za,height:Za},g={display:c==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,T){var S=x.formatter||u,_=Bt(sp(sp({"recharts-legend-item":!0},"legend-item-".concat(T),!0),"inactive",x.inactive));if(x.type==="none")return null;var C=kt(x.value)?null:x.value;al(!kt(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var I=x.inactive?f:x.color;return ne.createElement("li",d7({className:_,style:g,key:"legend-item-".concat(T)},p0(n.props,x,T)),ne.createElement(a7,{width:s,height:s,viewBox:m,style:v},n.renderIcon(x)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:I}},S?S(C,x,T):C))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(q.PureComponent);sp(wA,"displayName","Legend");sp(wA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var u3,yR;function oue(){if(yR)return u3;yR=1;var t=vx();function e(){this.__data__=new t,this.size=0}return u3=e,u3}var h3,vR;function lue(){if(vR)return h3;vR=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return h3=t,h3}var d3,bR;function cue(){if(bR)return d3;bR=1;function t(e){return this.__data__.get(e)}return d3=t,d3}var f3,xR;function uue(){if(xR)return f3;xR=1;function t(e){return this.__data__.has(e)}return f3=t,f3}var m3,wR;function hue(){if(wR)return m3;wR=1;var t=vx(),e=dA(),r=fA(),n=200;function i(a,s){var c=this.__data__;if(c instanceof t){var u=c.__data__;if(!e||u.length<n-1)return u.push([a,s]),this.size=++c.size,this;c=this.__data__=new r(u)}return c.set(a,s),this.size=c.size,this}return m3=i,m3}var p3,_R;function fq(){if(_R)return p3;_R=1;var t=vx(),e=oue(),r=lue(),n=cue(),i=uue(),a=hue();function s(c){var u=this.__data__=new t(c);this.size=u.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,p3=s,p3}var g3,SR;function due(){if(SR)return g3;SR=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return g3=e,g3}var y3,TR;function fue(){if(TR)return y3;TR=1;function t(e){return this.__data__.has(e)}return y3=t,y3}var v3,AR;function mq(){if(AR)return v3;AR=1;var t=fA(),e=due(),r=fue();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,v3=n,v3}var b3,ER;function pq(){if(ER)return b3;ER=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return b3=t,b3}var x3,NR;function gq(){if(NR)return x3;NR=1;function t(e,r){return e.has(r)}return x3=t,x3}var w3,OR;function yq(){if(OR)return w3;OR=1;var t=mq(),e=pq(),r=gq(),n=1,i=2;function a(s,c,u,f,m,g){var v=u&n,x=s.length,T=c.length;if(x!=T&&!(v&&T>x))return!1;var S=g.get(s),_=g.get(c);if(S&&_)return S==c&&_==s;var C=-1,I=!0,P=u&i?new t:void 0;for(g.set(s,c),g.set(c,s);++C<x;){var V=s[C],j=c[C];if(f)var D=v?f(j,V,C,c,s,g):f(V,j,C,s,c,g);if(D!==void 0){if(D)continue;I=!1;break}if(P){if(!e(c,function(A,N){if(!r(P,N)&&(V===A||m(V,A,u,f,g)))return P.push(N)})){I=!1;break}}else if(!(V===j||m(V,j,u,f,g))){I=!1;break}}return g.delete(s),g.delete(c),I}return w3=a,w3}var _3,kR;function mue(){if(kR)return _3;kR=1;var t=yo(),e=t.Uint8Array;return _3=e,_3}var S3,CR;function pue(){if(CR)return S3;CR=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return S3=t,S3}var T3,IR;function _A(){if(IR)return T3;IR=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return T3=t,T3}var A3,jR;function gue(){if(jR)return A3;jR=1;var t=ag(),e=mue(),r=hA(),n=yq(),i=pue(),a=_A(),s=1,c=2,u="[object Boolean]",f="[object Date]",m="[object Error]",g="[object Map]",v="[object Number]",x="[object RegExp]",T="[object Set]",S="[object String]",_="[object Symbol]",C="[object ArrayBuffer]",I="[object DataView]",P=t?t.prototype:void 0,V=P?P.valueOf:void 0;function j(D,A,N,k,$,M,z){switch(N){case I:if(D.byteLength!=A.byteLength||D.byteOffset!=A.byteOffset)return!1;D=D.buffer,A=A.buffer;case C:return!(D.byteLength!=A.byteLength||!M(new e(D),new e(A)));case u:case f:case v:return r(+D,+A);case m:return D.name==A.name&&D.message==A.message;case x:case S:return D==A+"";case g:var U=i;case T:var Y=k&s;if(U||(U=a),D.size!=A.size&&!Y)return!1;var ee=z.get(D);if(ee)return ee==A;k|=c,z.set(D,A);var K=n(U(D),U(A),k,$,M,z);return z.delete(D),K;case _:if(V)return V.call(D)==V.call(A)}return!1}return A3=j,A3}var E3,RR;function vq(){if(RR)return E3;RR=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return E3=t,E3}var N3,MR;function yue(){if(MR)return N3;MR=1;var t=vq(),e=da();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return N3=r,N3}var O3,PR;function vue(){if(PR)return O3;PR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var c=e[n];r(c,n,e)&&(s[a++]=c)}return s}return O3=t,O3}var k3,DR;function bue(){if(DR)return k3;DR=1;function t(){return[]}return k3=t,k3}var C3,LR;function xue(){if(LR)return C3;LR=1;var t=vue(),e=bue(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(c){return n.call(s,c)}))}:e;return C3=a,C3}var I3,BR;function wue(){if(BR)return I3;BR=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return I3=t,I3}var j3,UR;function _ue(){if(UR)return j3;UR=1;var t=_l(),e=Sl(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return j3=n,j3}var R3,zR;function SA(){if(zR)return R3;zR=1;var t=_ue(),e=Sl(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return R3=a,R3}var vm={exports:{}},M3,VR;function Sue(){if(VR)return M3;VR=1;function t(){return!1}return M3=t,M3}vm.exports;var $R;function bq(){return $R||($R=1,(function(t,e){var r=yo(),n=Sue(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,c=s?r.Buffer:void 0,u=c?c.isBuffer:void 0,f=u||n;t.exports=f})(vm,vm.exports)),vm.exports}var P3,FR;function TA(){if(FR)return P3;FR=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return P3=r,P3}var D3,qR;function AA(){if(qR)return D3;qR=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return D3=e,D3}var L3,HR;function Tue(){if(HR)return L3;HR=1;var t=_l(),e=AA(),r=Sl(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",c="[object Error]",u="[object Function]",f="[object Map]",m="[object Number]",g="[object Object]",v="[object RegExp]",x="[object Set]",T="[object String]",S="[object WeakMap]",_="[object ArrayBuffer]",C="[object DataView]",I="[object Float32Array]",P="[object Float64Array]",V="[object Int8Array]",j="[object Int16Array]",D="[object Int32Array]",A="[object Uint8Array]",N="[object Uint8ClampedArray]",k="[object Uint16Array]",$="[object Uint32Array]",M={};M[I]=M[P]=M[V]=M[j]=M[D]=M[A]=M[N]=M[k]=M[$]=!0,M[n]=M[i]=M[_]=M[a]=M[C]=M[s]=M[c]=M[u]=M[f]=M[m]=M[g]=M[v]=M[x]=M[T]=M[S]=!1;function z(U){return r(U)&&e(U.length)&&!!M[t(U)]}return L3=z,L3}var B3,GR;function xq(){if(GR)return B3;GR=1;function t(e){return function(r){return e(r)}}return B3=t,B3}var bm={exports:{}};bm.exports;var KR;function Aue(){return KR||(KR=1,(function(t,e){var r=zF(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,c=(function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}})();t.exports=c})(bm,bm.exports)),bm.exports}var U3,WR;function wq(){if(WR)return U3;WR=1;var t=Tue(),e=xq(),r=Aue(),n=r&&r.isTypedArray,i=n?e(n):t;return U3=i,U3}var z3,XR;function Eue(){if(XR)return z3;XR=1;var t=wue(),e=SA(),r=da(),n=bq(),i=TA(),a=wq(),s=Object.prototype,c=s.hasOwnProperty;function u(f,m){var g=r(f),v=!g&&e(f),x=!g&&!v&&n(f),T=!g&&!v&&!x&&a(f),S=g||v||x||T,_=S?t(f.length,String):[],C=_.length;for(var I in f)(m||c.call(f,I))&&!(S&&(I=="length"||x&&(I=="offset"||I=="parent")||T&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||i(I,C)))&&_.push(I);return _}return z3=u,z3}var V3,YR;function Nue(){if(YR)return V3;YR=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return V3=e,V3}var $3,QR;function _q(){if(QR)return $3;QR=1;function t(e,r){return function(n){return e(r(n))}}return $3=t,$3}var F3,ZR;function Oue(){if(ZR)return F3;ZR=1;var t=_q(),e=t(Object.keys,Object);return F3=e,F3}var q3,JR;function kue(){if(JR)return q3;JR=1;var t=Nue(),e=Oue(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var c in Object(a))n.call(a,c)&&c!="constructor"&&s.push(c);return s}return q3=i,q3}var H3,eM;function lg(){if(eM)return H3;eM=1;var t=uA(),e=AA();function r(n){return n!=null&&e(n.length)&&!t(n)}return H3=r,H3}var G3,tM;function Ex(){if(tM)return G3;tM=1;var t=Eue(),e=kue(),r=lg();function n(i){return r(i)?t(i):e(i)}return G3=n,G3}var K3,rM;function Cue(){if(rM)return K3;rM=1;var t=yue(),e=xue(),r=Ex();function n(i){return t(i,r,e)}return K3=n,K3}var W3,nM;function Iue(){if(nM)return W3;nM=1;var t=Cue(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,c,u,f,m){var g=c&e,v=t(a),x=v.length,T=t(s),S=T.length;if(x!=S&&!g)return!1;for(var _=x;_--;){var C=v[_];if(!(g?C in s:n.call(s,C)))return!1}var I=m.get(a),P=m.get(s);if(I&&P)return I==s&&P==a;var V=!0;m.set(a,s),m.set(s,a);for(var j=g;++_<x;){C=v[_];var D=a[C],A=s[C];if(u)var N=g?u(A,D,C,s,a,m):u(D,A,C,a,s,m);if(!(N===void 0?D===A||f(D,A,c,u,m):N)){V=!1;break}j||(j=C=="constructor")}if(V&&!j){var k=a.constructor,$=s.constructor;k!=$&&"constructor"in a&&"constructor"in s&&!(typeof k=="function"&&k instanceof k&&typeof $=="function"&&$ instanceof $)&&(V=!1)}return m.delete(a),m.delete(s),V}return W3=i,W3}var X3,iM;function jue(){if(iM)return X3;iM=1;var t=O0(),e=yo(),r=t(e,"DataView");return X3=r,X3}var Y3,aM;function Rue(){if(aM)return Y3;aM=1;var t=O0(),e=yo(),r=t(e,"Promise");return Y3=r,Y3}var Q3,sM;function Sq(){if(sM)return Q3;sM=1;var t=O0(),e=yo(),r=t(e,"Set");return Q3=r,Q3}var Z3,oM;function Mue(){if(oM)return Z3;oM=1;var t=O0(),e=yo(),r=t(e,"WeakMap");return Z3=r,Z3}var J3,lM;function Pue(){if(lM)return J3;lM=1;var t=jue(),e=dA(),r=Rue(),n=Sq(),i=Mue(),a=_l(),s=VF(),c="[object Map]",u="[object Object]",f="[object Promise]",m="[object Set]",g="[object WeakMap]",v="[object DataView]",x=s(t),T=s(e),S=s(r),_=s(n),C=s(i),I=a;return(t&&I(new t(new ArrayBuffer(1)))!=v||e&&I(new e)!=c||r&&I(r.resolve())!=f||n&&I(new n)!=m||i&&I(new i)!=g)&&(I=function(P){var V=a(P),j=V==u?P.constructor:void 0,D=j?s(j):"";if(D)switch(D){case x:return v;case T:return c;case S:return f;case _:return m;case C:return g}return V}),J3=I,J3}var e6,cM;function Due(){if(cM)return e6;cM=1;var t=fq(),e=yq(),r=gue(),n=Iue(),i=Pue(),a=da(),s=bq(),c=wq(),u=1,f="[object Arguments]",m="[object Array]",g="[object Object]",v=Object.prototype,x=v.hasOwnProperty;function T(S,_,C,I,P,V){var j=a(S),D=a(_),A=j?m:i(S),N=D?m:i(_);A=A==f?g:A,N=N==f?g:N;var k=A==g,$=N==g,M=A==N;if(M&&s(S)){if(!s(_))return!1;j=!0,k=!1}if(M&&!k)return V||(V=new t),j||c(S)?e(S,_,C,I,P,V):r(S,_,A,C,I,P,V);if(!(C&u)){var z=k&&x.call(S,"__wrapped__"),U=$&&x.call(_,"__wrapped__");if(z||U){var Y=z?S.value():S,ee=U?_.value():_;return V||(V=new t),P(Y,ee,C,I,V)}}return M?(V||(V=new t),n(S,_,C,I,P,V)):!1}return e6=T,e6}var t6,uM;function EA(){if(uM)return t6;uM=1;var t=Due(),e=Sl();function r(n,i,a,s,c){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,c)}return t6=r,t6}var r6,hM;function Lue(){if(hM)return r6;hM=1;var t=fq(),e=EA(),r=1,n=2;function i(a,s,c,u){var f=c.length,m=f,g=!u;if(a==null)return!m;for(a=Object(a);f--;){var v=c[f];if(g&&v[2]?v[1]!==a[v[0]]:!(v[0]in a))return!1}for(;++f<m;){v=c[f];var x=v[0],T=a[x],S=v[1];if(g&&v[2]){if(T===void 0&&!(x in a))return!1}else{var _=new t;if(u)var C=u(T,S,x,a,s,_);if(!(C===void 0?e(S,T,r|n,u,_):C))return!1}}return!0}return r6=i,r6}var n6,dM;function Tq(){if(dM)return n6;dM=1;var t=Xc();function e(r){return r===r&&!t(r)}return n6=e,n6}var i6,fM;function Bue(){if(fM)return i6;fM=1;var t=Tq(),e=Ex();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],c=n[s];i[a]=[s,c,t(c)]}return i}return i6=r,i6}var a6,mM;function Aq(){if(mM)return a6;mM=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return a6=t,a6}var s6,pM;function Uue(){if(pM)return s6;pM=1;var t=Lue(),e=Bue(),r=Aq();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return s6=n,s6}var o6,gM;function zue(){if(gM)return o6;gM=1;function t(e,r){return e!=null&&r in Object(e)}return o6=t,o6}var l6,yM;function Vue(){if(yM)return l6;yM=1;var t=qF(),e=SA(),r=da(),n=TA(),i=AA(),a=xx();function s(c,u,f){u=t(u,c);for(var m=-1,g=u.length,v=!1;++m<g;){var x=a(u[m]);if(!(v=c!=null&&f(c,x)))break;c=c[x]}return v||++m!=g?v:(g=c==null?0:c.length,!!g&&i(g)&&n(x,g)&&(r(c)||e(c)))}return l6=s,l6}var c6,vM;function $ue(){if(vM)return c6;vM=1;var t=zue(),e=Vue();function r(n,i){return n!=null&&e(n,i,t)}return c6=r,c6}var u6,bM;function Fue(){if(bM)return u6;bM=1;var t=EA(),e=HF(),r=$ue(),n=cA(),i=Tq(),a=Aq(),s=xx(),c=1,u=2;function f(m,g){return n(m)&&i(g)?a(s(m),g):function(v){var x=e(v,m);return x===void 0&&x===g?r(v,m):t(g,x,c|u)}}return u6=f,u6}var h6,xM;function Fd(){if(xM)return h6;xM=1;function t(e){return e}return h6=t,h6}var d6,wM;function que(){if(wM)return d6;wM=1;function t(e){return function(r){return r==null?void 0:r[e]}}return d6=t,d6}var f6,_M;function Hue(){if(_M)return f6;_M=1;var t=pA();function e(r){return function(n){return t(n,r)}}return f6=e,f6}var m6,SM;function Gue(){if(SM)return m6;SM=1;var t=que(),e=Hue(),r=cA(),n=xx();function i(a){return r(a)?t(n(a)):e(a)}return m6=i,m6}var p6,TM;function vo(){if(TM)return p6;TM=1;var t=Uue(),e=Fue(),r=Fd(),n=da(),i=Gue();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return p6=a,p6}var g6,AM;function Eq(){if(AM)return g6;AM=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return g6=t,g6}var y6,EM;function Kue(){if(EM)return y6;EM=1;function t(e){return e!==e}return y6=t,y6}var v6,NM;function Wue(){if(NM)return v6;NM=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return v6=t,v6}var b6,OM;function Xue(){if(OM)return b6;OM=1;var t=Eq(),e=Kue(),r=Wue();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return b6=n,b6}var x6,kM;function Yue(){if(kM)return x6;kM=1;var t=Xue();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return x6=e,x6}var w6,CM;function Que(){if(CM)return w6;CM=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return w6=t,w6}var _6,IM;function Zue(){if(IM)return _6;IM=1;function t(){}return _6=t,_6}var S6,jM;function Jue(){if(jM)return S6;jM=1;var t=Sq(),e=Zue(),r=_A(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return S6=i,S6}var T6,RM;function e0e(){if(RM)return T6;RM=1;var t=mq(),e=Yue(),r=Que(),n=gq(),i=Jue(),a=_A(),s=200;function c(u,f,m){var g=-1,v=e,x=u.length,T=!0,S=[],_=S;if(m)T=!1,v=r;else if(x>=s){var C=f?null:i(u);if(C)return a(C);T=!1,v=n,_=new t}else _=f?[]:S;e:for(;++g<x;){var I=u[g],P=f?f(I):I;if(I=m||I!==0?I:0,T&&P===P){for(var V=_.length;V--;)if(_[V]===P)continue e;f&&_.push(P),S.push(I)}else v(_,P,m)||(_!==S&&_.push(P),S.push(I))}return S}return T6=c,T6}var A6,MM;function t0e(){if(MM)return A6;MM=1;var t=vo(),e=e0e();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return A6=r,A6}var r0e=t0e();const PM=mr(r0e);function Nq(t,e,r){return e===!0?PM(t,r):kt(e)?PM(t,e):t}function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}var n0e=["ref"];function DM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(r),!0).forEach(function(n){Nx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kq(n.key),n)}}function a0e(t,e,r){return e&&LM(t.prototype,e),r&&LM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s0e(t,e,r){return e=jv(e),o0e(t,Oq()?Reflect.construct(e,r||[],jv(t).constructor):e.apply(t,r))}function o0e(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l0e(t)}function l0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oq=function(){return!!t})()}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jv(t)}function c0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m7(t,e)}function m7(t,e){return m7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m7(t,e)}function Nx(t,e,r){return e=kq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kq(t){var e=u0e(t,"string");return ld(e)=="symbol"?e:e+""}function u0e(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function h0e(t,e){if(t==null)return{};var r=d0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function d0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function f0e(t){return t.value}function m0e(t,e){if(ne.isValidElement(t))return ne.cloneElement(t,e);if(typeof t=="function")return ne.createElement(t,e);e.ref;var r=h0e(e,n0e);return ne.createElement(wA,r)}var BM=1,Hh=(function(t){function e(){var r;i0e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=s0e(this,e,[].concat(i)),Nx(r,"lastBoundingBox",{width:-1,height:-1}),r}return c0e(e,t),a0e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>BM||Math.abs(i.height-this.lastBoundingBox.height)>BM)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,c=i.verticalAlign,u=i.margin,f=i.chartWidth,m=i.chartHeight,g,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();g={left:((f||0)-x.width)/2}}else g=s==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var T=this.getBBoxSnapshot();v={top:((m||0)-T.height)/2}}else v=c==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Vo(Vo({},g),v)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,c=i.height,u=i.wrapperStyle,f=i.payloadUniqBy,m=i.payload,g=Vo(Vo({position:"absolute",width:s||"auto",height:c||"auto"},this.getDefaultPosition(u)),u);return ne.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(x){n.wrapperNode=x}},m0e(a,Vo(Vo({},this.props),{},{payload:Nq(m,f,f0e)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Vo(Vo({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Qe(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])})(q.PureComponent);Nx(Hh,"displayName","Legend");Nx(Hh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var E6,UM;function p0e(){if(UM)return E6;UM=1;var t=ag(),e=SA(),r=da(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return E6=i,E6}var N6,zM;function Cq(){if(zM)return N6;zM=1;var t=vq(),e=p0e();function r(n,i,a,s,c){var u=-1,f=n.length;for(a||(a=e),c||(c=[]);++u<f;){var m=n[u];i>0&&a(m)?i>1?r(m,i-1,a,s,c):t(c,m):s||(c[c.length]=m)}return c}return N6=r,N6}var O6,VM;function g0e(){if(VM)return O6;VM=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),c=i(r),u=c.length;u--;){var f=c[e?u:++a];if(n(s[f],f,s)===!1)break}return r}}return O6=t,O6}var k6,$M;function y0e(){if($M)return k6;$M=1;var t=g0e(),e=t();return k6=e,k6}var C6,FM;function Iq(){if(FM)return C6;FM=1;var t=y0e(),e=Ex();function r(n,i){return n&&t(n,i,e)}return C6=r,C6}var I6,qM;function v0e(){if(qM)return I6;qM=1;var t=lg();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,c=n?s:-1,u=Object(i);(n?c--:++c<s)&&a(u[c],c,u)!==!1;);return i}}return I6=e,I6}var j6,HM;function NA(){if(HM)return j6;HM=1;var t=Iq(),e=v0e(),r=e(t);return j6=r,j6}var R6,GM;function jq(){if(GM)return R6;GM=1;var t=NA(),e=lg();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(c,u,f){s[++a]=i(c,u,f)}),s}return R6=r,R6}var M6,KM;function b0e(){if(KM)return M6;KM=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return M6=t,M6}var P6,WM;function x0e(){if(WM)return P6;WM=1;var t=Vd();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,c=t(r),u=n!==void 0,f=n===null,m=n===n,g=t(n);if(!f&&!g&&!c&&r>n||c&&u&&m&&!f&&!g||a&&u&&m||!i&&m||!s)return 1;if(!a&&!c&&!g&&r<n||g&&i&&s&&!a&&!c||f&&i&&s||!u&&s||!m)return-1}return 0}return P6=e,P6}var D6,XM;function w0e(){if(XM)return D6;XM=1;var t=x0e();function e(r,n,i){for(var a=-1,s=r.criteria,c=n.criteria,u=s.length,f=i.length;++a<u;){var m=t(s[a],c[a]);if(m){if(a>=f)return m;var g=i[a];return m*(g=="desc"?-1:1)}}return r.index-n.index}return D6=e,D6}var L6,YM;function _0e(){if(YM)return L6;YM=1;var t=mA(),e=pA(),r=vo(),n=jq(),i=b0e(),a=xq(),s=w0e(),c=Fd(),u=da();function f(m,g,v){g.length?g=t(g,function(S){return u(S)?function(_){return e(_,S.length===1?S[0]:S)}:S}):g=[c];var x=-1;g=t(g,a(r));var T=n(m,function(S,_,C){var I=t(g,function(P){return P(S)});return{criteria:I,index:++x,value:S}});return i(T,function(S,_){return s(S,_,v)})}return L6=f,L6}var B6,QM;function S0e(){if(QM)return B6;QM=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return B6=t,B6}var U6,ZM;function T0e(){if(ZM)return U6;ZM=1;var t=S0e(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,c=-1,u=e(s.length-i,0),f=Array(u);++c<u;)f[c]=s[i+c];c=-1;for(var m=Array(i+1);++c<i;)m[c]=s[c];return m[i]=a(f),t(n,this,m)}}return U6=r,U6}var z6,JM;function A0e(){if(JM)return z6;JM=1;function t(e){return function(){return e}}return z6=t,z6}var V6,eP;function Rq(){if(eP)return V6;eP=1;var t=O0(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return V6=e,V6}var $6,tP;function E0e(){if(tP)return $6;tP=1;var t=A0e(),e=Rq(),r=Fd(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return $6=n,$6}var F6,rP;function N0e(){if(rP)return F6;rP=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var c=r(),u=e-(c-s);if(s=c,u>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return F6=n,F6}var q6,nP;function O0e(){if(nP)return q6;nP=1;var t=E0e(),e=N0e(),r=e(t);return q6=r,q6}var H6,iP;function k0e(){if(iP)return H6;iP=1;var t=Fd(),e=T0e(),r=O0e();function n(i,a){return r(e(i,a,t),i+"")}return H6=n,H6}var G6,aP;function Ox(){if(aP)return G6;aP=1;var t=hA(),e=lg(),r=TA(),n=Xc();function i(a,s,c){if(!n(c))return!1;var u=typeof s;return(u=="number"?e(c)&&r(s,c.length):u=="string"&&s in c)?t(c[s],a):!1}return G6=i,G6}var K6,sP;function C0e(){if(sP)return K6;sP=1;var t=Cq(),e=_0e(),r=k0e(),n=Ox(),i=r(function(a,s){if(a==null)return[];var c=s.length;return c>1&&n(a,s[0],s[1])?s=[]:c>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return K6=i,K6}var I0e=C0e();const OA=mr(I0e);function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function p7(){return p7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p7.apply(this,arguments)}function j0e(t,e){return D0e(t)||P0e(t,e)||M0e(t,e)||R0e()}function R0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M0e(t,e){if(t){if(typeof t=="string")return oP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oP(t,e)}}function oP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function D0e(t){if(Array.isArray(t))return t}function lP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(r),!0).forEach(function(n){L0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L0e(t,e,r){return e=B0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B0e(t){var e=U0e(t,"string");return op(e)=="symbol"?e:e+""}function U0e(t,e){if(op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z0e(t){return Array.isArray(t)&&Un(t[0])&&Un(t[1])?t.join(" ~ "):t}var V0e=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,c=s===void 0?{}:s,u=e.labelStyle,f=u===void 0?{}:u,m=e.payload,g=e.formatter,v=e.itemSorter,x=e.wrapperClassName,T=e.labelClassName,S=e.label,_=e.labelFormatter,C=e.accessibilityLayer,I=C===void 0?!1:C,P=function(){if(m&&m.length){var z={padding:0,margin:0},U=(v?OA(m,v):m).map(function(Y,ee){if(Y.type==="none")return null;var K=W6({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},c),J=Y.formatter||g||z0e,Q=Y.value,fe=Y.name,ie=Q,W=fe;if(J&&ie!=null&&W!=null){var Z=J(Q,fe,Y,ee,m);if(Array.isArray(Z)){var ue=j0e(Z,2);ie=ue[0],W=ue[1]}else ie=Z}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:K},Un(W)?ne.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Un(W)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},ie),ne.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:z},U)}return null},V=W6({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=W6({margin:0},f),D=!Pt(S),A=D?S:"",N=Bt("recharts-default-tooltip",x),k=Bt("recharts-tooltip-label",T);D&&_&&m!==void 0&&m!==null&&(A=_(S,m));var $=I?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",p7({className:N,style:V},$),ne.createElement("p",{className:k,style:j},ne.isValidElement(A)?A:"".concat(A)),P())};function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function hy(t,e,r){return e=$0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $0e(t){var e=F0e(t,"string");return lp(e)=="symbol"?e:e+""}function F0e(t,e){if(lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var em="recharts-tooltip-wrapper",q0e={visibility:"hidden"};function H0e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Bt(em,hy(hy(hy(hy({},"".concat(em,"-right"),Qe(r)&&e&&Qe(e.x)&&r>=e.x),"".concat(em,"-left"),Qe(r)&&e&&Qe(e.x)&&r<e.x),"".concat(em,"-bottom"),Qe(n)&&e&&Qe(e.y)&&n>=e.y),"".concat(em,"-top"),Qe(n)&&e&&Qe(e.y)&&n<e.y))}function cP(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,c=t.tooltipDimension,u=t.viewBox,f=t.viewBoxDimension;if(a&&Qe(a[n]))return a[n];var m=r[n]-c-i,g=r[n]+i;if(e[n])return s[n]?m:g;if(s[n]){var v=m,x=u[n];return v<x?Math.max(g,u[n]):Math.max(m,u[n])}var T=g+c,S=u[n]+f;return T>S?Math.max(m,u[n]):Math.max(g,u[n])}function G0e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function K0e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,c=t.useTranslate3d,u=t.viewBox,f,m,g;return s.height>0&&s.width>0&&r?(m=cP({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),g=cP({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),f=G0e({translateX:m,translateY:g,useTranslate3d:c})):f=q0e,{cssProperties:f,cssClasses:H0e({translateX:m,translateY:g,coordinate:r})}}function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function uP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(r),!0).forEach(function(n){y7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pq(n.key),n)}}function Y0e(t,e,r){return e&&X0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q0e(t,e,r){return e=Rv(e),Z0e(t,Mq()?Reflect.construct(e,r||[],Rv(t).constructor):e.apply(t,r))}function Z0e(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J0e(t)}function J0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(t)}function ehe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g7(t,e)}function g7(t,e){return g7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g7(t,e)}function y7(t,e,r){return e=Pq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pq(t){var e=the(t,"string");return cd(e)=="symbol"?e:e+""}function the(t,e){if(cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dP=1,rhe=(function(t){function e(){var r;W0e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Q0e(this,e,[].concat(i)),y7(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),y7(r,"handleKeyDown",function(s){if(s.key==="Escape"){var c,u,f,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&c!==void 0?c:0,y:(f=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&f!==void 0?f:0}})}}),r}return ehe(e,t),Y0e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>dP||Math.abs(n.height-this.state.lastBoundingBox.height)>dP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,c=i.animationDuration,u=i.animationEasing,f=i.children,m=i.coordinate,g=i.hasPayload,v=i.isAnimationActive,x=i.offset,T=i.position,S=i.reverseDirection,_=i.useTranslate3d,C=i.viewBox,I=i.wrapperStyle,P=K0e({allowEscapeViewBox:s,coordinate:m,offsetTopLeft:x,position:T,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:C}),V=P.cssClasses,j=P.cssProperties,D=hP(hP({transition:v&&a?"transform ".concat(c,"ms ").concat(u):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&g?"visible":"hidden",position:"absolute",top:0,left:0},I);return ne.createElement("div",{tabIndex:-1,className:V,style:D,ref:function(N){n.wrapperNode=N}},f)}}])})(q.PureComponent),nhe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},k0={isSsr:nhe()};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function fP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(r),!0).forEach(function(n){kA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ihe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ahe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lq(n.key),n)}}function she(t,e,r){return e&&ahe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ohe(t,e,r){return e=Mv(e),lhe(t,Dq()?Reflect.construct(e,r||[],Mv(t).constructor):e.apply(t,r))}function lhe(t,e){if(e&&(ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return che(t)}function che(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dq=function(){return!!t})()}function Mv(t){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mv(t)}function uhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v7(t,e)}function v7(t,e){return v7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v7(t,e)}function kA(t,e,r){return e=Lq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lq(t){var e=hhe(t,"string");return ud(e)=="symbol"?e:e+""}function hhe(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dhe(t){return t.dataKey}function fhe(t,e){return ne.isValidElement(t)?ne.cloneElement(t,e):typeof t=="function"?ne.createElement(t,e):ne.createElement(V0e,e)}var Ks=(function(t){function e(){return ihe(this,e),ohe(this,e,arguments)}return uhe(e,t),she(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,c=i.animationDuration,u=i.animationEasing,f=i.content,m=i.coordinate,g=i.filterNull,v=i.isAnimationActive,x=i.offset,T=i.payload,S=i.payloadUniqBy,_=i.position,C=i.reverseDirection,I=i.useTranslate3d,P=i.viewBox,V=i.wrapperStyle,j=T??[];g&&j.length&&(j=Nq(T.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),S,dhe));var D=j.length>0;return ne.createElement(rhe,{allowEscapeViewBox:s,animationDuration:c,animationEasing:u,isAnimationActive:v,active:a,coordinate:m,hasPayload:D,offset:x,position:_,reverseDirection:C,useTranslate3d:I,viewBox:P,wrapperStyle:V},fhe(f,mP(mP({},this.props),{},{payload:j})))}}])})(q.PureComponent);kA(Ks,"displayName","Tooltip");kA(Ks,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!k0.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var X6,pP;function mhe(){if(pP)return X6;pP=1;var t=yo(),e=function(){return t.Date.now()};return X6=e,X6}var Y6,gP;function phe(){if(gP)return Y6;gP=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Y6=e,Y6}var Q6,yP;function ghe(){if(yP)return Q6;yP=1;var t=phe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Q6=r,Q6}var Z6,vP;function Bq(){if(vP)return Z6;vP=1;var t=ghe(),e=Xc(),r=Vd(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;function u(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=e(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=t(f);var g=a.test(f);return g||s.test(f)?c(f.slice(2),g?2:8):i.test(f)?n:+f}return Z6=u,Z6}var J6,bP;function yhe(){if(bP)return J6;bP=1;var t=Xc(),e=mhe(),r=Bq(),n="Expected a function",i=Math.max,a=Math.min;function s(c,u,f){var m,g,v,x,T,S,_=0,C=!1,I=!1,P=!0;if(typeof c!="function")throw new TypeError(n);u=r(u)||0,t(f)&&(C=!!f.leading,I="maxWait"in f,v=I?i(r(f.maxWait)||0,u):v,P="trailing"in f?!!f.trailing:P);function V(U){var Y=m,ee=g;return m=g=void 0,_=U,x=c.apply(ee,Y),x}function j(U){return _=U,T=setTimeout(N,u),C?V(U):x}function D(U){var Y=U-S,ee=U-_,K=u-Y;return I?a(K,v-ee):K}function A(U){var Y=U-S,ee=U-_;return S===void 0||Y>=u||Y<0||I&&ee>=v}function N(){var U=e();if(A(U))return k(U);T=setTimeout(N,D(U))}function k(U){return T=void 0,P&&m?V(U):(m=g=void 0,x)}function $(){T!==void 0&&clearTimeout(T),_=0,m=S=g=T=void 0}function M(){return T===void 0?x:k(e())}function z(){var U=e(),Y=A(U);if(m=arguments,g=this,S=U,Y){if(T===void 0)return j(S);if(I)return clearTimeout(T),T=setTimeout(N,u),V(S)}return T===void 0&&(T=setTimeout(N,u)),x}return z.cancel=$,z.flush=M,z}return J6=s,J6}var e_,xP;function vhe(){if(xP)return e_;xP=1;var t=yhe(),e=Xc(),r="Expected a function";function n(i,a,s){var c=!0,u=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(c="leading"in s?!!s.leading:c,u="trailing"in s?!!s.trailing:u),t(i,a,{leading:c,maxWait:a,trailing:u})}return e_=n,e_}var bhe=vhe();const Uq=mr(bhe);function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function wP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(r),!0).forEach(function(n){xhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xhe(t,e,r){return e=whe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function whe(t){var e=_he(t,"string");return cp(e)=="symbol"?e:e+""}function _he(t,e){if(cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function She(t,e){return Nhe(t)||Ehe(t,e)||Ahe(t,e)||The()}function The(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ahe(t,e){if(t){if(typeof t=="string")return _P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _P(t,e)}}function _P(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ehe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function Nhe(t){if(Array.isArray(t))return t}var zq=q.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,c=t.height,u=c===void 0?"100%":c,f=t.minWidth,m=f===void 0?0:f,g=t.minHeight,v=t.maxHeight,x=t.children,T=t.debounce,S=T===void 0?0:T,_=t.id,C=t.className,I=t.onResize,P=t.style,V=P===void 0?{}:P,j=q.useRef(null),D=q.useRef();D.current=I,q.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var A=q.useState({containerWidth:i.width,containerHeight:i.height}),N=She(A,2),k=N[0],$=N[1],M=q.useCallback(function(U,Y){$(function(ee){var K=Math.round(U),J=Math.round(Y);return ee.containerWidth===K&&ee.containerHeight===J?ee:{containerWidth:K,containerHeight:J}})},[]);q.useEffect(function(){var U=function(fe){var ie,W=fe[0].contentRect,Z=W.width,ue=W.height;M(Z,ue),(ie=D.current)===null||ie===void 0||ie.call(D,Z,ue)};S>0&&(U=Uq(U,S,{trailing:!0,leading:!1}));var Y=new ResizeObserver(U),ee=j.current.getBoundingClientRect(),K=ee.width,J=ee.height;return M(K,J),Y.observe(j.current),function(){Y.disconnect()}},[M,S]);var z=q.useMemo(function(){var U=k.containerWidth,Y=k.containerHeight;if(U<0||Y<0)return null;al($u(s)||$u(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,u),al(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ee=$u(s)?U:s,K=$u(u)?Y:u;r&&r>0&&(ee?K=ee/r:K&&(ee=K*r),v&&K>v&&(K=v)),al(ee>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,K,s,u,m,g,r);var J=!Array.isArray(x)&&il(x.type).endsWith("Chart");return ne.Children.map(x,function(Q){return ne.isValidElement(Q)?q.cloneElement(Q,dy({width:ee,height:K},J?{style:dy({height:"100%",width:"100%",maxHeight:K,maxWidth:ee},Q.props.style)}:{})):Q})},[r,x,u,v,g,m,k,s]);return ne.createElement("div",{id:_?"".concat(_):void 0,className:Bt("recharts-responsive-container",C),style:dy(dy({},V),{},{width:s,height:u,minWidth:m,minHeight:g,maxHeight:v}),ref:j},z)}),CA=function(e){return null};CA.displayName="Cell";function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function SP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(r),!0).forEach(function(n){Ohe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ohe(t,e,r){return e=khe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function khe(t){var e=Che(t,"string");return up(e)=="symbol"?e:e+""}function Che(t,e){if(up(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Th={widthCache:{},cacheCount:0},Ihe=2e3,jhe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TP="recharts_measurement_span";function Rhe(t){var e=b7({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Im=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||k0.isSsr)return{width:0,height:0};var n=Rhe(r),i=JSON.stringify({text:e,copyStyle:n});if(Th.widthCache[i])return Th.widthCache[i];try{var a=document.getElementById(TP);a||(a=document.createElement("span"),a.setAttribute("id",TP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=b7(b7({},jhe),n);Object.assign(a.style,s),a.textContent="".concat(e);var c=a.getBoundingClientRect(),u={width:c.width,height:c.height};return Th.widthCache[i]=u,++Th.cacheCount>Ihe&&(Th.cacheCount=0,Th.widthCache={}),u}catch{return{width:0,height:0}}},Mhe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function Pv(t,e){return Bhe(t)||Lhe(t,e)||Dhe(t,e)||Phe()}function Phe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dhe(t,e){if(t){if(typeof t=="string")return AP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AP(t,e)}}function AP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function Bhe(t){if(Array.isArray(t))return t}function Uhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vhe(n.key),n)}}function zhe(t,e,r){return e&&EP(t.prototype,e),r&&EP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vhe(t){var e=$he(t,"string");return hp(e)=="symbol"?e:e+""}function $he(t,e){if(hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fhe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qhe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Vq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Hhe=Object.keys(Vq),Mh="NaN";function Ghe(t,e){return t*Vq[e]}var fy=(function(){function t(e,r){Uhe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Fhe.test(r)&&(this.num=NaN,this.unit=""),Hhe.includes(r)&&(this.num=Ghe(e,r),this.unit="px")}return zhe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=qhe.exec(r))!==null&&n!==void 0?n:[],a=Pv(i,3),s=a[1],c=a[2];return new t(parseFloat(s),c??"")}}])})();function $q(t){if(t.includes(Mh))return Mh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=NP.exec(e))!==null&&r!==void 0?r:[],i=Pv(n,4),a=i[1],s=i[2],c=i[3],u=fy.parse(a??""),f=fy.parse(c??""),m=s==="*"?u.multiply(f):u.divide(f);if(m.isNaN())return Mh;e=e.replace(NP,m.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var g,v=(g=OP.exec(e))!==null&&g!==void 0?g:[],x=Pv(v,4),T=x[1],S=x[2],_=x[3],C=fy.parse(T??""),I=fy.parse(_??""),P=S==="+"?C.add(I):C.subtract(I);if(P.isNaN())return Mh;e=e.replace(OP,P.toString())}return e}var kP=/\(([^()]*)\)/;function Khe(t){for(var e=t;e.includes("(");){var r=kP.exec(e),n=Pv(r,2),i=n[1];e=e.replace(kP,$q(i))}return e}function Whe(t){var e=t.replace(/\s+/g,"");return e=Khe(e),e=$q(e),e}function Xhe(t){try{return Whe(t)}catch{return Mh}}function t_(t){var e=Xhe(t.slice(5,-1));return e===Mh?"":e}var Yhe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Qhe=["dx","dy","angle","className","breakAll"];function x7(){return x7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x7.apply(this,arguments)}function CP(t,e){if(t==null)return{};var r=Zhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IP(t,e){return rde(t)||tde(t,e)||ede(t,e)||Jhe()}function Jhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ede(t,e){if(t){if(typeof t=="string")return jP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jP(t,e)}}function jP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function rde(t){if(Array.isArray(t))return t}var Fq=/[ \f\n\r\t\v\u2028\u2029]+/,qq=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Pt(r)||(n?a=r.toString().split(""):a=r.toString().split(Fq));var s=a.map(function(u){return{word:u,width:Im(u,i).width}}),c=n?0:Im("",i).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}},nde=function(e,r,n,i,a){var s=e.maxLines,c=e.children,u=e.style,f=e.breakAll,m=Qe(s),g=c,v=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(K,J){var Q=J.word,fe=J.width,ie=K[K.length-1];if(ie&&(i==null||a||ie.width+fe+n<Number(i)))ie.words.push(Q),ie.width+=fe+n;else{var W={words:[Q],width:fe};K.push(W)}return K},[])},x=v(r),T=function(ee){return ee.reduce(function(K,J){return K.width>J.width?K:J})};if(!m)return x;for(var S="",_=function(ee){var K=g.slice(0,ee),J=qq({breakAll:f,style:u,children:K+S}).wordsWithComputedWidth,Q=v(J),fe=Q.length>s||T(Q).width>Number(i);return[fe,Q]},C=0,I=g.length-1,P=0,V;C<=I&&P<=g.length-1;){var j=Math.floor((C+I)/2),D=j-1,A=_(D),N=IP(A,2),k=N[0],$=N[1],M=_(j),z=IP(M,1),U=z[0];if(!k&&!U&&(C=j+1),k&&U&&(I=j-1),!k&&U){V=$;break}P++}return V||x},RP=function(e){var r=Pt(e)?[]:e.toString().split(Fq);return[{words:r}]},ide=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,c=e.maxLines;if((r||n)&&!k0.isSsr){var u,f,m=qq({breakAll:s,children:i,style:a});if(m){var g=m.wordsWithComputedWidth,v=m.spaceWidth;u=g,f=v}else return RP(i);return nde({breakAll:s,children:i,maxLines:c,style:a},u,f,r,n)}return RP(i)},MP="#808080",hd=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,c=s===void 0?"1em":s,u=e.capHeight,f=u===void 0?"0.71em":u,m=e.scaleToFit,g=m===void 0?!1:m,v=e.textAnchor,x=v===void 0?"start":v,T=e.verticalAnchor,S=T===void 0?"end":T,_=e.fill,C=_===void 0?MP:_,I=CP(e,Yhe),P=q.useMemo(function(){return ide({breakAll:I.breakAll,children:I.children,maxLines:I.maxLines,scaleToFit:g,style:I.style,width:I.width})},[I.breakAll,I.children,I.maxLines,g,I.style,I.width]),V=I.dx,j=I.dy,D=I.angle,A=I.className,N=I.breakAll,k=CP(I,Qhe);if(!Un(n)||!Un(a))return null;var $=n+(Qe(V)?V:0),M=a+(Qe(j)?j:0),z;switch(S){case"start":z=t_("calc(".concat(f,")"));break;case"middle":z=t_("calc(".concat((P.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:z=t_("calc(".concat(P.length-1," * -").concat(c,")"));break}var U=[];if(g){var Y=P[0].width,ee=I.width;U.push("scale(".concat((Qe(ee)?ee/Y:1)/Y,")"))}return D&&U.push("rotate(".concat(D,", ").concat($,", ").concat(M,")")),U.length&&(k.transform=U.join(" ")),ne.createElement("text",x7({},xt(k,!0),{x:$,y:M,className:Bt("recharts-text",A),textAnchor:x,fill:C.includes("url")?MP:C}),P.map(function(K,J){var Q=K.words.join(N?"":" ");return ne.createElement("tspan",{x:$,dy:J===0?z:c,key:"".concat(Q,"-").concat(J)},Q)}))};function Pc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ade(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function IA(t){let e,r,n;t.length!==2?(e=Pc,r=(c,u)=>Pc(t(c),u),n=(c,u)=>t(c)-u):(e=t===Pc||t===ade?t:sde,r=t,n=t);function i(c,u,f=0,m=c.length){if(f<m){if(e(u,u)!==0)return m;do{const g=f+m>>>1;r(c[g],u)<0?f=g+1:m=g}while(f<m)}return f}function a(c,u,f=0,m=c.length){if(f<m){if(e(u,u)!==0)return m;do{const g=f+m>>>1;r(c[g],u)<=0?f=g+1:m=g}while(f<m)}return f}function s(c,u,f=0,m=c.length){const g=i(c,u,f,m-1);return g>f&&n(c[g-1],u)>-n(c[g],u)?g-1:g}return{left:i,center:s,right:a}}function sde(){return 0}function Hq(t){return t===null?NaN:+t}function*ode(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const lde=IA(Pc),cg=lde.right;IA(Hq).center;class PP extends Map{constructor(e,r=hde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(DP(this,e))}has(e){return super.has(DP(this,e))}set(e,r){return super.set(cde(this,e),r)}delete(e){return super.delete(ude(this,e))}}function DP({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function cde({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function ude({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function hde(t){return t!==null&&typeof t=="object"?t.valueOf():t}function dde(t=Pc){if(t===Pc)return Gq;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Gq(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const fde=Math.sqrt(50),mde=Math.sqrt(10),pde=Math.sqrt(2);function Dv(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=fde?10:a>=mde?5:a>=pde?2:1;let c,u,f;return i<0?(f=Math.pow(10,-i)/s,c=Math.round(t*f),u=Math.round(e*f),c/f<t&&++c,u/f>e&&--u,f=-f):(f=Math.pow(10,i)*s,c=Math.round(t/f),u=Math.round(e/f),c*f<t&&++c,u*f>e&&--u),u<c&&.5<=r&&r<2?Dv(t,e,r*2):[c,u,f]}function w7(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?Dv(e,t,r):Dv(t,e,r);if(!(a>=i))return[];const c=a-i+1,u=new Array(c);if(n)if(s<0)for(let f=0;f<c;++f)u[f]=(a-f)/-s;else for(let f=0;f<c;++f)u[f]=(a-f)*s;else if(s<0)for(let f=0;f<c;++f)u[f]=(i+f)/-s;else for(let f=0;f<c;++f)u[f]=(i+f)*s;return u}function _7(t,e,r){return e=+e,t=+t,r=+r,Dv(t,e,r)[2]}function S7(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?_7(e,t,r):_7(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function LP(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function BP(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Kq(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Gq:dde(i);n>r;){if(n-r>600){const u=n-r+1,f=e-r+1,m=Math.log(u),g=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*g*(u-g)/u)*(f-u/2<0?-1:1),x=Math.max(r,Math.floor(e-f*g/u+v)),T=Math.min(n,Math.floor(e+(u-f)*g/u+v));Kq(t,e,x,T,i)}const a=t[e];let s=r,c=n;for(tm(t,r,e),i(t[n],a)>0&&tm(t,r,n);s<c;){for(tm(t,s,c),++s,--c;i(t[s],a)<0;)++s;for(;i(t[c],a)>0;)--c}i(t[r],a)===0?tm(t,r,c):(++c,tm(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function tm(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function gde(t,e,r){if(t=Float64Array.from(ode(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return BP(t);if(e>=1)return LP(t);var n,i=(n-1)*e,a=Math.floor(i),s=LP(Kq(t,a).subarray(0,a+1)),c=BP(t.subarray(a+1));return s+(c-s)*(i-a)}}function yde(t,e,r=Hq){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),c=+r(t[a+1],a+1,t);return s+(c-s)*(i-a)}}function vde(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function ds(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Tl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const T7=Symbol("implicit");function jA(){var t=new PP,e=[],r=[],n=T7;function i(a){let s=t.get(a);if(s===void 0){if(n!==T7)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new PP;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return jA(e,r).unknown(n)},ds.apply(i,arguments),i}function dp(){var t=jA().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,c=!1,u=0,f=0,m=.5;delete t.unknown;function g(){var v=e().length,x=i<n,T=x?i:n,S=x?n:i;a=(S-T)/Math.max(1,v-u+f*2),c&&(a=Math.floor(a)),T+=(S-T-a*(v-u))*m,s=a*(1-u),c&&(T=Math.round(T),s=Math.round(s));var _=vde(v).map(function(C){return T+a*C});return r(x?_.reverse():_)}return t.domain=function(v){return arguments.length?(e(v),g()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,g()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,c=!0,g()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(v){return arguments.length?(c=!!v,g()):c},t.padding=function(v){return arguments.length?(u=Math.min(1,f=+v),g()):u},t.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),g()):u},t.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},t.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),g()):m},t.copy=function(){return dp(e(),[n,i]).round(c).paddingInner(u).paddingOuter(f).align(m)},ds.apply(g(),arguments)}function Wq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Wq(e())},t}function jm(){return Wq(dp.apply(null,arguments).paddingInner(1))}function RA(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Xq(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ug(){}var fp=.7,Lv=1/fp,Gh="\\s*([+-]?\\d+)\\s*",mp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",no="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bde=/^#([0-9a-f]{3,8})$/,xde=new RegExp(`^rgb\\(${Gh},${Gh},${Gh}\\)$`),wde=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),_de=new RegExp(`^rgba\\(${Gh},${Gh},${Gh},${mp}\\)$`),Sde=new RegExp(`^rgba\\(${no},${no},${no},${mp}\\)$`),Tde=new RegExp(`^hsl\\(${mp},${no},${no}\\)$`),Ade=new RegExp(`^hsla\\(${mp},${no},${no},${mp}\\)$`),UP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};RA(ug,pp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zP,formatHex:zP,formatHex8:Ede,formatHsl:Nde,formatRgb:VP,toString:VP});function zP(){return this.rgb().formatHex()}function Ede(){return this.rgb().formatHex8()}function Nde(){return Yq(this).formatHsl()}function VP(){return this.rgb().formatRgb()}function pp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=bde.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?$P(e):r===3?new ua(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?my(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?my(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xde.exec(t))?new ua(e[1],e[2],e[3],1):(e=wde.exec(t))?new ua(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_de.exec(t))?my(e[1],e[2],e[3],e[4]):(e=Sde.exec(t))?my(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Tde.exec(t))?HP(e[1],e[2]/100,e[3]/100,1):(e=Ade.exec(t))?HP(e[1],e[2]/100,e[3]/100,e[4]):UP.hasOwnProperty(t)?$P(UP[t]):t==="transparent"?new ua(NaN,NaN,NaN,0):null}function $P(t){return new ua(t>>16&255,t>>8&255,t&255,1)}function my(t,e,r,n){return n<=0&&(t=e=r=NaN),new ua(t,e,r,n)}function Ode(t){return t instanceof ug||(t=pp(t)),t?(t=t.rgb(),new ua(t.r,t.g,t.b,t.opacity)):new ua}function A7(t,e,r,n){return arguments.length===1?Ode(t):new ua(t,e,r,n??1)}function ua(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}RA(ua,A7,Xq(ug,{brighter(t){return t=t==null?Lv:Math.pow(Lv,t),new ua(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fp:Math.pow(fp,t),new ua(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ua(e0(this.r),e0(this.g),e0(this.b),Bv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FP,formatHex:FP,formatHex8:kde,formatRgb:qP,toString:qP}));function FP(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}`}function kde(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}${Fu((isNaN(this.opacity)?1:this.opacity)*255)}`}function qP(){const t=Bv(this.opacity);return`${t===1?"rgb(":"rgba("}${e0(this.r)}, ${e0(this.g)}, ${e0(this.b)}${t===1?")":`, ${t})`}`}function Bv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function e0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fu(t){return t=e0(t),(t<16?"0":"")+t.toString(16)}function HP(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Es(t,e,r,n)}function Yq(t){if(t instanceof Es)return new Es(t.h,t.s,t.l,t.opacity);if(t instanceof ug||(t=pp(t)),!t)return new Es;if(t instanceof Es)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,c=a-i,u=(a+i)/2;return c?(e===a?s=(r-n)/c+(r<n)*6:r===a?s=(n-e)/c+2:s=(e-r)/c+4,c/=u<.5?a+i:2-a-i,s*=60):c=u>0&&u<1?0:s,new Es(s,c,u,t.opacity)}function Cde(t,e,r,n){return arguments.length===1?Yq(t):new Es(t,e,r,n??1)}function Es(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}RA(Es,Cde,Xq(ug,{brighter(t){return t=t==null?Lv:Math.pow(Lv,t),new Es(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fp:Math.pow(fp,t),new Es(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ua(r_(t>=240?t-240:t+120,i,n),r_(t,i,n),r_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Es(GP(this.h),py(this.s),py(this.l),Bv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bv(this.opacity);return`${t===1?"hsl(":"hsla("}${GP(this.h)}, ${py(this.s)*100}%, ${py(this.l)*100}%${t===1?")":`, ${t})`}`}}));function GP(t){return t=(t||0)%360,t<0?t+360:t}function py(t){return Math.max(0,Math.min(1,t||0))}function r_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const MA=t=>()=>t;function Ide(t,e){return function(r){return t+r*e}}function jde(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Rde(t){return(t=+t)==1?Qq:function(e,r){return r-e?jde(e,r,t):MA(isNaN(e)?r:e)}}function Qq(t,e){var r=e-t;return r?Ide(t,r):MA(isNaN(t)?e:t)}const KP=(function t(e){var r=Rde(e);function n(i,a){var s=r((i=A7(i)).r,(a=A7(a)).r),c=r(i.g,a.g),u=r(i.b,a.b),f=Qq(i.opacity,a.opacity);return function(m){return i.r=s(m),i.g=c(m),i.b=u(m),i.opacity=f(m),i+""}}return n.gamma=t,n})(1);function Mde(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Pde(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Dde(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=qd(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(c){for(s=0;s<n;++s)a[s]=i[s](c);return a}}function Lde(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Uv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Bde(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=qd(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var E7=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,n_=new RegExp(E7.source,"g");function Ude(t){return function(){return t}}function zde(t){return function(e){return t(e)+""}}function Vde(t,e){var r=E7.lastIndex=n_.lastIndex=0,n,i,a,s=-1,c=[],u=[];for(t=t+"",e=e+"";(n=E7.exec(t))&&(i=n_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),c[s]?c[s]+=a:c[++s]=a),(n=n[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,u.push({i:s,x:Uv(n,i)})),r=n_.lastIndex;return r<e.length&&(a=e.slice(r),c[s]?c[s]+=a:c[++s]=a),c.length<2?u[0]?zde(u[0].x):Ude(e):(e=u.length,function(f){for(var m=0,g;m<e;++m)c[(g=u[m]).i]=g.x(f);return c.join("")})}function qd(t,e){var r=typeof e,n;return e==null||r==="boolean"?MA(e):(r==="number"?Uv:r==="string"?(n=pp(e))?(e=n,KP):Vde:e instanceof pp?KP:e instanceof Date?Lde:Pde(e)?Mde:Array.isArray(e)?Dde:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Bde:Uv)(t,e)}function PA(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function $de(t,e){e===void 0&&(e=t,t=qd);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var c=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[c](s-c)}}function Fde(t){return function(){return t}}function zv(t){return+t}var WP=[0,1];function Fi(t){return t}function N7(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Fde(isNaN(e)?NaN:.5)}function qde(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Hde(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=N7(i,n),a=r(s,a)):(n=N7(n,i),a=r(a,s)),function(c){return a(n(c))}}function Gde(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=N7(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(c){var u=cg(t,c,1,n)-1;return a[u](i[u](c))}}function hg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kx(){var t=WP,e=WP,r=qd,n,i,a,s=Fi,c,u,f;function m(){var v=Math.min(t.length,e.length);return s!==Fi&&(s=qde(t[0],t[v-1])),c=v>2?Gde:Hde,u=f=null,g}function g(v){return v==null||isNaN(v=+v)?a:(u||(u=c(t.map(n),e,r)))(n(s(v)))}return g.invert=function(v){return s(i((f||(f=c(e,t.map(n),Uv)))(v)))},g.domain=function(v){return arguments.length?(t=Array.from(v,zv),m()):t.slice()},g.range=function(v){return arguments.length?(e=Array.from(v),m()):e.slice()},g.rangeRound=function(v){return e=Array.from(v),r=PA,m()},g.clamp=function(v){return arguments.length?(s=v?!0:Fi,m()):s!==Fi},g.interpolate=function(v){return arguments.length?(r=v,m()):r},g.unknown=function(v){return arguments.length?(a=v,g):a},function(v,x){return n=v,i=x,m()}}function DA(){return kx()(Fi,Fi)}function Kde(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Vv(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function dd(t){return t=Vv(Math.abs(t)),t?t[1]:NaN}function Wde(t,e){return function(r,n){for(var i=r.length,a=[],s=0,c=t[0],u=0;i>0&&c>0&&(u+c+1>n&&(c=Math.max(1,n-u)),a.push(r.substring(i-=c,i+c)),!((u+=c+1)>n));)c=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Xde(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Yde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gp(t){if(!(e=Yde.exec(t)))throw new Error("invalid format: "+t);var e;return new LA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gp.prototype=LA.prototype;function LA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}LA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qde(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var $v;function Zde(t,e){var r=Vv(t,e);if(!r)return $v=void 0,t.toPrecision(e);var n=r[0],i=r[1],a=i-($v=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Vv(t,Math.max(0,e+a-1))[0]}function XP(t,e){var r=Vv(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const YP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Kde,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>XP(t*100,e),r:XP,s:Zde,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function QP(t){return t}var ZP=Array.prototype.map,JP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jde(t){var e=t.grouping===void 0||t.thousands===void 0?QP:Wde(ZP.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?QP:Xde(ZP.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(g,v){g=gp(g);var x=g.fill,T=g.align,S=g.sign,_=g.symbol,C=g.zero,I=g.width,P=g.comma,V=g.precision,j=g.trim,D=g.type;D==="n"?(P=!0,D="g"):YP[D]||(V===void 0&&(V=12),j=!0,D="g"),(C||x==="0"&&T==="=")&&(C=!0,x="0",T="=");var A=(v&&v.prefix!==void 0?v.prefix:"")+(_==="$"?r:_==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():""),N=(_==="$"?n:/[%p]/.test(D)?s:"")+(v&&v.suffix!==void 0?v.suffix:""),k=YP[D],$=/[defgprs%]/.test(D);V=V===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V));function M(z){var U=A,Y=N,ee,K,J;if(D==="c")Y=k(z)+Y,z="";else{z=+z;var Q=z<0||1/z<0;if(z=isNaN(z)?u:k(Math.abs(z),V),j&&(z=Qde(z)),Q&&+z==0&&S!=="+"&&(Q=!1),U=(Q?S==="("?S:c:S==="-"||S==="("?"":S)+U,Y=(D==="s"&&!isNaN(z)&&$v!==void 0?JP[8+$v/3]:"")+Y+(Q&&S==="("?")":""),$){for(ee=-1,K=z.length;++ee<K;)if(J=z.charCodeAt(ee),48>J||J>57){Y=(J===46?i+z.slice(ee+1):z.slice(ee))+Y,z=z.slice(0,ee);break}}}P&&!C&&(z=e(z,1/0));var fe=U.length+z.length+Y.length,ie=fe<I?new Array(I-fe+1).join(x):"";switch(P&&C&&(z=e(ie+z,ie.length?I-Y.length:1/0),ie=""),T){case"<":z=U+z+Y+ie;break;case"=":z=U+ie+z+Y;break;case"^":z=ie.slice(0,fe=ie.length>>1)+U+z+Y+ie.slice(fe);break;default:z=ie+U+z+Y;break}return a(z)}return M.toString=function(){return g+""},M}function m(g,v){var x=Math.max(-8,Math.min(8,Math.floor(dd(v)/3)))*3,T=Math.pow(10,-x),S=f((g=gp(g),g.type="f",g),{suffix:JP[8+x/3]});return function(_){return S(T*_)}}return{format:f,formatPrefix:m}}var gy,BA,Zq;efe({thousands:",",grouping:[3],currency:["$",""]});function efe(t){return gy=Jde(t),BA=gy.format,Zq=gy.formatPrefix,gy}function tfe(t){return Math.max(0,-dd(Math.abs(t)))}function rfe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dd(e)/3)))*3-dd(Math.abs(t)))}function nfe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,dd(e)-dd(t))+1}function Jq(t,e,r,n){var i=S7(t,e,r),a;switch(n=gp(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=rfe(i,s))&&(n.precision=a),Zq(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=nfe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=tfe(i))&&(n.precision=a-(n.type==="%")*2);break}}return BA(n)}function Yc(t){var e=t.domain;return t.ticks=function(r){var n=e();return w7(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Jq(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],c=n[a],u,f,m=10;for(c<s&&(f=s,s=c,c=f,f=i,i=a,a=f);m-- >0;){if(f=_7(s,c,r),f===u)return n[i]=s,n[a]=c,e(n);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;u=f}return t},t}function Fv(){var t=DA();return t.copy=function(){return hg(t,Fv())},ds.apply(t,arguments),Yc(t)}function eH(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,zv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return eH(t).unknown(e)},t=arguments.length?Array.from(t,zv):[0,1],Yc(r)}function tH(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function eD(t){return Math.log(t)}function tD(t){return Math.exp(t)}function ife(t){return-Math.log(-t)}function afe(t){return-Math.exp(-t)}function sfe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ofe(t){return t===10?sfe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lfe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function rD(t){return(e,r)=>-t(-e,r)}function UA(t){const e=t(eD,tD),r=e.domain;let n=10,i,a;function s(){return i=lfe(n),a=ofe(n),r()[0]<0?(i=rD(i),a=rD(a),t(ife,afe)):t(eD,tD),e}return e.base=function(c){return arguments.length?(n=+c,s()):n},e.domain=function(c){return arguments.length?(r(c),s()):r()},e.ticks=c=>{const u=r();let f=u[0],m=u[u.length-1];const g=m<f;g&&([f,m]=[m,f]);let v=i(f),x=i(m),T,S;const _=c==null?10:+c;let C=[];if(!(n%1)&&x-v<_){if(v=Math.floor(v),x=Math.ceil(x),f>0){for(;v<=x;++v)for(T=1;T<n;++T)if(S=v<0?T/a(-v):T*a(v),!(S<f)){if(S>m)break;C.push(S)}}else for(;v<=x;++v)for(T=n-1;T>=1;--T)if(S=v>0?T/a(-v):T*a(v),!(S<f)){if(S>m)break;C.push(S)}C.length*2<_&&(C=w7(f,m,_))}else C=w7(v,x,Math.min(x-v,_)).map(a);return g?C.reverse():C},e.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=gp(u)).precision==null&&(u.trim=!0),u=BA(u)),c===1/0)return u;const f=Math.max(1,n*c/e.ticks().length);return m=>{let g=m/a(Math.round(i(m)));return g*n<n-.5&&(g*=n),g<=f?u(m):""}},e.nice=()=>r(tH(r(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function rH(){const t=UA(kx()).domain([1,10]);return t.copy=()=>hg(t,rH()).base(t.base()),ds.apply(t,arguments),t}function nD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function iD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function zA(t){var e=1,r=t(nD(e),iD(e));return r.constant=function(n){return arguments.length?t(nD(e=+n),iD(e)):e},Yc(r)}function nH(){var t=zA(kx());return t.copy=function(){return hg(t,nH()).constant(t.constant())},ds.apply(t,arguments)}function aD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cfe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ufe(t){return t<0?-t*t:t*t}function VA(t){var e=t(Fi,Fi),r=1;function n(){return r===1?t(Fi,Fi):r===.5?t(cfe,ufe):t(aD(r),aD(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Yc(e)}function $A(){var t=VA(kx());return t.copy=function(){return hg(t,$A()).exponent(t.exponent())},ds.apply(t,arguments),t}function hfe(){return $A.apply(null,arguments).exponent(.5)}function sD(t){return Math.sign(t)*t*t}function dfe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function iH(){var t=DA(),e=[0,1],r=!1,n;function i(a){var s=dfe(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(sD(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,zv)).map(sD)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return iH(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ds.apply(i,arguments),Yc(i)}function aH(){var t=[],e=[],r=[],n;function i(){var s=0,c=Math.max(1,e.length);for(r=new Array(c-1);++s<c;)r[s-1]=yde(t,s/c);return a}function a(s){return s==null||isNaN(s=+s)?n:e[cg(r,s)]}return a.invertExtent=function(s){var c=e.indexOf(s);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let c of s)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Pc),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return aH().domain(t).range(e).unknown(n)},ds.apply(a,arguments)}function sH(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[cg(n,u,0,r)]:a}function c(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,c()):[t,e]},s.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,c()):i.slice()},s.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return n.slice()},s.copy=function(){return sH().domain([t,e]).range(i).unknown(a)},ds.apply(Yc(s),arguments)}function oH(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[cg(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return oH().domain(t).range(e).unknown(r)},ds.apply(i,arguments)}const i_=new Date,a_=new Date;function Fn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),c=i.ceil(a);return a-s<c-a?s:c},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,c)=>{const u=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<s)||!(c>0))return u;let f;do u.push(f=new Date(+a)),e(a,c),t(a);while(f<a&&a<s);return u},i.filter=a=>Fn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;e(s,-1),!a(s););else for(;--c>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(i_.setTime(+a),a_.setTime(+s),t(i_),t(a_),Math.floor(r(i_,a_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const qv=Fn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);qv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Fn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):qv);qv.range;const Jo=1e3,rs=Jo*60,el=rs*60,pl=el*24,FA=pl*7,oD=pl*30,s_=pl*365,qu=Fn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Jo)},(t,e)=>(e-t)/Jo,t=>t.getUTCSeconds());qu.range;const qA=Fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jo)},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getMinutes());qA.range;const HA=Fn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getUTCMinutes());HA.range;const GA=Fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jo-t.getMinutes()*rs)},(t,e)=>{t.setTime(+t+e*el)},(t,e)=>(e-t)/el,t=>t.getHours());GA.range;const KA=Fn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*el)},(t,e)=>(e-t)/el,t=>t.getUTCHours());KA.range;const dg=Fn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*rs)/pl,t=>t.getDate()-1);dg.range;const Cx=Fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pl,t=>t.getUTCDate()-1);Cx.range;const lH=Fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pl,t=>Math.floor(t/pl));lH.range;function C0(t){return Fn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*rs)/FA)}const Ix=C0(0),Hv=C0(1),ffe=C0(2),mfe=C0(3),fd=C0(4),pfe=C0(5),gfe=C0(6);Ix.range;Hv.range;ffe.range;mfe.range;fd.range;pfe.range;gfe.range;function I0(t){return Fn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/FA)}const jx=I0(0),Gv=I0(1),yfe=I0(2),vfe=I0(3),md=I0(4),bfe=I0(5),xfe=I0(6);jx.range;Gv.range;yfe.range;vfe.range;md.range;bfe.range;xfe.range;const WA=Fn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());WA.range;const XA=Fn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());XA.range;const gl=Fn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());gl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Fn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});gl.range;const yl=Fn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());yl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Fn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});yl.range;function cH(t,e,r,n,i,a){const s=[[qu,1,Jo],[qu,5,5*Jo],[qu,15,15*Jo],[qu,30,30*Jo],[a,1,rs],[a,5,5*rs],[a,15,15*rs],[a,30,30*rs],[i,1,el],[i,3,3*el],[i,6,6*el],[i,12,12*el],[n,1,pl],[n,2,2*pl],[r,1,FA],[e,1,oD],[e,3,3*oD],[t,1,s_]];function c(f,m,g){const v=m<f;v&&([f,m]=[m,f]);const x=g&&typeof g.range=="function"?g:u(f,m,g),T=x?x.range(f,+m+1):[];return v?T.reverse():T}function u(f,m,g){const v=Math.abs(m-f)/g,x=IA(([,,_])=>_).right(s,v);if(x===s.length)return t.every(S7(f/s_,m/s_,g));if(x===0)return qv.every(Math.max(S7(f,m,g),1));const[T,S]=s[v/s[x-1][2]<s[x][2]/v?x-1:x];return T.every(S)}return[c,u]}const[wfe,_fe]=cH(yl,XA,jx,lH,KA,HA),[Sfe,Tfe]=cH(gl,WA,Ix,dg,GA,qA);function o_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function l_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function rm(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Afe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,c=t.months,u=t.shortMonths,f=nm(i),m=im(i),g=nm(a),v=im(a),x=nm(s),T=im(s),S=nm(c),_=im(c),C=nm(u),I=im(u),P={a:J,A:Q,b:fe,B:ie,c:null,d:fD,e:fD,f:Wfe,g:ime,G:sme,H:Hfe,I:Gfe,j:Kfe,L:uH,m:Xfe,M:Yfe,p:W,q:Z,Q:gD,s:yD,S:Qfe,u:Zfe,U:Jfe,V:eme,w:tme,W:rme,x:null,X:null,y:nme,Y:ame,Z:ome,"%":pD},V={a:ue,A:Oe,b:se,B:ke,c:null,d:mD,e:mD,f:hme,g:wme,G:Sme,H:lme,I:cme,j:ume,L:dH,m:dme,M:fme,p:Me,q:et,Q:gD,s:yD,S:mme,u:pme,U:gme,V:yme,w:vme,W:bme,x:null,X:null,y:xme,Y:_me,Z:Tme,"%":pD},j={a:$,A:M,b:z,B:U,c:Y,d:hD,e:hD,f:Vfe,g:uD,G:cD,H:dD,I:dD,j:Lfe,L:zfe,m:Dfe,M:Bfe,p:k,q:Pfe,Q:Ffe,s:qfe,S:Ufe,u:Cfe,U:Ife,V:jfe,w:kfe,W:Rfe,x:ee,X:K,y:uD,Y:cD,Z:Mfe,"%":$fe};P.x=D(r,P),P.X=D(n,P),P.c=D(e,P),V.x=D(r,V),V.X=D(n,V),V.c=D(e,V);function D(Ae,qe){return function(he){var pe=[],Ge=-1,$e=0,it=Ae.length,lt,er,je;for(he instanceof Date||(he=new Date(+he));++Ge<it;)Ae.charCodeAt(Ge)===37&&(pe.push(Ae.slice($e,Ge)),(er=lD[lt=Ae.charAt(++Ge)])!=null?lt=Ae.charAt(++Ge):er=lt==="e"?" ":"0",(je=qe[lt])&&(lt=je(he,er)),pe.push(lt),$e=Ge+1);return pe.push(Ae.slice($e,Ge)),pe.join("")}}function A(Ae,qe){return function(he){var pe=rm(1900,void 0,1),Ge=N(pe,Ae,he+="",0),$e,it;if(Ge!=he.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(qe&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?($e=l_(rm(pe.y,0,1)),it=$e.getUTCDay(),$e=it>4||it===0?Gv.ceil($e):Gv($e),$e=Cx.offset($e,(pe.V-1)*7),pe.y=$e.getUTCFullYear(),pe.m=$e.getUTCMonth(),pe.d=$e.getUTCDate()+(pe.w+6)%7):($e=o_(rm(pe.y,0,1)),it=$e.getDay(),$e=it>4||it===0?Hv.ceil($e):Hv($e),$e=dg.offset($e,(pe.V-1)*7),pe.y=$e.getFullYear(),pe.m=$e.getMonth(),pe.d=$e.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),it="Z"in pe?l_(rm(pe.y,0,1)).getUTCDay():o_(rm(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(it+5)%7:pe.w+pe.U*7-(it+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,l_(pe)):o_(pe)}}function N(Ae,qe,he,pe){for(var Ge=0,$e=qe.length,it=he.length,lt,er;Ge<$e;){if(pe>=it)return-1;if(lt=qe.charCodeAt(Ge++),lt===37){if(lt=qe.charAt(Ge++),er=j[lt in lD?qe.charAt(Ge++):lt],!er||(pe=er(Ae,he,pe))<0)return-1}else if(lt!=he.charCodeAt(pe++))return-1}return pe}function k(Ae,qe,he){var pe=f.exec(qe.slice(he));return pe?(Ae.p=m.get(pe[0].toLowerCase()),he+pe[0].length):-1}function $(Ae,qe,he){var pe=x.exec(qe.slice(he));return pe?(Ae.w=T.get(pe[0].toLowerCase()),he+pe[0].length):-1}function M(Ae,qe,he){var pe=g.exec(qe.slice(he));return pe?(Ae.w=v.get(pe[0].toLowerCase()),he+pe[0].length):-1}function z(Ae,qe,he){var pe=C.exec(qe.slice(he));return pe?(Ae.m=I.get(pe[0].toLowerCase()),he+pe[0].length):-1}function U(Ae,qe,he){var pe=S.exec(qe.slice(he));return pe?(Ae.m=_.get(pe[0].toLowerCase()),he+pe[0].length):-1}function Y(Ae,qe,he){return N(Ae,e,qe,he)}function ee(Ae,qe,he){return N(Ae,r,qe,he)}function K(Ae,qe,he){return N(Ae,n,qe,he)}function J(Ae){return s[Ae.getDay()]}function Q(Ae){return a[Ae.getDay()]}function fe(Ae){return u[Ae.getMonth()]}function ie(Ae){return c[Ae.getMonth()]}function W(Ae){return i[+(Ae.getHours()>=12)]}function Z(Ae){return 1+~~(Ae.getMonth()/3)}function ue(Ae){return s[Ae.getUTCDay()]}function Oe(Ae){return a[Ae.getUTCDay()]}function se(Ae){return u[Ae.getUTCMonth()]}function ke(Ae){return c[Ae.getUTCMonth()]}function Me(Ae){return i[+(Ae.getUTCHours()>=12)]}function et(Ae){return 1+~~(Ae.getUTCMonth()/3)}return{format:function(Ae){var qe=D(Ae+="",P);return qe.toString=function(){return Ae},qe},parse:function(Ae){var qe=A(Ae+="",!1);return qe.toString=function(){return Ae},qe},utcFormat:function(Ae){var qe=D(Ae+="",V);return qe.toString=function(){return Ae},qe},utcParse:function(Ae){var qe=A(Ae+="",!0);return qe.toString=function(){return Ae},qe}}}var lD={"-":"",_:" ",0:"0"},ei=/^\s*\d+/,Efe=/^%/,Nfe=/[\\^$*+?|[\]().{}]/g;function hr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Ofe(t){return t.replace(Nfe,"\\$&")}function nm(t){return new RegExp("^(?:"+t.map(Ofe).join("|")+")","i")}function im(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function kfe(t,e,r){var n=ei.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Cfe(t,e,r){var n=ei.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Ife(t,e,r){var n=ei.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function jfe(t,e,r){var n=ei.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Rfe(t,e,r){var n=ei.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function cD(t,e,r){var n=ei.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function uD(t,e,r){var n=ei.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Mfe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Pfe(t,e,r){var n=ei.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Dfe(t,e,r){var n=ei.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function hD(t,e,r){var n=ei.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Lfe(t,e,r){var n=ei.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function dD(t,e,r){var n=ei.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Bfe(t,e,r){var n=ei.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Ufe(t,e,r){var n=ei.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function zfe(t,e,r){var n=ei.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Vfe(t,e,r){var n=ei.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function $fe(t,e,r){var n=Efe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Ffe(t,e,r){var n=ei.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function qfe(t,e,r){var n=ei.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function fD(t,e){return hr(t.getDate(),e,2)}function Hfe(t,e){return hr(t.getHours(),e,2)}function Gfe(t,e){return hr(t.getHours()%12||12,e,2)}function Kfe(t,e){return hr(1+dg.count(gl(t),t),e,3)}function uH(t,e){return hr(t.getMilliseconds(),e,3)}function Wfe(t,e){return uH(t,e)+"000"}function Xfe(t,e){return hr(t.getMonth()+1,e,2)}function Yfe(t,e){return hr(t.getMinutes(),e,2)}function Qfe(t,e){return hr(t.getSeconds(),e,2)}function Zfe(t){var e=t.getDay();return e===0?7:e}function Jfe(t,e){return hr(Ix.count(gl(t)-1,t),e,2)}function hH(t){var e=t.getDay();return e>=4||e===0?fd(t):fd.ceil(t)}function eme(t,e){return t=hH(t),hr(fd.count(gl(t),t)+(gl(t).getDay()===4),e,2)}function tme(t){return t.getDay()}function rme(t,e){return hr(Hv.count(gl(t)-1,t),e,2)}function nme(t,e){return hr(t.getFullYear()%100,e,2)}function ime(t,e){return t=hH(t),hr(t.getFullYear()%100,e,2)}function ame(t,e){return hr(t.getFullYear()%1e4,e,4)}function sme(t,e){var r=t.getDay();return t=r>=4||r===0?fd(t):fd.ceil(t),hr(t.getFullYear()%1e4,e,4)}function ome(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+hr(e/60|0,"0",2)+hr(e%60,"0",2)}function mD(t,e){return hr(t.getUTCDate(),e,2)}function lme(t,e){return hr(t.getUTCHours(),e,2)}function cme(t,e){return hr(t.getUTCHours()%12||12,e,2)}function ume(t,e){return hr(1+Cx.count(yl(t),t),e,3)}function dH(t,e){return hr(t.getUTCMilliseconds(),e,3)}function hme(t,e){return dH(t,e)+"000"}function dme(t,e){return hr(t.getUTCMonth()+1,e,2)}function fme(t,e){return hr(t.getUTCMinutes(),e,2)}function mme(t,e){return hr(t.getUTCSeconds(),e,2)}function pme(t){var e=t.getUTCDay();return e===0?7:e}function gme(t,e){return hr(jx.count(yl(t)-1,t),e,2)}function fH(t){var e=t.getUTCDay();return e>=4||e===0?md(t):md.ceil(t)}function yme(t,e){return t=fH(t),hr(md.count(yl(t),t)+(yl(t).getUTCDay()===4),e,2)}function vme(t){return t.getUTCDay()}function bme(t,e){return hr(Gv.count(yl(t)-1,t),e,2)}function xme(t,e){return hr(t.getUTCFullYear()%100,e,2)}function wme(t,e){return t=fH(t),hr(t.getUTCFullYear()%100,e,2)}function _me(t,e){return hr(t.getUTCFullYear()%1e4,e,4)}function Sme(t,e){var r=t.getUTCDay();return t=r>=4||r===0?md(t):md.ceil(t),hr(t.getUTCFullYear()%1e4,e,4)}function Tme(){return"+0000"}function pD(){return"%"}function gD(t){return+t}function yD(t){return Math.floor(+t/1e3)}var Ah,mH,pH;Ame({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ame(t){return Ah=Afe(t),mH=Ah.format,Ah.parse,pH=Ah.utcFormat,Ah.utcParse,Ah}function Eme(t){return new Date(t)}function Nme(t){return t instanceof Date?+t:+new Date(+t)}function YA(t,e,r,n,i,a,s,c,u,f){var m=DA(),g=m.invert,v=m.domain,x=f(".%L"),T=f(":%S"),S=f("%I:%M"),_=f("%I %p"),C=f("%a %d"),I=f("%b %d"),P=f("%B"),V=f("%Y");function j(D){return(u(D)<D?x:c(D)<D?T:s(D)<D?S:a(D)<D?_:n(D)<D?i(D)<D?C:I:r(D)<D?P:V)(D)}return m.invert=function(D){return new Date(g(D))},m.domain=function(D){return arguments.length?v(Array.from(D,Nme)):v().map(Eme)},m.ticks=function(D){var A=v();return t(A[0],A[A.length-1],D??10)},m.tickFormat=function(D,A){return A==null?j:f(A)},m.nice=function(D){var A=v();return(!D||typeof D.range!="function")&&(D=e(A[0],A[A.length-1],D??10)),D?v(tH(A,D)):m},m.copy=function(){return hg(m,YA(t,e,r,n,i,a,s,c,u,f))},m}function Ome(){return ds.apply(YA(Sfe,Tfe,gl,WA,Ix,dg,GA,qA,qu,mH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kme(){return ds.apply(YA(wfe,_fe,yl,XA,jx,Cx,KA,HA,qu,pH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rx(){var t=0,e=1,r,n,i,a,s=Fi,c=!1,u;function f(g){return g==null||isNaN(g=+g)?u:s(i===0?.5:(g=(a(g)-r)*i,c?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(g){return arguments.length?(c=!!g,f):c},f.interpolator=function(g){return arguments.length?(s=g,f):s};function m(g){return function(v){var x,T;return arguments.length?([x,T]=v,s=g(x,T),f):[s(0),s(1)]}}return f.range=m(qd),f.rangeRound=m(PA),f.unknown=function(g){return arguments.length?(u=g,f):u},function(g){return a=g,r=g(t),n=g(e),i=r===n?0:1/(n-r),f}}function Qc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gH(){var t=Yc(Rx()(Fi));return t.copy=function(){return Qc(t,gH())},Tl.apply(t,arguments)}function yH(){var t=UA(Rx()).domain([1,10]);return t.copy=function(){return Qc(t,yH()).base(t.base())},Tl.apply(t,arguments)}function vH(){var t=zA(Rx());return t.copy=function(){return Qc(t,vH()).constant(t.constant())},Tl.apply(t,arguments)}function QA(){var t=VA(Rx());return t.copy=function(){return Qc(t,QA()).exponent(t.exponent())},Tl.apply(t,arguments)}function Cme(){return QA.apply(null,arguments).exponent(.5)}function bH(){var t=[],e=Fi;function r(n){if(n!=null&&!isNaN(n=+n))return e((cg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Pc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>gde(t,a/n))},r.copy=function(){return bH(e).domain(t)},Tl.apply(r,arguments)}function Mx(){var t=0,e=.5,r=1,n=1,i,a,s,c,u,f=Fi,m,g=!1,v;function x(S){return isNaN(S=+S)?v:(S=.5+((S=+m(S))-a)*(n*S<n*a?c:u),f(g?Math.max(0,Math.min(1,S)):S))}x.domain=function(S){return arguments.length?([t,e,r]=S,i=m(t=+t),a=m(e=+e),s=m(r=+r),c=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),n=a<i?-1:1,x):[t,e,r]},x.clamp=function(S){return arguments.length?(g=!!S,x):g},x.interpolator=function(S){return arguments.length?(f=S,x):f};function T(S){return function(_){var C,I,P;return arguments.length?([C,I,P]=_,f=$de(S,[C,I,P]),x):[f(0),f(.5),f(1)]}}return x.range=T(qd),x.rangeRound=T(PA),x.unknown=function(S){return arguments.length?(v=S,x):v},function(S){return m=S,i=S(t),a=S(e),s=S(r),c=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),n=a<i?-1:1,x}}function xH(){var t=Yc(Mx()(Fi));return t.copy=function(){return Qc(t,xH())},Tl.apply(t,arguments)}function wH(){var t=UA(Mx()).domain([.1,1,10]);return t.copy=function(){return Qc(t,wH()).base(t.base())},Tl.apply(t,arguments)}function _H(){var t=zA(Mx());return t.copy=function(){return Qc(t,_H()).constant(t.constant())},Tl.apply(t,arguments)}function ZA(){var t=VA(Mx());return t.copy=function(){return Qc(t,ZA()).exponent(t.exponent())},Tl.apply(t,arguments)}function Ime(){return ZA.apply(null,arguments).exponent(.5)}const vD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dp,scaleDiverging:xH,scaleDivergingLog:wH,scaleDivergingPow:ZA,scaleDivergingSqrt:Ime,scaleDivergingSymlog:_H,scaleIdentity:eH,scaleImplicit:T7,scaleLinear:Fv,scaleLog:rH,scaleOrdinal:jA,scalePoint:jm,scalePow:$A,scaleQuantile:aH,scaleQuantize:sH,scaleRadial:iH,scaleSequential:gH,scaleSequentialLog:yH,scaleSequentialPow:QA,scaleSequentialQuantile:bH,scaleSequentialSqrt:Cme,scaleSequentialSymlog:vH,scaleSqrt:hfe,scaleSymlog:nH,scaleThreshold:oH,scaleTime:Ome,scaleUtc:kme,tickFormat:Jq},Symbol.toStringTag,{value:"Module"}));var c_,bD;function Px(){if(bD)return c_;bD=1;var t=Vd();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var c=r[a],u=n(c);if(u!=null&&(f===void 0?u===u&&!t(u):i(u,f)))var f=u,m=c}return m}return c_=e,c_}var u_,xD;function SH(){if(xD)return u_;xD=1;function t(e,r){return e>r}return u_=t,u_}var h_,wD;function jme(){if(wD)return h_;wD=1;var t=Px(),e=SH(),r=Fd();function n(i){return i&&i.length?t(i,r,e):void 0}return h_=n,h_}var Rme=jme();const Dx=mr(Rme);var d_,_D;function TH(){if(_D)return d_;_D=1;function t(e,r){return e<r}return d_=t,d_}var f_,SD;function Mme(){if(SD)return f_;SD=1;var t=Px(),e=TH(),r=Fd();function n(i){return i&&i.length?t(i,r,e):void 0}return f_=n,f_}var Pme=Mme();const Lx=mr(Pme);var m_,TD;function Dme(){if(TD)return m_;TD=1;var t=mA(),e=vo(),r=jq(),n=da();function i(a,s){var c=n(a)?t:r;return c(a,e(s,3))}return m_=i,m_}var p_,AD;function Lme(){if(AD)return p_;AD=1;var t=Cq(),e=Dme();function r(n,i){return t(e(n,i),1)}return p_=r,p_}var Bme=Lme();const Ume=mr(Bme);var g_,ED;function zme(){if(ED)return g_;ED=1;var t=EA();function e(r,n){return t(r,n)}return g_=e,g_}var Vme=zme();const fg=mr(Vme);var Hd=1e9,$me={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eE,Xr=!0,hs="[DecimalError] ",t0=hs+"Invalid argument: ",JA=hs+"Exponent out of range: ",Gd=Math.floor,Pu=Math.pow,Fme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Na,Zn=1e7,Hr=7,AH=9007199254740991,Kv=Gd(AH/Hr),ot={};ot.absoluteValue=ot.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ot.comparedTo=ot.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Hr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ot.dividedBy=ot.div=function(t){return sl(this,new this.constructor(t))};ot.dividedToIntegerBy=ot.idiv=function(t){var e=this,r=e.constructor;return Pr(sl(e,new r(t),0,1),r.precision)};ot.equals=ot.eq=function(t){return!this.cmp(t)};ot.exponent=function(){return In(this)};ot.greaterThan=ot.gt=function(t){return this.cmp(t)>0};ot.greaterThanOrEqualTo=ot.gte=function(t){return this.cmp(t)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(t){return this.cmp(t)<0};ot.lessThanOrEqualTo=ot.lte=function(t){return this.cmp(t)<1};ot.logarithm=ot.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Na))throw Error(hs+"NaN");if(r.s<1)throw Error(hs+(r.s?"NaN":"-Infinity"));return r.eq(Na)?new n(0):(Xr=!1,e=sl(yp(r,a),yp(t,a),a),Xr=!0,Pr(e,i))};ot.minus=ot.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?OH(e,t):EH(e,(t.s=-t.s,t))};ot.modulo=ot.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(hs+"NaN");return r.s?(Xr=!1,e=sl(r,t,0,1).times(t),Xr=!0,r.minus(e)):Pr(new n(r),i)};ot.naturalExponential=ot.exp=function(){return NH(this)};ot.naturalLogarithm=ot.ln=function(){return yp(this)};ot.negated=ot.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ot.plus=ot.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?EH(e,t):OH(e,(t.s=-t.s,t))};ot.precision=ot.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(t0+t);if(e=In(i)+1,n=i.d.length-1,r=n*Hr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ot.squareRoot=ot.sqrt=function(){var t,e,r,n,i,a,s,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(hs+"NaN")}for(t=In(c),Xr=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=eo(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Gd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=s=r+3;;)if(a=n,n=a.plus(sl(c,a,s+2)).times(.5),eo(a.d).slice(0,s)===(e=eo(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Pr(a,r+1,0),a.times(a).eq(c)){n=a;break}}else if(e!="9999")break;s+=4}return Xr=!0,Pr(n,r)};ot.times=ot.mul=function(t){var e,r,n,i,a,s,c,u,f,m=this,g=m.constructor,v=m.d,x=(t=new g(t)).d;if(!m.s||!t.s)return new g(0);for(t.s*=m.s,r=m.e+t.e,u=v.length,f=x.length,u<f&&(a=v,v=x,x=a,s=u,u=f,f=s),a=[],s=u+f,n=s;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=u+n;i>n;)c=a[i]+x[n]*v[i-n-1]+e,a[i--]=c%Zn|0,e=c/Zn|0;a[i]=(a[i]+e)%Zn|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Xr?Pr(t,g.precision):t};ot.toDecimalPlaces=ot.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(co(t,0,Hd),e===void 0?e=n.rounding:co(e,0,8),Pr(r,t+In(r)+1,e))};ot.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=g0(n,!0):(co(t,0,Hd),e===void 0?e=i.rounding:co(e,0,8),n=Pr(new i(n),t+1,e),r=g0(n,!0,t+1)),r};ot.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?g0(i):(co(t,0,Hd),e===void 0?e=a.rounding:co(e,0,8),n=Pr(new a(i),t+In(i)+1,e),r=g0(n.abs(),!1,t+In(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ot.toInteger=ot.toint=function(){var t=this,e=t.constructor;return Pr(new e(t),In(t)+1,e.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(t){var e,r,n,i,a,s,c=this,u=c.constructor,f=12,m=+(t=new u(t));if(!t.s)return new u(Na);if(c=new u(c),!c.s){if(t.s<1)throw Error(hs+"Infinity");return c}if(c.eq(Na))return c;if(n=u.precision,t.eq(Na))return Pr(c,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=c.s,s){if((r=m<0?-m:m)<=AH){for(i=new u(Na),e=Math.ceil(n/Hr+4),Xr=!1;r%2&&(i=i.times(c),OD(i.d,e)),r=Gd(r/2),r!==0;)c=c.times(c),OD(c.d,e);return Xr=!0,t.s<0?new u(Na).div(i):Pr(i,n)}}else if(a<0)throw Error(hs+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,Xr=!1,i=t.times(yp(c,n+f)),Xr=!0,i=NH(i),i.s=a,i};ot.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=In(i),n=g0(i,r<=a.toExpNeg||r>=a.toExpPos)):(co(t,1,Hd),e===void 0?e=a.rounding:co(e,0,8),i=Pr(new a(i),t,e),r=In(i),n=g0(i,t<=r||r<=a.toExpNeg,t)),n};ot.toSignificantDigits=ot.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(co(t,1,Hd),e===void 0?e=n.rounding:co(e,0,8)),Pr(new n(r),t,e)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=In(t),r=t.constructor;return g0(t,e<=r.toExpNeg||e>=r.toExpPos)};function EH(t,e){var r,n,i,a,s,c,u,f,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Xr?Pr(e,g):e;if(u=t.d,f=e.d,s=t.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(n=u,a=-a,c=f.length):(n=f,i=s,c=u.length),s=Math.ceil(g/Hr),c=s>c?s+1:c+1,a>c&&(a=c,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(c=u.length,a=f.length,c-a<0&&(a=c,n=f,f=u,u=n),r=0;a;)r=(u[--a]=u[a]+f[a]+r)/Zn|0,u[a]%=Zn;for(r&&(u.unshift(r),++i),c=u.length;u[--c]==0;)u.pop();return e.d=u,e.e=i,Xr?Pr(e,g):e}function co(t,e,r){if(t!==~~t||t<e||t>r)throw Error(t0+t)}function eo(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Hr-n.length,r&&(a+=mc(r)),a+=n;s=t[e],n=s+"",r=Hr-n.length,r&&(a+=mc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var sl=(function(){function t(n,i){var a,s=0,c=n.length;for(n=n.slice();c--;)a=n[c]*i+s,n[c]=a%Zn|0,s=a/Zn|0;return s&&n.unshift(s),n}function e(n,i,a,s){var c,u;if(a!=s)u=a>s?1:-1;else for(c=u=0;c<a;c++)if(n[c]!=i[c]){u=n[c]>i[c]?1:-1;break}return u}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Zn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var c,u,f,m,g,v,x,T,S,_,C,I,P,V,j,D,A,N,k=n.constructor,$=n.s==i.s?1:-1,M=n.d,z=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(hs+"Division by zero");for(u=n.e-i.e,A=z.length,j=M.length,x=new k($),T=x.d=[],f=0;z[f]==(M[f]||0);)++f;if(z[f]>(M[f]||0)&&--u,a==null?I=a=k.precision:s?I=a+(In(n)-In(i))+1:I=a,I<0)return new k(0);if(I=I/Hr+2|0,f=0,A==1)for(m=0,z=z[0],I++;(f<j||m)&&I--;f++)P=m*Zn+(M[f]||0),T[f]=P/z|0,m=P%z|0;else{for(m=Zn/(z[0]+1)|0,m>1&&(z=t(z,m),M=t(M,m),A=z.length,j=M.length),V=A,S=M.slice(0,A),_=S.length;_<A;)S[_++]=0;N=z.slice(),N.unshift(0),D=z[0],z[1]>=Zn/2&&++D;do m=0,c=e(z,S,A,_),c<0?(C=S[0],A!=_&&(C=C*Zn+(S[1]||0)),m=C/D|0,m>1?(m>=Zn&&(m=Zn-1),g=t(z,m),v=g.length,_=S.length,c=e(g,S,v,_),c==1&&(m--,r(g,A<v?N:z,v))):(m==0&&(c=m=1),g=z.slice()),v=g.length,v<_&&g.unshift(0),r(S,g,_),c==-1&&(_=S.length,c=e(z,S,A,_),c<1&&(m++,r(S,A<_?N:z,_))),_=S.length):c===0&&(m++,S=[0]),T[f++]=m,c&&S[0]?S[_++]=M[V]||0:(S=[M[V]],_=1);while((V++<j||S[0]!==void 0)&&I--)}return T[0]||T.shift(),x.e=u,Pr(x,s?a+In(x)+1:a)}})();function NH(t,e){var r,n,i,a,s,c,u=0,f=0,m=t.constructor,g=m.precision;if(In(t)>16)throw Error(JA+In(t));if(!t.s)return new m(Na);for(Xr=!1,c=g,s=new m(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(Pu(2,f))/Math.LN10*2+5|0,c+=n,r=i=a=new m(Na),m.precision=c;;){if(i=Pr(i.times(t),c),r=r.times(++u),s=a.plus(sl(i,r,c)),eo(s.d).slice(0,c)===eo(a.d).slice(0,c)){for(;f--;)a=Pr(a.times(a),c);return m.precision=g,e==null?(Xr=!0,Pr(a,g)):a}a=s}}function In(t){for(var e=t.e*Hr,r=t.d[0];r>=10;r/=10)e++;return e}function y_(t,e,r){if(e>t.LN10.sd())throw Xr=!0,r&&(t.precision=r),Error(hs+"LN10 precision limit exceeded");return Pr(new t(t.LN10),e)}function mc(t){for(var e="";t--;)e+="0";return e}function yp(t,e){var r,n,i,a,s,c,u,f,m,g=1,v=10,x=t,T=x.d,S=x.constructor,_=S.precision;if(x.s<1)throw Error(hs+(x.s?"NaN":"-Infinity"));if(x.eq(Na))return new S(0);if(e==null?(Xr=!1,f=_):f=e,x.eq(10))return e==null&&(Xr=!0),y_(S,f);if(f+=v,S.precision=f,r=eo(T),n=r.charAt(0),a=In(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=eo(x.d),n=r.charAt(0),g++;a=In(x),n>1?(x=new S("0."+r),a++):x=new S(n+"."+r.slice(1))}else return u=y_(S,f+2,_).times(a+""),x=yp(new S(n+"."+r.slice(1)),f-v).plus(u),S.precision=_,e==null?(Xr=!0,Pr(x,_)):x;for(c=s=x=sl(x.minus(Na),x.plus(Na),f),m=Pr(x.times(x),f),i=3;;){if(s=Pr(s.times(m),f),u=c.plus(sl(s,new S(i),f)),eo(u.d).slice(0,f)===eo(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(y_(S,f+2,_).times(a+""))),c=sl(c,new S(g),f),S.precision=_,e==null?(Xr=!0,Pr(c,_)):c;c=u,i+=2}}function ND(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Gd(r/Hr),t.d=[],n=(r+1)%Hr,r<0&&(n+=Hr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Hr;n<i;)t.d.push(+e.slice(n,n+=Hr));e=e.slice(n),n=Hr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Xr&&(t.e>Kv||t.e<-Kv))throw Error(JA+r)}else t.s=0,t.e=0,t.d=[0];return t}function Pr(t,e,r){var n,i,a,s,c,u,f,m,g=t.d;for(s=1,a=g[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Hr,i=e,f=g[m=0];else{if(m=Math.ceil((n+1)/Hr),a=g.length,m>=a)return t;for(f=a=g[m],s=1;a>=10;a/=10)s++;n%=Hr,i=n-Hr+s}if(r!==void 0&&(a=Pu(10,s-i-1),c=f/a%10|0,u=e<0||g[m+1]!==void 0||f%a,u=r<4?(c||u)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||u||r==6&&(n>0?i>0?f/Pu(10,s-i):0:g[m-1])%10&1||r==(t.s<0?8:7))),e<1||!g[0])return u?(a=In(t),g.length=1,e=e-a-1,g[0]=Pu(10,(Hr-e%Hr)%Hr),t.e=Gd(-e/Hr)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(n==0?(g.length=m,a=1,m--):(g.length=m+1,a=Pu(10,Hr-n),g[m]=i>0?(f/Pu(10,s-i)%Pu(10,i)|0)*a:0),u)for(;;)if(m==0){(g[0]+=a)==Zn&&(g[0]=1,++t.e);break}else{if(g[m]+=a,g[m]!=Zn)break;g[m--]=0,a=1}for(n=g.length;g[--n]===0;)g.pop();if(Xr&&(t.e>Kv||t.e<-Kv))throw Error(JA+In(t));return t}function OH(t,e){var r,n,i,a,s,c,u,f,m,g,v=t.constructor,x=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Xr?Pr(e,x):e;if(u=t.d,g=e.d,n=e.e,f=t.e,u=u.slice(),s=f-n,s){for(m=s<0,m?(r=u,s=-s,c=g.length):(r=g,n=f,c=u.length),i=Math.max(Math.ceil(x/Hr),c)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=u.length,c=g.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(u[i]!=g[i]){m=u[i]<g[i];break}s=0}for(m&&(r=u,u=g,g=r,e.s=-e.s),c=u.length,i=g.length-c;i>0;--i)u[c++]=0;for(i=g.length;i>s;){if(u[--i]<g[i]){for(a=i;a&&u[--a]===0;)u[a]=Zn-1;--u[a],u[i]+=Zn}u[i]-=g[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,Xr?Pr(e,x):e):new v(0)}function g0(t,e,r){var n,i=In(t),a=eo(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+mc(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+mc(-i-1)+a,r&&(n=r-s)>0&&(a+=mc(n))):i>=s?(a+=mc(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+mc(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=mc(n))),t.s<0?"-"+a:a}function OD(t,e){if(t.length>e)return t.length=e,!0}function kH(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(t0+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return ND(s,a.toString())}else if(typeof a!="string")throw Error(t0+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Fme.test(a))ND(s,a);else throw Error(t0+a)}if(i.prototype=ot,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=kH,i.config=i.set=qme,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function qme(t){if(!t||typeof t!="object")throw Error(hs+"Object expected");var e,r,n,i=["precision",1,Hd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Gd(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(t0+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(t0+r+": "+n);return this}var eE=kH($me);Na=new eE(1);const kr=eE;function Hme(t){return Xme(t)||Wme(t)||Kme(t)||Gme()}function Gme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kme(t,e){if(t){if(typeof t=="string")return O7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O7(t,e)}}function Wme(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Xme(t){if(Array.isArray(t))return O7(t)}function O7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Yme=function(e){return e},CH={},IH=function(e){return e===CH},kD=function(e){return function r(){return arguments.length===0||arguments.length===1&&IH(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Qme=function t(e,r){return e===1?r:kD(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(c){return c!==CH}).length;return s>=e?r.apply(void 0,i):t(e-s,kD(function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var m=i.map(function(g){return IH(g)?u.shift():g});return r.apply(void 0,Hme(m).concat(u))}))})},Bx=function(e){return Qme(e.length,e)},k7=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Zme=Bx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Jme=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Yme;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(c,u){return u(c)},a.apply(void 0,arguments))}},C7=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},jH=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(c,u){return c===r[u]})||(r=a,n=e.apply(void 0,a)),n}};function epe(t){var e;return t===0?e=1:e=Math.floor(new kr(t).abs().log(10).toNumber())+1,e}function tpe(t,e,r){for(var n=new kr(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var rpe=Bx(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),npe=Bx(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),ipe=Bx(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Ux={rangeStep:tpe,getDigitCount:epe,interpolateNumber:rpe,uninterpolateNumber:npe,uninterpolateTruncation:ipe};function I7(t){return ope(t)||spe(t)||RH(t)||ape()}function ape(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function spe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ope(t){if(Array.isArray(t))return j7(t)}function vp(t,e){return upe(t)||cpe(t,e)||RH(t,e)||lpe()}function lpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RH(t,e){if(t){if(typeof t=="string")return j7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j7(t,e)}}function j7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cpe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),c;!(n=(c=s.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(u){i=!0,a=u}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function upe(t){if(Array.isArray(t))return t}function MH(t){var e=vp(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function PH(t,e,r){if(t.lte(0))return new kr(0);var n=Ux.getDigitCount(t.toNumber()),i=new kr(10).pow(n),a=t.div(i),s=n!==1?.05:.1,c=new kr(Math.ceil(a.div(s).toNumber())).add(r).mul(s),u=c.mul(i);return e?u:new kr(Math.ceil(u))}function hpe(t,e,r){var n=1,i=new kr(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new kr(10).pow(Ux.getDigitCount(t)-1),i=new kr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new kr(Math.floor(t)))}else t===0?i=new kr(Math.floor((e-1)/2)):r||(i=new kr(Math.floor(t)));var s=Math.floor((e-1)/2),c=Jme(Zme(function(u){return i.add(new kr(u-s).mul(n)).toNumber()}),k7);return c(0,e)}function DH(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new kr(0),tickMin:new kr(0),tickMax:new kr(0)};var a=PH(new kr(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new kr(0):(s=new kr(t).add(e).div(2),s=s.sub(new kr(s).mod(a)));var c=Math.ceil(s.sub(t).div(a).toNumber()),u=Math.ceil(new kr(e).sub(s).div(a).toNumber()),f=c+u+1;return f>r?DH(t,e,r,n,i+1):(f<r&&(u=e>0?u+(r-f):u,c=e>0?c:c+(r-f)),{step:a,tickMin:s.sub(new kr(c).mul(a)),tickMax:s.add(new kr(u).mul(a))})}function dpe(t){var e=vp(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),c=MH([r,n]),u=vp(c,2),f=u[0],m=u[1];if(f===-1/0||m===1/0){var g=m===1/0?[f].concat(I7(k7(0,i-1).map(function(){return 1/0}))):[].concat(I7(k7(0,i-1).map(function(){return-1/0})),[m]);return r>n?C7(g):g}if(f===m)return hpe(f,i,a);var v=DH(f,m,s,a),x=v.step,T=v.tickMin,S=v.tickMax,_=Ux.rangeStep(T,S.add(new kr(.1).mul(x)),x);return r>n?C7(_):_}function fpe(t,e){var r=vp(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=MH([n,i]),c=vp(s,2),u=c[0],f=c[1];if(u===-1/0||f===1/0)return[n,i];if(u===f)return[u];var m=Math.max(e,2),g=PH(new kr(f).sub(u).div(m-1),a,0),v=[].concat(I7(Ux.rangeStep(new kr(u),new kr(f).sub(new kr(.99).mul(g)),g)),[f]);return n>i?C7(v):v}var mpe=jH(dpe),ppe=jH(fpe),gpe="Invariant failed";function y0(t,e){throw new Error(gpe)}var ype=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wv.apply(this,arguments)}function vpe(t,e){return _pe(t)||wpe(t,e)||xpe(t,e)||bpe()}function bpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xpe(t,e){if(t){if(typeof t=="string")return CD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CD(t,e)}}function CD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function _pe(t){if(Array.isArray(t))return t}function Spe(t,e){if(t==null)return{};var r=Tpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ape(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Epe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UH(n.key),n)}}function Npe(t,e,r){return e&&Epe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ope(t,e,r){return e=Xv(e),kpe(t,LH()?Reflect.construct(e,r||[],Xv(t).constructor):e.apply(t,r))}function kpe(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cpe(t)}function Cpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LH=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xv(t)}function Ipe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R7(t,e)}function R7(t,e){return R7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R7(t,e)}function BH(t,e,r){return e=UH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UH(t){var e=jpe(t,"string");return pd(e)=="symbol"?e:e+""}function jpe(t,e){if(pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mg=(function(t){function e(){return Ape(this,e),Ope(this,e,arguments)}return Ipe(e,t),Npe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,c=n.dataKey,u=n.data,f=n.dataPointFormatter,m=n.xAxis,g=n.yAxis,v=Spe(n,ype),x=xt(v,!1);this.props.direction==="x"&&m.type!=="number"&&y0();var T=u.map(function(S){var _=f(S,c),C=_.x,I=_.y,P=_.value,V=_.errorVal;if(!V)return null;var j=[],D,A;if(Array.isArray(V)){var N=vpe(V,2);D=N[0],A=N[1]}else D=A=V;if(a==="vertical"){var k=m.scale,$=I+i,M=$+s,z=$-s,U=k(P-D),Y=k(P+A);j.push({x1:Y,y1:M,x2:Y,y2:z}),j.push({x1:U,y1:$,x2:Y,y2:$}),j.push({x1:U,y1:M,x2:U,y2:z})}else if(a==="horizontal"){var ee=g.scale,K=C+i,J=K-s,Q=K+s,fe=ee(P-D),ie=ee(P+A);j.push({x1:J,y1:ie,x2:Q,y2:ie}),j.push({x1:K,y1:fe,x2:K,y2:ie}),j.push({x1:J,y1:fe,x2:Q,y2:fe})}return ne.createElement(cr,Wv({className:"recharts-errorBar",key:"bar-".concat(j.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},x),j.map(function(W){return ne.createElement("line",Wv({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return ne.createElement(cr,{className:"recharts-errorBars"},T)}}])})(ne.Component);BH(mg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});BH(mg,"displayName","ErrorBar");function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function ID(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ku(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(r),!0).forEach(function(n){Rpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rpe(t,e,r){return e=Mpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mpe(t){var e=Ppe(t,"string");return bp(e)=="symbol"?e:e+""}function Ppe(t,e){if(bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zH=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Aa(r,Hh);if(!s)return null;var c=Hh.defaultProps,u=c!==void 0?ku(ku({},c),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(n||[]).reduce(function(m,g){var v=g.item,x=g.props,T=x.sectors||x.data||[];return m.concat(T.map(function(S){return{type:s.props.iconType||v.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):f=(n||[]).map(function(m){var g=m.item,v=g.type.defaultProps,x=v!==void 0?ku(ku({},v),g.props):{},T=x.dataKey,S=x.name,_=x.legendType,C=x.hide;return{inactive:C,dataKey:T,type:u.iconType||_||"square",color:tE(g),value:S||T,payload:x}}),ku(ku(ku({},u),Hh.getWithHeight(s,i)),{},{payload:f,item:s})};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function jD(t){return Upe(t)||Bpe(t)||Lpe(t)||Dpe()}function Dpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lpe(t,e){if(t){if(typeof t=="string")return M7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M7(t,e)}}function Bpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Upe(t){if(Array.isArray(t))return M7(t)}function M7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(r),!0).forEach(function(n){Kh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kh(t,e,r){return e=zpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zpe(t){var e=Vpe(t,"string");return xp(e)=="symbol"?e:e+""}function Vpe(t,e){if(xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function di(t,e,r){return Pt(t)||Pt(e)?r:Un(e)?as(t,e,r):kt(e)?e(t):r}function Rm(t,e,r,n){var i=Ume(t,function(c){return di(c,e)});if(r==="number"){var a=i.filter(function(c){return Qe(c)||parseFloat(c)});return a.length?[Lx(a),Dx(a)]:[1/0,-1/0]}var s=n?i.filter(function(c){return!Pt(c)}):i;return s.map(function(c){return Un(c)||c instanceof Date?c:""})}var $pe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,c=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var u=a.range,f=0;f<c;f++){var m=f>0?i[f-1].coordinate:i[c-1].coordinate,g=i[f].coordinate,v=f>=c-1?i[0].coordinate:i[f+1].coordinate,x=void 0;if(Ns(g-m)!==Ns(v-g)){var T=[];if(Ns(v-g)===Ns(u[1]-u[0])){x=v;var S=g+u[1]-u[0];T[0]=Math.min(S,(S+m)/2),T[1]=Math.max(S,(S+m)/2)}else{x=m;var _=v+u[1]-u[0];T[0]=Math.min(g,(_+g)/2),T[1]=Math.max(g,(_+g)/2)}var C=[Math.min(g,(x+g)/2),Math.max(g,(x+g)/2)];if(e>C[0]&&e<=C[1]||e>=T[0]&&e<=T[1]){s=i[f].index;break}}else{var I=Math.min(m,v),P=Math.max(m,v);if(e>(I+g)/2&&e<=(P+g)/2){s=i[f].index;break}}}else for(var V=0;V<c;V++)if(V===0&&e<=(n[V].coordinate+n[V+1].coordinate)/2||V>0&&V<c-1&&e>(n[V].coordinate+n[V-1].coordinate)/2&&e<=(n[V].coordinate+n[V+1].coordinate)/2||V===c-1&&e>(n[V].coordinate+n[V-1].coordinate)/2){s=n[V].index;break}return s},tE=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?mn(mn({},e.type.defaultProps),e.props):e.props,s=a.stroke,c=a.fill,u;switch(i){case"Line":u=s;break;case"Area":case"Radar":u=s&&s!=="none"?s:c;break;default:u=c;break}return u},Fpe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},c=Object.keys(a),u=0,f=c.length;u<f;u++)for(var m=a[c[u]].stackGroups,g=Object.keys(m),v=0,x=g.length;v<x;v++){var T=m[g[v]],S=T.items,_=T.cateAxisId,C=S.filter(function(A){return il(A.type).indexOf("Bar")>=0});if(C&&C.length){var I=C[0].type.defaultProps,P=I!==void 0?mn(mn({},I),C[0].props):C[0].props,V=P.barSize,j=P[_];s[j]||(s[j]=[]);var D=Pt(V)?r:V;s[j].push({item:C[0],stackList:C.slice(1),barSize:Pt(D)?void 0:Os(D,n,0)})}}return s},qpe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,c=e.maxBarSize,u=s.length;if(u<1)return null;var f=Os(r,i,0,!0),m,g=[];if(s[0].barSize===+s[0].barSize){var v=!1,x=i/u,T=s.reduce(function(V,j){return V+j.barSize||0},0);T+=(u-1)*f,T>=i&&(T-=(u-1)*f,f=0),T>=i&&x>0&&(v=!0,x*=.9,T=u*x);var S=(i-T)/2>>0,_={offset:S-f,size:0};m=s.reduce(function(V,j){var D={item:j.item,position:{offset:_.offset+_.size+f,size:v?x:j.barSize}},A=[].concat(jD(V),[D]);return _=A[A.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){A.push({item:N,position:_})}),A},g)}else{var C=Os(n,i,0,!0);i-2*C-(u-1)*f<=0&&(f=0);var I=(i-2*C-(u-1)*f)/u;I>1&&(I>>=0);var P=c===+c?Math.min(I,c):I;m=s.reduce(function(V,j,D){var A=[].concat(jD(V),[{item:j.item,position:{offset:C+(I+f)*D+(I-P)/2,size:P}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){A.push({item:N,position:A[A.length-1].position})}),A},g)}return m},Hpe=function(e,r,n,i){var a=n.children,s=n.width,c=n.margin,u=s-(c.left||0)-(c.right||0),f=zH({children:a,legendWidth:u});if(f){var m=i||{},g=m.width,v=m.height,x=f.align,T=f.verticalAlign,S=f.layout;if((S==="vertical"||S==="horizontal"&&T==="middle")&&x!=="center"&&Qe(e[x]))return mn(mn({},e),{},Kh({},x,e[x]+(g||0)));if((S==="horizontal"||S==="vertical"&&x==="center")&&T!=="middle"&&Qe(e[T]))return mn(mn({},e),{},Kh({},T,e[T]+(v||0)))}return e},Gpe=function(e,r,n){return Pt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},VH=function(e,r,n,i,a){var s=r.props.children,c=Ra(s,mg).filter(function(f){return Gpe(i,a,f.props.direction)});if(c&&c.length){var u=c.map(function(f){return f.props.dataKey});return e.reduce(function(f,m){var g=di(m,n);if(Pt(g))return f;var v=Array.isArray(g)?[Lx(g),Dx(g)]:[g,g],x=u.reduce(function(T,S){var _=di(m,S,0),C=v[0]-Math.abs(Array.isArray(_)?_[0]:_),I=v[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(C,T[0]),Math.max(I,T[1])]},[1/0,-1/0]);return[Math.min(x[0],f[0]),Math.max(x[1],f[1])]},[1/0,-1/0])}return null},Kpe=function(e,r,n,i,a){var s=r.map(function(c){return VH(e,c,n,a,i)}).filter(function(c){return!Pt(c)});return s&&s.length?s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]):null},$H=function(e,r,n,i,a){var s=r.map(function(u){var f=u.props.dataKey;return n==="number"&&f&&VH(e,u,f,i)||Rm(e,f,n,a)});if(n==="number")return s.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);var c={};return s.reduce(function(u,f){for(var m=0,g=f.length;m<g;m++)c[f[m]]||(c[f[m]]=!0,u.push(f[m]));return u},[])},FH=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},qH=function(e,r,n,i){if(i)return e.map(function(u){return u.coordinate});var a,s,c=e.map(function(u){return u.coordinate===r&&(a=!0),u.coordinate===n&&(s=!0),u.coordinate});return a||c.push(r),s||c.push(n),c},tl=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,c=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/u:0;if(f=e.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?Ns(c[0]-c[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var m=(e.ticks||e.niceTicks).map(function(g){var v=a?a.indexOf(g):g;return{coordinate:i(v)+f,value:g,offset:f}});return m.filter(function(g){return!sg(g.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(g,v){return{coordinate:i(g)+f,value:g,index:v,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(g){return{coordinate:i(g)+f,value:g,offset:f}}):i.domain().map(function(g,v){return{coordinate:i(g)+f,value:a?a[g]:g,index:v,offset:f}})},v_=new WeakMap,yy=function(e,r){if(typeof r!="function")return e;v_.has(e)||v_.set(e,new WeakMap);var n=v_.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},HH=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,c=e.axisType;if(i==="auto")return s==="radial"&&c==="radiusAxis"?{scale:dp(),realScaleType:"band"}:s==="radial"&&c==="angleAxis"?{scale:Fv(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:jm(),realScaleType:"point"}:a==="category"?{scale:dp(),realScaleType:"band"}:{scale:Fv(),realScaleType:"linear"};if(m0(i)){var u="scale".concat(wx(i));return{scale:(vD[u]||jm)(),realScaleType:vD[u]?u:"point"}}return kt(i)?{scale:i}:{scale:jm(),realScaleType:"point"}},MD=1e-4,GH=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-MD,s=Math.max(i[0],i[1])+MD,c=e(r[0]),u=e(r[n-1]);(c<a||c>s||u<a||u>s)&&e.domain([r[0],r[n-1]])}},Wpe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Xpe=function(e,r){if(!r||r.length!==2||!Qe(r[0])||!Qe(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Qe(e[0])||e[0]<n)&&(a[0]=n),(!Qe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Ype=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,c=0;c<r;++c){var u=sg(e[c][n][1])?e[c][n][0]:e[c][n][1];u>=0?(e[c][n][0]=a,e[c][n][1]=a+u,a=e[c][n][1]):(e[c][n][0]=s,e[c][n][1]=s+u,s=e[c][n][1])}},Qpe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var c=sg(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Zpe={sign:Ype,expand:Uce,none:sd,silhouette:zce,wiggle:Vce,positive:Qpe},Jpe=function(e,r,n){var i=r.map(function(c){return c.props.dataKey}),a=Zpe[n],s=Bce().keys(i).value(function(c,u){return+di(c,u,0)}).order(u7).offset(a);return s(e)},ege=function(e,r,n,i,a,s){if(!e)return null;var c=s?r.reverse():r,u={},f=c.reduce(function(g,v){var x,T=(x=v.type)!==null&&x!==void 0&&x.defaultProps?mn(mn({},v.type.defaultProps),v.props):v.props,S=T.stackId,_=T.hide;if(_)return g;var C=T[n],I=g[C]||{hasStack:!1,stackGroups:{}};if(Un(S)){var P=I.stackGroups[S]||{numericAxisId:n,cateAxisId:i,items:[]};P.items.push(v),I.hasStack=!0,I.stackGroups[S]=P}else I.stackGroups[og("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[v]};return mn(mn({},g),{},Kh({},C,I))},u),m={};return Object.keys(f).reduce(function(g,v){var x=f[v];if(x.hasStack){var T={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(S,_){var C=x.stackGroups[_];return mn(mn({},S),{},Kh({},_,{numericAxisId:n,cateAxisId:i,items:C.items,stackedData:Jpe(e,C.items,a)}))},T)}return mn(mn({},g),{},Kh({},v,x))},m)},KH=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,c=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var m=mpe(f,a,c);return e.domain([Lx(m),Dx(m)]),{niceTicks:m}}if(a&&i==="number"){var g=e.domain(),v=ppe(g,a,c);return{niceTicks:v}}return null};function PD(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Pt(i[e.dataKey])){var c=Tv(r,"value",i[e.dataKey]);if(c)return c.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var u=di(i,Pt(s)?e.dataKey:s);return Pt(u)?null:e.scale(u)}var DD=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,c=e.index;if(r.type==="category")return n[c]?n[c].coordinate+i:null;var u=di(s,r.dataKey,r.domain[c]);return Pt(u)?null:r.scale(u)-a/2+i},tge=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},rge=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?mn(mn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Un(a)){var s=r[a];if(s){var c=s.items.indexOf(e);return c>=0?s.stackedData[c]:null}}return null},nge=function(e){return e.reduce(function(r,n){return[Lx(n.concat([r[0]]).filter(Qe)),Dx(n.concat([r[1]]).filter(Qe))]},[1/0,-1/0])},WH=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],c=s.stackedData,u=c.reduce(function(f,m){var g=nge(m.slice(r,n+1));return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},LD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,P7=function(e,r,n){if(kt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Qe(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(LD.test(e[0])){var a=+LD.exec(e[0])[1];i[0]=r[0]-a}else kt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Qe(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(BD.test(e[1])){var s=+BD.exec(e[1])[1];i[1]=r[1]+s}else kt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Yv=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=OA(r,function(g){return g.coordinate}),s=1/0,c=1,u=a.length;c<u;c++){var f=a[c],m=a[c-1];s=Math.min((f.coordinate||0)-(m.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},UD=function(e,r,n){return!e||!e.length||fg(e,as(n,"type.defaultProps.domain"))?r:e},XH=function(e,r){var n=e.type.defaultProps?mn(mn({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,c=n.formatter,u=n.tooltipType,f=n.chartType,m=n.hide;return mn(mn({},xt(e,!1)),{},{dataKey:i,unit:s,formatter:c,name:a||i,color:tE(e),value:di(r,i),type:u,payload:r,chartType:f,hide:m})};function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function zD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(r),!0).forEach(function(n){YH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YH(t,e,r){return e=ige(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ige(t){var e=age(t,"string");return wp(e)=="symbol"?e:e+""}function age(t,e){if(wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sge(t,e){return uge(t)||cge(t,e)||lge(t,e)||oge()}function oge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lge(t,e){if(t){if(typeof t=="string")return VD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VD(t,e)}}function VD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function uge(t){if(Array.isArray(t))return t}var Qv=Math.PI/180,hge=function(e){return e*180/Math.PI},Cr=function(e,r,n,i){return{x:e+Math.cos(-Qv*i)*n,y:r+Math.sin(-Qv*i)*n}},dge=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},fge=function(e,r,n,i,a){var s=e.width,c=e.height,u=e.startAngle,f=e.endAngle,m=Os(e.cx,s,s/2),g=Os(e.cy,c,c/2),v=dge(s,c,n),x=Os(e.innerRadius,v,0),T=Os(e.outerRadius,v,v*.8),S=Object.keys(r);return S.reduce(function(_,C){var I=r[C],P=I.domain,V=I.reversed,j;if(Pt(I.range))i==="angleAxis"?j=[u,f]:i==="radiusAxis"&&(j=[x,T]),V&&(j=[j[1],j[0]]);else{j=I.range;var D=j,A=sge(D,2);u=A[0],f=A[1]}var N=HH(I,a),k=N.realScaleType,$=N.scale;$.domain(P).range(j),GH($);var M=KH($,qo(qo({},I),{},{realScaleType:k})),z=qo(qo(qo({},I),M),{},{range:j,radius:T,realScaleType:k,scale:$,cx:m,cy:g,innerRadius:x,outerRadius:T,startAngle:u,endAngle:f});return qo(qo({},_),{},YH({},C,z))},{})},mge=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},pge=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,c=mge({x:n,y:i},{x:a,y:s});if(c<=0)return{radius:c};var u=(n-a)/c,f=Math.acos(u);return i>s&&(f=2*Math.PI-f),{radius:c,angle:hge(f),angleInRadian:f}},gge=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},yge=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),c=Math.min(a,s);return e+c*360},$D=function(e,r){var n=e.x,i=e.y,a=pge({x:n,y:i},r),s=a.radius,c=a.angle,u=r.innerRadius,f=r.outerRadius;if(s<u||s>f)return!1;if(s===0)return!0;var m=gge(r),g=m.startAngle,v=m.endAngle,x=c,T;if(g<=v){for(;x>v;)x-=360;for(;x<g;)x+=360;T=x>=g&&x<=v}else{for(;x>g;)x-=360;for(;x<v;)x+=360;T=x>=v&&x<=g}return T?qo(qo({},r),{},{radius:s,angle:yge(x,r)}):null},QH=function(e){return!q.isValidElement(e)&&!kt(e)&&typeof e!="boolean"?e.className:""};function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}var vge=["offset"];function bge(t){return Sge(t)||_ge(t)||wge(t)||xge()}function xge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wge(t,e){if(t){if(typeof t=="string")return D7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D7(t,e)}}function _ge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sge(t){if(Array.isArray(t))return D7(t)}function D7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tge(t,e){if(t==null)return{};var r=Age(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Age(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(r),!0).forEach(function(n){Ege(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ege(t,e,r){return e=Nge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nge(t){var e=Oge(t,"string");return _p(e)=="symbol"?e:e+""}function Oge(t,e){if(_p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sp.apply(this,arguments)}var kge=function(e){var r=e.value,n=e.formatter,i=Pt(e.children)?r:e.children;return kt(n)?n(i):i},Cge=function(e,r){var n=Ns(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Ige=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,c=e.className,u=a,f=u.cx,m=u.cy,g=u.innerRadius,v=u.outerRadius,x=u.startAngle,T=u.endAngle,S=u.clockWise,_=(g+v)/2,C=Cge(x,T),I=C>=0?1:-1,P,V;i==="insideStart"?(P=x+I*s,V=S):i==="insideEnd"?(P=T-I*s,V=!S):i==="end"&&(P=T+I*s,V=S),V=C<=0?V:!V;var j=Cr(f,m,_,P),D=Cr(f,m,_,P+(V?1:-1)*359),A="M".concat(j.x,",").concat(j.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(V?0:1,`,
    `).concat(D.x,",").concat(D.y),N=Pt(e.id)?og("recharts-radial-line-"):e.id;return ne.createElement("text",Sp({},n,{dominantBaseline:"central",className:Bt("recharts-radial-bar-label",c)}),ne.createElement("defs",null,ne.createElement("path",{id:N,d:A})),ne.createElement("textPath",{xlinkHref:"#".concat(N)},r))},jge=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,c=a.cy,u=a.innerRadius,f=a.outerRadius,m=a.startAngle,g=a.endAngle,v=(m+g)/2;if(i==="outside"){var x=Cr(s,c,f+n,v),T=x.x,S=x.y;return{x:T,y:S,textAnchor:T>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"end"};var _=(u+f)/2,C=Cr(s,c,_,v),I=C.x,P=C.y;return{x:I,y:P,textAnchor:"middle",verticalAnchor:"middle"}},Rge=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,c=s.x,u=s.y,f=s.width,m=s.height,g=m>=0?1:-1,v=g*i,x=g>0?"end":"start",T=g>0?"start":"end",S=f>=0?1:-1,_=S*i,C=S>0?"end":"start",I=S>0?"start":"end";if(a==="top"){var P={x:c+f/2,y:u-g*i,textAnchor:"middle",verticalAnchor:x};return Bn(Bn({},P),n?{height:Math.max(u-n.y,0),width:f}:{})}if(a==="bottom"){var V={x:c+f/2,y:u+m+v,textAnchor:"middle",verticalAnchor:T};return Bn(Bn({},V),n?{height:Math.max(n.y+n.height-(u+m),0),width:f}:{})}if(a==="left"){var j={x:c-_,y:u+m/2,textAnchor:C,verticalAnchor:"middle"};return Bn(Bn({},j),n?{width:Math.max(j.x-n.x,0),height:m}:{})}if(a==="right"){var D={x:c+f+_,y:u+m/2,textAnchor:I,verticalAnchor:"middle"};return Bn(Bn({},D),n?{width:Math.max(n.x+n.width-D.x,0),height:m}:{})}var A=n?{width:f,height:m}:{};return a==="insideLeft"?Bn({x:c+_,y:u+m/2,textAnchor:I,verticalAnchor:"middle"},A):a==="insideRight"?Bn({x:c+f-_,y:u+m/2,textAnchor:C,verticalAnchor:"middle"},A):a==="insideTop"?Bn({x:c+f/2,y:u+v,textAnchor:"middle",verticalAnchor:T},A):a==="insideBottom"?Bn({x:c+f/2,y:u+m-v,textAnchor:"middle",verticalAnchor:x},A):a==="insideTopLeft"?Bn({x:c+_,y:u+v,textAnchor:I,verticalAnchor:T},A):a==="insideTopRight"?Bn({x:c+f-_,y:u+v,textAnchor:C,verticalAnchor:T},A):a==="insideBottomLeft"?Bn({x:c+_,y:u+m-v,textAnchor:I,verticalAnchor:x},A):a==="insideBottomRight"?Bn({x:c+f-_,y:u+m-v,textAnchor:C,verticalAnchor:x},A):$d(a)&&(Qe(a.x)||$u(a.x))&&(Qe(a.y)||$u(a.y))?Bn({x:c+Os(a.x,f),y:u+Os(a.y,m),textAnchor:"end",verticalAnchor:"end"},A):Bn({x:c+f/2,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Mge=function(e){return"cx"in e&&Qe(e.cx)};function hi(t){var e=t.offset,r=e===void 0?5:e,n=Tge(t,vge),i=Bn({offset:r},n),a=i.viewBox,s=i.position,c=i.value,u=i.children,f=i.content,m=i.className,g=m===void 0?"":m,v=i.textBreakAll;if(!a||Pt(c)&&Pt(u)&&!q.isValidElement(f)&&!kt(f))return null;if(q.isValidElement(f))return q.cloneElement(f,i);var x;if(kt(f)){if(x=q.createElement(f,i),q.isValidElement(x))return x}else x=kge(i);var T=Mge(a),S=xt(i,!0);if(T&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Ige(i,x,S);var _=T?jge(i):Rge(i);return ne.createElement(hd,Sp({className:Bt("recharts-label",g)},S,_,{breakAll:v}),x)}hi.displayName="Label";var ZH=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,c=e.r,u=e.radius,f=e.innerRadius,m=e.outerRadius,g=e.x,v=e.y,x=e.top,T=e.left,S=e.width,_=e.height,C=e.clockWise,I=e.labelViewBox;if(I)return I;if(Qe(S)&&Qe(_)){if(Qe(g)&&Qe(v))return{x:g,y:v,width:S,height:_};if(Qe(x)&&Qe(T))return{x,y:T,width:S,height:_}}return Qe(g)&&Qe(v)?{x:g,y:v,width:0,height:0}:Qe(r)&&Qe(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:m||u||c||0,clockWise:C}:e.viewBox?e.viewBox:{}},Pge=function(e,r){return e?e===!0?ne.createElement(hi,{key:"label-implicit",viewBox:r}):Un(e)?ne.createElement(hi,{key:"label-implicit",viewBox:r,value:e}):q.isValidElement(e)?e.type===hi?q.cloneElement(e,{key:"label-implicit",viewBox:r}):ne.createElement(hi,{key:"label-implicit",content:e,viewBox:r}):kt(e)?ne.createElement(hi,{key:"label-implicit",content:e,viewBox:r}):$d(e)?ne.createElement(hi,Sp({viewBox:r},e,{key:"label-implicit"})):null:null},Dge=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=ZH(e),s=Ra(i,hi).map(function(u,f){return q.cloneElement(u,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return s;var c=Pge(e.label,r||a);return[c].concat(bge(s))};hi.parseViewBox=ZH;hi.renderCallByParent=Dge;var b_,qD;function Lge(){if(qD)return b_;qD=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return b_=t,b_}var Bge=Lge();const JH=mr(Bge);function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}var Uge=["valueAccessor"],zge=["data","dataKey","clockWise","id","textBreakAll"];function Vge(t){return Hge(t)||qge(t)||Fge(t)||$ge()}function $ge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fge(t,e){if(t){if(typeof t=="string")return L7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L7(t,e)}}function qge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hge(t){if(Array.isArray(t))return L7(t)}function L7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zv.apply(this,arguments)}function HD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(r),!0).forEach(function(n){Gge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gge(t,e,r){return e=Kge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kge(t){var e=Wge(t,"string");return Tp(e)=="symbol"?e:e+""}function Wge(t,e){if(Tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KD(t,e){if(t==null)return{};var r=Xge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Yge=function(e){return Array.isArray(e.value)?JH(e.value):e.value};function ol(t){var e=t.valueAccessor,r=e===void 0?Yge:e,n=KD(t,Uge),i=n.data,a=n.dataKey,s=n.clockWise,c=n.id,u=n.textBreakAll,f=KD(n,zge);return!i||!i.length?null:ne.createElement(cr,{className:"recharts-label-list"},i.map(function(m,g){var v=Pt(a)?r(m,g):di(m&&m.payload,a),x=Pt(c)?{}:{id:"".concat(c,"-").concat(g)};return ne.createElement(hi,Zv({},xt(m,!0),f,x,{parentViewBox:m.parentViewBox,value:v,textBreakAll:u,viewBox:hi.parseViewBox(Pt(s)?m:GD(GD({},m),{},{clockWise:s})),key:"label-".concat(g),index:g}))}))}ol.displayName="LabelList";function Qge(t,e){return t?t===!0?ne.createElement(ol,{key:"labelList-implicit",data:e}):ne.isValidElement(t)||kt(t)?ne.createElement(ol,{key:"labelList-implicit",data:e,content:t}):$d(t)?ne.createElement(ol,Zv({data:e},t,{key:"labelList-implicit"})):null:null}function Zge(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ra(n,ol).map(function(s,c){return q.cloneElement(s,{data:e,key:"labelList-".concat(c)})});if(!r)return i;var a=Qge(t.label,e);return[a].concat(Vge(i))}ol.renderCallByParent=Zge;function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function B7(){return B7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B7.apply(this,arguments)}function WD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(r),!0).forEach(function(n){Jge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jge(t,e,r){return e=e1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e1e(t){var e=t1e(t,"string");return Ap(e)=="symbol"?e:e+""}function t1e(t,e){if(Ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r1e=function(e,r){var n=Ns(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},vy=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,c=e.isExternal,u=e.cornerRadius,f=e.cornerIsExternal,m=u*(c?1:-1)+i,g=Math.asin(u/m)/Qv,v=f?a:a+s*g,x=Cr(r,n,m,v),T=Cr(r,n,i,v),S=f?a-s*g:a,_=Cr(r,n,m*Math.cos(g*Qv),S);return{center:x,circleTangency:T,lineTangency:_,theta:g}},eG=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,c=e.endAngle,u=r1e(s,c),f=s+u,m=Cr(r,n,a,s),g=Cr(r,n,a,f),v="M ".concat(m.x,",").concat(m.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>f),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(i>0){var x=Cr(r,n,i,s),T=Cr(r,n,i,f);v+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},n1e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,c=e.forceCornerRadius,u=e.cornerIsExternal,f=e.startAngle,m=e.endAngle,g=Ns(m-f),v=vy({cx:r,cy:n,radius:a,angle:f,sign:g,cornerRadius:s,cornerIsExternal:u}),x=v.circleTangency,T=v.lineTangency,S=v.theta,_=vy({cx:r,cy:n,radius:a,angle:m,sign:-g,cornerRadius:s,cornerIsExternal:u}),C=_.circleTangency,I=_.lineTangency,P=_.theta,V=u?Math.abs(f-m):Math.abs(f-m)-S-P;if(V<0)return c?"M ".concat(T.x,",").concat(T.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):eG({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m});var j="M ".concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(g<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(I.x,",").concat(I.y,`
  `);if(i>0){var D=vy({cx:r,cy:n,radius:i,angle:f,sign:g,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),A=D.circleTangency,N=D.lineTangency,k=D.theta,$=vy({cx:r,cy:n,radius:i,angle:m,sign:-g,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),M=$.circleTangency,z=$.lineTangency,U=$.theta,Y=u?Math.abs(f-m):Math.abs(f-m)-k-U;if(Y<0&&s===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(z.x,",").concat(z.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Y>180),",").concat(+(g>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(N.x,",").concat(N.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},i1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tG=function(e){var r=XD(XD({},i1e),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,c=r.cornerRadius,u=r.forceCornerRadius,f=r.cornerIsExternal,m=r.startAngle,g=r.endAngle,v=r.className;if(s<a||m===g)return null;var x=Bt("recharts-sector",v),T=s-a,S=Os(c,T,0,!0),_;return S>0&&Math.abs(m-g)<360?_=n1e({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,T/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:g}):_=eG({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:m,endAngle:g}),ne.createElement("path",B7({},xt(r,!0),{className:x,d:_,role:"img"}))};function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function U7(){return U7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U7.apply(this,arguments)}function YD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(r),!0).forEach(function(n){a1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a1e(t,e,r){return e=s1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s1e(t){var e=o1e(t,"string");return Ep(e)=="symbol"?e:e+""}function o1e(t,e){if(Ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZD={curveBasisClosed:Nce,curveBasisOpen:Oce,curveBasis:Ece,curveBumpX:dce,curveBumpY:fce,curveLinearClosed:kce,curveLinear:Sx,curveMonotoneX:Cce,curveMonotoneY:Ice,curveNatural:jce,curveStep:Rce,curveStepAfter:Pce,curveStepBefore:Mce},by=function(e){return e.x===+e.x&&e.y===+e.y},am=function(e){return e.x},sm=function(e){return e.y},l1e=function(e,r){if(kt(e))return e;var n="curve".concat(wx(e));return(n==="curveMonotone"||n==="curveBump")&&r?ZD["".concat(n).concat(r==="vertical"?"Y":"X")]:ZD[n]||Sx},c1e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,c=e.layout,u=e.connectNulls,f=u===void 0?!1:u,m=l1e(n,c),g=f?a.filter(function(S){return by(S)}):a,v;if(Array.isArray(s)){var x=f?s.filter(function(S){return by(S)}):s,T=g.map(function(S,_){return QD(QD({},S),{},{base:x[_]})});return c==="vertical"?v=uy().y(sm).x1(am).x0(function(S){return S.base.x}):v=uy().x(am).y1(sm).y0(function(S){return S.base.y}),v.defined(by).curve(m),v(T)}return c==="vertical"&&Qe(s)?v=uy().y(sm).x1(am).x0(s):Qe(s)?v=uy().x(am).y1(sm).y0(s):v=JF().x(am).y(sm),v.defined(by).curve(m),v(g)},z7=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?c1e(e):i;return q.createElement("path",U7({},xt(e,!1),Av(e),{className:Bt("recharts-curve",r),d:s,ref:a}))},x_={exports:{}},w_,JD;function u1e(){if(JD)return w_;JD=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return w_=t,w_}var __,eL;function h1e(){if(eL)return __;eL=1;var t=u1e();function e(){}function r(){}return r.resetWarningCache=e,__=function(){function n(s,c,u,f,m,g){if(g!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},__}var tL;function d1e(){return tL||(tL=1,x_.exports=h1e()()),x_.exports}var f1e=d1e();const br=mr(f1e),{getOwnPropertyNames:m1e,getOwnPropertySymbols:p1e}=Object,{hasOwnProperty:g1e}=Object.prototype;function S_(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function xy(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,s=a.get(r),c=a.get(n);if(s&&c)return s===n&&c===r;a.set(r,n),a.set(n,r);const u=t(r,n,i);return a.delete(r),a.delete(n),u}}function y1e(t){return t!=null?t[Symbol.toStringTag]:void 0}function rL(t){return m1e(t).concat(p1e(t))}const v1e=Object.hasOwn||((t,e)=>g1e.call(t,e));function j0(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const b1e="__v",x1e="__o",w1e="_owner",{getOwnPropertyDescriptor:nL,keys:iL}=Object;function _1e(t,e){return t.byteLength===e.byteLength&&Jv(new Uint8Array(t),new Uint8Array(e))}function S1e(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function T1e(t,e){return t.byteLength===e.byteLength&&Jv(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function A1e(t,e){return j0(t.getTime(),e.getTime())}function E1e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function N1e(t,e){return t===e}function aL(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let s,c,u=0;for(;(s=a.next())&&!s.done;){const f=e.entries();let m=!1,g=0;for(;(c=f.next())&&!c.done;){if(i[g]){g++;continue}const v=s.value,x=c.value;if(r.equals(v[0],x[0],u,g,t,e,r)&&r.equals(v[1],x[1],v[0],x[0],t,e,r)){m=i[g]=!0;break}g++}if(!m)return!1;u++}return!0}const O1e=j0;function k1e(t,e,r){const n=iL(t);let i=n.length;if(iL(e).length!==i)return!1;for(;i-- >0;)if(!rG(t,e,r,n[i]))return!1;return!0}function om(t,e,r){const n=rL(t);let i=n.length;if(rL(e).length!==i)return!1;let a,s,c;for(;i-- >0;)if(a=n[i],!rG(t,e,r,a)||(s=nL(t,a),c=nL(e,a),(s||c)&&(!s||!c||s.configurable!==c.configurable||s.enumerable!==c.enumerable||s.writable!==c.writable)))return!1;return!0}function C1e(t,e){return j0(t.valueOf(),e.valueOf())}function I1e(t,e){return t.source===e.source&&t.flags===e.flags}function sL(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let s,c;for(;(s=a.next())&&!s.done;){const u=e.values();let f=!1,m=0;for(;(c=u.next())&&!c.done;){if(!i[m]&&r.equals(s.value,c.value,s.value,c.value,t,e,r)){f=i[m]=!0;break}m++}if(!f)return!1}return!0}function Jv(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function j1e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function rG(t,e,r,n){return(n===w1e||n===x1e||n===b1e)&&(t.$$typeof||e.$$typeof)?!0:v1e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const R1e="[object ArrayBuffer]",M1e="[object Arguments]",P1e="[object Boolean]",D1e="[object DataView]",L1e="[object Date]",B1e="[object Error]",U1e="[object Map]",z1e="[object Number]",V1e="[object Object]",$1e="[object RegExp]",F1e="[object Set]",q1e="[object String]",H1e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},G1e="[object URL]",K1e=Object.prototype.toString;function W1e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:c,areObjectsEqual:u,arePrimitiveWrappersEqual:f,areRegExpsEqual:m,areSetsEqual:g,areTypedArraysEqual:v,areUrlsEqual:x,unknownTagComparators:T}){return function(_,C,I){if(_===C)return!0;if(_==null||C==null)return!1;const P=typeof _;if(P!==typeof C)return!1;if(P!=="object")return P==="number"?c(_,C,I):P==="function"?a(_,C,I):!1;const V=_.constructor;if(V!==C.constructor)return!1;if(V===Object)return u(_,C,I);if(Array.isArray(_))return e(_,C,I);if(V===Date)return n(_,C,I);if(V===RegExp)return m(_,C,I);if(V===Map)return s(_,C,I);if(V===Set)return g(_,C,I);const j=K1e.call(_);if(j===L1e)return n(_,C,I);if(j===$1e)return m(_,C,I);if(j===U1e)return s(_,C,I);if(j===F1e)return g(_,C,I);if(j===V1e)return typeof _.then!="function"&&typeof C.then!="function"&&u(_,C,I);if(j===G1e)return x(_,C,I);if(j===B1e)return i(_,C,I);if(j===M1e)return u(_,C,I);if(H1e[j])return v(_,C,I);if(j===R1e)return t(_,C,I);if(j===D1e)return r(_,C,I);if(j===P1e||j===z1e||j===q1e)return f(_,C,I);if(T){let D=T[j];if(!D){const A=y1e(_);A&&(D=T[A])}if(D)return D(_,C,I)}return!1}}function X1e({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:_1e,areArraysEqual:r?om:S1e,areDataViewsEqual:T1e,areDatesEqual:A1e,areErrorsEqual:E1e,areFunctionsEqual:N1e,areMapsEqual:r?S_(aL,om):aL,areNumbersEqual:O1e,areObjectsEqual:r?om:k1e,arePrimitiveWrappersEqual:C1e,areRegExpsEqual:I1e,areSetsEqual:r?S_(sL,om):sL,areTypedArraysEqual:r?S_(Jv,om):Jv,areUrlsEqual:j1e,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=xy(n.areArraysEqual),a=xy(n.areMapsEqual),s=xy(n.areObjectsEqual),c=xy(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:c})}return n}function Y1e(t){return function(e,r,n,i,a,s,c){return t(e,r,c)}}function Q1e({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(c,u){const{cache:f=t?new WeakMap:void 0,meta:m}=r();return e(c,u,{cache:f,equals:n,meta:m,strict:i})};if(t)return function(c,u){return e(c,u,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(c,u){return e(c,u,a)}}const Z1e=Zc();Zc({strict:!0});Zc({circular:!0});Zc({circular:!0,strict:!0});Zc({createInternalComparator:()=>j0});Zc({strict:!0,createInternalComparator:()=>j0});Zc({circular:!0,createInternalComparator:()=>j0});Zc({circular:!0,createInternalComparator:()=>j0,strict:!0});function Zc(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=X1e(t),s=W1e(a),c=r?r(s):Y1e(s);return Q1e({circular:e,comparator:s,createState:n,equals:c,strict:i})}function J1e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function oL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):J1e(i)};requestAnimationFrame(n)}function V7(t){"@babel/helpers - typeof";return V7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V7(t)}function eye(t){return iye(t)||nye(t)||rye(t)||tye()}function tye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rye(t,e){if(t){if(typeof t=="string")return lL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lL(t,e)}}function lL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iye(t){if(Array.isArray(t))return t}function aye(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,c=eye(s),u=c[0],f=c.slice(1);if(typeof u=="number"){oL(i.bind(null,f),u);return}i(u),oL(i.bind(null,f));return}V7(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function cL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(r),!0).forEach(function(n){nG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nG(t,e,r){return e=sye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sye(t){var e=oye(t,"string");return Np(e)==="symbol"?e:String(e)}function oye(t,e){if(Np(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Np(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lye=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},cye=function(e){return e},uye=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Mm=function(e,r){return Object.keys(r).reduce(function(n,i){return uL(uL({},n),{},nG({},i,e(i,r[i])))},{})},hL=function(e,r,n){return e.map(function(i){return"".concat(uye(i)," ").concat(r,"ms ").concat(n)}).join(",")};function hye(t,e){return mye(t)||fye(t,e)||iG(t,e)||dye()}function dye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function mye(t){if(Array.isArray(t))return t}function pye(t){return vye(t)||yye(t)||iG(t)||gye()}function gye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iG(t,e){if(t){if(typeof t=="string")return $7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $7(t,e)}}function yye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vye(t){if(Array.isArray(t))return $7(t)}function $7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var eb=1e-4,aG=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},sG=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},dL=function(e,r){return function(n){var i=aG(e,r);return sG(i,n)}},bye=function(e,r){return function(n){var i=aG(e,r),a=[].concat(pye(i.map(function(s,c){return s*c}).slice(1)),[0]);return sG(a,n)}},fL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,c=1;break;case"ease":i=.25,a=.1,s=.25,c=1;break;case"ease-in":i=.42,a=0,s=1,c=1;break;case"ease-out":i=.42,a=0,s=.58,c=1;break;case"ease-in-out":i=0,a=0,s=.58,c=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var f=u[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),m=hye(f,4);i=m[0],a=m[1],s=m[2],c=m[3]}}}var g=dL(i,s),v=dL(a,c),x=bye(i,s),T=function(C){return C>1?1:C<0?0:C},S=function(C){for(var I=C>1?1:C,P=I,V=0;V<8;++V){var j=g(P)-I,D=x(P);if(Math.abs(j-I)<eb||D<eb)return v(P);P=T(P-j/D)}return v(P)};return S.isStepper=!1,S},xye=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,c=s===void 0?17:s,u=function(m,g,v){var x=-(m-g)*n,T=v*a,S=v+(x-T)*c/1e3,_=v*c/1e3+m;return Math.abs(_-g)<eb&&Math.abs(S)<eb?[g,0]:[_,S]};return u.isStepper=!0,u.dt=c,u},wye=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fL(i);case"spring":return xye();default:if(i.split("(")[0]==="cubic-bezier")return fL(i)}return typeof i=="function"?i:null};function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function mL(t){return Tye(t)||Sye(t)||oG(t)||_ye()}function _ye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tye(t){if(Array.isArray(t))return q7(t)}function pL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(r),!0).forEach(function(n){F7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F7(t,e,r){return e=Aye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aye(t){var e=Eye(t,"string");return Op(e)==="symbol"?e:String(e)}function Eye(t,e){if(Op(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Op(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nye(t,e){return Cye(t)||kye(t,e)||oG(t,e)||Oye()}function Oye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oG(t,e){if(t){if(typeof t=="string")return q7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q7(t,e)}}function q7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function Cye(t){if(Array.isArray(t))return t}var tb=function(e,r,n){return e+(r-e)*n},H7=function(e){var r=e.from,n=e.to;return r!==n},Iye=function t(e,r,n){var i=Mm(function(a,s){if(H7(s)){var c=e(s.from,s.to,s.velocity),u=Nye(c,2),f=u[0],m=u[1];return li(li({},s),{},{from:f,velocity:m})}return s},r);return n<1?Mm(function(a,s){return H7(s)?li(li({},s),{},{velocity:tb(s.velocity,i[a].velocity,n),from:tb(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const jye=(function(t,e,r,n,i){var a=lye(t,e),s=a.reduce(function(_,C){return li(li({},_),{},F7({},C,[t[C],e[C]]))},{}),c=a.reduce(function(_,C){return li(li({},_),{},F7({},C,{from:t[C],velocity:0,to:e[C]}))},{}),u=-1,f,m,g=function(){return null},v=function(){return Mm(function(C,I){return I.from},c)},x=function(){return!Object.values(c).filter(H7).length},T=function(C){f||(f=C);var I=C-f,P=I/r.dt;c=Iye(r,c,P),i(li(li(li({},t),e),v())),f=C,x()||(u=requestAnimationFrame(g))},S=function(C){m||(m=C);var I=(C-m)/n,P=Mm(function(j,D){return tb.apply(void 0,mL(D).concat([r(I)]))},s);if(i(li(li(li({},t),e),P)),I<1)u=requestAnimationFrame(g);else{var V=Mm(function(j,D){return tb.apply(void 0,mL(D).concat([r(1)]))},s);i(li(li(li({},t),e),V))}};return g=r.isStepper?T:S,function(){return requestAnimationFrame(g),function(){cancelAnimationFrame(u)}}});function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}var Rye=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Mye(t,e){if(t==null)return{};var r=Pye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pye(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function T_(t){return Uye(t)||Bye(t)||Lye(t)||Dye()}function Dye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lye(t,e){if(t){if(typeof t=="string")return G7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G7(t,e)}}function Bye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uye(t){if(Array.isArray(t))return G7(t)}function G7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(r),!0).forEach(function(n){xm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xm(t,e,r){return e=lG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lG(n.key),n)}}function $ye(t,e,r){return e&&Vye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lG(t){var e=Fye(t,"string");return gd(e)==="symbol"?e:String(e)}function Fye(t,e){if(gd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K7(t,e)}function K7(t,e){return K7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K7(t,e)}function Hye(t){var e=Gye();return function(){var n=rb(t),i;if(e){var a=rb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return W7(this,i)}}function W7(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X7(t)}function X7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rb(t){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rb(t)}var uo=(function(t){qye(r,t);var e=Hye(r);function r(n,i){var a;zye(this,r),a=e.call(this,n,i);var s=a.props,c=s.isActive,u=s.attributeName,f=s.from,m=s.to,g=s.steps,v=s.children,x=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(X7(a)),a.changeStyle=a.changeStyle.bind(X7(a)),!c||x<=0)return a.state={style:{}},typeof v=="function"&&(a.state={style:m}),W7(a);if(g&&g.length)a.state={style:g[0].style};else if(f){if(typeof v=="function")return a.state={style:f},W7(a);a.state={style:u?xm({},u,f):f}}else a.state={style:{}};return a}return $ye(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,c=a.canBegin,u=a.attributeName,f=a.shouldReAnimate,m=a.to,g=a.from,v=this.state.style;if(c){if(!s){var x={style:u?xm({},u,m):m};this.state&&v&&(u&&v[u]!==m||!u&&v!==m)&&this.setState(x);return}if(!(Z1e(i.to,m)&&i.canBegin&&i.isActive)){var T=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=T||f?g:i.to;if(this.state&&v){var _={style:u?xm({},u,S):S};(u&&v[u]!==S||!u&&v!==S)&&this.setState(_)}this.runAnimation(_s(_s({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,c=i.to,u=i.duration,f=i.easing,m=i.begin,g=i.onAnimationEnd,v=i.onAnimationStart,x=jye(s,c,wye(f),u,this.changeStyle),T=function(){a.stopJSAnimation=x()};this.manager.start([v,m,T,u,g])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,c=i.begin,u=i.onAnimationStart,f=s[0],m=f.style,g=f.duration,v=g===void 0?0:g,x=function(S,_,C){if(C===0)return S;var I=_.duration,P=_.easing,V=P===void 0?"ease":P,j=_.style,D=_.properties,A=_.onAnimationEnd,N=C>0?s[C-1]:_,k=D||Object.keys(j);if(typeof V=="function"||V==="spring")return[].concat(T_(S),[a.runJSAnimation.bind(a,{from:N.style,to:j,duration:I,easing:V}),I]);var $=hL(k,I,V),M=_s(_s(_s({},N.style),j),{},{transition:$});return[].concat(T_(S),[M,I,A]).filter(cye)};return this.manager.start([u].concat(T_(s.reduce(x,[m,Math.max(v,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=aye());var a=i.begin,s=i.duration,c=i.attributeName,u=i.to,f=i.easing,m=i.onAnimationStart,g=i.onAnimationEnd,v=i.steps,x=i.children,T=this.manager;if(this.unSubscribe=T.subscribe(this.handleStyleChange),typeof f=="function"||typeof x=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var S=c?xm({},c,u):u,_=hL(Object.keys(S),s,f);T.start([m,a,_s(_s({},S),{},{transition:_}),s,g])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=Mye(i,Rye),f=q.Children.count(a),m=this.state.style;if(typeof a=="function")return a(m);if(!c||f===0||s<=0)return a;var g=function(x){var T=x.props,S=T.style,_=S===void 0?{}:S,C=T.className,I=q.cloneElement(x,_s(_s({},u),{},{style:_s(_s({},_),m),className:C}));return I};return f===1?g(q.Children.only(a)):ne.createElement("div",null,q.Children.map(a,function(v){return g(v)}))}}]),r})(q.PureComponent);uo.displayName="Animate";uo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};uo.propTypes={from:br.oneOfType([br.object,br.string]),to:br.oneOfType([br.object,br.string]),attributeName:br.string,duration:br.number,begin:br.number,easing:br.oneOfType([br.string,br.func]),steps:br.arrayOf(br.shape({duration:br.number.isRequired,style:br.object.isRequired,easing:br.oneOfType([br.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),br.func]),properties:br.arrayOf("string"),onAnimationEnd:br.func})),children:br.oneOfType([br.node,br.func]),isActive:br.bool,canBegin:br.bool,onAnimationEnd:br.func,shouldReAnimate:br.bool,onAnimationStart:br.func,onAnimationReStart:br.func};function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function nb(){return nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nb.apply(this,arguments)}function Kye(t,e){return Qye(t)||Yye(t,e)||Xye(t,e)||Wye()}function Wye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xye(t,e){if(t){if(typeof t=="string")return yL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yL(t,e)}}function yL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function Qye(t){if(Array.isArray(t))return t}function vL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(r),!0).forEach(function(n){Zye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zye(t,e,r){return e=Jye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jye(t){var e=eve(t,"string");return kp(e)=="symbol"?e:e+""}function eve(t,e){if(kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xL=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),c=i>=0?1:-1,u=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,m;if(s>0&&a instanceof Array){for(var g=[0,0,0,0],v=0,x=4;v<x;v++)g[v]=a[v]>s?s:a[v];m="M".concat(e,",").concat(r+c*g[0]),g[0]>0&&(m+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(f,",").concat(e+u*g[0],",").concat(r)),m+="L ".concat(e+n-u*g[1],",").concat(r),g[1]>0&&(m+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+c*g[1])),m+="L ".concat(e+n,",").concat(r+i-c*g[2]),g[2]>0&&(m+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(f,`,
        `).concat(e+n-u*g[2],",").concat(r+i)),m+="L ".concat(e+u*g[3],",").concat(r+i),g[3]>0&&(m+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-c*g[3])),m+="Z"}else if(s>0&&a===+a&&a>0){var T=Math.min(s,a);m="M ".concat(e,",").concat(r+c*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(f,",").concat(e+u*T,",").concat(r,`
            L `).concat(e+n-u*T,",").concat(r,`
            A `).concat(T,",").concat(T,",0,0,").concat(f,",").concat(e+n,",").concat(r+c*T,`
            L `).concat(e+n,",").concat(r+i-c*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(f,",").concat(e+n-u*T,",").concat(r+i,`
            L `).concat(e+u*T,",").concat(r+i,`
            A `).concat(T,",").concat(T,",0,0,").concat(f,",").concat(e,",").concat(r+i-c*T," Z")}else m="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return m},tve=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,c=r.width,u=r.height;if(Math.abs(c)>0&&Math.abs(u)>0){var f=Math.min(a,a+c),m=Math.max(a,a+c),g=Math.min(s,s+u),v=Math.max(s,s+u);return n>=f&&n<=m&&i>=g&&i<=v}return!1},rve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rE=function(e){var r=bL(bL({},rve),e),n=q.useRef(),i=q.useState(-1),a=Kye(i,2),s=a[0],c=a[1];q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&c(V)}catch{}},[]);var u=r.x,f=r.y,m=r.width,g=r.height,v=r.radius,x=r.className,T=r.animationEasing,S=r.animationDuration,_=r.animationBegin,C=r.isAnimationActive,I=r.isUpdateAnimationActive;if(u!==+u||f!==+f||m!==+m||g!==+g||m===0||g===0)return null;var P=Bt("recharts-rectangle",x);return I?ne.createElement(uo,{canBegin:s>0,from:{width:m,height:g,x:u,y:f},to:{width:m,height:g,x:u,y:f},duration:S,animationEasing:T,isActive:I},function(V){var j=V.width,D=V.height,A=V.x,N=V.y;return ne.createElement(uo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:S,isActive:C,easing:T},ne.createElement("path",nb({},xt(r,!0),{className:P,d:xL(A,N,j,D,v),ref:n})))}):ne.createElement("path",nb({},xt(r,!0),{className:P,d:xL(u,f,m,g,v)}))},nve=["points","className","baseLinePoints","connectNulls"];function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ph.apply(this,arguments)}function ive(t,e){if(t==null)return{};var r=ave(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ave(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wL(t){return cve(t)||lve(t)||ove(t)||sve()}function sve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ove(t,e){if(t){if(typeof t=="string")return Y7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y7(t,e)}}function lve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cve(t){if(Array.isArray(t))return Y7(t)}function Y7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _L=function(e){return e&&e.x===+e.x&&e.y===+e.y},uve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){_L(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),_L(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Pm=function(e,r){var n=uve(e);r&&(n=[n.reduce(function(a,s){return[].concat(wL(a),wL(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,c,u){return"".concat(s).concat(u===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},hve=function(e,r,n){var i=Pm(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Pm(r.reverse(),n).slice(1))},cG=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=ive(e,nve);if(!r||!r.length)return null;var c=Bt("recharts-polygon",n);if(i&&i.length){var u=s.stroke&&s.stroke!=="none",f=hve(r,i,a);return ne.createElement("g",{className:c},ne.createElement("path",Ph({},xt(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),u?ne.createElement("path",Ph({},xt(s,!0),{fill:"none",d:Pm(r,a)})):null,u?ne.createElement("path",Ph({},xt(s,!0),{fill:"none",d:Pm(i,a)})):null)}var m=Pm(r,a);return ne.createElement("path",Ph({},xt(s,!0),{fill:m.slice(-1)==="Z"?s.fill:"none",className:c,d:m}))};function Q7(){return Q7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q7.apply(this,arguments)}var zx=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=Bt("recharts-dot",a);return r===+r&&n===+n&&i===+i?q.createElement("circle",Q7({},xt(e,!1),Av(e),{className:s,cx:r,cy:n,r:i})):null};function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}var dve=["x","y","top","left","width","height","className"];function Z7(){return Z7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z7.apply(this,arguments)}function SL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(r),!0).forEach(function(n){mve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mve(t,e,r){return e=pve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pve(t){var e=gve(t,"string");return Cp(e)=="symbol"?e:e+""}function gve(t,e){if(Cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yve(t,e){if(t==null)return{};var r=vve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bve=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},xve=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,c=s===void 0?0:s,u=e.left,f=u===void 0?0:u,m=e.width,g=m===void 0?0:m,v=e.height,x=v===void 0?0:v,T=e.className,S=yve(e,dve),_=fve({x:n,y:a,top:c,left:f,width:g,height:x},S);return!Qe(n)||!Qe(a)||!Qe(g)||!Qe(x)||!Qe(c)||!Qe(f)?null:ne.createElement("path",Z7({},xt(_,!0),{className:Bt("recharts-cross",T),d:bve(n,a,g,x,c,f)}))},wve=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function _ve(t,e){if(t==null)return{};var r=Sve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vl.apply(this,arguments)}function TL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(r),!0).forEach(function(n){Tve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tve(t,e,r){return e=Ave(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ave(t){var e=Eve(t,"string");return Ip(e)=="symbol"?e:e+""}function Eve(t,e){if(Ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nve=function(e,r,n,i){var a="";return i.forEach(function(s,c){var u=Cr(r,n,e,s);c?a+="L ".concat(u.x,",").concat(u.y):a+="M ".concat(u.x,",").concat(u.y)}),a+="Z",a},Ove=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.polarAngles,c=e.radialLines;if(!s||!s.length||!c)return null;var u=jp({stroke:"#ccc"},xt(e,!1));return ne.createElement("g",{className:"recharts-polar-grid-angle"},s.map(function(f){var m=Cr(r,n,i,f),g=Cr(r,n,a,f);return ne.createElement("line",vl({},u,{key:"line-".concat(f),x1:m.x,y1:m.y,x2:g.x,y2:g.y}))}))},kve=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.index,s=jp(jp({stroke:"#ccc"},xt(e,!1)),{},{fill:"none"});return ne.createElement("circle",vl({},s,{className:Bt("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:r,cy:n,r:i}))},Cve=function(e){var r=e.radius,n=e.index,i=jp(jp({stroke:"#ccc"},xt(e,!1)),{},{fill:"none"});return ne.createElement("path",vl({},i,{className:Bt("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(n),d:Nve(r,e.cx,e.cy,e.polarAngles)}))},Ive=function(e){var r=e.polarRadius,n=e.gridType;return!r||!r.length?null:ne.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,a){var s=a;return n==="circle"?ne.createElement(kve,vl({key:s},e,{radius:i,index:a})):ne.createElement(Cve,vl({key:s},e,{radius:i,index:a}))}))},uG=function(e){var r=e.cx,n=r===void 0?0:r,i=e.cy,a=i===void 0?0:i,s=e.innerRadius,c=s===void 0?0:s,u=e.outerRadius,f=u===void 0?0:u,m=e.gridType,g=m===void 0?"polygon":m,v=e.radialLines,x=v===void 0?!0:v,T=_ve(e,wve);return f<=0?null:ne.createElement("g",{className:"recharts-polar-grid"},ne.createElement(Ove,vl({cx:n,cy:a,innerRadius:c,outerRadius:f,gridType:g,radialLines:x},T)),ne.createElement(Ive,vl({cx:n,cy:a,innerRadius:c,outerRadius:f,gridType:g,radialLines:x},T)))};uG.displayName="PolarGrid";var A_,AL;function jve(){if(AL)return A_;AL=1;var t=Px(),e=SH(),r=vo();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return A_=n,A_}var Rve=jve();const Mve=mr(Rve);var E_,EL;function Pve(){if(EL)return E_;EL=1;var t=Px(),e=vo(),r=TH();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return E_=n,E_}var Dve=Pve();const Lve=mr(Dve);var Bve=["cx","cy","angle","ticks","axisLine"],Uve=["ticks","tick","angle","tickFormatter","stroke"];function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dm.apply(this,arguments)}function NL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(r),!0).forEach(function(n){Vx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OL(t,e){if(t==null)return{};var r=zve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dG(n.key),n)}}function $ve(t,e,r){return e&&kL(t.prototype,e),r&&kL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fve(t,e,r){return e=ib(e),qve(t,hG()?Reflect.construct(e,r||[],ib(t).constructor):e.apply(t,r))}function qve(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hve(t)}function Hve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hG=function(){return!!t})()}function ib(t){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ib(t)}function Gve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J7(t,e)}function J7(t,e){return J7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J7(t,e)}function Vx(t,e,r){return e=dG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dG(t){var e=Kve(t,"string");return yd(e)=="symbol"?e:e+""}function Kve(t,e){if(yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pg=(function(t){function e(){return Vve(this,e),Fve(this,e,arguments)}return Gve(e,t),$ve(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,c=a.cx,u=a.cy;return Cr(c,u,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,c=n.ticks,u=Mve(c,function(m){return m.coordinate||0}),f=Lve(c,function(m){return m.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,c=n.ticks,u=n.axisLine,f=OL(n,Bve),m=c.reduce(function(T,S){return[Math.min(T[0],S.coordinate),Math.max(T[1],S.coordinate)]},[1/0,-1/0]),g=Cr(i,a,m[0],s),v=Cr(i,a,m[1],s),x=Cu(Cu(Cu({},xt(f,!1)),{},{fill:"none"},xt(u,!1)),{},{x1:g.x,y1:g.y,x2:v.x,y2:v.y});return ne.createElement("line",Dm({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,c=i.angle,u=i.tickFormatter,f=i.stroke,m=OL(i,Uve),g=this.getTickTextAnchor(),v=xt(m,!1),x=xt(s,!1),T=a.map(function(S,_){var C=n.getTickValueCoord(S),I=Cu(Cu(Cu(Cu({textAnchor:g,transform:"rotate(".concat(90-c,", ").concat(C.x,", ").concat(C.y,")")},v),{},{stroke:"none",fill:f},x),{},{index:_},C),{},{payload:S});return ne.createElement(cr,Dm({className:Bt("recharts-polar-radius-axis-tick",QH(s)),key:"tick-".concat(S.coordinate)},p0(n.props,S,_)),e.renderTickItem(s,I,u?u(S.value,_):S.value))});return ne.createElement(cr,{className:"recharts-polar-radius-axis-ticks"},T)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:ne.createElement(cr,{className:Bt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),hi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return ne.isValidElement(n)?s=ne.cloneElement(n,i):kt(n)?s=n(i):s=ne.createElement(hd,Dm({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])})(q.PureComponent);Vx(pg,"displayName","PolarRadiusAxis");Vx(pg,"axisType","radiusAxis");Vx(pg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zu.apply(this,arguments)}function CL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Iu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(r),!0).forEach(function(n){$x(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mG(n.key),n)}}function Xve(t,e,r){return e&&IL(t.prototype,e),r&&IL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yve(t,e,r){return e=ab(e),Qve(t,fG()?Reflect.construct(e,r||[],ab(t).constructor):e.apply(t,r))}function Qve(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zve(t)}function Zve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fG=function(){return!!t})()}function ab(t){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ab(t)}function Jve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eT(t,e)}function eT(t,e){return eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eT(t,e)}function $x(t,e,r){return e=mG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mG(t){var e=ebe(t,"string");return vd(e)=="symbol"?e:e+""}function ebe(t,e){if(vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tbe=Math.PI/180,jL=1e-5,gg=(function(t){function e(){return Wve(this,e),Yve(this,e,arguments)}return Jve(e,t),Xve(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,c=i.radius,u=i.orientation,f=i.tickSize,m=f||8,g=Cr(a,s,c,n.coordinate),v=Cr(a,s,c+(u==="inner"?-1:1)*m,n.coordinate);return{x1:g.x,y1:g.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*tbe),s;return a>jL?s=i==="outer"?"start":"end":a<-jL?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,c=n.axisLine,u=n.axisLineType,f=Iu(Iu({},xt(this.props,!1)),{},{fill:"none"},xt(c,!1));if(u==="circle")return ne.createElement(zx,zu({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:s}));var m=this.props.ticks,g=m.map(function(v){return Cr(i,a,s,v.coordinate)});return ne.createElement(cG,zu({className:"recharts-polar-angle-axis-line"},f,{points:g}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,c=i.tickLine,u=i.tickFormatter,f=i.stroke,m=xt(this.props,!1),g=xt(s,!1),v=Iu(Iu({},m),{},{fill:"none"},xt(c,!1)),x=a.map(function(T,S){var _=n.getTickLineCoord(T),C=n.getTickTextAnchor(T),I=Iu(Iu(Iu({textAnchor:C},m),{},{stroke:"none",fill:f},g),{},{index:S,payload:T,x:_.x2,y:_.y2});return ne.createElement(cr,zu({className:Bt("recharts-polar-angle-axis-tick",QH(s)),key:"tick-".concat(T.coordinate)},p0(n.props,T,S)),c&&ne.createElement("line",zu({className:"recharts-polar-angle-axis-tick-line"},v,_)),s&&e.renderTickItem(s,I,u?u(T.value,S):T.value))});return ne.createElement(cr,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:ne.createElement(cr,{className:Bt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return ne.isValidElement(n)?s=ne.cloneElement(n,i):kt(n)?s=n(i):s=ne.createElement(hd,zu({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])})(q.PureComponent);$x(gg,"displayName","PolarAngleAxis");$x(gg,"axisType","angleAxis");$x(gg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var N_,RL;function rbe(){if(RL)return N_;RL=1;var t=_q(),e=t(Object.getPrototypeOf,Object);return N_=e,N_}var O_,ML;function nbe(){if(ML)return O_;ML=1;var t=_l(),e=rbe(),r=Sl(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,c=a.hasOwnProperty,u=s.call(Object);function f(m){if(!r(m)||t(m)!=n)return!1;var g=e(m);if(g===null)return!0;var v=c.call(g,"constructor")&&g.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==u}return O_=f,O_}var ibe=nbe();const abe=mr(ibe);var k_,PL;function sbe(){if(PL)return k_;PL=1;var t=_l(),e=Sl(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return k_=n,k_}var obe=sbe();const lbe=mr(obe);function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sb.apply(this,arguments)}function cbe(t,e){return fbe(t)||dbe(t,e)||hbe(t,e)||ube()}function ube(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hbe(t,e){if(t){if(typeof t=="string")return DL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DL(t,e)}}function DL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function fbe(t){if(Array.isArray(t))return t}function LL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(r),!0).forEach(function(n){mbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mbe(t,e,r){return e=pbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pbe(t){var e=gbe(t,"string");return Rp(e)=="symbol"?e:e+""}function gbe(t,e){if(Rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UL=function(e,r,n,i,a){var s=n-i,c;return c="M ".concat(e,",").concat(r),c+="L ".concat(e+n,",").concat(r),c+="L ".concat(e+n-s/2,",").concat(r+a),c+="L ".concat(e+n-s/2-i,",").concat(r+a),c+="L ".concat(e,",").concat(r," Z"),c},ybe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vbe=function(e){var r=BL(BL({},ybe),e),n=q.useRef(),i=q.useState(-1),a=cbe(i,2),s=a[0],c=a[1];q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&c(P)}catch{}},[]);var u=r.x,f=r.y,m=r.upperWidth,g=r.lowerWidth,v=r.height,x=r.className,T=r.animationEasing,S=r.animationDuration,_=r.animationBegin,C=r.isUpdateAnimationActive;if(u!==+u||f!==+f||m!==+m||g!==+g||v!==+v||m===0&&g===0||v===0)return null;var I=Bt("recharts-trapezoid",x);return C?ne.createElement(uo,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:u,y:f},to:{upperWidth:m,lowerWidth:g,height:v,x:u,y:f},duration:S,animationEasing:T,isActive:C},function(P){var V=P.upperWidth,j=P.lowerWidth,D=P.height,A=P.x,N=P.y;return ne.createElement(uo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:S,easing:T},ne.createElement("path",sb({},xt(r,!0),{className:I,d:UL(A,N,V,j,D),ref:n})))}):ne.createElement("g",null,ne.createElement("path",sb({},xt(r,!0),{className:I,d:UL(u,f,m,g,v)})))},bbe=["option","shapeType","propTransformer","activeClassName","isActive"];function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function xbe(t,e){if(t==null)return{};var r=wbe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ob(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(r),!0).forEach(function(n){_be(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _be(t,e,r){return e=Sbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sbe(t){var e=Tbe(t,"string");return Mp(e)=="symbol"?e:e+""}function Tbe(t,e){if(Mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Abe(t,e){return ob(ob({},e),t)}function Ebe(t,e){return t==="symbols"}function VL(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ne.createElement(rE,r);case"trapezoid":return ne.createElement(vbe,r);case"sector":return ne.createElement(tG,r);case"symbols":if(Ebe(e))return ne.createElement(Ax,r);break;default:return null}}function Nbe(t){return q.isValidElement(t)?t.props:t}function tT(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Abe:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,c=t.isActive,u=xbe(t,bbe),f;if(q.isValidElement(e))f=q.cloneElement(e,ob(ob({},u),Nbe(e)));else if(kt(e))f=e(u);else if(abe(e)&&!lbe(e)){var m=i(e,u);f=ne.createElement(VL,{shapeType:r,elementProps:m})}else{var g=u;f=ne.createElement(VL,{shapeType:r,elementProps:g})}return c?ne.createElement(cr,{className:s},f):f}function Fx(t,e){return e!=null&&"trapezoids"in t.props}function qx(t,e){return e!=null&&"sectors"in t.props}function Pp(t,e){return e!=null&&"points"in t.props}function Obe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function kbe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Cbe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Ibe(t,e){var r;return Fx(t,e)?r=Obe:qx(t,e)?r=kbe:Pp(t,e)&&(r=Cbe),r}function jbe(t,e){var r;return Fx(t,e)?r="trapezoids":qx(t,e)?r="sectors":Pp(t,e)&&(r="points"),r}function Rbe(t,e){if(Fx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(qx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Pp(t,e)?e.payload:{}}function Mbe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=jbe(r,e),a=Rbe(r,e),s=n.filter(function(u,f){var m=fg(a,u),g=r.props[i].filter(function(T){var S=Ibe(r,e);return S(T,e)}),v=r.props[i].indexOf(g[g.length-1]),x=f===v;return m&&x}),c=n.indexOf(s[s.length-1]);return c}var C_,$L;function Pbe(){if($L)return C_;$L=1;function t(e){return e&&e.length?e[0]:void 0}return C_=t,C_}var I_,FL;function Dbe(){return FL||(FL=1,I_=Pbe()),I_}var Lbe=Dbe();const Bbe=mr(Lbe);var Ube=["key"];function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function zbe(t,e){if(t==null)return{};var r=Vbe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lb.apply(this,arguments)}function qL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(r),!0).forEach(function(n){Ko(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gG(n.key),n)}}function Fbe(t,e,r){return e&&HL(t.prototype,e),r&&HL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qbe(t,e,r){return e=cb(e),Hbe(t,pG()?Reflect.construct(e,r||[],cb(t).constructor):e.apply(t,r))}function Hbe(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gbe(t)}function Gbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pG=function(){return!!t})()}function cb(t){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cb(t)}function Kbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rT(t,e)}function rT(t,e){return rT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rT(t,e)}function Ko(t,e,r){return e=gG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gG(t){var e=Wbe(t,"string");return bd(e)=="symbol"?e:e+""}function Wbe(t,e){if(bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yg=(function(t){function e(){var r;$be(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=qbe(this,e,[].concat(i)),Ko(r,"state",{isAnimationFinished:!1}),Ko(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),kt(s)&&s()}),Ko(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),kt(s)&&s()}),Ko(r,"handleMouseEnter",function(s){var c=r.props.onMouseEnter;c&&c(r.props,s)}),Ko(r,"handleMouseLeave",function(s){var c=r.props.onMouseLeave;c&&c(r.props,s)}),r}return Kbe(e,t),Fbe(e,[{key:"renderDots",value:function(n){var i=this.props,a=i.dot,s=i.dataKey,c=xt(this.props,!1),u=xt(a,!0),f=n.map(function(m,g){var v=Ui(Ui(Ui({key:"dot-".concat(g),r:3},c),u),{},{dataKey:s,cx:m.x,cy:m.y,index:g,payload:m});return e.renderDotItem(a,v)});return ne.createElement(cr,{className:"recharts-radar-dots"},f)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,a=i.shape,s=i.dot,c=i.isRange,u=i.baseLinePoints,f=i.connectNulls,m;return ne.isValidElement(a)?m=ne.cloneElement(a,Ui(Ui({},this.props),{},{points:n})):kt(a)?m=a(Ui(Ui({},this.props),{},{points:n})):m=ne.createElement(cG,lb({},xt(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:c?u:null,connectNulls:f})),ne.createElement(cr,{className:"recharts-radar-polygon"},m,s?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,a=i.points,s=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,m=i.animationId,g=this.state.prevPoints;return ne.createElement(uo,{begin:c,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"radar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t,T=g&&g.length/a.length,S=a.map(function(_,C){var I=g&&g[Math.floor(C*T)];if(I){var P=sa(I.x,_.x),V=sa(I.y,_.y);return Ui(Ui({},_),{},{x:P(x),y:V(x)})}var j=sa(_.cx,_.x),D=sa(_.cy,_.y);return Ui(Ui({},_),{},{x:j(x),y:D(x)})});return n.renderPolygonStatically(S)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,s=n.isRange,c=this.state.prevPoints;return a&&i&&i.length&&!s&&(!c||!fg(c,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.className,s=n.points,c=n.isAnimationActive;if(i||!s||!s.length)return null;var u=this.state.isAnimationFinished,f=Bt("recharts-radar",a);return ne.createElement(cr,{className:f},this.renderPolygon(),(!c||u)&&ol.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var a;if(ne.isValidElement(n))a=ne.cloneElement(n,i);else if(kt(n))a=n(i);else{var s=i.key,c=zbe(i,Ube);a=ne.createElement(zx,lb({},c,{key:s,className:Bt("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return a}}])})(q.PureComponent);Ko(yg,"displayName","Radar");Ko(yg,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!k0.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ko(yg,"getComposedData",function(t){var e=t.radiusAxis,r=t.angleAxis,n=t.displayedData,i=t.dataKey,a=t.bandSize,s=r.cx,c=r.cy,u=!1,f=[],m=r.type!=="number"?a??0:0;n.forEach(function(v,x){var T=di(v,r.dataKey,x),S=di(v,i),_=r.scale(T)+m,C=Array.isArray(S)?JH(S):S,I=Pt(C)?void 0:e.scale(C);Array.isArray(S)&&S.length>=2&&(u=!0),f.push(Ui(Ui({},Cr(s,c,I,_)),{},{name:T,value:S,cx:s,cy:c,radius:I,angle:_,payload:v}))});var g=[];return u&&f.forEach(function(v){if(Array.isArray(v.value)){var x=Bbe(v.value),T=Pt(x)?void 0:e.scale(x);g.push(Ui(Ui({},v),{},{radius:T},Cr(s,c,T,v.angle)))}else g.push(v)}),{points:f,isRange:u,baseLinePoints:g}});var j_,GL;function Xbe(){if(GL)return j_;GL=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var c=-1,u=e(t((i-n)/(a||1)),0),f=Array(u);u--;)f[s?u:++c]=n,n+=a;return f}return j_=r,j_}var R_,KL;function yG(){if(KL)return R_;KL=1;var t=Bq(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return R_=n,R_}var M_,WL;function Ybe(){if(WL)return M_;WL=1;var t=Xbe(),e=Ox(),r=yG();function n(i){return function(a,s,c){return c&&typeof c!="number"&&e(a,s,c)&&(s=c=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),c=c===void 0?a<s?1:-1:r(c),t(a,s,c,i)}}return M_=n,M_}var P_,XL;function Qbe(){if(XL)return P_;XL=1;var t=Ybe(),e=t();return P_=e,P_}var Zbe=Qbe();const ub=mr(Zbe);function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function YL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(r),!0).forEach(function(n){vG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vG(t,e,r){return e=Jbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jbe(t){var e=exe(t,"string");return Dp(e)=="symbol"?e:e+""}function exe(t,e){if(Dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var txe=["Webkit","Moz","O","ms"],rxe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=txe.reduce(function(a,s){return QL(QL({},a),{},vG({},s+n,r))},{});return i[e]=r,i};function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hb.apply(this,arguments)}function ZL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(r),!0).forEach(function(n){Ta(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xG(n.key),n)}}function ixe(t,e,r){return e&&JL(t.prototype,e),r&&JL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function axe(t,e,r){return e=db(e),sxe(t,bG()?Reflect.construct(e,r||[],db(t).constructor):e.apply(t,r))}function sxe(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oxe(t)}function oxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bG=function(){return!!t})()}function db(t){return db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},db(t)}function lxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nT(t,e)}function nT(t,e){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nT(t,e)}function Ta(t,e,r){return e=xG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xG(t){var e=cxe(t,"string");return xd(e)=="symbol"?e:e+""}function cxe(t,e){if(xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uxe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,c=e.travellerWidth;if(!r||!r.length)return{};var u=r.length,f=jm().domain(ub(0,u)).range([a,a+s-c]),m=f.domain().map(function(g){return f(g)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:m}},eB=function(e){return e.changedTouches&&!!e.changedTouches.length},wd=(function(t){function e(r){var n;return nxe(this,e),n=axe(this,e,[r]),Ta(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ta(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ta(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,c=i.startIndex;s==null||s({endIndex:a,startIndex:c})}),n.detachDragEndListener()}),Ta(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ta(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ta(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ta(n,"handleSlideDragStart",function(i){var a=eB(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return lxe(e,t),ixe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,c=this.props,u=c.gap,f=c.data,m=f.length-1,g=Math.min(i,a),v=Math.max(i,a),x=e.getIndexInRange(s,g),T=e.getIndexInRange(s,v);return{startIndex:x-x%u,endIndex:T===m?m:T-T%u}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,c=i.dataKey,u=di(a[n],c,n);return kt(s)?s(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,c=i.endX,u=this.props,f=u.x,m=u.width,g=u.travellerWidth,v=u.startIndex,x=u.endIndex,T=u.onChange,S=n.pageX-a;S>0?S=Math.min(S,f+m-g-c,f+m-g-s):S<0&&(S=Math.max(S,f-s,f-c));var _=this.getIndex({startX:s+S,endX:c+S});(_.startIndex!==v||_.endIndex!==x)&&T&&T(_),this.setState({startX:s+S,endX:c+S,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=eB(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,c=i.endX,u=i.startX,f=this.state[s],m=this.props,g=m.x,v=m.width,x=m.travellerWidth,T=m.onChange,S=m.gap,_=m.data,C={startX:this.state.startX,endX:this.state.endX},I=n.pageX-a;I>0?I=Math.min(I,g+v-x-f):I<0&&(I=Math.max(I,g-f)),C[s]=f+I;var P=this.getIndex(C),V=P.startIndex,j=P.endIndex,D=function(){var N=_.length-1;return s==="startX"&&(c>u?V%S===0:j%S===0)||c<u&&j===N||s==="endX"&&(c>u?j%S===0:V%S===0)||c>u&&j===N};this.setState(Ta(Ta({},s,f+I),"brushMoveStartX",n.pageX),function(){T&&D()&&T(P)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,c=s.scaleValues,u=s.startX,f=s.endX,m=this.state[i],g=c.indexOf(m);if(g!==-1){var v=g+n;if(!(v===-1||v>=c.length)){var x=c[v];i==="startX"&&x>=f||i==="endX"&&x<=u||this.setState(Ta({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,c=n.height,u=n.fill,f=n.stroke;return ne.createElement("rect",{stroke:f,fill:u,x:i,y:a,width:s,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,c=n.height,u=n.data,f=n.children,m=n.padding,g=q.Children.only(f);return g?ne.cloneElement(g,{x:i,y:a,width:s,height:c,margin:m,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,c=this,u=this.props,f=u.y,m=u.travellerWidth,g=u.height,v=u.traveller,x=u.ariaLabel,T=u.data,S=u.startIndex,_=u.endIndex,C=Math.max(n,this.props.x),I=D_(D_({},xt(this.props,!1)),{},{x:C,y:f,width:m,height:g}),P=x||"Min value: ".concat((a=T[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=T[_])===null||s===void 0?void 0:s.name);return ne.createElement(cr,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),c.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,I))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,c=a.height,u=a.stroke,f=a.travellerWidth,m=Math.min(n,i)+f,g=Math.max(Math.abs(i-n)-f,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:m,y:s,width:g,height:c})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,c=n.height,u=n.travellerWidth,f=n.stroke,m=this.state,g=m.startX,v=m.endX,x=5,T={pointerEvents:"none",fill:f};return ne.createElement(cr,{className:"recharts-brush-texts"},ne.createElement(hd,hb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,v)-x,y:s+c/2},T),this.getTextOfTick(i)),ne.createElement(hd,hb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,v)+u+x,y:s+c/2},T),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,c=n.x,u=n.y,f=n.width,m=n.height,g=n.alwaysShowText,v=this.state,x=v.startX,T=v.endX,S=v.isTextActive,_=v.isSlideMoving,C=v.isTravellerMoving,I=v.isTravellerFocused;if(!i||!i.length||!Qe(c)||!Qe(u)||!Qe(f)||!Qe(m)||f<=0||m<=0)return null;var P=Bt("recharts-brush",a),V=ne.Children.count(s)===1,j=rxe("userSelect","none");return ne.createElement(cr,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),V&&this.renderPanorama(),this.renderSlide(x,T),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(T,"endX"),(S||_||C||I||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,c=n.height,u=n.stroke,f=Math.floor(a+c/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:i,y:a,width:s,height:c,fill:u,stroke:"none"}),ne.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return ne.isValidElement(n)?a=ne.cloneElement(n,i):kt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,c=n.x,u=n.travellerWidth,f=n.updateId,m=n.startIndex,g=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return D_({prevData:a,prevTravellerWidth:u,prevUpdateId:f,prevX:c,prevWidth:s},a&&a.length?uxe({data:a,width:s,x:c,travellerWidth:u,startIndex:m,endIndex:g}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||c!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([c,c+s-u]);var v=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:u,prevUpdateId:f,prevX:c,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,c=a-1;c-s>1;){var u=Math.floor((s+c)/2);n[u]>i?c=u:s=u}return i>=n[c]?c:s}}])})(q.PureComponent);Ta(wd,"displayName","Brush");Ta(wd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var L_,tB;function hxe(){if(tB)return L_;tB=1;var t=NA();function e(r,n){var i;return t(r,function(a,s,c){return i=n(a,s,c),!i}),!!i}return L_=e,L_}var B_,rB;function dxe(){if(rB)return B_;rB=1;var t=pq(),e=vo(),r=hxe(),n=da(),i=Ox();function a(s,c,u){var f=n(s)?t:r;return u&&i(s,c,u)&&(c=void 0),f(s,e(c,3))}return B_=a,B_}var fxe=dxe();const mxe=mr(fxe);var io=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},U_,nB;function pxe(){if(nB)return U_;nB=1;var t=Rq();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return U_=e,U_}var z_,iB;function gxe(){if(iB)return z_;iB=1;var t=pxe(),e=Iq(),r=vo();function n(i,a){var s={};return a=r(a,3),e(i,function(c,u,f){t(s,u,a(c,u,f))}),s}return z_=n,z_}var yxe=gxe();const vxe=mr(yxe);var V_,aB;function bxe(){if(aB)return V_;aB=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return V_=t,V_}var $_,sB;function xxe(){if(sB)return $_;sB=1;var t=NA();function e(r,n){var i=!0;return t(r,function(a,s,c){return i=!!n(a,s,c),i}),i}return $_=e,$_}var F_,oB;function wxe(){if(oB)return F_;oB=1;var t=bxe(),e=xxe(),r=vo(),n=da(),i=Ox();function a(s,c,u){var f=n(s)?t:e;return u&&i(s,c,u)&&(c=void 0),f(s,r(c,3))}return F_=a,F_}var _xe=wxe();const wG=mr(_xe);var Sxe=["x","y"];function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function iT(){return iT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iT.apply(this,arguments)}function lB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lB(Object(r),!0).forEach(function(n){Txe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Txe(t,e,r){return e=Axe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Axe(t){var e=Exe(t,"string");return Lp(e)=="symbol"?e:e+""}function Exe(t,e){if(Lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nxe(t,e){if(t==null)return{};var r=Oxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kxe(t,e){var r=t.x,n=t.y,i=Nxe(t,Sxe),a="".concat(r),s=parseInt(a,10),c="".concat(n),u=parseInt(c,10),f="".concat(e.height||i.height),m=parseInt(f,10),g="".concat(e.width||i.width),v=parseInt(g,10);return lm(lm(lm(lm(lm({},e),i),s?{x:s}:{}),u?{y:u}:{}),{},{height:m,width:v,name:e.name,radius:e.radius})}function cB(t){return ne.createElement(tT,iT({shapeType:"rectangle",propTransformer:kxe,activeClassName:"recharts-active-bar"},t))}var Cxe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Qe(n)||Rle(n);return a?e(n,i):(a||y0(),r)}},Ixe=["value","background"],_G;function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function jxe(t,e){if(t==null)return{};var r=Rxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fb.apply(this,arguments)}function uB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(r),!0).forEach(function(n){Tc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TG(n.key),n)}}function Pxe(t,e,r){return e&&hB(t.prototype,e),r&&hB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dxe(t,e,r){return e=mb(e),Lxe(t,SG()?Reflect.construct(e,r||[],mb(t).constructor):e.apply(t,r))}function Lxe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bxe(t)}function Bxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SG=function(){return!!t})()}function mb(t){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mb(t)}function Uxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aT(t,e)}function aT(t,e){return aT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aT(t,e)}function Tc(t,e,r){return e=TG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TG(t){var e=zxe(t,"string");return _d(e)=="symbol"?e:e+""}function zxe(t,e){if(_d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vg=(function(t){function e(){var r;Mxe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Dxe(this,e,[].concat(i)),Tc(r,"state",{isAnimationFinished:!1}),Tc(r,"id",og("recharts-bar-")),Tc(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Tc(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Uxe(e,t),Pxe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,c=a.dataKey,u=a.activeIndex,f=a.activeBar,m=xt(this.props,!1);return n&&n.map(function(g,v){var x=v===u,T=x?f:s,S=kn(kn(kn({},m),g),{},{isActive:x,option:T,index:v,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ne.createElement(cr,fb({className:"recharts-bar-rectangle"},p0(i.props,g,v),{key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(v)}),ne.createElement(cB,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,c=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,m=i.animationEasing,g=i.animationId,v=this.state.prevData;return ne.createElement(uo,{begin:u,duration:f,isActive:c,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var T=x.t,S=a.map(function(_,C){var I=v&&v[C];if(I){var P=sa(I.x,_.x),V=sa(I.y,_.y),j=sa(I.width,_.width),D=sa(I.height,_.height);return kn(kn({},_),{},{x:P(T),y:V(T),width:j(T),height:D(T)})}if(s==="horizontal"){var A=sa(0,_.height),N=A(T);return kn(kn({},_),{},{y:_.y+_.height-N,height:N})}var k=sa(0,_.width),$=k(T);return kn(kn({},_),{},{width:$})});return ne.createElement(cr,null,n.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!fg(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,c=i.activeIndex,u=xt(this.props.background,!1);return a.map(function(f,m){f.value;var g=f.background,v=jxe(f,Ixe);if(!g)return null;var x=kn(kn(kn(kn(kn({},v),{},{fill:"#eee"},g),u),p0(n.props,f,m)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:m,className:"recharts-bar-background-rectangle"});return ne.createElement(cB,fb({key:"background-bar-".concat(m),option:n.props.background,isActive:m===c},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,c=a.xAxis,u=a.yAxis,f=a.layout,m=a.children,g=Ra(m,mg);if(!g)return null;var v=f==="vertical"?s[0].height/2:s[0].width/2,x=function(_,C){var I=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:I,errorVal:di(_,C)}},T={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ne.createElement(cr,T,g.map(function(S){return ne.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:s,xAxis:c,yAxis:u,layout:f,offset:v,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,c=n.xAxis,u=n.yAxis,f=n.left,m=n.top,g=n.width,v=n.height,x=n.isAnimationActive,T=n.background,S=n.id;if(i||!a||!a.length)return null;var _=this.state.isAnimationFinished,C=Bt("recharts-bar",s),I=c&&c.allowDataOverflow,P=u&&u.allowDataOverflow,V=I||P,j=Pt(S)?this.id:S;return ne.createElement(cr,{className:C},I||P?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(j)},ne.createElement("rect",{x:I?f:f-g/2,y:P?m:m-v/2,width:I?g:g*2,height:P?v:v*2}))):null,ne.createElement(cr,{className:"recharts-bar-rectangles",clipPath:V?"url(#clipPath-".concat(j,")"):null},T?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(V,j),(!x||_)&&ol.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(q.PureComponent);_G=vg;Tc(vg,"displayName","Bar");Tc(vg,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!k0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Tc(vg,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,c=t.xAxisTicks,u=t.yAxisTicks,f=t.stackedData,m=t.dataStartIndex,g=t.displayedData,v=t.offset,x=Wpe(n,r);if(!x)return null;var T=e.layout,S=r.type.defaultProps,_=S!==void 0?kn(kn({},S),r.props):r.props,C=_.dataKey,I=_.children,P=_.minPointSize,V=T==="horizontal"?s:a,j=f?V.scale.domain():null,D=tge({numericAxis:V}),A=Ra(I,CA),N=g.map(function(k,$){var M,z,U,Y,ee,K;f?M=Xpe(f[m+$],j):(M=di(k,C),Array.isArray(M)||(M=[D,M]));var J=Cxe(P,_G.defaultProps.minPointSize)(M[1],$);if(T==="horizontal"){var Q,fe=[s.scale(M[0]),s.scale(M[1])],ie=fe[0],W=fe[1];z=DD({axis:a,ticks:c,bandSize:i,offset:x.offset,entry:k,index:$}),U=(Q=W??ie)!==null&&Q!==void 0?Q:void 0,Y=x.size;var Z=ie-W;if(ee=Number.isNaN(Z)?0:Z,K={x:z,y:s.y,width:Y,height:s.height},Math.abs(J)>0&&Math.abs(ee)<Math.abs(J)){var ue=Ns(ee||J)*(Math.abs(J)-Math.abs(ee));U-=ue,ee+=ue}}else{var Oe=[a.scale(M[0]),a.scale(M[1])],se=Oe[0],ke=Oe[1];if(z=se,U=DD({axis:s,ticks:u,bandSize:i,offset:x.offset,entry:k,index:$}),Y=ke-se,ee=x.size,K={x:a.x,y:U,width:a.width,height:ee},Math.abs(J)>0&&Math.abs(Y)<Math.abs(J)){var Me=Ns(Y||J)*(Math.abs(J)-Math.abs(Y));Y+=Me}}return kn(kn(kn({},k),{},{x:z,y:U,width:Y,height:ee,value:f?M:M[1],payload:k,background:K},A&&A[$]&&A[$].props),{},{tooltipPayload:[XH(r,k)],tooltipPosition:{x:z+Y/2,y:U+ee/2}})});return kn({data:N,layout:T},v)});function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function Vxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AG(n.key),n)}}function $xe(t,e,r){return e&&dB(t.prototype,e),r&&dB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function As(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fB(Object(r),!0).forEach(function(n){Hx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hx(t,e,r){return e=AG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AG(t){var e=Fxe(t,"string");return Bp(e)=="symbol"?e:e+""}function Fxe(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qxe=function(e,r,n,i,a){var s=e.width,c=e.height,u=e.layout,f=e.children,m=Object.keys(r),g={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},v=!!Aa(f,vg);return m.reduce(function(x,T){var S=r[T],_=S.orientation,C=S.domain,I=S.padding,P=I===void 0?{}:I,V=S.mirror,j=S.reversed,D="".concat(_).concat(V?"Mirror":""),A,N,k,$,M;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var z=C[1]-C[0],U=1/0,Y=S.categoricalDomain.sort(Lle);if(Y.forEach(function(Oe,se){se>0&&(U=Math.min((Oe||0)-(Y[se-1]||0),U))}),Number.isFinite(U)){var ee=U/z,K=S.layout==="vertical"?n.height:n.width;if(S.padding==="gap"&&(A=ee*K/2),S.padding==="no-gap"){var J=Os(e.barCategoryGap,ee*K),Q=ee*K/2;A=Q-J-(Q-J)/K*J}}}i==="xAxis"?N=[n.left+(P.left||0)+(A||0),n.left+n.width-(P.right||0)-(A||0)]:i==="yAxis"?N=u==="horizontal"?[n.top+n.height-(P.bottom||0),n.top+(P.top||0)]:[n.top+(P.top||0)+(A||0),n.top+n.height-(P.bottom||0)-(A||0)]:N=S.range,j&&(N=[N[1],N[0]]);var fe=HH(S,a,v),ie=fe.scale,W=fe.realScaleType;ie.domain(C).range(N),GH(ie);var Z=KH(ie,As(As({},S),{},{realScaleType:W}));i==="xAxis"?(M=_==="top"&&!V||_==="bottom"&&V,k=n.left,$=g[D]-M*S.height):i==="yAxis"&&(M=_==="left"&&!V||_==="right"&&V,k=g[D]-M*S.width,$=n.top);var ue=As(As(As({},S),Z),{},{realScaleType:W,x:k,y:$,scale:ie,width:i==="xAxis"?n.width:S.width,height:i==="yAxis"?n.height:S.height});return ue.bandSize=Yv(ue,Z),!S.hide&&i==="xAxis"?g[D]+=(M?-1:1)*ue.height:S.hide||(g[D]+=(M?-1:1)*ue.width),As(As({},x),{},Hx({},T,ue))},{})},EG=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Hxe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return EG({x:r,y:n},{x:i,y:a})},NG=(function(){function t(e){Vxe(this,t),this.scale=e}return $xe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Hx(NG,"EPS",1e-4);var nE=function(e){var r=Object.keys(e).reduce(function(n,i){return As(As({},n),{},Hx({},i,NG.create(e[i])))},{});return As(As({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,c=a.position;return vxe(i,function(u,f){return r[f].apply(u,{bandAware:s,position:c})})},isInRange:function(i){return wG(i,function(a,s){return r[s].isInRange(a)})}})};function Gxe(t){return(t%180+180)%180}var Kxe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Gxe(i),s=a*Math.PI/180,c=Math.atan(n/r),u=s>c&&s<Math.PI-c?n/Math.sin(s):r/Math.cos(s);return Math.abs(u)},q_,mB;function Wxe(){if(mB)return q_;mB=1;var t=vo(),e=lg(),r=Ex();function n(i){return function(a,s,c){var u=Object(a);if(!e(a)){var f=t(s,3);a=r(a),s=function(g){return f(u[g],g,u)}}var m=i(a,s,c);return m>-1?u[f?a[m]:m]:void 0}}return q_=n,q_}var H_,pB;function Xxe(){if(pB)return H_;pB=1;var t=yG();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return H_=e,H_}var G_,gB;function Yxe(){if(gB)return G_;gB=1;var t=Eq(),e=vo(),r=Xxe(),n=Math.max;function i(a,s,c){var u=a==null?0:a.length;if(!u)return-1;var f=c==null?0:r(c);return f<0&&(f=n(u+f,0)),t(a,e(s,3),f)}return G_=i,G_}var K_,yB;function Qxe(){if(yB)return K_;yB=1;var t=Wxe(),e=Yxe(),r=t(e);return K_=r,K_}var Zxe=Qxe();const Jxe=mr(Zxe);var e2e=$F();const t2e=mr(e2e);var r2e=t2e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),iE=q.createContext(void 0),aE=q.createContext(void 0),OG=q.createContext(void 0),kG=q.createContext({}),CG=q.createContext(void 0),IG=q.createContext(0),jG=q.createContext(0),vB=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,c=e.children,u=e.width,f=e.height,m=r2e(a);return ne.createElement(iE.Provider,{value:n},ne.createElement(aE.Provider,{value:i},ne.createElement(kG.Provider,{value:a},ne.createElement(OG.Provider,{value:m},ne.createElement(CG.Provider,{value:s},ne.createElement(IG.Provider,{value:f},ne.createElement(jG.Provider,{value:u},c)))))))},n2e=function(){return q.useContext(CG)},RG=function(e){var r=q.useContext(iE);r==null&&y0();var n=r[e];return n==null&&y0(),n},i2e=function(){var e=q.useContext(iE);return wc(e)},a2e=function(){var e=q.useContext(aE),r=Jxe(e,function(n){return wG(n.domain,Number.isFinite)});return r||wc(e)},MG=function(e){var r=q.useContext(aE);r==null&&y0();var n=r[e];return n==null&&y0(),n},s2e=function(){var e=q.useContext(OG);return e},o2e=function(){return q.useContext(kG)},sE=function(){return q.useContext(jG)},oE=function(){return q.useContext(IG)};function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function l2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DG(n.key),n)}}function u2e(t,e,r){return e&&c2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h2e(t,e,r){return e=pb(e),d2e(t,PG()?Reflect.construct(e,r||[],pb(t).constructor):e.apply(t,r))}function d2e(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f2e(t)}function f2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PG=function(){return!!t})()}function pb(t){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pb(t)}function m2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sT(t,e)}function sT(t,e){return sT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sT(t,e)}function bB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bB(Object(r),!0).forEach(function(n){lE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lE(t,e,r){return e=DG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DG(t){var e=p2e(t,"string");return Sd(e)=="symbol"?e:e+""}function p2e(t,e){if(Sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function g2e(t,e){return x2e(t)||b2e(t,e)||v2e(t,e)||y2e()}function y2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v2e(t,e){if(t){if(typeof t=="string")return wB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wB(t,e)}}function wB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function x2e(t){if(Array.isArray(t))return t}function oT(){return oT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oT.apply(this,arguments)}var w2e=function(e,r){var n;return ne.isValidElement(e)?n=ne.cloneElement(e,r):kt(e)?n=e(r):n=ne.createElement("line",oT({},r,{className:"recharts-reference-line-line"})),n},_2e=function(e,r,n,i,a,s,c,u,f){var m=a.x,g=a.y,v=a.width,x=a.height;if(n){var T=f.y,S=e.y.apply(T,{position:s});if(io(f,"discard")&&!e.y.isInRange(S))return null;var _=[{x:m+v,y:S},{x:m,y:S}];return u==="left"?_.reverse():_}if(r){var C=f.x,I=e.x.apply(C,{position:s});if(io(f,"discard")&&!e.x.isInRange(I))return null;var P=[{x:I,y:g+x},{x:I,y:g}];return c==="top"?P.reverse():P}if(i){var V=f.segment,j=V.map(function(D){return e.apply(D,{position:s})});return io(f,"discard")&&mxe(j,function(D){return!e.isInRange(D)})?null:j}return null};function S2e(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,c=t.className,u=t.alwaysShow,f=n2e(),m=RG(i),g=MG(a),v=s2e();if(!f||!v)return null;al(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=nE({x:m.scale,y:g.scale}),T=Un(e),S=Un(r),_=n&&n.length===2,C=_2e(x,T,S,_,v,t.position,m.orientation,g.orientation,t);if(!C)return null;var I=g2e(C,2),P=I[0],V=P.x,j=P.y,D=I[1],A=D.x,N=D.y,k=io(t,"hidden")?"url(#".concat(f,")"):void 0,$=xB(xB({clipPath:k},xt(t,!0)),{},{x1:V,y1:j,x2:A,y2:N});return ne.createElement(cr,{className:Bt("recharts-reference-line",c)},w2e(s,$),hi.renderCallByParent(t,Hxe({x1:V,y1:j,x2:A,y2:N})))}var cE=(function(t){function e(){return l2e(this,e),h2e(this,e,arguments)}return m2e(e,t),u2e(e,[{key:"render",value:function(){return ne.createElement(S2e,this.props)}}])})(ne.Component);lE(cE,"displayName","ReferenceLine");lE(cE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function lT(){return lT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lT.apply(this,arguments)}function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function _B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(r),!0).forEach(function(n){Gx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_B(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BG(n.key),n)}}function E2e(t,e,r){return e&&A2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N2e(t,e,r){return e=gb(e),O2e(t,LG()?Reflect.construct(e,r||[],gb(t).constructor):e.apply(t,r))}function O2e(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k2e(t)}function k2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LG=function(){return!!t})()}function gb(t){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gb(t)}function C2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cT(t,e)}function cT(t,e){return cT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cT(t,e)}function Gx(t,e,r){return e=BG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BG(t){var e=I2e(t,"string");return Td(e)=="symbol"?e:e+""}function I2e(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var j2e=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=nE({x:i.scale,y:a.scale}),c=s.apply({x:r,y:n},{bandAware:!0});return io(e,"discard")&&!s.isInRange(c)?null:c},Kx=(function(t){function e(){return T2e(this,e),N2e(this,e,arguments)}return C2e(e,t),E2e(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,c=n.alwaysShow,u=n.clipPathId,f=Un(i),m=Un(a);if(al(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!m)return null;var g=j2e(this.props);if(!g)return null;var v=g.x,x=g.y,T=this.props,S=T.shape,_=T.className,C=io(this.props,"hidden")?"url(#".concat(u,")"):void 0,I=SB(SB({clipPath:C},xt(this.props,!0)),{},{cx:v,cy:x});return ne.createElement(cr,{className:Bt("recharts-reference-dot",_)},e.renderDot(S,I),hi.renderCallByParent(this.props,{x:v-s,y:x-s,width:2*s,height:2*s}))}}])})(ne.Component);Gx(Kx,"displayName","ReferenceDot");Gx(Kx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gx(Kx,"renderDot",function(t,e){var r;return ne.isValidElement(t)?r=ne.cloneElement(t,e):kt(t)?r=t(e):r=ne.createElement(zx,lT({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function uT(){return uT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uT.apply(this,arguments)}function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function TB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(r),!0).forEach(function(n){Wx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zG(n.key),n)}}function P2e(t,e,r){return e&&M2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D2e(t,e,r){return e=yb(e),L2e(t,UG()?Reflect.construct(e,r||[],yb(t).constructor):e.apply(t,r))}function L2e(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B2e(t)}function B2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UG=function(){return!!t})()}function yb(t){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(t)}function U2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hT(t,e)}function hT(t,e){return hT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hT(t,e)}function Wx(t,e,r){return e=zG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zG(t){var e=z2e(t,"string");return Ad(e)=="symbol"?e:e+""}function z2e(t,e){if(Ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var V2e=function(e,r,n,i,a){var s=a.x1,c=a.x2,u=a.y1,f=a.y2,m=a.xAxis,g=a.yAxis;if(!m||!g)return null;var v=nE({x:m.scale,y:g.scale}),x={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(u,{position:"start"}):v.y.rangeMin},T={x:r?v.x.apply(c,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return io(a,"discard")&&(!v.isInRange(x)||!v.isInRange(T))?null:EG(x,T)},Xx=(function(t){function e(){return R2e(this,e),D2e(this,e,arguments)}return U2e(e,t),P2e(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,c=n.y2,u=n.className,f=n.alwaysShow,m=n.clipPathId;al(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Un(i),v=Un(a),x=Un(s),T=Un(c),S=this.props.shape;if(!g&&!v&&!x&&!T&&!S)return null;var _=V2e(g,v,x,T,this.props);if(!_&&!S)return null;var C=io(this.props,"hidden")?"url(#".concat(m,")"):void 0;return ne.createElement(cr,{className:Bt("recharts-reference-area",u)},e.renderRect(S,AB(AB({clipPath:C},xt(this.props,!0)),_)),hi.renderCallByParent(this.props,_))}}])})(ne.Component);Wx(Xx,"displayName","ReferenceArea");Wx(Xx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Wx(Xx,"renderRect",function(t,e){var r;return ne.isValidElement(t)?r=ne.cloneElement(t,e):kt(t)?r=t(e):r=ne.createElement(rE,uT({},e,{className:"recharts-reference-area-rect"})),r});function VG(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function $2e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Kxe(n,r)}function F2e(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,c=t.height;return e===1?{start:n?i:a,end:n?i+s:a+c}:{start:n?i+s:a+c,end:n?i:a}}function vb(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function q2e(t,e){return VG(t,e+1)}function H2e(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,c=e.end,u=0,f=1,m=s,g=function(){var T=n==null?void 0:n[u];if(T===void 0)return{v:VG(n,f)};var S=u,_,C=function(){return _===void 0&&(_=r(T,S)),_},I=T.coordinate,P=u===0||vb(t,I,C,m,c);P||(u=0,m=s,f+=1),P&&(m=I+t*(C()/2+i),u+=f)},v;f<=a.length;)if(v=g(),v)return v.v;return[]}function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function EB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EB(Object(r),!0).forEach(function(n){G2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G2e(t,e,r){return e=K2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K2e(t){var e=W2e(t,"string");return Up(e)=="symbol"?e:e+""}function W2e(t,e){if(Up(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X2e(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,c=e.start,u=e.end,f=function(v){var x=a[v],T,S=function(){return T===void 0&&(T=r(x,v)),T};if(v===s-1){var _=t*(x.coordinate+t*S()/2-u);a[v]=x=wi(wi({},x),{},{tickCoord:_>0?x.coordinate-_*t:x.coordinate})}else a[v]=x=wi(wi({},x),{},{tickCoord:x.coordinate});var C=vb(t,x.tickCoord,S,c,u);C&&(u=x.tickCoord-t*(S()/2+i),a[v]=wi(wi({},x),{},{isShow:!0}))},m=s-1;m>=0;m--)f(m);return a}function Y2e(t,e,r,n,i,a){var s=(n||[]).slice(),c=s.length,u=e.start,f=e.end;if(a){var m=n[c-1],g=r(m,c-1),v=t*(m.coordinate+t*g/2-f);s[c-1]=m=wi(wi({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate});var x=vb(t,m.tickCoord,function(){return g},u,f);x&&(f=m.tickCoord-t*(g/2+i),s[c-1]=wi(wi({},m),{},{isShow:!0}))}for(var T=a?c-1:c,S=function(I){var P=s[I],V,j=function(){return V===void 0&&(V=r(P,I)),V};if(I===0){var D=t*(P.coordinate-t*j()/2-u);s[I]=P=wi(wi({},P),{},{tickCoord:D<0?P.coordinate-D*t:P.coordinate})}else s[I]=P=wi(wi({},P),{},{tickCoord:P.coordinate});var A=vb(t,P.tickCoord,j,u,f);A&&(u=P.tickCoord+t*(j()/2+i),s[I]=wi(wi({},P),{},{isShow:!0}))},_=0;_<T;_++)S(_);return s}function uE(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,c=t.orientation,u=t.interval,f=t.tickFormatter,m=t.unit,g=t.angle;if(!i||!i.length||!n)return[];if(Qe(u)||k0.isSsr)return q2e(i,typeof u=="number"&&Qe(u)?u:0);var v=[],x=c==="top"||c==="bottom"?"width":"height",T=m&&x==="width"?Im(m,{fontSize:e,letterSpacing:r}):{width:0,height:0},S=function(P,V){var j=kt(f)?f(P.value,V):P.value;return x==="width"?$2e(Im(j,{fontSize:e,letterSpacing:r}),T,g):Im(j,{fontSize:e,letterSpacing:r})[x]},_=i.length>=2?Ns(i[1].coordinate-i[0].coordinate):1,C=F2e(a,_,x);return u==="equidistantPreserveStart"?H2e(_,C,S,i,s):(u==="preserveStart"||u==="preserveStartEnd"?v=Y2e(_,C,S,i,s,u==="preserveStartEnd"):v=X2e(_,C,S,i,s),v.filter(function(I){return I.isShow}))}var Q2e=["viewBox"],Z2e=["viewBox"],J2e=["ticks"];function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dh.apply(this,arguments)}function NB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(r),!0).forEach(function(n){hE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W_(t,e){if(t==null)return{};var r=e4e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function e4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function t4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FG(n.key),n)}}function r4e(t,e,r){return e&&OB(t.prototype,e),r&&OB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function n4e(t,e,r){return e=bb(e),i4e(t,$G()?Reflect.construct(e,r||[],bb(t).constructor):e.apply(t,r))}function i4e(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a4e(t)}function a4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $G(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($G=function(){return!!t})()}function bb(t){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(t)}function s4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dT(t,e)}function dT(t,e){return dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dT(t,e)}function hE(t,e,r){return e=FG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FG(t){var e=o4e(t,"string");return Ed(e)=="symbol"?e:e+""}function o4e(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kd=(function(t){function e(r){var n;return t4e(this,e),n=n4e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return s4e(e,t),r4e(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=W_(n,Q2e),c=this.props,u=c.viewBox,f=W_(c,Z2e);return!qh(a,u)||!qh(s,f)||!qh(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,c=i.width,u=i.height,f=i.orientation,m=i.tickSize,g=i.mirror,v=i.tickMargin,x,T,S,_,C,I,P=g?-1:1,V=n.tickSize||m,j=Qe(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":x=T=n.coordinate,_=s+ +!g*u,S=_-P*V,I=S-P*v,C=j;break;case"left":S=_=n.coordinate,T=a+ +!g*c,x=T-P*V,C=x-P*v,I=j;break;case"right":S=_=n.coordinate,T=a+ +g*c,x=T+P*V,C=x+P*v,I=j;break;default:x=T=n.coordinate,_=s+ +g*u,S=_+P*V,I=S+P*v,C=j;break}return{line:{x1:x,y1:S,x2:T,y2:_},tick:{x:C,y:I}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,c=n.height,u=n.orientation,f=n.mirror,m=n.axisLine,g=Ln(Ln(Ln({},xt(this.props,!1)),xt(m,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var v=+(u==="top"&&!f||u==="bottom"&&f);g=Ln(Ln({},g),{},{x1:i,y1:a+v*c,x2:i+s,y2:a+v*c})}else{var x=+(u==="left"&&!f||u==="right"&&f);g=Ln(Ln({},g),{},{x1:i+x*s,y1:a,x2:i+x*s,y2:a+c})}return ne.createElement("line",Dh({},g,{className:Bt("recharts-cartesian-axis-line",as(m,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,c=this.props,u=c.tickLine,f=c.stroke,m=c.tick,g=c.tickFormatter,v=c.unit,x=uE(Ln(Ln({},this.props),{},{ticks:n}),i,a),T=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),_=xt(this.props,!1),C=xt(m,!1),I=Ln(Ln({},_),{},{fill:"none"},xt(u,!1)),P=x.map(function(V,j){var D=s.getTickLineCoord(V),A=D.line,N=D.tick,k=Ln(Ln(Ln(Ln({textAnchor:T,verticalAnchor:S},_),{},{stroke:"none",fill:f},C),N),{},{index:j,payload:V,visibleTicksCount:x.length,tickFormatter:g});return ne.createElement(cr,Dh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},p0(s.props,V,j)),u&&ne.createElement("line",Dh({},I,A,{className:Bt("recharts-cartesian-axis-tick-line",as(u,"className"))})),m&&e.renderTickItem(m,k,"".concat(kt(g)?g(V.value,j):V.value).concat(v||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,c=i.height,u=i.ticksGenerator,f=i.className,m=i.hide;if(m)return null;var g=this.props,v=g.ticks,x=W_(g,J2e),T=v;return kt(u)&&(T=v&&v.length>0?u(this.props):u(x)),s<=0||c<=0||!T||!T.length?null:ne.createElement(cr,{className:Bt("recharts-cartesian-axis",f),ref:function(_){n.layerReference=_}},a&&this.renderAxisLine(),this.renderTicks(T,this.state.fontSize,this.state.letterSpacing),hi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,c=Bt(i.className,"recharts-cartesian-axis-tick-value");return ne.isValidElement(n)?s=ne.cloneElement(n,Ln(Ln({},i),{},{className:c})):kt(n)?s=n(Ln(Ln({},i),{},{className:c})):s=ne.createElement(hd,Dh({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(q.Component);hE(Kd,"displayName","CartesianAxis");hE(Kd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var l4e=["x1","y1","x2","y2","key"],c4e=["offset"];function v0(t){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v0(t)}function kB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kB(Object(r),!0).forEach(function(n){u4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u4e(t,e,r){return e=h4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h4e(t){var e=d4e(t,"string");return v0(e)=="symbol"?e:e+""}function d4e(t,e){if(v0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(v0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hu.apply(this,arguments)}function CB(t,e){if(t==null)return{};var r=f4e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var m4e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,c=e.height,u=e.ry;return ne.createElement("rect",{x:i,y:a,ry:u,width:s,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function qG(t,e){var r;if(ne.isValidElement(t))r=ne.cloneElement(t,e);else if(kt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,c=e.key,u=CB(e,l4e),f=xt(u,!1);f.offset;var m=CB(f,c4e);r=ne.createElement("line",Hu({},m,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:c}))}return r}function p4e(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(c,u){var f=Si(Si({},t),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(u),index:u});return qG(i,f)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function g4e(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(c,u){var f=Si(Si({},t),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(u),index:u});return qG(i,f)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function y4e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,c=t.horizontalPoints,u=t.horizontal,f=u===void 0?!0:u;if(!f||!e||!e.length)return null;var m=c.map(function(v){return Math.round(v+i-i)}).sort(function(v,x){return v-x});i!==m[0]&&m.unshift(0);var g=m.map(function(v,x){var T=!m[x+1],S=T?i+s-v:m[x+1]-v;if(S<=0)return null;var _=x%e.length;return ne.createElement("rect",{key:"react-".concat(x),y:v,x:n,height:S,width:a,stroke:"none",fill:e[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function v4e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,c=t.width,u=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var m=f.map(function(v){return Math.round(v+a-a)}).sort(function(v,x){return v-x});a!==m[0]&&m.unshift(0);var g=m.map(function(v,x){var T=!m[x+1],S=T?a+c-v:m[x+1]-v;if(S<=0)return null;var _=x%n.length;return ne.createElement("rect",{key:"react-".concat(x),x:v,y:s,width:S,height:u,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var b4e=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return qH(uE(Si(Si(Si({},Kd.defaultProps),n),{},{ticks:tl(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},x4e=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return qH(uE(Si(Si(Si({},Kd.defaultProps),n),{},{ticks:tl(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Eh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function HG(t){var e,r,n,i,a,s,c=sE(),u=oE(),f=o2e(),m=Si(Si({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Eh.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Eh.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Eh.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Eh.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Eh.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Eh.verticalFill,x:Qe(t.x)?t.x:f.left,y:Qe(t.y)?t.y:f.top,width:Qe(t.width)?t.width:f.width,height:Qe(t.height)?t.height:f.height}),g=m.x,v=m.y,x=m.width,T=m.height,S=m.syncWithTicks,_=m.horizontalValues,C=m.verticalValues,I=i2e(),P=a2e();if(!Qe(x)||x<=0||!Qe(T)||T<=0||!Qe(g)||g!==+g||!Qe(v)||v!==+v)return null;var V=m.verticalCoordinatesGenerator||b4e,j=m.horizontalCoordinatesGenerator||x4e,D=m.horizontalPoints,A=m.verticalPoints;if((!D||!D.length)&&kt(j)){var N=_&&_.length,k=j({yAxis:P?Si(Si({},P),{},{ticks:N?_:P.ticks}):void 0,width:c,height:u,offset:f},N?!0:S);al(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(v0(k),"]")),Array.isArray(k)&&(D=k)}if((!A||!A.length)&&kt(V)){var $=C&&C.length,M=V({xAxis:I?Si(Si({},I),{},{ticks:$?C:I.ticks}):void 0,width:c,height:u,offset:f},$?!0:S);al(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(v0(M),"]")),Array.isArray(M)&&(A=M)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(m4e,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),ne.createElement(p4e,Hu({},m,{offset:f,horizontalPoints:D,xAxis:I,yAxis:P})),ne.createElement(g4e,Hu({},m,{offset:f,verticalPoints:A,xAxis:I,yAxis:P})),ne.createElement(y4e,Hu({},m,{horizontalPoints:D})),ne.createElement(v4e,Hu({},m,{verticalPoints:A})))}HG.displayName="CartesianGrid";function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function w4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WG(n.key),n)}}function S4e(t,e,r){return e&&_4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T4e(t,e,r){return e=xb(e),A4e(t,GG()?Reflect.construct(e,r||[],xb(t).constructor):e.apply(t,r))}function A4e(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E4e(t)}function E4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GG=function(){return!!t})()}function xb(t){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xb(t)}function N4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fT(t,e)}function fT(t,e){return fT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fT(t,e)}function KG(t,e,r){return e=WG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WG(t){var e=O4e(t,"string");return Nd(e)=="symbol"?e:e+""}function O4e(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yx=(function(t){function e(){return w4e(this,e),T4e(this,e,arguments)}return N4e(e,t),S4e(e,[{key:"render",value:function(){return null}}])})(q.Component);KG(Yx,"displayName","ZAxis");KG(Yx,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var k4e=["option","isActive"];function Lm(){return Lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lm.apply(this,arguments)}function C4e(t,e){if(t==null)return{};var r=I4e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function I4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function j4e(t){var e=t.option,r=t.isActive,n=C4e(t,k4e);return typeof e=="string"?q.createElement(tT,Lm({option:q.createElement(Ax,Lm({type:e},n)),isActive:r,shapeType:"symbols"},n)):q.createElement(tT,Lm({option:e,isActive:r,shapeType:"symbols"},n))}function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bm.apply(this,arguments)}function IB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ja(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IB(Object(r),!0).forEach(function(n){Ac(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YG(n.key),n)}}function M4e(t,e,r){return e&&jB(t.prototype,e),r&&jB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function P4e(t,e,r){return e=wb(e),D4e(t,XG()?Reflect.construct(e,r||[],wb(t).constructor):e.apply(t,r))}function D4e(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L4e(t)}function L4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XG=function(){return!!t})()}function wb(t){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(t)}function B4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mT(t,e)}function mT(t,e){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mT(t,e)}function Ac(t,e,r){return e=YG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YG(t){var e=U4e(t,"string");return Od(e)=="symbol"?e:e+""}function U4e(t,e){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bg=(function(t){function e(){var r;R4e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=P4e(this,e,[].concat(i)),Ac(r,"state",{isAnimationFinished:!1}),Ac(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Ac(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Ac(r,"id",og("recharts-scatter-")),r}return B4e(e,t),M4e(e,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,s=a.shape,c=a.activeShape,u=a.activeIndex,f=xt(this.props,!1);return n.map(function(m,g){var v=u===g,x=v?c:s,T=Ja(Ja({},f),m);return ne.createElement(cr,Bm({className:"recharts-scatter-symbol",key:"symbol-".concat(m==null?void 0:m.cx,"-").concat(m==null?void 0:m.cy,"-").concat(m==null?void 0:m.size,"-").concat(g)},p0(i.props,m,g),{role:"img"}),ne.createElement(j4e,Bm({option:x,isActive:v,key:"symbol-".concat(g)},T)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,s=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,m=i.animationId,g=this.state.prevPoints;return ne.createElement(uo,{begin:c,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t,T=a.map(function(S,_){var C=g&&g[_];if(C){var I=sa(C.cx,S.cx),P=sa(C.cy,S.cy),V=sa(C.size,S.size);return Ja(Ja({},S),{},{cx:I(x),cy:P(x),size:V(x)})}var j=sa(0,S.size);return Ja(Ja({},S),{},{size:j(x)})});return ne.createElement(cr,null,n.renderSymbolsStatically(T))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,s=this.state.prevPoints;return a&&i&&i.length&&(!s||!fg(s,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,s=i.xAxis,c=i.yAxis,u=i.children,f=Ra(u,mg);return f?f.map(function(m,g){var v=m.props,x=v.direction,T=v.dataKey;return ne.cloneElement(m,{key:"".concat(x,"-").concat(T,"-").concat(a[g]),data:a,xAxis:s,yAxis:c,layout:x==="x"?"vertical":"horizontal",dataPointFormatter:function(_,C){return{x:_.cx,y:_.cy,value:x==="x"?+_.node.x:+_.node.y,errorVal:di(_,C)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,s=n.lineType,c=n.lineJointType,u=xt(this.props,!1),f=xt(a,!1),m,g;if(s==="joint")m=i.map(function(P){return{x:P.cx,y:P.cy}});else if(s==="fitting"){var v=Dle(i),x=v.xmin,T=v.xmax,S=v.a,_=v.b,C=function(V){return S*V+_};m=[{x,y:C(x)},{x:T,y:C(T)}]}var I=Ja(Ja(Ja({},u),{},{fill:"none",stroke:u&&u.fill},f),{},{points:m});return ne.isValidElement(a)?g=ne.cloneElement(a,I):kt(a)?g=a(I):g=ne.createElement(z7,Bm({},I,{type:c})),ne.createElement(cr,{className:"recharts-scatter-line",key:"recharts-scatter-line"},g)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,s=n.line,c=n.className,u=n.xAxis,f=n.yAxis,m=n.left,g=n.top,v=n.width,x=n.height,T=n.id,S=n.isAnimationActive;if(i||!a||!a.length)return null;var _=this.state.isAnimationFinished,C=Bt("recharts-scatter",c),I=u&&u.allowDataOverflow,P=f&&f.allowDataOverflow,V=I||P,j=Pt(T)?this.id:T;return ne.createElement(cr,{className:C,clipPath:V?"url(#clipPath-".concat(j,")"):null},I||P?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(j)},ne.createElement("rect",{x:I?m:m-v/2,y:P?g:g-x/2,width:I?v:v*2,height:P?x:x*2}))):null,s&&this.renderLine(),this.renderErrorBar(),ne.createElement(cr,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!S||_)&&ol.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])})(q.PureComponent);Ac(bg,"displayName","Scatter");Ac(bg,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!k0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Ac(bg,"getComposedData",function(t){var e=t.xAxis,r=t.yAxis,n=t.zAxis,i=t.item,a=t.displayedData,s=t.xAxisTicks,c=t.yAxisTicks,u=t.offset,f=i.props.tooltipType,m=Ra(i.props.children,CA),g=Pt(e.dataKey)?i.props.dataKey:e.dataKey,v=Pt(r.dataKey)?i.props.dataKey:r.dataKey,x=n&&n.dataKey,T=n?n.range:Yx.defaultProps.range,S=T&&T[0],_=e.scale.bandwidth?e.scale.bandwidth():0,C=r.scale.bandwidth?r.scale.bandwidth():0,I=a.map(function(P,V){var j=di(P,g),D=di(P,v),A=!Pt(x)&&di(P,x)||"-",N=[{name:Pt(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:j,payload:P,dataKey:g,type:f},{name:Pt(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:D,payload:P,dataKey:v,type:f}];A!=="-"&&N.push({name:n.name||n.dataKey,unit:n.unit||"",value:A,payload:P,dataKey:x,type:f});var k=PD({axis:e,ticks:s,bandSize:_,entry:P,index:V,dataKey:g}),$=PD({axis:r,ticks:c,bandSize:C,entry:P,index:V,dataKey:v}),M=A!=="-"?n.scale(A):S,z=Math.sqrt(Math.max(M,0)/Math.PI);return Ja(Ja({},P),{},{cx:k,cy:$,x:k-z,y:$-z,xAxis:e,yAxis:r,zAxis:n,width:2*z,height:2*z,size:M,node:{x:j,y:D,z:A},tooltipPayload:N,tooltipPosition:{x:k,y:$},payload:P},m&&m[V]&&m[V].props)});return Ja({points:I},u)});function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function z4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JG(n.key),n)}}function $4e(t,e,r){return e&&V4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F4e(t,e,r){return e=_b(e),q4e(t,QG()?Reflect.construct(e,r||[],_b(t).constructor):e.apply(t,r))}function q4e(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H4e(t)}function H4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QG=function(){return!!t})()}function _b(t){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(t)}function G4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pT(t,e)}function pT(t,e){return pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pT(t,e)}function ZG(t,e,r){return e=JG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JG(t){var e=K4e(t,"string");return kd(e)=="symbol"?e:e+""}function K4e(t,e){if(kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gT(){return gT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gT.apply(this,arguments)}function W4e(t){var e=t.xAxisId,r=sE(),n=oE(),i=RG(e);return i==null?null:q.createElement(Kd,gT({},i,{className:Bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return tl(s,!0)}}))}var Qx=(function(t){function e(){return z4e(this,e),F4e(this,e,arguments)}return G4e(e,t),$4e(e,[{key:"render",value:function(){return q.createElement(W4e,this.props)}}])})(q.Component);ZG(Qx,"displayName","XAxis");ZG(Qx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function X4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rK(n.key),n)}}function Q4e(t,e,r){return e&&Y4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z4e(t,e,r){return e=Sb(e),J4e(t,eK()?Reflect.construct(e,r||[],Sb(t).constructor):e.apply(t,r))}function J4e(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ewe(t)}function ewe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eK=function(){return!!t})()}function Sb(t){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sb(t)}function twe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yT(t,e)}function yT(t,e){return yT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yT(t,e)}function tK(t,e,r){return e=rK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rK(t){var e=rwe(t,"string");return Cd(e)=="symbol"?e:e+""}function rwe(t,e){if(Cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vT.apply(this,arguments)}var nwe=function(e){var r=e.yAxisId,n=sE(),i=oE(),a=MG(r);return a==null?null:q.createElement(Kd,vT({},a,{className:Bt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(c){return tl(c,!0)}}))},Zx=(function(t){function e(){return X4e(this,e),Z4e(this,e,arguments)}return twe(e,t),Q4e(e,[{key:"render",value:function(){return q.createElement(nwe,this.props)}}])})(q.Component);tK(Zx,"displayName","YAxis");tK(Zx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function RB(t){return owe(t)||swe(t)||awe(t)||iwe()}function iwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function awe(t,e){if(t){if(typeof t=="string")return bT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bT(t,e)}}function swe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function owe(t){if(Array.isArray(t))return bT(t)}function bT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xT=function(e,r,n,i,a){var s=Ra(e,cE),c=Ra(e,Kx),u=[].concat(RB(s),RB(c)),f=Ra(e,Xx),m="".concat(i,"Id"),g=i[0],v=r;if(u.length&&(v=u.reduce(function(S,_){if(_.props[m]===n&&io(_.props,"extendDomain")&&Qe(_.props[g])){var C=_.props[g];return[Math.min(S[0],C),Math.max(S[1],C)]}return S},v)),f.length){var x="".concat(g,"1"),T="".concat(g,"2");v=f.reduce(function(S,_){if(_.props[m]===n&&io(_.props,"extendDomain")&&Qe(_.props[x])&&Qe(_.props[T])){var C=_.props[x],I=_.props[T];return[Math.min(S[0],C,I),Math.max(S[1],C,I)]}return S},v)}return a&&a.length&&(v=a.reduce(function(S,_){return Qe(_)?[Math.min(S[0],_),Math.max(S[1],_)]:S},v)),v},X_={exports:{}},MB;function lwe(){return MB||(MB=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,f,m){this.fn=u,this.context=f,this.once=m||!1}function a(u,f,m,g,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new i(m,g||u,v),T=r?r+f:f;return u._events[T]?u._events[T].fn?u._events[T]=[u._events[T],x]:u._events[T].push(x):(u._events[T]=x,u._eventsCount++),u}function s(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)e.call(m,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=r?r+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,x=g.length,T=new Array(x);v<x;v++)T[v]=g[v].fn;return T},c.prototype.listenerCount=function(f){var m=r?r+f:f,g=this._events[m];return g?g.fn?1:g.length:0},c.prototype.emit=function(f,m,g,v,x,T){var S=r?r+f:f;if(!this._events[S])return!1;var _=this._events[S],C=arguments.length,I,P;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),C){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,m),!0;case 3:return _.fn.call(_.context,m,g),!0;case 4:return _.fn.call(_.context,m,g,v),!0;case 5:return _.fn.call(_.context,m,g,v,x),!0;case 6:return _.fn.call(_.context,m,g,v,x,T),!0}for(P=1,I=new Array(C-1);P<C;P++)I[P-1]=arguments[P];_.fn.apply(_.context,I)}else{var V=_.length,j;for(P=0;P<V;P++)switch(_[P].once&&this.removeListener(f,_[P].fn,void 0,!0),C){case 1:_[P].fn.call(_[P].context);break;case 2:_[P].fn.call(_[P].context,m);break;case 3:_[P].fn.call(_[P].context,m,g);break;case 4:_[P].fn.call(_[P].context,m,g,v);break;default:if(!I)for(j=1,I=new Array(C-1);j<C;j++)I[j-1]=arguments[j];_[P].fn.apply(_[P].context,I)}}return!0},c.prototype.on=function(f,m,g){return a(this,f,m,g,!1)},c.prototype.once=function(f,m,g){return a(this,f,m,g,!0)},c.prototype.removeListener=function(f,m,g,v){var x=r?r+f:f;if(!this._events[x])return this;if(!m)return s(this,x),this;var T=this._events[x];if(T.fn)T.fn===m&&(!v||T.once)&&(!g||T.context===g)&&s(this,x);else{for(var S=0,_=[],C=T.length;S<C;S++)(T[S].fn!==m||v&&!T[S].once||g&&T[S].context!==g)&&_.push(T[S]);_.length?this._events[x]=_.length===1?_[0]:_:s(this,x)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&s(this,m)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(X_)),X_.exports}var cwe=lwe();const uwe=mr(cwe);var Y_=new uwe,Q_="recharts.syncMouseEvents";function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function hwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nK(n.key),n)}}function fwe(t,e,r){return e&&dwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z_(t,e,r){return e=nK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nK(t){var e=mwe(t,"string");return zp(e)=="symbol"?e:e+""}function mwe(t,e){if(zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pwe=(function(){function t(){hwe(this,t),Z_(this,"activeIndex",0),Z_(this,"coordinateList",[]),Z_(this,"layout","horizontal")}return fwe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,c=s===void 0?null:s,u=r.layout,f=u===void 0?null:u,m=r.offset,g=m===void 0?null:m,v=r.mouseHandlerCallback,x=v===void 0?null:v;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,c=i.height,u=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((n=window)===null||n===void 0?void 0:n.scrollY)||0,g=a+u+f,v=s+this.offset.top+c/2+m;this.mouseHandlerCallback({pageX:g,pageY:v})}}}])})();function gwe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Qe(n)&&Qe(i))return!0}return!1}function ywe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function iK(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Cr(e,r,n,i),c=Cr(e,r,n,a);return{points:[s,c],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function vwe(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,u=e.cy,f=e.innerRadius,m=e.outerRadius,g=e.angle,v=Cr(c,u,f,g),x=Cr(c,u,m,g);n=v.x,i=v.y,a=x.x,s=x.y}else return iK(e);return[{x:n,y:i},{x:a,y:s}]}function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function PB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PB(Object(r),!0).forEach(function(n){bwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bwe(t,e,r){return e=xwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xwe(t){var e=wwe(t,"string");return Vp(e)=="symbol"?e:e+""}function wwe(t,e){if(Vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _we(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,c=t.activePayload,u=t.offset,f=t.activeTooltipIndex,m=t.tooltipAxisBandSize,g=t.layout,v=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!a||!s||v!=="ScatterChart"&&i!=="axis")return null;var T,S=z7;if(v==="ScatterChart")T=s,S=xve;else if(v==="BarChart")T=ywe(g,s,u,m),S=rE;else if(g==="radial"){var _=iK(s),C=_.cx,I=_.cy,P=_.radius,V=_.startAngle,j=_.endAngle;T={cx:C,cy:I,startAngle:V,endAngle:j,innerRadius:P,outerRadius:P},S=tG}else T={points:vwe(g,s,u)},S=z7;var D=wy(wy(wy(wy({stroke:"#ccc",pointerEvents:"none"},u),T),xt(x,!1)),{},{payload:c,payloadIndex:f,className:Bt("recharts-tooltip-cursor",x.className)});return q.isValidElement(x)?q.cloneElement(x,D):q.createElement(S,D)}var Swe=["item"],Twe=["children","className","width","height","style","compact","title","desc"];function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lh.apply(this,arguments)}function DB(t,e){return Nwe(t)||Ewe(t,e)||sK(t,e)||Awe()}function Awe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ewe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function Nwe(t){if(Array.isArray(t))return t}function LB(t,e){if(t==null)return{};var r=Owe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Owe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oK(n.key),n)}}function Iwe(t,e,r){return e&&Cwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jwe(t,e,r){return e=Tb(e),Rwe(t,aK()?Reflect.construct(e,r||[],Tb(t).constructor):e.apply(t,r))}function Rwe(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mwe(t)}function Mwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aK=function(){return!!t})()}function Tb(t){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(t)}function Pwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wT(t,e)}function wT(t,e){return wT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wT(t,e)}function jd(t){return Bwe(t)||Lwe(t)||sK(t)||Dwe()}function Dwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sK(t,e){if(t){if(typeof t=="string")return _T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _T(t,e)}}function Lwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bwe(t){if(Array.isArray(t))return _T(t)}function _T(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BB(Object(r),!0).forEach(function(n){Et(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Et(t,e,r){return e=oK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oK(t){var e=Uwe(t,"string");return Id(e)=="symbol"?e:e+""}function Uwe(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zwe={xAxis:["bottom","top"],yAxis:["left","right"]},Vwe={width:"100%",height:"100%"},lK={x:0,y:0};function _y(t){return t}var $we=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Fwe=function(e,r,n,i){var a=r.find(function(m){return m&&m.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,c=i.radius;return Ne(Ne(Ne({},i),Cr(i.cx,i.cy,c,s)),{},{angle:s,radius:c})}var u=a.coordinate,f=i.angle;return Ne(Ne(Ne({},i),Cr(i.cx,i.cy,u,f)),{},{angle:f,radius:u})}return lK},Jx=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(c,u){var f=u.props.data;return f&&f.length?[].concat(jd(c),jd(f)):c},[]);return s.length>0?s:e&&e.length&&Qe(i)&&Qe(a)?e.slice(i,a+1):[]};function cK(t){return t==="number"?[0,"auto"]:void 0}var ST=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,c=Jx(r,e);return n<0||!a||!a.length||n>=c.length?null:a.reduce(function(u,f){var m,g=(m=f.props.data)!==null&&m!==void 0?m:r;g&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(g=g.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var x=g===void 0?c:g;v=Tv(x,s.dataKey,i)}else v=g&&g[n]||c[n];return v?[].concat(jd(u),[XH(f,v)]):u},[])},UB=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=$we(a,n),c=e.orderedTooltipTicks,u=e.tooltipAxis,f=e.tooltipTicks,m=$pe(s,c,f,u);if(m>=0&&f){var g=f[m]&&f[m].value,v=ST(e,r,m,g),x=Fwe(n,c,m,a);return{activeTooltipIndex:m,activeLabel:g,activePayload:v,activeCoordinate:x}}return null},qwe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,c=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,m=e.layout,g=e.children,v=e.stackOffset,x=FH(m,a);return n.reduce(function(T,S){var _,C=S.type.defaultProps!==void 0?Ne(Ne({},S.type.defaultProps),S.props):S.props,I=C.type,P=C.dataKey,V=C.allowDataOverflow,j=C.allowDuplicatedCategory,D=C.scale,A=C.ticks,N=C.includeHidden,k=C[s];if(T[k])return T;var $=Jx(e.data,{graphicalItems:i.filter(function(Z){var ue,Oe=s in Z.props?Z.props[s]:(ue=Z.type.defaultProps)===null||ue===void 0?void 0:ue[s];return Oe===k}),dataStartIndex:u,dataEndIndex:f}),M=$.length,z,U,Y;gwe(C.domain,V,I)&&(z=P7(C.domain,null,V),x&&(I==="number"||D!=="auto")&&(Y=Rm($,P,"category")));var ee=cK(I);if(!z||z.length===0){var K,J=(K=C.domain)!==null&&K!==void 0?K:ee;if(P){if(z=Rm($,P,I),I==="category"&&x){var Q=Ple(z);j&&Q?(U=z,z=ub(0,M)):j||(z=UD(J,z,S).reduce(function(Z,ue){return Z.indexOf(ue)>=0?Z:[].concat(jd(Z),[ue])},[]))}else if(I==="category")j?z=z.filter(function(Z){return Z!==""&&!Pt(Z)}):z=UD(J,z,S).reduce(function(Z,ue){return Z.indexOf(ue)>=0||ue===""||Pt(ue)?Z:[].concat(jd(Z),[ue])},[]);else if(I==="number"){var fe=Kpe($,i.filter(function(Z){var ue,Oe,se=s in Z.props?Z.props[s]:(ue=Z.type.defaultProps)===null||ue===void 0?void 0:ue[s],ke="hide"in Z.props?Z.props.hide:(Oe=Z.type.defaultProps)===null||Oe===void 0?void 0:Oe.hide;return se===k&&(N||!ke)}),P,a,m);fe&&(z=fe)}x&&(I==="number"||D!=="auto")&&(Y=Rm($,P,"category"))}else x?z=ub(0,M):c&&c[k]&&c[k].hasStack&&I==="number"?z=v==="expand"?[0,1]:WH(c[k].stackGroups,u,f):z=$H($,i.filter(function(Z){var ue=s in Z.props?Z.props[s]:Z.type.defaultProps[s],Oe="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return ue===k&&(N||!Oe)}),I,m,!0);if(I==="number")z=xT(g,z,k,a,A),J&&(z=P7(J,z,V));else if(I==="category"&&J){var ie=J,W=z.every(function(Z){return ie.indexOf(Z)>=0});W&&(z=ie)}}return Ne(Ne({},T),{},Et({},k,Ne(Ne({},C),{},{axisType:a,domain:z,categoricalDomain:Y,duplicateDomain:U,originalDomain:(_=C.domain)!==null&&_!==void 0?_:ee,isCategorical:x,layout:m})))},{})},Hwe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,c=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,m=e.layout,g=e.children,v=Jx(e.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:f}),x=v.length,T=FH(m,a),S=-1;return n.reduce(function(_,C){var I=C.type.defaultProps!==void 0?Ne(Ne({},C.type.defaultProps),C.props):C.props,P=I[s],V=cK("number");if(!_[P]){S++;var j;return T?j=ub(0,x):c&&c[P]&&c[P].hasStack?(j=WH(c[P].stackGroups,u,f),j=xT(g,j,P,a)):(j=P7(V,$H(v,n.filter(function(D){var A,N,k=s in D.props?D.props[s]:(A=D.type.defaultProps)===null||A===void 0?void 0:A[s],$="hide"in D.props?D.props.hide:(N=D.type.defaultProps)===null||N===void 0?void 0:N.hide;return k===P&&!$}),"number",m),i.defaultProps.allowDataOverflow),j=xT(g,j,P,a)),Ne(Ne({},_),{},Et({},P,Ne(Ne({axisType:a},i.defaultProps),{},{hide:!0,orientation:as(zwe,"".concat(a,".").concat(S%2),null),domain:j,originalDomain:V,isCategorical:T,layout:m})))}return _},{})},Gwe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,c=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,m=e.children,g="".concat(i,"Id"),v=Ra(m,a),x={};return v&&v.length?x=qwe(e,{axes:v,graphicalItems:s,axisType:i,axisIdKey:g,stackGroups:c,dataStartIndex:u,dataEndIndex:f}):s&&s.length&&(x=Hwe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:g,stackGroups:c,dataStartIndex:u,dataEndIndex:f})),x},Kwe=function(e){var r=wc(e),n=tl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:OA(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Yv(r,n)}},zB=function(e){var r=e.children,n=e.defaultShowTooltip,i=Aa(r,wd),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Wwe=function(e){return!e||!e.length?!1:e.some(function(r){var n=il(r&&r.type);return n&&n.indexOf("Bar")>=0})},VB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Xwe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,c=e.yAxisMap,u=c===void 0?{}:c,f=n.width,m=n.height,g=n.children,v=n.margin||{},x=Aa(g,wd),T=Aa(g,Hh),S=Object.keys(u).reduce(function(j,D){var A=u[D],N=A.orientation;return!A.mirror&&!A.hide?Ne(Ne({},j),{},Et({},N,j[N]+A.width)):j},{left:v.left||0,right:v.right||0}),_=Object.keys(s).reduce(function(j,D){var A=s[D],N=A.orientation;return!A.mirror&&!A.hide?Ne(Ne({},j),{},Et({},N,as(j,"".concat(N))+A.height)):j},{top:v.top||0,bottom:v.bottom||0}),C=Ne(Ne({},_),S),I=C.bottom;x&&(C.bottom+=x.props.height||wd.defaultProps.height),T&&r&&(C=Hpe(C,i,n,r));var P=f-C.left-C.right,V=m-C.top-C.bottom;return Ne(Ne({brushBottom:I},C),{},{width:Math.max(P,0),height:Math.max(V,0)})},Ywe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},uK=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,c=s===void 0?["axis"]:s,u=e.axisComponents,f=e.legendContent,m=e.formatAxisMap,g=e.defaultProps,v=function(C,I){var P=I.graphicalItems,V=I.stackGroups,j=I.offset,D=I.updateId,A=I.dataStartIndex,N=I.dataEndIndex,k=C.barSize,$=C.layout,M=C.barGap,z=C.barCategoryGap,U=C.maxBarSize,Y=VB($),ee=Y.numericAxisName,K=Y.cateAxisName,J=Wwe(P),Q=[];return P.forEach(function(fe,ie){var W=Jx(C.data,{graphicalItems:[fe],dataStartIndex:A,dataEndIndex:N}),Z=fe.type.defaultProps!==void 0?Ne(Ne({},fe.type.defaultProps),fe.props):fe.props,ue=Z.dataKey,Oe=Z.maxBarSize,se=Z["".concat(ee,"Id")],ke=Z["".concat(K,"Id")],Me={},et=u.reduce(function(rt,yt){var Ke=I["".concat(yt.axisType,"Map")],vt=Z["".concat(yt.axisType,"Id")];Ke&&Ke[vt]||yt.axisType==="zAxis"||y0();var qt=Ke[vt];return Ne(Ne({},rt),{},Et(Et({},yt.axisType,qt),"".concat(yt.axisType,"Ticks"),tl(qt)))},Me),Ae=et[K],qe=et["".concat(K,"Ticks")],he=V&&V[se]&&V[se].hasStack&&rge(fe,V[se].stackGroups),pe=il(fe.type).indexOf("Bar")>=0,Ge=Yv(Ae,qe),$e=[],it=J&&Fpe({barSize:k,stackGroups:V,totalSize:Ywe(et,K)});if(pe){var lt,er,je=Pt(Oe)?U:Oe,le=(lt=(er=Yv(Ae,qe,!0))!==null&&er!==void 0?er:je)!==null&&lt!==void 0?lt:0;$e=qpe({barGap:M,barCategoryGap:z,bandSize:le!==Ge?le:Ge,sizeList:it[ke],maxBarSize:je}),le!==Ge&&($e=$e.map(function(rt){return Ne(Ne({},rt),{},{position:Ne(Ne({},rt.position),{},{offset:rt.position.offset-le/2})})}))}var ze=fe&&fe.type&&fe.type.getComposedData;ze&&Q.push({props:Ne(Ne({},ze(Ne(Ne({},et),{},{displayedData:W,props:C,dataKey:ue,item:fe,bandSize:Ge,barPosition:$e,offset:j,stackedData:he,layout:$,dataStartIndex:A,dataEndIndex:N}))),{},Et(Et(Et({key:fe.key||"item-".concat(ie)},ee,et[ee]),K,et[K]),"animationId",D)),childIndex:Wle(fe,C.children),item:fe})}),Q},x=function(C,I){var P=C.props,V=C.dataStartIndex,j=C.dataEndIndex,D=C.updateId;if(!Jj({props:P}))return null;var A=P.children,N=P.layout,k=P.stackOffset,$=P.data,M=P.reverseStackOrder,z=VB(N),U=z.numericAxisName,Y=z.cateAxisName,ee=Ra(A,n),K=ege($,ee,"".concat(U,"Id"),"".concat(Y,"Id"),k,M),J=u.reduce(function(Z,ue){var Oe="".concat(ue.axisType,"Map");return Ne(Ne({},Z),{},Et({},Oe,Gwe(P,Ne(Ne({},ue),{},{graphicalItems:ee,stackGroups:ue.axisType===U&&K,dataStartIndex:V,dataEndIndex:j}))))},{}),Q=Xwe(Ne(Ne({},J),{},{props:P,graphicalItems:ee}),I==null?void 0:I.legendBBox);Object.keys(J).forEach(function(Z){J[Z]=m(P,J[Z],Q,Z.replace("Map",""),r)});var fe=J["".concat(Y,"Map")],ie=Kwe(fe),W=v(P,Ne(Ne({},J),{},{dataStartIndex:V,dataEndIndex:j,updateId:D,graphicalItems:ee,stackGroups:K,offset:Q}));return Ne(Ne({formattedGraphicalItems:W,graphicalItems:ee,offset:Q,stackGroups:K},ie),J)},T=(function(_){function C(I){var P,V,j;return kwe(this,C),j=jwe(this,C,[I]),Et(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(j,"accessibilityManager",new pwe),Et(j,"handleLegendBBoxUpdate",function(D){if(D){var A=j.state,N=A.dataStartIndex,k=A.dataEndIndex,$=A.updateId;j.setState(Ne({legendBBox:D},x({props:j.props,dataStartIndex:N,dataEndIndex:k,updateId:$},Ne(Ne({},j.state),{},{legendBBox:D}))))}}),Et(j,"handleReceiveSyncEvent",function(D,A,N){if(j.props.syncId===D){if(N===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(A)}}),Et(j,"handleBrushChange",function(D){var A=D.startIndex,N=D.endIndex;if(A!==j.state.dataStartIndex||N!==j.state.dataEndIndex){var k=j.state.updateId;j.setState(function(){return Ne({dataStartIndex:A,dataEndIndex:N},x({props:j.props,dataStartIndex:A,dataEndIndex:N,updateId:k},j.state))}),j.triggerSyncEvent({dataStartIndex:A,dataEndIndex:N})}}),Et(j,"handleMouseEnter",function(D){var A=j.getMouseInfo(D);if(A){var N=Ne(Ne({},A),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseEnter;kt(k)&&k(N,D)}}),Et(j,"triggeredAfterMouseMove",function(D){var A=j.getMouseInfo(D),N=A?Ne(Ne({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseMove;kt(k)&&k(N,D)}),Et(j,"handleItemMouseEnter",function(D){j.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),Et(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Et(j,"handleMouseMove",function(D){D.persist(),j.throttleTriggeredAfterMouseMove(D)}),Et(j,"handleMouseLeave",function(D){j.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};j.setState(A),j.triggerSyncEvent(A);var N=j.props.onMouseLeave;kt(N)&&N(A,D)}),Et(j,"handleOuterEvent",function(D){var A=Kle(D),N=as(j.props,"".concat(A));if(A&&kt(N)){var k,$;/.*touch.*/i.test(A)?$=j.getMouseInfo(D.changedTouches[0]):$=j.getMouseInfo(D),N((k=$)!==null&&k!==void 0?k:{},D)}}),Et(j,"handleClick",function(D){var A=j.getMouseInfo(D);if(A){var N=Ne(Ne({},A),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var k=j.props.onClick;kt(k)&&k(N,D)}}),Et(j,"handleMouseDown",function(D){var A=j.props.onMouseDown;if(kt(A)){var N=j.getMouseInfo(D);A(N,D)}}),Et(j,"handleMouseUp",function(D){var A=j.props.onMouseUp;if(kt(A)){var N=j.getMouseInfo(D);A(N,D)}}),Et(j,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),Et(j,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&j.handleMouseDown(D.changedTouches[0])}),Et(j,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&j.handleMouseUp(D.changedTouches[0])}),Et(j,"handleDoubleClick",function(D){var A=j.props.onDoubleClick;if(kt(A)){var N=j.getMouseInfo(D);A(N,D)}}),Et(j,"handleContextMenu",function(D){var A=j.props.onContextMenu;if(kt(A)){var N=j.getMouseInfo(D);A(N,D)}}),Et(j,"triggerSyncEvent",function(D){j.props.syncId!==void 0&&Y_.emit(Q_,j.props.syncId,D,j.eventEmitterSymbol)}),Et(j,"applySyncEvent",function(D){var A=j.props,N=A.layout,k=A.syncMethod,$=j.state.updateId,M=D.dataStartIndex,z=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)j.setState(Ne({dataStartIndex:M,dataEndIndex:z},x({props:j.props,dataStartIndex:M,dataEndIndex:z,updateId:$},j.state)));else if(D.activeTooltipIndex!==void 0){var U=D.chartX,Y=D.chartY,ee=D.activeTooltipIndex,K=j.state,J=K.offset,Q=K.tooltipTicks;if(!J)return;if(typeof k=="function")ee=k(Q,D);else if(k==="value"){ee=-1;for(var fe=0;fe<Q.length;fe++)if(Q[fe].value===D.activeLabel){ee=fe;break}}var ie=Ne(Ne({},J),{},{x:J.left,y:J.top}),W=Math.min(U,ie.x+ie.width),Z=Math.min(Y,ie.y+ie.height),ue=Q[ee]&&Q[ee].value,Oe=ST(j.state,j.props.data,ee),se=Q[ee]?{x:N==="horizontal"?Q[ee].coordinate:W,y:N==="horizontal"?Z:Q[ee].coordinate}:lK;j.setState(Ne(Ne({},D),{},{activeLabel:ue,activeCoordinate:se,activePayload:Oe,activeTooltipIndex:ee}))}else j.setState(D)}),Et(j,"renderCursor",function(D){var A,N=j.state,k=N.isTooltipActive,$=N.activeCoordinate,M=N.activePayload,z=N.offset,U=N.activeTooltipIndex,Y=N.tooltipAxisBandSize,ee=j.getTooltipEventType(),K=(A=D.props.active)!==null&&A!==void 0?A:k,J=j.props.layout,Q=D.key||"_recharts-cursor";return ne.createElement(_we,{key:Q,activeCoordinate:$,activePayload:M,activeTooltipIndex:U,chartName:r,element:D,isActive:K,layout:J,offset:z,tooltipAxisBandSize:Y,tooltipEventType:ee})}),Et(j,"renderPolarAxis",function(D,A,N){var k=as(D,"type.axisType"),$=as(j.state,"".concat(k,"Map")),M=D.type.defaultProps,z=M!==void 0?Ne(Ne({},M),D.props):D.props,U=$&&$[z["".concat(k,"Id")]];return q.cloneElement(D,Ne(Ne({},U),{},{className:Bt(k,U.className),key:D.key||"".concat(A,"-").concat(N),ticks:tl(U,!0)}))}),Et(j,"renderPolarGrid",function(D){var A=D.props,N=A.radialLines,k=A.polarAngles,$=A.polarRadius,M=j.state,z=M.radiusAxisMap,U=M.angleAxisMap,Y=wc(z),ee=wc(U),K=ee.cx,J=ee.cy,Q=ee.innerRadius,fe=ee.outerRadius;return q.cloneElement(D,{polarAngles:Array.isArray(k)?k:tl(ee,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray($)?$:tl(Y,!0).map(function(ie){return ie.coordinate}),cx:K,cy:J,innerRadius:Q,outerRadius:fe,key:D.key||"polar-grid",radialLines:N})}),Et(j,"renderLegend",function(){var D=j.state.formattedGraphicalItems,A=j.props,N=A.children,k=A.width,$=A.height,M=j.props.margin||{},z=k-(M.left||0)-(M.right||0),U=zH({children:N,formattedGraphicalItems:D,legendWidth:z,legendContent:f});if(!U)return null;var Y=U.item,ee=LB(U,Swe);return q.cloneElement(Y,Ne(Ne({},ee),{},{chartWidth:k,chartHeight:$,margin:M,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Et(j,"renderTooltip",function(){var D,A=j.props,N=A.children,k=A.accessibilityLayer,$=Aa(N,Ks);if(!$)return null;var M=j.state,z=M.isTooltipActive,U=M.activeCoordinate,Y=M.activePayload,ee=M.activeLabel,K=M.offset,J=(D=$.props.active)!==null&&D!==void 0?D:z;return q.cloneElement($,{viewBox:Ne(Ne({},K),{},{x:K.left,y:K.top}),active:J,label:ee,payload:J?Y:[],coordinate:U,accessibilityLayer:k})}),Et(j,"renderBrush",function(D){var A=j.props,N=A.margin,k=A.data,$=j.state,M=$.offset,z=$.dataStartIndex,U=$.dataEndIndex,Y=$.updateId;return q.cloneElement(D,{key:D.key||"_recharts-brush",onChange:yy(j.handleBrushChange,D.props.onChange),data:k,x:Qe(D.props.x)?D.props.x:M.left,y:Qe(D.props.y)?D.props.y:M.top+M.height+M.brushBottom-(N.bottom||0),width:Qe(D.props.width)?D.props.width:M.width,startIndex:z,endIndex:U,updateId:"brush-".concat(Y)})}),Et(j,"renderReferenceElement",function(D,A,N){if(!D)return null;var k=j,$=k.clipPathId,M=j.state,z=M.xAxisMap,U=M.yAxisMap,Y=M.offset,ee=D.type.defaultProps||{},K=D.props,J=K.xAxisId,Q=J===void 0?ee.xAxisId:J,fe=K.yAxisId,ie=fe===void 0?ee.yAxisId:fe;return q.cloneElement(D,{key:D.key||"".concat(A,"-").concat(N),xAxis:z[Q],yAxis:U[ie],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:$})}),Et(j,"renderActivePoints",function(D){var A=D.item,N=D.activePoint,k=D.basePoint,$=D.childIndex,M=D.isRange,z=[],U=A.props.key,Y=A.item.type.defaultProps!==void 0?Ne(Ne({},A.item.type.defaultProps),A.item.props):A.item.props,ee=Y.activeDot,K=Y.dataKey,J=Ne(Ne({index:$,dataKey:K,cx:N.x,cy:N.y,r:4,fill:tE(A.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},xt(ee,!1)),Av(ee));return z.push(C.renderActiveDot(ee,J,"".concat(U,"-activePoint-").concat($))),k?z.push(C.renderActiveDot(ee,Ne(Ne({},J),{},{cx:k.x,cy:k.y}),"".concat(U,"-basePoint-").concat($))):M&&z.push(null),z}),Et(j,"renderGraphicChild",function(D,A,N){var k=j.filterFormatItem(D,A,N);if(!k)return null;var $=j.getTooltipEventType(),M=j.state,z=M.isTooltipActive,U=M.tooltipAxis,Y=M.activeTooltipIndex,ee=M.activeLabel,K=j.props.children,J=Aa(K,Ks),Q=k.props,fe=Q.points,ie=Q.isRange,W=Q.baseLine,Z=k.item.type.defaultProps!==void 0?Ne(Ne({},k.item.type.defaultProps),k.item.props):k.item.props,ue=Z.activeDot,Oe=Z.hide,se=Z.activeBar,ke=Z.activeShape,Me=!!(!Oe&&z&&J&&(ue||se||ke)),et={};$!=="axis"&&J&&J.props.trigger==="click"?et={onClick:yy(j.handleItemMouseEnter,D.props.onClick)}:$!=="axis"&&(et={onMouseLeave:yy(j.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:yy(j.handleItemMouseEnter,D.props.onMouseEnter)});var Ae=q.cloneElement(D,Ne(Ne({},k.props),et));function qe(yt){return typeof U.dataKey=="function"?U.dataKey(yt.payload):null}if(Me)if(Y>=0){var he,pe;if(U.dataKey&&!U.allowDuplicatedCategory){var Ge=typeof U.dataKey=="function"?qe:"payload.".concat(U.dataKey.toString());he=Tv(fe,Ge,ee),pe=ie&&W&&Tv(W,Ge,ee)}else he=fe==null?void 0:fe[Y],pe=ie&&W&&W[Y];if(ke||se){var $e=D.props.activeIndex!==void 0?D.props.activeIndex:Y;return[q.cloneElement(D,Ne(Ne(Ne({},k.props),et),{},{activeIndex:$e})),null,null]}if(!Pt(he))return[Ae].concat(jd(j.renderActivePoints({item:k,activePoint:he,basePoint:pe,childIndex:Y,isRange:ie})))}else{var it,lt=(it=j.getItemByXY(j.state.activeCoordinate))!==null&&it!==void 0?it:{graphicalItem:Ae},er=lt.graphicalItem,je=er.item,le=je===void 0?D:je,ze=er.childIndex,rt=Ne(Ne(Ne({},k.props),et),{},{activeIndex:ze});return[q.cloneElement(le,rt),null,null]}return ie?[Ae,null,null]:[Ae,null]}),Et(j,"renderCustomized",function(D,A,N){return q.cloneElement(D,Ne(Ne({key:"recharts-customized-".concat(N)},j.props),j.state))}),Et(j,"renderMap",{CartesianGrid:{handler:_y,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:_y},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:_y},YAxis:{handler:_y},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((P=I.id)!==null&&P!==void 0?P:og("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=Uq(j.triggeredAfterMouseMove,(V=I.throttleDelay)!==null&&V!==void 0?V:1e3/60),j.state={},j}return Pwe(C,_),Iwe(C,[{key:"componentDidMount",value:function(){var P,V;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(V=this.props.margin.top)!==null&&V!==void 0?V:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,V=P.children,j=P.data,D=P.height,A=P.layout,N=Aa(V,Ks);if(N){var k=N.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,M=ST(this.state,j,k,$),z=this.state.tooltipTicks[k].coordinate,U=(this.state.offset.top+D)/2,Y=A==="horizontal",ee=Y?{x:z,y:U}:{y:z,x:U},K=this.state.formattedGraphicalItems.find(function(Q){var fe=Q.item;return fe.type.name==="Scatter"});K&&(ee=Ne(Ne({},ee),K.props.points[k].tooltipPosition),M=K.props.points[k].tooltipPayload);var J={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:$,activePayload:M,activeCoordinate:ee};this.setState(J),this.renderCursor(N),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,V){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==V.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var j,D;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(P){n7([Aa(P.children,Ks)],[Aa(this.props.children,Ks)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=Aa(this.props.children,Ks);if(P&&typeof P.props.shared=="boolean"){var V=P.props.shared?"axis":"item";return c.indexOf(V)>=0?V:a}return a}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var V=this.container,j=V.getBoundingClientRect(),D=Mhe(j),A={chartX:Math.round(P.pageX-D.left),chartY:Math.round(P.pageY-D.top)},N=j.width/V.offsetWidth||1,k=this.inRange(A.chartX,A.chartY,N);if(!k)return null;var $=this.state,M=$.xAxisMap,z=$.yAxisMap,U=this.getTooltipEventType(),Y=UB(this.state,this.props.data,this.props.layout,k);if(U!=="axis"&&M&&z){var ee=wc(M).scale,K=wc(z).scale,J=ee&&ee.invert?ee.invert(A.chartX):null,Q=K&&K.invert?K.invert(A.chartY):null;return Ne(Ne({},A),{},{xValue:J,yValue:Q},Y)}return Y?Ne(Ne({},A),Y):null}},{key:"inRange",value:function(P,V){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,A=P/j,N=V/j;if(D==="horizontal"||D==="vertical"){var k=this.state.offset,$=A>=k.left&&A<=k.left+k.width&&N>=k.top&&N<=k.top+k.height;return $?{x:A,y:N}:null}var M=this.state,z=M.angleAxisMap,U=M.radiusAxisMap;if(z&&U){var Y=wc(z);return $D({x:A,y:N},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,V=this.getTooltipEventType(),j=Aa(P,Ks),D={};j&&V==="axis"&&(j.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Av(this.props,this.handleOuterEvent);return Ne(Ne({},A),D)}},{key:"addListener",value:function(){Y_.on(Q_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Y_.removeListener(Q_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,V,j){for(var D=this.state.formattedGraphicalItems,A=0,N=D.length;A<N;A++){var k=D[A];if(k.item===P||k.props.key===P.key||V===il(k.item.type)&&j===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,V=this.state.offset,j=V.left,D=V.top,A=V.height,N=V.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:P},ne.createElement("rect",{x:j,y:D,height:A,width:N})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(V,j){var D=DB(j,2),A=D[0],N=D[1];return Ne(Ne({},V),{},Et({},A,N.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(V,j){var D=DB(j,2),A=D[0],N=D[1];return Ne(Ne({},V),{},Et({},A,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var V;return(V=this.state.xAxisMap)===null||V===void 0||(V=V[P])===null||V===void 0?void 0:V.scale}},{key:"getYScaleByAxisId",value:function(P){var V;return(V=this.state.yAxisMap)===null||V===void 0||(V=V[P])===null||V===void 0?void 0:V.scale}},{key:"getItemByXY",value:function(P){var V=this.state,j=V.formattedGraphicalItems,D=V.activeItem;if(j&&j.length)for(var A=0,N=j.length;A<N;A++){var k=j[A],$=k.props,M=k.item,z=M.type.defaultProps!==void 0?Ne(Ne({},M.type.defaultProps),M.props):M.props,U=il(M.type);if(U==="Bar"){var Y=($.data||[]).find(function(Q){return tve(P,Q)});if(Y)return{graphicalItem:k,payload:Y}}else if(U==="RadialBar"){var ee=($.data||[]).find(function(Q){return $D(P,Q)});if(ee)return{graphicalItem:k,payload:ee}}else if(Fx(k,D)||qx(k,D)||Pp(k,D)){var K=Mbe({graphicalItem:k,activeTooltipItem:D,itemData:z.data}),J=z.activeIndex===void 0?K:z.activeIndex;return{graphicalItem:Ne(Ne({},k),{},{childIndex:J}),payload:Pp(k,D)?z.data[K]:k.props.data[K]}}}return null}},{key:"render",value:function(){var P=this;if(!Jj(this))return null;var V=this.props,j=V.children,D=V.className,A=V.width,N=V.height,k=V.style,$=V.compact,M=V.title,z=V.desc,U=LB(V,Twe),Y=xt(U,!1);if($)return ne.createElement(vB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(a7,Lh({},Y,{width:A,height:N,title:M,desc:z}),this.renderClipPath(),tR(j,this.renderMap)));if(this.props.accessibilityLayer){var ee,K;Y.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,Y.role=(K=this.props.role)!==null&&K!==void 0?K:"application",Y.onKeyDown=function(Q){P.accessibilityManager.keyboardEvent(Q)},Y.onFocus=function(){P.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return ne.createElement(vB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",Lh({className:Bt("recharts-wrapper",D),style:Ne({position:"relative",cursor:"default",width:A,height:N},k)},J,{ref:function(fe){P.container=fe}}),ne.createElement(a7,Lh({},Y,{width:A,height:N,title:M,desc:z,style:Vwe}),this.renderClipPath(),tR(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(q.Component);Et(T,"displayName",r),Et(T,"defaultProps",Ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),Et(T,"getDerivedStateFromProps",function(_,C){var I=_.dataKey,P=_.data,V=_.children,j=_.width,D=_.height,A=_.layout,N=_.stackOffset,k=_.margin,$=C.dataStartIndex,M=C.dataEndIndex;if(C.updateId===void 0){var z=zB(_);return Ne(Ne(Ne({},z),{},{updateId:0},x(Ne(Ne({props:_},z),{},{updateId:0}),C)),{},{prevDataKey:I,prevData:P,prevWidth:j,prevHeight:D,prevLayout:A,prevStackOffset:N,prevMargin:k,prevChildren:V})}if(I!==C.prevDataKey||P!==C.prevData||j!==C.prevWidth||D!==C.prevHeight||A!==C.prevLayout||N!==C.prevStackOffset||!qh(k,C.prevMargin)){var U=zB(_),Y={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},ee=Ne(Ne({},UB(C,P,A)),{},{updateId:C.updateId+1}),K=Ne(Ne(Ne({},U),Y),ee);return Ne(Ne(Ne({},K),x(Ne({props:_},K),C)),{},{prevDataKey:I,prevData:P,prevWidth:j,prevHeight:D,prevLayout:A,prevStackOffset:N,prevMargin:k,prevChildren:V})}if(!n7(V,C.prevChildren)){var J,Q,fe,ie,W=Aa(V,wd),Z=W&&(J=(Q=W.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&J!==void 0?J:$,ue=W&&(fe=(ie=W.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&fe!==void 0?fe:M,Oe=Z!==$||ue!==M,se=!Pt(P),ke=se&&!Oe?C.updateId:C.updateId+1;return Ne(Ne({updateId:ke},x(Ne(Ne({props:_},C),{},{updateId:ke,dataStartIndex:Z,dataEndIndex:ue}),C)),{},{prevChildren:V,dataStartIndex:Z,dataEndIndex:ue})}return null}),Et(T,"renderActiveDot",function(_,C,I){var P;return q.isValidElement(_)?P=q.cloneElement(_,C):kt(_)?P=_(C):P=ne.createElement(zx,C),ne.createElement(cr,{className:"recharts-active-dot",key:I},P)});var S=q.forwardRef(function(C,I){return ne.createElement(T,Lh({},C,{ref:I}))});return S.displayName=T.displayName,S},Qwe=uK({chartName:"RadarChart",GraphicalChild:yg,axisComponents:[{axisType:"angleAxis",AxisComp:gg},{axisType:"radiusAxis",AxisComp:pg}],formatAxisMap:fge,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Zwe=uK({chartName:"ScatterChart",GraphicalChild:bg,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:Qx},{axisType:"yAxis",AxisComp:Zx},{axisType:"zAxis",AxisComp:Yx}],formatAxisMap:qxe});function $B(t,e=800){const[r,n]=q.useState(t),i=q.useRef(t),a=q.useRef(0);return q.useEffect(()=>{const s=i.current,c=t;if(i.current=t,s===c)return;const u=performance.now(),f=c-s,m=g=>{const v=g-u,x=Math.min(v/e,1),T=1-Math.pow(1-x,3);n(Math.round(s+f*T)),x<1&&(a.current=requestAnimationFrame(m))};return a.current=requestAnimationFrame(m),()=>cancelAnimationFrame(a.current)},[t,e]),r}const FB={COMMON:{primary:"#64748b",glow:"rgba(100,116,139,0.4)",particle:"#94a3b8"},UNCOMMON:{primary:"#22c55e",glow:"rgba(34,197,94,0.5)",particle:"#4ade80"},RARE:{primary:"#3b82f6",glow:"rgba(59,130,246,0.6)",particle:"#60a5fa"},UNIQUE:{primary:"#f59e0b",glow:"rgba(245,158,11,0.7)",particle:"#fbbf24"}},Nh=t=>t?FB[t.rarity]||FB.COMMON:null,qB=({equipped:t,appearance:e})=>{const r=(e==null?void 0:e.hue)||0,n=(e==null?void 0:e.bodyType)==="B",i=t==null?void 0:t.HEAD,a=t==null?void 0:t.CHEST,s=t==null?void 0:t.HANDS,c=t==null?void 0:t.FEET,u=t==null?void 0:t.BELT,f=t==null?void 0:t.AMULET,m=q.useMemo(()=>[i,a,s,c,u,f].filter(Boolean).length,[i,a,s,c,u,f]),g=q.useMemo(()=>[i,a,s,c,u,f].some(x=>(x==null?void 0:x.rarity)==="UNIQUE"),[i,a,s,c,u,f]),v=Math.min(1,.3+m*.12);return h.jsxs("svg",{viewBox:"0 0 200 340",className:"w-full h-full",style:{filter:"drop-shadow(0 0 20px rgba(147,51,234,0.15))"},children:[h.jsxs("defs",{children:[h.jsxs("filter",{id:"av-glow",x:"-30%",y:"-30%",width:"160%",height:"160%",children:[h.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),h.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),h.jsxs("filter",{id:"av-soft",x:"-10%",y:"-10%",width:"120%",height:"120%",children:[h.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),h.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),h.jsxs("filter",{id:"av-bloom",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[h.jsx("feGaussianBlur",{stdDeviation:"8",result:"blur"}),h.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),h.jsxs("linearGradient",{id:"av-suit",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:`hsl(${r+240}, 30%, 22%)`}),h.jsx("stop",{offset:"100%",stopColor:`hsl(${r+240}, 25%, 12%)`})]}),h.jsxs("linearGradient",{id:"av-suit-highlight",x1:"0",y1:"0",x2:"1",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:`hsla(${r+240}, 40%, 40%, 0.3)`}),h.jsx("stop",{offset:"100%",stopColor:"transparent"})]}),h.jsxs("radialGradient",{id:"av-core-energy",cx:"50%",cy:"50%",r:"50%",children:[h.jsx("stop",{offset:"0%",stopColor:`hsl(${r+180}, 100%, 70%)`,stopOpacity:v}),h.jsx("stop",{offset:"60%",stopColor:`hsl(${r+200}, 80%, 50%)`,stopOpacity:v*.4}),h.jsx("stop",{offset:"100%",stopColor:"transparent",stopOpacity:"0"})]}),h.jsxs("linearGradient",{id:"av-visor",x1:"0",y1:"0",x2:"1",y2:"0",children:[h.jsx("stop",{offset:"0%",stopColor:`hsl(${r+180}, 90%, 55%)`}),h.jsx("stop",{offset:"100%",stopColor:`hsl(${r+200}, 80%, 45%)`})]})]}),h.jsx("ellipse",{cx:"100",cy:"328",rx:"45",ry:"6",fill:"rgba(0,0,0,0.4)",children:h.jsx("animate",{attributeName:"rx",values:"45;42;45",dur:"3.5s",repeatCount:"indefinite"})}),h.jsxs("g",{id:"av-body",children:[h.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-1.5; 0,0",dur:"3.5s",repeatCount:"indefinite"}),h.jsxs("g",{children:[h.jsx("path",{d:n?"M79 200 L77 272 Q77 280 82 280 L90 280 Q94 280 94 276 L92 200":"M78 200 L75 270 Q75 280 82 280 L92 280 Q97 280 96 275 L93 200",fill:"url(#av-suit)",stroke:`hsl(${r+240}, 30%, 30%)`,strokeWidth:"1"}),h.jsx("path",{d:n?"M108 200 L106 272 Q106 280 111 280 L119 280 Q123 280 123 276 L121 200":"M107 200 L104 270 Q104 280 111 280 L121 280 Q126 280 125 275 L122 200",fill:"url(#av-suit)",stroke:`hsl(${r+240}, 30%, 30%)`,strokeWidth:"1"}),h.jsx("ellipse",{cx:"85",cy:"235",rx:"6",ry:"3",fill:`hsla(${r+180}, 60%, 50%, 0.15)`}),h.jsx("ellipse",{cx:"115",cy:"235",rx:"6",ry:"3",fill:`hsla(${r+180}, 60%, 50%, 0.15)`})]}),c&&(()=>{const x=Nh(c);return h.jsxs("g",{filter:"url(#av-soft)",children:[h.jsx("path",{d:"M74 268 L72 280 Q70 290 80 290 L92 290 Q98 290 96 282 L94 268",fill:x.primary,stroke:"white",strokeWidth:"0.5",strokeOpacity:"0.4"}),h.jsx("path",{d:"M104 268 L102 280 Q100 290 110 290 L122 290 Q128 290 126 282 L124 268",fill:x.primary,stroke:"white",strokeWidth:"0.5",strokeOpacity:"0.4"}),h.jsx("line",{x1:"78",y1:"278",x2:"92",y2:"278",stroke:x.particle,strokeWidth:"1",strokeOpacity:"0.6"}),h.jsx("line",{x1:"108",y1:"278",x2:"122",y2:"278",stroke:x.particle,strokeWidth:"1",strokeOpacity:"0.6"})]})})(),h.jsx("path",{d:n?"M66 90 Q100 85 134 90 L128 200 Q100 205 72 200 Z":"M68 90 Q100 82 132 90 L126 200 Q100 206 74 200 Z",fill:"url(#av-suit)",stroke:`hsl(${r+240}, 25%, 28%)`,strokeWidth:"1.5"}),h.jsx("path",{d:n?"M66 90 Q100 85 100 90 L100 200 Q86 202 72 200 Z":"M68 90 Q100 82 100 90 L100 200 Q86 204 74 200 Z",fill:"url(#av-suit-highlight)"}),h.jsx("line",{x1:"100",y1:"92",x2:"100",y2:"195",stroke:`hsla(${r+180}, 40%, 50%, 0.1)`,strokeWidth:"0.5"}),h.jsx("line",{x1:"82",y1:"100",x2:"82",y2:"190",stroke:`hsla(${r+180}, 40%, 50%, 0.06)`,strokeWidth:"0.5"}),h.jsx("line",{x1:"118",y1:"100",x2:"118",y2:"190",stroke:`hsla(${r+180}, 40%, 50%, 0.06)`,strokeWidth:"0.5"}),a&&(()=>{const x=Nh(a);return h.jsxs("g",{filter:"url(#av-soft)",children:[h.jsx("path",{d:n?"M72 95 Q100 90 128 95 L125 170 Q100 175 75 170 Z":"M74 95 Q100 88 126 95 L123 170 Q100 176 77 170 Z",fill:x.primary,fillOpacity:"0.35",stroke:x.primary,strokeWidth:"1",strokeOpacity:"0.6"}),h.jsx("path",{d:"M80 110 L120 110",stroke:x.particle,strokeWidth:"0.8",strokeOpacity:"0.3"}),h.jsx("path",{d:"M82 130 L118 130",stroke:x.particle,strokeWidth:"0.8",strokeOpacity:"0.3"}),h.jsx("path",{d:"M84 150 L116 150",stroke:x.particle,strokeWidth:"0.8",strokeOpacity:"0.3"}),h.jsx("circle",{cx:"100",cy:"120",r:"6",fill:"none",stroke:x.primary,strokeWidth:"1.5",strokeOpacity:"0.7"}),h.jsx("circle",{cx:"100",cy:"120",r:"2",fill:x.particle,fillOpacity:"0.8",children:h.jsx("animate",{attributeName:"fillOpacity",values:"0.8;0.4;0.8",dur:"2s",repeatCount:"indefinite"})})]})})(),u&&(()=>{const x=Nh(u);return h.jsxs("g",{filter:"url(#av-soft)",children:[h.jsx("rect",{x:"72",y:"188",width:"56",height:"12",rx:"3",fill:x.primary,fillOpacity:"0.6",stroke:x.primary,strokeWidth:"0.8"}),h.jsx("rect",{x:"94",y:"189",width:"12",height:"10",rx:"2",fill:x.particle,fillOpacity:"0.5"}),h.jsx("circle",{cx:"82",cy:"194",r:"3",fill:x.primary,stroke:x.particle,strokeWidth:"0.5"}),h.jsx("circle",{cx:"118",cy:"194",r:"3",fill:x.primary,stroke:x.particle,strokeWidth:"0.5"})]})})(),h.jsxs("g",{children:[h.jsx("path",{d:n?"M66 92 L48 95 Q42 96 42 102 L42 160 Q42 166 48 167 L56 168 L66 160 L66 92":"M68 92 L52 95 Q45 97 44 103 L42 158 Q42 165 48 167 L58 168 L68 160 L68 92",fill:"url(#av-suit)",stroke:`hsl(${r+240}, 30%, 30%)`,strokeWidth:"1"}),h.jsx("path",{d:n?"M134 92 L152 95 Q158 96 158 102 L158 160 Q158 166 152 167 L144 168 L134 160 L134 92":"M132 92 L148 95 Q155 97 156 103 L158 158 Q158 165 152 167 L142 168 L132 160 L132 92",fill:"url(#av-suit)",stroke:`hsl(${r+240}, 30%, 30%)`,strokeWidth:"1"}),h.jsx("ellipse",{cx:"62",cy:"94",rx:"10",ry:"6",fill:`hsl(${r+240}, 28%, 20%)`,stroke:`hsla(${r+180}, 50%, 50%, 0.2)`,strokeWidth:"1"}),h.jsx("ellipse",{cx:"138",cy:"94",rx:"10",ry:"6",fill:`hsl(${r+240}, 28%, 20%)`,stroke:`hsla(${r+180}, 50%, 50%, 0.2)`,strokeWidth:"1"})]}),s&&(()=>{const x=Nh(s);return h.jsxs("g",{filter:"url(#av-soft)",children:[h.jsx("path",{d:"M40 148 L40 170 Q40 175 46 175 L58 175 Q62 175 62 170 L62 148",fill:x.primary,fillOpacity:"0.5",stroke:x.primary,strokeWidth:"1",strokeOpacity:"0.7"}),h.jsx("path",{d:"M138 148 L138 170 Q138 175 144 175 L156 175 Q160 175 160 170 L160 148",fill:x.primary,fillOpacity:"0.5",stroke:x.primary,strokeWidth:"1",strokeOpacity:"0.7"}),h.jsx("circle",{cx:"48",cy:"170",r:"2",fill:x.particle,fillOpacity:"0.7",children:h.jsx("animate",{attributeName:"fillOpacity",values:"0.7;0.3;0.7",dur:"1.5s",repeatCount:"indefinite"})}),h.jsx("circle",{cx:"152",cy:"170",r:"2",fill:x.particle,fillOpacity:"0.7",children:h.jsx("animate",{attributeName:"fillOpacity",values:"0.3;0.7;0.3",dur:"1.5s",repeatCount:"indefinite"})})]})})(),h.jsx("g",{filter:"url(#av-bloom)",children:h.jsx("circle",{cx:"100",cy:"130",r:"8",fill:"url(#av-core-energy)",children:h.jsx("animate",{attributeName:"r",values:"8;10;8",dur:"3s",repeatCount:"indefinite"})})}),h.jsx("circle",{cx:"100",cy:"130",r:"3",fill:`hsl(${r+180}, 100%, 75%)`,fillOpacity:v*.8,children:h.jsx("animate",{attributeName:"fillOpacity",values:`${v*.8};${v*.4};${v*.8}`,dur:"2s",repeatCount:"indefinite"})}),h.jsx("rect",{x:"92",y:"74",width:"16",height:"18",rx:"4",fill:`hsl(${r+240}, 25%, 18%)`}),h.jsxs("g",{children:[h.jsx("ellipse",{cx:"100",cy:"52",rx:n?22:20,ry:"28",fill:`hsl(${r+240}, 22%, 24%)`,stroke:`hsl(${r+240}, 20%, 30%)`,strokeWidth:"1.5"}),h.jsx("ellipse",{cx:"100",cy:"55",rx:"15",ry:"16",fill:`hsl(${r+240}, 18%, 15%)`}),!i&&h.jsxs("g",{children:[h.jsx("ellipse",{cx:"91",cy:"50",rx:"5",ry:"3",fill:`hsl(${r+180}, 80%, 60%)`,fillOpacity:"0.8",children:h.jsx("animate",{attributeName:"fillOpacity",values:"0.8;0.6;0.8",dur:"4s",repeatCount:"indefinite"})}),h.jsx("ellipse",{cx:"109",cy:"50",rx:"5",ry:"3",fill:`hsl(${r+180}, 80%, 60%)`,fillOpacity:"0.8",children:h.jsx("animate",{attributeName:"fillOpacity",values:"0.8;0.6;0.8",dur:"4s",repeatCount:"indefinite"})}),h.jsx("line",{x1:"93",y1:"64",x2:"107",y2:"64",stroke:`hsla(${r+180}, 40%, 50%, 0.2)`,strokeWidth:"1",strokeLinecap:"round"})]})]}),i&&(()=>{const x=Nh(i),T=i.visualId||"";return h.jsx("g",{filter:"url(#av-glow)",children:T.includes("helm")?h.jsxs(h.Fragment,{children:[h.jsx("path",{d:"M76 25 Q100 8 124 25 L126 65 Q100 75 74 65 Z",fill:x.primary,fillOpacity:"0.5",stroke:x.primary,strokeWidth:"1.5"}),h.jsx("rect",{x:"80",y:"45",width:"40",height:"8",rx:"4",fill:"url(#av-visor)",fillOpacity:"0.9",children:h.jsx("animate",{attributeName:"fillOpacity",values:"0.9;0.6;0.9",dur:"3s",repeatCount:"indefinite"})})]}):T.includes("visor")?h.jsx("rect",{x:"78",y:"44",width:"44",height:"12",rx:"6",fill:"url(#av-visor)",fillOpacity:"0.85",stroke:x.primary,strokeWidth:"1",children:h.jsx("animate",{attributeName:"fillOpacity",values:"0.85;0.55;0.85",dur:"2.5s",repeatCount:"indefinite"})}):h.jsxs(h.Fragment,{children:[h.jsx("circle",{cx:"89",cy:"48",r:"9",fill:"none",stroke:x.primary,strokeWidth:"2"}),h.jsx("circle",{cx:"111",cy:"48",r:"9",fill:"none",stroke:x.primary,strokeWidth:"2"}),h.jsx("circle",{cx:"89",cy:"48",r:"6",fill:x.particle,fillOpacity:"0.5",children:h.jsx("animate",{attributeName:"fillOpacity",values:"0.5;0.3;0.5",dur:"2s",repeatCount:"indefinite"})}),h.jsx("circle",{cx:"111",cy:"48",r:"6",fill:x.particle,fillOpacity:"0.5",children:h.jsx("animate",{attributeName:"fillOpacity",values:"0.3;0.5;0.3",dur:"2s",repeatCount:"indefinite"})}),h.jsx("line",{x1:"98",y1:"48",x2:"102",y2:"48",stroke:x.primary,strokeWidth:"2"})]})})})(),f&&(()=>{const x=Nh(f);return h.jsxs("g",{filter:"url(#av-glow)",children:[h.jsx("path",{d:"M90 78 Q100 100 110 78",stroke:x.particle,strokeWidth:"0.8",fill:"none",strokeOpacity:"0.5"}),h.jsx("polygon",{points:"100,92 94,100 100,106 106,100",fill:x.primary,stroke:x.particle,strokeWidth:"1",children:h.jsx("animate",{attributeName:"opacity",values:"1;0.7;1",dur:"2.5s",repeatCount:"indefinite"})}),h.jsx("circle",{cx:"100",cy:"99",r:"2.5",fill:x.particle,children:h.jsx("animate",{attributeName:"r",values:"2.5;3;2.5",dur:"2s",repeatCount:"indefinite"})})]})})(),g&&h.jsx("g",{filter:"url(#av-bloom)",children:[0,60,120,180,240,300].map((x,T)=>{const S=x*Math.PI/180,_=100+Math.cos(S)*55,C=150+Math.sin(S)*80;return h.jsxs("circle",{cx:_,cy:C,r:"1.5",fill:"#fbbf24",fillOpacity:"0.6",children:[h.jsx("animate",{attributeName:"cy",values:`${C};${C-20};${C}`,dur:`${2+T*.3}s`,repeatCount:"indefinite"}),h.jsx("animate",{attributeName:"fillOpacity",values:"0.6;0;0.6",dur:`${2+T*.3}s`,repeatCount:"indefinite"})]},T)})}),m>=3&&h.jsxs("g",{children:[h.jsx("line",{x1:"100",y1:"92",x2:"100",y2:"195",stroke:`hsl(${r+180}, 80%, 55%)`,strokeWidth:"0.6",strokeOpacity:"0.2",strokeDasharray:"4 6",children:h.jsx("animate",{attributeName:"strokeDashoffset",values:"0;-20",dur:"2s",repeatCount:"indefinite"})}),h.jsx("line",{x1:"62",y1:"94",x2:"48",y2:"165",stroke:`hsl(${r+180}, 80%, 55%)`,strokeWidth:"0.5",strokeOpacity:"0.15",strokeDasharray:"3 5",children:h.jsx("animate",{attributeName:"strokeDashoffset",values:"0;-16",dur:"1.8s",repeatCount:"indefinite"})}),h.jsx("line",{x1:"138",y1:"94",x2:"152",y2:"165",stroke:`hsl(${r+180}, 80%, 55%)`,strokeWidth:"0.5",strokeOpacity:"0.15",strokeDasharray:"3 5",children:h.jsx("animate",{attributeName:"strokeDashoffset",values:"0;-16",dur:"1.8s",repeatCount:"indefinite"})})]})]})]})},Jwe={Textbook:h.jsx(Is,{className:"w-5 h-5"}),Simulation:h.jsx(C$,{className:"w-5 h-5 fill-current"}),"Lab Guide":h.jsx(ox,{className:"w-5 h-5"}),"Practice Set":h.jsx(f0,{className:"w-5 h-5"}),Article:h.jsx(O$,{className:"w-5 h-5"}),"Video Lesson":h.jsx(M$,{className:"w-5 h-5"}),Supplemental:h.jsx(V8,{className:"w-5 h-5"})},e5e=({user:t,assignments:e,submissions:r,enabledFeatures:n,onNavigate:i,onStartAssignment:a})=>{var pr,ri,Ba,fs,Ua,vn,fa,fi,rr,qn,ms,ps,mi,Xi,Zr,Ls,pi,ki,Bs;const s=fo(),{confirm:c}=Wc(),[u,f]=q.useState(new Set),[m,g]=q.useState(t.classType||((pr=t.enrolledClasses)==null?void 0:pr[0])||"Unassigned"),[v,x]=q.useState(null),[T,S]=q.useState([]),[_,C]=q.useState(!1),[I,P]=q.useState(null),V=ne.useRef(((ri=t.gamification)==null?void 0:ri.lastLevelSeen)||1),[j,D]=q.useState("RESOURCES"),[A,N]=q.useState(!1),[k,$]=q.useState(null),[M,z]=q.useState(!1),[U,Y]=q.useState(null),[ee,K]=q.useState(null),[J,Q]=q.useState(null);q.useEffect(()=>{var at,Tt,mt;const ge=((at=t.gamification)==null?void 0:at.level)||1,Pe=Math.max(((Tt=t.gamification)==null?void 0:Tt.lastLevelSeen)||1,V.current);if(ge>Pe){const zt=((mt=t.gamification)==null?void 0:mt.inventory)||[],nr=zt.length>0?zt[zt.length-1]:null;P(nr),C(!0),fc.levelUp()}},[(Ba=t.gamification)==null?void 0:Ba.level,(fs=t.gamification)==null?void 0:fs.lastLevelSeen,(Ua=t.gamification)==null?void 0:Ua.inventory]),q.useEffect(()=>{const ge=Ze.subscribeToXPEvents(at=>{const Tt=at.find(mt=>mt.isActive&&(mt.type==="GLOBAL"||mt.targetClass===m));x(Tt||null)}),Pe=Ze.subscribeToQuests(at=>{S(at.filter(Tt=>{if(!Tt.isActive)return!1;const mt=new Date;return!(Tt.startsAt&&new Date(Tt.startsAt)>mt||Tt.expiresAt&&new Date(Tt.expiresAt)<mt)}))});return()=>{ge(),Pe()}},[m]);const fe=((fa=(vn=t.gamification)==null?void 0:vn.classXp)==null?void 0:fa[m])||0,ie=ne.useRef(fe);q.useEffect(()=>{if(fe>ie.current&&ie.current>=0){const ge=fe-ie.current;if(ge>0&&ge<500){Q(ge),fc.xpGain();const Pe=setTimeout(()=>Q(null),2e3);return()=>clearTimeout(Pe)}}ie.current=fe},[fe]);const[W,Z]=q.useState([]);q.useEffect(()=>{const ge=Ze.subscribeToAnnouncements(Z);return()=>ge()},[]);const ue=q.useMemo(()=>{var Pe;const ge=((Pe=t.gamification)==null?void 0:Pe.dismissedAnnouncements)||[];return W.filter(at=>!ge.includes(at.id)&&(at.classType==="GLOBAL"||at.classType===m))},[W,(fi=t.gamification)==null?void 0:fi.dismissedAnnouncements,m]),Oe=async ge=>{await Ze.dismissAnnouncement(t.id,ge)},se=async()=>{var Pe;const ge=((Pe=t.gamification)==null?void 0:Pe.level)||1;V.current=ge,C(!1),P(null),await Ze.updateUserLastLevelSeen(t.id,ge)},ke=async(ge,Pe)=>{await Ze.updateUserAppearance(t.id,{hue:ge,bodyType:Pe},m),N(!1)},Me=t.enrolledClasses||(t.classType?[t.classType]:[]),et=q.useMemo(()=>LF(t),[t]),Ae=q.useMemo(()=>{var ge;return lA((ge=t.gamification)==null?void 0:ge.equipped)},[(rr=t.gamification)==null?void 0:rr.equipped]),qe=[{subject:"Tech",A:et.tech,fullMark:100},{subject:"Focus",A:et.focus,fullMark:100},{subject:"Analysis",A:et.analysis,fullMark:100},{subject:"Charisma",A:et.charisma,fullMark:100}],he=q.useMemo(()=>{const ge={};return e.filter(Pe=>Pe.classType===m&&Pe.status!=="DRAFT").forEach(Pe=>{var mt;const at=r.find(zt=>zt.assignmentId===Pe.id),Tt=Pe.unit||"General Resources";ge[Tt]||(ge[Tt]=[]),ge[Tt].push({...Pe,lastEngagement:at&&at.submittedAt||null,engagementTime:((mt=at==null?void 0:at.metrics)==null?void 0:mt.engagementTime)||0})}),ge},[e,r,m]),pe=ge=>{const Pe=new Set(u);Pe.has(ge)?Pe.delete(ge):Pe.add(ge),f(Pe)},Ge=((qn=t.gamification)==null?void 0:qn.level)||1,$e=((ms=t.gamification)==null?void 0:ms.currency)||0,it=fe,lt=it%1e3/1e3*100,er=$B(it),je=$B($e),le=Sv(Ge),ze=async ge=>{const Pe=ge.target.value;g(Pe),await Ze.switchUserView(t.id,Pe)},rt=async ge=>{try{await Ze.equipItem(t.id,ge,m),$(null),fc.equip(),s.success(`${ge.name} equipped.`)}catch{s.error("Failed to equip item.")}},yt=async()=>{if(!k)return;const ge=VI(k);if(await c({message:`Salvage ${k.name} for ${ge} Cyber-Flux? This item will be destroyed.`,confirmLabel:"Salvage"})){z(!0);try{await Ze.disenchantItem(t.id,k,m),$(null),fc.salvage(),s.success(`Salvaged for ${ge} Cyber-Flux.`)}catch{s.error("Failed to salvage item.")}finally{z(!1)}}},Ke=async ge=>{if(!k)return;const Pe=Ou[ge];if($e<Pe)return s.error("Insufficient Cyber-Flux.");z(!0);try{await Ze.craftItem(t.id,k,ge,m),$(null),fc.craft(),s.success(`${ge.charAt(0)+ge.slice(1).toLowerCase()} complete.`)}catch{s.error("Fabrication protocol failed.")}finally{z(!1)}},vt=((ps=t.gamification)==null?void 0:ps.activeQuests)||[],qt=((mi=t.gamification)==null?void 0:mi.completedQuests)||[],Ht=T.filter(ge=>vt.some(Pe=>Pe.questId===ge.id)),wt=T.filter(ge=>!vt.some(Pe=>Pe.questId===ge.id)&&!qt.includes(ge.id)),dr=async ge=>{try{await Ze.acceptQuest(t.id,ge.id),fc.questAccept(),s.success(`Contract accepted: ${ge.title}`)}catch{s.error("Failed to accept contract.")}},Gr=async ge=>{const Pe=ge.type==="CUSTOM";if(await c({message:Pe?"Submit quest for manual HQ verification?":"Deploy agent for skill check? This will calculate your success probability based on current gear.",confirmLabel:Pe?"Submit":"Deploy",variant:"info"}))try{await Ze.deployMission(t.id,ge),fc.questDeploy(),s.info("Mission deployed. Awaiting verification.")}catch{s.error("Deployment failed.")}},Wt=q.useMemo(()=>BF(t,m),[t,m]),Pn=Wt.equipped,Vr=Wt.inventory,ti=["HEAD","HANDS","RING1","AMULET"],jr=["CHEST","BELT","FEET","RING2"],ln=({slot:ge})=>{const Pe=Pn[ge],at=Pe?rn(Pe.rarity):{border:"border-white/10",bg:"bg-black/20",text:"text-gray-600",glow:"",shimmer:""},Tt=()=>ge==="HEAD"?h.jsx(oa,{className:`w-5 h-5 ${at.text}`}):ge==="CHEST"?h.jsx(Mc,{className:`w-5 h-5 ${at.text}`}):ge==="HANDS"?h.jsx(Ew,{className:`w-5 h-5 ${at.text}`}):ge==="FEET"?h.jsx(Ai,{className:`w-5 h-5 ${at.text}`}):ge==="BELT"?h.jsx(Sw,{className:`w-5 h-5 ${at.text}`}):ge==="AMULET"?h.jsx(Aw,{className:`w-5 h-5 ${at.text}`}):h.jsx(Rh,{className:`w-5 h-5 ${at.text}`});return h.jsx("button",{className:`w-16 h-16 rounded-xl border-2 flex flex-col items-center justify-center relative group transition-all hover:scale-110 ${at.border} ${at.bg} ${at.shimmer} ${at.glow}`,onClick:()=>Pe&&$(Pe),children:Pe?h.jsxs(h.Fragment,{children:[Tt(),h.jsx("span",{className:`text-[7px] font-bold mt-0.5 truncate w-full text-center px-0.5 ${at.text}`,children:Pe.baseName||Pe.name.split(" ").slice(-1)[0]}),h.jsxs("div",{className:"absolute -top-[4.5rem] left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-150 pointer-events-none z-30 bg-black/95 border border-white/15 px-3 py-2 rounded-lg whitespace-nowrap shadow-xl backdrop-blur-sm",children:[h.jsx("div",{className:`text-[10px] font-bold ${at.text}`,children:Pe.name}),h.jsxs("div",{className:"text-[9px] text-gray-400 font-mono",children:[Pe.rarity," ",ge]}),h.jsx("div",{className:"text-[9px] text-gray-500 mt-0.5",children:Object.entries(Pe.stats).map(([mt,zt])=>`+${zt} ${mt.slice(0,3).toUpperCase()}`).join("  ")}),h.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-black/95 border-b border-r border-white/15 rotate-45"})]})]}):h.jsx("span",{className:"text-[8px] font-bold text-gray-600 uppercase tracking-widest",children:ge.slice(0,4)})})};return h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 h-full pb-12",children:[ue.length>0&&h.jsx("div",{className:"lg:col-span-12 space-y-2",children:ue.map(ge=>{const Pe={INFO:"bg-blue-600/10 border-blue-500/30 text-blue-300",WARNING:"bg-yellow-600/10 border-yellow-500/30 text-yellow-300",URGENT:"bg-red-600/10 border-red-500/30 text-red-300 animate-pulse"};return h.jsxs("div",{className:`border rounded-2xl p-4 flex items-start gap-3 ${Pe[ge.priority]}`,children:[h.jsx(VS,{className:"w-5 h-5 shrink-0 mt-0.5"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-bold text-sm text-white",children:ge.title}),h.jsx("div",{className:"text-xs mt-0.5 opacity-80",children:ge.content})]}),h.jsx("button",{onClick:()=>Oe(ge.id),className:"p-1 text-gray-500 hover:text-white transition shrink-0",children:h.jsx(Rs,{className:"w-4 h-4"})})]},ge.id)})}),v&&h.jsx("div",{className:"lg:col-span-12",children:h.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 border border-blue-500/50 rounded-2xl p-4 flex items-center justify-between shadow-[0_0_20px_rgba(59,130,246,0.3)] animate-pulse",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-blue-500 text-white p-2 rounded-lg",children:h.jsx(oa,{className:"w-5 h-5 fill-current"})}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-white font-bold text-lg uppercase tracking-wider",children:[v.title," ACTIVE"]}),h.jsxs("p",{className:"text-blue-300 text-xs font-mono",children:["Protocol engaged. Gaining ",v.multiplier,"x XP on all tasks."]})]})]}),h.jsxs("div",{className:"text-3xl font-black text-white/90 font-mono tracking-tighter",children:[v.multiplier,"x"]})]})}),h.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[h.jsxs("div",{className:`bg-white/5 border rounded-3xl p-6 backdrop-blur-md relative overflow-hidden group ${le.tierColor.split(" ")[0]} border-opacity-30`,children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/40 to-transparent"}),h.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[h.jsx("div",{className:`w-24 h-24 rounded-full p-1 bg-gradient-to-tr from-white/10 to-white/5 mb-4 ${le.tierGlow} shadow-xl`,children:h.jsx("img",{src:t.avatarUrl,alt:"Avatar",className:`w-full h-full rounded-full border-4 object-cover ${le.tierColor.split(" ")[0]}`})}),h.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:((Xi=t.gamification)==null?void 0:Xi.codename)||t.name}),h.jsxs("div",{className:"flex flex-col items-center gap-1",children:[h.jsxs("span",{className:`font-mono text-xs uppercase tracking-[0.2em] mt-1 font-bold ${le.tierColor.split(" ")[1]}`,children:[le.rankName," (Lvl ",Ge,")"]}),h.jsxs("span",{className:"text-[10px] bg-yellow-500/10 text-yellow-400 px-2 py-0.5 rounded border border-yellow-500/20 font-bold uppercase tracking-widest",children:["Gear Score: ",Ae]})]}),Me.length>1&&h.jsxs("div",{className:"mt-4 relative w-full",children:[h.jsx("select",{value:m,onChange:ze,className:"w-full bg-black/40 border border-white/20 text-white text-xs font-bold py-2 px-4 rounded-xl appearance-none focus:outline-none focus:border-purple-500 transition",children:Me.map(ge=>h.jsx("option",{value:ge,children:ge},ge))}),h.jsx(js,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400 pointer-events-none"})]}),h.jsx("div",{className:"w-full h-2 bg-black/60 rounded-full mt-6 overflow-hidden border border-white/5 relative",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-400 to-purple-500 transition-all duration-1000",style:{width:`${lt}%`}})}),h.jsxs("div",{className:"flex justify-between w-full text-[9px] text-gray-500 mt-2 font-mono font-bold relative",children:[h.jsxs("span",{children:[er.toLocaleString()," XP (",m,")"]}),h.jsx("span",{children:"Next Rank"}),J&&h.jsxs("span",{className:"xp-float-anim absolute -top-6 left-1/2 -translate-x-1/2 text-sm font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-400 whitespace-nowrap",children:["+",J," XP"]})]})]})]}),h.jsx("div",{className:"bg-black/20 border border-white/5 rounded-2xl p-4 flex items-center justify-between",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500/20 text-cyan-400 flex items-center justify-center",children:h.jsx(mie,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest",children:"Cyber-Flux"}),h.jsx("div",{className:"text-xl font-black text-white leading-none",children:je})]})]})}),(((Zr=t.gamification)==null?void 0:Zr.engagementStreak)||0)>0&&h.jsx("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-2xl p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-500/20 text-orange-400 flex items-center justify-center",children:h.jsx(T$,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest",children:"Streak"}),h.jsxs("div",{className:"text-xl font-black text-orange-400 leading-none",children:[((Ls=t.gamification)==null?void 0:Ls.engagementStreak)||0,"w"]})]})]})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest px-2",children:"Access Nodes"}),n.physicsLab&&h.jsxs("button",{onClick:()=>i("Physics Lab"),className:"w-full bg-blue-500/10 hover:bg-blue-500/20 border border-blue-500/20 p-4 rounded-2xl flex items-center justify-between transition group",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-blue-500/20 rounded-xl text-blue-400 shadow-inner",children:h.jsx(ox,{className:"w-5 h-5"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-bold text-gray-200 text-sm",children:"Physics Lab"}),h.jsx("div",{className:"text-[10px] text-blue-300/70 uppercase font-bold tracking-tight",children:"Active Simulations"})]})]}),h.jsx(Ju,{className:"w-4 h-4 text-blue-500 group-hover:translate-x-1 transition"})]}),n.evidenceLocker&&h.jsxs("button",{onClick:()=>i("Forensics"),className:"w-full bg-emerald-500/10 hover:bg-emerald-500/20 border border-emerald-500/20 p-4 rounded-2xl flex items-center justify-between transition group",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-xl text-emerald-400 shadow-inner",children:h.jsx(wie,{className:"w-5 h-5"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-bold text-gray-200 text-sm",children:"Evidence Log"}),h.jsx("div",{className:"text-[10px] text-emerald-300/70 uppercase font-bold tracking-tight",children:"Weekly Portfolio"})]})]}),h.jsx(Ju,{className:"w-4 h-4 text-emerald-500 group-hover:translate-x-1 transition"})]})]})]}),h.jsx("div",{className:"lg:col-span-9 space-y-6",children:h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-md min-h-[600px] flex flex-col",children:[h.jsxs("div",{className:"flex gap-4 mb-6 border-b border-white/10 pb-4",children:[h.jsxs("button",{onClick:()=>D("RESOURCES"),className:`flex items-center gap-2 font-bold text-sm transition px-4 py-2 rounded-lg ${j==="RESOURCES"?"bg-white/10 text-white":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[h.jsx(V8,{className:"w-4 h-4"})," Resources"]}),h.jsxs("button",{onClick:()=>D("LOADOUT"),className:`flex items-center gap-2 font-bold text-sm transition px-4 py-2 rounded-lg ${j==="LOADOUT"?"bg-white/10 text-white":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[h.jsx(Rh,{className:"w-4 h-4"})," Agent Loadout"]}),h.jsxs("button",{onClick:()=>D("MISSIONS"),className:`flex items-center gap-2 font-bold text-sm transition px-4 py-2 rounded-lg relative ${j==="MISSIONS"?"bg-white/10 text-white":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[h.jsx(f0,{className:"w-4 h-4"})," Missions",wt.length>0&&h.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border border-black"})]})]}),j==="MISSIONS"&&h.jsxs("div",{className:"space-y-6",style:{animation:"tabEnter 0.3s ease-out both"},children:[h.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest px-2",children:"Available Contracts"}),h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[wt.length===0&&h.jsx("div",{className:"text-gray-500 italic px-4 py-10 text-center bg-black/10 rounded-xl border border-dashed border-white/5",children:"No new contracts available. Check back later."}),wt.map(ge=>h.jsxs("div",{className:"bg-black/20 border border-indigo-500/30 p-5 rounded-2xl relative overflow-hidden group hover:border-indigo-500/60 transition",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("h4",{className:"text-lg font-bold text-white",children:ge.title}),h.jsx("span",{className:"bg-indigo-600 text-white text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wider",children:ge.type.replace("_"," ")})]}),h.jsx("p",{className:"text-sm text-gray-400 mb-4 pr-16",children:ge.description}),h.jsxs("div",{className:"flex items-center gap-4 text-xs font-mono text-gray-500 mb-4",children:[ge.statRequirements&&h.jsx("div",{className:"flex gap-2",children:Object.entries(ge.statRequirements).map(([Pe,at])=>h.jsxs("span",{className:"bg-white/5 px-2 py-1 rounded border border-white/10 uppercase",children:[at," ",Pe]},Pe))}),ge.expiresAt&&h.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[h.jsx(ss,{className:"w-3 h-3"})," Expires: ",new Date(ge.expiresAt).toLocaleDateString()]})]}),h.jsxs("button",{onClick:()=>dr(ge),className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-xl text-sm font-bold shadow-lg shadow-indigo-900/20 transition flex items-center gap-2",children:[h.jsx(zS,{className:"w-4 h-4"})," Accept Contract"]})]},ge.id))]}),h.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest px-2 pt-4 border-t border-white/10",children:"Active Operations"}),h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[Ht.length===0&&h.jsx("div",{className:"text-gray-500 italic px-4 py-10 text-center bg-black/10 rounded-xl border border-dashed border-white/5",children:"No active operations. Accept a contract above to begin."}),Ht.map(ge=>{var mt,zt;const Pe=((mt=vt.find(nr=>nr.questId===ge.id))==null?void 0:mt.status)||"ACCEPTED",at=(zt=vt.find(nr=>nr.questId===ge.id))==null?void 0:zt.deploymentRoll,Tt=ge.type==="CUSTOM";return h.jsxs("div",{className:"bg-[#0f0720]/80 border border-purple-500/30 p-6 rounded-3xl relative group hover:border-purple-500/60 transition-all shadow-[0_0_30px_rgba(168,85,247,0.1)]",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-2xl bg-purple-600/20 text-purple-400 flex items-center justify-center border border-purple-500/20 shadow-inner",children:h.jsx(f0,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-white font-bold text-lg leading-tight",children:ge.title}),h.jsxs("div",{className:"text-[10px] text-gray-500 uppercase font-black tracking-[0.1em]",children:[ge.type," MISSION"]})]})]}),h.jsx("span",{className:`text-[10px] font-black tracking-widest px-3 py-1 rounded-full border ${Pe==="COMPLETED"?"bg-green-500/20 text-green-400 border-green-500/30":Pe==="FAILED"?"bg-red-500/20 text-red-400 border-red-500/30":Pe==="DEPLOYED"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-white/5 text-gray-400 border-white/10"}`,children:Pe})]}),Pe==="ACCEPTED"?h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"text-sm text-gray-400 mb-6 leading-relaxed bg-black/20 p-4 rounded-2xl border border-white/5",children:ge.description}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:()=>Gr(ge),className:"flex-1 bg-indigo-600 hover:bg-indigo-500 text-white py-4 rounded-2xl text-sm font-black uppercase tracking-widest transition shadow-lg shadow-indigo-900/40 flex items-center justify-center gap-3 group/btn",children:[h.jsx(Oie,{className:"w-5 h-5 group-hover/btn:animate-pulse"}),Tt?"Broadcast Submission to HQ":"Deploy for Skill Check"]}),ge.isGroupQuest&&h.jsx("button",{className:"bg-white/5 hover:bg-white/10 text-white px-6 py-4 rounded-2xl text-sm font-black transition border border-white/10",children:h.jsx(id,{className:"w-5 h-5"})})]})]}):Pe==="DEPLOYED"?h.jsxs("div",{className:"bg-black/40 p-6 rounded-3xl border border-purple-500/20 flex flex-col gap-4 animate-in fade-in zoom-in-95",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-ping absolute -top-1 -right-1"}),h.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full absolute -top-1 -right-1 shadow-[0_0_10px_#22c55e]"}),h.jsx(oa,{className:"w-6 h-6 text-purple-400"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Uplink Status"}),h.jsx("div",{className:"text-sm font-black text-white font-mono uppercase tracking-tighter",children:Tt?"AWAITING_HQ_SIG_VERIFICATION":at===100?"SUCCESS_VERIFIED":"FAILURE_DETECTED"})]})]}),h.jsx("div",{className:"h-10 w-px bg-white/5"}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold",children:"Node"}),h.jsx("div",{className:"text-xs font-bold text-purple-300",children:"HQ_CENTRAL"})]})]}),h.jsx("div",{className:"h-1 w-full bg-white/5 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-indigo-500 animate-pulse w-3/4"})}),h.jsx("p",{className:"text-[11px] text-gray-500 italic text-center font-mono",children:Tt?"Encrypted transmission confirmed. HQ is currently reviewing your evidence data. Rewards will be issued upon manual signal confirmation.":"Autonomous verification complete. Skill check results logged below."})]}):null]},ge.id)})]})]},"missions"),j==="RESOURCES"&&h.jsx("div",{style:{animation:"tabEnter 0.3s ease-out both"},children:Object.entries(he).length===0?h.jsx("div",{className:"text-center py-20 text-gray-500 italic",children:"No resources released for this class node."}):h.jsx("div",{className:"space-y-4",children:Object.entries(he).sort().map(([ge,Pe])=>h.jsxs("div",{className:"bg-black/20 rounded-2xl border border-white/5 overflow-hidden",children:[h.jsxs("button",{onClick:()=>pe(ge),className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[u.has(ge)?h.jsx(js,{className:"w-4 h-4 text-purple-400"}):h.jsx(Ju,{className:"w-4 h-4 text-gray-500"}),h.jsx("span",{className:"font-bold text-sm text-gray-300 uppercase tracking-wider",children:ge})]}),h.jsxs("span",{className:"text-[10px] bg-white/5 text-gray-500 px-2 py-0.5 rounded-full font-mono",children:[Pe.length," Files"]})]}),u.has(ge)&&h.jsx("div",{className:"grid grid-cols-1 gap-2 p-3 pt-0 animate-in slide-in-from-top-2 duration-300",children:Pe.map(at=>{const Tt=!!at.dueDate,mt=at.dueDate?new Date(at.dueDate):null,zt=new Date,nr=mt?Math.ceil((mt.getTime()-zt.getTime())/864e5):1/0,Hn=nr<=0?"text-red-400":nr<=2?"text-yellow-400":"text-gray-500",gi=Math.floor(at.engagementTime/60),Us=gi>=5;return h.jsxs("div",{className:"bg-white/5 border border-white/5 hover:border-purple-500/40 p-4 rounded-xl transition-all cursor-pointer group flex items-center gap-4",onClick:()=>a&&a(at.id),children:[h.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 transition-all ${Us?"bg-green-500/20 text-green-400 ring-2 ring-green-500/30":at.lastEngagement?"bg-green-500/10 text-green-400":"bg-purple-500/10 text-purple-400 group-hover:scale-110 shadow-lg group-hover:shadow-purple-500/20"}`,children:Us?h.jsx(Ai,{className:"w-6 h-6"}):at.lastEngagement?h.jsx(Ai,{className:"w-5 h-5 opacity-60"}):Jwe[at.category||"Supplemental"]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[8px] font-bold uppercase px-1.5 py-0.5 rounded bg-black/40 text-gray-500 border border-white/5",children:at.category}),h.jsx("h4",{className:"font-bold text-white text-sm truncate",children:at.title})]}),h.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:h.jsx("p",{className:"text-xs text-gray-500 truncate",children:at.description})}),h.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[at.lastEngagement&&h.jsxs("span",{className:"text-[9px] text-green-500 font-bold",children:[gi,"m engaged"]}),Tt&&h.jsxs("span",{className:`text-[9px] font-bold flex items-center gap-0.5 ${Hn}`,children:[h.jsx(lo,{className:"w-3 h-3"}),nr<=0?"Overdue":nr===1?"Due tomorrow":`Due in ${nr}d`]})]})]}),h.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition",children:h.jsx(C$,{className:"w-4 h-4 text-purple-400 fill-current"})})]},at.id)})})]},ge))})},"resources"),j==="LOADOUT"&&h.jsxs("div",{className:"flex flex-col h-full",style:{animation:"tabEnter 0.3s ease-out both"},children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 flex-1 min-h-0",children:[h.jsxs("div",{className:"bg-black/30 rounded-2xl border border-white/10 relative overflow-hidden flex flex-col items-center justify-center p-4 min-h-[400px]",children:[h.jsx("div",{className:"absolute inset-0 loadout-hex-bg pointer-events-none"}),h.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:`radial-gradient(ellipse at 50% 60%, hsla(${(((pi=Wt.appearance)==null?void 0:pi.hue)||0)+200}, 60%, 25%, 0.3) 0%, transparent 70%)`}}),h.jsxs("div",{className:"flex w-full h-full relative z-10 justify-between items-center px-4",children:[h.jsx("div",{className:"flex flex-col gap-4",children:ti.map(ge=>h.jsx(ln,{slot:ge},ge))}),h.jsx("div",{className:"w-40 h-full relative",children:h.jsx(qB,{equipped:Pn,appearance:Wt.appearance})}),h.jsx("div",{className:"flex flex-col gap-4",children:jr.map(ge=>h.jsx(ln,{slot:ge},ge))})]}),h.jsxs("button",{onClick:ge=>{ge.preventDefault(),ge.stopPropagation(),N(!0)},className:"absolute bottom-6 bg-purple-600/20 hover:bg-purple-600 text-purple-400 hover:text-white px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-[0.2em] border border-purple-500/30 transition shadow-lg z-[40] flex items-center gap-2",children:[h.jsx(Mie,{className:"w-3.5 h-3.5"}),"Edit DNA Profile"]})]}),h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"bg-black/20 rounded-2xl p-4 border border-white/5 flex-1 min-h-[200px]",children:[h.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Performance Radar"}),h.jsx("div",{className:"h-[200px]",children:h.jsx(zq,{width:"100%",height:"100%",children:h.jsxs(Qwe,{cx:"50%",cy:"50%",outerRadius:"70%",data:qe,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"radarGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#06b6d4",stopOpacity:.6}),h.jsx("stop",{offset:"100%",stopColor:"#a855f7",stopOpacity:.3})]})}),h.jsx(uG,{stroke:"rgba(255,255,255,0.08)"}),h.jsx(gg,{dataKey:"subject",tick:{fill:"#9ca3af",fontSize:10,fontWeight:700}}),h.jsx(pg,{angle:30,domain:[0,150],tick:!1,axisLine:!1}),h.jsx(yg,{name:"Stats",dataKey:"A",stroke:"#a855f7",strokeWidth:2,fill:"url(#radarGradient)",fillOpacity:.5,animationDuration:800})]})})})]}),h.jsx("div",{className:"bg-black/20 rounded-2xl p-4 border border-white/5",children:h.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),h.jsx("span",{className:"text-gray-500",children:"Tech"})," ",h.jsx("span",{className:"text-blue-400 font-bold ml-auto",children:et.tech})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"}),h.jsx("span",{className:"text-gray-500",children:"Focus"})," ",h.jsx("span",{className:"text-green-400 font-bold ml-auto",children:et.focus})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400"}),h.jsx("span",{className:"text-gray-500",children:"Analysis"})," ",h.jsx("span",{className:"text-yellow-400 font-bold ml-auto",children:et.analysis})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400"}),h.jsx("span",{className:"text-gray-500",children:"Charisma"})," ",h.jsx("span",{className:"text-purple-400 font-bold ml-auto",children:et.charisma})]})]})})]})]}),h.jsxs("div",{className:"mt-6 flex-1 min-h-[250px] bg-black/40 border border-white/10 rounded-2xl p-4 overflow-hidden flex flex-col",children:[h.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 flex items-center justify-between",children:[h.jsxs("span",{children:["Gear Storage (",Vr.length,")"]}),h.jsx("span",{className:"text-[9px] text-gray-600",children:"Click to Inspect"})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3 content-start",children:[Vr.map((ge,Pe)=>{const at=Object.values(Pn).some(mt=>(mt==null?void 0:mt.id)===ge.id),Tt=rn(ge.rarity);return h.jsxs("button",{onClick:()=>$(ge),className:`aspect-square rounded-xl border-2 flex flex-col items-center justify-center relative group transition-all hover:scale-105 ${at?"ring-2 ring-white/50 opacity-100":"opacity-80 hover:opacity-100"} ${Tt.bg} ${Tt.border} ${Tt.shimmer} ${at?Tt.glow:""}`,children:[ge.slot==="HEAD"&&h.jsx(oa,{className:`w-6 h-6 ${Tt.text}`}),ge.slot==="CHEST"&&h.jsx(Mc,{className:`w-6 h-6 ${Tt.text}`}),ge.slot==="HANDS"&&h.jsx(Ew,{className:`w-6 h-6 ${Tt.text}`}),ge.slot==="FEET"&&h.jsx(Ai,{className:`w-6 h-6 ${Tt.text}`}),ge.slot==="BELT"&&h.jsx(Sw,{className:`w-6 h-6 ${Tt.text}`}),ge.slot==="AMULET"&&h.jsx(Aw,{className:`w-6 h-6 ${Tt.text}`}),ge.slot==="RING"&&h.jsx(Rh,{className:`w-6 h-6 ${Tt.text}`}),at&&h.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full shadow-lg"}),h.jsxs("div",{className:"absolute -top-[4.5rem] left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-150 pointer-events-none z-30 bg-black/95 border border-white/15 px-3 py-2 rounded-lg whitespace-nowrap shadow-xl backdrop-blur-sm",children:[h.jsx("div",{className:`text-[10px] font-bold ${Tt.text}`,children:ge.name}),h.jsxs("div",{className:"text-[9px] text-gray-400 font-mono",children:[ge.rarity," ",ge.slot,at?"  EQUIPPED":""]}),h.jsx("div",{className:"text-[9px] text-gray-500 mt-0.5",children:Object.entries(ge.stats).map(([mt,zt])=>`+${zt} ${mt.slice(0,3).toUpperCase()}`).join("  ")}),h.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-black/95 border-b border-r border-white/15 rotate-45"})]})]},Pe)}),Array.from({length:Math.max(0,16-Vr.length)}).map((ge,Pe)=>h.jsx("div",{className:"aspect-square rounded-xl border border-white/5 bg-white/5"},`empty-${Pe}`))]})]})]},"loadout")]})}),h.jsx(Ia,{isOpen:A,onClose:()=>{N(!1),Y(null),K(null)},title:"Operative DNA Profile",maxWidth:"max-w-md",children:h.jsxs("div",{className:"p-4 space-y-8",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"w-48 h-72 bg-black/40 rounded-3xl p-4 border border-purple-500/20 shadow-inner loadout-hex-bg",children:h.jsx(qB,{equipped:Pn,appearance:{...Wt.appearance,hue:U??((ki=Wt.appearance)==null?void 0:ki.hue)??0,bodyType:ee??((Bs=Wt.appearance)==null?void 0:Bs.bodyType)??"A"}})})}),h.jsxs("div",{className:"bg-white/5 p-5 rounded-3xl border border-white/10",children:[h.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-4 text-center",children:"Agent Frame"}),h.jsx("div",{className:"flex justify-center gap-3",children:["A","B"].map(ge=>{var at;const Pe=(ee??((at=Wt.appearance)==null?void 0:at.bodyType)??"A")===ge;return h.jsxs("button",{onClick:()=>K(ge),className:`px-6 py-3 rounded-xl border-2 transition-all font-bold text-sm ${Pe?"border-purple-500 bg-purple-500/20 text-white scale-105":"border-white/10 text-gray-500 hover:border-white/20 hover:text-gray-300"}`,children:["Frame ",ge==="A"?"Alpha":"Beta"]},ge)})})]}),h.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/10",children:[h.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-6 text-center",children:"Bio-Signature Tint (Hue-Shift)"}),h.jsx("div",{className:"grid grid-cols-6 gap-3",children:[0,30,60,90,120,150,180,210,240,270,300,330].map(ge=>{var at;const Pe=(U??((at=Wt.appearance)==null?void 0:at.hue)??0)===ge;return h.jsx("button",{onClick:()=>Y(ge),className:`aspect-square rounded-xl border-3 transition-all hover:scale-110 shadow-lg ${Pe?"border-white scale-110 ring-2 ring-white/30":"border-transparent"}`,style:{backgroundColor:`hsl(${ge}, 60%, 45%)`}},ge)})})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>{N(!1),Y(null),K(null)},className:"flex-1 py-3 bg-white/5 border border-white/10 text-gray-400 font-bold rounded-xl hover:bg-white/10 transition",children:"Cancel"}),h.jsx("button",{onClick:()=>{var ge,Pe;ke(U??((ge=Wt.appearance)==null?void 0:ge.hue)??0,ee??((Pe=Wt.appearance)==null?void 0:Pe.bodyType)??"A"),Y(null),K(null)},className:"flex-1 py-3 bg-purple-600 text-white font-bold rounded-xl hover:bg-purple-500 transition shadow-lg shadow-purple-900/20",children:"Save Profile"})]})]})}),h.jsx(Ia,{isOpen:!!k,onClose:()=>$(null),title:"Nano-Fabricator Terminal",maxWidth:"max-w-xl",children:k&&h.jsxs("div",{className:"space-y-6 text-gray-100",children:[h.jsxs("div",{className:`p-5 rounded-xl border ${rn(k.rarity).bg} ${rn(k.rarity).border} ${rn(k.rarity).shimmer} relative overflow-hidden`,children:[h.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[h.jsxs("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center flex-shrink-0 border ${rn(k.rarity).border} ${rn(k.rarity).bg}`,style:{boxShadow:k.rarity==="UNIQUE"?"0 0 20px rgba(249,115,22,0.3)":k.rarity==="RARE"?"0 0 15px rgba(234,179,8,0.2)":"none"},children:[k.slot==="HEAD"&&h.jsx(oa,{className:`w-7 h-7 ${rn(k.rarity).text}`}),k.slot==="CHEST"&&h.jsx(Mc,{className:`w-7 h-7 ${rn(k.rarity).text}`}),k.slot==="HANDS"&&h.jsx(Ew,{className:`w-7 h-7 ${rn(k.rarity).text}`}),k.slot==="FEET"&&h.jsx(Ai,{className:`w-7 h-7 ${rn(k.rarity).text}`}),k.slot==="BELT"&&h.jsx(Sw,{className:`w-7 h-7 ${rn(k.rarity).text}`}),k.slot==="AMULET"&&h.jsx(Aw,{className:`w-7 h-7 ${rn(k.rarity).text}`}),k.slot==="RING"&&h.jsx(Rh,{className:`w-7 h-7 ${rn(k.rarity).text}`})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:`text-lg font-bold ${rn(k.rarity).text}`,children:k.name}),h.jsxs("div",{className:"text-xs text-gray-300 font-mono uppercase",children:[k.rarity," ",k.slot]})]})]}),h.jsx("div",{className:"mt-4 space-y-1",children:Object.entries(k.stats).map(([ge,Pe])=>h.jsxs("div",{className:"flex justify-between text-sm text-gray-200 border-b border-white/5 pb-1",children:[h.jsx("span",{className:"uppercase text-xs text-gray-400 font-bold",children:ge}),h.jsxs("span",{className:"font-mono font-bold",children:["+",Pe]})]},ge))}),h.jsx("div",{className:"mt-4 flex gap-2 flex-wrap",children:k.affixes.map((ge,Pe)=>h.jsxs("span",{className:"text-[9px] bg-black/40 px-2 py-1 rounded border border-white/10 text-gray-400",children:[ge.name," (T",ge.tier,")"]},Pe))})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[(()=>{const ge=k.slot==="RING"?"RING1":k.slot,Pe=Pn[ge]||(k.slot==="RING"?Pn.RING2:null);if(!Pe||Pe.id===k.id)return null;const at=rn(Pe.rarity),Tt=new Set([...Object.keys(k.stats),...Object.keys(Pe.stats)]);return h.jsxs("div",{className:"col-span-2 bg-black/30 border border-white/10 rounded-xl p-3 mb-1",children:[h.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest mb-2",children:"Replacing Currently Equipped"}),h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:`text-xs font-bold ${at.text}`,children:Pe.name}),h.jsx("span",{className:"text-[10px] text-gray-500 font-mono",children:Pe.rarity})]}),h.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:Array.from(Tt).map(mt=>{const zt=k.stats[mt]||0,nr=Pe.stats[mt]||0,Hn=zt-nr;return Hn===0?h.jsxs("span",{className:"text-[10px] text-gray-600 font-mono",children:[mt.slice(0,3).toUpperCase(),": 0"]},mt):h.jsxs("span",{className:`text-[10px] font-mono font-bold ${Hn>0?"text-green-400":"text-red-400"}`,children:[mt.slice(0,3).toUpperCase(),": ",Hn>0?"":"",Math.abs(Hn)]},mt)})})]})})(),h.jsx("button",{onClick:()=>rt(k),className:"col-span-2 py-3 bg-green-600 hover:bg-green-500 text-white font-bold rounded-xl transition shadow-lg shadow-green-900/20",disabled:M,children:"Equip Gear"}),h.jsx("div",{className:"col-span-2 border-t border-white/10 my-2"}),h.jsx("div",{className:"col-span-2 text-center text-xs text-gray-500 font-bold uppercase tracking-widest mb-1",children:"Fabrication Protocols"}),h.jsxs("button",{onClick:()=>Ke("RECALIBRATE"),disabled:M||$e<Ou.RECALIBRATE,className:"bg-black/20 hover:bg-purple-900/20 border border-white/10 hover:border-purple-500/50 p-3 rounded-xl text-left transition group disabled:opacity-50",children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsx("span",{className:"text-xs font-bold text-gray-300 group-hover:text-purple-300",children:"Recalibrate"}),h.jsxs("span",{className:"text-[10px] bg-cyan-900/30 text-cyan-400 px-1.5 rounded",children:[Ou.RECALIBRATE," Flux"]})]}),h.jsx("p",{className:"text-[9px] text-gray-500",children:"Reroll numeric values within current tier."})]}),h.jsxs("button",{onClick:()=>Ke("REFORGE"),disabled:M||$e<Ou.REFORGE||k.rarity==="UNIQUE",className:"bg-black/20 hover:bg-red-900/20 border border-white/10 hover:border-red-500/50 p-3 rounded-xl text-left transition group disabled:opacity-50",children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsx("span",{className:"text-xs font-bold text-gray-300 group-hover:text-red-300",children:"Reforge"}),h.jsxs("span",{className:"text-[10px] bg-cyan-900/30 text-cyan-400 px-1.5 rounded",children:[Ou.REFORGE," Flux"]})]}),h.jsx("p",{className:"text-[9px] text-gray-500",children:"Reroll all affixes. Keeps Rarity."})]}),h.jsxs("button",{onClick:()=>Ke("OPTIMIZE"),disabled:M||$e<Ou.OPTIMIZE,className:"col-span-2 bg-black/20 hover:bg-yellow-900/20 border border-white/10 hover:border-yellow-500/50 p-3 rounded-xl text-left transition group disabled:opacity-50",children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsx("span",{className:"text-xs font-bold text-gray-300 group-hover:text-yellow-300",children:"Optimize Tier"}),h.jsxs("span",{className:"text-[10px] bg-cyan-900/30 text-cyan-400 px-1.5 rounded",children:[Ou.OPTIMIZE," Flux"]})]}),h.jsx("p",{className:"text-[9px] text-gray-500",children:"Upgrade affix tiers to match current operative level."})]}),h.jsx("div",{className:"col-span-2 border-t border-white/10 my-2"}),h.jsxs("button",{onClick:yt,disabled:M,className:"col-span-2 py-3 bg-red-900/20 hover:bg-red-900/40 border border-red-500/30 text-red-400 font-bold rounded-xl transition flex items-center justify-center gap-2",children:[h.jsx(Ei,{className:"w-4 h-4"}),"Salvage for ",VI(k)," Flux"]})]})]})}),h.jsx(Ia,{isOpen:_,onClose:se,title:"PROMOTION GRANTED",maxWidth:"max-w-md",children:h.jsxs("div",{className:"text-center py-6 relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",style:{contain:"strict"},children:Array.from({length:20}).map((ge,Pe)=>h.jsx("div",{className:"absolute w-2 h-2 rounded-full",style:{left:`${10+Math.random()*80}%`,top:"-10px",backgroundColor:["#eab308","#8b5cf6","#06b6d4","#f97316","#22c55e","#ec4899"][Pe%6],animation:`confettiDrift ${1.5+Math.random()*1.5}s ${Math.random()*.8}s ease-out forwards`,opacity:.9,willChange:"transform, opacity"}},Pe))}),h.jsxs("div",{className:"relative inline-block mb-6",children:[h.jsx("div",{className:"absolute inset-[-12px] rounded-full border-2 border-yellow-400/30 animate-ping",style:{animationDuration:"2s"}}),h.jsx("div",{className:"absolute inset-[-6px] rounded-full border border-yellow-400/20 animate-pulse"}),h.jsx("div",{className:"level-up-burst w-28 h-28 mx-auto bg-gradient-to-tr from-yellow-400 via-amber-500 to-yellow-600 rounded-full flex items-center justify-center shadow-[0_0_60px_rgba(234,179,8,0.6)] relative",children:h.jsx("span",{className:"text-5xl font-black text-white drop-shadow-lg",children:Ge})})]}),h.jsx("div",{className:"mb-2 overflow-hidden inline-block",children:h.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",style:{animation:"typeReveal 0.8s steps(20) 0.4s both",overflow:"hidden",whiteSpace:"nowrap",display:"inline-block"},children:le.rankName})}),h.jsx("p",{className:"text-gray-400 mb-8 animate-in fade-in duration-500",style:{animationDelay:"0.6s",animationFillMode:"both"},children:"Clearance Level Increased. New capabilities unlocked."}),I&&h.jsxs("div",{className:`${rn(I.rarity).shimmer} bg-white/5 border rounded-xl p-5 mb-6 relative overflow-hidden ${rn(I.rarity).border}`,style:{animation:"levelUpBurst 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.8s both"},children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/5 via-white/10 to-transparent opacity-50"}),h.jsxs("div",{className:"relative z-10",children:[h.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-[0.2em] mb-2",children:" Supply Drop Received"}),h.jsx("div",{className:`text-xl font-bold ${rn(I.rarity).text}`,children:I.name}),h.jsxs("div",{className:"text-[10px] text-gray-500 uppercase font-mono mt-1",children:[I.rarity," ",I.slot]}),h.jsx("div",{className:"flex justify-center gap-5 mt-3 text-[10px] font-mono",children:Object.entries(I.stats).map(([ge,Pe])=>h.jsxs("span",{className:"text-emerald-400 bg-emerald-500/10 px-2 py-0.5 rounded border border-emerald-500/20",children:["+",Pe," ",ge.toUpperCase()]},ge))})]})]}),h.jsx("button",{onClick:se,className:"w-full py-4 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-400 hover:to-amber-400 text-black font-black rounded-xl uppercase tracking-widest transition shadow-[0_0_30px_rgba(234,179,8,0.3)]",style:{animation:"buttonFadeIn 0.4s ease-out 1.2s both"},children:"Accept Promotion"})]})})]})};var e2=typeof self<"u"?self:global;const $p=typeof navigator<"u",t5e=$p&&typeof HTMLImageElement>"u",Ab=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),t2=e2.Buffer,Sy=e2.BigInt,r2=!!t2,r5e=t=>t;function Eb(t,e=r5e){if(Ab)try{return typeof require=="function"?Promise.resolve(e(require(t))):import(t).then(e)}catch{console.warn(`Couldn't load ${t}`)}}let dE=e2.fetch;const n5e=t=>dE=t;if(!e2.fetch){const t=Eb("http",(n=>n)),e=Eb("https",(n=>n)),r=(n,{headers:i}={})=>new Promise((async(a,s)=>{let{port:c,hostname:u,pathname:f,protocol:m,search:g}=new URL(n);const v={method:"GET",hostname:u,path:encodeURI(f)+g,headers:i};c!==""&&(v.port=Number(c));const x=(m==="https:"?await e:await t).request(v,(T=>{if(T.statusCode===301||T.statusCode===302){let S=new URL(T.headers.location,n).toString();return r(S,{headers:i}).then(a).catch(s)}a({status:T.statusCode,arrayBuffer:()=>new Promise((S=>{let _=[];T.on("data",(C=>_.push(C))),T.on("end",(()=>S(Buffer.concat(_))))}))})}));x.on("error",s),x.end()}));n5e(r)}function Ot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Nb=t=>hK(t)?void 0:t,i5e=t=>t!==void 0;function hK(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(i5e).length===0)}function jn(t){let e=new Error(t);throw delete e.stack,e}function Gu(t){return(t=(function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e})(t).trim())===""?void 0:t}function TT(t){let e=(function(r){let n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048})(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const AT=t=>String.fromCharCode.apply(null,t),HB=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function dK(t){return HB?HB.decode(t):r2?Buffer.from(t).toString("utf8"):decodeURIComponent(escape(AT(t)))}class la{static from(e,r){return e instanceof this&&e.le===r?e:new la(e,void 0,void 0,r)}constructor(e,r=0,n,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-r);let a=new DataView(e,r,n);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof la){n===void 0&&(n=e.byteLength-r),(r+=e.byteOffset)+n>e.byteOffset+e.byteLength&&jn("Creating view outside of available memory in ArrayBuffer");let a=new DataView(e.buffer,r,n);this._swapDataView(a)}else if(typeof e=="number"){let a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else jn("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,r,n=la){return e instanceof DataView||e instanceof la?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||jn("BufferView.set(): Invalid data argument."),this.toUint8().set(e,r),new n(this,r,e.byteLength)}subarray(e,r){return r=r||this._lengthToEnd(e),new la(this,e,r)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,r){return new Uint8Array(this.buffer,this.byteOffset+e,r)}getString(e=0,r=this.byteLength){return dK(this.getUint8Array(e,r))}getLatin1String(e=0,r=this.byteLength){let n=this.getUint8Array(e,r);return AT(n)}getUnicodeString(e=0,r=this.byteLength){const n=[];for(let i=0;i<r&&e+i<this.byteLength;i+=2)n.push(this.getUint16(e+i));return AT(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,r=this.le){return this.dataView.getInt16(e,r)}getInt32(e,r=this.le){return this.dataView.getInt32(e,r)}getUint16(e,r=this.le){return this.dataView.getUint16(e,r)}getUint32(e,r=this.le){return this.dataView.getUint32(e,r)}getFloat32(e,r=this.le){return this.dataView.getFloat32(e,r)}getFloat64(e,r=this.le){return this.dataView.getFloat64(e,r)}getFloat(e,r=this.le){return this.dataView.getFloat32(e,r)}getDouble(e,r=this.le){return this.dataView.getFloat64(e,r)}getUintBytes(e,r,n){switch(r){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,r,n){switch(r){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function ET(t,e){jn(`${t} '${e}' was not loaded, try using full build of exifr.`)}class fE extends Map{constructor(e){super(),this.kind=e}get(e,r){return this.has(e)||ET(this.kind,e),r&&(e in r||(function(n,i){jn(`Unknown ${n} '${i}'.`)})(this.kind,e),r[e].enabled||ET(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var ho=new fE("file parser"),Cn=new fE("segment parser"),bo=new fE("file reader");function a5e(t,e){return typeof t=="string"?GB(t,e):$p&&!t5e&&t instanceof HTMLImageElement?GB(t.src,e):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new la(t):$p&&t instanceof Blob?NT(t,e,"blob",x0):void jn("Invalid input argument")}function GB(t,e){return(r=t).startsWith("data:")||r.length>1e4?OT(t,e,"base64"):Ab&&t.includes("://")?NT(t,e,"url",b0):Ab?OT(t,e,"fs"):$p?NT(t,e,"url",b0):void jn("Invalid input argument");var r}async function NT(t,e,r,n){return bo.has(r)?OT(t,e,r):n?(async function(i,a){let s=await a(i);return new la(s)})(t,n):void jn(`Parser ${r} is not loaded`)}async function OT(t,e,r){let n=new(bo.get(r))(t,e);return await n.read(),n}const b0=t=>dE(t).then((e=>e.arrayBuffer())),x0=t=>new Promise(((e,r)=>{let n=new FileReader;n.onloadend=()=>e(n.result||new ArrayBuffer),n.onerror=r,n.readAsArrayBuffer(t)}));class s5e extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function _n(t,e,r){let n=new s5e;for(let[i,a]of r)n.set(i,a);if(Array.isArray(e))for(let i of e)t.set(i,n);else t.set(e,n);return n}function w0(t,e,r){let n,i=t.get(e);for(n of r)i.set(n[0],n[1])}const Jn=new Map,Ds=new Map,Dc=new Map,Ec=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Wd=["jfif","xmp","icc","iptc","ihdr"],_0=["tiff",...Wd],fn=["ifd0","ifd1","exif","gps","interop"],Nc=[..._0,...fn],Oc=["makerNote","userComment"],Xd=["translateKeys","translateValues","reviveValues","multiSegment"],kc=[...Xd,"sanitize","mergeOutput","silentErrors"];class fK{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class cm extends fK{get needed(){return this.enabled||this.deps.size>0}constructor(e,r,n,i){if(super(),Ot(this,"enabled",!1),Ot(this,"skip",new Set),Ot(this,"pick",new Set),Ot(this,"deps",new Set),Ot(this,"translateKeys",!1),Ot(this,"translateValues",!1),Ot(this,"reviveValues",!1),this.key=e,this.enabled=r,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=fn.includes(e),this.canBeFiltered&&(this.dict=Jn.get(e)),n!==void 0)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if(typeof n=="object"){if(this.enabled=!0,this.parse=n.parse!==!1,this.canBeFiltered){let{pick:a,skip:s}=n;a&&a.length>0&&this.translateTagSet(a,this.pick),s&&s.length>0&&this.translateTagSet(s,this.skip)}this.applyInheritables(n)}else n===!0||n===!1?this.parse=this.enabled=n:jn(`Invalid options argument: ${n}`)}applyInheritables(e){let r,n;for(r of Xd)n=e[r],n!==void 0&&(this[r]=n)}translateTagSet(e,r){if(this.dict){let n,i,{tagKeys:a,tagValues:s}=this.dict;for(n of e)typeof n=="string"?(i=s.indexOf(n),i===-1&&(i=a.indexOf(Number(n))),i!==-1&&r.add(Number(a[i]))):r.add(n)}else for(let n of e)r.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Ob(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Ob(this.pick,this.deps)}}var Li={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},KB=new Map;class R0 extends fK{static useCached(e){let r=KB.get(e);return r!==void 0||(r=new this(e),KB.set(e,r)),r}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):jn(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=$p?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of Ec)this[e]=Li[e];for(e of kc)this[e]=Li[e];for(e of Oc)this[e]=Li[e];for(e of Nc)this[e]=new cm(e,Li[e],void 0,this)}setupFromTrue(){let e;for(e of Ec)this[e]=Li[e];for(e of kc)this[e]=Li[e];for(e of Oc)this[e]=!0;for(e of Nc)this[e]=new cm(e,!0,void 0,this)}setupFromArray(e){let r;for(r of Ec)this[r]=Li[r];for(r of kc)this[r]=Li[r];for(r of Oc)this[r]=Li[r];for(r of Nc)this[r]=new cm(r,!1,void 0,this);this.setupGlobalFilters(e,void 0,fn)}setupFromObject(e){let r;for(r of(fn.ifd0=fn.ifd0||fn.image,fn.ifd1=fn.ifd1||fn.thumbnail,Object.assign(this,e),Ec))this[r]=J_(e[r],Li[r]);for(r of kc)this[r]=J_(e[r],Li[r]);for(r of Oc)this[r]=J_(e[r],Li[r]);for(r of _0)this[r]=new cm(r,Li[r],e[r],this);for(r of fn)this[r]=new cm(r,Li[r],e[r],this.tiff);this.setupGlobalFilters(e.pick,e.skip,fn,Nc),e.tiff===!0?this.batchEnableWithBool(fn,!0):e.tiff===!1?this.batchEnableWithUserValue(fn,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,fn):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,fn)}batchEnableWithBool(e,r){for(let n of e)this[n].enabled=r}batchEnableWithUserValue(e,r){for(let n of e){let i=r[n];this[n].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,r,n,i=n){if(e&&e.length){for(let s of i)this[s].enabled=!1;let a=WB(e,n);for(let[s,c]of a)Ob(this[s].pick,c),this[s].enabled=!0}else if(r&&r.length){let a=WB(r,n);for(let[s,c]of a)Ob(this[s].skip,c)}}filterNestedSegmentTags(){let{ifd0:e,exif:r,xmp:n,iptc:i,icc:a}=this;this.makerNote?r.deps.add(37500):r.skip.add(37500),this.userComment?r.deps.add(37510):r.skip.add(37510),n.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),a.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:r,gps:n,interop:i}=this;i.needed&&(r.deps.add(40965),e.deps.add(40965)),r.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=fn.some((a=>this[a].enabled===!0))||this.makerNote||this.userComment;for(let a of fn)this[a].finalizeFilters()}get onlyTiff(){return!Wd.map((e=>this[e].enabled)).some((e=>e===!0))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of _0)this[e].enabled&&!Cn.has(e)&&ET("segment parser",e)}}function WB(t,e){let r,n,i,a,s=[];for(i of e){for(a of(r=Jn.get(i),n=[],r))(t.includes(a[0])||t.includes(a[1]))&&n.push(a[0]);n.length&&s.push([i,n])}return s}function J_(t,e){return t!==void 0?t:e!==void 0?e:void 0}function Ob(t,e){for(let r of e)t.add(r)}Ot(R0,"default",Li);class Jc{constructor(e){Ot(this,"parsers",{}),Ot(this,"output",{}),Ot(this,"errors",[]),Ot(this,"pushToErrors",(r=>this.errors.push(r))),this.options=R0.useCached(e)}async read(e){this.file=await a5e(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,r=e.getUint16(0);for(let[n,i]of ho)if(i.canHandle(e,r))return this.fileParser=new i(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),jn("Unknown file format")}async parse(){let{output:e,errors:r}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),r.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&r.length>0&&(e.errors=r),Nb(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let r=Object.values(this.parsers).map((async n=>{let i=await n.parse();n.assignToOutput(e,i)}));this.options.silentErrors&&(r=r.map((n=>n.catch(this.pushToErrors)))),await Promise.all(r)}async extractThumbnail(){this.setup();let{options:e,file:r}=this,n=Cn.get("tiff",e);var i;if(r.tiff?i={start:0,type:"tiff"}:r.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let a=await this.fileParser.ensureSegmentChunk(i),s=this.parsers.tiff=new n(a,e,r),c=await s.extractThumbnail();return r.close&&r.close(),c}}async function n2(t,e){let r=new Jc(e);return await r.read(t),r.parse()}var o5e=Object.freeze({__proto__:null,parse:n2,Exifr:Jc,fileParsers:ho,segmentParsers:Cn,fileReaders:bo,tagKeys:Jn,tagValues:Ds,tagRevivers:Dc,createDictionary:_n,extendDictionary:w0,fetchUrlAsArrayBuffer:b0,readBlobAsArrayBuffer:x0,chunkedProps:Ec,otherSegments:Wd,segments:_0,tiffBlocks:fn,segmentsAndBlocks:Nc,tiffExtractables:Oc,inheritables:Xd,allFormatters:kc,Options:R0});class i2{constructor(e,r,n){Ot(this,"errors",[]),Ot(this,"ensureSegmentChunk",(async i=>{let a=i.start,s=i.size||65536;if(this.file.chunked)if(this.file.available(a,s))i.chunk=this.file.subarray(a,s);else try{i.chunk=await this.file.readChunk(a,s)}catch(c){jn(`Couldn't read segment: ${JSON.stringify(i)}. ${c.message}`)}else this.file.byteLength>a+s?i.chunk=this.file.subarray(a,s):i.size===void 0?i.chunk=this.file.subarray(a):jn("Segment unreachable: "+JSON.stringify(i));return i.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=r,this.parsers=n}injectSegment(e,r){this.options[e].enabled&&this.createParser(e,r)}createParser(e,r){let n=new(Cn.get(e))(r,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let r of e){let{type:n,chunk:i}=r,a=this.options[n];if(a&&a.enabled){let s=this.parsers[n];s&&s.append||s||this.createParser(n,i)}}}async readSegments(e){let r=e.map(this.ensureSegmentChunk);await Promise.all(r)}}class ks{static findPosition(e,r){let n=e.getUint16(r+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,r,n):this.headerLength,a=r+i,s=n-i;return{offset:r,length:n,headerLength:i,start:a,size:s,end:a+s}}static parse(e,r={}){return new this(e,new R0({[this.type]:r}),e).parse()}normalizeInput(e){return e instanceof la?e:new la(e)}constructor(e,r={},n){Ot(this,"errors",[]),Ot(this,"raw",new Map),Ot(this,"handleError",(i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)})),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=r,this.localOptions=r[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,r){let n=Dc.get(r),i=Ds.get(r),a=Jn.get(r),s=this.options[r],c=s.reviveValues&&!!n,u=s.translateValues&&!!i,f=s.translateKeys&&!!a,m={};for(let[g,v]of e)c&&n.has(g)?v=n.get(g)(v):u&&i.has(g)&&(v=this.translateValue(v,i.get(g))),f&&a.has(g)&&(g=a.get(g)||g),m[g]=v;return m}translateValue(e,r){return r[e]||r.DEFAULT||e}assignToOutput(e,r){this.assignObjectToOutput(e,this.constructor.type,r)}assignObjectToOutput(e,r,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[r]?Object.assign(e[r],n):e[r]=n}}Ot(ks,"headerLength",4),Ot(ks,"type",void 0),Ot(ks,"multiSegment",!1),Ot(ks,"canHandle",(()=>!1));function l5e(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function c5e(t){return t>=224&&t<=239}function u5e(t,e,r){for(let[n,i]of Cn)if(i.canHandle(t,e,r))return n}class XB extends i2{constructor(...e){super(...e),Ot(this,"appSegments",[]),Ot(this,"jpegSegments",[]),Ot(this,"unknownSegments",[])}static canHandle(e,r){return r===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(Cn.keyList())):(e=e===void 0?Cn.keyList().filter((r=>this.options[r].enabled)):e.filter((r=>this.options[r].enabled&&Cn.has(r))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,r){this.setupSegmentFinderArgs(r);let{file:n,findAll:i,wanted:a,remaining:s}=this;if(!i&&this.file.chunked&&(i=Array.from(a).some((c=>{let u=Cn.get(c),f=this.options[c];return u.multiSegment&&f.multiSegment})),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let c=!1;for(;s.size>0&&!c&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:u}=n,f=this.appSegments.some((m=>!this.file.available(m.offset||m.start,m.length||m.size)));if(c=e>u&&!f?!await n.readNextChunk(e):!await n.readNextChunk(u),(e=this.findAppSegmentsInRange(e,n.byteLength))===void 0)return}}}findAppSegmentsInRange(e,r){r-=2;let n,i,a,s,c,u,{file:f,findAll:m,wanted:g,remaining:v,options:x}=this;for(;e<r;e++)if(f.getUint8(e)===255){if(n=f.getUint8(e+1),c5e(n)){if(i=f.getUint16(e+2),a=u5e(f,e,i),a&&g.has(a)&&(s=Cn.get(a),c=s.findPosition(f,e),u=x[a],c.type=a,this.appSegments.push(c),!m&&(s.multiSegment&&u.multiSegment?(this.unfinishedMultiSegment=c.chunkNumber<c.chunkCount,this.unfinishedMultiSegment||v.delete(a)):v.delete(a),v.size===0)))break;x.recordUnknownSegments&&(c=ks.findPosition(f,e),c.marker=n,this.unknownSegments.push(c)),e+=i+1}else if(l5e(n)){if(i=f.getUint16(e+2),n===218&&x.stopAfterSos!==!1)return;x.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:n}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some((r=>r.multiSegment)))return;let e=(function(r,n){let i,a,s,c=new Map;for(let u=0;u<r.length;u++)i=r[u],a=i[n],c.has(a)?s=c.get(a):c.set(a,s=[]),s.push(i);return Array.from(c)})(this.appSegments,"type");this.mergedAppSegments=e.map((([r,n])=>{let i=Cn.get(r,this.options);return i.handleMultiSegments?{type:r,chunk:i.handleMultiSegments(n)}:n[0]}))}getSegment(e){return this.appSegments.find((r=>r.type===e))}async getOrFindSegment(e){let r=this.getSegment(e);return r===void 0&&(await this.findAppSegments(0,[e]),r=this.getSegment(e)),r}}Ot(XB,"type","jpeg"),ho.set("jpeg",XB);const h5e=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class d5e extends ks{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,r,n=new Map){let{pick:i,skip:a}=this.options[r];i=new Set(i);let s=i.size>0,c=a.size===0,u=this.chunk.getUint16(e);e+=2;for(let f=0;f<u;f++){let m=this.chunk.getUint16(e);if(s){if(i.has(m)&&(n.set(m,this.parseTag(e,m,r)),i.delete(m),i.size===0))break}else!c&&a.has(m)||n.set(m,this.parseTag(e,m,r));e+=12}return n}parseTag(e,r,n){let{chunk:i}=this,a=i.getUint16(e+2),s=i.getUint32(e+4),c=h5e[a];if(c*s<=4?e+=8:e=i.getUint32(e+8),(a<1||a>13)&&jn(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${e}`),e>i.byteLength&&jn(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${e} is outside of chunk size ${i.byteLength}`),a===1)return i.getUint8Array(e,s);if(a===2)return Gu(i.getString(e,s));if(a===7)return i.getUint8Array(e,s);if(s===1)return this.parseTagValue(a,e);{let u=new((function(m){switch(m){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}})(a))(s),f=c;for(let m=0;m<s;m++)u[m]=this.parseTagValue(a,e),e+=f;return u}}parseTagValue(e,r){let{chunk:n}=this;switch(e){case 1:return n.getUint8(r);case 3:return n.getUint16(r);case 4:return n.getUint32(r);case 5:return n.getUint32(r)/n.getUint32(r+4);case 6:return n.getInt8(r);case 8:return n.getInt16(r);case 9:return n.getInt32(r);case 10:return n.getInt32(r)/n.getInt32(r+4);case 11:return n.getFloat(r);case 12:return n.getDouble(r);case 13:return n.getUint32(r);default:jn(`Invalid tiff type ${e}`)}}}class eS extends d5e{static canHandle(e,r){return e.getUint8(r+1)===225&&e.getUint32(r+4)===1165519206&&e.getUint16(r+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let r=this[e]();return r.catch!==void 0&&(r=r.catch(this.handleError)),r}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),r=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(r)}}parseBlock(e,r){let n=new Map;return this[r]=n,this.parseTags(e,r,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&jn("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&jn(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,TT(this.options));let r=this.parseBlock(this.ifd0Offset,"ifd0");return r.size!==0?(this.exifOffset=r.get(34665),this.interopOffset=r.get(40965),this.gpsOffset=r.get(34853),this.xmp=r.get(700),this.iptc=r.get(33723),this.icc=r.get(34675),this.options.sanitize&&(r.delete(34665),r.delete(40965),r.delete(34853),r.delete(700),r.delete(33723),r.delete(34675)),r):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,TT(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,r){let n=e.get(r);n&&n.length===1&&e.set(r,n[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",YB(...e.get(2),e.get(1))),e.set("longitude",YB(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),r=this.ifd1.get(514);return this.chunk.getUint8Array(e,r)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,r,n,i={};for(r of fn)if(e=this[r],!hK(e))if(n=this.canTranslate?this.translateBlock(e,r):Object.fromEntries(e),this.options.mergeOutput){if(r==="ifd1")continue;Object.assign(i,n)}else i[r]=n;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,r){if(this.globalOptions.mergeOutput)Object.assign(e,r);else for(let[n,i]of Object.entries(r))this.assignObjectToOutput(e,n,i)}}function YB(t,e,r,n){var i=t+e/60+r/3600;return n!=="S"&&n!=="W"||(i*=-1),i}Ot(eS,"type","tiff"),Ot(eS,"headerLength",10),Cn.set("tiff",eS);var f5e=Object.freeze({__proto__:null,default:o5e,Exifr:Jc,fileParsers:ho,segmentParsers:Cn,fileReaders:bo,tagKeys:Jn,tagValues:Ds,tagRevivers:Dc,createDictionary:_n,extendDictionary:w0,fetchUrlAsArrayBuffer:b0,readBlobAsArrayBuffer:x0,chunkedProps:Ec,otherSegments:Wd,segments:_0,tiffBlocks:fn,segmentsAndBlocks:Nc,tiffExtractables:Oc,inheritables:Xd,allFormatters:kc,Options:R0,parse:n2});const mE={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},pE=Object.assign({},mE,{firstChunkSize:4e4,gps:[1,2,3,4]});async function mK(t){let e=new Jc(pE);await e.read(t);let r=await e.parse();if(r&&r.gps){let{latitude:n,longitude:i}=r.gps;return{latitude:n,longitude:i}}}const gE=Object.assign({},mE,{tiff:!1,ifd1:!0,mergeOutput:!1});async function pK(t){let e=new Jc(gE);await e.read(t);let r=await e.extractThumbnail();return r&&r2?t2.from(r):r}async function gK(t){let e=await this.thumbnail(t);if(e!==void 0){let r=new Blob([e]);return URL.createObjectURL(r)}}const yE=Object.assign({},mE,{firstChunkSize:4e4,ifd0:[274]});async function vE(t){let e=new Jc(yE);await e.read(t);let r=await e.parse();if(r&&r.ifd0)return r.ifd0[274]}const bE=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Ku=!0,Wu=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,r,n]=e;Ku=Number(r)+.1*Number(n)<13.4,Wu=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);Ku=Wu=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);Ku=Wu=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);Ku=Wu=Number(e)<77}}async function yK(t){let e=await vE(t);return Object.assign({canvas:Ku,css:Wu},bE[e])}class m5e extends la{constructor(...e){super(...e),Ot(this,"ranges",new p5e),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,r,n){if(e===0&&this.byteLength===0&&n){let i=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(i)}else{let i=e+r;if(i>this.byteLength){let{dataView:a}=this._extend(i);this._swapDataView(a)}}}_extend(e){let r;r=r2?t2.allocUnsafe(e):new Uint8Array(e);let n=new DataView(r.buffer,r.byteOffset,r.byteLength);return r.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:r,dataView:n}}subarray(e,r,n=!1){return r=r||this._lengthToEnd(e),n&&this._tryExtend(e,r),this.ranges.add(e,r),super.subarray(e,r)}set(e,r,n=!1){n&&this._tryExtend(r,e.byteLength,e);let i=super.set(e,r);return this.ranges.add(r,i.byteLength),i}async ensureChunk(e,r){this.chunked&&(this.ranges.available(e,r)||await this.readChunk(e,r))}available(e,r){return this.ranges.available(e,r)}}class p5e{constructor(){Ot(this,"list",[])}get length(){return this.list.length}add(e,r,n=0){let i=e+r,a=this.list.filter((s=>QB(e,s.offset,i)||QB(e,s.end,i)));if(a.length>0){e=Math.min(e,...a.map((c=>c.offset))),i=Math.max(i,...a.map((c=>c.end))),r=i-e;let s=a.shift();s.offset=e,s.length=r,s.end=i,this.list=this.list.filter((c=>!a.includes(c)))}else this.list.push({offset:e,length:r,end:i})}available(e,r){let n=e+r;return this.list.some((i=>i.offset<=e&&n<=i.end))}}function QB(t,e,r){return t<=e&&e<=r}class a2 extends m5e{constructor(e,r){super(0),Ot(this,"chunksRead",0),this.input=e,this.options=r}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let r=this.options.chunkSize,n=await this.readChunk(e,r);return!!n&&n.byteLength===r}async readChunk(e,r){if(this.chunksRead++,(r=this.safeWrapAddress(e,r))!==0)return this._readChunk(e,r)}safeWrapAddress(e,r){return this.size!==void 0&&e+r>this.size?Math.max(0,this.size-e):r}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}bo.set("blob",class extends a2{async readWhole(){this.chunked=!1;let t=await x0(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let r=e?t+e:void 0,n=this.input.slice(t,r),i=await x0(n);return this.set(i,t,!0)}});var g5e=Object.freeze({__proto__:null,default:f5e,Exifr:Jc,fileParsers:ho,segmentParsers:Cn,fileReaders:bo,tagKeys:Jn,tagValues:Ds,tagRevivers:Dc,createDictionary:_n,extendDictionary:w0,fetchUrlAsArrayBuffer:b0,readBlobAsArrayBuffer:x0,chunkedProps:Ec,otherSegments:Wd,segments:_0,tiffBlocks:fn,segmentsAndBlocks:Nc,tiffExtractables:Oc,inheritables:Xd,allFormatters:kc,Options:R0,parse:n2,gpsOnlyOptions:pE,gps:mK,thumbnailOnlyOptions:gE,thumbnail:pK,thumbnailUrl:gK,orientationOnlyOptions:yE,orientation:vE,rotations:bE,get rotateCanvas(){return Ku},get rotateCss(){return Wu},rotation:yK});bo.set("url",class extends a2{async readWhole(){this.chunked=!1;let t=await b0(this.input);t instanceof ArrayBuffer?this._swapArrayBuffer(t):t instanceof Uint8Array&&this._swapBuffer(t)}async _readChunk(t,e){let r=e?t+e-1:void 0,n=this.options.httpHeaders||{};(t||r)&&(n.range=`bytes=${[t,r].join("-")}`);let i=await dE(this.input,{headers:n}),a=await i.arrayBuffer(),s=a.byteLength;if(i.status!==416)return s!==e&&(this.size=t+s),this.set(a,t,!0)}});la.prototype.getUint64=function(t){let e=this.getUint32(t),r=this.getUint32(t+4);return e<1048575?e<<32|r:typeof Sy!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),Sy(e)<<Sy(32)|Sy(r)):void jn("Trying to read 64b value but JS can only handle 53b numbers.")};class y5e extends i2{parseBoxes(e=0){let r=[];for(;e<this.file.byteLength-4;){let n=this.parseBoxHead(e);if(r.push(n),n.length===0)break;e+=n.length}return r}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,r){return e.boxes===void 0&&this.parseSubBoxes(e),e.boxes.find((n=>n.kind===r))}parseBoxHead(e){let r=this.file.getUint32(e),n=this.file.getString(e+4,4),i=e+8;return r===1&&(r=this.file.getUint64(e+8),i+=8),{offset:e,length:r,kind:n,start:i}}parseBoxFullHead(e){if(e.version!==void 0)return;let r=this.file.getUint32(e.start);e.version=r>>24,e.start+=4}}class vK extends y5e{static canHandle(e,r){if(r!==0)return!1;let n=e.getUint16(2);if(n>50)return!1;let i=16,a=[];for(;i<n;)a.push(e.getString(i,4)),i+=4;return a.includes(this.type)}async parse(){let e=this.file.getUint32(0),r=this.parseBoxHead(e);for(;r.kind!=="meta";)e+=r.length,await this.file.ensureChunk(e,16),r=this.parseBoxHead(e);await this.file.ensureChunk(r.offset,r.length),this.parseBoxFullHead(r),this.parseSubBoxes(r),this.options.icc.enabled&&await this.findIcc(r),this.options.tiff.enabled&&await this.findExif(r)}async registerSegment(e,r,n){await this.file.ensureChunk(r,n);let i=this.file.subarray(r,n);this.createParser(e,i)}async findIcc(e){let r=this.findBox(e,"iprp");if(r===void 0)return;let n=this.findBox(r,"ipco");if(n===void 0)return;let i=this.findBox(n,"colr");i!==void 0&&await this.registerSegment("icc",i.offset+12,i.length)}async findExif(e){let r=this.findBox(e,"iinf");if(r===void 0)return;let n=this.findBox(e,"iloc");if(n===void 0)return;let i=this.findExifLocIdInIinf(r),a=this.findExtentInIloc(n,i);if(a===void 0)return;let[s,c]=a;await this.file.ensureChunk(s,c);let u=4+this.file.getUint32(s);s+=u,c-=u,await this.registerSegment("tiff",s,c)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let r,n,i,a,s=e.start,c=this.file.getUint16(s);for(s+=2;c--;){if(r=this.parseBoxHead(s),this.parseBoxFullHead(r),n=r.start,r.version>=2&&(i=r.version===3?4:2,a=this.file.getString(n+i+2,4),a==="Exif"))return this.file.getUintBytes(n,i);s+=r.length}}get8bits(e){let r=this.file.getUint8(e);return[r>>4,15&r]}findExtentInIloc(e,r){this.parseBoxFullHead(e);let n=e.start,[i,a]=this.get8bits(n++),[s,c]=this.get8bits(n++),u=e.version===2?4:2,f=e.version===1||e.version===2?2:0,m=c+i+a,g=e.version===2?4:2,v=this.file.getUintBytes(n,g);for(n+=g;v--;){let x=this.file.getUintBytes(n,u);n+=u+f+2+s;let T=this.file.getUint16(n);if(n+=2,x===r)return T>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(n+c,i),this.file.getUintBytes(n+c+i,a)];n+=T*m}}}class bK extends vK{}Ot(bK,"type","heic");class ZB extends vK{}Ot(ZB,"type","avif"),ho.set("heic",bK),ho.set("avif",ZB),_n(Jn,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),_n(Jn,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),_n(Jn,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),_n(Ds,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let Um=_n(Ds,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const JB={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};Um.set(37392,JB),Um.set(41488,JB);const tS={0:"Normal",1:"Low",2:"High"};function eU(t){return typeof t=="object"&&t.length!==void 0?t[0]:t}function tU(t){let e=Array.from(t).slice(1);return e[1]>15&&(e=e.map((r=>String.fromCharCode(r)))),e[2]!=="0"&&e[2]!==0||e.pop(),e.join(".")}function rS(t){if(typeof t=="string"){var[e,r,n,i,a,s]=t.trim().split(/[-: ]/g).map(Number),c=new Date(e,r-1,n);return Number.isNaN(i)||Number.isNaN(a)||Number.isNaN(s)||(c.setHours(i),c.setMinutes(a),c.setSeconds(s)),Number.isNaN(+c)?t:c}}function um(t){if(typeof t=="string")return t;let e=[];if(t[1]===0&&t[t.length-1]===0)for(let r=0;r<t.length;r+=2)e.push(rU(t[r+1],t[r]));else for(let r=0;r<t.length;r+=2)e.push(rU(t[r],t[r+1]));return Gu(String.fromCodePoint(...e))}function rU(t,e){return t<<8|e}Um.set(41992,tS),Um.set(41993,tS),Um.set(41994,tS),_n(Dc,["ifd0","ifd1"],[[50827,function(t){return typeof t!="string"?dK(t):t}],[306,rS],[40091,um],[40092,um],[40093,um],[40094,um],[40095,um]]),_n(Dc,"exif",[[40960,tU],[36864,tU],[36867,rS],[36868,rS],[40962,eU],[40963,eU]]),_n(Dc,"gps",[[0,t=>Array.from(t).join(".")],[7,t=>Array.from(t).join(":")]]);class nS extends ks{static canHandle(e,r){return e.getUint8(r+1)===225&&e.getUint32(r+4)===1752462448&&e.getString(r+4,20)==="http://ns.adobe.com/"}static headerLength(e,r){return e.getString(r+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(e,r){let n=super.findPosition(e,r);return n.multiSegment=n.extended=n.headerLength===79,n.multiSegment?(n.chunkCount=e.getUint8(r+72),n.chunkNumber=e.getUint8(r+76),e.getUint8(r+77)!==0&&n.chunkNumber++):(n.chunkCount=1/0,n.chunkNumber=-1),n}static handleMultiSegments(e){return e.map((r=>r.chunk.getString())).join("")}normalizeInput(e){return typeof e=="string"?e:la.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=(function(a){let s={},c={};for(let u of SK)s[u]=[],c[u]=0;return a.replace(w5e,((u,f,m)=>{if(f==="<"){let g=++c[m];return s[m].push(g),`${u}#${g}`}return`${u}#${s[m].pop()}`}))})(e);let r=Wh.findAll(e,"rdf","Description");r.length===0&&r.push(new Wh("rdf","Description",void 0,e));let n,i={};for(let a of r)for(let s of a.properties)n=x5e(s.ns,i),xK(s,n);return(function(a){let s;for(let c in a)s=a[c]=Nb(a[c]),s===void 0&&delete a[c];return Nb(a)})(i)}assignToOutput(e,r){if(this.localOptions.parse)for(let[n,i]of Object.entries(r))switch(n){case"tiff":this.assignObjectToOutput(e,"ifd0",i);break;case"exif":this.assignObjectToOutput(e,"exif",i);break;case"xmlns":break;default:this.assignObjectToOutput(e,n,i)}else e.xmp=r}}Ot(nS,"type","xmp"),Ot(nS,"multiSegment",!0),Cn.set("xmp",nS);class kb{static findAll(e){return wK(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(kb.unpackMatch)}static unpackMatch(e){let r=e[1],n=e[2],i=e[3].slice(1,-1);return i=_K(i),new kb(r,n,i)}constructor(e,r,n){this.ns=e,this.name=r,this.value=n}serialize(){return this.value}}class Wh{static findAll(e,r,n){if(r!==void 0||n!==void 0){r=r||"[\\w\\d-]+",n=n||"[\\w\\d-]+";var i=new RegExp(`<(${r}):(${n})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else i=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return wK(e,i).map(Wh.unpackMatch)}static unpackMatch(e){let r=e[1],n=e[2],i=e[4],a=e[8];return new Wh(r,n,i,a)}constructor(e,r,n,i){this.ns=e,this.name=r,this.attrString=n,this.innerXml=i,this.attrs=kb.findAll(n),this.children=Wh.findAll(i),this.value=this.children.length===0?_K(i):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:e,name:r}=this;return e==="rdf"&&(r==="Seq"||r==="Bag"||r==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return b5e(this.children.map(v5e));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let e={};for(let r of this.properties)xK(r,e);return this.value!==void 0&&(e.value=this.value),Nb(e)}}function xK(t,e){let r=t.serialize();r!==void 0&&(e[t.name]=r)}var v5e=t=>t.serialize(),b5e=t=>t.length===1?t[0]:t,x5e=(t,e)=>e[t]?e[t]:e[t]={};function wK(t,e){let r,n=[];if(!t)return n;for(;(r=e.exec(t))!==null;)n.push(r);return n}function _K(t){if((function(n){return n==null||n==="null"||n==="undefined"||n===""||n.trim()===""})(t))return;let e=Number(t);if(!Number.isNaN(e))return e;let r=t.toLowerCase();return r==="true"||r!=="false"&&t.trim()}const SK=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],w5e=new RegExp(`(<|\\/)(${SK.join("|")})`,"g");var _5e=Object.freeze({__proto__:null,default:g5e,Exifr:Jc,fileParsers:ho,segmentParsers:Cn,fileReaders:bo,tagKeys:Jn,tagValues:Ds,tagRevivers:Dc,createDictionary:_n,extendDictionary:w0,fetchUrlAsArrayBuffer:b0,readBlobAsArrayBuffer:x0,chunkedProps:Ec,otherSegments:Wd,segments:_0,tiffBlocks:fn,segmentsAndBlocks:Nc,tiffExtractables:Oc,inheritables:Xd,allFormatters:kc,Options:R0,parse:n2,gpsOnlyOptions:pE,gps:mK,thumbnailOnlyOptions:gE,thumbnail:pK,thumbnailUrl:gK,orientationOnlyOptions:yE,orientation:vE,rotations:bE,get rotateCanvas(){return Ku},get rotateCss(){return Wu},rotation:yK});let nU=Eb("fs",(t=>t.promises));bo.set("fs",class extends a2{async readWhole(){this.chunked=!1,this.fs=await nU;let t=await this.fs.readFile(this.input);this._swapBuffer(t)}async readChunked(){this.chunked=!0,this.fs=await nU,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(t,e){this.fh===void 0&&await this.open(),t+e>this.size&&(e=this.size-t);var r=this.subarray(t,e,!0);return await this.fh.read(r.dataView,0,e,t),r}async close(){if(this.fh){let t=this.fh;this.fh=void 0,await t.close()}}});bo.set("base64",class extends a2{constructor(...t){super(...t),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(t,e){let r,n,i=this.input;t===void 0?(t=0,r=0,n=0):(r=4*Math.floor(t/3),n=t-r/4*3),e===void 0&&(e=this.size);let a=t+e,s=r+4*Math.ceil(a/3);i=i.slice(r,s);let c=Math.min(e,this.size-t);if(r2){let u=t2.from(i,"base64").slice(n,n+c);return this.set(u,t,!0)}{let u=this.subarray(t,c,!0),f=atob(i),m=u.toUint8();for(let g=0;g<c;g++)m[g]=f.charCodeAt(n+g);return u}}});class iU extends i2{static canHandle(e,r){return r===18761||r===19789}extendOptions(e){let{ifd0:r,xmp:n,iptc:i,icc:a}=e;n.enabled&&r.deps.add(700),i.enabled&&r.deps.add(33723),a.enabled&&r.deps.add(34675),r.finalizeFilters()}async parse(){let{tiff:e,xmp:r,iptc:n,icc:i}=this.options;if(e.enabled||r.enabled||n.enabled||i.enabled){let a=Math.max(TT(this.options),this.options.chunkSize);await this.file.ensureChunk(0,a),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let r=this.parsers.tiff[e];this.injectSegment(e,r)}}}Ot(iU,"type","tiff"),ho.set("tiff",iU);let S5e=Eb("zlib");const T5e=["ihdr","iccp","text","itxt","exif"];class aU extends i2{constructor(...e){super(...e),Ot(this,"catchError",(r=>this.errors.push(r))),Ot(this,"metaChunks",[]),Ot(this,"unknownChunks",[])}static canHandle(e,r){return r===35152&&e.getUint32(0)===2303741511&&e.getUint32(4)===218765834}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,r){let{file:n}=this;for(;e<r;){let i=n.getUint32(e),a=n.getUint32(e+4),s=n.getString(e+4,4).toLowerCase(),c=i+4+4+4,u={type:s,offset:e,length:c,start:e+4+4,size:i,marker:a};T5e.includes(s)?this.metaChunks.push(u):this.unknownChunks.push(u),e+=c}}parseTextChunks(){let e=this.metaChunks.filter((r=>r.type==="text"));for(let r of e){let[n,i]=this.file.getString(r.start,r.size).split("\0");this.injectKeyValToIhdr(n,i)}}injectKeyValToIhdr(e,r){let n=this.parsers.ihdr;n&&n.raw.set(e,r)}findIhdr(){let e=this.metaChunks.find((r=>r.type==="ihdr"));e&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find((r=>r.type==="exif"));e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter((r=>r.type==="itxt"));for(let r of e)r.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",r.chunk)}async findIcc(){let e=this.metaChunks.find((c=>c.type==="iccp"));if(!e)return;let{chunk:r}=e,n=r.getUint8Array(0,81),i=0;for(;i<80&&n[i]!==0;)i++;let a=i+2,s=r.getString(0,i);if(this.injectKeyValToIhdr("ProfileName",s),Ab){let c=await S5e,u=r.getUint8Array(a);u=c.inflateSync(u),this.injectSegment("icc",u)}}}Ot(aU,"type","png"),ho.set("png",aU),_n(Jn,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),w0(Jn,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let sU=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];w0(Jn,"ifd0",sU),w0(Jn,"exif",sU),_n(Ds,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class iS extends ks{static canHandle(e,r){return e.getUint8(r+1)===224&&e.getUint32(r+4)===1246120262&&e.getUint8(r+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}Ot(iS,"type","jfif"),Ot(iS,"headerLength",9),Cn.set("jfif",iS),_n(Jn,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class oU extends ks{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}Ot(oU,"type","ihdr"),Cn.set("ihdr",oU),_n(Jn,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),_n(Ds,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class Fy extends ks{static canHandle(e,r){return e.getUint8(r+1)===226&&e.getUint32(r+4)===1229144927}static findPosition(e,r){let n=super.findPosition(e,r);return n.chunkNumber=e.getUint8(r+16),n.chunkCount=e.getUint8(r+17),n.multiSegment=n.chunkCount>1,n}static handleMultiSegments(e){return(function(r){let n=(function(i){let a=i[0].constructor,s=0;for(let f of i)s+=f.length;let c=new a(s),u=0;for(let f of i)c.set(f,u),u+=f.length;return c})(r.map((i=>i.chunk.toUint8())));return new la(n)})(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&jn("ICC header is too short");for(let[r,n]of Object.entries(A5e)){r=parseInt(r,10);let i=n(this.chunk,r);i!=="\0\0\0\0"&&e.set(r,i)}}parseTags(){let e,r,n,i,a,{raw:s}=this,c=this.chunk.getUint32(128),u=132,f=this.chunk.byteLength;for(;c--;){if(e=this.chunk.getString(u,4),r=this.chunk.getUint32(u+4),n=this.chunk.getUint32(u+8),i=this.chunk.getString(r,4),r+n>f)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");a=this.parseTag(i,r,n),a!==void 0&&a!=="\0\0\0\0"&&s.set(e,a),u+=12}}parseTag(e,r,n){switch(e){case"desc":return this.parseDesc(r);case"mluc":return this.parseMluc(r);case"text":return this.parseText(r,n);case"sig ":return this.parseSig(r)}if(!(r+n>this.chunk.byteLength))return this.chunk.getUint8Array(r,n)}parseDesc(e){let r=this.chunk.getUint32(e+8)-1;return Gu(this.chunk.getString(e+12,r))}parseText(e,r){return Gu(this.chunk.getString(e+8,r-8))}parseSig(e){return Gu(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:r}=this,n=r.getUint32(e+8),i=r.getUint32(e+12),a=e+16,s=[];for(let c=0;c<n;c++){let u=r.getString(a+0,2),f=r.getString(a+2,2),m=r.getUint32(a+4),g=r.getUint32(a+8)+e,v=Gu(r.getUnicodeString(g,m));s.push({lang:u,country:f,text:v}),a+=i}return n===1?s[0].text:s}translateValue(e,r){return typeof e=="string"?r[e]||r[e.toLowerCase()]||e:r[e]||e}}Ot(Fy,"type","icc"),Ot(Fy,"multiSegment",!0),Ot(Fy,"headerLength",18);const A5e={4:$o,8:function(t,e){return[t.getUint8(e),t.getUint8(e+1)>>4,t.getUint8(e+1)%16].map((r=>r.toString(10))).join(".")},12:$o,16:$o,20:$o,24:function(t,e){const r=t.getUint16(e),n=t.getUint16(e+2)-1,i=t.getUint16(e+4),a=t.getUint16(e+6),s=t.getUint16(e+8),c=t.getUint16(e+10);return new Date(Date.UTC(r,n,i,a,s,c))},36:$o,40:$o,48:$o,52:$o,64:(t,e)=>t.getUint32(e),80:$o};function $o(t,e){return Gu(t.getString(e,4))}Cn.set("icc",Fy),_n(Jn,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const Ty={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},lU={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};_n(Ds,"icc",[[4,Ty],[12,lU],[40,Object.assign({},Ty,lU)],[48,Ty],[80,Ty],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class Ay extends ks{static canHandle(e,r,n){return e.getUint8(r+1)===237&&e.getString(r+4,9)==="Photoshop"&&this.containsIptc8bim(e,r,n)!==void 0}static headerLength(e,r,n){let i,a=this.containsIptc8bim(e,r,n);if(a!==void 0)return i=e.getUint8(r+a+7),i%2!=0&&(i+=1),i===0&&(i=4),a+8+i}static containsIptc8bim(e,r,n){for(let i=0;i<n;i++)if(this.isIptcSegmentHead(e,r+i))return i}static isIptcSegmentHead(e,r){return e.getUint8(r)===56&&e.getUint32(r)===943868237&&e.getUint16(r+4)===1028}parse(){let{raw:e}=this,r=this.chunk.byteLength-1,n=!1;for(let i=0;i<r;i++)if(this.chunk.getUint8(i)===28&&this.chunk.getUint8(i+1)===2){n=!0;let a=this.chunk.getUint16(i+3),s=this.chunk.getUint8(i+2),c=this.chunk.getLatin1String(i+5,a);e.set(s,this.pluralizeValue(e.get(s),c)),i+=4+a}else if(n)break;return this.translate(),this.output}pluralizeValue(e,r){return e!==void 0?e instanceof Array?(e.push(r),e):[e,r]:r}}Ot(Ay,"type","iptc"),Ot(Ay,"translateValues",!1),Ot(Ay,"reviveValues",!1),Cn.set("iptc",Ay),_n(Jn,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),_n(Ds,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);const hm=["Monday","Tuesday","Wednesday","Thursday","Friday"],E5e=({user:t})=>{const e=fo(),{confirm:r}=Wc(),n=q.useMemo(()=>Ze.getWeekId(),[]),[i,a]=q.useState([]),[s,c]=q.useState("Monday"),[u,f]=q.useState(!1),m=q.useRef(null),[g,v]=q.useState(!1),x=t.enrolledClasses||(t.classType?[t.classType]:[]),[T,S]=q.useState(t.classType||x[0]||"Uncategorized");q.useEffect(()=>{const A=new Date().toLocaleDateString("en-US",{weekday:"long"});hm.includes(A)&&c(A)},[]),q.useEffect(()=>{const A=Ze.subscribeToEvidence(t.id,n,a);return()=>A()},[t.id,n]);const _=q.useMemo(()=>{const A=x[0]||"Uncategorized";return i.filter(N=>N.classType?N.classType===T:T===A)},[i,T,x]),C=A=>_.find(N=>N.dayOfWeek===A),I=A=>A?new Date(A).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):null,P=async A=>{var k;const N=(k=A.target.files)==null?void 0:k[0];if(N){f(!0);try{let $=null;if(N.type.startsWith("image/"))try{const Q=await _5e.parse(N,["DateTimeOriginal"])||{};Q.DateTimeOriginal&&($=Q.DateTimeOriginal.toISOString())}catch(Q){console.warn("EXIF extraction failed",Q)}const M=T.replace(/[^a-zA-Z0-9]/g,"_"),z=Math.random().toString(36).substring(2,9),U=Om(km,`evidence/${t.id}/${n}/${M}_${s}_${z}`);await DS(U,N);const Y=await uv(U),ee=C(s),J={id:`${t.id}_${n}_${s}_${M}`,studentId:t.id,weekId:n,classType:T,dayOfWeek:s,imageUrl:Y,timestamp:new Date().toISOString(),exifDate:$,reflection:(ee==null?void 0:ee.reflection)||""};await Ze.uploadEvidence(J)}catch($){e.error("Upload failed: "+$.message)}finally{f(!1),m.current&&(m.current.value="")}}},V=async(A,N)=>{const k=C(A);k&&k.reflection!==N&&await Ze.uploadEvidence({...k,reflection:N})},j=async()=>{if(!(_.length===0||!await r({title:"Generate & Delete Evidence",message:`WARNING: Generating this report will DELETE all ${T} photos and reflections for this week from the server to save space. Make sure you save the downloaded PDF immediately.`,confirmLabel:"Generate PDF",variant:"warning"}))){v(!0);try{const N=new eX,k=N.internal.pageSize.getWidth(),$=N.internal.pageSize.getHeight(),M=20,z=k-M*2,U=$-M;N.setFillColor(15,7,32),N.rect(0,0,k,40,"F"),N.setTextColor(255,255,255),N.setFontSize(22),N.setFont("helvetica","bold"),N.text("WEEKLY PROGRESS REPORT",M,18),N.setFontSize(10),N.setFont("helvetica","normal"),N.text(`Operative: ${t.name.toUpperCase()}`,M,28),N.text(`Class: ${T}`,M,33),N.text(`Cycle ID: ${n}`,M,38),N.text(`Generated: ${new Date().toLocaleDateString()}`,k-M,33,{align:"right"});let Y=55;const ee=[..._].sort((K,J)=>hm.indexOf(K.dayOfWeek)-hm.indexOf(J.dayOfWeek));for(const K of ee){let J=null,Q="JPEG",fe=0,ie=0,W=!1;try{const Ae=await fetch(K.imageUrl);if(!Ae.ok)throw new Error(`Image fetch failed: ${Ae.statusText}`);const qe=await Ae.blob();J=await new Promise(($e,it)=>{const lt=new FileReader;lt.onloadend=()=>$e(lt.result),lt.onerror=it,lt.readAsDataURL(qe)}),qe.type==="image/png"&&(Q="PNG"),qe.type==="image/webp"&&(Q="WEBP");const he=N.getImageProperties(J),pe=he.width/he.height,Ge=100;fe=z,ie=fe/pe,ie>Ge&&(ie=Ge,fe=ie*pe)}catch(Ae){console.warn("Image processing error for PDF",Ae),W=!0,ie=15}const Oe=20+ie+12;Y+Oe>U&&(N.addPage(),Y=M),N.setDrawColor(200,200,200),N.setLineWidth(.5),N.line(M,Y,k-M,Y),Y+=6,N.setTextColor(15,7,32),N.setFontSize(16),N.setFont("helvetica","bold"),N.text(K.dayOfWeek.toUpperCase(),M,Y);const se=I(K.exifDate)||I(K.timestamp);if(N.setFontSize(9),N.setFont("helvetica","italic"),N.setTextColor(100,100,100),N.text(`Captured: ${se}`,k-M,Y,{align:"right"}),Y+=10,!W&&J){const Ae=(k-fe)/2;N.addImage(J,Q,Ae,Y,fe,ie),Y+=ie+12}else N.setTextColor(255,0,0),N.setFontSize(8),N.text("[Image Error]",M,Y),Y+=15;N.setFont("helvetica","normal"),N.setFontSize(10);const ke=K.reflection||"No reflection logged for this cycle.",Me=N.splitTextToSize(ke,z),et=Me.length*5+15;Y+et>U&&(N.addPage(),Y=M),N.setTextColor(15,7,32),N.setFontSize(11),N.setFont("helvetica","bold"),N.text("DAILY REFLECTION:",M,Y),Y+=6,N.setFont("helvetica","normal"),N.setFontSize(10),N.setTextColor(60,60,60),N.text(Me,M,Y),Y+=Me.length*5+25}N.save(`Report_${T.replace(/\s+/g,"")}_${t.name.replace(/\s+/g,"_")}_${n}.pdf`),await Ze.deleteWeeklyEvidence(_),e.success("PDF generated and evidence cleared.")}catch(N){console.error("PDF generation failed:",N),e.error("Failed to build report. Data was NOT deleted. Check console for details.")}finally{v(!1)}}},D=C(s);return h.jsxs("div",{className:"h-full flex flex-col space-y-6",children:[h.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-500/30 p-6 rounded-2xl flex flex-col md:flex-row justify-between items-center gap-4",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-2xl font-bold text-emerald-400 flex items-center gap-2",children:[h.jsx(VC,{className:"w-7 h-7"})," Weekly Evidence Log"]}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.length>1?h.jsxs("div",{className:"relative group",children:[h.jsx("select",{value:T,onChange:A=>S(A.target.value),className:"appearance-none bg-emerald-500/10 border border-emerald-500/30 text-emerald-200 text-xs font-bold py-1 pl-3 pr-8 rounded-lg cursor-pointer hover:bg-emerald-500/20 transition focus:outline-none",children:x.map(A=>h.jsx("option",{value:A,children:A},A))}),h.jsx(js,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-emerald-400 pointer-events-none"})]}):h.jsx("span",{className:"text-emerald-200/60 text-sm font-bold",children:T}),h.jsx("span",{className:"text-emerald-200/40 text-sm",children:"| Upload photos of lab work & notes."})]})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"bg-black/40 px-4 py-2 rounded-lg border border-emerald-500/20 text-center",children:[h.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-widest block",children:"Cycle ID"}),h.jsx("span",{className:"font-mono text-emerald-400 font-bold",children:n})]}),h.jsxs("button",{onClick:j,disabled:g||_.length===0,className:"bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 shadow-lg shadow-emerald-900/20 transition group",children:[g?h.jsx(Ca,{className:"w-5 h-5 animate-spin"}):h.jsx(cie,{className:"w-5 h-5 group-hover:bounce"}),"Save Report (PDF)"]})]})]}),h.jsx("input",{type:"file",ref:m,onChange:P,className:"hidden",accept:"image/*"}),h.jsx("div",{className:"flex items-center bg-white/5 p-1 rounded-xl border border-white/10 overflow-x-auto custom-scrollbar",children:hm.map(A=>{const N=C(A),k=s===A;return h.jsxs("button",{onClick:()=>c(A),className:`flex-1 min-w-[100px] flex flex-col items-center py-3 rounded-lg transition-all relative group ${k?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:[h.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-widest mb-1 ${k?"text-emerald-100":"text-gray-500 group-hover:text-gray-300"}`,children:["Day ",hm.indexOf(A)+1]}),h.jsx("span",{className:"font-bold text-sm",children:A}),N&&h.jsx("div",{className:`absolute top-2 right-2 ${k?"text-emerald-200":"text-emerald-500"}`,children:h.jsx(fv,{className:"w-3 h-3"})})]},A)})}),h.jsxs("div",{className:"flex-1 bg-white/5 border border-white/10 rounded-2xl p-6 relative overflow-hidden animate-in fade-in zoom-in-95 duration-300 flex flex-col gap-6",children:[h.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("h3",{className:"text-sm font-bold text-emerald-400 flex items-center gap-2 uppercase tracking-widest",children:[h.jsx(pie,{className:"w-4 h-4"})," Evidence Capture (",T,")"]}),D&&h.jsxs("div",{className:"text-[9px] bg-black/40 px-2 py-0.5 rounded border border-white/10 text-gray-400 font-mono flex items-center gap-1",children:[h.jsx(lo,{className:"w-3 h-3"}),I(D.exifDate)||I(D.timestamp)]})]}),h.jsx("div",{className:"flex-1 bg-black/40 rounded-xl border-2 border-dashed border-white/10 relative group overflow-hidden transition-all hover:border-emerald-500/30",children:D?h.jsxs(h.Fragment,{children:[h.jsx("img",{src:D.imageUrl,alt:s,className:"w-full h-full object-contain bg-black/20"}),h.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition flex flex-col items-center justify-center gap-4 cursor-pointer",onClick:()=>{var A;return(A=m.current)==null?void 0:A.click()},children:[h.jsx(rp,{className:"w-8 h-8 text-emerald-400"}),h.jsx("span",{className:"text-white font-bold text-sm",children:"Replace Evidence"})]})]}):h.jsxs("button",{onClick:()=>{var A;return(A=m.current)==null?void 0:A.click()},className:"w-full h-full flex flex-col items-center justify-center text-gray-500 hover:text-emerald-400 hover:bg-white/5 transition gap-3",disabled:u,children:[u?h.jsx(Ca,{className:"w-10 h-10 animate-spin text-emerald-500"}):h.jsx("div",{className:"p-4 bg-white/5 rounded-full mb-2 group-hover:scale-110 transition shadow-xl",children:h.jsx(VC,{className:"w-8 h-8"})}),h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:"text-sm font-bold uppercase tracking-widest block",children:"Upload Photo"}),h.jsx("span",{className:"text-[10px] opacity-60",children:"Supports JPG, PNG, WEBP"})]})]})})]}),h.jsxs("div",{className:"h-48 md:h-56 flex flex-col flex-shrink-0",children:[h.jsx("div",{className:"mb-2",children:h.jsxs("h3",{className:"text-sm font-bold text-emerald-400 flex items-center gap-2 uppercase tracking-widest",children:[h.jsx(z8,{className:"w-4 h-4"})," Daily Reflection"]})}),D?h.jsx("textarea",{className:"flex-1 w-full bg-black/20 border border-white/10 rounded-xl p-4 text-sm text-gray-200 resize-none focus:outline-none focus:border-emerald-500/50 focus:bg-black/40 transition placeholder-gray-600 leading-relaxed custom-scrollbar",placeholder:`Document your findings for ${s} in ${T}...`,defaultValue:D.reflection,onBlur:A=>V(s,A.target.value)},s):h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-600 italic text-center px-10 border border-white/5 rounded-xl bg-white/5",children:[h.jsx("div",{className:"mb-2 opacity-30",children:h.jsx(Ju,{className:"w-6 h-6"})}),h.jsx("p",{className:"font-medium text-sm",children:"Reflection Locked"}),h.jsx("p",{className:"text-[10px] mt-1 max-w-[200px]",children:"Upload evidence photo to unlock the reflection journal for this day."})]})]})]})]})},N5e=({user:t})=>{const e=fo(),[r,n]=q.useState({id:Math.random().toString(36).substring(2,9),studentId:t.id,labTitle:"New Experiment",content:`Observation:

Formula used: $F = ma$`,dataPoints:[],timestamp:new Date().toISOString()}),[i,a]=q.useState(""),[s,c]=q.useState(""),[u,f]=q.useState("");q.useEffect(()=>{const v=r.content.replace(/\$(.*?)\$/g,(x,T)=>{try{return wv.renderToString(T,{throwOnError:!1})}catch{return T}}).replace(/\n/g,"<br/>");a(v)},[r.content]);const m=async()=>{await Ze.saveLabReport(r),await Ze.awardXP(t.id,25),e.success("Report saved!")},g=()=>{const v=parseFloat(s),x=parseFloat(u);!isNaN(v)&&!isNaN(x)&&(n(T=>({...T,dataPoints:[...T.dataPoints,{x:v,y:x}].sort((S,_)=>S.x-_.x)})),c(""),f(""))};return h.jsxs("div",{className:"h-full flex flex-col gap-6",children:[h.jsxs("div",{className:"flex justify-between items-center bg-blue-900/20 border border-blue-500/30 p-4 rounded-xl",children:[h.jsxs("h2",{className:"text-2xl font-bold text-blue-400 flex items-center gap-2",children:[h.jsx(ox,{className:"w-6 h-6"})," Physics Laboratory"]}),h.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2",children:[h.jsx(I$,{className:"w-4 h-4"})," Save Report"]})]}),h.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-6 min-h-0",children:[h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx("div",{className:"flex-1 bg-black rounded-xl overflow-hidden border border-white/10",children:h.jsx("iframe",{src:"https://phet.colorado.edu/sims/html/forces-and-motion-basics/latest/forces-and-motion-basics_en.html",className:"w-full h-full border-none",title:"PhET Sim"})}),h.jsxs("div",{className:"h-1/3 bg-white/5 border border-white/10 rounded-xl p-4 flex gap-4",children:[h.jsxs("div",{className:"w-1/3",children:[h.jsx("h4",{className:"font-bold text-gray-300 mb-2 text-xs uppercase",children:"Data Entry"}),h.jsxs("div",{className:"flex gap-2 mb-2",children:[h.jsx("input",{type:"number",placeholder:"X",value:s,onChange:v=>c(v.target.value),className:"w-full bg-black/20 border border-white/10 rounded p-1 text-white text-sm"}),h.jsx("input",{type:"number",placeholder:"Y",value:u,onChange:v=>f(v.target.value),className:"w-full bg-black/20 border border-white/10 rounded p-1 text-white text-sm"})]}),h.jsx("button",{onClick:g,className:"w-full bg-white/10 hover:bg-white/20 text-white text-xs font-bold py-1 rounded",children:"Add Point"})]}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsx(zq,{width:"100%",height:"100%",children:h.jsxs(Zwe,{children:[h.jsx(HG,{strokeDasharray:"3 3",stroke:"#333"}),h.jsx(Qx,{type:"number",dataKey:"x",stroke:"#666",name:"X"}),h.jsx(Zx,{type:"number",dataKey:"y",stroke:"#666",name:"Y"}),h.jsx(Ks,{cursor:{strokeDasharray:"3 3"},contentStyle:{backgroundColor:"#000"}}),h.jsx(bg,{name:"Data",data:r.dataPoints,fill:"#3b82f6"})]})})})]})]}),h.jsxs("div",{className:"flex flex-col bg-white/5 border border-white/10 rounded-xl overflow-hidden",children:[h.jsx("div",{className:"p-2 border-b border-white/10 bg-black/20 flex gap-2",children:h.jsx("div",{className:"text-xs text-gray-400 px-2 py-1",children:"Mode: LaTeX Enabled ($...$)"})}),h.jsxs("div",{className:"flex-1 flex flex-col md:flex-row min-h-0",children:[h.jsx("textarea",{className:"flex-1 bg-transparent p-4 text-sm text-gray-300 font-mono resize-none focus:outline-none border-r border-white/10",value:r.content,onChange:v=>n(x=>({...x,content:v.target.value})),placeholder:"Enter observations here. Use $E=mc^2$ for formulas."}),h.jsx("div",{className:"flex-1 bg-white/5 p-4 text-sm text-gray-200 overflow-y-auto prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:MF.sanitize(i,{ADD_TAGS:["annotation","semantics","mrow","mi","mn","mo","msup","msub","mfrac","mtext","math"],ADD_ATTR:["xmlns","encoding"]})}})]})]})]})]})},O5e=()=>h.jsx("div",{className:"grid grid-cols-1 divide-y divide-white/5",children:Array.from({length:5}).map((t,e)=>h.jsxs("div",{className:"p-6 flex items-center gap-6 animate-pulse",children:[h.jsx("div",{className:"w-12 h-8 bg-white/5 rounded"}),h.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5"}),h.jsxs("div",{className:"flex-1 space-y-2",children:[h.jsx("div",{className:"h-5 bg-white/5 rounded w-40"}),h.jsx("div",{className:"h-3 bg-white/5 rounded w-24"})]}),h.jsxs("div",{className:"space-y-2 text-right",children:[h.jsx("div",{className:"h-7 bg-white/5 rounded w-20 ml-auto"}),h.jsx("div",{className:"h-3 bg-white/5 rounded w-14 ml-auto"})]})]},e))}),k5e=()=>{const[t,e]=q.useState([]),[r,n]=q.useState(Or.AP_PHYSICS),[i,a]=q.useState(!0);q.useEffect(()=>{const u=Ze.subscribeToLeaderboard(f=>{e(f),a(!1)});return()=>u()},[]);const s=q.useMemo(()=>{const u=new Set;return t.forEach(f=>{var m;return(m=f.enrolledClasses)==null?void 0:m.forEach(g=>u.add(g))}),Array.from(u).sort()},[t]),c=q.useMemo(()=>t.filter(u=>{var f;return(f=u.enrolledClasses)==null?void 0:f.includes(r)}).sort((u,f)=>{var v,x,T,S;const m=((x=(v=u.gamification)==null?void 0:v.classXp)==null?void 0:x[r])||0;return(((S=(T=f.gamification)==null?void 0:T.classXp)==null?void 0:S[r])||0)-m}).slice(0,10),[t,r]);return h.jsxs("div",{className:"max-w-4xl mx-auto pt-8",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 mb-2",children:"Class Rankings"}),h.jsx("p",{className:"text-gray-400 mb-6",children:"Top operatives by XP accumulated."}),h.jsxs("div",{className:"inline-block relative",children:[h.jsxs("select",{value:r,onChange:u=>n(u.target.value),className:"appearance-none bg-white/5 border border-white/20 text-white font-bold py-2 pl-4 pr-10 rounded-xl focus:outline-none focus:border-purple-500 cursor-pointer min-w-[200px]",children:[s.map(u=>h.jsx("option",{value:u,children:u},u)),s.length===0&&h.jsx("option",{children:r})]}),h.jsx(js,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),h.jsx("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl overflow-hidden shadow-2xl",children:i?h.jsx(O5e,{}):h.jsxs(h.Fragment,{children:[c.length>=3&&h.jsx("div",{className:"flex items-end justify-center gap-4 px-6 pt-10 pb-6 bg-gradient-to-b from-purple-500/10 to-transparent border-b border-white/5",children:[1,0,2].map(u=>{var P,V,j,D,A;const f=c[u];if(!f)return null;const m=(P=f.settings)==null?void 0:P.privacyMode,g=m?((V=f.gamification)==null?void 0:V.codename)||"Unknown Agent":f.name,v=((D=(j=f.gamification)==null?void 0:j.classXp)==null?void 0:D[r])||0,x=((A=f.gamification)==null?void 0:A.level)||1,T=Sv(x),S=u===0,_=["h-28","h-20","h-16"],C=["w-20 h-20","w-14 h-14","w-14 h-14"],I=[{icon:h.jsx(FS,{className:"w-5 h-5"}),color:"bg-yellow-500 text-yellow-900",ring:"ring-yellow-400/40"},{icon:h.jsx(Z1,{className:"w-4 h-4"}),color:"bg-gray-300 text-gray-700",ring:"ring-gray-300/30"},{icon:h.jsx(Z1,{className:"w-4 h-4"}),color:"bg-amber-600 text-amber-100",ring:"ring-amber-600/30"}];return h.jsxs("div",{className:`flex flex-col items-center ${S?"order-2":u===1?"order-1":"order-3"}`,style:{animation:`fadeSlideUp 0.5s ease-out ${.1+u*.15}s both`},children:[h.jsxs("div",{className:`relative mb-2 ${S?"mb-3":""}`,children:[h.jsx("div",{className:`${C[u]} rounded-full p-0.5 bg-white/10 ring-2 ${I[u].ring} relative ${S?"shadow-[0_0_30px_rgba(234,179,8,0.3)]":""}`,children:h.jsx("img",{src:f.avatarUrl,alt:g,className:`w-full h-full rounded-full border-2 ${T.tierColor.split(" ")[0]} object-cover`})}),h.jsx("div",{className:`absolute -bottom-2 left-1/2 -translate-x-1/2 ${I[u].color} rounded-full w-6 h-6 flex items-center justify-center shadow-lg`,children:I[u].icon})]}),h.jsxs("div",{className:`text-center ${S?"mt-2":"mt-1"}`,children:[h.jsx("div",{className:`font-bold truncate max-w-[100px] ${S?"text-sm text-white":"text-xs text-gray-300"} ${m?"italic":""}`,children:g}),h.jsx("div",{className:`font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 ${S?"text-xl":"text-base"}`,children:v.toLocaleString()}),h.jsx("div",{className:`text-[9px] font-mono uppercase ${T.tierColor.split(" ")[1]}`,children:T.rankName})]}),h.jsx("div",{className:`${_[u]} w-20 mt-2 rounded-t-lg bg-gradient-to-t ${u===0?"from-yellow-500/20 to-yellow-500/5 border-yellow-500/30":u===1?"from-gray-400/15 to-gray-400/5 border-gray-400/20":"from-amber-600/15 to-amber-600/5 border-amber-600/20"} border border-b-0`})]},f.id)})}),h.jsxs("div",{className:"grid grid-cols-1 divide-y divide-white/5",children:[c.slice(c.length>=3?3:0).map((u,f)=>{var _,C,I,P,V;const m=c.length>=3?f+3:f,g=(_=u.settings)==null?void 0:_.privacyMode,v=g?((C=u.gamification)==null?void 0:C.codename)||"Unknown Agent":u.name,x=((P=(I=u.gamification)==null?void 0:I.classXp)==null?void 0:P[r])||0,T=((V=u.gamification)==null?void 0:V.level)||1,S=Sv(T);return h.jsxs("div",{className:"p-5 flex items-center gap-5 transition hover:bg-white/5",style:{animation:`fadeSlideUp 0.4s ease-out ${.05*m}s both`},children:[h.jsxs("div",{className:"w-10 text-center font-bold text-lg text-gray-600 font-mono",children:[m<3&&m===0&&h.jsx(FS,{className:"w-6 h-6 text-yellow-400 mx-auto"}),m<3&&m===1&&h.jsx(Z1,{className:"w-6 h-6 text-gray-300 mx-auto"}),m<3&&m===2&&h.jsx(Z1,{className:"w-6 h-6 text-amber-600 mx-auto"}),m>=3&&`#${m+1}`]}),h.jsxs("div",{className:"w-12 h-12 rounded-full p-0.5 bg-white/5 relative",children:[h.jsx("img",{src:u.avatarUrl,alt:v,className:`w-full h-full rounded-full border-2 ${S.tierColor.split(" ")[0]}`}),h.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-gray-900 rounded-full flex items-center justify-center text-[9px] font-bold border border-gray-600 text-white",children:T})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("h3",{className:`text-base font-bold truncate ${g?"text-purple-300 italic":"text-white"}`,children:[v,g&&h.jsx(E$,{className:"w-3 h-3 text-gray-500 inline ml-1"})]}),h.jsx("span",{className:`text-[10px] font-mono uppercase font-bold tracking-widest ${S.tierColor.split(" ")[1]}`,children:S.rankName})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500",children:x.toLocaleString()}),h.jsx("div",{className:"text-[9px] text-gray-500 font-mono tracking-widest",children:"CLASS XP"})]})]},u.id)}),c.length===0&&h.jsxs("div",{className:"p-10 text-center text-gray-500 italic flex flex-col items-center gap-2",children:[h.jsx(id,{className:"w-8 h-8 opacity-20"}),"No operatives ranked in ",r,"."]})]})]})})]})};class C5e extends ne.Component{constructor(r){super(r);BO(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught:",r,n)}render(){return this.state.hasError?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0f0720] p-6",children:h.jsxs("div",{className:"max-w-md w-full bg-white/5 backdrop-blur-xl border border-white/10 p-10 rounded-3xl text-center shadow-2xl",children:[h.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-red-500/10 flex items-center justify-center",children:h.jsx("span",{className:"text-3xl",children:""})}),h.jsx("h1",{className:"text-2xl font-bold text-white mb-3",children:"System Malfunction"}),h.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:"Something unexpected happened. Your data is safe  try reloading."}),this.state.error&&h.jsx("pre",{className:"text-[10px] text-red-400/60 bg-black/40 p-3 rounded-xl mb-6 text-left overflow-auto max-h-24 font-mono",children:this.state.error.message}),h.jsxs("button",{onClick:this.handleReload,className:"w-full py-4 bg-purple-600 hover:bg-purple-500 text-white rounded-xl font-bold transition flex items-center justify-center gap-2",children:[h.jsx(pv,{className:"w-5 h-5"}),"Reload Portal"]})]})}):this.props.children}}const cU={1:{name:"Remember & Understand",color:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/30",icon:h.jsx(ep,{className:"w-4 h-4"})},2:{name:"Apply & Analyze",color:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/30",icon:h.jsx(yie,{className:"w-4 h-4"})},3:{name:"Evaluate & Create",color:"text-purple-400",bg:"bg-purple-500/10",border:"border-purple-500/30",icon:h.jsx(jie,{className:"w-4 h-4"})}},I5e={multiple_choice:"Multiple Choice",multiple_select:"Select All That Apply",ranking:"Ranking Task",qualitative_reasoning:"Qualitative Reasoning",linked_mc:"Linked Questions",troubleshooting:"Troubleshooting",conflicting_contentions:"Conflicting Contentions",whats_wrong:"What's Wrong?",working_backwards:"Working Backwards"},aS=3;function sS(t,e){const r=[...t];for(let n=r.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[r[n],r[i]]=[r[i],r[n]]}return r.slice(0,e)}const j5e=({assignment:t})=>{const e=fo(),[r,n]=q.useState([]),[i,a]=q.useState([]),[s,c]=q.useState(!0),[u,f]=q.useState(!1),[m,g]=q.useState({}),[v,x]=q.useState(1),[T,S]=q.useState(null),[_,C]=q.useState(new Set),I=q.useCallback(M=>{const z=sS(M.filter(ee=>ee.tier===1),aS),U=sS(M.filter(ee=>ee.tier===2),aS),Y=sS(M.filter(ee=>ee.tier===3),aS);a([...z,...U,...Y]),g({}),S(null)},[]);q.useEffect(()=>{(async()=>{var z;c(!0),f(!1);try{const U=await _i(ht(He,"question_banks",t.id));if(!U.exists()){f(!0);return}const Y=U.data().questions||[];n(Y),I(Y)}catch(U){console.error("Failed to load question bank:",U),f(!0);return}finally{c(!1)}try{const U=(z=tz().currentUser)==null?void 0:z.uid;if(U){const Y=await _i(ht(He,"review_progress",`${U}_${t.id}`));Y.exists()&&C(new Set(Y.data().answeredQuestions||[]))}}catch(U){console.warn("Could not load review progress:",U)}})()},[t.id,I]);const P=()=>{r.length>0&&I(r)},V=(M,z,U)=>{const Y=m[M];if(!(Y!=null&&Y.submitted))if(U==="multiple_select"||U==="ranking"){const ee=(Y==null?void 0:Y.selected)||[],K=ee.includes(z)?ee.filter(J=>J!==z):[...ee,z];g(J=>({...J,[M]:{...J[M],selected:K,submitted:!1,correct:!1,xpAwarded:!1}}))}else g(ee=>({...ee,[M]:{selected:z,submitted:!1,correct:!1,xpAwarded:!1}}))},j=(M,z)=>{var U;(U=m[M])!=null&&U.submitted||g(Y=>({...Y,[M]:{...Y[M],linkedSelected:z}}))},D=async M=>{const z=m[M.id];if(!(z!=null&&z.selected))return;let U=!1;if(M.type==="multiple_select"||M.type==="ranking"){const Y=z.selected,ee=M.correctAnswer;U=Y.length===ee.length&&Y.every((K,J)=>K===ee[J])}else M.type==="linked_mc"?U=z.selected===M.correctAnswer&&(!M.linkedFollowUp||z.linkedSelected===M.linkedFollowUp.correctAnswer):U=z.selected===M.correctAnswer;if(U)if(_.has(M.id))g(Y=>({...Y,[M.id]:{...Y[M.id],submitted:!0,correct:!0,xpAwarded:!1}})),e.success("Correct! (XP already claimed for this question)");else{g(Y=>({...Y,[M.id]:{...Y[M.id],submitted:!0,correct:!0,xpAwarded:!1}}));try{(await x$({assignmentId:t.id,questionId:M.id,xpAmount:M.xp,classType:t.classType})).data.awarded?(e.success(`+${M.xp} XP earned!`),g(K=>({...K,[M.id]:{...K[M.id],submitted:!0,correct:!0,xpAwarded:!0}})),C(K=>new Set([...K,M.id]))):e.success("Correct! (XP already claimed)")}catch(Y){console.error("XP award error:",Y)}}else g(Y=>({...Y,[M.id]:{...Y[M.id],submitted:!0,correct:!1,xpAwarded:!1}}))},A=q.useMemo(()=>i.filter(M=>M.tier===v),[i,v]),N=q.useMemo(()=>Object.entries(m).filter(([,M])=>M.correct&&M.xpAwarded).reduce((M,[z])=>{var U;return M+(((U=i.find(Y=>Y.id===z))==null?void 0:U.xp)||0)},0),[m,i]),k=q.useMemo(()=>i.reduce((M,z)=>M+z.xp,0),[i]),$=q.useMemo(()=>i.length>0&&i.every(M=>{var z;return(z=m[M.id])==null?void 0:z.submitted}),[i,m]);return s?h.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[h.jsx(Ca,{className:"w-8 h-8 text-purple-400 animate-spin"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Loading questions..."})]}):u?h.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[h.jsx(ep,{className:"w-12 h-12 text-gray-600"}),h.jsx("p",{className:"text-gray-400 font-bold",children:"No Questions Available"}),h.jsx("p",{className:"text-gray-600 text-sm text-center max-w-sm",children:"Your teacher hasn't uploaded review questions for this resource yet."})]}):h.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-black/40 border-b border-white/10",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(ep,{className:"w-5 h-5 text-purple-400"}),h.jsx("span",{className:"font-bold text-white text-sm",children:"Conceptual Review"}),h.jsxs("span",{className:"text-[10px] bg-white/10 text-gray-400 px-2 py-0.5 rounded-full font-mono",children:[r.length," in bank"]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(oa,{className:"w-4 h-4 text-yellow-400"}),h.jsx("span",{className:"text-sm font-bold text-yellow-400",children:N}),h.jsxs("span",{className:"text-[10px] text-gray-500",children:["/ ",k," XP"]})]}),h.jsxs("button",{onClick:P,className:"flex items-center gap-1.5 text-[10px] font-bold text-purple-400 bg-purple-500/10 hover:bg-purple-500/20 px-3 py-1.5 rounded-lg border border-purple-500/30 transition",children:[h.jsx(pv,{className:"w-3 h-3"})," New Set"]})]})]}),h.jsx("div",{className:"flex gap-2 px-4 py-3 border-b border-white/5 bg-black/20",children:[1,2,3].map(M=>{const z=cU[M],U=i.filter(K=>K.tier===M),Y=U.filter(K=>{var J;return(J=m[K.id])==null?void 0:J.submitted}).length,ee=U.filter(K=>{var J;return(J=m[K.id])==null?void 0:J.correct}).length;return h.jsxs("button",{onClick:()=>x(M),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all ${v===M?`${z.bg} ${z.color} ${z.border} border`:"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[z.icon,h.jsx("span",{className:"hidden sm:inline",children:z.name}),h.jsxs("span",{className:"sm:hidden",children:["Tier ",M]}),Y>0&&h.jsxs("span",{className:`ml-1 text-[9px] px-1.5 py-0.5 rounded-full ${ee===U.length?"bg-emerald-500/20 text-emerald-400":"bg-white/10 text-gray-400"}`,children:[ee,"/",U.length]})]},M)})}),$&&h.jsxs("div",{className:"px-4 py-3 bg-purple-500/10 border-b border-purple-500/20 flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-purple-300 font-bold",children:"Set complete!"}),h.jsxs("button",{onClick:P,className:"bg-purple-600 hover:bg-purple-500 text-white text-xs font-bold px-4 py-2 rounded-lg transition flex items-center gap-1.5",children:[h.jsx(pv,{className:"w-3 h-3"})," New Questions"]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-4",children:[A.map((M,z)=>{const U=m[M.id],Y=T===M.id,ee=U==null?void 0:U.submitted,K=U==null?void 0:U.correct,J=cU[M.tier];return h.jsxs("div",{className:`rounded-2xl border transition-all ${ee?K?"border-emerald-500/40 bg-emerald-500/5":"border-red-500/30 bg-red-500/5":Y?`${J.border} ${J.bg}`:"border-white/10 bg-white/5 hover:border-white/20"}`,children:[h.jsxs("button",{onClick:()=>S(Y?null:M.id),className:"w-full p-4 flex items-start gap-3 text-left",children:[h.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 text-xs font-black ${ee?K?"bg-emerald-500 text-white":"bg-red-500/20 text-red-400":`${J.bg} ${J.color}`}`,children:ee?K?h.jsx(Ai,{className:"w-4 h-4"}):h.jsx(mv,{className:"w-4 h-4"}):z+1}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[h.jsx("span",{className:`text-[9px] font-bold uppercase tracking-wider ${J.color}`,children:M.bloomsLevel}),h.jsx("span",{className:"text-[9px] text-gray-600",children:""}),h.jsx("span",{className:"text-[9px] text-gray-500 font-mono",children:I5e[M.type]||M.type}),h.jsxs("span",{className:"text-[9px] text-yellow-500 font-bold ml-auto flex items-center gap-0.5",children:[h.jsx(oa,{className:"w-3 h-3"}),M.xp," XP"]})]}),h.jsx("p",{className:"text-sm text-gray-200 font-medium leading-snug",children:M.stem})]}),h.jsx(Ju,{className:`w-4 h-4 text-gray-500 transition-transform flex-shrink-0 mt-1 ${Y?"rotate-90":""}`})]}),Y&&h.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[M.context&&h.jsx("div",{className:"bg-black/30 border border-white/10 rounded-xl p-3 text-xs text-gray-400 italic leading-relaxed",children:M.context}),M.type==="ranking"?h.jsx(P5e,{question:M,answer:U,onSelect:V}):M.type==="multiple_select"?h.jsx(M5e,{question:M,answer:U,onSelect:V}):h.jsx(R5e,{question:M,answer:U,onSelect:V}),M.type==="linked_mc"&&M.linkedFollowUp&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10",children:[h.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest mb-2",children:"Follow-Up"}),h.jsx("p",{className:"text-sm text-gray-200 font-medium mb-3",children:M.linkedFollowUp.stem}),h.jsx("div",{className:"space-y-2",children:M.linkedFollowUp.options.map(Q=>{const fe=(U==null?void 0:U.linkedSelected)===Q.id,ie=ee,W=Q.id===M.linkedFollowUp.correctAnswer;return h.jsxs("button",{onClick:()=>j(M.id,Q.id),disabled:ee,className:`w-full text-left p-3 rounded-xl border text-sm transition-all ${ie?W?"border-emerald-500/50 bg-emerald-500/10 text-emerald-300":fe?"border-red-500/40 bg-red-500/10 text-red-300":"border-white/5 text-gray-500":fe?"border-purple-500/50 bg-purple-500/10 text-white":"border-white/10 hover:border-white/20 text-gray-300"}`,children:[h.jsxs("span",{className:"font-mono font-bold mr-2 text-xs",children:[Q.id.toUpperCase(),"."]})," ",Q.text]},Q.id)})})]}),ee?h.jsxs("div",{className:`p-4 rounded-xl border ${K?"border-emerald-500/30 bg-emerald-500/5":"border-red-500/30 bg-red-500/5"}`,children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[K?h.jsx(Ai,{className:"w-5 h-5 text-emerald-400"}):h.jsx(mv,{className:"w-5 h-5 text-red-400"}),h.jsx("span",{className:`font-bold text-sm ${K?"text-emerald-400":"text-red-400"}`,children:K?`Correct! +${M.xp} XP`:"Incorrect"})]}),h.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:M.explanation})]}):h.jsx("button",{onClick:()=>D(M),disabled:!(U!=null&&U.selected)||Array.isArray(U==null?void 0:U.selected)&&U.selected.length===0,className:"w-full py-3 bg-purple-600 hover:bg-purple-500 disabled:bg-gray-700 disabled:text-gray-500 text-white font-bold rounded-xl transition",children:"Submit Answer"})]})]},M.id)}),A.length===0&&h.jsxs("div",{className:"text-center py-12 text-gray-500 italic",children:[h.jsx(E$,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),"No questions for this tier."]})]})]})},R5e=({question:t,answer:e,onSelect:r})=>h.jsx("div",{className:"space-y-2",children:t.options.map(n=>{const i=(e==null?void 0:e.selected)===n.id,a=e==null?void 0:e.submitted,s=n.id===t.correctAnswer;return h.jsxs("button",{onClick:()=>r(t.id,n.id,t.type),disabled:e==null?void 0:e.submitted,className:`w-full text-left p-3 rounded-xl border text-sm transition-all ${a?s?"border-emerald-500/50 bg-emerald-500/10 text-emerald-300":i?"border-red-500/40 bg-red-500/10 text-red-300":"border-white/5 text-gray-500":i?"border-purple-500/50 bg-purple-500/10 text-white":"border-white/10 hover:border-white/20 text-gray-300"}`,children:[h.jsxs("span",{className:"font-mono font-bold mr-2 text-xs",children:[n.id.toUpperCase(),"."]})," ",n.text]},n.id)})}),M5e=({question:t,answer:e,onSelect:r})=>{const n=(e==null?void 0:e.selected)||[],i=t.correctAnswer;return h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:"Select all that apply"}),t.options.map(a=>{const s=n.includes(a.id),c=e==null?void 0:e.submitted,u=i.includes(a.id);return h.jsxs("button",{onClick:()=>r(t.id,a.id,"multiple_select"),disabled:e==null?void 0:e.submitted,className:`w-full text-left p-3 rounded-xl border text-sm transition-all flex items-center gap-3 ${c?u?"border-emerald-500/50 bg-emerald-500/10 text-emerald-300":s?"border-red-500/40 bg-red-500/10 text-red-300":"border-white/5 text-gray-500":s?"border-purple-500/50 bg-purple-500/10 text-white":"border-white/10 hover:border-white/20 text-gray-300"}`,children:[h.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 ${s?"border-purple-500 bg-purple-500":"border-gray-600"}`,children:s&&h.jsx(Ai,{className:"w-3 h-3 text-white"})}),h.jsxs("span",{children:[h.jsxs("span",{className:"font-mono font-bold mr-1 text-xs",children:[a.id.toUpperCase(),"."]})," ",a.text]})]},a.id)})]})},P5e=({question:t,answer:e,onSelect:r})=>{const n=(e==null?void 0:e.selected)||[],i=e==null?void 0:e.submitted,a=t.correctAnswer;return h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest flex items-center gap-1",children:[h.jsx(nie,{className:"w-3 h-3"})," Click in order (first to last)"]}),n.length>0&&h.jsx("div",{className:"flex gap-1 flex-wrap mb-2",children:n.map((s,c)=>{const u=t.options.find(m=>m.id===s),f=i&&a[c]===s;return h.jsxs("span",{className:`text-[10px] font-bold px-2 py-1 rounded-lg ${i?f?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-red-500/20 text-red-400 border border-red-500/30":"bg-purple-500/20 text-purple-300 border border-purple-500/30"}`,children:[c+1,". ",u==null?void 0:u.text.slice(0,30),((u==null?void 0:u.text.length)||0)>30?"...":""]},s)})}),t.options.map(s=>{const c=n.includes(s.id),u=n.indexOf(s.id);return h.jsxs("button",{onClick:()=>r(t.id,s.id,"ranking"),disabled:e==null?void 0:e.submitted,className:`w-full text-left p-3 rounded-xl border text-sm transition-all flex items-center gap-3 ${c?"border-purple-500/50 bg-purple-500/10 text-purple-300 opacity-60":"border-white/10 hover:border-white/20 text-gray-300"}`,children:[c?h.jsx("span",{className:"w-6 h-6 rounded-full bg-purple-500 text-white text-xs font-bold flex items-center justify-center",children:u+1}):h.jsx("span",{className:"w-6 h-6 rounded-full border-2 border-gray-600 text-xs flex items-center justify-center text-gray-600",children:"?"}),s.text]},s.id)})]})};function D5e(t){let e=t;return e=e.replace(/([A-Z][a-z]?)\s+\1(?:\s+[a-z])?\s**/g,"$1"),e=e.replace(/[\u200B\u200C\u200D\uFEFF\u00AD]/g,""),e=e.replace(/\$\$([^$]+)\$\$/g,(r,n)=>{try{return`<div class="my-3 text-center">${wv.renderToString(n.trim(),{throwOnError:!1,displayMode:!0})}</div>`}catch{return`<code class="math-block">${n}</code>`}}),e=e.replace(/\$([^$]+)\$/g,(r,n)=>{try{return wv.renderToString(n.trim(),{throwOnError:!1,displayMode:!1})}catch{return`<code class="math-inline">${n}</code>`}}),e=e.replace(new RegExp("(?<![a-z])([A-Z][a-z]*(?:_?\\{?[a-z]*\\}?)?)\\s*=\\s*([-]?(?:frac|sqrt|Delta|\\\\)?[\\w\\d{}()^_/\\\\.,]+(?:\\s*[+\\-*/]\\s*[-]?(?:frac|sqrt|Delta|\\\\)?[\\w\\d{}()^_/\\\\.,]+)*)(?![a-zA-Z])","g"),(r,n,i)=>`<code class="math-inline">${n} = ${i}</code>`),e=e.replace(/\\n\\n|\n\n/g,'</p><p class="mt-3">'),e=e.replace(/(?:^|\n)\*\s+(.+)/g,'<li class="ml-4 list-disc">$1</li>'),e=e.replace(/(?:^|\n)-\s+(.+)/g,'<li class="ml-4 list-disc">$1</li>'),e=e.replace(/((?:<li[^>]*>.*?<\/li>\s*)+)/g,'<ul class="my-2 space-y-1">$1</ul>'),e=e.replace(/(?:^|\n)(\d+)\.\s+(.+)/g,'<li class="ml-4" value="$1">$2</li>'),e=e.replace(/\\n|\n/g,"<br/>"),e=e.replace(/\*\*(.+?)\*\*/g,'<strong class="text-white">$1</strong>'),`<p>${e}</p>`}const L5e=({assignment:t,onComplete:e})=>{const[r,n]=q.useState(null),[i,a]=q.useState(!0),[s,c]=q.useState(!1),u=q.useRef(dv()),f=q.useRef(Date.now()),m=q.useRef(e),[g,v]=q.useState(!0),[x,T]=q.useState(0);q.useEffect(()=>{m.current=e},[e]);const S=q.useCallback(()=>{f.current=Date.now(),g||v(!0)},[g]);q.useEffect(()=>{const C=setInterval(()=>{Date.now()-f.current<6e4?(u.current.engagementTime+=1,T(u.current.engagementTime),g||v(!0)):g&&v(!1)},1e3);return()=>clearInterval(C)},[g]),q.useEffect(()=>{const C=["mousemove","keydown","scroll","click"];return C.forEach(I=>window.addEventListener(I,S)),()=>{C.forEach(I=>window.removeEventListener(I,S))}},[S]),q.useEffect(()=>()=>{m.current(u.current)},[]),q.useEffect(()=>{(async()=>{a(!0);try{const I=await _i(ht(He,"reading_materials",t.id));I.exists()?n(I.data()):c(!0)}catch(I){console.error("Failed to load reading material:",I),c(!0)}finally{a(!1)}})()},[t.id]);const _=q.useMemo(()=>r?r.sections.map(C=>({title:C.title,html:D5e(C.content)})):[],[r]);return i?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[h.jsx(Ca,{className:"w-8 h-8 text-purple-400 animate-spin"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Loading study material..."})]}):s||!r?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[h.jsx(Is,{className:"w-12 h-12 text-gray-600"}),h.jsx("p",{className:"text-gray-400 font-bold",children:"No Study Material Available"}),h.jsx("p",{className:"text-gray-600 text-sm text-center max-w-sm",children:"Your teacher hasn't uploaded reading material for this resource yet."})]}):h.jsxs("div",{className:"flex flex-col h-full bg-black/20 border border-white/10 rounded-2xl overflow-hidden relative",children:[h.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 flex justify-between items-center border-b border-white/5 z-20 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:`flex items-center gap-2 text-sm font-bold ${g?"text-green-400":"text-yellow-500"}`,children:[g?h.jsx(U8,{className:"w-4 h-4"}):h.jsx(lo,{className:"w-4 h-4 animate-pulse"}),g?"Reading Active":"Away (Paused)"]}),h.jsxs("div",{className:"text-xs text-gray-400 font-mono bg-black/40 px-2 py-1 rounded",children:["TIME: ",Math.floor(x/60),"m ",x%60,"s"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[r.estimatedMinutes&&h.jsxs("span",{className:"text-[10px] text-gray-500 font-mono",children:["~",r.estimatedMinutes," min read"]}),!g&&h.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-yellow-500 bg-yellow-500/10 px-3 py-1 rounded-full border border-yellow-500/20 uppercase font-bold tracking-widest",children:[h.jsx(ss,{className:"w-3 h-3"})," Scroll to earn XP"]})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",onScroll:S,children:h.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:r.title}),r.description&&h.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:r.description})]}),h.jsx("div",{className:"space-y-10",children:_.map((C,I)=>h.jsxs("div",{className:"group",children:[h.jsxs("h2",{className:"text-lg font-bold text-purple-300 mb-4 flex items-center gap-3",children:[h.jsx("span",{className:"w-7 h-7 rounded-lg bg-purple-500/20 text-purple-400 text-xs font-black flex items-center justify-center shrink-0",children:I+1}),C.title]}),h.jsx("div",{className:"study-content text-sm text-gray-300 leading-relaxed pl-10",dangerouslySetInnerHTML:{__html:C.html}})]},I))}),h.jsx("div",{className:"mt-12 mb-4 text-center",children:h.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-500/10 text-emerald-400 text-xs font-bold px-4 py-2 rounded-full border border-emerald-500/20",children:[h.jsx(Is,{className:"w-3.5 h-3.5"}),"Keep reading to earn engagement XP"]})})]})})]})},B5e=()=>{var fe;const[t,e]=q.useState(null),[r,n]=q.useState("Dashboard"),[i,a]=q.useState([]),[s,c]=q.useState([]),[u,f]=q.useState([]),[m,g]=q.useState([]),[v,x]=q.useState([]),[T,S]=q.useState(null),[_,C]=q.useState("STUDENT"),[I,P]=q.useState("WORK"),[V,j]=q.useState(!0),[D,A]=q.useState(!1),N=q.useMemo(()=>{const ie=new Map;return s.forEach(W=>{const Z=ie.get(W.userId)||[];Z.push(W),ie.set(W.userId,Z)}),u.map(W=>{const Z=ie.get(W.id)||[],ue=Z.length,Oe=Math.round(Z.reduce((se,ke)=>{var Me;return se+(((Me=ke.metrics)==null?void 0:Me.engagementTime)||0)},0)/60);return{...W,stats:{problemsCompleted:ue,avgScore:0,rawAccuracy:0,totalTime:Oe}}})},[u,s]),k=q.useMemo(()=>i.find(ie=>ie.id===T)||null,[i,T]);q.useEffect(()=>{let ie=null;const W=kQ(US,async Z=>{Z?(await $(Z),ie=Yn(ht(He,"users",Z.uid),ue=>{ue.exists()&&e(Oe=>({...Oe||{},...ue.data(),id:Z.uid}))})):(e(null),ie&&ie(),j(!1))});return()=>{W(),ie&&ie()}},[]),q.useEffect(()=>{if(t&&(t.isWhitelisted||t.role===zi.ADMIN)){const ie=Ze.subscribeToAssignments(a),W=Ze.subscribeToClassConfigs(x),Z=[ie,W];return t.role===zi.ADMIN?(Z.push(Ze.subscribeToSubmissions(c)),Z.push(Ze.subscribeToUsers(f)),Z.push(Ze.subscribeToWhitelist(g))):Z.push(Ze.subscribeToUserSubmissions(t.id,c)),()=>Z.forEach(ue=>ue())}},[t==null?void 0:t.id,t==null?void 0:t.isWhitelisted]),q.useEffect(()=>{var ie;boe(((ie=t==null?void 0:t.settings)==null?void 0:ie.soundEffects)!==!1)},[(fe=t==null?void 0:t.settings)==null?void 0:fe.soundEffects]);const $=async ie=>{try{const W=ht(He,"users",ie.uid),Z=await _i(W),ue=await _i(ht(He,"allowed_emails",ie.email||"")),se=(await ie.getIdTokenResult()).claims.admin===!0||ie.email===Bie,ke=ue.exists()||se,Me=ue.exists()?ue.data():null,et=(Me==null?void 0:Me.classType)||Or.UNCATEGORIZED,Ae=(Me==null?void 0:Me.classTypes)||(et!==Or.UNCATEGORIZED?[et]:[]);if(Z.exists()){const qe=Z.data(),he={lastLoginAt:new Date().toISOString(),isWhitelisted:ke};if(se&&(he.role="ADMIN"),!ke&&!se&&(he.enrolledClasses=[]),ke&&Ae.length>0){const pe=qe.enrolledClasses||[],Ge=Array.from(new Set([...pe,...Ae]));Ge.length!==pe.length&&(he.enrolledClasses=Ge,(!qe.classType||qe.classType===Or.UNCATEGORIZED)&&(he.classType=Ae[0]))}await xr(W,he)}else{const qe={email:ie.email,name:ie.displayName||"Student",avatarUrl:ie.photoURL||"",role:se?"ADMIN":"STUDENT",classType:et,enrolledClasses:ke?Ae:[],isWhitelisted:ke,createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString(),gamification:{xp:0,level:1,currency:0,badges:[],privacyMode:!1,classXp:{}},settings:{liveBackground:!0,performanceMode:!1,privacyMode:!1,compactView:!1}};await Bi(W,qe)}}catch(W){console.error(W)}finally{j(!1)}},M=async()=>{await CQ(US),e(null),S(null)},z=ie=>{P("WORK"),S(ie)},U=q.useRef(k),Y=q.useRef(t);q.useEffect(()=>{U.current=k},[k]),q.useEffect(()=>{Y.current=t},[t]);const ee=async ie=>{const W=Y.current,Z=U.current;if(!(!W||!Z||W.role===zi.ADMIN)&&!(ie.engagementTime<10))try{await Ze.submitEngagement(W.id,W.name,Z.id,Z.title,ie,Z.classType)}catch(ue){console.error("Engagement submission failed:",ue)}};if(V)return h.jsx("div",{className:"h-screen flex items-center justify-center bg-[#0f0720] text-white font-mono",children:"ESTABLISHING CONNECTION..."});if(!t)return h.jsx(_oe,{});if(!t.isWhitelisted&&t.role!==zi.ADMIN)return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0f0720] p-6",children:h.jsxs("div",{className:"max-w-md w-full bg-white/5 backdrop-blur-xl border border-white/10 p-10 rounded-3xl text-center shadow-2xl relative z-10",children:[h.jsx(lx,{className:"w-16 h-16 text-amber-500 mx-auto mb-6"}),h.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Access Pending"}),h.jsxs("p",{className:"text-gray-300 mb-8",children:["Hi ",t.name,"! Your account is currently restricted. Please contact ",P$," for authorization."]}),h.jsx("button",{onClick:M,className:"w-full py-4 bg-white/5 border border-white/10 text-white rounded-xl hover:bg-red-500/20 transition-all font-bold",children:"Sign Out"})]})});let K={physicsLab:!0,evidenceLocker:!0,leaderboard:!0,physicsTools:!0,communications:!0};if(t.role==="STUDENT"&&t.classType){const ie=v.find(W=>W.className===t.classType);ie&&(K=ie.features)}const J=t.role===zi.ADMIN||K.physicsTools,Q=t.role===zi.ADMIN||K.communications;return h.jsx(C5e,{children:h.jsx(Soe,{children:h.jsx($ie,{children:h.jsxs(h.Fragment,{children:[h.jsx(Fie,{}),J&&h.jsx(Foe,{onToggleChat:Q?()=>A(!D):void 0}),Q&&h.jsx(Goe,{user:t,isOpen:D,onClose:()=>A(!1),assignments:i,classConfigs:v,onOpenResource:ie=>{z(ie)}}),h.jsx(Hie,{user:t,onLogout:M,activeTab:r,setActiveTab:n,children:k?h.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center text-white bg-white/5 p-4 rounded-xl border border-white/10 backdrop-blur-md gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[k.title,t.role===zi.ADMIN&&h.jsx("span",{className:"text-[10px] bg-purple-600 px-2 py-1 rounded-full uppercase tracking-widest",children:"Admin Control"})]}),h.jsxs("div",{className:"flex gap-4 mt-2",children:[h.jsx("button",{onClick:()=>P("WORK"),className:`text-sm font-bold pb-1 border-b-2 transition ${I==="WORK"?"border-purple-500 text-white":"border-transparent text-gray-400"}`,children:"Resource"}),k.category==="Practice Set"?h.jsxs("button",{onClick:()=>P("REVIEW"),className:`text-sm font-bold pb-1 border-b-2 transition flex items-center gap-1.5 ${I==="REVIEW"?"border-purple-500 text-white":"border-transparent text-gray-400"}`,children:[h.jsx(Is,{className:"w-3.5 h-3.5"})," Study Material"]}):h.jsxs("button",{onClick:()=>P("REVIEW"),className:`text-sm font-bold pb-1 border-b-2 transition flex items-center gap-1.5 ${I==="REVIEW"?"border-purple-500 text-white":"border-transparent text-gray-400"}`,children:[h.jsx(ep,{className:"w-3.5 h-3.5"})," Review"]})]})]}),h.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[t.role==="ADMIN"&&h.jsxs("div",{className:"flex bg-black/40 rounded-lg p-1 border border-white/10 text-[10px] font-bold",children:[h.jsx("button",{onClick:()=>C("STUDENT"),className:`px-3 py-1.5 rounded transition ${_==="STUDENT"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:"Student View"}),h.jsx("button",{onClick:()=>C("ADMIN"),className:`px-3 py-1.5 rounded transition ${_==="ADMIN"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:"Admin View"})]}),h.jsxs("button",{onClick:()=>{S(null),P("WORK")},className:"text-gray-400 hover:text-white transition flex items-center gap-1 text-sm bg-white/5 px-4 py-2 rounded-lg border border-white/10",children:[h.jsx(rie,{className:"w-4 h-4"})," Exit"]})]})]}),h.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[I==="WORK"&&h.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-4",children:[h.jsx("div",{className:"flex-1",children:h.jsx(woe,{onComplete:ee,contentUrl:k.contentUrl,htmlContent:k.htmlContent,userId:t.id,assignmentId:k.id,classType:k.classType})}),_==="ADMIN"&&t.role===zi.ADMIN&&h.jsxs("div",{className:"w-full md:w-72 bg-white/5 border border-white/10 rounded-2xl p-6 backdrop-blur-md animate-in slide-in-from-right duration-300 overflow-y-auto",children:[h.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[h.jsx(tp,{className:"w-4 h-4 text-purple-400"})," Admin Controls"]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest block mb-2",children:"Active Engagement"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 bg-purple-600/20 rounded-xl flex items-center justify-center text-purple-400",children:h.jsx(id,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-white",children:s.filter(ie=>ie.assignmentId===k.id&&!ie.isArchived).length}),h.jsx("div",{className:"text-[10px] text-gray-500",children:"Live Operatives"})]})]})]}),h.jsxs("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest block mb-2",children:"Collaboration"}),h.jsx("button",{onClick:()=>A(!0),className:"w-full bg-indigo-600 border border-indigo-500 py-2 rounded-lg text-xs font-bold text-white hover:bg-indigo-500 transition",children:"Open Class Chat"})]})]})]})]}),I==="REVIEW"&&h.jsx("div",{className:"h-full bg-white/5 border border-white/10 rounded-2xl overflow-hidden backdrop-blur-md",style:{animation:"tabEnter 0.3s ease-out both"},children:k.category==="Practice Set"?h.jsx(L5e,{assignment:k,onComplete:ee}):h.jsx(j5e,{assignment:k})})]})]}):h.jsx("div",{className:"h-full",children:h.jsxs("div",{className:"h-full animate-in fade-in slide-in-from-bottom-2 duration-300",children:[t.role===zi.ADMIN&&h.jsxs(h.Fragment,{children:[r==="Dashboard"&&h.jsx(Ooe,{users:N,assignments:i,submissions:s}),r==="User Management"&&h.jsx(koe,{users:N,whitelistedEmails:m,classConfigs:v,onWhitelist:async(ie,W)=>Ze.addToWhitelist(ie,W)}),r==="Admin Panel"&&h.jsx(Moe,{assignments:i,submissions:s,onCreateAssignment:async ie=>{ie.title&&await Ze.addAssignment(ie)},classConfigs:v,onPreviewAssignment:ie=>{C("STUDENT"),z(ie)}}),r==="XP Command"&&h.jsx(Voe,{users:u})]}),t.role===zi.STUDENT&&h.jsxs(h.Fragment,{children:[r==="Dashboard"&&h.jsx(e5e,{user:t,assignments:i,submissions:s,enabledFeatures:K,onNavigate:n,onStartAssignment:z}),r==="Forensics"&&K.evidenceLocker&&h.jsx(E5e,{user:t}),r==="Physics Lab"&&K.physicsLab&&h.jsx(N5e,{user:t}),r==="Leaderboard"&&K.leaderboard&&h.jsx(k5e,{})]})]},r)})})]})})})})},TK=document.getElementById("root");if(!TK)throw new Error("Could not find root element to mount to");const U5e=hX.createRoot(TK);U5e.render(h.jsx(ne.StrictMode,{children:h.jsx(B5e,{})}));
