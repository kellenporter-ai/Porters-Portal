var pX=Object.defineProperty;var gX=(t,e,r)=>e in t?pX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var sk=(t,e,r)=>gX(t,typeof e!="symbol"?e+"":e,r);import{jsPDF as yX}from"jspdf";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vw={exports:{}},Wf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ok;function vX(){if(ok)return Wf;ok=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:s,ref:i!==void 0?i:null,props:a}}return Wf.Fragment=e,Wf.jsx=r,Wf.jsxs=r,Wf}var lk;function bX(){return lk||(lk=1,vw.exports=vX()),vw.exports}var u=bX(),bw={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ck;function xX(){if(ck)return Ct;ck=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function b(X){return X===null||typeof X!="object"?null:(X=y&&X[y]||X["@@iterator"],typeof X=="function"?X:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function O(X,ee,ce){this.props=X,this.context=ee,this.refs=w,this.updater=ce||T}O.prototype.isReactComponent={},O.prototype.setState=function(X,ee){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ee,"setState")},O.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function R(){}R.prototype=O.prototype;function C(X,ee,ce){this.props=X,this.context=ee,this.refs=w,this.updater=ce||T}var B=C.prototype=new R;B.constructor=C,S(B,O.prototype),B.isPureReactComponent=!0;var I=Array.isArray;function D(){}var A={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function E(X,ee,ce){var Ne=ce.ref;return{$$typeof:t,type:X,key:ee,ref:Ne!==void 0?Ne:null,props:ce}}function U(X,ee){return E(X.type,ee,X.props)}function M(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function $(X){var ee={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(ce){return ee[ce]})}var z=/\/+/g;function Y(X,ee){return typeof X=="object"&&X!==null&&X.key!=null?$(""+X.key):ee.toString(36)}function te(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(D,D):(X.status="pending",X.then(function(ee){X.status==="pending"&&(X.status="fulfilled",X.value=ee)},function(ee){X.status==="pending"&&(X.status="rejected",X.reason=ee)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function K(X,ee,ce,Ne,oe){var Oe=typeof X;(Oe==="undefined"||Oe==="boolean")&&(X=null);var Me=!1;if(X===null)Me=!0;else switch(Oe){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(X.$$typeof){case t:case e:Me=!0;break;case m:return Me=X._init,K(Me(X._payload),ee,ce,Ne,oe)}}if(Me)return oe=oe(X),Me=Ne===""?"."+Y(X,0):Ne,I(oe)?(ce="",Me!=null&&(ce=Me.replace(z,"$&/")+"/"),K(oe,ee,ce,"",function(He){return He})):oe!=null&&(M(oe)&&(oe=U(oe,ce+(oe.key==null||X&&X.key===oe.key?"":(""+oe.key).replace(z,"$&/")+"/")+Me)),ee.push(oe)),1;Me=0;var it=Ne===""?".":Ne+":";if(I(X))for(var Ee=0;Ee<X.length;Ee++)Ne=X[Ee],Oe=it+Y(Ne,Ee),Me+=K(Ne,ee,ce,Oe,oe);else if(Ee=b(X),typeof Ee=="function")for(X=Ee.call(X),Ee=0;!(Ne=X.next()).done;)Ne=Ne.value,Oe=it+Y(Ne,Ee++),Me+=K(Ne,ee,ce,Oe,oe);else if(Oe==="object"){if(typeof X.then=="function")return K(te(X),ee,ce,Ne,oe);throw ee=String(X),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Me}function J(X,ee,ce){if(X==null)return X;var Ne=[],oe=0;return K(X,Ne,"","",function(Oe){return ee.call(ce,Oe,oe++)}),Ne}function Q(X){if(X._status===-1){var ee=X._result;ee=ee(),ee.then(function(ce){(X._status===0||X._status===-1)&&(X._status=1,X._result=ce)},function(ce){(X._status===0||X._status===-1)&&(X._status=2,X._result=ce)}),X._status===-1&&(X._status=0,X._result=ee)}if(X._status===1)return X._result.default;throw X._result}var ye=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},se={map:J,forEach:function(X,ee,ce){J(X,function(){ee.apply(this,arguments)},ce)},count:function(X){var ee=0;return J(X,function(){ee++}),ee},toArray:function(X){return J(X,function(ee){return ee})||[]},only:function(X){if(!M(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return Ct.Activity=p,Ct.Children=se,Ct.Component=O,Ct.Fragment=r,Ct.Profiler=i,Ct.PureComponent=C,Ct.StrictMode=n,Ct.Suspense=d,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(X){return A.H.useMemoCache(X)}},Ct.cache=function(X){return function(){return X.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(X,ee,ce){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Ne=S({},X.props),oe=X.key;if(ee!=null)for(Oe in ee.key!==void 0&&(oe=""+ee.key),ee)!k.call(ee,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ee.ref===void 0||(Ne[Oe]=ee[Oe]);var Oe=arguments.length-2;if(Oe===1)Ne.children=ce;else if(1<Oe){for(var Me=Array(Oe),it=0;it<Oe;it++)Me[it]=arguments[it+2];Ne.children=Me}return E(X.type,oe,Ne)},Ct.createContext=function(X){return X={$$typeof:s,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:a,_context:X},X},Ct.createElement=function(X,ee,ce){var Ne,oe={},Oe=null;if(ee!=null)for(Ne in ee.key!==void 0&&(Oe=""+ee.key),ee)k.call(ee,Ne)&&Ne!=="key"&&Ne!=="__self"&&Ne!=="__source"&&(oe[Ne]=ee[Ne]);var Me=arguments.length-2;if(Me===1)oe.children=ce;else if(1<Me){for(var it=Array(Me),Ee=0;Ee<Me;Ee++)it[Ee]=arguments[Ee+2];oe.children=it}if(X&&X.defaultProps)for(Ne in Me=X.defaultProps,Me)oe[Ne]===void 0&&(oe[Ne]=Me[Ne]);return E(X,Oe,oe)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(X){return{$$typeof:c,render:X}},Ct.isValidElement=M,Ct.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:Q}},Ct.memo=function(X,ee){return{$$typeof:f,type:X,compare:ee===void 0?null:ee}},Ct.startTransition=function(X){var ee=A.T,ce={};A.T=ce;try{var Ne=X(),oe=A.S;oe!==null&&oe(ce,Ne),typeof Ne=="object"&&Ne!==null&&typeof Ne.then=="function"&&Ne.then(D,ye)}catch(Oe){ye(Oe)}finally{ee!==null&&ce.types!==null&&(ee.types=ce.types),A.T=ee}},Ct.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ct.use=function(X){return A.H.use(X)},Ct.useActionState=function(X,ee,ce){return A.H.useActionState(X,ee,ce)},Ct.useCallback=function(X,ee){return A.H.useCallback(X,ee)},Ct.useContext=function(X){return A.H.useContext(X)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(X,ee){return A.H.useDeferredValue(X,ee)},Ct.useEffect=function(X,ee){return A.H.useEffect(X,ee)},Ct.useEffectEvent=function(X){return A.H.useEffectEvent(X)},Ct.useId=function(){return A.H.useId()},Ct.useImperativeHandle=function(X,ee,ce){return A.H.useImperativeHandle(X,ee,ce)},Ct.useInsertionEffect=function(X,ee){return A.H.useInsertionEffect(X,ee)},Ct.useLayoutEffect=function(X,ee){return A.H.useLayoutEffect(X,ee)},Ct.useMemo=function(X,ee){return A.H.useMemo(X,ee)},Ct.useOptimistic=function(X,ee){return A.H.useOptimistic(X,ee)},Ct.useReducer=function(X,ee,ce){return A.H.useReducer(X,ee,ce)},Ct.useRef=function(X){return A.H.useRef(X)},Ct.useState=function(X){return A.H.useState(X)},Ct.useSyncExternalStore=function(X,ee,ce){return A.H.useSyncExternalStore(X,ee,ce)},Ct.useTransition=function(){return A.H.useTransition()},Ct.version="19.2.4",Ct}var uk;function HA(){return uk||(uk=1,bw.exports=xX()),bw.exports}var F=HA();const ie=mr(F);var xw={exports:{}},Xf={},ww={exports:{}},_w={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk;function wX(){return dk||(dk=1,(function(t){function e(K,J){var Q=K.length;K.push(J);e:for(;0<Q;){var ye=Q-1>>>1,se=K[ye];if(0<i(se,J))K[ye]=J,K[Q]=se,Q=ye;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var J=K[0],Q=K.pop();if(Q!==J){K[0]=Q;e:for(var ye=0,se=K.length,X=se>>>1;ye<X;){var ee=2*(ye+1)-1,ce=K[ee],Ne=ee+1,oe=K[Ne];if(0>i(ce,Q))Ne<se&&0>i(oe,ce)?(K[ye]=oe,K[Ne]=Q,ye=Ne):(K[ye]=ce,K[ee]=Q,ye=ee);else if(Ne<se&&0>i(oe,Q))K[ye]=oe,K[Ne]=Q,ye=Ne;else break e}}return J}function i(K,J){var Q=K.sortIndex-J.sortIndex;return Q!==0?Q:K.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var d=[],f=[],m=1,p=null,y=3,b=!1,T=!1,S=!1,w=!1,O=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function B(K){for(var J=r(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=K)n(f),J.sortIndex=J.expirationTime,e(d,J);else break;J=r(f)}}function I(K){if(S=!1,B(K),!T)if(r(d)!==null)T=!0,D||(D=!0,$());else{var J=r(f);J!==null&&te(I,J.startTime-K)}}var D=!1,A=-1,k=5,E=-1;function U(){return w?!0:!(t.unstable_now()-E<k)}function M(){if(w=!1,D){var K=t.unstable_now();E=K;var J=!0;try{e:{T=!1,S&&(S=!1,R(A),A=-1),b=!0;var Q=y;try{t:{for(B(K),p=r(d);p!==null&&!(p.expirationTime>K&&U());){var ye=p.callback;if(typeof ye=="function"){p.callback=null,y=p.priorityLevel;var se=ye(p.expirationTime<=K);if(K=t.unstable_now(),typeof se=="function"){p.callback=se,B(K),J=!0;break t}p===r(d)&&n(d),B(K)}else n(d);p=r(d)}if(p!==null)J=!0;else{var X=r(f);X!==null&&te(I,X.startTime-K),J=!1}}break e}finally{p=null,y=Q,b=!1}J=void 0}}finally{J?$():D=!1}}}var $;if(typeof C=="function")$=function(){C(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Y=z.port2;z.port1.onmessage=M,$=function(){Y.postMessage(null)}}else $=function(){O(M,0)};function te(K,J){A=O(function(){K(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(K){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var Q=y;y=J;try{return K()}finally{y=Q}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(K,J){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=y;y=K;try{return J()}finally{y=Q}},t.unstable_scheduleCallback=function(K,J,Q){var ye=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ye+Q:ye):Q=ye,K){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Q+se,K={id:m++,callback:J,priorityLevel:K,startTime:Q,expirationTime:se,sortIndex:-1},Q>ye?(K.sortIndex=Q,e(f,K),r(d)===null&&K===r(f)&&(S?(R(A),A=-1):S=!0,te(I,Q-ye))):(K.sortIndex=se,e(d,K),T||b||(T=!0,D||(D=!0,$()))),K},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(K){var J=y;return function(){var Q=y;y=J;try{return K.apply(this,arguments)}finally{y=Q}}}})(_w)),_w}var hk;function _X(){return hk||(hk=1,ww.exports=wX()),ww.exports}var Sw={exports:{}},Ei={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fk;function SX(){if(fk)return Ei;fk=1;var t=HA();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ei.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ei.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,m)},Ei.flushSync=function(d){var f=s.T,m=n.p;try{if(s.T=null,n.p=2,d)return d()}finally{s.T=f,n.p=m,n.d.f()}},Ei.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},Ei.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Ei.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):m==="script"&&n.d.X(d,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ei.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},Ei.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);n.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ei.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},Ei.requestFormReset=function(d){n.d.r(d)},Ei.unstable_batchedUpdates=function(d,f){return d(f)},Ei.useFormState=function(d,f,m){return s.H.useFormState(d,f,m)},Ei.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ei.version="19.2.4",Ei}var mk;function TX(){if(mk)return Sw.exports;mk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sw.exports=SX(),Sw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pk;function AX(){if(pk)return Xf;pk=1;var t=_X(),e=HA(),r=TX();function n(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function d(o){if(a(o)!==o)throw Error(n(188))}function f(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(n(188));return l!==o?null:o}for(var h=o,g=l;;){var x=h.return;if(x===null)break;var _=x.alternate;if(_===null){if(g=x.return,g!==null){h=g;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===h)return d(x),o;if(_===g)return d(x),l;_=_.sibling}throw Error(n(188))}if(h.return!==g.return)h=x,g=_;else{for(var L=!1,H=x.child;H;){if(H===h){L=!0,h=x,g=_;break}if(H===g){L=!0,g=x,h=_;break}H=H.sibling}if(!L){for(H=_.child;H;){if(H===h){L=!0,h=_,g=x;break}if(H===g){L=!0,g=_,h=x;break}H=H.sibling}if(!L)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:l}function m(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=m(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),C=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function $(o){return o===null||typeof o!="object"?null:(o=M&&o[M]||o["@@iterator"],typeof o=="function"?o:null)}var z=Symbol.for("react.client.reference");function Y(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case O:return"Profiler";case w:return"StrictMode";case I:return"Suspense";case D:return"SuspenseList";case E:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case C:return o.displayName||"Context";case R:return(o._context.displayName||"Context")+".Consumer";case B:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case A:return l=o.displayName||null,l!==null?l:Y(o.type)||"Memo";case k:l=o._payload,o=o._init;try{return Y(o(l))}catch{}}return null}var te=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ye=[],se=-1;function X(o){return{current:o}}function ee(o){0>se||(o.current=ye[se],ye[se]=null,se--)}function ce(o,l){se++,ye[se]=o.current,o.current=l}var Ne=X(null),oe=X(null),Oe=X(null),Me=X(null);function it(o,l){switch(ce(Oe,l),ce(oe,o),ce(Ne,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?kO(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=kO(l),o=jO(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ee(Ne),ce(Ne,o)}function Ee(){ee(Ne),ee(oe),ee(Oe)}function He(o){o.memoizedState!==null&&ce(Me,o);var l=Ne.current,h=jO(l,o.type);l!==h&&(ce(oe,o),ce(Ne,h))}function he(o){oe.current===o&&(ee(Ne),ee(oe)),Me.current===o&&(ee(Me),qf._currentValue=Q)}var ge,We;function Ve(o){if(ge===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);ge=l&&l[1]||"",We=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+o+We}var nt=!1;function ct(o,l){if(!o||nt)return"";nt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(Te){var Se=Te}Reflect.construct(o,[],Pe)}else{try{Pe.call()}catch(Te){Se=Te}o.call(Pe.prototype)}}else{try{throw Error()}catch(Te){Se=Te}(Pe=o())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(Te){if(Te&&Se&&typeof Te.stack=="string")return[Te.stack,Se.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=g.DetermineComponentFrameRoot(),L=_[0],H=_[1];if(L&&H){var ae=L.split(`
`),we=H.split(`
`);for(x=g=0;g<ae.length&&!ae[g].includes("DetermineComponentFrameRoot");)g++;for(;x<we.length&&!we[x].includes("DetermineComponentFrameRoot");)x++;if(g===ae.length||x===we.length)for(g=ae.length-1,x=we.length-1;1<=g&&0<=x&&ae[g]!==we[x];)x--;for(;1<=g&&0<=x;g--,x--)if(ae[g]!==we[x]){if(g!==1||x!==1)do if(g--,x--,0>x||ae[g]!==we[x]){var je=`
`+ae[g].replace(" at new "," at ");return o.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",o.displayName)),je}while(1<=g&&0<=x);break}}}finally{nt=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Ve(h):""}function Wt(o,l){switch(o.tag){case 26:case 27:case 5:return Ve(o.type);case 16:return Ve("Lazy");case 13:return o.child!==l&&l!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return ct(o.type,!1);case 11:return ct(o.type.render,!1);case 1:return ct(o.type,!0);case 31:return Ve("Activity");default:return""}}function Ie(o){try{var l="",h=null;do l+=Wt(o,h),h=o,o=o.return;while(o);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var ue=Object.prototype.hasOwnProperty,ze=t.unstable_scheduleCallback,et=t.unstable_cancelCallback,yt=t.unstable_shouldYield,Qe=t.unstable_requestPaint,_t=t.unstable_now,Pt=t.unstable_getCurrentPriorityLevel,Xt=t.unstable_ImmediatePriority,Tt=t.unstable_UserBlockingPriority,tr=t.unstable_NormalPriority,Br=t.unstable_LowPriority,vr=t.unstable_IdlePriority,Qi=t.log,Wr=t.unstable_setDisableYieldValue,Vn=null,Ir=null;function vn(o){if(typeof Qi=="function"&&Wr(o),Ir&&typeof Ir.setStrictMode=="function")try{Ir.setStrictMode(Vn,o)}catch{}}var Vt=Math.clz32?Math.clz32:Fs,bn=Math.log,ya=Math.LN2;function Fs(o){return o>>>=0,o===0?32:31-(bn(o)/ya|0)|0}var ys=256,xn=262144,va=4194304;function xi(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function rr(o,l,h){var g=o.pendingLanes;if(g===0)return 0;var x=0,_=o.suspendedLanes,L=o.pingedLanes;o=o.warmLanes;var H=g&134217727;return H!==0?(g=H&~_,g!==0?x=xi(g):(L&=H,L!==0?x=xi(L):h||(h=H&~o,h!==0&&(x=xi(h))))):(H=g&~_,H!==0?x=xi(H):L!==0?x=xi(L):h||(h=g&~o,h!==0&&(x=xi(h)))),x===0?0:l!==0&&l!==x&&(l&_)===0&&(_=x&-x,h=l&-l,_>=h||_===32&&(h&4194048)!==0)?l:x}function Yn(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function vs(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bs(){var o=va;return va<<=1,(va&62914560)===0&&(va=4194304),o}function wi(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function Zi(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function tn(o,l,h,g,x,_){var L=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var H=o.entanglements,ae=o.expirationTimes,we=o.hiddenUpdates;for(h=L&~h;0<h;){var je=31-Vt(h),Pe=1<<je;H[je]=0,ae[je]=-1;var Se=we[je];if(Se!==null)for(we[je]=null,je=0;je<Se.length;je++){var Te=Se[je];Te!==null&&(Te.lane&=-536870913)}h&=~Pe}g!==0&&qs(o,g,0),_!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=_&~(L&~l))}function qs(o,l,h){o.pendingLanes|=l,o.suspendedLanes&=~l;var g=31-Vt(l);o.entangledLanes|=l,o.entanglements[g]=o.entanglements[g]|1073741824|h&261930}function _i(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var g=31-Vt(h),x=1<<g;x&l|o[g]&l&&(o[g]|=l),h&=~x}}function Ri(o,l){var h=l&-l;return h=(h&42)!==0?1:Hs(h),(h&(o.suspendedLanes|l))!==0?0:h}function Hs(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function wn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function si(){var o=J.p;return o!==0?o:(o=window.event,o===void 0?32:JO(o.type))}function Gs(o,l){var h=J.p;try{return J.p=o,l()}finally{J.p=h}}var Si=Math.random().toString(36).slice(2),br="__reactFiber$"+Si,Ur="__reactProps$"+Si,rn="__reactContainer$"+Si,Ji="__reactEvents$"+Si,Ti="__reactListeners$"+Si,Ks="__reactHandles$"+Si,xs="__reactResources$"+Si,ea="__reactMarker$"+Si;function ot(o){delete o[br],delete o[Ur],delete o[Ji],delete o[Ti],delete o[Ks]}function le(o){var l=o[br];if(l)return l;for(var h=o.parentNode;h;){if(l=h[rn]||h[br]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=LO(o);o!==null;){if(h=o[br])return h;o=LO(o)}return l}o=h,h=o.parentNode}return null}function Z(o){if(o=o[br]||o[rn]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function me(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(n(33))}function De(o){var l=o[xs];return l||(l=o[xs]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Je(o){o[ea]=!0}var mt=new Set,It={};function qt(o,l){Ht(o,l),Ht(o+"Capture",l)}function Ht(o,l){for(It[o]=l,o=0;o<l.length;o++)mt.add(l[o])}var Ws=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ws={},B0={};function Pg(o){return ue.call(B0,o)?!0:ue.call(ws,o)?!1:Ws.test(o)?B0[o]=!0:(ws[o]=!0,!1)}function Rl(o,l,h){if(Pg(l))if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+h)}}function Ml(o,l,h){if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+h)}}function Va(o,l,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(l,h,""+g)}}function Mi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Dg(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function x2(o,l,h){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,_=g.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function(L){h=""+L,_.call(this,L)}}),Object.defineProperty(o,l,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(L){h=""+L},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function U0(o){if(!o._valueTracker){var l=Dg(o)?"checked":"value";o._valueTracker=x2(o,l,""+o[l])}}function rf(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return o&&(g=Dg(o)?o.checked?"true":"false":o.value),o=g,o!==h?(l.setValue(o),!0):!1}function z0(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Eo=/[\n"\\]/g;function ln(o){return o.replace(Eo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Pl(o,l,h,g,x,_,L,H){o.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?o.type=L:o.removeAttribute("type"),l!=null?L==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Mi(l)):o.value!==""+Mi(l)&&(o.value=""+Mi(l)):L!=="submit"&&L!=="reset"||o.removeAttribute("value"),l!=null?V0(o,L,Mi(l)):h!=null?V0(o,L,Mi(h)):g!=null&&o.removeAttribute("value"),x==null&&_!=null&&(o.defaultChecked=!!_),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?o.name=""+Mi(H):o.removeAttribute("name")}function iu(o,l,h,g,x,_,L,H){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),l!=null||h!=null){if(!(_!=="submit"&&_!=="reset"||l!=null)){U0(o);return}h=h!=null?""+Mi(h):"",l=l!=null?""+Mi(l):h,H||l===o.value||(o.value=l),o.defaultValue=l}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=H?o.checked:!!g,o.defaultChecked=!!g,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(o.name=L),U0(o)}function V0(o,l,h){l==="number"&&z0(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function sr(o,l,h,g){if(o=o.options,l){l={};for(var x=0;x<h.length;x++)l["$"+h[x]]=!0;for(h=0;h<o.length;h++)x=l.hasOwnProperty("$"+o[h].value),o[h].selected!==x&&(o[h].selected=x),x&&g&&(o[h].defaultSelected=!0)}else{for(h=""+Mi(h),l=null,x=0;x<o.length;x++){if(o[x].value===h){o[x].selected=!0,g&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function au(o,l,h){if(l!=null&&(l=""+Mi(l),l!==o.value&&(o.value=l),h==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=h!=null?""+Mi(h):""}function Dl(o,l,h,g){if(l==null){if(g!=null){if(h!=null)throw Error(n(92));if(te(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),l=h}h=Mi(l),o.defaultValue=h,g=o.textContent,g===h&&g!==""&&g!==null&&(o.value=g),U0(o)}function $a(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var w2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nf(o,l,h){var g=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":g?o.setProperty(l,h):typeof h!="number"||h===0||w2.has(l)?l==="float"?o.cssFloat=h:o[l]=(""+h).trim():o[l]=h+"px"}function Lg(o,l,h){if(l!=null&&typeof l!="object")throw Error(n(62));if(o=o.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var x in l)g=l[x],l.hasOwnProperty(x)&&h[x]!==g&&nf(o,x,g)}else for(var _ in l)l.hasOwnProperty(_)&&nf(o,_,l[_])}function af(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),S2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(o){return S2.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Qn(){}var $0=null;function F0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var No=null,ba=null;function Bg(o){var l=Z(o);if(l&&(o=l.stateNode)){var h=o[Ur]||null;e:switch(o=l.stateNode,l.type){case"input":if(Pl(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ln(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==o&&g.form===o.form){var x=g[Ur]||null;if(!x)throw Error(n(90));Pl(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<h.length;l++)g=h[l],g.form===o.form&&rf(g)}break e;case"textarea":au(o,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&sr(o,!!h.multiple,l,!1)}}}var sf=!1;function Ug(o,l,h){if(sf)return o(l,h);sf=!0;try{var g=o(l);return g}finally{if(sf=!1,(No!==null||ba!==null)&&(P1(),No&&(l=No,o=ba,ba=No=null,Bg(l),o)))for(l=0;l<o.length;l++)Bg(o[l])}}function ta(o,l){var h=o.stateNode;if(h===null)return null;var g=h[Ur]||null;if(g===null)return null;h=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),of=!1;if(_s)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){of=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{of=!1}var xa=null,q0=null,Qs=null;function Ll(){if(Qs)return Qs;var o,l=q0,h=l.length,g,x="value"in xa?xa.value:xa.textContent,_=x.length;for(o=0;o<h&&l[o]===x[o];o++);var L=h-o;for(g=1;g<=L&&l[h-g]===x[_-g];g++);return Qs=x.slice(o,1<g?1-g:void 0)}function su(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Bl(){return!0}function Fr(){return!1}function Ai(o){function l(h,g,x,_,L){this._reactName=h,this._targetInst=x,this.type=g,this.nativeEvent=_,this.target=L,this.currentTarget=null;for(var H in o)o.hasOwnProperty(H)&&(h=o[H],this[H]=h?h(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Bl:Fr,this.isPropagationStopped=Fr,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),l}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ou=Ai(Oo),Ul=p({},Oo,{view:0,detail:0}),zg=Ai(Ul),zl,H0,Pi,lu=p({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Pi&&(Pi&&o.type==="mousemove"?(zl=o.screenX-Pi.screenX,H0=o.screenY-Pi.screenY):H0=zl=0,Pi=o),zl)},movementY:function(o){return"movementY"in o?o.movementY:H0}}),Vg=Ai(lu),cu=p({},lu,{dataTransfer:0}),$g=Ai(cu),lf=p({},Ul,{relatedTarget:0}),Vl=Ai(lf),Fg=p({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),G0=Ai(Fg),T2=p({},Oo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),qg=Ai(T2),uu=p({},Oo,{data:0}),cf=Ai(uu),Hg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},df={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gg(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=df[o])?!!l[o]:!1}function $l(){return Gg}var Kg=p({},Ul,{key:function(o){if(o.key){var l=Hg[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=su(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?uf[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(o){return o.type==="keypress"?su(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?su(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Wg=Ai(Kg),ko=p({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hf=Ai(ko),Xg=p({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),Yg=Ai(Xg),Qg=p({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),K0=Ai(Qg),Di=p({},lu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zg=Ai(Di),Jg=p({},Oo,{newState:0,oldState:0}),Fl=Ai(Jg),v=[9,13,27,32],j=_s&&"CompositionEvent"in window,V=null;_s&&"documentMode"in document&&(V=document.documentMode);var W=_s&&"TextEvent"in window&&!V,ve=_s&&(!j||V&&8<V&&11>=V),Ae=" ",Xe=!1;function pr(o,l){switch(o){case"keyup":return v.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var $t=!1;function Zn(o,l){switch(o){case"compositionend":return On(l);case"keypress":return l.which!==32?null:(Xe=!0,Ae);case"textInput":return o=l.data,o===Ae&&Xe?null:o;default:return null}}function Jn(o,l){if($t)return o==="compositionend"||!j&&pr(o,l)?(o=Ll(),Qs=q0=xa=null,$t=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ve&&l.locale!=="ko"?null:l.data;default:return null}}var ql={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ra(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!ql[o.type]:l==="textarea"}function du(o,l,h,g){No?ba?ba.push(g):ba=[g]:No=g,l=$1(l,"onChange"),0<l.length&&(h=new ou("onChange","change",null,h,g),o.push({event:h,listeners:l}))}var jo=null,ff=null;function $K(o){SO(o,0)}function e1(o){var l=me(o);if(rf(l))return o}function $E(o,l){if(o==="change")return l}var FE=!1;if(_s){var A2;if(_s){var E2="oninput"in document;if(!E2){var qE=document.createElement("div");qE.setAttribute("oninput","return;"),E2=typeof qE.oninput=="function"}A2=E2}else A2=!1;FE=A2&&(!document.documentMode||9<document.documentMode)}function HE(){jo&&(jo.detachEvent("onpropertychange",GE),ff=jo=null)}function GE(o){if(o.propertyName==="value"&&e1(ff)){var l=[];du(l,ff,o,F0(o)),Ug($K,l)}}function FK(o,l,h){o==="focusin"?(HE(),jo=l,ff=h,jo.attachEvent("onpropertychange",GE)):o==="focusout"&&HE()}function qK(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return e1(ff)}function HK(o,l){if(o==="click")return e1(l)}function GK(o,l){if(o==="input"||o==="change")return e1(l)}function KK(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var wa=typeof Object.is=="function"?Object.is:KK;function mf(o,l){if(wa(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var x=h[g];if(!ue.call(l,x)||!wa(o[x],l[x]))return!1}return!0}function KE(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function WE(o,l){var h=KE(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=l&&g>=l)return{node:h,offset:l-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=KE(h)}}function XE(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?XE(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function YE(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=z0(o.document);l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=z0(o.document)}return l}function N2(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var WK=_s&&"documentMode"in document&&11>=document.documentMode,W0=null,O2=null,pf=null,k2=!1;function QE(o,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;k2||W0==null||W0!==z0(g)||(g=W0,"selectionStart"in g&&N2(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),pf&&mf(pf,g)||(pf=g,g=$1(O2,"onSelect"),0<g.length&&(l=new ou("onSelect","select",null,l,h),o.push({event:l,listeners:g}),l.target=W0)))}function hu(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var X0={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionrun:hu("Transition","TransitionRun"),transitionstart:hu("Transition","TransitionStart"),transitioncancel:hu("Transition","TransitionCancel"),transitionend:hu("Transition","TransitionEnd")},j2={},ZE={};_s&&(ZE=document.createElement("div").style,"AnimationEvent"in window||(delete X0.animationend.animation,delete X0.animationiteration.animation,delete X0.animationstart.animation),"TransitionEvent"in window||delete X0.transitionend.transition);function fu(o){if(j2[o])return j2[o];if(!X0[o])return o;var l=X0[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in ZE)return j2[o]=l[h];return o}var JE=fu("animationend"),eN=fu("animationiteration"),tN=fu("animationstart"),XK=fu("transitionrun"),YK=fu("transitionstart"),QK=fu("transitioncancel"),rN=fu("transitionend"),nN=new Map,C2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");C2.push("scrollEnd");function Ss(o,l){nN.set(o,l),qt(l,[o])}var t1=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Fa=[],Y0=0,I2=0;function r1(){for(var o=Y0,l=I2=Y0=0;l<o;){var h=Fa[l];Fa[l++]=null;var g=Fa[l];Fa[l++]=null;var x=Fa[l];Fa[l++]=null;var _=Fa[l];if(Fa[l++]=null,g!==null&&x!==null){var L=g.pending;L===null?x.next=x:(x.next=L.next,L.next=x),g.pending=x}_!==0&&iN(h,x,_)}}function n1(o,l,h,g){Fa[Y0++]=o,Fa[Y0++]=l,Fa[Y0++]=h,Fa[Y0++]=g,I2|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function R2(o,l,h,g){return n1(o,l,h,g),i1(o)}function mu(o,l){return n1(o,null,null,l),i1(o)}function iN(o,l,h){o.lanes|=h;var g=o.alternate;g!==null&&(g.lanes|=h);for(var x=!1,_=o.return;_!==null;)_.childLanes|=h,g=_.alternate,g!==null&&(g.childLanes|=h),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(x=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,x&&l!==null&&(x=31-Vt(h),o=_.hiddenUpdates,g=o[x],g===null?o[x]=[l]:g.push(l),l.lane=h|536870912),_):null}function i1(o){if(50<Lf)throw Lf=0,$4=null,Error(n(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Q0={};function ZK(o,l,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(o,l,h,g){return new ZK(o,l,h,g)}function M2(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Co(o,l){var h=o.alternate;return h===null?(h=_a(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function aN(o,l){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,l=h.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function a1(o,l,h,g,x,_){var L=0;if(g=o,typeof o=="function")M2(o)&&(L=1);else if(typeof o=="string")L=nX(o,h,Ne.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case E:return o=_a(31,h,l,x),o.elementType=E,o.lanes=_,o;case S:return pu(h.children,x,_,l);case w:L=8,x|=24;break;case O:return o=_a(12,h,l,x|2),o.elementType=O,o.lanes=_,o;case I:return o=_a(13,h,l,x),o.elementType=I,o.lanes=_,o;case D:return o=_a(19,h,l,x),o.elementType=D,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:L=10;break e;case R:L=9;break e;case B:L=11;break e;case A:L=14;break e;case k:L=16,g=null;break e}L=29,h=Error(n(130,o===null?"null":typeof o,"")),g=null}return l=_a(L,h,l,x),l.elementType=o,l.type=g,l.lanes=_,l}function pu(o,l,h,g){return o=_a(7,o,g,l),o.lanes=h,o}function P2(o,l,h){return o=_a(6,o,null,l),o.lanes=h,o}function sN(o){var l=_a(18,null,null,0);return l.stateNode=o,l}function D2(o,l,h){return l=_a(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var oN=new WeakMap;function qa(o,l){if(typeof o=="object"&&o!==null){var h=oN.get(o);return h!==void 0?h:(l={value:o,source:l,stack:Ie(l)},oN.set(o,l),l)}return{value:o,source:l,stack:Ie(l)}}var Z0=[],J0=0,s1=null,gf=0,Ha=[],Ga=0,Hl=null,Zs=1,Js="";function Io(o,l){Z0[J0++]=gf,Z0[J0++]=s1,s1=o,gf=l}function lN(o,l,h){Ha[Ga++]=Zs,Ha[Ga++]=Js,Ha[Ga++]=Hl,Hl=o;var g=Zs;o=Js;var x=32-Vt(g)-1;g&=~(1<<x),h+=1;var _=32-Vt(l)+x;if(30<_){var L=x-x%5;_=(g&(1<<L)-1).toString(32),g>>=L,x-=L,Zs=1<<32-Vt(l)+x|h<<x|g,Js=_+o}else Zs=1<<_|h<<x|g,Js=o}function L2(o){o.return!==null&&(Io(o,1),lN(o,1,0))}function B2(o){for(;o===s1;)s1=Z0[--J0],Z0[J0]=null,gf=Z0[--J0],Z0[J0]=null;for(;o===Hl;)Hl=Ha[--Ga],Ha[Ga]=null,Js=Ha[--Ga],Ha[Ga]=null,Zs=Ha[--Ga],Ha[Ga]=null}function cN(o,l){Ha[Ga++]=Zs,Ha[Ga++]=Js,Ha[Ga++]=Hl,Zs=l.id,Js=l.overflow,Hl=o}var oi=null,qr=null,er=!1,Gl=null,Ka=!1,U2=Error(n(519));function Kl(o){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yf(qa(l,o)),U2}function uN(o){var l=o.stateNode,h=o.type,g=o.memoizedProps;switch(l[br]=o,l[Ur]=g,h){case"dialog":Kt("cancel",l),Kt("close",l);break;case"iframe":case"object":case"embed":Kt("load",l);break;case"video":case"audio":for(h=0;h<Uf.length;h++)Kt(Uf[h],l);break;case"source":Kt("error",l);break;case"img":case"image":case"link":Kt("error",l),Kt("load",l);break;case"details":Kt("toggle",l);break;case"input":Kt("invalid",l),iu(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Kt("invalid",l);break;case"textarea":Kt("invalid",l),Dl(l,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||g.suppressHydrationWarning===!0||NO(l.textContent,h)?(g.popover!=null&&(Kt("beforetoggle",l),Kt("toggle",l)),g.onScroll!=null&&Kt("scroll",l),g.onScrollEnd!=null&&Kt("scrollend",l),g.onClick!=null&&(l.onclick=Qn),l=!0):l=!1,l||Kl(o,!0)}function dN(o){for(oi=o.return;oi;)switch(oi.tag){case 5:case 31:case 13:Ka=!1;return;case 27:case 3:Ka=!0;return;default:oi=oi.return}}function ed(o){if(o!==oi)return!1;if(!er)return dN(o),er=!0,!1;var l=o.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||nw(o.type,o.memoizedProps)),h=!h),h&&qr&&Kl(o),dN(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));qr=DO(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));qr=DO(o)}else l===27?(l=qr,oc(o.type)?(o=lw,lw=null,qr=o):qr=l):qr=oi?Xa(o.stateNode.nextSibling):null;return!0}function gu(){qr=oi=null,er=!1}function z2(){var o=Gl;return o!==null&&(sa===null?sa=o:sa.push.apply(sa,o),Gl=null),o}function yf(o){Gl===null?Gl=[o]:Gl.push(o)}var V2=X(null),yu=null,Ro=null;function Wl(o,l,h){ce(V2,l._currentValue),l._currentValue=h}function Mo(o){o._currentValue=V2.current,ee(V2)}function $2(o,l,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===h)break;o=o.return}}function F2(o,l,h,g){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var _=x.dependencies;if(_!==null){var L=x.child;_=_.firstContext;e:for(;_!==null;){var H=_;_=x;for(var ae=0;ae<l.length;ae++)if(H.context===l[ae]){_.lanes|=h,H=_.alternate,H!==null&&(H.lanes|=h),$2(_.return,h,o),g||(L=null);break e}_=H.next}}else if(x.tag===18){if(L=x.return,L===null)throw Error(n(341));L.lanes|=h,_=L.alternate,_!==null&&(_.lanes|=h),$2(L,h,o),L=null}else L=x.child;if(L!==null)L.return=x;else for(L=x;L!==null;){if(L===o){L=null;break}if(x=L.sibling,x!==null){x.return=L.return,L=x;break}L=L.return}x=L}}function td(o,l,h,g){o=null;for(var x=l,_=!1;x!==null;){if(!_){if((x.flags&524288)!==0)_=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var L=x.alternate;if(L===null)throw Error(n(387));if(L=L.memoizedProps,L!==null){var H=x.type;wa(x.pendingProps.value,L.value)||(o!==null?o.push(H):o=[H])}}else if(x===Me.current){if(L=x.alternate,L===null)throw Error(n(387));L.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(qf):o=[qf])}x=x.return}o!==null&&F2(l,o,h,g),l.flags|=262144}function o1(o){for(o=o.firstContext;o!==null;){if(!wa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function vu(o){yu=o,Ro=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function li(o){return hN(yu,o)}function l1(o,l){return yu===null&&vu(o),hN(o,l)}function hN(o,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Ro===null){if(o===null)throw Error(n(308));Ro=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Ro=Ro.next=l;return h}var JK=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(h,g){o.push(g)}};this.abort=function(){l.aborted=!0,o.forEach(function(h){return h()})}},eW=t.unstable_scheduleCallback,tW=t.unstable_NormalPriority,kn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function q2(){return{controller:new JK,data:new Map,refCount:0}}function vf(o){o.refCount--,o.refCount===0&&eW(tW,function(){o.controller.abort()})}var bf=null,H2=0,rd=0,nd=null;function rW(o,l){if(bf===null){var h=bf=[];H2=0,rd=W4(),nd={status:"pending",value:void 0,then:function(g){h.push(g)}}}return H2++,l.then(fN,fN),l}function fN(){if(--H2===0&&bf!==null){nd!==null&&(nd.status="fulfilled");var o=bf;bf=null,rd=0,nd=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function nW(o,l){var h=[],g={status:"pending",value:null,reason:null,then:function(x){h.push(x)}};return o.then(function(){g.status="fulfilled",g.value=l;for(var x=0;x<h.length;x++)(0,h[x])(l)},function(x){for(g.status="rejected",g.reason=x,x=0;x<h.length;x++)(0,h[x])(void 0)}),g}var mN=K.S;K.S=function(o,l){Q9=_t(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&rW(o,l),mN!==null&&mN(o,l)};var bu=X(null);function G2(){var o=bu.current;return o!==null?o:Rr.pooledCache}function c1(o,l){l===null?ce(bu,bu.current):ce(bu,l.pool)}function pN(){var o=G2();return o===null?null:{parent:kn._currentValue,pool:o}}var id=Error(n(460)),K2=Error(n(474)),u1=Error(n(542)),d1={then:function(){}};function gN(o){return o=o.status,o==="fulfilled"||o==="rejected"}function yN(o,l,h){switch(h=o[h],h===void 0?o.push(l):h!==l&&(l.then(Qn,Qn),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,bN(o),o;default:if(typeof l.status=="string")l.then(Qn,Qn);else{if(o=Rr,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=l,o.status="pending",o.then(function(g){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=g}},function(g){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,bN(o),o}throw wu=l,id}}function xu(o){try{var l=o._init;return l(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(wu=h,id):h}}var wu=null;function vN(){if(wu===null)throw Error(n(459));var o=wu;return wu=null,o}function bN(o){if(o===id||o===u1)throw Error(n(483))}var ad=null,xf=0;function h1(o){var l=xf;return xf+=1,ad===null&&(ad=[]),yN(ad,o,l)}function wf(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function f1(o,l){throw l.$$typeof===y?Error(n(525)):(o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function xN(o){function l(pe,de){if(o){var be=pe.deletions;be===null?(pe.deletions=[de],pe.flags|=16):be.push(de)}}function h(pe,de){if(!o)return null;for(;de!==null;)l(pe,de),de=de.sibling;return null}function g(pe){for(var de=new Map;pe!==null;)pe.key!==null?de.set(pe.key,pe):de.set(pe.index,pe),pe=pe.sibling;return de}function x(pe,de){return pe=Co(pe,de),pe.index=0,pe.sibling=null,pe}function _(pe,de,be){return pe.index=be,o?(be=pe.alternate,be!==null?(be=be.index,be<de?(pe.flags|=67108866,de):be):(pe.flags|=67108866,de)):(pe.flags|=1048576,de)}function L(pe){return o&&pe.alternate===null&&(pe.flags|=67108866),pe}function H(pe,de,be,Re){return de===null||de.tag!==6?(de=P2(be,pe.mode,Re),de.return=pe,de):(de=x(de,be),de.return=pe,de)}function ae(pe,de,be,Re){var gt=be.type;return gt===S?je(pe,de,be.props.children,Re,be.key):de!==null&&(de.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===k&&xu(gt)===de.type)?(de=x(de,be.props),wf(de,be),de.return=pe,de):(de=a1(be.type,be.key,be.props,null,pe.mode,Re),wf(de,be),de.return=pe,de)}function we(pe,de,be,Re){return de===null||de.tag!==4||de.stateNode.containerInfo!==be.containerInfo||de.stateNode.implementation!==be.implementation?(de=D2(be,pe.mode,Re),de.return=pe,de):(de=x(de,be.children||[]),de.return=pe,de)}function je(pe,de,be,Re,gt){return de===null||de.tag!==7?(de=pu(be,pe.mode,Re,gt),de.return=pe,de):(de=x(de,be),de.return=pe,de)}function Pe(pe,de,be){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=P2(""+de,pe.mode,be),de.return=pe,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case b:return be=a1(de.type,de.key,de.props,null,pe.mode,be),wf(be,de),be.return=pe,be;case T:return de=D2(de,pe.mode,be),de.return=pe,de;case k:return de=xu(de),Pe(pe,de,be)}if(te(de)||$(de))return de=pu(de,pe.mode,be,null),de.return=pe,de;if(typeof de.then=="function")return Pe(pe,h1(de),be);if(de.$$typeof===C)return Pe(pe,l1(pe,de),be);f1(pe,de)}return null}function Se(pe,de,be,Re){var gt=de!==null?de.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return gt!==null?null:H(pe,de,""+be,Re);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case b:return be.key===gt?ae(pe,de,be,Re):null;case T:return be.key===gt?we(pe,de,be,Re):null;case k:return be=xu(be),Se(pe,de,be,Re)}if(te(be)||$(be))return gt!==null?null:je(pe,de,be,Re,null);if(typeof be.then=="function")return Se(pe,de,h1(be),Re);if(be.$$typeof===C)return Se(pe,de,l1(pe,be),Re);f1(pe,be)}return null}function Te(pe,de,be,Re,gt){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return pe=pe.get(be)||null,H(de,pe,""+Re,gt);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case b:return pe=pe.get(Re.key===null?be:Re.key)||null,ae(de,pe,Re,gt);case T:return pe=pe.get(Re.key===null?be:Re.key)||null,we(de,pe,Re,gt);case k:return Re=xu(Re),Te(pe,de,be,Re,gt)}if(te(Re)||$(Re))return pe=pe.get(be)||null,je(de,pe,Re,gt,null);if(typeof Re.then=="function")return Te(pe,de,be,h1(Re),gt);if(Re.$$typeof===C)return Te(pe,de,be,l1(de,Re),gt);f1(de,Re)}return null}function ut(pe,de,be,Re){for(var gt=null,or=null,ht=de,Lt=de=0,Qt=null;ht!==null&&Lt<be.length;Lt++){ht.index>Lt?(Qt=ht,ht=null):Qt=ht.sibling;var lr=Se(pe,ht,be[Lt],Re);if(lr===null){ht===null&&(ht=Qt);break}o&&ht&&lr.alternate===null&&l(pe,ht),de=_(lr,de,Lt),or===null?gt=lr:or.sibling=lr,or=lr,ht=Qt}if(Lt===be.length)return h(pe,ht),er&&Io(pe,Lt),gt;if(ht===null){for(;Lt<be.length;Lt++)ht=Pe(pe,be[Lt],Re),ht!==null&&(de=_(ht,de,Lt),or===null?gt=ht:or.sibling=ht,or=ht);return er&&Io(pe,Lt),gt}for(ht=g(ht);Lt<be.length;Lt++)Qt=Te(ht,pe,Lt,be[Lt],Re),Qt!==null&&(o&&Qt.alternate!==null&&ht.delete(Qt.key===null?Lt:Qt.key),de=_(Qt,de,Lt),or===null?gt=Qt:or.sibling=Qt,or=Qt);return o&&ht.forEach(function(hc){return l(pe,hc)}),er&&Io(pe,Lt),gt}function wt(pe,de,be,Re){if(be==null)throw Error(n(151));for(var gt=null,or=null,ht=de,Lt=de=0,Qt=null,lr=be.next();ht!==null&&!lr.done;Lt++,lr=be.next()){ht.index>Lt?(Qt=ht,ht=null):Qt=ht.sibling;var hc=Se(pe,ht,lr.value,Re);if(hc===null){ht===null&&(ht=Qt);break}o&&ht&&hc.alternate===null&&l(pe,ht),de=_(hc,de,Lt),or===null?gt=hc:or.sibling=hc,or=hc,ht=Qt}if(lr.done)return h(pe,ht),er&&Io(pe,Lt),gt;if(ht===null){for(;!lr.done;Lt++,lr=be.next())lr=Pe(pe,lr.value,Re),lr!==null&&(de=_(lr,de,Lt),or===null?gt=lr:or.sibling=lr,or=lr);return er&&Io(pe,Lt),gt}for(ht=g(ht);!lr.done;Lt++,lr=be.next())lr=Te(ht,pe,Lt,lr.value,Re),lr!==null&&(o&&lr.alternate!==null&&ht.delete(lr.key===null?Lt:lr.key),de=_(lr,de,Lt),or===null?gt=lr:or.sibling=lr,or=lr);return o&&ht.forEach(function(mX){return l(pe,mX)}),er&&Io(pe,Lt),gt}function Ar(pe,de,be,Re){if(typeof be=="object"&&be!==null&&be.type===S&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case b:e:{for(var gt=be.key;de!==null;){if(de.key===gt){if(gt=be.type,gt===S){if(de.tag===7){h(pe,de.sibling),Re=x(de,be.props.children),Re.return=pe,pe=Re;break e}}else if(de.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===k&&xu(gt)===de.type){h(pe,de.sibling),Re=x(de,be.props),wf(Re,be),Re.return=pe,pe=Re;break e}h(pe,de);break}else l(pe,de);de=de.sibling}be.type===S?(Re=pu(be.props.children,pe.mode,Re,be.key),Re.return=pe,pe=Re):(Re=a1(be.type,be.key,be.props,null,pe.mode,Re),wf(Re,be),Re.return=pe,pe=Re)}return L(pe);case T:e:{for(gt=be.key;de!==null;){if(de.key===gt)if(de.tag===4&&de.stateNode.containerInfo===be.containerInfo&&de.stateNode.implementation===be.implementation){h(pe,de.sibling),Re=x(de,be.children||[]),Re.return=pe,pe=Re;break e}else{h(pe,de);break}else l(pe,de);de=de.sibling}Re=D2(be,pe.mode,Re),Re.return=pe,pe=Re}return L(pe);case k:return be=xu(be),Ar(pe,de,be,Re)}if(te(be))return ut(pe,de,be,Re);if($(be)){if(gt=$(be),typeof gt!="function")throw Error(n(150));return be=gt.call(be),wt(pe,de,be,Re)}if(typeof be.then=="function")return Ar(pe,de,h1(be),Re);if(be.$$typeof===C)return Ar(pe,de,l1(pe,be),Re);f1(pe,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,de!==null&&de.tag===6?(h(pe,de.sibling),Re=x(de,be),Re.return=pe,pe=Re):(h(pe,de),Re=P2(be,pe.mode,Re),Re.return=pe,pe=Re),L(pe)):h(pe,de)}return function(pe,de,be,Re){try{xf=0;var gt=Ar(pe,de,be,Re);return ad=null,gt}catch(ht){if(ht===id||ht===u1)throw ht;var or=_a(29,ht,null,pe.mode);return or.lanes=Re,or.return=pe,or}finally{}}}var _u=xN(!0),wN=xN(!1),Xl=!1;function W2(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function X2(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Yl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ql(o,l,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(fr&2)!==0){var x=g.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),g.pending=l,l=i1(o),iN(o,null,h),l}return n1(o,g,l,h),i1(o)}function _f(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var g=l.lanes;g&=o.pendingLanes,h|=g,l.lanes=h,_i(o,h)}}function Y2(o,l){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var x=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var L={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};_===null?x=_=L:_=_.next=L,h=h.next}while(h!==null);_===null?x=_=l:_=_.next=l}else x=_=l;h={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:g.shared,callbacks:g.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}var Q2=!1;function Sf(){if(Q2){var o=nd;if(o!==null)throw o}}function Tf(o,l,h,g){Q2=!1;var x=o.updateQueue;Xl=!1;var _=x.firstBaseUpdate,L=x.lastBaseUpdate,H=x.shared.pending;if(H!==null){x.shared.pending=null;var ae=H,we=ae.next;ae.next=null,L===null?_=we:L.next=we,L=ae;var je=o.alternate;je!==null&&(je=je.updateQueue,H=je.lastBaseUpdate,H!==L&&(H===null?je.firstBaseUpdate=we:H.next=we,je.lastBaseUpdate=ae))}if(_!==null){var Pe=x.baseState;L=0,je=we=ae=null,H=_;do{var Se=H.lane&-536870913,Te=Se!==H.lane;if(Te?(Yt&Se)===Se:(g&Se)===Se){Se!==0&&Se===rd&&(Q2=!0),je!==null&&(je=je.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var ut=o,wt=H;Se=l;var Ar=h;switch(wt.tag){case 1:if(ut=wt.payload,typeof ut=="function"){Pe=ut.call(Ar,Pe,Se);break e}Pe=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=wt.payload,Se=typeof ut=="function"?ut.call(Ar,Pe,Se):ut,Se==null)break e;Pe=p({},Pe,Se);break e;case 2:Xl=!0}}Se=H.callback,Se!==null&&(o.flags|=64,Te&&(o.flags|=8192),Te=x.callbacks,Te===null?x.callbacks=[Se]:Te.push(Se))}else Te={lane:Se,tag:H.tag,payload:H.payload,callback:H.callback,next:null},je===null?(we=je=Te,ae=Pe):je=je.next=Te,L|=Se;if(H=H.next,H===null){if(H=x.shared.pending,H===null)break;Te=H,H=Te.next,Te.next=null,x.lastBaseUpdate=Te,x.shared.pending=null}}while(!0);je===null&&(ae=Pe),x.baseState=ae,x.firstBaseUpdate=we,x.lastBaseUpdate=je,_===null&&(x.shared.lanes=0),rc|=L,o.lanes=L,o.memoizedState=Pe}}function _N(o,l){if(typeof o!="function")throw Error(n(191,o));o.call(l)}function SN(o,l){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)_N(h[o],l)}var sd=X(null),m1=X(0);function TN(o,l){o=Fo,ce(m1,o),ce(sd,l),Fo=o|l.baseLanes}function Z2(){ce(m1,Fo),ce(sd,sd.current)}function J2(){Fo=m1.current,ee(sd),ee(m1)}var Sa=X(null),Wa=null;function Zl(o){var l=o.alternate;ce(_n,_n.current&1),ce(Sa,o),Wa===null&&(l===null||sd.current!==null||l.memoizedState!==null)&&(Wa=o)}function e4(o){ce(_n,_n.current),ce(Sa,o),Wa===null&&(Wa=o)}function AN(o){o.tag===22?(ce(_n,_n.current),ce(Sa,o),Wa===null&&(Wa=o)):Jl()}function Jl(){ce(_n,_n.current),ce(Sa,Sa.current)}function Ta(o){ee(Sa),Wa===o&&(Wa=null),ee(_n)}var _n=X(0);function p1(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||sw(h)||ow(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Po=0,Dt=null,Sr=null,jn=null,g1=!1,od=!1,Su=!1,y1=0,Af=0,ld=null,iW=0;function cn(){throw Error(n(321))}function t4(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!wa(o[h],l[h]))return!1;return!0}function r4(o,l,h,g,x,_){return Po=_,Dt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,K.H=o===null||o.memoizedState===null?l9:y4,Su=!1,_=h(g,x),Su=!1,od&&(_=NN(l,h,g,x)),EN(o),_}function EN(o){K.H=Of;var l=Sr!==null&&Sr.next!==null;if(Po=0,jn=Sr=Dt=null,g1=!1,Af=0,ld=null,l)throw Error(n(300));o===null||Cn||(o=o.dependencies,o!==null&&o1(o)&&(Cn=!0))}function NN(o,l,h,g){Dt=o;var x=0;do{if(od&&(ld=null),Af=0,od=!1,25<=x)throw Error(n(301));if(x+=1,jn=Sr=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}K.H=c9,_=l(h,g)}while(od);return _}function aW(){var o=K.H,l=o.useState()[0];return l=typeof l.then=="function"?Ef(l):l,o=o.useState()[0],(Sr!==null?Sr.memoizedState:null)!==o&&(Dt.flags|=1024),l}function n4(){var o=y1!==0;return y1=0,o}function i4(o,l,h){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~h}function a4(o){if(g1){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}g1=!1}Po=0,jn=Sr=Dt=null,od=!1,Af=y1=0,ld=null}function Li(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Dt.memoizedState=jn=o:jn=jn.next=o,jn}function Sn(){if(Sr===null){var o=Dt.alternate;o=o!==null?o.memoizedState:null}else o=Sr.next;var l=jn===null?Dt.memoizedState:jn.next;if(l!==null)jn=l,Sr=o;else{if(o===null)throw Dt.alternate===null?Error(n(467)):Error(n(310));Sr=o,o={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},jn===null?Dt.memoizedState=jn=o:jn=jn.next=o}return jn}function v1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ef(o){var l=Af;return Af+=1,ld===null&&(ld=[]),o=yN(ld,o,l),l=Dt,(jn===null?l.memoizedState:jn.next)===null&&(l=l.alternate,K.H=l===null||l.memoizedState===null?l9:y4),o}function b1(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ef(o);if(o.$$typeof===C)return li(o)}throw Error(n(438,String(o)))}function s4(o){var l=null,h=Dt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var g=Dt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=v1(),Dt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(o),g=0;g<o;g++)h[g]=U;return l.index++,h}function Do(o,l){return typeof l=="function"?l(o):l}function x1(o){var l=Sn();return o4(l,Sr,o)}function o4(o,l,h){var g=o.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=h;var x=o.baseQueue,_=g.pending;if(_!==null){if(x!==null){var L=x.next;x.next=_.next,_.next=L}l.baseQueue=x=_,g.pending=null}if(_=o.baseState,x===null)o.memoizedState=_;else{l=x.next;var H=L=null,ae=null,we=l,je=!1;do{var Pe=we.lane&-536870913;if(Pe!==we.lane?(Yt&Pe)===Pe:(Po&Pe)===Pe){var Se=we.revertLane;if(Se===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Pe===rd&&(je=!0);else if((Po&Se)===Se){we=we.next,Se===rd&&(je=!0);continue}else Pe={lane:0,revertLane:we.revertLane,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ae===null?(H=ae=Pe,L=_):ae=ae.next=Pe,Dt.lanes|=Se,rc|=Se;Pe=we.action,Su&&h(_,Pe),_=we.hasEagerState?we.eagerState:h(_,Pe)}else Se={lane:Pe,revertLane:we.revertLane,gesture:we.gesture,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ae===null?(H=ae=Se,L=_):ae=ae.next=Se,Dt.lanes|=Pe,rc|=Pe;we=we.next}while(we!==null&&we!==l);if(ae===null?L=_:ae.next=H,!wa(_,o.memoizedState)&&(Cn=!0,je&&(h=nd,h!==null)))throw h;o.memoizedState=_,o.baseState=L,o.baseQueue=ae,g.lastRenderedState=_}return x===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function l4(o){var l=Sn(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var g=h.dispatch,x=h.pending,_=l.memoizedState;if(x!==null){h.pending=null;var L=x=x.next;do _=o(_,L.action),L=L.next;while(L!==x);wa(_,l.memoizedState)||(Cn=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),h.lastRenderedState=_}return[_,g]}function ON(o,l,h){var g=Dt,x=Sn(),_=er;if(_){if(h===void 0)throw Error(n(407));h=h()}else h=l();var L=!wa((Sr||x).memoizedState,h);if(L&&(x.memoizedState=h,Cn=!0),x=x.queue,d4(CN.bind(null,g,x,o),[o]),x.getSnapshot!==l||L||jn!==null&&jn.memoizedState.tag&1){if(g.flags|=2048,cd(9,{destroy:void 0},jN.bind(null,g,x,h,l),null),Rr===null)throw Error(n(349));_||(Po&127)!==0||kN(g,l,h)}return h}function kN(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=Dt.updateQueue,l===null?(l=v1(),Dt.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function jN(o,l,h,g){l.value=h,l.getSnapshot=g,IN(l)&&RN(o)}function CN(o,l,h){return h(function(){IN(l)&&RN(o)})}function IN(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!wa(o,h)}catch{return!0}}function RN(o){var l=mu(o,2);l!==null&&oa(l,o,2)}function c4(o){var l=Li();if(typeof o=="function"){var h=o;if(o=h(),Su){vn(!0);try{h()}finally{vn(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:o},l}function MN(o,l,h,g){return o.baseState=h,o4(o,Sr,typeof g=="function"?g:Do)}function sW(o,l,h,g,x){if(S1(o))throw Error(n(485));if(o=l.action,o!==null){var _={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){_.listeners.push(L)}};K.T!==null?h(!0):_.isTransition=!1,g(_),h=l.pending,h===null?(_.next=l.pending=_,PN(l,_)):(_.next=h.next,l.pending=h.next=_)}}function PN(o,l){var h=l.action,g=l.payload,x=o.state;if(l.isTransition){var _=K.T,L={};K.T=L;try{var H=h(x,g),ae=K.S;ae!==null&&ae(L,H),DN(o,l,H)}catch(we){u4(o,l,we)}finally{_!==null&&L.types!==null&&(_.types=L.types),K.T=_}}else try{_=h(x,g),DN(o,l,_)}catch(we){u4(o,l,we)}}function DN(o,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){LN(o,l,g)},function(g){return u4(o,l,g)}):LN(o,l,h)}function LN(o,l,h){l.status="fulfilled",l.value=h,BN(l),o.state=h,l=o.pending,l!==null&&(h=l.next,h===l?o.pending=null:(h=h.next,l.next=h,PN(o,h)))}function u4(o,l,h){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=h,BN(l),l=l.next;while(l!==g)}o.action=null}function BN(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function UN(o,l){return l}function zN(o,l){if(er){var h=Rr.formState;if(h!==null){e:{var g=Dt;if(er){if(qr){t:{for(var x=qr,_=Ka;x.nodeType!==8;){if(!_){x=null;break t}if(x=Xa(x.nextSibling),x===null){x=null;break t}}_=x.data,x=_==="F!"||_==="F"?x:null}if(x){qr=Xa(x.nextSibling),g=x.data==="F!";break e}}Kl(g)}g=!1}g&&(l=h[0])}}return h=Li(),h.memoizedState=h.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:UN,lastRenderedState:l},h.queue=g,h=a9.bind(null,Dt,g),g.dispatch=h,g=c4(!1),_=g4.bind(null,Dt,!1,g.queue),g=Li(),x={state:l,dispatch:null,action:o,pending:null},g.queue=x,h=sW.bind(null,Dt,x,_,h),x.dispatch=h,g.memoizedState=o,[l,h,!1]}function VN(o){var l=Sn();return $N(l,Sr,o)}function $N(o,l,h){if(l=o4(o,l,UN)[0],o=x1(Do)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=Ef(l)}catch(L){throw L===id?u1:L}else g=l;l=Sn();var x=l.queue,_=x.dispatch;return h!==l.memoizedState&&(Dt.flags|=2048,cd(9,{destroy:void 0},oW.bind(null,x,h),null)),[g,_,o]}function oW(o,l){o.action=l}function FN(o){var l=Sn(),h=Sr;if(h!==null)return $N(l,h,o);Sn(),l=l.memoizedState,h=Sn();var g=h.queue.dispatch;return h.memoizedState=o,[l,g,!1]}function cd(o,l,h,g){return o={tag:o,create:h,deps:g,inst:l,next:null},l=Dt.updateQueue,l===null&&(l=v1(),Dt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,l.lastEffect=o),o}function qN(){return Sn().memoizedState}function w1(o,l,h,g){var x=Li();Dt.flags|=o,x.memoizedState=cd(1|l,{destroy:void 0},h,g===void 0?null:g)}function _1(o,l,h,g){var x=Sn();g=g===void 0?null:g;var _=x.memoizedState.inst;Sr!==null&&g!==null&&t4(g,Sr.memoizedState.deps)?x.memoizedState=cd(l,_,h,g):(Dt.flags|=o,x.memoizedState=cd(1|l,_,h,g))}function HN(o,l){w1(8390656,8,o,l)}function d4(o,l){_1(2048,8,o,l)}function lW(o){Dt.flags|=4;var l=Dt.updateQueue;if(l===null)l=v1(),Dt.updateQueue=l,l.events=[o];else{var h=l.events;h===null?l.events=[o]:h.push(o)}}function GN(o){var l=Sn().memoizedState;return lW({ref:l,nextImpl:o}),function(){if((fr&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function KN(o,l){return _1(4,2,o,l)}function WN(o,l){return _1(4,4,o,l)}function XN(o,l){if(typeof l=="function"){o=o();var h=l(o);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function YN(o,l,h){h=h!=null?h.concat([o]):null,_1(4,4,XN.bind(null,l,o),h)}function h4(){}function QN(o,l){var h=Sn();l=l===void 0?null:l;var g=h.memoizedState;return l!==null&&t4(l,g[1])?g[0]:(h.memoizedState=[o,l],o)}function ZN(o,l){var h=Sn();l=l===void 0?null:l;var g=h.memoizedState;if(l!==null&&t4(l,g[1]))return g[0];if(g=o(),Su){vn(!0);try{o()}finally{vn(!1)}}return h.memoizedState=[g,l],g}function f4(o,l,h){return h===void 0||(Po&1073741824)!==0&&(Yt&261930)===0?o.memoizedState=l:(o.memoizedState=h,o=J9(),Dt.lanes|=o,rc|=o,h)}function JN(o,l,h,g){return wa(h,l)?h:sd.current!==null?(o=f4(o,h,g),wa(o,l)||(Cn=!0),o):(Po&42)===0||(Po&1073741824)!==0&&(Yt&261930)===0?(Cn=!0,o.memoizedState=h):(o=J9(),Dt.lanes|=o,rc|=o,l)}function e9(o,l,h,g,x){var _=J.p;J.p=_!==0&&8>_?_:8;var L=K.T,H={};K.T=H,g4(o,!1,l,h);try{var ae=x(),we=K.S;if(we!==null&&we(H,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var je=nW(ae,g);Nf(o,l,je,Na(o))}else Nf(o,l,g,Na(o))}catch(Pe){Nf(o,l,{then:function(){},status:"rejected",reason:Pe},Na())}finally{J.p=_,L!==null&&H.types!==null&&(L.types=H.types),K.T=L}}function cW(){}function m4(o,l,h,g){if(o.tag!==5)throw Error(n(476));var x=t9(o).queue;e9(o,x,l,Q,h===null?cW:function(){return r9(o),h(g)})}function t9(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:Q},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:h},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function r9(o){var l=t9(o);l.next===null&&(l=o.alternate.memoizedState),Nf(o,l.next.queue,{},Na())}function p4(){return li(qf)}function n9(){return Sn().memoizedState}function i9(){return Sn().memoizedState}function uW(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var h=Na();o=Yl(h);var g=Ql(l,o,h);g!==null&&(oa(g,l,h),_f(g,l,h)),l={cache:q2()},o.payload=l;return}l=l.return}}function dW(o,l,h){var g=Na();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},S1(o)?s9(l,h):(h=R2(o,l,h,g),h!==null&&(oa(h,o,g),o9(h,l,g)))}function a9(o,l,h){var g=Na();Nf(o,l,h,g)}function Nf(o,l,h,g){var x={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(S1(o))s9(l,x);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var L=l.lastRenderedState,H=_(L,h);if(x.hasEagerState=!0,x.eagerState=H,wa(H,L))return n1(o,l,x,0),Rr===null&&r1(),!1}catch{}finally{}if(h=R2(o,l,x,g),h!==null)return oa(h,o,g),o9(h,l,g),!0}return!1}function g4(o,l,h,g){if(g={lane:2,revertLane:W4(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},S1(o)){if(l)throw Error(n(479))}else l=R2(o,h,g,2),l!==null&&oa(l,o,2)}function S1(o){var l=o.alternate;return o===Dt||l!==null&&l===Dt}function s9(o,l){od=g1=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function o9(o,l,h){if((h&4194048)!==0){var g=l.lanes;g&=o.pendingLanes,h|=g,l.lanes=h,_i(o,h)}}var Of={readContext:li,use:b1,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};Of.useEffectEvent=cn;var l9={readContext:li,use:b1,useCallback:function(o,l){return Li().memoizedState=[o,l===void 0?null:l],o},useContext:li,useEffect:HN,useImperativeHandle:function(o,l,h){h=h!=null?h.concat([o]):null,w1(4194308,4,XN.bind(null,l,o),h)},useLayoutEffect:function(o,l){return w1(4194308,4,o,l)},useInsertionEffect:function(o,l){w1(4,2,o,l)},useMemo:function(o,l){var h=Li();l=l===void 0?null:l;var g=o();if(Su){vn(!0);try{o()}finally{vn(!1)}}return h.memoizedState=[g,l],g},useReducer:function(o,l,h){var g=Li();if(h!==void 0){var x=h(l);if(Su){vn(!0);try{h(l)}finally{vn(!1)}}}else x=l;return g.memoizedState=g.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},g.queue=o,o=o.dispatch=dW.bind(null,Dt,o),[g.memoizedState,o]},useRef:function(o){var l=Li();return o={current:o},l.memoizedState=o},useState:function(o){o=c4(o);var l=o.queue,h=a9.bind(null,Dt,l);return l.dispatch=h,[o.memoizedState,h]},useDebugValue:h4,useDeferredValue:function(o,l){var h=Li();return f4(h,o,l)},useTransition:function(){var o=c4(!1);return o=e9.bind(null,Dt,o.queue,!0,!1),Li().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,h){var g=Dt,x=Li();if(er){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),Rr===null)throw Error(n(349));(Yt&127)!==0||kN(g,l,h)}x.memoizedState=h;var _={value:h,getSnapshot:l};return x.queue=_,HN(CN.bind(null,g,_,o),[o]),g.flags|=2048,cd(9,{destroy:void 0},jN.bind(null,g,_,h,l),null),h},useId:function(){var o=Li(),l=Rr.identifierPrefix;if(er){var h=Js,g=Zs;h=(g&~(1<<32-Vt(g)-1)).toString(32)+h,l="_"+l+"R_"+h,h=y1++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=iW++,l="_"+l+"r_"+h.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:p4,useFormState:zN,useActionState:zN,useOptimistic:function(o){var l=Li();l.memoizedState=l.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=g4.bind(null,Dt,!0,h),h.dispatch=l,[o,l]},useMemoCache:s4,useCacheRefresh:function(){return Li().memoizedState=uW.bind(null,Dt)},useEffectEvent:function(o){var l=Li(),h={impl:o};return l.memoizedState=h,function(){if((fr&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},y4={readContext:li,use:b1,useCallback:QN,useContext:li,useEffect:d4,useImperativeHandle:YN,useInsertionEffect:KN,useLayoutEffect:WN,useMemo:ZN,useReducer:x1,useRef:qN,useState:function(){return x1(Do)},useDebugValue:h4,useDeferredValue:function(o,l){var h=Sn();return JN(h,Sr.memoizedState,o,l)},useTransition:function(){var o=x1(Do)[0],l=Sn().memoizedState;return[typeof o=="boolean"?o:Ef(o),l]},useSyncExternalStore:ON,useId:n9,useHostTransitionStatus:p4,useFormState:VN,useActionState:VN,useOptimistic:function(o,l){var h=Sn();return MN(h,Sr,o,l)},useMemoCache:s4,useCacheRefresh:i9};y4.useEffectEvent=GN;var c9={readContext:li,use:b1,useCallback:QN,useContext:li,useEffect:d4,useImperativeHandle:YN,useInsertionEffect:KN,useLayoutEffect:WN,useMemo:ZN,useReducer:l4,useRef:qN,useState:function(){return l4(Do)},useDebugValue:h4,useDeferredValue:function(o,l){var h=Sn();return Sr===null?f4(h,o,l):JN(h,Sr.memoizedState,o,l)},useTransition:function(){var o=l4(Do)[0],l=Sn().memoizedState;return[typeof o=="boolean"?o:Ef(o),l]},useSyncExternalStore:ON,useId:n9,useHostTransitionStatus:p4,useFormState:FN,useActionState:FN,useOptimistic:function(o,l){var h=Sn();return Sr!==null?MN(h,Sr,o,l):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:s4,useCacheRefresh:i9};c9.useEffectEvent=GN;function v4(o,l,h,g){l=o.memoizedState,h=h(g,l),h=h==null?l:p({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var b4={enqueueSetState:function(o,l,h){o=o._reactInternals;var g=Na(),x=Yl(g);x.payload=l,h!=null&&(x.callback=h),l=Ql(o,x,g),l!==null&&(oa(l,o,g),_f(l,o,g))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var g=Na(),x=Yl(g);x.tag=1,x.payload=l,h!=null&&(x.callback=h),l=Ql(o,x,g),l!==null&&(oa(l,o,g),_f(l,o,g))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=Na(),g=Yl(h);g.tag=2,l!=null&&(g.callback=l),l=Ql(o,g,h),l!==null&&(oa(l,o,h),_f(l,o,h))}};function u9(o,l,h,g,x,_,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,_,L):l.prototype&&l.prototype.isPureReactComponent?!mf(h,g)||!mf(x,_):!0}function d9(o,l,h,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==o&&b4.enqueueReplaceState(l,l.state,null)}function Tu(o,l){var h=l;if("ref"in l){h={};for(var g in l)g!=="ref"&&(h[g]=l[g])}if(o=o.defaultProps){h===l&&(h=p({},h));for(var x in o)h[x]===void 0&&(h[x]=o[x])}return h}function h9(o){t1(o)}function f9(o){console.error(o)}function m9(o){t1(o)}function T1(o,l){try{var h=o.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function p9(o,l,h){try{var g=o.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function x4(o,l,h){return h=Yl(h),h.tag=3,h.payload={element:null},h.callback=function(){T1(o,l)},h}function g9(o){return o=Yl(o),o.tag=3,o}function y9(o,l,h,g){var x=h.type.getDerivedStateFromError;if(typeof x=="function"){var _=g.value;o.payload=function(){return x(_)},o.callback=function(){p9(l,h,g)}}var L=h.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(o.callback=function(){p9(l,h,g),typeof x!="function"&&(nc===null?nc=new Set([this]):nc.add(this));var H=g.stack;this.componentDidCatch(g.value,{componentStack:H!==null?H:""})})}function hW(o,l,h,g,x){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=h.alternate,l!==null&&td(l,h,x,!0),h=Sa.current,h!==null){switch(h.tag){case 31:case 13:return Wa===null?D1():h.alternate===null&&un===0&&(un=3),h.flags&=-257,h.flags|=65536,h.lanes=x,g===d1?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([g]):l.add(g),H4(o,g,x)),!1;case 22:return h.flags|=65536,g===d1?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([g]):h.add(g)),H4(o,g,x)),!1}throw Error(n(435,h.tag))}return H4(o,g,x),D1(),!1}if(er)return l=Sa.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,g!==U2&&(o=Error(n(422),{cause:g}),yf(qa(o,h)))):(g!==U2&&(l=Error(n(423),{cause:g}),yf(qa(l,h))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,g=qa(g,h),x=x4(o.stateNode,g,x),Y2(o,x),un!==4&&(un=2)),!1;var _=Error(n(520),{cause:g});if(_=qa(_,h),Df===null?Df=[_]:Df.push(_),un!==4&&(un=2),l===null)return!0;g=qa(g,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,o=x&-x,h.lanes|=o,o=x4(h.stateNode,g,o),Y2(h,o),!1;case 1:if(l=h.type,_=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(nc===null||!nc.has(_))))return h.flags|=65536,x&=-x,h.lanes|=x,x=g9(x),y9(x,o,h,g),Y2(h,x),!1}h=h.return}while(h!==null);return!1}var w4=Error(n(461)),Cn=!1;function ci(o,l,h,g){l.child=o===null?wN(l,null,h,g):_u(l,o.child,h,g)}function v9(o,l,h,g,x){h=h.render;var _=l.ref;if("ref"in g){var L={};for(var H in g)H!=="ref"&&(L[H]=g[H])}else L=g;return vu(l),g=r4(o,l,h,L,_,x),H=n4(),o!==null&&!Cn?(i4(o,l,x),Lo(o,l,x)):(er&&H&&L2(l),l.flags|=1,ci(o,l,g,x),l.child)}function b9(o,l,h,g,x){if(o===null){var _=h.type;return typeof _=="function"&&!M2(_)&&_.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=_,x9(o,l,_,g,x)):(o=a1(h.type,null,g,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(_=o.child,!k4(o,x)){var L=_.memoizedProps;if(h=h.compare,h=h!==null?h:mf,h(L,g)&&o.ref===l.ref)return Lo(o,l,x)}return l.flags|=1,o=Co(_,g),o.ref=l.ref,o.return=l,l.child=o}function x9(o,l,h,g,x){if(o!==null){var _=o.memoizedProps;if(mf(_,g)&&o.ref===l.ref)if(Cn=!1,l.pendingProps=g=_,k4(o,x))(o.flags&131072)!==0&&(Cn=!0);else return l.lanes=o.lanes,Lo(o,l,x)}return _4(o,l,h,g,x)}function w9(o,l,h,g){var x=g.children,_=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(_=_!==null?_.baseLanes|h:h,o!==null){for(g=l.child=o.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;g=x&~_}else g=0,l.child=null;return _9(o,l,_,h,g)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&c1(l,_!==null?_.cachePool:null),_!==null?TN(l,_):Z2(),AN(l);else return g=l.lanes=536870912,_9(o,l,_!==null?_.baseLanes|h:h,h,g)}else _!==null?(c1(l,_.cachePool),TN(l,_),Jl(),l.memoizedState=null):(o!==null&&c1(l,null),Z2(),Jl());return ci(o,l,x,h),l.child}function kf(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function _9(o,l,h,g,x){var _=G2();return _=_===null?null:{parent:kn._currentValue,pool:_},l.memoizedState={baseLanes:h,cachePool:_},o!==null&&c1(l,null),Z2(),AN(l),o!==null&&td(o,l,g,!0),l.childLanes=x,null}function A1(o,l){return l=N1({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function S9(o,l,h){return _u(l,o.child,null,h),o=A1(l,l.pendingProps),o.flags|=2,Ta(l),l.memoizedState=null,o}function fW(o,l,h){var g=l.pendingProps,x=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(er){if(g.mode==="hidden")return o=A1(l,g),l.lanes=536870912,kf(null,o);if(e4(l),(o=qr)?(o=PO(o,Ka),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Hl!==null?{id:Zs,overflow:Js}:null,retryLane:536870912,hydrationErrors:null},h=sN(o),h.return=l,l.child=h,oi=l,qr=null)):o=null,o===null)throw Kl(l);return l.lanes=536870912,null}return A1(l,g)}var _=o.memoizedState;if(_!==null){var L=_.dehydrated;if(e4(l),x)if(l.flags&256)l.flags&=-257,l=S9(o,l,h);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(n(558));else if(Cn||td(o,l,h,!1),x=(h&o.childLanes)!==0,Cn||x){if(g=Rr,g!==null&&(L=Ri(g,h),L!==0&&L!==_.retryLane))throw _.retryLane=L,mu(o,L),oa(g,o,L),w4;D1(),l=S9(o,l,h)}else o=_.treeContext,qr=Xa(L.nextSibling),oi=l,er=!0,Gl=null,Ka=!1,o!==null&&cN(l,o),l=A1(l,g),l.flags|=4096;return l}return o=Co(o.child,{mode:g.mode,children:g.children}),o.ref=l.ref,l.child=o,o.return=l,o}function E1(o,l){var h=l.ref;if(h===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(o===null||o.ref!==h)&&(l.flags|=4194816)}}function _4(o,l,h,g,x){return vu(l),h=r4(o,l,h,g,void 0,x),g=n4(),o!==null&&!Cn?(i4(o,l,x),Lo(o,l,x)):(er&&g&&L2(l),l.flags|=1,ci(o,l,h,x),l.child)}function T9(o,l,h,g,x,_){return vu(l),l.updateQueue=null,h=NN(l,g,h,x),EN(o),g=n4(),o!==null&&!Cn?(i4(o,l,_),Lo(o,l,_)):(er&&g&&L2(l),l.flags|=1,ci(o,l,h,_),l.child)}function A9(o,l,h,g,x){if(vu(l),l.stateNode===null){var _=Q0,L=h.contextType;typeof L=="object"&&L!==null&&(_=li(L)),_=new h(g,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=b4,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=g,_.state=l.memoizedState,_.refs={},W2(l),L=h.contextType,_.context=typeof L=="object"&&L!==null?li(L):Q0,_.state=l.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(v4(l,h,L,g),_.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(L=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),L!==_.state&&b4.enqueueReplaceState(_,_.state,null),Tf(l,g,_,x),Sf(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(o===null){_=l.stateNode;var H=l.memoizedProps,ae=Tu(h,H);_.props=ae;var we=_.context,je=h.contextType;L=Q0,typeof je=="object"&&je!==null&&(L=li(je));var Pe=h.getDerivedStateFromProps;je=typeof Pe=="function"||typeof _.getSnapshotBeforeUpdate=="function",H=l.pendingProps!==H,je||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(H||we!==L)&&d9(l,_,g,L),Xl=!1;var Se=l.memoizedState;_.state=Se,Tf(l,g,_,x),Sf(),we=l.memoizedState,H||Se!==we||Xl?(typeof Pe=="function"&&(v4(l,h,Pe,g),we=l.memoizedState),(ae=Xl||u9(l,h,ae,g,Se,we,L))?(je||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=we),_.props=g,_.state=we,_.context=L,g=ae):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{_=l.stateNode,X2(o,l),L=l.memoizedProps,je=Tu(h,L),_.props=je,Pe=l.pendingProps,Se=_.context,we=h.contextType,ae=Q0,typeof we=="object"&&we!==null&&(ae=li(we)),H=h.getDerivedStateFromProps,(we=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L!==Pe||Se!==ae)&&d9(l,_,g,ae),Xl=!1,Se=l.memoizedState,_.state=Se,Tf(l,g,_,x),Sf();var Te=l.memoizedState;L!==Pe||Se!==Te||Xl||o!==null&&o.dependencies!==null&&o1(o.dependencies)?(typeof H=="function"&&(v4(l,h,H,g),Te=l.memoizedState),(je=Xl||u9(l,h,je,g,Se,Te,ae)||o!==null&&o.dependencies!==null&&o1(o.dependencies))?(we||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,Te,ae),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,Te,ae)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||L===o.memoizedProps&&Se===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&Se===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Te),_.props=g,_.state=Te,_.context=ae,g=je):(typeof _.componentDidUpdate!="function"||L===o.memoizedProps&&Se===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&Se===o.memoizedState||(l.flags|=1024),g=!1)}return _=g,E1(o,l),g=(l.flags&128)!==0,_||g?(_=l.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,o!==null&&g?(l.child=_u(l,o.child,null,x),l.child=_u(l,null,h,x)):ci(o,l,h,x),l.memoizedState=_.state,o=l.child):o=Lo(o,l,x),o}function E9(o,l,h,g){return gu(),l.flags|=256,ci(o,l,h,g),l.child}var S4={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function T4(o){return{baseLanes:o,cachePool:pN()}}function A4(o,l,h){return o=o!==null?o.childLanes&~h:0,l&&(o|=Ea),o}function N9(o,l,h){var g=l.pendingProps,x=!1,_=(l.flags&128)!==0,L;if((L=_)||(L=o!==null&&o.memoizedState===null?!1:(_n.current&2)!==0),L&&(x=!0,l.flags&=-129),L=(l.flags&32)!==0,l.flags&=-33,o===null){if(er){if(x?Zl(l):Jl(),(o=qr)?(o=PO(o,Ka),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Hl!==null?{id:Zs,overflow:Js}:null,retryLane:536870912,hydrationErrors:null},h=sN(o),h.return=l,l.child=h,oi=l,qr=null)):o=null,o===null)throw Kl(l);return ow(o)?l.lanes=32:l.lanes=536870912,null}var H=g.children;return g=g.fallback,x?(Jl(),x=l.mode,H=N1({mode:"hidden",children:H},x),g=pu(g,x,h,null),H.return=l,g.return=l,H.sibling=g,l.child=H,g=l.child,g.memoizedState=T4(h),g.childLanes=A4(o,L,h),l.memoizedState=S4,kf(null,g)):(Zl(l),E4(l,H))}var ae=o.memoizedState;if(ae!==null&&(H=ae.dehydrated,H!==null)){if(_)l.flags&256?(Zl(l),l.flags&=-257,l=N4(o,l,h)):l.memoizedState!==null?(Jl(),l.child=o.child,l.flags|=128,l=null):(Jl(),H=g.fallback,x=l.mode,g=N1({mode:"visible",children:g.children},x),H=pu(H,x,h,null),H.flags|=2,g.return=l,H.return=l,g.sibling=H,l.child=g,_u(l,o.child,null,h),g=l.child,g.memoizedState=T4(h),g.childLanes=A4(o,L,h),l.memoizedState=S4,l=kf(null,g));else if(Zl(l),ow(H)){if(L=H.nextSibling&&H.nextSibling.dataset,L)var we=L.dgst;L=we,g=Error(n(419)),g.stack="",g.digest=L,yf({value:g,source:null,stack:null}),l=N4(o,l,h)}else if(Cn||td(o,l,h,!1),L=(h&o.childLanes)!==0,Cn||L){if(L=Rr,L!==null&&(g=Ri(L,h),g!==0&&g!==ae.retryLane))throw ae.retryLane=g,mu(o,g),oa(L,o,g),w4;sw(H)||D1(),l=N4(o,l,h)}else sw(H)?(l.flags|=192,l.child=o.child,l=null):(o=ae.treeContext,qr=Xa(H.nextSibling),oi=l,er=!0,Gl=null,Ka=!1,o!==null&&cN(l,o),l=E4(l,g.children),l.flags|=4096);return l}return x?(Jl(),H=g.fallback,x=l.mode,ae=o.child,we=ae.sibling,g=Co(ae,{mode:"hidden",children:g.children}),g.subtreeFlags=ae.subtreeFlags&65011712,we!==null?H=Co(we,H):(H=pu(H,x,h,null),H.flags|=2),H.return=l,g.return=l,g.sibling=H,l.child=g,kf(null,g),g=l.child,H=o.child.memoizedState,H===null?H=T4(h):(x=H.cachePool,x!==null?(ae=kn._currentValue,x=x.parent!==ae?{parent:ae,pool:ae}:x):x=pN(),H={baseLanes:H.baseLanes|h,cachePool:x}),g.memoizedState=H,g.childLanes=A4(o,L,h),l.memoizedState=S4,kf(o.child,g)):(Zl(l),h=o.child,o=h.sibling,h=Co(h,{mode:"visible",children:g.children}),h.return=l,h.sibling=null,o!==null&&(L=l.deletions,L===null?(l.deletions=[o],l.flags|=16):L.push(o)),l.child=h,l.memoizedState=null,h)}function E4(o,l){return l=N1({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function N1(o,l){return o=_a(22,o,null,l),o.lanes=0,o}function N4(o,l,h){return _u(l,o.child,null,h),o=E4(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function O9(o,l,h){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),$2(o.return,l,h)}function O4(o,l,h,g,x,_){var L=o.memoizedState;L===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:x,treeForkCount:_}:(L.isBackwards=l,L.rendering=null,L.renderingStartTime=0,L.last=g,L.tail=h,L.tailMode=x,L.treeForkCount=_)}function k9(o,l,h){var g=l.pendingProps,x=g.revealOrder,_=g.tail;g=g.children;var L=_n.current,H=(L&2)!==0;if(H?(L=L&1|2,l.flags|=128):L&=1,ce(_n,L),ci(o,l,g,h),g=er?gf:0,!H&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&O9(o,h,l);else if(o.tag===19)O9(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(h=l.child,x=null;h!==null;)o=h.alternate,o!==null&&p1(o)===null&&(x=h),h=h.sibling;h=x,h===null?(x=l.child,l.child=null):(x=h.sibling,h.sibling=null),O4(l,!1,x,h,_,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&p1(o)===null){l.child=x;break}o=x.sibling,x.sibling=h,h=x,x=o}O4(l,!0,h,null,_,g);break;case"together":O4(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function Lo(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),rc|=l.lanes,(h&l.childLanes)===0)if(o!==null){if(td(o,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,h=Co(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=Co(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function k4(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&o1(o)))}function mW(o,l,h){switch(l.tag){case 3:it(l,l.stateNode.containerInfo),Wl(l,kn,o.memoizedState.cache),gu();break;case 27:case 5:He(l);break;case 4:it(l,l.stateNode.containerInfo);break;case 10:Wl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,e4(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(Zl(l),l.flags|=128,null):(h&l.child.childLanes)!==0?N9(o,l,h):(Zl(l),o=Lo(o,l,h),o!==null?o.sibling:null);Zl(l);break;case 19:var x=(o.flags&128)!==0;if(g=(h&l.childLanes)!==0,g||(td(o,l,h,!1),g=(h&l.childLanes)!==0),x){if(g)return k9(o,l,h);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ce(_n,_n.current),g)break;return null;case 22:return l.lanes=0,w9(o,l,h,l.pendingProps);case 24:Wl(l,kn,o.memoizedState.cache)}return Lo(o,l,h)}function j9(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps)Cn=!0;else{if(!k4(o,h)&&(l.flags&128)===0)return Cn=!1,mW(o,l,h);Cn=(o.flags&131072)!==0}else Cn=!1,er&&(l.flags&1048576)!==0&&lN(l,gf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var g=l.pendingProps;if(o=xu(l.elementType),l.type=o,typeof o=="function")M2(o)?(g=Tu(o,g),l.tag=1,l=A9(null,l,o,g,h)):(l.tag=0,l=_4(null,l,o,g,h));else{if(o!=null){var x=o.$$typeof;if(x===B){l.tag=11,l=v9(null,l,o,g,h);break e}else if(x===A){l.tag=14,l=b9(null,l,o,g,h);break e}}throw l=Y(o)||o,Error(n(306,l,""))}}return l;case 0:return _4(o,l,l.type,l.pendingProps,h);case 1:return g=l.type,x=Tu(g,l.pendingProps),A9(o,l,g,x,h);case 3:e:{if(it(l,l.stateNode.containerInfo),o===null)throw Error(n(387));g=l.pendingProps;var _=l.memoizedState;x=_.element,X2(o,l),Tf(l,g,null,h);var L=l.memoizedState;if(g=L.cache,Wl(l,kn,g),g!==_.cache&&F2(l,[kn],h,!0),Sf(),g=L.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:L.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=E9(o,l,g,h);break e}else if(g!==x){x=qa(Error(n(424)),l),yf(x),l=E9(o,l,g,h);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(qr=Xa(o.firstChild),oi=l,er=!0,Gl=null,Ka=!0,h=wN(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(gu(),g===x){l=Lo(o,l,h);break e}ci(o,l,g,h)}l=l.child}return l;case 26:return E1(o,l),o===null?(h=VO(l.type,null,l.pendingProps,null))?l.memoizedState=h:er||(h=l.type,o=l.pendingProps,g=F1(Oe.current).createElement(h),g[br]=l,g[Ur]=o,ui(g,h,o),Je(g),l.stateNode=g):l.memoizedState=VO(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return He(l),o===null&&er&&(g=l.stateNode=BO(l.type,l.pendingProps,Oe.current),oi=l,Ka=!0,x=qr,oc(l.type)?(lw=x,qr=Xa(g.firstChild)):qr=x),ci(o,l,l.pendingProps.children,h),E1(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&er&&((x=g=qr)&&(g=qW(g,l.type,l.pendingProps,Ka),g!==null?(l.stateNode=g,oi=l,qr=Xa(g.firstChild),Ka=!1,x=!0):x=!1),x||Kl(l)),He(l),x=l.type,_=l.pendingProps,L=o!==null?o.memoizedProps:null,g=_.children,nw(x,_)?g=null:L!==null&&nw(x,L)&&(l.flags|=32),l.memoizedState!==null&&(x=r4(o,l,aW,null,null,h),qf._currentValue=x),E1(o,l),ci(o,l,g,h),l.child;case 6:return o===null&&er&&((o=h=qr)&&(h=HW(h,l.pendingProps,Ka),h!==null?(l.stateNode=h,oi=l,qr=null,o=!0):o=!1),o||Kl(l)),null;case 13:return N9(o,l,h);case 4:return it(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=_u(l,null,g,h):ci(o,l,g,h),l.child;case 11:return v9(o,l,l.type,l.pendingProps,h);case 7:return ci(o,l,l.pendingProps,h),l.child;case 8:return ci(o,l,l.pendingProps.children,h),l.child;case 12:return ci(o,l,l.pendingProps.children,h),l.child;case 10:return g=l.pendingProps,Wl(l,l.type,g.value),ci(o,l,g.children,h),l.child;case 9:return x=l.type._context,g=l.pendingProps.children,vu(l),x=li(x),g=g(x),l.flags|=1,ci(o,l,g,h),l.child;case 14:return b9(o,l,l.type,l.pendingProps,h);case 15:return x9(o,l,l.type,l.pendingProps,h);case 19:return k9(o,l,h);case 31:return fW(o,l,h);case 22:return w9(o,l,h,l.pendingProps);case 24:return vu(l),g=li(kn),o===null?(x=G2(),x===null&&(x=Rr,_=q2(),x.pooledCache=_,_.refCount++,_!==null&&(x.pooledCacheLanes|=h),x=_),l.memoizedState={parent:g,cache:x},W2(l),Wl(l,kn,x)):((o.lanes&h)!==0&&(X2(o,l),Tf(l,null,null,h),Sf()),x=o.memoizedState,_=l.memoizedState,x.parent!==g?(x={parent:g,cache:g},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),Wl(l,kn,g)):(g=_.cache,Wl(l,kn,g),g!==x.cache&&F2(l,[kn],h,!0))),ci(o,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Bo(o){o.flags|=4}function j4(o,l,h,g,x){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(nO())o.flags|=8192;else throw wu=d1,K2}else o.flags&=-16777217}function C9(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!GO(l))if(nO())o.flags|=8192;else throw wu=d1,K2}function O1(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?bs():536870912,o.lanes|=l,fd|=l)}function jf(o,l){if(!er)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Hr(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(l)for(var x=o.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=g,o.childLanes=h,l}function pW(o,l,h){var g=l.pendingProps;switch(B2(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(l),null;case 1:return Hr(l),null;case 3:return h=l.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Mo(kn),Ee(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(ed(l)?Bo(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,z2())),Hr(l),null;case 26:var x=l.type,_=l.memoizedState;return o===null?(Bo(l),_!==null?(Hr(l),C9(l,_)):(Hr(l),j4(l,x,null,g,h))):_?_!==o.memoizedState?(Bo(l),Hr(l),C9(l,_)):(Hr(l),l.flags&=-16777217):(o=o.memoizedProps,o!==g&&Bo(l),Hr(l),j4(l,x,o,g,h)),null;case 27:if(he(l),h=Oe.current,x=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==g&&Bo(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return Hr(l),null}o=Ne.current,ed(l)?uN(l):(o=BO(x,g,h),l.stateNode=o,Bo(l))}return Hr(l),null;case 5:if(he(l),x=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==g&&Bo(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return Hr(l),null}if(_=Ne.current,ed(l))uN(l);else{var L=F1(Oe.current);switch(_){case 1:_=L.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:_=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":_=L.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":_=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":_=L.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof g.is=="string"?L.createElement("select",{is:g.is}):L.createElement("select"),g.multiple?_.multiple=!0:g.size&&(_.size=g.size);break;default:_=typeof g.is=="string"?L.createElement(x,{is:g.is}):L.createElement(x)}}_[br]=l,_[Ur]=g;e:for(L=l.child;L!==null;){if(L.tag===5||L.tag===6)_.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===l)break e;for(;L.sibling===null;){if(L.return===null||L.return===l)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}l.stateNode=_;e:switch(ui(_,x,g),x){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Bo(l)}}return Hr(l),j4(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,h),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==g&&Bo(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(o=Oe.current,ed(l)){if(o=l.stateNode,h=l.memoizedProps,g=null,x=oi,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}o[br]=l,o=!!(o.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||NO(o.nodeValue,h)),o||Kl(l,!0)}else o=F1(o).createTextNode(g),o[br]=l,l.stateNode=o}return Hr(l),null;case 31:if(h=l.memoizedState,o===null||o.memoizedState!==null){if(g=ed(l),h!==null){if(o===null){if(!g)throw Error(n(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[br]=l}else gu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Hr(l),o=!1}else h=z2(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return l.flags&256?(Ta(l),l):(Ta(l),null);if((l.flags&128)!==0)throw Error(n(558))}return Hr(l),null;case 13:if(g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=ed(l),g!==null&&g.dehydrated!==null){if(o===null){if(!x)throw Error(n(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[br]=l}else gu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Hr(l),x=!1}else x=z2(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(Ta(l),l):(Ta(l),null)}return Ta(l),(l.flags&128)!==0?(l.lanes=h,l):(h=g!==null,o=o!==null&&o.memoizedState!==null,h&&(g=l.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool),_=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(_=g.memoizedState.cachePool.pool),_!==x&&(g.flags|=2048)),h!==o&&h&&(l.child.flags|=8192),O1(l,l.updateQueue),Hr(l),null);case 4:return Ee(),o===null&&Z4(l.stateNode.containerInfo),Hr(l),null;case 10:return Mo(l.type),Hr(l),null;case 19:if(ee(_n),g=l.memoizedState,g===null)return Hr(l),null;if(x=(l.flags&128)!==0,_=g.rendering,_===null)if(x)jf(g,!1);else{if(un!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(_=p1(o),_!==null){for(l.flags|=128,jf(g,!1),o=_.updateQueue,l.updateQueue=o,O1(l,o),l.subtreeFlags=0,o=h,h=l.child;h!==null;)aN(h,o),h=h.sibling;return ce(_n,_n.current&1|2),er&&Io(l,g.treeForkCount),l.child}o=o.sibling}g.tail!==null&&_t()>R1&&(l.flags|=128,x=!0,jf(g,!1),l.lanes=4194304)}else{if(!x)if(o=p1(_),o!==null){if(l.flags|=128,x=!0,o=o.updateQueue,l.updateQueue=o,O1(l,o),jf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!er)return Hr(l),null}else 2*_t()-g.renderingStartTime>R1&&h!==536870912&&(l.flags|=128,x=!0,jf(g,!1),l.lanes=4194304);g.isBackwards?(_.sibling=l.child,l.child=_):(o=g.last,o!==null?o.sibling=_:l.child=_,g.last=_)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=_t(),o.sibling=null,h=_n.current,ce(_n,x?h&1|2:h&1),er&&Io(l,g.treeForkCount),o):(Hr(l),null);case 22:case 23:return Ta(l),J2(),g=l.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(h&536870912)!==0&&(l.flags&128)===0&&(Hr(l),l.subtreeFlags&6&&(l.flags|=8192)):Hr(l),h=l.updateQueue,h!==null&&O1(l,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==h&&(l.flags|=2048),o!==null&&ee(bu),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Mo(kn),Hr(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function gW(o,l){switch(B2(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Mo(kn),Ee(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return he(l),null;case 31:if(l.memoizedState!==null){if(Ta(l),l.alternate===null)throw Error(n(340));gu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(Ta(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));gu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return ee(_n),null;case 4:return Ee(),null;case 10:return Mo(l.type),null;case 22:case 23:return Ta(l),J2(),o!==null&&ee(bu),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Mo(kn),null;case 25:return null;default:return null}}function I9(o,l){switch(B2(l),l.tag){case 3:Mo(kn),Ee();break;case 26:case 27:case 5:he(l);break;case 4:Ee();break;case 31:l.memoizedState!==null&&Ta(l);break;case 13:Ta(l);break;case 19:ee(_n);break;case 10:Mo(l.type);break;case 22:case 23:Ta(l),J2(),o!==null&&ee(bu);break;case 24:Mo(kn)}}function Cf(o,l){try{var h=l.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var x=g.next;h=x;do{if((h.tag&o)===o){g=void 0;var _=h.create,L=h.inst;g=_(),L.destroy=g}h=h.next}while(h!==x)}}catch(H){wr(l,l.return,H)}}function ec(o,l,h){try{var g=l.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var _=x.next;g=_;do{if((g.tag&o)===o){var L=g.inst,H=L.destroy;if(H!==void 0){L.destroy=void 0,x=l;var ae=h,we=H;try{we()}catch(je){wr(x,ae,je)}}}g=g.next}while(g!==_)}}catch(je){wr(l,l.return,je)}}function R9(o){var l=o.updateQueue;if(l!==null){var h=o.stateNode;try{SN(l,h)}catch(g){wr(o,o.return,g)}}}function M9(o,l,h){h.props=Tu(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(g){wr(o,l,g)}}function If(o,l){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof h=="function"?o.refCleanup=h(g):h.current=g}}catch(x){wr(o,l,x)}}function eo(o,l){var h=o.ref,g=o.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(x){wr(o,l,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(x){wr(o,l,x)}else h.current=null}function P9(o){var l=o.type,h=o.memoizedProps,g=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(x){wr(o,o.return,x)}}function C4(o,l,h){try{var g=o.stateNode;BW(g,o.type,h,l),g[Ur]=l}catch(x){wr(o,o.return,x)}}function D9(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&oc(o.type)||o.tag===4}function I4(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||D9(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&oc(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function R4(o,l,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(o),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Qn));else if(g!==4&&(g===27&&oc(o.type)&&(h=o.stateNode,l=null),o=o.child,o!==null))for(R4(o,l,h),o=o.sibling;o!==null;)R4(o,l,h),o=o.sibling}function k1(o,l,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(g!==4&&(g===27&&oc(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(k1(o,l,h),o=o.sibling;o!==null;)k1(o,l,h),o=o.sibling}function L9(o){var l=o.stateNode,h=o.memoizedProps;try{for(var g=o.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);ui(l,g,h),l[br]=o,l[Ur]=h}catch(_){wr(o,o.return,_)}}var Uo=!1,In=!1,M4=!1,B9=typeof WeakSet=="function"?WeakSet:Set,ei=null;function yW(o,l){if(o=o.containerInfo,tw=Y1,o=YE(o),N2(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var x=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var L=0,H=-1,ae=-1,we=0,je=0,Pe=o,Se=null;t:for(;;){for(var Te;Pe!==h||x!==0&&Pe.nodeType!==3||(H=L+x),Pe!==_||g!==0&&Pe.nodeType!==3||(ae=L+g),Pe.nodeType===3&&(L+=Pe.nodeValue.length),(Te=Pe.firstChild)!==null;)Se=Pe,Pe=Te;for(;;){if(Pe===o)break t;if(Se===h&&++we===x&&(H=L),Se===_&&++je===g&&(ae=L),(Te=Pe.nextSibling)!==null)break;Pe=Se,Se=Pe.parentNode}Pe=Te}h=H===-1||ae===-1?null:{start:H,end:ae}}else h=null}h=h||{start:0,end:0}}else h=null;for(rw={focusedElem:o,selectionRange:h},Y1=!1,ei=l;ei!==null;)if(l=ei,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,ei=o;else for(;ei!==null;){switch(l=ei,_=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)x=o[h],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,h=l,x=_.memoizedProps,_=_.memoizedState,g=h.stateNode;try{var ut=Tu(h.type,x);o=g.getSnapshotBeforeUpdate(ut,_),g.__reactInternalSnapshotBeforeUpdate=o}catch(wt){wr(h,h.return,wt)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,h=o.nodeType,h===9)aw(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":aw(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=l.sibling,o!==null){o.return=l.return,ei=o;break}ei=l.return}}function U9(o,l,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Vo(o,h),g&4&&Cf(5,h);break;case 1:if(Vo(o,h),g&4)if(o=h.stateNode,l===null)try{o.componentDidMount()}catch(L){wr(h,h.return,L)}else{var x=Tu(h.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(x,l,o.__reactInternalSnapshotBeforeUpdate)}catch(L){wr(h,h.return,L)}}g&64&&R9(h),g&512&&If(h,h.return);break;case 3:if(Vo(o,h),g&64&&(o=h.updateQueue,o!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{SN(o,l)}catch(L){wr(h,h.return,L)}}break;case 27:l===null&&g&4&&L9(h);case 26:case 5:Vo(o,h),l===null&&g&4&&P9(h),g&512&&If(h,h.return);break;case 12:Vo(o,h);break;case 31:Vo(o,h),g&4&&$9(o,h);break;case 13:Vo(o,h),g&4&&F9(o,h),g&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=EW.bind(null,h),GW(o,h))));break;case 22:if(g=h.memoizedState!==null||Uo,!g){l=l!==null&&l.memoizedState!==null||In,x=Uo;var _=In;Uo=g,(In=l)&&!_?$o(o,h,(h.subtreeFlags&8772)!==0):Vo(o,h),Uo=x,In=_}break;case 30:break;default:Vo(o,h)}}function z9(o){var l=o.alternate;l!==null&&(o.alternate=null,z9(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&ot(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Xr=null,na=!1;function zo(o,l,h){for(h=h.child;h!==null;)V9(o,l,h),h=h.sibling}function V9(o,l,h){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Vn,h)}catch{}switch(h.tag){case 26:In||eo(h,l),zo(o,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:In||eo(h,l);var g=Xr,x=na;oc(h.type)&&(Xr=h.stateNode,na=!1),zo(o,l,h),Vf(h.stateNode),Xr=g,na=x;break;case 5:In||eo(h,l);case 6:if(g=Xr,x=na,Xr=null,zo(o,l,h),Xr=g,na=x,Xr!==null)if(na)try{(Xr.nodeType===9?Xr.body:Xr.nodeName==="HTML"?Xr.ownerDocument.body:Xr).removeChild(h.stateNode)}catch(_){wr(h,l,_)}else try{Xr.removeChild(h.stateNode)}catch(_){wr(h,l,_)}break;case 18:Xr!==null&&(na?(o=Xr,RO(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),wd(o)):RO(Xr,h.stateNode));break;case 4:g=Xr,x=na,Xr=h.stateNode.containerInfo,na=!0,zo(o,l,h),Xr=g,na=x;break;case 0:case 11:case 14:case 15:ec(2,h,l),In||ec(4,h,l),zo(o,l,h);break;case 1:In||(eo(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"&&M9(h,l,g)),zo(o,l,h);break;case 21:zo(o,l,h);break;case 22:In=(g=In)||h.memoizedState!==null,zo(o,l,h),In=g;break;default:zo(o,l,h)}}function $9(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{wd(o)}catch(h){wr(l,l.return,h)}}}function F9(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{wd(o)}catch(h){wr(l,l.return,h)}}function vW(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new B9),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new B9),l;default:throw Error(n(435,o.tag))}}function j1(o,l){var h=vW(o);l.forEach(function(g){if(!h.has(g)){h.add(g);var x=NW.bind(null,o,g);g.then(x,x)}})}function ia(o,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var x=h[g],_=o,L=l,H=L;e:for(;H!==null;){switch(H.tag){case 27:if(oc(H.type)){Xr=H.stateNode,na=!1;break e}break;case 5:Xr=H.stateNode,na=!1;break e;case 3:case 4:Xr=H.stateNode.containerInfo,na=!0;break e}H=H.return}if(Xr===null)throw Error(n(160));V9(_,L,x),Xr=null,na=!1,_=x.alternate,_!==null&&(_.return=null),x.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)q9(l,o),l=l.sibling}var Ts=null;function q9(o,l){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ia(l,o),aa(o),g&4&&(ec(3,o,o.return),Cf(3,o),ec(5,o,o.return));break;case 1:ia(l,o),aa(o),g&512&&(In||h===null||eo(h,h.return)),g&64&&Uo&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var x=Ts;if(ia(l,o),aa(o),g&512&&(In||h===null||eo(h,h.return)),g&4){var _=h!==null?h.memoizedState:null;if(g=o.memoizedState,h===null)if(g===null)if(o.stateNode===null){e:{g=o.type,h=o.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":_=x.getElementsByTagName("title")[0],(!_||_[ea]||_[br]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=x.createElement(g),x.head.insertBefore(_,x.querySelector("head > title"))),ui(_,g,h),_[br]=o,Je(_),g=_;break e;case"link":var L=qO("link","href",x).get(g+(h.href||""));if(L){for(var H=0;H<L.length;H++)if(_=L[H],_.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&_.getAttribute("rel")===(h.rel==null?null:h.rel)&&_.getAttribute("title")===(h.title==null?null:h.title)&&_.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){L.splice(H,1);break t}}_=x.createElement(g),ui(_,g,h),x.head.appendChild(_);break;case"meta":if(L=qO("meta","content",x).get(g+(h.content||""))){for(H=0;H<L.length;H++)if(_=L[H],_.getAttribute("content")===(h.content==null?null:""+h.content)&&_.getAttribute("name")===(h.name==null?null:h.name)&&_.getAttribute("property")===(h.property==null?null:h.property)&&_.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&_.getAttribute("charset")===(h.charSet==null?null:h.charSet)){L.splice(H,1);break t}}_=x.createElement(g),ui(_,g,h),x.head.appendChild(_);break;default:throw Error(n(468,g))}_[br]=o,Je(_),g=_}o.stateNode=g}else HO(x,o.type,o.stateNode);else o.stateNode=FO(x,g,o.memoizedProps);else _!==g?(_===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):_.count--,g===null?HO(x,o.type,o.stateNode):FO(x,g,o.memoizedProps)):g===null&&o.stateNode!==null&&C4(o,o.memoizedProps,h.memoizedProps)}break;case 27:ia(l,o),aa(o),g&512&&(In||h===null||eo(h,h.return)),h!==null&&g&4&&C4(o,o.memoizedProps,h.memoizedProps);break;case 5:if(ia(l,o),aa(o),g&512&&(In||h===null||eo(h,h.return)),o.flags&32){x=o.stateNode;try{$a(x,"")}catch(ut){wr(o,o.return,ut)}}g&4&&o.stateNode!=null&&(x=o.memoizedProps,C4(o,x,h!==null?h.memoizedProps:x)),g&1024&&(M4=!0);break;case 6:if(ia(l,o),aa(o),g&4){if(o.stateNode===null)throw Error(n(162));g=o.memoizedProps,h=o.stateNode;try{h.nodeValue=g}catch(ut){wr(o,o.return,ut)}}break;case 3:if(G1=null,x=Ts,Ts=q1(l.containerInfo),ia(l,o),Ts=x,aa(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{wd(l.containerInfo)}catch(ut){wr(o,o.return,ut)}M4&&(M4=!1,H9(o));break;case 4:g=Ts,Ts=q1(o.stateNode.containerInfo),ia(l,o),aa(o),Ts=g;break;case 12:ia(l,o),aa(o);break;case 31:ia(l,o),aa(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,j1(o,g)));break;case 13:ia(l,o),aa(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(I1=_t()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,j1(o,g)));break;case 22:x=o.memoizedState!==null;var ae=h!==null&&h.memoizedState!==null,we=Uo,je=In;if(Uo=we||x,In=je||ae,ia(l,o),In=je,Uo=we,aa(o),g&8192)e:for(l=o.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(h===null||ae||Uo||In||Au(o)),h=null,l=o;;){if(l.tag===5||l.tag===26){if(h===null){ae=h=l;try{if(_=ae.stateNode,x)L=_.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{H=ae.stateNode;var Pe=ae.memoizedProps.style,Se=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;H.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(ut){wr(ae,ae.return,ut)}}}else if(l.tag===6){if(h===null){ae=l;try{ae.stateNode.nodeValue=x?"":ae.memoizedProps}catch(ut){wr(ae,ae.return,ut)}}}else if(l.tag===18){if(h===null){ae=l;try{var Te=ae.stateNode;x?MO(Te,!0):MO(ae.stateNode,!1)}catch(ut){wr(ae,ae.return,ut)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=o.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,j1(o,h))));break;case 19:ia(l,o),aa(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,j1(o,g)));break;case 30:break;case 21:break;default:ia(l,o),aa(o)}}function aa(o){var l=o.flags;if(l&2){try{for(var h,g=o.return;g!==null;){if(D9(g)){h=g;break}g=g.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var x=h.stateNode,_=I4(o);k1(o,_,x);break;case 5:var L=h.stateNode;h.flags&32&&($a(L,""),h.flags&=-33);var H=I4(o);k1(o,H,L);break;case 3:case 4:var ae=h.stateNode.containerInfo,we=I4(o);R4(o,we,ae);break;default:throw Error(n(161))}}catch(je){wr(o,o.return,je)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function H9(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;H9(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Vo(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)U9(o,l.alternate,l),l=l.sibling}function Au(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:ec(4,l,l.return),Au(l);break;case 1:eo(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&M9(l,l.return,h),Au(l);break;case 27:Vf(l.stateNode);case 26:case 5:eo(l,l.return),Au(l);break;case 22:l.memoizedState===null&&Au(l);break;case 30:Au(l);break;default:Au(l)}o=o.sibling}}function $o(o,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,x=o,_=l,L=_.flags;switch(_.tag){case 0:case 11:case 15:$o(x,_,h),Cf(4,_);break;case 1:if($o(x,_,h),g=_,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(we){wr(g,g.return,we)}if(g=_,x=g.updateQueue,x!==null){var H=g.stateNode;try{var ae=x.shared.hiddenCallbacks;if(ae!==null)for(x.shared.hiddenCallbacks=null,x=0;x<ae.length;x++)_N(ae[x],H)}catch(we){wr(g,g.return,we)}}h&&L&64&&R9(_),If(_,_.return);break;case 27:L9(_);case 26:case 5:$o(x,_,h),h&&g===null&&L&4&&P9(_),If(_,_.return);break;case 12:$o(x,_,h);break;case 31:$o(x,_,h),h&&L&4&&$9(x,_);break;case 13:$o(x,_,h),h&&L&4&&F9(x,_);break;case 22:_.memoizedState===null&&$o(x,_,h),If(_,_.return);break;case 30:break;default:$o(x,_,h)}l=l.sibling}}function P4(o,l){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&vf(h))}function D4(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&vf(o))}function As(o,l,h,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)G9(o,l,h,g),l=l.sibling}function G9(o,l,h,g){var x=l.flags;switch(l.tag){case 0:case 11:case 15:As(o,l,h,g),x&2048&&Cf(9,l);break;case 1:As(o,l,h,g);break;case 3:As(o,l,h,g),x&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&vf(o)));break;case 12:if(x&2048){As(o,l,h,g),o=l.stateNode;try{var _=l.memoizedProps,L=_.id,H=_.onPostCommit;typeof H=="function"&&H(L,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ae){wr(l,l.return,ae)}}else As(o,l,h,g);break;case 31:As(o,l,h,g);break;case 13:As(o,l,h,g);break;case 23:break;case 22:_=l.stateNode,L=l.alternate,l.memoizedState!==null?_._visibility&2?As(o,l,h,g):Rf(o,l):_._visibility&2?As(o,l,h,g):(_._visibility|=2,ud(o,l,h,g,(l.subtreeFlags&10256)!==0||!1)),x&2048&&P4(L,l);break;case 24:As(o,l,h,g),x&2048&&D4(l.alternate,l);break;default:As(o,l,h,g)}}function ud(o,l,h,g,x){for(x=x&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var _=o,L=l,H=h,ae=g,we=L.flags;switch(L.tag){case 0:case 11:case 15:ud(_,L,H,ae,x),Cf(8,L);break;case 23:break;case 22:var je=L.stateNode;L.memoizedState!==null?je._visibility&2?ud(_,L,H,ae,x):Rf(_,L):(je._visibility|=2,ud(_,L,H,ae,x)),x&&we&2048&&P4(L.alternate,L);break;case 24:ud(_,L,H,ae,x),x&&we&2048&&D4(L.alternate,L);break;default:ud(_,L,H,ae,x)}l=l.sibling}}function Rf(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=o,g=l,x=g.flags;switch(g.tag){case 22:Rf(h,g),x&2048&&P4(g.alternate,g);break;case 24:Rf(h,g),x&2048&&D4(g.alternate,g);break;default:Rf(h,g)}l=l.sibling}}var Mf=8192;function dd(o,l,h){if(o.subtreeFlags&Mf)for(o=o.child;o!==null;)K9(o,l,h),o=o.sibling}function K9(o,l,h){switch(o.tag){case 26:dd(o,l,h),o.flags&Mf&&o.memoizedState!==null&&iX(h,Ts,o.memoizedState,o.memoizedProps);break;case 5:dd(o,l,h);break;case 3:case 4:var g=Ts;Ts=q1(o.stateNode.containerInfo),dd(o,l,h),Ts=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=Mf,Mf=16777216,dd(o,l,h),Mf=g):dd(o,l,h));break;default:dd(o,l,h)}}function W9(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Pf(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];ei=g,Y9(g,o)}W9(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)X9(o),o=o.sibling}function X9(o){switch(o.tag){case 0:case 11:case 15:Pf(o),o.flags&2048&&ec(9,o,o.return);break;case 3:Pf(o);break;case 12:Pf(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,C1(o)):Pf(o);break;default:Pf(o)}}function C1(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];ei=g,Y9(g,o)}W9(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:ec(8,l,l.return),C1(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,C1(l));break;default:C1(l)}o=o.sibling}}function Y9(o,l){for(;ei!==null;){var h=ei;switch(h.tag){case 0:case 11:case 15:ec(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:vf(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,ei=g;else e:for(h=o;ei!==null;){g=ei;var x=g.sibling,_=g.return;if(z9(g),g===h){ei=null;break e}if(x!==null){x.return=_,ei=x;break e}ei=_}}}var bW={getCacheForType:function(o){var l=li(kn),h=l.data.get(o);return h===void 0&&(h=o(),l.data.set(o,h)),h},cacheSignal:function(){return li(kn).controller.signal}},xW=typeof WeakMap=="function"?WeakMap:Map,fr=0,Rr=null,Gt=null,Yt=0,xr=0,Aa=null,tc=!1,hd=!1,L4=!1,Fo=0,un=0,rc=0,Eu=0,B4=0,Ea=0,fd=0,Df=null,sa=null,U4=!1,I1=0,Q9=0,R1=1/0,M1=null,nc=null,$n=0,ic=null,md=null,qo=0,z4=0,V4=null,Z9=null,Lf=0,$4=null;function Na(){return(fr&2)!==0&&Yt!==0?Yt&-Yt:K.T!==null?W4():si()}function J9(){if(Ea===0)if((Yt&536870912)===0||er){var o=xn;xn<<=1,(xn&3932160)===0&&(xn=262144),Ea=o}else Ea=536870912;return o=Sa.current,o!==null&&(o.flags|=32),Ea}function oa(o,l,h){(o===Rr&&(xr===2||xr===9)||o.cancelPendingCommit!==null)&&(pd(o,0),ac(o,Yt,Ea,!1)),Zi(o,h),((fr&2)===0||o!==Rr)&&(o===Rr&&((fr&2)===0&&(Eu|=h),un===4&&ac(o,Yt,Ea,!1)),to(o))}function eO(o,l,h){if((fr&6)!==0)throw Error(n(327));var g=!h&&(l&127)===0&&(l&o.expiredLanes)===0||Yn(o,l),x=g?SW(o,l):q4(o,l,!0),_=g;do{if(x===0){hd&&!g&&ac(o,l,0,!1);break}else{if(h=o.current.alternate,_&&!wW(h)){x=q4(o,l,!1),_=!1;continue}if(x===2){if(_=l,o.errorRecoveryDisabledLanes&_)var L=0;else L=o.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){l=L;e:{var H=o;x=Df;var ae=H.current.memoizedState.isDehydrated;if(ae&&(pd(H,L).flags|=256),L=q4(H,L,!1),L!==2){if(L4&&!ae){H.errorRecoveryDisabledLanes|=_,Eu|=_,x=4;break e}_=sa,sa=x,_!==null&&(sa===null?sa=_:sa.push.apply(sa,_))}x=L}if(_=!1,x!==2)continue}}if(x===1){pd(o,0),ac(o,l,0,!0);break}e:{switch(g=o,_=x,_){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:ac(g,l,Ea,!tc);break e;case 2:sa=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(x=I1+300-_t(),10<x)){if(ac(g,l,Ea,!tc),rr(g,0,!0)!==0)break e;qo=l,g.timeoutHandle=CO(tO.bind(null,g,h,sa,M1,U4,l,Ea,Eu,fd,tc,_,"Throttled",-0,0),x);break e}tO(g,h,sa,M1,U4,l,Ea,Eu,fd,tc,_,null,-0,0)}}break}while(!0);to(o)}function tO(o,l,h,g,x,_,L,H,ae,we,je,Pe,Se,Te){if(o.timeoutHandle=-1,Pe=l.subtreeFlags,Pe&8192||(Pe&16785408)===16785408){Pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},K9(l,_,Pe);var ut=(_&62914560)===_?I1-_t():(_&4194048)===_?Q9-_t():0;if(ut=aX(Pe,ut),ut!==null){qo=_,o.cancelPendingCommit=ut(cO.bind(null,o,l,_,h,g,x,L,H,ae,je,Pe,null,Se,Te)),ac(o,_,L,!we);return}}cO(o,l,_,h,g,x,L,H,ae)}function wW(o){for(var l=o;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var x=h[g],_=x.getSnapshot;x=x.value;try{if(!wa(_(),x))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ac(o,l,h,g){l&=~B4,l&=~Eu,o.suspendedLanes|=l,o.pingedLanes&=~l,g&&(o.warmLanes|=l),g=o.expirationTimes;for(var x=l;0<x;){var _=31-Vt(x),L=1<<_;g[_]=-1,x&=~L}h!==0&&qs(o,h,l)}function P1(){return(fr&6)===0?(Bf(0),!1):!0}function F4(){if(Gt!==null){if(xr===0)var o=Gt.return;else o=Gt,Ro=yu=null,a4(o),ad=null,xf=0,o=Gt;for(;o!==null;)I9(o.alternate,o),o=o.return;Gt=null}}function pd(o,l){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,VW(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),qo=0,F4(),Rr=o,Gt=h=Co(o.current,null),Yt=l,xr=0,Aa=null,tc=!1,hd=Yn(o,l),L4=!1,fd=Ea=B4=Eu=rc=un=0,sa=Df=null,U4=!1,(l&8)!==0&&(l|=l&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=l;0<g;){var x=31-Vt(g),_=1<<x;l|=o[x],g&=~_}return Fo=l,r1(),h}function rO(o,l){Dt=null,K.H=Of,l===id||l===u1?(l=vN(),xr=3):l===K2?(l=vN(),xr=4):xr=l===w4?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Aa=l,Gt===null&&(un=1,T1(o,qa(l,o.current)))}function nO(){var o=Sa.current;return o===null?!0:(Yt&4194048)===Yt?Wa===null:(Yt&62914560)===Yt||(Yt&536870912)!==0?o===Wa:!1}function iO(){var o=K.H;return K.H=Of,o===null?Of:o}function aO(){var o=K.A;return K.A=bW,o}function D1(){un=4,tc||(Yt&4194048)!==Yt&&Sa.current!==null||(hd=!0),(rc&134217727)===0&&(Eu&134217727)===0||Rr===null||ac(Rr,Yt,Ea,!1)}function q4(o,l,h){var g=fr;fr|=2;var x=iO(),_=aO();(Rr!==o||Yt!==l)&&(M1=null,pd(o,l)),l=!1;var L=un;e:do try{if(xr!==0&&Gt!==null){var H=Gt,ae=Aa;switch(xr){case 8:F4(),L=6;break e;case 3:case 2:case 9:case 6:Sa.current===null&&(l=!0);var we=xr;if(xr=0,Aa=null,gd(o,H,ae,we),h&&hd){L=0;break e}break;default:we=xr,xr=0,Aa=null,gd(o,H,ae,we)}}_W(),L=un;break}catch(je){rO(o,je)}while(!0);return l&&o.shellSuspendCounter++,Ro=yu=null,fr=g,K.H=x,K.A=_,Gt===null&&(Rr=null,Yt=0,r1()),L}function _W(){for(;Gt!==null;)sO(Gt)}function SW(o,l){var h=fr;fr|=2;var g=iO(),x=aO();Rr!==o||Yt!==l?(M1=null,R1=_t()+500,pd(o,l)):hd=Yn(o,l);e:do try{if(xr!==0&&Gt!==null){l=Gt;var _=Aa;t:switch(xr){case 1:xr=0,Aa=null,gd(o,l,_,1);break;case 2:case 9:if(gN(_)){xr=0,Aa=null,oO(l);break}l=function(){xr!==2&&xr!==9||Rr!==o||(xr=7),to(o)},_.then(l,l);break e;case 3:xr=7;break e;case 4:xr=5;break e;case 7:gN(_)?(xr=0,Aa=null,oO(l)):(xr=0,Aa=null,gd(o,l,_,7));break;case 5:var L=null;switch(Gt.tag){case 26:L=Gt.memoizedState;case 5:case 27:var H=Gt;if(L?GO(L):H.stateNode.complete){xr=0,Aa=null;var ae=H.sibling;if(ae!==null)Gt=ae;else{var we=H.return;we!==null?(Gt=we,L1(we)):Gt=null}break t}}xr=0,Aa=null,gd(o,l,_,5);break;case 6:xr=0,Aa=null,gd(o,l,_,6);break;case 8:F4(),un=6;break e;default:throw Error(n(462))}}TW();break}catch(je){rO(o,je)}while(!0);return Ro=yu=null,K.H=g,K.A=x,fr=h,Gt!==null?0:(Rr=null,Yt=0,r1(),un)}function TW(){for(;Gt!==null&&!yt();)sO(Gt)}function sO(o){var l=j9(o.alternate,o,Fo);o.memoizedProps=o.pendingProps,l===null?L1(o):Gt=l}function oO(o){var l=o,h=l.alternate;switch(l.tag){case 15:case 0:l=T9(h,l,l.pendingProps,l.type,void 0,Yt);break;case 11:l=T9(h,l,l.pendingProps,l.type.render,l.ref,Yt);break;case 5:a4(l);default:I9(h,l),l=Gt=aN(l,Fo),l=j9(h,l,Fo)}o.memoizedProps=o.pendingProps,l===null?L1(o):Gt=l}function gd(o,l,h,g){Ro=yu=null,a4(l),ad=null,xf=0;var x=l.return;try{if(hW(o,x,l,h,Yt)){un=1,T1(o,qa(h,o.current)),Gt=null;return}}catch(_){if(x!==null)throw Gt=x,_;un=1,T1(o,qa(h,o.current)),Gt=null;return}l.flags&32768?(er||g===1?o=!0:hd||(Yt&536870912)!==0?o=!1:(tc=o=!0,(g===2||g===9||g===3||g===6)&&(g=Sa.current,g!==null&&g.tag===13&&(g.flags|=16384))),lO(l,o)):L1(l)}function L1(o){var l=o;do{if((l.flags&32768)!==0){lO(l,tc);return}o=l.return;var h=pW(l.alternate,l,Fo);if(h!==null){Gt=h;return}if(l=l.sibling,l!==null){Gt=l;return}Gt=l=o}while(l!==null);un===0&&(un=5)}function lO(o,l){do{var h=gW(o.alternate,o);if(h!==null){h.flags&=32767,Gt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(o=o.sibling,o!==null)){Gt=o;return}Gt=o=h}while(o!==null);un=6,Gt=null}function cO(o,l,h,g,x,_,L,H,ae){o.cancelPendingCommit=null;do B1();while($n!==0);if((fr&6)!==0)throw Error(n(327));if(l!==null){if(l===o.current)throw Error(n(177));if(_=l.lanes|l.childLanes,_|=I2,tn(o,h,_,L,H,ae),o===Rr&&(Gt=Rr=null,Yt=0),md=l,ic=o,qo=h,z4=_,V4=x,Z9=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,OW(tr,function(){return mO(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=K.T,K.T=null,x=J.p,J.p=2,L=fr,fr|=4;try{yW(o,l,h)}finally{fr=L,J.p=x,K.T=g}}$n=1,uO(),dO(),hO()}}function uO(){if($n===1){$n=0;var o=ic,l=md,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=K.T,K.T=null;var g=J.p;J.p=2;var x=fr;fr|=4;try{q9(l,o);var _=rw,L=YE(o.containerInfo),H=_.focusedElem,ae=_.selectionRange;if(L!==H&&H&&H.ownerDocument&&XE(H.ownerDocument.documentElement,H)){if(ae!==null&&N2(H)){var we=ae.start,je=ae.end;if(je===void 0&&(je=we),"selectionStart"in H)H.selectionStart=we,H.selectionEnd=Math.min(je,H.value.length);else{var Pe=H.ownerDocument||document,Se=Pe&&Pe.defaultView||window;if(Se.getSelection){var Te=Se.getSelection(),ut=H.textContent.length,wt=Math.min(ae.start,ut),Ar=ae.end===void 0?wt:Math.min(ae.end,ut);!Te.extend&&wt>Ar&&(L=Ar,Ar=wt,wt=L);var pe=WE(H,wt),de=WE(H,Ar);if(pe&&de&&(Te.rangeCount!==1||Te.anchorNode!==pe.node||Te.anchorOffset!==pe.offset||Te.focusNode!==de.node||Te.focusOffset!==de.offset)){var be=Pe.createRange();be.setStart(pe.node,pe.offset),Te.removeAllRanges(),wt>Ar?(Te.addRange(be),Te.extend(de.node,de.offset)):(be.setEnd(de.node,de.offset),Te.addRange(be))}}}}for(Pe=[],Te=H;Te=Te.parentNode;)Te.nodeType===1&&Pe.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Pe.length;H++){var Re=Pe[H];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}Y1=!!tw,rw=tw=null}finally{fr=x,J.p=g,K.T=h}}o.current=l,$n=2}}function dO(){if($n===2){$n=0;var o=ic,l=md,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=K.T,K.T=null;var g=J.p;J.p=2;var x=fr;fr|=4;try{U9(o,l.alternate,l)}finally{fr=x,J.p=g,K.T=h}}$n=3}}function hO(){if($n===4||$n===3){$n=0,Qe();var o=ic,l=md,h=qo,g=Z9;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?$n=5:($n=0,md=ic=null,fO(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(nc=null),wn(h),l=l.stateNode,Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Vn,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=K.T,x=J.p,J.p=2,K.T=null;try{for(var _=o.onRecoverableError,L=0;L<g.length;L++){var H=g[L];_(H.value,{componentStack:H.stack})}}finally{K.T=l,J.p=x}}(qo&3)!==0&&B1(),to(o),x=o.pendingLanes,(h&261930)!==0&&(x&42)!==0?o===$4?Lf++:(Lf=0,$4=o):Lf=0,Bf(0)}}function fO(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,vf(l)))}function B1(){return uO(),dO(),hO(),mO()}function mO(){if($n!==5)return!1;var o=ic,l=z4;z4=0;var h=wn(qo),g=K.T,x=J.p;try{J.p=32>h?32:h,K.T=null,h=V4,V4=null;var _=ic,L=qo;if($n=0,md=ic=null,qo=0,(fr&6)!==0)throw Error(n(331));var H=fr;if(fr|=4,X9(_.current),G9(_,_.current,L,h),fr=H,Bf(0,!1),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Vn,_)}catch{}return!0}finally{J.p=x,K.T=g,fO(o,l)}}function pO(o,l,h){l=qa(h,l),l=x4(o.stateNode,l,2),o=Ql(o,l,2),o!==null&&(Zi(o,2),to(o))}function wr(o,l,h){if(o.tag===3)pO(o,o,h);else for(;l!==null;){if(l.tag===3){pO(l,o,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(nc===null||!nc.has(g))){o=qa(h,o),h=g9(2),g=Ql(l,h,2),g!==null&&(y9(h,g,l,o),Zi(g,2),to(g));break}}l=l.return}}function H4(o,l,h){var g=o.pingCache;if(g===null){g=o.pingCache=new xW;var x=new Set;g.set(l,x)}else x=g.get(l),x===void 0&&(x=new Set,g.set(l,x));x.has(h)||(L4=!0,x.add(h),o=AW.bind(null,o,l,h),l.then(o,o))}function AW(o,l,h){var g=o.pingCache;g!==null&&g.delete(l),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Rr===o&&(Yt&h)===h&&(un===4||un===3&&(Yt&62914560)===Yt&&300>_t()-I1?(fr&2)===0&&pd(o,0):B4|=h,fd===Yt&&(fd=0)),to(o)}function gO(o,l){l===0&&(l=bs()),o=mu(o,l),o!==null&&(Zi(o,l),to(o))}function EW(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),gO(o,h)}function NW(o,l){var h=0;switch(o.tag){case 31:case 13:var g=o.stateNode,x=o.memoizedState;x!==null&&(h=x.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(l),gO(o,h)}function OW(o,l){return ze(o,l)}var U1=null,yd=null,G4=!1,z1=!1,K4=!1,sc=0;function to(o){o!==yd&&o.next===null&&(yd===null?U1=yd=o:yd=yd.next=o),z1=!0,G4||(G4=!0,jW())}function Bf(o,l){if(!K4&&z1){K4=!0;do for(var h=!1,g=U1;g!==null;){if(o!==0){var x=g.pendingLanes;if(x===0)var _=0;else{var L=g.suspendedLanes,H=g.pingedLanes;_=(1<<31-Vt(42|o)+1)-1,_&=x&~(L&~H),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(h=!0,xO(g,_))}else _=Yt,_=rr(g,g===Rr?_:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(_&3)===0||Yn(g,_)||(h=!0,xO(g,_));g=g.next}while(h);K4=!1}}function kW(){yO()}function yO(){z1=G4=!1;var o=0;sc!==0&&zW()&&(o=sc);for(var l=_t(),h=null,g=U1;g!==null;){var x=g.next,_=vO(g,l);_===0?(g.next=null,h===null?U1=x:h.next=x,x===null&&(yd=h)):(h=g,(o!==0||(_&3)!==0)&&(z1=!0)),g=x}$n!==0&&$n!==5||Bf(o),sc!==0&&(sc=0)}function vO(o,l){for(var h=o.suspendedLanes,g=o.pingedLanes,x=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var L=31-Vt(_),H=1<<L,ae=x[L];ae===-1?((H&h)===0||(H&g)!==0)&&(x[L]=vs(H,l)):ae<=l&&(o.expiredLanes|=H),_&=~H}if(l=Rr,h=Yt,h=rr(o,o===l?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,h===0||o===l&&(xr===2||xr===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&et(g),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Yn(o,h)){if(l=h&-h,l===o.callbackPriority)return l;switch(g!==null&&et(g),wn(h)){case 2:case 8:h=Tt;break;case 32:h=tr;break;case 268435456:h=vr;break;default:h=tr}return g=bO.bind(null,o),h=ze(h,g),o.callbackPriority=l,o.callbackNode=h,l}return g!==null&&g!==null&&et(g),o.callbackPriority=2,o.callbackNode=null,2}function bO(o,l){if($n!==0&&$n!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(B1()&&o.callbackNode!==h)return null;var g=Yt;return g=rr(o,o===Rr?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(eO(o,g,l),vO(o,_t()),o.callbackNode!=null&&o.callbackNode===h?bO.bind(null,o):null)}function xO(o,l){if(B1())return null;eO(o,l,!0)}function jW(){$W(function(){(fr&6)!==0?ze(Xt,kW):yO()})}function W4(){if(sc===0){var o=rd;o===0&&(o=ys,ys<<=1,(ys&261888)===0&&(ys=256)),sc=o}return sc}function wO(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Xs(""+o)}function _O(o,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,o.id&&h.setAttribute("form",o.id),l.parentNode.insertBefore(h,l),o=new FormData(o),h.parentNode.removeChild(h),o}function CW(o,l,h,g,x){if(l==="submit"&&h&&h.stateNode===x){var _=wO((x[Ur]||null).action),L=g.submitter;L&&(l=(l=L[Ur]||null)?wO(l.formAction):L.getAttribute("formAction"),l!==null&&(_=l,L=null));var H=new ou("action","action",null,g,x);o.push({event:H,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(sc!==0){var ae=L?_O(x,L):new FormData(x);m4(h,{pending:!0,data:ae,method:x.method,action:_},null,ae)}}else typeof _=="function"&&(H.preventDefault(),ae=L?_O(x,L):new FormData(x),m4(h,{pending:!0,data:ae,method:x.method,action:_},_,ae))},currentTarget:x}]})}}for(var X4=0;X4<C2.length;X4++){var Y4=C2[X4],IW=Y4.toLowerCase(),RW=Y4[0].toUpperCase()+Y4.slice(1);Ss(IW,"on"+RW)}Ss(JE,"onAnimationEnd"),Ss(eN,"onAnimationIteration"),Ss(tN,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(XK,"onTransitionRun"),Ss(YK,"onTransitionStart"),Ss(QK,"onTransitionCancel"),Ss(rN,"onTransitionEnd"),Ht("onMouseEnter",["mouseout","mouseover"]),Ht("onMouseLeave",["mouseout","mouseover"]),Ht("onPointerEnter",["pointerout","pointerover"]),Ht("onPointerLeave",["pointerout","pointerover"]),qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qt("onBeforeInput",["compositionend","keypress","textInput","paste"]),qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uf));function SO(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],x=g.event;g=g.listeners;e:{var _=void 0;if(l)for(var L=g.length-1;0<=L;L--){var H=g[L],ae=H.instance,we=H.currentTarget;if(H=H.listener,ae!==_&&x.isPropagationStopped())break e;_=H,x.currentTarget=we;try{_(x)}catch(je){t1(je)}x.currentTarget=null,_=ae}else for(L=0;L<g.length;L++){if(H=g[L],ae=H.instance,we=H.currentTarget,H=H.listener,ae!==_&&x.isPropagationStopped())break e;_=H,x.currentTarget=we;try{_(x)}catch(je){t1(je)}x.currentTarget=null,_=ae}}}}function Kt(o,l){var h=l[Ji];h===void 0&&(h=l[Ji]=new Set);var g=o+"__bubble";h.has(g)||(TO(l,o,2,!1),h.add(g))}function Q4(o,l,h){var g=0;l&&(g|=4),TO(h,o,g,l)}var V1="_reactListening"+Math.random().toString(36).slice(2);function Z4(o){if(!o[V1]){o[V1]=!0,mt.forEach(function(h){h!=="selectionchange"&&(MW.has(h)||Q4(h,!1,o),Q4(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[V1]||(l[V1]=!0,Q4("selectionchange",!1,l))}}function TO(o,l,h,g){switch(JO(l)){case 2:var x=lX;break;case 8:x=cX;break;default:x=fw}h=x.bind(null,l,h,o),x=void 0,!of||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),g?x!==void 0?o.addEventListener(l,h,{capture:!0,passive:x}):o.addEventListener(l,h,!0):x!==void 0?o.addEventListener(l,h,{passive:x}):o.addEventListener(l,h,!1)}function J4(o,l,h,g,x){var _=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var H=g.stateNode.containerInfo;if(H===x)break;if(L===4)for(L=g.return;L!==null;){var ae=L.tag;if((ae===3||ae===4)&&L.stateNode.containerInfo===x)return;L=L.return}for(;H!==null;){if(L=le(H),L===null)return;if(ae=L.tag,ae===5||ae===6||ae===26||ae===27){g=_=L;continue e}H=H.parentNode}}g=g.return}Ug(function(){var we=_,je=F0(h),Pe=[];e:{var Se=nN.get(o);if(Se!==void 0){var Te=ou,ut=o;switch(o){case"keypress":if(su(h)===0)break e;case"keydown":case"keyup":Te=Wg;break;case"focusin":ut="focus",Te=Vl;break;case"focusout":ut="blur",Te=Vl;break;case"beforeblur":case"afterblur":Te=Vl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Vg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=$g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Yg;break;case JE:case eN:case tN:Te=G0;break;case rN:Te=K0;break;case"scroll":case"scrollend":Te=zg;break;case"wheel":Te=Zg;break;case"copy":case"cut":case"paste":Te=qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=hf;break;case"toggle":case"beforetoggle":Te=Fl}var wt=(l&4)!==0,Ar=!wt&&(o==="scroll"||o==="scrollend"),pe=wt?Se!==null?Se+"Capture":null:Se;wt=[];for(var de=we,be;de!==null;){var Re=de;if(be=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||be===null||pe===null||(Re=ta(de,pe),Re!=null&&wt.push(zf(de,Re,be))),Ar)break;de=de.return}0<wt.length&&(Se=new Te(Se,ut,null,h,je),Pe.push({event:Se,listeners:wt}))}}if((l&7)===0){e:{if(Se=o==="mouseover"||o==="pointerover",Te=o==="mouseout"||o==="pointerout",Se&&h!==$0&&(ut=h.relatedTarget||h.fromElement)&&(le(ut)||ut[rn]))break e;if((Te||Se)&&(Se=je.window===je?je:(Se=je.ownerDocument)?Se.defaultView||Se.parentWindow:window,Te?(ut=h.relatedTarget||h.toElement,Te=we,ut=ut?le(ut):null,ut!==null&&(Ar=a(ut),wt=ut.tag,ut!==Ar||wt!==5&&wt!==27&&wt!==6)&&(ut=null)):(Te=null,ut=we),Te!==ut)){if(wt=Vg,Re="onMouseLeave",pe="onMouseEnter",de="mouse",(o==="pointerout"||o==="pointerover")&&(wt=hf,Re="onPointerLeave",pe="onPointerEnter",de="pointer"),Ar=Te==null?Se:me(Te),be=ut==null?Se:me(ut),Se=new wt(Re,de+"leave",Te,h,je),Se.target=Ar,Se.relatedTarget=be,Re=null,le(je)===we&&(wt=new wt(pe,de+"enter",ut,h,je),wt.target=be,wt.relatedTarget=Ar,Re=wt),Ar=Re,Te&&ut)t:{for(wt=PW,pe=Te,de=ut,be=0,Re=pe;Re;Re=wt(Re))be++;Re=0;for(var gt=de;gt;gt=wt(gt))Re++;for(;0<be-Re;)pe=wt(pe),be--;for(;0<Re-be;)de=wt(de),Re--;for(;be--;){if(pe===de||de!==null&&pe===de.alternate){wt=pe;break t}pe=wt(pe),de=wt(de)}wt=null}else wt=null;Te!==null&&AO(Pe,Se,Te,wt,!1),ut!==null&&Ar!==null&&AO(Pe,Ar,ut,wt,!0)}}e:{if(Se=we?me(we):window,Te=Se.nodeName&&Se.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Se.type==="file")var or=$E;else if(ra(Se))if(FE)or=GK;else{or=qK;var ht=FK}else Te=Se.nodeName,!Te||Te.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?we&&af(we.elementType)&&(or=$E):or=HK;if(or&&(or=or(o,we))){du(Pe,or,h,je);break e}ht&&ht(o,Se,we),o==="focusout"&&we&&Se.type==="number"&&we.memoizedProps.value!=null&&V0(Se,"number",Se.value)}switch(ht=we?me(we):window,o){case"focusin":(ra(ht)||ht.contentEditable==="true")&&(W0=ht,O2=we,pf=null);break;case"focusout":pf=O2=W0=null;break;case"mousedown":k2=!0;break;case"contextmenu":case"mouseup":case"dragend":k2=!1,QE(Pe,h,je);break;case"selectionchange":if(WK)break;case"keydown":case"keyup":QE(Pe,h,je)}var Lt;if(j)e:{switch(o){case"compositionstart":var Qt="onCompositionStart";break e;case"compositionend":Qt="onCompositionEnd";break e;case"compositionupdate":Qt="onCompositionUpdate";break e}Qt=void 0}else $t?pr(o,h)&&(Qt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Qt="onCompositionStart");Qt&&(ve&&h.locale!=="ko"&&($t||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&$t&&(Lt=Ll()):(xa=je,q0="value"in xa?xa.value:xa.textContent,$t=!0)),ht=$1(we,Qt),0<ht.length&&(Qt=new cf(Qt,o,null,h,je),Pe.push({event:Qt,listeners:ht}),Lt?Qt.data=Lt:(Lt=On(h),Lt!==null&&(Qt.data=Lt)))),(Lt=W?Zn(o,h):Jn(o,h))&&(Qt=$1(we,"onBeforeInput"),0<Qt.length&&(ht=new cf("onBeforeInput","beforeinput",null,h,je),Pe.push({event:ht,listeners:Qt}),ht.data=Lt)),CW(Pe,o,we,h,je)}SO(Pe,l)})}function zf(o,l,h){return{instance:o,listener:l,currentTarget:h}}function $1(o,l){for(var h=l+"Capture",g=[];o!==null;){var x=o,_=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||_===null||(x=ta(o,h),x!=null&&g.unshift(zf(o,x,_)),x=ta(o,l),x!=null&&g.push(zf(o,x,_))),o.tag===3)return g;o=o.return}return[]}function PW(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function AO(o,l,h,g,x){for(var _=l._reactName,L=[];h!==null&&h!==g;){var H=h,ae=H.alternate,we=H.stateNode;if(H=H.tag,ae!==null&&ae===g)break;H!==5&&H!==26&&H!==27||we===null||(ae=we,x?(we=ta(h,_),we!=null&&L.unshift(zf(h,we,ae))):x||(we=ta(h,_),we!=null&&L.push(zf(h,we,ae)))),h=h.return}L.length!==0&&o.push({event:l,listeners:L})}var DW=/\r\n?/g,LW=/\u0000|\uFFFD/g;function EO(o){return(typeof o=="string"?o:""+o).replace(DW,`
`).replace(LW,"")}function NO(o,l){return l=EO(l),EO(o)===l}function Tr(o,l,h,g,x,_){switch(h){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||$a(o,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&$a(o,""+g);break;case"className":Ml(o,"class",g);break;case"tabIndex":Ml(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(o,h,g);break;case"style":Lg(o,g,_);break;case"data":if(l!=="object"){Ml(o,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||h!=="href")){o.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Xs(""+g),o.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(h==="formAction"?(l!=="input"&&Tr(o,l,"name",x.name,x,null),Tr(o,l,"formEncType",x.formEncType,x,null),Tr(o,l,"formMethod",x.formMethod,x,null),Tr(o,l,"formTarget",x.formTarget,x,null)):(Tr(o,l,"encType",x.encType,x,null),Tr(o,l,"method",x.method,x,null),Tr(o,l,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Xs(""+g),o.setAttribute(h,g);break;case"onClick":g!=null&&(o.onclick=Qn);break;case"onScroll":g!=null&&Kt("scroll",o);break;case"onScrollEnd":g!=null&&Kt("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(x.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}h=Xs(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""+g):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":g===!0?o.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,g):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(h,g):o.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(h):o.setAttribute(h,g);break;case"popover":Kt("beforetoggle",o),Kt("toggle",o),Rl(o,"popover",g);break;case"xlinkActuate":Va(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Va(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Va(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Va(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Va(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Va(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Va(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Va(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Va(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Rl(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=_2.get(h)||h,Rl(o,h,g))}}function ew(o,l,h,g,x,_){switch(h){case"style":Lg(o,g,_);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(x.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"children":typeof g=="string"?$a(o,g):(typeof g=="number"||typeof g=="bigint")&&$a(o,""+g);break;case"onScroll":g!=null&&Kt("scroll",o);break;case"onScrollEnd":g!=null&&Kt("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!It.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(x=h.endsWith("Capture"),l=h.slice(2,x?h.length-7:void 0),_=o[Ur]||null,_=_!=null?_[h]:null,typeof _=="function"&&o.removeEventListener(l,_,x),typeof g=="function")){typeof _!="function"&&_!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(l,g,x);break e}h in o?o[h]=g:g===!0?o.setAttribute(h,""):Rl(o,h,g)}}}function ui(o,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",o),Kt("load",o);var g=!1,x=!1,_;for(_ in h)if(h.hasOwnProperty(_)){var L=h[_];if(L!=null)switch(_){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Tr(o,l,_,L,h,null)}}x&&Tr(o,l,"srcSet",h.srcSet,h,null),g&&Tr(o,l,"src",h.src,h,null);return;case"input":Kt("invalid",o);var H=_=L=x=null,ae=null,we=null;for(g in h)if(h.hasOwnProperty(g)){var je=h[g];if(je!=null)switch(g){case"name":x=je;break;case"type":L=je;break;case"checked":ae=je;break;case"defaultChecked":we=je;break;case"value":_=je;break;case"defaultValue":H=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,l));break;default:Tr(o,l,g,je,h,null)}}iu(o,_,H,ae,we,L,x,!1);return;case"select":Kt("invalid",o),g=L=_=null;for(x in h)if(h.hasOwnProperty(x)&&(H=h[x],H!=null))switch(x){case"value":_=H;break;case"defaultValue":L=H;break;case"multiple":g=H;default:Tr(o,l,x,H,h,null)}l=_,h=L,o.multiple=!!g,l!=null?sr(o,!!g,l,!1):h!=null&&sr(o,!!g,h,!0);return;case"textarea":Kt("invalid",o),_=x=g=null;for(L in h)if(h.hasOwnProperty(L)&&(H=h[L],H!=null))switch(L){case"value":g=H;break;case"defaultValue":x=H;break;case"children":_=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:Tr(o,l,L,H,h,null)}Dl(o,g,x,_);return;case"option":for(ae in h)if(h.hasOwnProperty(ae)&&(g=h[ae],g!=null))switch(ae){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Tr(o,l,ae,g,h,null)}return;case"dialog":Kt("beforetoggle",o),Kt("toggle",o),Kt("cancel",o),Kt("close",o);break;case"iframe":case"object":Kt("load",o);break;case"video":case"audio":for(g=0;g<Uf.length;g++)Kt(Uf[g],o);break;case"image":Kt("error",o),Kt("load",o);break;case"details":Kt("toggle",o);break;case"embed":case"source":case"link":Kt("error",o),Kt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in h)if(h.hasOwnProperty(we)&&(g=h[we],g!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Tr(o,l,we,g,h,null)}return;default:if(af(l)){for(je in h)h.hasOwnProperty(je)&&(g=h[je],g!==void 0&&ew(o,l,je,g,h,void 0));return}}for(H in h)h.hasOwnProperty(H)&&(g=h[H],g!=null&&Tr(o,l,H,g,h,null))}function BW(o,l,h,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,_=null,L=null,H=null,ae=null,we=null,je=null;for(Te in h){var Pe=h[Te];if(h.hasOwnProperty(Te)&&Pe!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":ae=Pe;default:g.hasOwnProperty(Te)||Tr(o,l,Te,null,g,Pe)}}for(var Se in g){var Te=g[Se];if(Pe=h[Se],g.hasOwnProperty(Se)&&(Te!=null||Pe!=null))switch(Se){case"type":_=Te;break;case"name":x=Te;break;case"checked":we=Te;break;case"defaultChecked":je=Te;break;case"value":L=Te;break;case"defaultValue":H=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(n(137,l));break;default:Te!==Pe&&Tr(o,l,Se,Te,g,Pe)}}Pl(o,L,H,ae,we,je,_,x);return;case"select":Te=L=H=Se=null;for(_ in h)if(ae=h[_],h.hasOwnProperty(_)&&ae!=null)switch(_){case"value":break;case"multiple":Te=ae;default:g.hasOwnProperty(_)||Tr(o,l,_,null,g,ae)}for(x in g)if(_=g[x],ae=h[x],g.hasOwnProperty(x)&&(_!=null||ae!=null))switch(x){case"value":Se=_;break;case"defaultValue":H=_;break;case"multiple":L=_;default:_!==ae&&Tr(o,l,x,_,g,ae)}l=H,h=L,g=Te,Se!=null?sr(o,!!h,Se,!1):!!g!=!!h&&(l!=null?sr(o,!!h,l,!0):sr(o,!!h,h?[]:"",!1));return;case"textarea":Te=Se=null;for(H in h)if(x=h[H],h.hasOwnProperty(H)&&x!=null&&!g.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Tr(o,l,H,null,g,x)}for(L in g)if(x=g[L],_=h[L],g.hasOwnProperty(L)&&(x!=null||_!=null))switch(L){case"value":Se=x;break;case"defaultValue":Te=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==_&&Tr(o,l,L,x,g,_)}au(o,Se,Te);return;case"option":for(var ut in h)if(Se=h[ut],h.hasOwnProperty(ut)&&Se!=null&&!g.hasOwnProperty(ut))switch(ut){case"selected":o.selected=!1;break;default:Tr(o,l,ut,null,g,Se)}for(ae in g)if(Se=g[ae],Te=h[ae],g.hasOwnProperty(ae)&&Se!==Te&&(Se!=null||Te!=null))switch(ae){case"selected":o.selected=Se&&typeof Se!="function"&&typeof Se!="symbol";break;default:Tr(o,l,ae,Se,g,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in h)Se=h[wt],h.hasOwnProperty(wt)&&Se!=null&&!g.hasOwnProperty(wt)&&Tr(o,l,wt,null,g,Se);for(we in g)if(Se=g[we],Te=h[we],g.hasOwnProperty(we)&&Se!==Te&&(Se!=null||Te!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(n(137,l));break;default:Tr(o,l,we,Se,g,Te)}return;default:if(af(l)){for(var Ar in h)Se=h[Ar],h.hasOwnProperty(Ar)&&Se!==void 0&&!g.hasOwnProperty(Ar)&&ew(o,l,Ar,void 0,g,Se);for(je in g)Se=g[je],Te=h[je],!g.hasOwnProperty(je)||Se===Te||Se===void 0&&Te===void 0||ew(o,l,je,Se,g,Te);return}}for(var pe in h)Se=h[pe],h.hasOwnProperty(pe)&&Se!=null&&!g.hasOwnProperty(pe)&&Tr(o,l,pe,null,g,Se);for(Pe in g)Se=g[Pe],Te=h[Pe],!g.hasOwnProperty(Pe)||Se===Te||Se==null&&Te==null||Tr(o,l,Pe,Se,g,Te)}function OO(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UW(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var x=h[g],_=x.transferSize,L=x.initiatorType,H=x.duration;if(_&&H&&OO(L)){for(L=0,H=x.responseEnd,g+=1;g<h.length;g++){var ae=h[g],we=ae.startTime;if(we>H)break;var je=ae.transferSize,Pe=ae.initiatorType;je&&OO(Pe)&&(ae=ae.responseEnd,L+=je*(ae<H?1:(H-we)/(ae-we)))}if(--g,l+=8*(_+L)/(x.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var tw=null,rw=null;function F1(o){return o.nodeType===9?o:o.ownerDocument}function kO(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jO(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function nw(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var iw=null;function zW(){var o=window.event;return o&&o.type==="popstate"?o===iw?!1:(iw=o,!0):(iw=null,!1)}var CO=typeof setTimeout=="function"?setTimeout:void 0,VW=typeof clearTimeout=="function"?clearTimeout:void 0,IO=typeof Promise=="function"?Promise:void 0,$W=typeof queueMicrotask=="function"?queueMicrotask:typeof IO<"u"?function(o){return IO.resolve(null).then(o).catch(FW)}:CO;function FW(o){setTimeout(function(){throw o})}function oc(o){return o==="head"}function RO(o,l){var h=l,g=0;do{var x=h.nextSibling;if(o.removeChild(h),x&&x.nodeType===8)if(h=x.data,h==="/$"||h==="/&"){if(g===0){o.removeChild(x),wd(l);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")Vf(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,Vf(h);for(var _=h.firstChild;_;){var L=_.nextSibling,H=_.nodeName;_[ea]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&_.rel.toLowerCase()==="stylesheet"||h.removeChild(_),_=L}}else h==="body"&&Vf(o.ownerDocument.body);h=x}while(h);wd(l)}function MO(o,l){var h=o;o=0;do{var g=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=g}while(h)}function aw(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":aw(h),ot(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function qW(o,l,h,g){for(;o.nodeType===1;){var x=h;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[ea])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var _=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=Xa(o.nextSibling),o===null)break}return null}function HW(o,l,h){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=Xa(o.nextSibling),o===null))return null;return o}function PO(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=Xa(o.nextSibling),o===null))return null;return o}function sw(o){return o.data==="$?"||o.data==="$~"}function ow(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function GW(o,l){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||h.readyState!=="loading")l();else{var g=function(){l(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function Xa(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var lw=null;function DO(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(l===0)return Xa(o.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}o=o.nextSibling}return null}function LO(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return o;l--}else h!=="/$"&&h!=="/&"||l++}o=o.previousSibling}return null}function BO(o,l,h){switch(l=F1(h),o){case"html":if(o=l.documentElement,!o)throw Error(n(452));return o;case"head":if(o=l.head,!o)throw Error(n(453));return o;case"body":if(o=l.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Vf(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);ot(o)}var Ya=new Map,UO=new Set;function q1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ho=J.d;J.d={f:KW,r:WW,D:XW,C:YW,L:QW,m:ZW,X:eX,S:JW,M:tX};function KW(){var o=Ho.f(),l=P1();return o||l}function WW(o){var l=Z(o);l!==null&&l.tag===5&&l.type==="form"?r9(l):Ho.r(o)}var vd=typeof document>"u"?null:document;function zO(o,l,h){var g=vd;if(g&&typeof l=="string"&&l){var x=ln(l);x='link[rel="'+o+'"][href="'+x+'"]',typeof h=="string"&&(x+='[crossorigin="'+h+'"]'),UO.has(x)||(UO.add(x),o={rel:o,crossOrigin:h,href:l},g.querySelector(x)===null&&(l=g.createElement("link"),ui(l,"link",o),Je(l),g.head.appendChild(l)))}}function XW(o){Ho.D(o),zO("dns-prefetch",o,null)}function YW(o,l){Ho.C(o,l),zO("preconnect",o,l)}function QW(o,l,h){Ho.L(o,l,h);var g=vd;if(g&&o&&l){var x='link[rel="preload"][as="'+ln(l)+'"]';l==="image"&&h&&h.imageSrcSet?(x+='[imagesrcset="'+ln(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(x+='[imagesizes="'+ln(h.imageSizes)+'"]')):x+='[href="'+ln(o)+'"]';var _=x;switch(l){case"style":_=bd(o);break;case"script":_=xd(o)}Ya.has(_)||(o=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:o,as:l},h),Ya.set(_,o),g.querySelector(x)!==null||l==="style"&&g.querySelector($f(_))||l==="script"&&g.querySelector(Ff(_))||(l=g.createElement("link"),ui(l,"link",o),Je(l),g.head.appendChild(l)))}}function ZW(o,l){Ho.m(o,l);var h=vd;if(h&&o){var g=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+ln(g)+'"][href="'+ln(o)+'"]',_=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=xd(o)}if(!Ya.has(_)&&(o=p({rel:"modulepreload",href:o},l),Ya.set(_,o),h.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Ff(_)))return}g=h.createElement("link"),ui(g,"link",o),Je(g),h.head.appendChild(g)}}}function JW(o,l,h){Ho.S(o,l,h);var g=vd;if(g&&o){var x=De(g).hoistableStyles,_=bd(o);l=l||"default";var L=x.get(_);if(!L){var H={loading:0,preload:null};if(L=g.querySelector($f(_)))H.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},h),(h=Ya.get(_))&&cw(o,h);var ae=L=g.createElement("link");Je(ae),ui(ae,"link",o),ae._p=new Promise(function(we,je){ae.onload=we,ae.onerror=je}),ae.addEventListener("load",function(){H.loading|=1}),ae.addEventListener("error",function(){H.loading|=2}),H.loading|=4,H1(L,l,g)}L={type:"stylesheet",instance:L,count:1,state:H},x.set(_,L)}}}function eX(o,l){Ho.X(o,l);var h=vd;if(h&&o){var g=De(h).hoistableScripts,x=xd(o),_=g.get(x);_||(_=h.querySelector(Ff(x)),_||(o=p({src:o,async:!0},l),(l=Ya.get(x))&&uw(o,l),_=h.createElement("script"),Je(_),ui(_,"link",o),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(x,_))}}function tX(o,l){Ho.M(o,l);var h=vd;if(h&&o){var g=De(h).hoistableScripts,x=xd(o),_=g.get(x);_||(_=h.querySelector(Ff(x)),_||(o=p({src:o,async:!0,type:"module"},l),(l=Ya.get(x))&&uw(o,l),_=h.createElement("script"),Je(_),ui(_,"link",o),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(x,_))}}function VO(o,l,h,g){var x=(x=Oe.current)?q1(x):null;if(!x)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=bd(h.href),h=De(x).hoistableStyles,g=h.get(l),g||(g={type:"style",instance:null,count:0,state:null},h.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=bd(h.href);var _=De(x).hoistableStyles,L=_.get(o);if(L||(x=x.ownerDocument||x,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,L),(_=x.querySelector($f(o)))&&!_._p&&(L.instance=_,L.state.loading=5),Ya.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ya.set(o,h),_||rX(x,o,h,L.state))),l&&g===null)throw Error(n(528,""));return L}if(l&&g!==null)throw Error(n(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=xd(h),h=De(x).hoistableScripts,g=h.get(l),g||(g={type:"script",instance:null,count:0,state:null},h.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function bd(o){return'href="'+ln(o)+'"'}function $f(o){return'link[rel="stylesheet"]['+o+"]"}function $O(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function rX(o,l,h,g){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=o.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),ui(l,"link",h),Je(l),o.head.appendChild(l))}function xd(o){return'[src="'+ln(o)+'"]'}function Ff(o){return"script[async]"+o}function FO(o,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var g=o.querySelector('style[data-href~="'+ln(h.href)+'"]');if(g)return l.instance=g,Je(g),g;var x=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Je(g),ui(g,"style",x),H1(g,h.precedence,o),l.instance=g;case"stylesheet":x=bd(h.href);var _=o.querySelector($f(x));if(_)return l.state.loading|=4,l.instance=_,Je(_),_;g=$O(h),(x=Ya.get(x))&&cw(g,x),_=(o.ownerDocument||o).createElement("link"),Je(_);var L=_;return L._p=new Promise(function(H,ae){L.onload=H,L.onerror=ae}),ui(_,"link",g),l.state.loading|=4,H1(_,h.precedence,o),l.instance=_;case"script":return _=xd(h.src),(x=o.querySelector(Ff(_)))?(l.instance=x,Je(x),x):(g=h,(x=Ya.get(_))&&(g=p({},h),uw(g,x)),o=o.ownerDocument||o,x=o.createElement("script"),Je(x),ui(x,"link",g),o.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,H1(g,h.precedence,o));return l.instance}function H1(o,l,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,_=x,L=0;L<g.length;L++){var H=g[L];if(H.dataset.precedence===l)_=H;else if(_!==x)break}_?_.parentNode.insertBefore(o,_.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(o,l.firstChild))}function cw(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function uw(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var G1=null;function qO(o,l,h){if(G1===null){var g=new Map,x=G1=new Map;x.set(h,g)}else x=G1,g=x.get(h),g||(g=new Map,x.set(h,g));if(g.has(o))return g;for(g.set(o,null),h=h.getElementsByTagName(o),x=0;x<h.length;x++){var _=h[x];if(!(_[ea]||_[br]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var L=_.getAttribute(l)||"";L=o+L;var H=g.get(L);H?H.push(_):g.set(L,[_])}}return g}function HO(o,l,h){o=o.ownerDocument||o,o.head.insertBefore(h,l==="title"?o.querySelector("head > title"):null)}function nX(o,l,h){if(h===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function GO(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function iX(o,l,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var x=bd(g.href),_=l.querySelector($f(x));if(_){l=_._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=K1.bind(o),l.then(o,o)),h.state.loading|=4,h.instance=_,Je(_);return}_=l.ownerDocument||l,g=$O(g),(x=Ya.get(x))&&cw(g,x),_=_.createElement("link"),Je(_);var L=_;L._p=new Promise(function(H,ae){L.onload=H,L.onerror=ae}),ui(_,"link",g),h.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=K1.bind(o),l.addEventListener("load",h),l.addEventListener("error",h))}}var dw=0;function aX(o,l){return o.stylesheets&&o.count===0&&X1(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var g=setTimeout(function(){if(o.stylesheets&&X1(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4+l);0<o.imgBytes&&dw===0&&(dw=62500*UW());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&X1(o,o.stylesheets),o.unsuspend)){var _=o.unsuspend;o.unsuspend=null,_()}},(o.imgBytes>dw?50:800)+l);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(x)}}:null}function K1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)X1(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var W1=null;function X1(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,W1=new Map,l.forEach(sX,o),W1=null,K1.call(o))}function sX(o,l){if(!(l.state.loading&4)){var h=W1.get(o);if(h)var g=h.get(null);else{h=new Map,W1.set(o,h);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<x.length;_++){var L=x[_];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(h.set(L.dataset.precedence,L),g=L)}g&&h.set(null,g)}x=l.instance,L=x.getAttribute("data-precedence"),_=h.get(L)||g,_===g&&h.set(null,x),h.set(L,x),this.count++,g=K1.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),_?_.parentNode.insertBefore(x,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),l.state.loading|=4}}var qf={$$typeof:C,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function oX(o,l,h,g,x,_,L,H,ae){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=_,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function KO(o,l,h,g,x,_,L,H,ae,we,je,Pe){return o=new oX(o,l,h,L,ae,we,je,Pe,H),l=1,_===!0&&(l|=24),_=_a(3,null,null,l),o.current=_,_.stateNode=o,l=q2(),l.refCount++,o.pooledCache=l,l.refCount++,_.memoizedState={element:g,isDehydrated:h,cache:l},W2(_),o}function WO(o){return o?(o=Q0,o):Q0}function XO(o,l,h,g,x,_){x=WO(x),g.context===null?g.context=x:g.pendingContext=x,g=Yl(l),g.payload={element:h},_=_===void 0?null:_,_!==null&&(g.callback=_),h=Ql(o,g,l),h!==null&&(oa(h,o,l),_f(h,o,l))}function YO(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function hw(o,l){YO(o,l),(o=o.alternate)&&YO(o,l)}function QO(o){if(o.tag===13||o.tag===31){var l=mu(o,67108864);l!==null&&oa(l,o,67108864),hw(o,67108864)}}function ZO(o){if(o.tag===13||o.tag===31){var l=Na();l=Hs(l);var h=mu(o,l);h!==null&&oa(h,o,l),hw(o,l)}}var Y1=!0;function lX(o,l,h,g){var x=K.T;K.T=null;var _=J.p;try{J.p=2,fw(o,l,h,g)}finally{J.p=_,K.T=x}}function cX(o,l,h,g){var x=K.T;K.T=null;var _=J.p;try{J.p=8,fw(o,l,h,g)}finally{J.p=_,K.T=x}}function fw(o,l,h,g){if(Y1){var x=mw(g);if(x===null)J4(o,l,g,Q1,h),ek(o,g);else if(dX(x,o,l,h,g))g.stopPropagation();else if(ek(o,g),l&4&&-1<uX.indexOf(o)){for(;x!==null;){var _=Z(x);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var L=xi(_.pendingLanes);if(L!==0){var H=_;for(H.pendingLanes|=2,H.entangledLanes|=2;L;){var ae=1<<31-Vt(L);H.entanglements[1]|=ae,L&=~ae}to(_),(fr&6)===0&&(R1=_t()+500,Bf(0))}}break;case 31:case 13:H=mu(_,2),H!==null&&oa(H,_,2),P1(),hw(_,2)}if(_=mw(g),_===null&&J4(o,l,g,Q1,h),_===x)break;x=_}x!==null&&g.stopPropagation()}else J4(o,l,g,null,h)}}function mw(o){return o=F0(o),pw(o)}var Q1=null;function pw(o){if(Q1=null,o=le(o),o!==null){var l=a(o);if(l===null)o=null;else{var h=l.tag;if(h===13){if(o=s(l),o!==null)return o;o=null}else if(h===31){if(o=c(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Q1=o,null}function JO(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pt()){case Xt:return 2;case Tt:return 8;case tr:case Br:return 32;case vr:return 268435456;default:return 32}default:return 32}}var gw=!1,lc=null,cc=null,uc=null,Hf=new Map,Gf=new Map,dc=[],uX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ek(o,l){switch(o){case"focusin":case"focusout":lc=null;break;case"dragenter":case"dragleave":cc=null;break;case"mouseover":case"mouseout":uc=null;break;case"pointerover":case"pointerout":Hf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gf.delete(l.pointerId)}}function Kf(o,l,h,g,x,_){return o===null||o.nativeEvent!==_?(o={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:_,targetContainers:[x]},l!==null&&(l=Z(l),l!==null&&QO(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function dX(o,l,h,g,x){switch(l){case"focusin":return lc=Kf(lc,o,l,h,g,x),!0;case"dragenter":return cc=Kf(cc,o,l,h,g,x),!0;case"mouseover":return uc=Kf(uc,o,l,h,g,x),!0;case"pointerover":var _=x.pointerId;return Hf.set(_,Kf(Hf.get(_)||null,o,l,h,g,x)),!0;case"gotpointercapture":return _=x.pointerId,Gf.set(_,Kf(Gf.get(_)||null,o,l,h,g,x)),!0}return!1}function tk(o){var l=le(o.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=s(h),l!==null){o.blockedOn=l,Gs(o.priority,function(){ZO(h)});return}}else if(l===31){if(l=c(h),l!==null){o.blockedOn=l,Gs(o.priority,function(){ZO(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Z1(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=mw(o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);$0=g,h.target.dispatchEvent(g),$0=null}else return l=Z(h),l!==null&&QO(l),o.blockedOn=h,!1;l.shift()}return!0}function rk(o,l,h){Z1(o)&&h.delete(l)}function hX(){gw=!1,lc!==null&&Z1(lc)&&(lc=null),cc!==null&&Z1(cc)&&(cc=null),uc!==null&&Z1(uc)&&(uc=null),Hf.forEach(rk),Gf.forEach(rk)}function J1(o,l){o.blockedOn===l&&(o.blockedOn=null,gw||(gw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hX)))}var ey=null;function nk(o){ey!==o&&(ey=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ey===o&&(ey=null);for(var l=0;l<o.length;l+=3){var h=o[l],g=o[l+1],x=o[l+2];if(typeof g!="function"){if(pw(g||h)===null)continue;break}var _=Z(h);_!==null&&(o.splice(l,3),l-=3,m4(_,{pending:!0,data:x,method:h.method,action:g},g,x))}}))}function wd(o){function l(ae){return J1(ae,o)}lc!==null&&J1(lc,o),cc!==null&&J1(cc,o),uc!==null&&J1(uc,o),Hf.forEach(l),Gf.forEach(l);for(var h=0;h<dc.length;h++){var g=dc[h];g.blockedOn===o&&(g.blockedOn=null)}for(;0<dc.length&&(h=dc[0],h.blockedOn===null);)tk(h),h.blockedOn===null&&dc.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var x=h[g],_=h[g+1],L=x[Ur]||null;if(typeof _=="function")L||nk(h);else if(L){var H=null;if(_&&_.hasAttribute("formAction")){if(x=_,L=_[Ur]||null)H=L.formAction;else if(pw(x)!==null)continue}else H=L.action;typeof H=="function"?h[g+1]=H:(h.splice(g,3),g-=3),nk(h)}}}function ik(){function o(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(L){return x=L})},focusReset:"manual",scroll:"manual"})}function l(){x!==null&&(x(),x=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),x!==null&&(x(),x=null)}}}function yw(o){this._internalRoot=o}ty.prototype.render=yw.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));var h=l.current,g=Na();XO(h,g,o,l,null,null)},ty.prototype.unmount=yw.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;XO(o.current,2,null,o,null,null),P1(),l[rn]=null}};function ty(o){this._internalRoot=o}ty.prototype.unstable_scheduleHydration=function(o){if(o){var l=si();o={blockedOn:null,target:o,priority:l};for(var h=0;h<dc.length&&l!==0&&l<dc[h].priority;h++);dc.splice(h,0,o),h===0&&tk(o)}};var ak=e.version;if(ak!=="19.2.4")throw Error(n(527,ak,"19.2.4"));J.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=f(l),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var fX={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ry=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ry.isDisabled&&ry.supportsFiber)try{Vn=ry.inject(fX),Ir=ry}catch{}}return Xf.createRoot=function(o,l){if(!i(o))throw Error(n(299));var h=!1,g="",x=h9,_=f9,L=m9;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError)),l=KO(o,1,!1,null,null,h,g,null,x,_,L,ik),o[rn]=l.current,Z4(o),new yw(l)},Xf.hydrateRoot=function(o,l,h){if(!i(o))throw Error(n(299));var g=!1,x="",_=h9,L=f9,H=m9,ae=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(L=h.onCaughtError),h.onRecoverableError!==void 0&&(H=h.onRecoverableError),h.formState!==void 0&&(ae=h.formState)),l=KO(o,1,!0,l,h??null,g,x,ae,_,L,H,ik),l.context=WO(null),h=l.current,g=Na(),g=Hs(g),x=Yl(g),x.callback=null,Ql(h,x,g),h=g,l.current.lanes=h,Zi(l,h),to(l),o[rn]=l.current,Z4(o),new ty(l)},Xf.version="19.2.4",Xf}var gk;function EX(){if(gk)return xw.exports;gk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xw.exports=AX(),xw.exports}var NX=EX();const OX=mr(NX);var Fi=(t=>(t.ADMIN="ADMIN",t.STUDENT="STUDENT",t))(Fi||{});const Nr={AP_PHYSICS:"AP Physics",HONORS_PHYSICS:"Honors Physics",FORENSICS:"Forensic Science",UNCATEGORIZED:"Uncategorized"};var Xo=(t=>(t.ACTIVE="ACTIVE",t.ARCHIVED="ARCHIVED",t.DRAFT="DRAFT",t))(Xo||{}),yk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},kX=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],c=t[r++],d=((i&7)<<18|(a&63)<<12|(s&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},IU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,c=s?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,m=a>>2,p=(a&3)<<4|c>>4;let y=(c&15)<<2|f>>6,b=f&63;d||(b=64,s||(y=64)),n.push(r[m],r[p],r[y],r[b])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],c=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||c==null||f==null||p==null)throw new jX;const y=a<<2|c>>4;if(n.push(y),f!==64){const b=c<<4&240|f>>2;if(n.push(b),p!==64){const T=f<<6&192|p;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CX=function(t){const e=CU(t);return IU.encodeByteArray(e,!0)},ov=function(t){return CX(t).replace(/\./g,"")},RU=function(t){try{return IU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX=()=>IX().__FIREBASE_DEFAULTS__,MX=()=>{if(typeof process>"u"||typeof yk>"u")return;const t=yk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PX=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&RU(t[1]);return e&&JSON.parse(e)},Hb=()=>{try{return RX()||MX()||PX()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MU=t=>{var e,r;return(r=(e=Hb())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},GA=t=>{const e=MU(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},PU=()=>{var t;return(t=Hb())===null||t===void 0?void 0:t.config},DU=t=>{var e;return(e=Hb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ov(JSON.stringify(r)),ov(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function BX(){var t;const e=(t=Hb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UX(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zX(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VX(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $X(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BU(){return!BX()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UU(){try{return typeof indexedDB=="object"}catch{return!1}}function FX(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX="FirebaseError";class zs extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=qX,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zp.prototype.create)}}class Zp{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?HX(a,n):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new zs(i,c,n)}}function HX(t,e){return t.replace(GX,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const GX=/\{\$([^}]+)}/g;function KX(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hm(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(vk(a)&&vk(s)){if(!Hm(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function vk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function WX(t,e){const r=new XX(t,e);return r.subscribe.bind(r)}class XX{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");YX(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Tw),i.error===void 0&&(i.error=Tw),i.complete===void 0&&(i.complete=Tw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YX(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Tw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t){return t&&t._delegate?t._delegate:t}let pl=class{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new DX;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JX(e))try{this.getOrInitializeService({instanceIdentifier:Du})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Du){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Du){return this.instances.has(e)}getOptions(e=Du){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ZX(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Du){return this.component?this.component.multipleInstances?e:Du:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZX(t){return t===Du?void 0:t}function JX(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new QX(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Zt||(Zt={}));const tY={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},rY=Zt.INFO,nY={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},iY=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=nY[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class KA{constructor(e){this.name=e,this._logLevel=rY,this._logHandler=iY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...e),this._logHandler(this,Zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...e),this._logHandler(this,Zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...e),this._logHandler(this,Zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...e),this._logHandler(this,Zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...e),this._logHandler(this,Zt.ERROR,...e)}}const aY=(t,e)=>e.some(r=>t instanceof r);let bk,xk;function sY(){return bk||(bk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oY(){return xk||(xk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zU=new WeakMap,SS=new WeakMap,VU=new WeakMap,Aw=new WeakMap,WA=new WeakMap;function lY(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(Pc(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&zU.set(r,t)}).catch(()=>{}),WA.set(e,t),e}function cY(t){if(SS.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});SS.set(t,e)}let TS={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return SS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VU.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Pc(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uY(t){TS=t(TS)}function dY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Ew(this),e,...r);return VU.set(n,e.sort?e.sort():[e]),Pc(n)}:oY().includes(t)?function(...e){return t.apply(Ew(this),e),Pc(zU.get(this))}:function(...e){return Pc(t.apply(Ew(this),e))}}function hY(t){return typeof t=="function"?dY(t):(t instanceof IDBTransaction&&cY(t),aY(t,sY())?new Proxy(t,TS):t)}function Pc(t){if(t instanceof IDBRequest)return lY(t);if(Aw.has(t))return Aw.get(t);const e=hY(t);return e!==t&&(Aw.set(t,e),WA.set(e,t)),e}const Ew=t=>WA.get(t);function fY(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),c=Pc(s);return n&&s.addEventListener("upgradeneeded",d=>{n(Pc(s.result),d.oldVersion,d.newVersion,Pc(s.transaction),d)}),r&&s.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const mY=["get","getKey","getAll","getAllKeys","count"],pY=["put","add","delete","clear"],Nw=new Map;function wk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nw.get(e))return Nw.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=pY.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||mY.includes(r)))return;const a=async function(s,...c){const d=this.transaction(s,i?"readwrite":"readonly");let f=d.store;return n&&(f=f.index(c.shift())),(await Promise.all([f[r](...c),i&&d.done]))[0]};return Nw.set(e,a),a}uY(t=>({...t,get:(e,r,n)=>wk(e,r)||t.get(e,r,n),has:(e,r)=>!!wk(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(yY(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function yY(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const AS="@firebase/app",_k="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new KA("@firebase/app"),vY="@firebase/app-compat",bY="@firebase/analytics-compat",xY="@firebase/analytics",wY="@firebase/app-check-compat",_Y="@firebase/app-check",SY="@firebase/auth",TY="@firebase/auth-compat",AY="@firebase/database",EY="@firebase/data-connect",NY="@firebase/database-compat",OY="@firebase/functions",kY="@firebase/functions-compat",jY="@firebase/installations",CY="@firebase/installations-compat",IY="@firebase/messaging",RY="@firebase/messaging-compat",MY="@firebase/performance",PY="@firebase/performance-compat",DY="@firebase/remote-config",LY="@firebase/remote-config-compat",BY="@firebase/storage",UY="@firebase/storage-compat",zY="@firebase/firestore",VY="@firebase/vertexai-preview",$Y="@firebase/firestore-compat",FY="firebase",qY="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="[DEFAULT]",HY={[AS]:"fire-core",[vY]:"fire-core-compat",[xY]:"fire-analytics",[bY]:"fire-analytics-compat",[_Y]:"fire-app-check",[wY]:"fire-app-check-compat",[SY]:"fire-auth",[TY]:"fire-auth-compat",[AY]:"fire-rtdb",[EY]:"fire-data-connect",[NY]:"fire-rtdb-compat",[OY]:"fire-fn",[kY]:"fire-fn-compat",[jY]:"fire-iid",[CY]:"fire-iid-compat",[IY]:"fire-fcm",[RY]:"fire-fcm-compat",[MY]:"fire-perf",[PY]:"fire-perf-compat",[DY]:"fire-rc",[LY]:"fire-rc-compat",[BY]:"fire-gcs",[UY]:"fire-gcs-compat",[zY]:"fire-fst",[$Y]:"fire-fst-compat",[VY]:"fire-vertex","fire-js":"fire-js",[FY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=new Map,GY=new Map,NS=new Map;function Sk(t,e){try{t.container.addComponent(e)}catch(r){gl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Vc(t){const e=t.name;if(NS.has(e))return gl.debug(`There were multiple attempts to register component ${e}.`),!1;NS.set(e,t);for(const r of lv.values())Sk(r,t);for(const r of GY.values())Sk(r,t);return!0}function eg(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function el(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dc=new Zp("app","Firebase",KY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=qY;function $U(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:ES,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Dc.create("bad-app-name",{appName:String(i)});if(r||(r=PU()),!r)throw Dc.create("no-options");const a=lv.get(i);if(a){if(Hm(r,a.options)&&Hm(n,a.config))return a;throw Dc.create("duplicate-app",{appName:i})}const s=new eY(i);for(const d of NS.values())s.addComponent(d);const c=new WY(r,n,s);return lv.set(i,c),c}function Gb(t=ES){const e=lv.get(t);if(!e&&t===ES&&PU())return $U();if(!e)throw Dc.create("no-app",{appName:t});return e}function is(t,e,r){var n;let i=(n=HY[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gl.warn(c.join(" "));return}Vc(new pl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY="firebase-heartbeat-database",YY=1,Gm="firebase-heartbeat-store";let Ow=null;function FU(){return Ow||(Ow=fY(XY,YY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gm)}catch(r){console.warn(r)}}}}).catch(t=>{throw Dc.create("idb-open",{originalErrorMessage:t.message})})),Ow}async function QY(t){try{const r=(await FU()).transaction(Gm),n=await r.objectStore(Gm).get(qU(t));return await r.done,n}catch(e){if(e instanceof zs)gl.warn(e.message);else{const r=Dc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gl.warn(r.message)}}}async function Tk(t,e){try{const n=(await FU()).transaction(Gm,"readwrite");await n.objectStore(Gm).put(e,qU(t)),await n.done}catch(r){if(r instanceof zs)gl.warn(r.message);else{const n=Dc.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});gl.warn(n.message)}}}function qU(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZY=1024,JY=720*60*60*1e3;class eQ{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new rQ(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ak();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const c=new Date(s.date).valueOf();return Date.now()-c<=JY}),this._storage.overwrite(this._heartbeatsCache))}catch(n){gl.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Ak(),{heartbeatsToSend:n,unsentEntries:i}=tQ(this._heartbeatsCache.heartbeats),a=ov(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return gl.warn(r),""}}}function Ak(){return new Date().toISOString().substring(0,10)}function tQ(t,e=ZY){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),Ek(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Ek(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class rQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UU()?FX().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await QY(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Tk(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Tk(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ek(t){return ov(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nQ(t){Vc(new pl("platform-logger",e=>new gY(e),"PRIVATE")),Vc(new pl("heartbeat",e=>new eQ(e),"PRIVATE")),is(AS,_k,t),is(AS,_k,"esm2017"),is("fire-js","")}nQ("");var iQ="firebase",aQ="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(iQ,aQ,"app");function XA(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function HU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sQ=HU,GU=new Zp("auth","Firebase",HU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=new KA("@firebase/auth");function oQ(t,...e){cv.logLevel<=Zt.WARN&&cv.warn(`Auth (${N0}): ${t}`,...e)}function $y(t,...e){cv.logLevel<=Zt.ERROR&&cv.error(`Auth (${N0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t,...e){throw QA(t,...e)}function Ps(t,...e){return QA(t,...e)}function YA(t,e,r){const n=Object.assign(Object.assign({},sQ()),{[e]:r});return new Zp("auth","Firebase",n).create(e,{appName:t.name})}function Ju(t){return YA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lQ(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&mo(t,"argument-error"),YA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function QA(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return GU.create(t,...e)}function jt(t,e,...r){if(!t)throw QA(e,...r)}function tl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $y(e),new Error(e)}function yl(t,e){t||tl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cQ(){return Nk()==="http:"||Nk()==="https:"}function Nk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cQ()||zX()||"connection"in navigator)?navigator.onLine:!0}function dQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,r){this.shortDelay=e,this.longDelay=r,yl(r>e,"Short delay should be less than long delay!"),this.isMobile=LX()||VX()}get(){return uQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t,e){yl(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=new tg(3e4,6e4);function JA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Uh(t,e,r,n,i={}){return WU(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const c=Jp(Object.assign({key:t.config.apiKey},s)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},a);return UX()||(f.referrerPolicy="no-referrer"),KU.fetch()(XU(t,t.config.apiHost,r,c),f)})}async function WU(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},hQ),e);try{const i=new pQ(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw iy(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const c=a.ok?s.errorMessage:s.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw iy(t,"credential-already-in-use",s);if(d==="EMAIL_EXISTS")throw iy(t,"email-already-in-use",s);if(d==="USER_DISABLED")throw iy(t,"user-disabled",s);const m=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw YA(t,m,f);mo(t,m)}}catch(i){if(i instanceof zs)throw i;mo(t,"network-request-failed",{message:String(i)})}}async function mQ(t,e,r,n,i={}){const a=await Uh(t,e,r,n,i);return"mfaPendingCredential"in a&&mo(t,"multi-factor-auth-required",{_serverResponse:a}),a}function XU(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?ZA(t.config,i):`${t.config.apiScheme}://${i}`}class pQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ps(this.auth,"network-request-failed")),fQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function iy(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ps(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gQ(t,e){return Uh(t,"POST","/v1/accounts:delete",e)}async function YU(t,e){return Uh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yQ(t,e=!1){const r=Cr(t),n=await r.getIdToken(e),i=e7(n);jt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Em(kw(i.auth_time)),issuedAtTime:Em(kw(i.iat)),expirationTime:Em(kw(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function kw(t){return Number(t)*1e3}function e7(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return $y("JWT malformed, contained fewer than 3 sections"),null;try{const i=RU(r);return i?JSON.parse(i):($y("Failed to decode base64 JWT payload"),null)}catch(i){return $y("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ok(t){const e=e7(t);return jt(e,"internal-error"),jt(typeof e.exp<"u","internal-error"),jt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Km(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof zs&&vQ(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function vQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Em(this.lastLoginAt),this.creationTime=Em(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uv(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Km(t,YU(r,{idToken:n}));jt(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?QU(a.providerUserInfo):[],c=wQ(t.providerData,s),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=d?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new kS(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,p)}async function xQ(t){const e=Cr(t);await uv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wQ(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function QU(t){return t.map(e=>{var{providerId:r}=e,n=XA(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Q(t,e){const r=await WU(t,{},async()=>{const n=Jp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=XU(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",KU.fetch()(s,{method:"POST",headers:c,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function SQ(t,e){return Uh(t,"POST","/v2/accounts:revokeToken",JA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){jt(e.idToken,"internal-error"),jt(typeof e.idToken<"u","internal-error"),jt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ok(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){jt(e.length!==0,"internal-error");const r=Ok(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await _Q(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Fd;return n&&(jt(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(jt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(jt(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fd,this.toJSON())}_performRefresh(){return tl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t,e){jt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rl{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=XA(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new kS(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Km(this,this.stsTokenManager.getToken(this.auth,e));return jt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return yQ(this,e)}reload(){return xQ(this)}_assign(e){this!==e&&(jt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new rl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await uv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(el(this.auth.app))return Promise.reject(Ju(this.auth));const e=await this.getIdToken();return await Km(this,gQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,c,d,f,m;const p=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,b=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,T=(s=r.photoURL)!==null&&s!==void 0?s:void 0,S=(c=r.tenantId)!==null&&c!==void 0?c:void 0,w=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,O=(f=r.createdAt)!==null&&f!==void 0?f:void 0,R=(m=r.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:C,emailVerified:B,isAnonymous:I,providerData:D,stsTokenManager:A}=r;jt(C&&A,e,"internal-error");const k=Fd.fromJSON(this.name,A);jt(typeof C=="string",e,"internal-error"),fc(p,e.name),fc(y,e.name),jt(typeof B=="boolean",e,"internal-error"),jt(typeof I=="boolean",e,"internal-error"),fc(b,e.name),fc(T,e.name),fc(S,e.name),fc(w,e.name),fc(O,e.name),fc(R,e.name);const E=new rl({uid:C,auth:e,email:y,emailVerified:B,displayName:p,isAnonymous:I,photoURL:T,phoneNumber:b,tenantId:S,stsTokenManager:k,createdAt:O,lastLoginAt:R});return D&&Array.isArray(D)&&(E.providerData=D.map(U=>Object.assign({},U))),w&&(E._redirectEventId=w),E}static async _fromIdTokenResponse(e,r,n=!1){const i=new Fd;i.updateFromServerResponse(r);const a=new rl({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await uv(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];jt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?QU(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Fd;c.updateFromIdToken(n);const d=new rl({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new kS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=new Map;function nl(t){yl(t instanceof Function,"Expected a class definition");let e=kk.get(t);return e?(yl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}ZU.type="NONE";const jk=ZU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t,e,r){return`firebase:${t}:${e}:${r}`}class qd{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Fy(this.userKey,i.apiKey,a),this.fullPersistenceKey=Fy("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new qd(nl(jk),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||nl(jk);const s=Fy(n,e.config.apiKey,e.name);let c=null;for(const f of r)try{const m=await f._get(s);if(m){const p=rl._fromJSON(e,m);f!==a&&(c=p),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new qd(a,e,n):(a=d[0],c&&await a._set(s,c.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new qd(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iz(e))return"Blackberry";if(az(e))return"Webos";if(ez(e))return"Safari";if((e.includes("chrome/")||tz(e))&&!e.includes("edge/"))return"Chrome";if(nz(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function JU(t=Gn()){return/firefox\//i.test(t)}function ez(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tz(t=Gn()){return/crios\//i.test(t)}function rz(t=Gn()){return/iemobile/i.test(t)}function nz(t=Gn()){return/android/i.test(t)}function iz(t=Gn()){return/blackberry/i.test(t)}function az(t=Gn()){return/webos/i.test(t)}function t7(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TQ(t=Gn()){var e;return t7(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AQ(){return $X()&&document.documentMode===10}function sz(t=Gn()){return t7(t)||nz(t)||az(t)||iz(t)||/windows phone/i.test(t)||rz(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t,e=[]){let r;switch(t){case"Browser":r=Ck(Gn());break;case"Worker":r=`${Ck(Gn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${N0}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,c)=>{try{const d=e(a);s(d)}catch(d){c(d)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NQ(t,e={}){return Uh(t,"GET","/v2/passwordPolicy",JA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ=6;class kQ{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:OQ,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(s=d.containsNumericCharacter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ik(this),this.idTokenSubscription=new Ik(this),this.beforeStateQueue=new EQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=nl(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await qd.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await YU(this,{idToken:e}),n=await rl._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(el(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!s||s===c)&&(d!=null&&d.user)&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await uv(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(el(this.app))return Promise.reject(Ju(this));const r=e?Cr(e):null;return r&&jt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&jt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return el(this.app)?Promise.reject(Ju(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return el(this.app)?Promise.reject(Ju(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NQ(this),r=new kQ(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zp("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await SQ(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&nl(e)||this._popupRedirectResolver;jt(r,this,"argument-error"),this.redirectPersistenceManager=await qd.create(this,[nl(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(c,this,"internal-error"),c.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,i);return()=>{s=!0,d()}}else{const d=e.addObserver(r);return()=>{s=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&oQ(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Kb(t){return Cr(t)}class Ik{constructor(e){this.auth=e,this.observer=null,this.addObserver=WX(r=>this.observer=r)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r7={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CQ(t){r7=t}function IQ(t){return r7.loadJS(t)}function RQ(){return r7.gapiScript}function MQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PQ(t,e){const r=eg(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Hm(a,e??{}))return i;mo(i,"already-initialized")}return r.initialize({options:e})}function DQ(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(nl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function LQ(t,e,r){const n=Kb(t);jt(n._canInitEmulator,n,"emulator-config-failed"),jt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=lz(e),{host:s,port:c}=BQ(e),d=c===null?"":`:${c}`;n.config.emulator={url:`${a}//${s}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),UQ()}function lz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BQ(t){const e=lz(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:Rk(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:Rk(s)}}}function Rk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UQ(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return tl("not implemented")}_getIdTokenResponse(e){return tl("not implemented")}_linkToIdToken(e,r){return tl("not implemented")}_getReauthenticationResolver(e){return tl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(t,e){return mQ(t,"POST","/v1/accounts:signInWithIdp",JA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ="http://localhost";class a0 extends cz{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new a0(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):mo("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=XA(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new a0(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Hd(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Hd(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Hd(e,r)}buildRequest(){const e={requestUri:zQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Jp(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends n7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends rg{constructor(){super("facebook.com")}static credential(e){return a0._fromParams({providerId:xc.PROVIDER_ID,signInMethod:xc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xc.credentialFromTaggedObject(e)}static credentialFromError(e){return xc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xc.credential(e.oauthAccessToken)}catch{return null}}}xc.FACEBOOK_SIGN_IN_METHOD="facebook.com";xc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends rg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return a0._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Zo.credential(r,n)}catch{return null}}}Zo.GOOGLE_SIGN_IN_METHOD="google.com";Zo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends rg{constructor(){super("github.com")}static credential(e){return a0._fromParams({providerId:wc.PROVIDER_ID,signInMethod:wc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wc.credentialFromTaggedObject(e)}static credentialFromError(e){return wc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wc.credential(e.oauthAccessToken)}catch{return null}}}wc.GITHUB_SIGN_IN_METHOD="github.com";wc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends rg{constructor(){super("twitter.com")}static credential(e,r){return a0._fromParams({providerId:_c.PROVIDER_ID,signInMethod:_c.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return _c.credentialFromTaggedObject(e)}static credentialFromError(e){return _c.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return _c.credential(r,n)}catch{return null}}}_c.TWITTER_SIGN_IN_METHOD="twitter.com";_c.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await rl._fromIdTokenResponse(e,n,i),s=Mk(n);return new eh({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=Mk(n);return new eh({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function Mk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv extends zs{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,dv.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new dv(e,r,n,i)}}function uz(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?dv._fromErrorAndOperation(t,a,e,n):a})}async function VQ(t,e,r=!1){const n=await Km(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return eh._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Q(t,e,r=!1){const{auth:n}=t;if(el(n.app))return Promise.reject(Ju(n));const i="reauthenticate";try{const a=await Km(t,uz(n,i,e,t),r);jt(a.idToken,n,"internal-error");const s=e7(a.idToken);jt(s,n,"internal-error");const{sub:c}=s;return jt(t.uid===c,n,"user-mismatch"),eh._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&mo(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FQ(t,e,r=!1){if(el(t.app))return Promise.reject(Ju(t));const n="signIn",i=await uz(t,n,e),a=await eh._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}function qQ(t,e,r,n){return Cr(t).onIdTokenChanged(e,r,n)}function HQ(t,e,r){return Cr(t).beforeAuthStateChanged(e,r)}function GQ(t,e,r,n){return Cr(t).onAuthStateChanged(e,r,n)}function KQ(t){return Cr(t).signOut()}const hv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(hv,"1"),this.storage.removeItem(hv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ=1e3,XQ=10;class hz extends dz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,c,d)=>{this.notifyListeners(s,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);AQ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XQ):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},WQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}hz.type="LOCAL";const YQ=hz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz extends dz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}fz.type="SESSION";const mz=fz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Wb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(s).map(async f=>f(r.origin,a)),d=await QQ(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((c,d)=>{const f=i7("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(y.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(){return window}function JQ(t){uo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(){return typeof uo().WorkerGlobalScope<"u"&&typeof uo().importScripts=="function"}async function eZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tZ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rZ(){return pz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz="firebaseLocalStorageDb",nZ=1,fv="firebaseLocalStorage",yz="fbase_key";class ng{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Xb(t,e){return t.transaction([fv],e?"readwrite":"readonly").objectStore(fv)}function iZ(){const t=indexedDB.deleteDatabase(gz);return new ng(t).toPromise()}function jS(){const t=indexedDB.open(gz,nZ);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(fv,{keyPath:yz})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(fv)?e(n):(n.close(),await iZ(),e(await jS()))})})}async function Pk(t,e,r){const n=Xb(t,!0).put({[yz]:e,value:r});return new ng(n).toPromise()}async function aZ(t,e){const r=Xb(t,!1).get(e),n=await new ng(r).toPromise();return n===void 0?null:n.value}function Dk(t,e){const r=Xb(t,!0).delete(e);return new ng(r).toPromise()}const sZ=800,oZ=3;class vz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jS(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>oZ)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wb._getInstance(rZ()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await eZ(),!this.activeServiceWorker)return;this.sender=new ZQ(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jS();return await Pk(e,hv,"1"),await Dk(e,hv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pk(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>aZ(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Dk(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Xb(i,!1).getAll();return new ng(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vz.type="LOCAL";const lZ=vz;new tg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t,e){return e?nl(e):(jt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7 extends cz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hd(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Hd(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Hd(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function cZ(t){return FQ(t.auth,new a7(t),t.bypassAuthState)}function uZ(t){const{auth:e,user:r}=t;return jt(r,e,"internal-error"),$Q(r,new a7(t),t.bypassAuthState)}async function dZ(t){const{auth:e,user:r}=t;return jt(r,e,"internal-error"),VQ(r,new a7(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:c}=e;if(s){this.reject(s);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cZ;case"linkViaPopup":case"linkViaRedirect":return dZ;case"reauthViaPopup":case"reauthViaRedirect":return uZ;default:mo(this.auth,"internal-error")}}resolve(e){yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hZ=new tg(2e3,1e4);async function fZ(t,e,r){if(el(t.app))return Promise.reject(Ps(t,"operation-not-supported-in-this-environment"));const n=Kb(t);lQ(t,e,n7);const i=bz(n,r);return new Hu(n,"signInViaPopup",e,i).executeNotNull()}class Hu extends xz{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Hu.currentPopupAction&&Hu.currentPopupAction.cancel(),Hu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return jt(e,this.auth,"internal-error"),e}async onExecution(){yl(this.filter.length===1,"Popup operations only handle one event");const e=i7();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ps(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hZ.get())};e()}}Hu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mZ="pendingRedirect",qy=new Map;class pZ extends xz{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=qy.get(this.auth._key());if(!e){try{const n=await gZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}qy.set(this.auth._key(),e)}return this.bypassAuthState||qy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gZ(t,e){const r=bZ(e),n=vZ(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function yZ(t,e){qy.set(t._key(),e)}function vZ(t){return nl(t._redirectPersistence)}function bZ(t){return Fy(mZ,t.config.apiKey,t.name)}async function xZ(t,e,r=!1){if(el(t.app))return Promise.reject(Ju(t));const n=Kb(t),i=bz(n,e),s=await new pZ(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ=600*1e3;class _Z{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SZ(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!wz(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ps(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lk(e))}saveEventToCache(e){this.cachedEventUids.add(Lk(e)),this.lastProcessedEventTime=Date.now()}}function Lk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wz({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wz(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TZ(t,e={}){return Uh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EZ=/^https?/;async function NZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TZ(t);for(const r of e)try{if(OZ(r))return}catch{}mo(t,"unauthorized-domain")}function OZ(t){const e=OS(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!EZ.test(r))return!1;if(AZ.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZ=new tg(3e4,6e4);function Bk(){const t=uo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function jZ(t){return new Promise((e,r)=>{var n,i,a;function s(){Bk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bk(),r(Ps(t,"network-request-failed"))},timeout:kZ.get()})}if(!((i=(n=uo().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=uo().gapi)===null||a===void 0)&&a.load)s();else{const c=MQ("iframefcb");return uo()[c]=()=>{gapi.load?s():r(Ps(t,"network-request-failed"))},IQ(`${RQ()}?onload=${c}`).catch(d=>r(d))}}).catch(e=>{throw Hy=null,e})}let Hy=null;function CZ(t){return Hy=Hy||jZ(t),Hy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IZ=new tg(5e3,15e3),RZ="__/auth/iframe",MZ="emulator/auth/iframe",PZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LZ(t){const e=t.config;jt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?ZA(e,MZ):`https://${t.config.authDomain}/${RZ}`,n={apiKey:e.apiKey,appName:t.name,v:N0},i=DZ.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Jp(n).slice(1)}`}async function BZ(t){const e=await CZ(t),r=uo().gapi;return jt(r,t,"internal-error"),e.open({where:document.body,url:LZ(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PZ,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=Ps(t,"network-request-failed"),c=uo().setTimeout(()=>{a(s)},IZ.get());function d(){uo().clearTimeout(c),i(n)}n.ping(d).then(d,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zZ=500,VZ=600,$Z="_blank",FZ="http://localhost";class Uk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qZ(t,e,r,n=zZ,i=VZ){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},UZ),{width:n.toString(),height:i.toString(),top:a,left:s}),f=Gn().toLowerCase();r&&(c=tz(f)?$Z:r),JU(f)&&(e=e||FZ,d.scrollbars="yes");const m=Object.entries(d).reduce((y,[b,T])=>`${y}${b}=${T},`,"");if(TQ(f)&&c!=="_self")return HZ(e||"",c),new Uk(null);const p=window.open(e||"",c,m);jt(p,t,"popup-blocked");try{p.focus()}catch{}return new Uk(p)}function HZ(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GZ="__/auth/handler",KZ="emulator/auth/handler",WZ=encodeURIComponent("fac");async function zk(t,e,r,n,i,a){jt(t.config.authDomain,t,"auth-domain-config-required"),jt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:N0,eventId:i};if(e instanceof n7){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",KX(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))s[m]=p}if(e instanceof rg){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(s.scopes=m.join(","))}t.tenantId&&(s.tid=t.tenantId);const c=s;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${WZ}=${encodeURIComponent(d)}`:"";return`${XZ(t)}?${Jp(c).slice(1)}${f}`}function XZ({config:t}){return t.emulator?ZA(t,KZ):`https://${t.authDomain}/${GZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="webStorageSupport";class YZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mz,this._completeRedirectFn=xZ,this._overrideRedirectResult=yZ}async _openPopup(e,r,n,i){var a;yl((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await zk(e,r,n,OS(),i);return qZ(e,s,i7())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await zk(e,r,n,OS(),i);return JQ(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(yl(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await BZ(e),n=new _Z(e);return r.register("authEvent",i=>(jt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(jw,{type:jw},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[jw];s!==void 0&&r(!!s),mo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=NZ(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return sz()||ez()||t7()}}const QZ=YZ;var Vk="@firebase/auth",$k="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eJ(t){Vc(new pl("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=n.options;jt(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oz(t)},f=new jQ(n,i,a,d);return DQ(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Vc(new pl("auth-internal",e=>{const r=Kb(e.getProvider("auth").getImmediate());return(n=>new ZZ(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(Vk,$k,JZ(t)),is(Vk,$k,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tJ=300,rJ=DU("authIdTokenMaxAge")||tJ;let Fk=null;const nJ=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>rJ)return;const i=r==null?void 0:r.token;Fk!==i&&(Fk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _z(t=Gb()){const e=eg(t,"auth");if(e.isInitialized())return e.getImmediate();const r=PQ(t,{popupRedirectResolver:QZ,persistence:[lZ,YQ,mz]}),n=DU("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=nJ(a.toString());HQ(r,s,()=>s(r.currentUser)),qQ(r,c=>s(c))}}const i=MU("auth");return i&&LQ(r,`http://${i}`),r}function iJ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}CQ({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Ps("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",iJ().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eJ("Browser");var qk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e0,Sz;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,k){function E(){}E.prototype=k.prototype,A.D=k.prototype,A.prototype=new E,A.prototype.constructor=A,A.C=function(U,M,$){for(var z=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)z[Y-2]=arguments[Y];return k.prototype[M].apply(U,z)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,k,E){E||(E=0);var U=Array(16);if(typeof k=="string")for(var M=0;16>M;++M)U[M]=k.charCodeAt(E++)|k.charCodeAt(E++)<<8|k.charCodeAt(E++)<<16|k.charCodeAt(E++)<<24;else for(M=0;16>M;++M)U[M]=k[E++]|k[E++]<<8|k[E++]<<16|k[E++]<<24;k=A.g[0],E=A.g[1],M=A.g[2];var $=A.g[3],z=k+($^E&(M^$))+U[0]+3614090360&4294967295;k=E+(z<<7&4294967295|z>>>25),z=$+(M^k&(E^M))+U[1]+3905402710&4294967295,$=k+(z<<12&4294967295|z>>>20),z=M+(E^$&(k^E))+U[2]+606105819&4294967295,M=$+(z<<17&4294967295|z>>>15),z=E+(k^M&($^k))+U[3]+3250441966&4294967295,E=M+(z<<22&4294967295|z>>>10),z=k+($^E&(M^$))+U[4]+4118548399&4294967295,k=E+(z<<7&4294967295|z>>>25),z=$+(M^k&(E^M))+U[5]+1200080426&4294967295,$=k+(z<<12&4294967295|z>>>20),z=M+(E^$&(k^E))+U[6]+2821735955&4294967295,M=$+(z<<17&4294967295|z>>>15),z=E+(k^M&($^k))+U[7]+4249261313&4294967295,E=M+(z<<22&4294967295|z>>>10),z=k+($^E&(M^$))+U[8]+1770035416&4294967295,k=E+(z<<7&4294967295|z>>>25),z=$+(M^k&(E^M))+U[9]+2336552879&4294967295,$=k+(z<<12&4294967295|z>>>20),z=M+(E^$&(k^E))+U[10]+4294925233&4294967295,M=$+(z<<17&4294967295|z>>>15),z=E+(k^M&($^k))+U[11]+2304563134&4294967295,E=M+(z<<22&4294967295|z>>>10),z=k+($^E&(M^$))+U[12]+1804603682&4294967295,k=E+(z<<7&4294967295|z>>>25),z=$+(M^k&(E^M))+U[13]+4254626195&4294967295,$=k+(z<<12&4294967295|z>>>20),z=M+(E^$&(k^E))+U[14]+2792965006&4294967295,M=$+(z<<17&4294967295|z>>>15),z=E+(k^M&($^k))+U[15]+1236535329&4294967295,E=M+(z<<22&4294967295|z>>>10),z=k+(M^$&(E^M))+U[1]+4129170786&4294967295,k=E+(z<<5&4294967295|z>>>27),z=$+(E^M&(k^E))+U[6]+3225465664&4294967295,$=k+(z<<9&4294967295|z>>>23),z=M+(k^E&($^k))+U[11]+643717713&4294967295,M=$+(z<<14&4294967295|z>>>18),z=E+($^k&(M^$))+U[0]+3921069994&4294967295,E=M+(z<<20&4294967295|z>>>12),z=k+(M^$&(E^M))+U[5]+3593408605&4294967295,k=E+(z<<5&4294967295|z>>>27),z=$+(E^M&(k^E))+U[10]+38016083&4294967295,$=k+(z<<9&4294967295|z>>>23),z=M+(k^E&($^k))+U[15]+3634488961&4294967295,M=$+(z<<14&4294967295|z>>>18),z=E+($^k&(M^$))+U[4]+3889429448&4294967295,E=M+(z<<20&4294967295|z>>>12),z=k+(M^$&(E^M))+U[9]+568446438&4294967295,k=E+(z<<5&4294967295|z>>>27),z=$+(E^M&(k^E))+U[14]+3275163606&4294967295,$=k+(z<<9&4294967295|z>>>23),z=M+(k^E&($^k))+U[3]+4107603335&4294967295,M=$+(z<<14&4294967295|z>>>18),z=E+($^k&(M^$))+U[8]+1163531501&4294967295,E=M+(z<<20&4294967295|z>>>12),z=k+(M^$&(E^M))+U[13]+2850285829&4294967295,k=E+(z<<5&4294967295|z>>>27),z=$+(E^M&(k^E))+U[2]+4243563512&4294967295,$=k+(z<<9&4294967295|z>>>23),z=M+(k^E&($^k))+U[7]+1735328473&4294967295,M=$+(z<<14&4294967295|z>>>18),z=E+($^k&(M^$))+U[12]+2368359562&4294967295,E=M+(z<<20&4294967295|z>>>12),z=k+(E^M^$)+U[5]+4294588738&4294967295,k=E+(z<<4&4294967295|z>>>28),z=$+(k^E^M)+U[8]+2272392833&4294967295,$=k+(z<<11&4294967295|z>>>21),z=M+($^k^E)+U[11]+1839030562&4294967295,M=$+(z<<16&4294967295|z>>>16),z=E+(M^$^k)+U[14]+4259657740&4294967295,E=M+(z<<23&4294967295|z>>>9),z=k+(E^M^$)+U[1]+2763975236&4294967295,k=E+(z<<4&4294967295|z>>>28),z=$+(k^E^M)+U[4]+1272893353&4294967295,$=k+(z<<11&4294967295|z>>>21),z=M+($^k^E)+U[7]+4139469664&4294967295,M=$+(z<<16&4294967295|z>>>16),z=E+(M^$^k)+U[10]+3200236656&4294967295,E=M+(z<<23&4294967295|z>>>9),z=k+(E^M^$)+U[13]+681279174&4294967295,k=E+(z<<4&4294967295|z>>>28),z=$+(k^E^M)+U[0]+3936430074&4294967295,$=k+(z<<11&4294967295|z>>>21),z=M+($^k^E)+U[3]+3572445317&4294967295,M=$+(z<<16&4294967295|z>>>16),z=E+(M^$^k)+U[6]+76029189&4294967295,E=M+(z<<23&4294967295|z>>>9),z=k+(E^M^$)+U[9]+3654602809&4294967295,k=E+(z<<4&4294967295|z>>>28),z=$+(k^E^M)+U[12]+3873151461&4294967295,$=k+(z<<11&4294967295|z>>>21),z=M+($^k^E)+U[15]+530742520&4294967295,M=$+(z<<16&4294967295|z>>>16),z=E+(M^$^k)+U[2]+3299628645&4294967295,E=M+(z<<23&4294967295|z>>>9),z=k+(M^(E|~$))+U[0]+4096336452&4294967295,k=E+(z<<6&4294967295|z>>>26),z=$+(E^(k|~M))+U[7]+1126891415&4294967295,$=k+(z<<10&4294967295|z>>>22),z=M+(k^($|~E))+U[14]+2878612391&4294967295,M=$+(z<<15&4294967295|z>>>17),z=E+($^(M|~k))+U[5]+4237533241&4294967295,E=M+(z<<21&4294967295|z>>>11),z=k+(M^(E|~$))+U[12]+1700485571&4294967295,k=E+(z<<6&4294967295|z>>>26),z=$+(E^(k|~M))+U[3]+2399980690&4294967295,$=k+(z<<10&4294967295|z>>>22),z=M+(k^($|~E))+U[10]+4293915773&4294967295,M=$+(z<<15&4294967295|z>>>17),z=E+($^(M|~k))+U[1]+2240044497&4294967295,E=M+(z<<21&4294967295|z>>>11),z=k+(M^(E|~$))+U[8]+1873313359&4294967295,k=E+(z<<6&4294967295|z>>>26),z=$+(E^(k|~M))+U[15]+4264355552&4294967295,$=k+(z<<10&4294967295|z>>>22),z=M+(k^($|~E))+U[6]+2734768916&4294967295,M=$+(z<<15&4294967295|z>>>17),z=E+($^(M|~k))+U[13]+1309151649&4294967295,E=M+(z<<21&4294967295|z>>>11),z=k+(M^(E|~$))+U[4]+4149444226&4294967295,k=E+(z<<6&4294967295|z>>>26),z=$+(E^(k|~M))+U[11]+3174756917&4294967295,$=k+(z<<10&4294967295|z>>>22),z=M+(k^($|~E))+U[2]+718787259&4294967295,M=$+(z<<15&4294967295|z>>>17),z=E+($^(M|~k))+U[9]+3951481745&4294967295,A.g[0]=A.g[0]+k&4294967295,A.g[1]=A.g[1]+(M+(z<<21&4294967295|z>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+$&4294967295}n.prototype.u=function(A,k){k===void 0&&(k=A.length);for(var E=k-this.blockSize,U=this.B,M=this.h,$=0;$<k;){if(M==0)for(;$<=E;)i(this,A,$),$+=this.blockSize;if(typeof A=="string"){for(;$<k;)if(U[M++]=A.charCodeAt($++),M==this.blockSize){i(this,U),M=0;break}}else for(;$<k;)if(U[M++]=A[$++],M==this.blockSize){i(this,U),M=0;break}}this.h=M,this.o+=k},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var k=1;k<A.length-8;++k)A[k]=0;var E=8*this.o;for(k=A.length-8;k<A.length;++k)A[k]=E&255,E/=256;for(this.u(A),A=Array(16),k=E=0;4>k;++k)for(var U=0;32>U;U+=8)A[E++]=this.g[k]>>>U&255;return A};function a(A,k){var E=c;return Object.prototype.hasOwnProperty.call(E,A)?E[A]:E[A]=k(A)}function s(A,k){this.h=k;for(var E=[],U=!0,M=A.length-1;0<=M;M--){var $=A[M]|0;U&&$==k||(E[M]=$,U=!1)}this.g=E}var c={};function d(A){return-128<=A&&128>A?a(A,function(k){return new s([k|0],0>k?-1:0)}):new s([A|0],0>A?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return p;if(0>A)return w(f(-A));for(var k=[],E=1,U=0;A>=E;U++)k[U]=A/E|0,E*=4294967296;return new s(k,0)}function m(A,k){if(A.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A.charAt(0)=="-")return w(m(A.substring(1),k));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=f(Math.pow(k,8)),U=p,M=0;M<A.length;M+=8){var $=Math.min(8,A.length-M),z=parseInt(A.substring(M,M+$),k);8>$?($=f(Math.pow(k,$)),U=U.j($).add(f(z))):(U=U.j(E),U=U.add(f(z)))}return U}var p=d(0),y=d(1),b=d(16777216);t=s.prototype,t.m=function(){if(S(this))return-w(this).m();for(var A=0,k=1,E=0;E<this.g.length;E++){var U=this.i(E);A+=(0<=U?U:4294967296+U)*k,k*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T(this))return"0";if(S(this))return"-"+w(this).toString(A);for(var k=f(Math.pow(A,6)),E=this,U="";;){var M=B(E,k).g;E=O(E,M.j(k));var $=((0<E.g.length?E.g[0]:E.h)>>>0).toString(A);if(E=M,T(E))return $+U;for(;6>$.length;)$="0"+$;U=$+U}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function T(A){if(A.h!=0)return!1;for(var k=0;k<A.g.length;k++)if(A.g[k]!=0)return!1;return!0}function S(A){return A.h==-1}t.l=function(A){return A=O(this,A),S(A)?-1:T(A)?0:1};function w(A){for(var k=A.g.length,E=[],U=0;U<k;U++)E[U]=~A.g[U];return new s(E,~A.h).add(y)}t.abs=function(){return S(this)?w(this):this},t.add=function(A){for(var k=Math.max(this.g.length,A.g.length),E=[],U=0,M=0;M<=k;M++){var $=U+(this.i(M)&65535)+(A.i(M)&65535),z=($>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);U=z>>>16,$&=65535,z&=65535,E[M]=z<<16|$}return new s(E,E[E.length-1]&-2147483648?-1:0)};function O(A,k){return A.add(w(k))}t.j=function(A){if(T(this)||T(A))return p;if(S(this))return S(A)?w(this).j(w(A)):w(w(this).j(A));if(S(A))return w(this.j(w(A)));if(0>this.l(b)&&0>A.l(b))return f(this.m()*A.m());for(var k=this.g.length+A.g.length,E=[],U=0;U<2*k;U++)E[U]=0;for(U=0;U<this.g.length;U++)for(var M=0;M<A.g.length;M++){var $=this.i(U)>>>16,z=this.i(U)&65535,Y=A.i(M)>>>16,te=A.i(M)&65535;E[2*U+2*M]+=z*te,R(E,2*U+2*M),E[2*U+2*M+1]+=$*te,R(E,2*U+2*M+1),E[2*U+2*M+1]+=z*Y,R(E,2*U+2*M+1),E[2*U+2*M+2]+=$*Y,R(E,2*U+2*M+2)}for(U=0;U<k;U++)E[U]=E[2*U+1]<<16|E[2*U];for(U=k;U<2*k;U++)E[U]=0;return new s(E,0)};function R(A,k){for(;(A[k]&65535)!=A[k];)A[k+1]+=A[k]>>>16,A[k]&=65535,k++}function C(A,k){this.g=A,this.h=k}function B(A,k){if(T(k))throw Error("division by zero");if(T(A))return new C(p,p);if(S(A))return k=B(w(A),k),new C(w(k.g),w(k.h));if(S(k))return k=B(A,w(k)),new C(w(k.g),k.h);if(30<A.g.length){if(S(A)||S(k))throw Error("slowDivide_ only works with positive integers.");for(var E=y,U=k;0>=U.l(A);)E=I(E),U=I(U);var M=D(E,1),$=D(U,1);for(U=D(U,2),E=D(E,2);!T(U);){var z=$.add(U);0>=z.l(A)&&(M=M.add(E),$=z),U=D(U,1),E=D(E,1)}return k=O(A,M.j(k)),new C(M,k)}for(M=p;0<=A.l(k);){for(E=Math.max(1,Math.floor(A.m()/k.m())),U=Math.ceil(Math.log(E)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),$=f(E),z=$.j(k);S(z)||0<z.l(A);)E-=U,$=f(E),z=$.j(k);T($)&&($=y),M=M.add($),A=O(A,z)}return new C(M,A)}t.A=function(A){return B(this,A).h},t.and=function(A){for(var k=Math.max(this.g.length,A.g.length),E=[],U=0;U<k;U++)E[U]=this.i(U)&A.i(U);return new s(E,this.h&A.h)},t.or=function(A){for(var k=Math.max(this.g.length,A.g.length),E=[],U=0;U<k;U++)E[U]=this.i(U)|A.i(U);return new s(E,this.h|A.h)},t.xor=function(A){for(var k=Math.max(this.g.length,A.g.length),E=[],U=0;U<k;U++)E[U]=this.i(U)^A.i(U);return new s(E,this.h^A.h)};function I(A){for(var k=A.g.length+1,E=[],U=0;U<k;U++)E[U]=A.i(U)<<1|A.i(U-1)>>>31;return new s(E,A.h)}function D(A,k){var E=k>>5;k%=32;for(var U=A.g.length-E,M=[],$=0;$<U;$++)M[$]=0<k?A.i($+E)>>>k|A.i($+E+1)<<32-k:A.i($+E);return new s(M,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Sz=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=m,e0=s}).apply(typeof qk<"u"?qk:typeof self<"u"?self:typeof window<"u"?window:{});var ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tz,vm,Az,Gy,CS,Ez,Nz,Oz;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,j,V){return v==Array.prototype||v==Object.prototype||(v[j]=V.value),v};function r(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof ay=="object"&&ay];for(var j=0;j<v.length;++j){var V=v[j];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var n=r(this);function i(v,j){if(j)e:{var V=n;v=v.split(".");for(var W=0;W<v.length-1;W++){var ve=v[W];if(!(ve in V))break e;V=V[ve]}v=v[v.length-1],W=V[v],j=j(W),j!=W&&j!=null&&e(V,v,{configurable:!0,writable:!0,value:j})}}function a(v,j){v instanceof String&&(v+="");var V=0,W=!1,ve={next:function(){if(!W&&V<v.length){var Ae=V++;return{value:j(Ae,v[Ae]),done:!1}}return W=!0,{done:!0,value:void 0}}};return ve[Symbol.iterator]=function(){return ve},ve}i("Array.prototype.values",function(v){return v||function(){return a(this,function(j,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},c=this||self;function d(v){var j=typeof v;return j=j!="object"?j:v?Array.isArray(v)?"array":j:"null",j=="array"||j=="object"&&typeof v.length=="number"}function f(v){var j=typeof v;return j=="object"&&v!=null||j=="function"}function m(v,j,V){return v.call.apply(v.bind,arguments)}function p(v,j,V){if(!v)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,W),v.apply(j,ve)}}return function(){return v.apply(j,arguments)}}function y(v,j,V){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:p,y.apply(null,arguments)}function b(v,j){var V=Array.prototype.slice.call(arguments,1);return function(){var W=V.slice();return W.push.apply(W,arguments),v.apply(this,W)}}function T(v,j){function V(){}V.prototype=j.prototype,v.aa=j.prototype,v.prototype=new V,v.prototype.constructor=v,v.Qb=function(W,ve,Ae){for(var Xe=Array(arguments.length-2),pr=2;pr<arguments.length;pr++)Xe[pr-2]=arguments[pr];return j.prototype[ve].apply(W,Xe)}}function S(v){const j=v.length;if(0<j){const V=Array(j);for(let W=0;W<j;W++)V[W]=v[W];return V}return[]}function w(v,j){for(let V=1;V<arguments.length;V++){const W=arguments[V];if(d(W)){const ve=v.length||0,Ae=W.length||0;v.length=ve+Ae;for(let Xe=0;Xe<Ae;Xe++)v[ve+Xe]=W[Xe]}else v.push(W)}}class O{constructor(j,V){this.i=j,this.j=V,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function R(v){return/^[\s\xa0]*$/.test(v)}function C(){var v=c.navigator;return v&&(v=v.userAgent)?v:""}function B(v){return B[" "](v),v}B[" "]=function(){};var I=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function D(v,j,V){for(const W in v)j.call(V,v[W],W,v)}function A(v,j){for(const V in v)j.call(void 0,v[V],V,v)}function k(v){const j={};for(const V in v)j[V]=v[V];return j}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(v,j){let V,W;for(let ve=1;ve<arguments.length;ve++){W=arguments[ve];for(V in W)v[V]=W[V];for(let Ae=0;Ae<E.length;Ae++)V=E[Ae],Object.prototype.hasOwnProperty.call(W,V)&&(v[V]=W[V])}}function M(v){var j=1;v=v.split(":");const V=[];for(;0<j&&v.length;)V.push(v.shift()),j--;return v.length&&V.push(v.join(":")),V}function $(v){c.setTimeout(()=>{throw v},0)}function z(){var v=ye;let j=null;return v.g&&(j=v.g,v.g=v.g.next,v.g||(v.h=null),j.next=null),j}class Y{constructor(){this.h=this.g=null}add(j,V){const W=te.get();W.set(j,V),this.h?this.h.next=W:this.g=W,this.h=W}}var te=new O(()=>new K,v=>v.reset());class K{constructor(){this.next=this.g=this.h=null}set(j,V){this.h=j,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let J,Q=!1,ye=new Y,se=()=>{const v=c.Promise.resolve(void 0);J=()=>{v.then(X)}};var X=()=>{for(var v;v=z();){try{v.h.call(v.g)}catch(V){$(V)}var j=te;j.j(v),100>j.h&&(j.h++,v.next=j.g,j.g=v)}Q=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(v,j){this.type=v,this.g=this.target=j,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Ne=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var v=!1,j=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const V=()=>{};c.addEventListener("test",V,j),c.removeEventListener("test",V,j)}catch{}return v})();function oe(v,j){if(ce.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var V=this.type=v.type,W=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=j,j=v.relatedTarget){if(I){e:{try{B(j.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(j=null)}}else V=="mouseover"?j=v.fromElement:V=="mouseout"&&(j=v.toElement);this.relatedTarget=j,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:Oe[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&oe.aa.h.call(this)}}T(oe,ce);var Oe={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),it=0;function Ee(v,j,V,W,ve){this.listener=v,this.proxy=null,this.src=j,this.type=V,this.capture=!!W,this.ha=ve,this.key=++it,this.da=this.fa=!1}function He(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function he(v){this.src=v,this.g={},this.h=0}he.prototype.add=function(v,j,V,W,ve){var Ae=v.toString();v=this.g[Ae],v||(v=this.g[Ae]=[],this.h++);var Xe=We(v,j,W,ve);return-1<Xe?(j=v[Xe],V||(j.fa=!1)):(j=new Ee(j,this.src,Ae,!!W,ve),j.fa=V,v.push(j)),j};function ge(v,j){var V=j.type;if(V in v.g){var W=v.g[V],ve=Array.prototype.indexOf.call(W,j,void 0),Ae;(Ae=0<=ve)&&Array.prototype.splice.call(W,ve,1),Ae&&(He(j),v.g[V].length==0&&(delete v.g[V],v.h--))}}function We(v,j,V,W){for(var ve=0;ve<v.length;++ve){var Ae=v[ve];if(!Ae.da&&Ae.listener==j&&Ae.capture==!!V&&Ae.ha==W)return ve}return-1}var Ve="closure_lm_"+(1e6*Math.random()|0),nt={};function ct(v,j,V,W,ve){if(Array.isArray(j)){for(var Ae=0;Ae<j.length;Ae++)ct(v,j[Ae],V,W,ve);return null}return V=Pt(V),v&&v[Me]?v.K(j,V,f(W)?!!W.capture:!1,ve):Wt(v,j,V,!1,W,ve)}function Wt(v,j,V,W,ve,Ae){if(!j)throw Error("Invalid event type");var Xe=f(ve)?!!ve.capture:!!ve,pr=Qe(v);if(pr||(v[Ve]=pr=new he(v)),V=pr.add(j,V,W,Xe,Ae),V.proxy)return V;if(W=Ie(),V.proxy=W,W.src=v,W.listener=V,v.addEventListener)Ne||(ve=Xe),ve===void 0&&(ve=!1),v.addEventListener(j.toString(),W,ve);else if(v.attachEvent)v.attachEvent(et(j.toString()),W);else if(v.addListener&&v.removeListener)v.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Ie(){function v(V){return j.call(v.src,v.listener,V)}const j=yt;return v}function ue(v,j,V,W,ve){if(Array.isArray(j))for(var Ae=0;Ae<j.length;Ae++)ue(v,j[Ae],V,W,ve);else W=f(W)?!!W.capture:!!W,V=Pt(V),v&&v[Me]?(v=v.i,j=String(j).toString(),j in v.g&&(Ae=v.g[j],V=We(Ae,V,W,ve),-1<V&&(He(Ae[V]),Array.prototype.splice.call(Ae,V,1),Ae.length==0&&(delete v.g[j],v.h--)))):v&&(v=Qe(v))&&(j=v.g[j.toString()],v=-1,j&&(v=We(j,V,W,ve)),(V=-1<v?j[v]:null)&&ze(V))}function ze(v){if(typeof v!="number"&&v&&!v.da){var j=v.src;if(j&&j[Me])ge(j.i,v);else{var V=v.type,W=v.proxy;j.removeEventListener?j.removeEventListener(V,W,v.capture):j.detachEvent?j.detachEvent(et(V),W):j.addListener&&j.removeListener&&j.removeListener(W),(V=Qe(j))?(ge(V,v),V.h==0&&(V.src=null,j[Ve]=null)):He(v)}}}function et(v){return v in nt?nt[v]:nt[v]="on"+v}function yt(v,j){if(v.da)v=!0;else{j=new oe(j,this);var V=v.listener,W=v.ha||v.src;v.fa&&ze(v),v=V.call(W,j)}return v}function Qe(v){return v=v[Ve],v instanceof he?v:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pt(v){return typeof v=="function"?v:(v[_t]||(v[_t]=function(j){return v.handleEvent(j)}),v[_t])}function Xt(){ee.call(this),this.i=new he(this),this.M=this,this.F=null}T(Xt,ee),Xt.prototype[Me]=!0,Xt.prototype.removeEventListener=function(v,j,V,W){ue(this,v,j,V,W)};function Tt(v,j){var V,W=v.F;if(W)for(V=[];W;W=W.F)V.push(W);if(v=v.M,W=j.type||j,typeof j=="string")j=new ce(j,v);else if(j instanceof ce)j.target=j.target||v;else{var ve=j;j=new ce(W,v),U(j,ve)}if(ve=!0,V)for(var Ae=V.length-1;0<=Ae;Ae--){var Xe=j.g=V[Ae];ve=tr(Xe,W,!0,j)&&ve}if(Xe=j.g=v,ve=tr(Xe,W,!0,j)&&ve,ve=tr(Xe,W,!1,j)&&ve,V)for(Ae=0;Ae<V.length;Ae++)Xe=j.g=V[Ae],ve=tr(Xe,W,!1,j)&&ve}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var v=this.i,j;for(j in v.g){for(var V=v.g[j],W=0;W<V.length;W++)He(V[W]);delete v.g[j],v.h--}}this.F=null},Xt.prototype.K=function(v,j,V,W){return this.i.add(String(v),j,!1,V,W)},Xt.prototype.L=function(v,j,V,W){return this.i.add(String(v),j,!0,V,W)};function tr(v,j,V,W){if(j=v.i.g[String(j)],!j)return!0;j=j.concat();for(var ve=!0,Ae=0;Ae<j.length;++Ae){var Xe=j[Ae];if(Xe&&!Xe.da&&Xe.capture==V){var pr=Xe.listener,On=Xe.ha||Xe.src;Xe.fa&&ge(v.i,Xe),ve=pr.call(On,W)!==!1&&ve}}return ve&&!W.defaultPrevented}function Br(v,j,V){if(typeof v=="function")V&&(v=y(v,V));else if(v&&typeof v.handleEvent=="function")v=y(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:c.setTimeout(v,j||0)}function vr(v){v.g=Br(()=>{v.g=null,v.i&&(v.i=!1,vr(v))},v.l);const j=v.h;v.h=null,v.m.apply(null,j)}class Qi extends ee{constructor(j,V){super(),this.m=j,this.l=V,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:vr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(v){ee.call(this),this.h=v,this.g={}}T(Wr,ee);var Vn=[];function Ir(v){D(v.g,function(j,V){this.g.hasOwnProperty(V)&&ze(j)},v),v.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),Ir(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=c.JSON.stringify,Vt=c.JSON.parse,bn=class{stringify(v){return c.JSON.stringify(v,void 0)}parse(v){return c.JSON.parse(v,void 0)}};function ya(){}ya.prototype.h=null;function Fs(v){return v.h||(v.h=v.i())}function ys(){}var xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function va(){ce.call(this,"d")}T(va,ce);function xi(){ce.call(this,"c")}T(xi,ce);var rr={},Yn=null;function vs(){return Yn=Yn||new Xt}rr.La="serverreachability";function bs(v){ce.call(this,rr.La,v)}T(bs,ce);function wi(v){const j=vs();Tt(j,new bs(j))}rr.STAT_EVENT="statevent";function Zi(v,j){ce.call(this,rr.STAT_EVENT,v),this.stat=j}T(Zi,ce);function tn(v){const j=vs();Tt(j,new Zi(j,v))}rr.Ma="timingevent";function qs(v,j){ce.call(this,rr.Ma,v),this.size=j}T(qs,ce);function _i(v,j){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){v()},j)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function Hs(v,j,V,W,ve,Ae){v.info(function(){if(v.g)if(Ae)for(var Xe="",pr=Ae.split("&"),On=0;On<pr.length;On++){var $t=pr[On].split("=");if(1<$t.length){var Zn=$t[0];$t=$t[1];var Jn=Zn.split("_");Xe=2<=Jn.length&&Jn[1]=="type"?Xe+(Zn+"="+$t+"&"):Xe+(Zn+"=redacted&")}}else Xe=null;else Xe=Ae;return"XMLHTTP REQ ("+W+") [attempt "+ve+"]: "+j+`
`+V+`
`+Xe})}function wn(v,j,V,W,ve,Ae,Xe){v.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+ve+"]: "+j+`
`+V+`
`+Ae+" "+Xe})}function si(v,j,V,W){v.info(function(){return"XMLHTTP TEXT ("+j+"): "+Si(v,V)+(W?" "+W:"")})}function Gs(v,j){v.info(function(){return"TIMEOUT: "+j})}Ri.prototype.info=function(){};function Si(v,j){if(!v.g)return j;if(!j)return null;try{var V=JSON.parse(j);if(V){for(v=0;v<V.length;v++)if(Array.isArray(V[v])){var W=V[v];if(!(2>W.length)){var ve=W[1];if(Array.isArray(ve)&&!(1>ve.length)){var Ae=ve[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(var Xe=1;Xe<ve.length;Xe++)ve[Xe]=""}}}}return vn(V)}catch{return j}}var br={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ur={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rn;function Ji(){}T(Ji,ya),Ji.prototype.g=function(){return new XMLHttpRequest},Ji.prototype.i=function(){return{}},rn=new Ji;function Ti(v,j,V,W){this.j=v,this.i=j,this.l=V,this.R=W||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ks}function Ks(){this.i=null,this.g="",this.h=!1}var xs={},ea={};function ot(v,j,V){v.L=1,v.v=au(ln(j)),v.m=V,v.P=!0,le(v,null)}function le(v,j){v.F=Date.now(),De(v),v.A=ln(v.v);var V=v.A,W=v.R;Array.isArray(W)||(W=[String(W)]),No(V.i,"t",W),v.C=0,V=v.j.J,v.h=new Ks,v.g=Yg(v.j,V?j:null,!v.m),0<v.O&&(v.M=new Qi(y(v.Y,v,v.g),v.O)),j=v.U,V=v.g,W=v.ca;var ve="readystatechange";Array.isArray(ve)||(ve&&(Vn[0]=ve.toString()),ve=Vn);for(var Ae=0;Ae<ve.length;Ae++){var Xe=ct(V,ve[Ae],W||j.handleEvent,!1,j.h||j);if(!Xe)break;j.g[Xe.key]=Xe}j=v.H?k(v.H):{},v.m?(v.u||(v.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,j)):(v.u="GET",v.g.ea(v.A,v.u,null,j)),wi(),Hs(v.i,v.u,v.A,v.l,v.R,v.m)}Ti.prototype.ca=function(v){v=v.target;const j=this.M;j&&Pi(v)==3?j.j():this.Y(v)},Ti.prototype.Y=function(v){try{if(v==this.g)e:{const Jn=Pi(this.g);var j=this.g.Ba();const ql=this.g.Z();if(!(3>Jn)&&(Jn!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||Jn!=4||j==7||(j==8||0>=ql?wi(3):wi(2)),mt(this);var V=this.g.Z();this.X=V;t:if(Z(this)){var W=lu(this.g);v="";var ve=W.length,Ae=Pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),It(this);var Xe="";break t}this.h.i=new c.TextDecoder}for(j=0;j<ve;j++)this.h.h=!0,v+=this.h.i.decode(W[j],{stream:!(Ae&&j==ve-1)});W.length=0,this.h.g+=v,this.C=0,Xe=this.h.g}else Xe=this.g.oa();if(this.o=V==200,wn(this.i,this.u,this.A,this.l,this.R,Jn,V),this.o){if(this.T&&!this.K){t:{if(this.g){var pr,On=this.g;if((pr=On.g?On.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(pr)){var $t=pr;break t}}$t=null}if(V=$t)si(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ht(this,V);else{this.o=!1,this.s=3,tn(12),qt(this),It(this);break e}}if(this.P){V=!0;let ra;for(;!this.J&&this.C<Xe.length;)if(ra=me(this,Xe),ra==ea){Jn==4&&(this.s=4,tn(14),V=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(ra==xs){this.s=4,tn(15),si(this.i,this.l,Xe,"[Invalid Chunk]"),V=!1;break}else si(this.i,this.l,ra,null),Ht(this,ra);if(Z(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jn!=4||Xe.length!=0||this.h.h||(this.s=1,tn(16),V=!1),this.o=this.o&&V,!V)si(this.i,this.l,Xe,"[Invalid Chunked Response]"),qt(this),It(this);else if(0<Xe.length&&!this.W){this.W=!0;var Zn=this.j;Zn.g==this&&Zn.ba&&!Zn.M&&(Zn.j.info("Great, no buffering proxy detected. Bytes received: "+Xe.length),df(Zn),Zn.M=!0,tn(11))}}else si(this.i,this.l,Xe,null),Ht(this,Xe);Jn==4&&qt(this),this.o&&!this.J&&(Jn==4?Kg(this.j,this):(this.o=!1,De(this)))}else Vg(this.g),V==400&&0<Xe.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),qt(this),It(this)}}}catch{}finally{}};function Z(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function me(v,j){var V=v.C,W=j.indexOf(`
`,V);return W==-1?ea:(V=Number(j.substring(V,W)),isNaN(V)?xs:(W+=1,W+V>j.length?ea:(j=j.slice(W,W+V),v.C=W+V,j)))}Ti.prototype.cancel=function(){this.J=!0,qt(this)};function De(v){v.S=Date.now()+v.I,Je(v,v.I)}function Je(v,j){if(v.B!=null)throw Error("WatchDog timer not null");v.B=_i(y(v.ba,v),j)}function mt(v){v.B&&(c.clearTimeout(v.B),v.B=null)}Ti.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(Gs(this.i,this.A),this.L!=2&&(wi(),tn(17)),qt(this),this.s=2,It(this)):Je(this,this.S-v)};function It(v){v.j.G==0||v.J||Kg(v.j,v)}function qt(v){mt(v);var j=v.M;j&&typeof j.ma=="function"&&j.ma(),v.M=null,Ir(v.U),v.g&&(j=v.g,v.g=null,j.abort(),j.ma())}function Ht(v,j){try{var V=v.j;if(V.G!=0&&(V.g==v||Rl(V.h,v))){if(!v.K&&Rl(V.h,v)&&V.G==3){try{var W=V.Da.g.parse(j)}catch{W=null}if(Array.isArray(W)&&W.length==3){var ve=W;if(ve[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<v.F)$l(V),Vl(V);else break e;uf(V),tn(18)}}else V.za=ve[1],0<V.za-V.T&&37500>ve[2]&&V.F&&V.v==0&&!V.C&&(V.C=_i(y(V.Za,V),6e3));if(1>=Pg(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else ko(V,11)}else if((v.K||V.g==v)&&$l(V),!R(j))for(ve=V.Da.g.parse(j),j=0;j<ve.length;j++){let $t=ve[j];if(V.T=$t[0],$t=$t[1],V.G==2)if($t[0]=="c"){V.K=$t[1],V.ia=$t[2];const Zn=$t[3];Zn!=null&&(V.la=Zn,V.j.info("VER="+V.la));const Jn=$t[4];Jn!=null&&(V.Aa=Jn,V.j.info("SVER="+V.Aa));const ql=$t[5];ql!=null&&typeof ql=="number"&&0<ql&&(W=1.5*ql,V.L=W,V.j.info("backChannelRequestTimeoutMs_="+W)),W=V;const ra=v.g;if(ra){const du=ra.g?ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(du){var Ae=W.h;Ae.g||du.indexOf("spdy")==-1&&du.indexOf("quic")==-1&&du.indexOf("h2")==-1||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&(Ml(Ae,Ae.h),Ae.h=null))}if(W.D){const jo=ra.g?ra.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(W.ya=jo,sr(W.I,W.D,jo))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-v.F,V.j.info("Handshake RTT: "+V.R+"ms")),W=V;var Xe=v;if(W.qa=Xg(W,W.J?W.ia:null,W.W),Xe.K){Va(W.h,Xe);var pr=Xe,On=W.L;On&&(pr.I=On),pr.B&&(mt(pr),De(pr)),W.g=Xe}else Hg(W);0<V.i.length&&G0(V)}else $t[0]!="stop"&&$t[0]!="close"||ko(V,7);else V.G==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?ko(V,7):lf(V):$t[0]!="noop"&&V.l&&V.l.ta($t),V.v=0)}}wi(4)}catch{}}var Ws=class{constructor(v,j){this.g=v,this.map=j}};function ws(v){this.l=v||10,c.PerformanceNavigationTiming?(v=c.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function B0(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Pg(v){return v.h?1:v.g?v.g.size:0}function Rl(v,j){return v.h?v.h==j:v.g?v.g.has(j):!1}function Ml(v,j){v.g?v.g.add(j):v.h=j}function Va(v,j){v.h&&v.h==j?v.h=null:v.g&&v.g.has(j)&&v.g.delete(j)}ws.prototype.cancel=function(){if(this.i=Mi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Mi(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let j=v.i;for(const V of v.g.values())j=j.concat(V.D);return j}return S(v.i)}function Dg(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(d(v)){for(var j=[],V=v.length,W=0;W<V;W++)j.push(v[W]);return j}j=[],V=0;for(W in v)j[V++]=v[W];return j}function x2(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(d(v)||typeof v=="string"){var j=[];v=v.length;for(var V=0;V<v;V++)j.push(V);return j}j=[],V=0;for(const W in v)j[V++]=W;return j}}}function U0(v,j){if(v.forEach&&typeof v.forEach=="function")v.forEach(j,void 0);else if(d(v)||typeof v=="string")Array.prototype.forEach.call(v,j,void 0);else for(var V=x2(v),W=Dg(v),ve=W.length,Ae=0;Ae<ve;Ae++)j.call(void 0,W[Ae],V&&V[Ae],v)}var rf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function z0(v,j){if(v){v=v.split("&");for(var V=0;V<v.length;V++){var W=v[V].indexOf("="),ve=null;if(0<=W){var Ae=v[V].substring(0,W);ve=v[V].substring(W+1)}else Ae=v[V];j(Ae,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}function Eo(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Eo){this.h=v.h,Pl(this,v.j),this.o=v.o,this.g=v.g,iu(this,v.s),this.l=v.l;var j=v.i,V=new Xs;V.i=j.i,j.g&&(V.g=new Map(j.g),V.h=j.h),V0(this,V),this.m=v.m}else v&&(j=String(v).match(rf))?(this.h=!1,Pl(this,j[1]||"",!0),this.o=Dl(j[2]||""),this.g=Dl(j[3]||"",!0),iu(this,j[4]),this.l=Dl(j[5]||"",!0),V0(this,j[6]||"",!0),this.m=Dl(j[7]||"")):(this.h=!1,this.i=new Xs(null,this.h))}Eo.prototype.toString=function(){var v=[],j=this.j;j&&v.push($a(j,nf,!0),":");var V=this.g;return(V||j=="file")&&(v.push("//"),(j=this.o)&&v.push($a(j,nf,!0),"@"),v.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&v.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&v.push("/"),v.push($a(V,V.charAt(0)=="/"?af:Lg,!0))),(V=this.i.toString())&&v.push("?",V),(V=this.m)&&v.push("#",$a(V,S2)),v.join("")};function ln(v){return new Eo(v)}function Pl(v,j,V){v.j=V?Dl(j,!0):j,v.j&&(v.j=v.j.replace(/:$/,""))}function iu(v,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);v.s=j}else v.s=null}function V0(v,j,V){j instanceof Xs?(v.i=j,Bg(v.i,v.h)):(V||(j=$a(j,_2)),v.i=new Xs(j,v.h))}function sr(v,j,V){v.i.set(j,V)}function au(v){return sr(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Dl(v,j){return v?j?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function $a(v,j,V){return typeof v=="string"?(v=encodeURI(v).replace(j,w2),V&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function w2(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var nf=/[#\/\?@]/g,Lg=/[#\?:]/g,af=/[#\?]/g,_2=/[#\?@]/g,S2=/#/g;function Xs(v,j){this.h=this.g=null,this.i=v||null,this.j=!!j}function Qn(v){v.g||(v.g=new Map,v.h=0,v.i&&z0(v.i,function(j,V){v.add(decodeURIComponent(j.replace(/\+/g," ")),V)}))}t=Xs.prototype,t.add=function(v,j){Qn(this),this.i=null,v=ba(this,v);var V=this.g.get(v);return V||this.g.set(v,V=[]),V.push(j),this.h+=1,this};function $0(v,j){Qn(v),j=ba(v,j),v.g.has(j)&&(v.i=null,v.h-=v.g.get(j).length,v.g.delete(j))}function F0(v,j){return Qn(v),j=ba(v,j),v.g.has(j)}t.forEach=function(v,j){Qn(this),this.g.forEach(function(V,W){V.forEach(function(ve){v.call(j,ve,W,this)},this)},this)},t.na=function(){Qn(this);const v=Array.from(this.g.values()),j=Array.from(this.g.keys()),V=[];for(let W=0;W<j.length;W++){const ve=v[W];for(let Ae=0;Ae<ve.length;Ae++)V.push(j[W])}return V},t.V=function(v){Qn(this);let j=[];if(typeof v=="string")F0(this,v)&&(j=j.concat(this.g.get(ba(this,v))));else{v=Array.from(this.g.values());for(let V=0;V<v.length;V++)j=j.concat(v[V])}return j},t.set=function(v,j){return Qn(this),this.i=null,v=ba(this,v),F0(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[j]),this.h+=1,this},t.get=function(v,j){return v?(v=this.V(v),0<v.length?String(v[0]):j):j};function No(v,j,V){$0(v,j),0<V.length&&(v.i=null,v.g.set(ba(v,j),S(V)),v.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],j=Array.from(this.g.keys());for(var V=0;V<j.length;V++){var W=j[V];const Ae=encodeURIComponent(String(W)),Xe=this.V(W);for(W=0;W<Xe.length;W++){var ve=Ae;Xe[W]!==""&&(ve+="="+encodeURIComponent(String(Xe[W]))),v.push(ve)}}return this.i=v.join("&")};function ba(v,j){return j=String(j),v.j&&(j=j.toLowerCase()),j}function Bg(v,j){j&&!v.j&&(Qn(v),v.i=null,v.g.forEach(function(V,W){var ve=W.toLowerCase();W!=ve&&($0(this,W),No(this,ve,V))},v)),v.j=j}function sf(v,j){const V=new Ri;if(c.Image){const W=new Image;W.onload=b(ta,V,"TestLoadImage: loaded",!0,j,W),W.onerror=b(ta,V,"TestLoadImage: error",!1,j,W),W.onabort=b(ta,V,"TestLoadImage: abort",!1,j,W),W.ontimeout=b(ta,V,"TestLoadImage: timeout",!1,j,W),c.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=v}else j(!1)}function Ug(v,j){const V=new Ri,W=new AbortController,ve=setTimeout(()=>{W.abort(),ta(V,"TestPingServer: timeout",!1,j)},1e4);fetch(v,{signal:W.signal}).then(Ae=>{clearTimeout(ve),Ae.ok?ta(V,"TestPingServer: ok",!0,j):ta(V,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(ve),ta(V,"TestPingServer: error",!1,j)})}function ta(v,j,V,W,ve){try{ve&&(ve.onload=null,ve.onerror=null,ve.onabort=null,ve.ontimeout=null),W(V)}catch{}}function _s(){this.g=new bn}function of(v,j,V){const W=V||"";try{U0(v,function(ve,Ae){let Xe=ve;f(ve)&&(Xe=vn(ve)),j.push(W+Ae+"="+encodeURIComponent(Xe))})}catch(ve){throw j.push(W+"type="+encodeURIComponent("_badmap")),ve}}function Ys(v){this.l=v.Ub||null,this.j=v.eb||!1}T(Ys,ya),Ys.prototype.g=function(){return new xa(this.l,this.j)},Ys.prototype.i=(function(v){return function(){return v}})({});function xa(v,j){Xt.call(this),this.D=v,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(xa,Xt),t=xa.prototype,t.open=function(v,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=j,this.readyState=1,Ll(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(j.body=v),(this.D||c).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},t.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;q0(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function q0(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}t.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var j=v.value?v.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!v.done}))&&(this.response=this.responseText+=j)}v.done?Qs(this):Ll(this),this.readyState==3&&q0(this)}},t.Ra=function(v){this.g&&(this.response=this.responseText=v,Qs(this))},t.Qa=function(v){this.g&&(this.response=v,Qs(this))},t.ga=function(){this.g&&Qs(this)};function Qs(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Ll(v)}t.setRequestHeader=function(v,j){this.u.append(v,j)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],j=this.h.entries();for(var V=j.next();!V.done;)V=V.value,v.push(V[0]+": "+V[1]),V=j.next();return v.join(`\r
`)};function Ll(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function su(v){let j="";return D(v,function(V,W){j+=W,j+=":",j+=V,j+=`\r
`}),j}function Bl(v,j,V){e:{for(W in V){var W=!1;break e}W=!0}W||(V=su(V),typeof v=="string"?V!=null&&encodeURIComponent(String(V)):sr(v,j,V))}function Fr(v){Xt.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Fr,Xt);var Ai=/^https?$/i,Oo=["POST","PUT"];t=Fr.prototype,t.Ha=function(v){this.J=v},t.ea=function(v,j,V,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);j=j?j.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rn.g(),this.v=this.o?Fs(this.o):Fs(rn),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(j,String(v),!0),this.B=!1}catch(Ae){ou(this,Ae);return}if(v=V||"",V=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var ve in W)V.set(ve,W[ve]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const Ae of W.keys())V.set(Ae,W.get(Ae));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(V.keys()).find(Ae=>Ae.toLowerCase()=="content-type"),ve=c.FormData&&v instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Oo,j,void 0))||W||ve||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,Xe]of V)this.g.setRequestHeader(Ae,Xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{H0(this),this.u=!0,this.g.send(v),this.u=!1}catch(Ae){ou(this,Ae)}};function ou(v,j){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=j,v.m=5,Ul(v),zl(v)}function Ul(v){v.A||(v.A=!0,Tt(v,"complete"),Tt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Tt(this,"complete"),Tt(this,"abort"),zl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zl(this,!0)),Fr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zg(this):this.bb())},t.bb=function(){zg(this)};function zg(v){if(v.h&&typeof s<"u"&&(!v.v[1]||Pi(v)!=4||v.Z()!=2)){if(v.u&&Pi(v)==4)Br(v.Ea,0,v);else if(Tt(v,"readystatechange"),Pi(v)==4){v.h=!1;try{const Xe=v.Z();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var V;if(!(V=j)){var W;if(W=Xe===0){var ve=String(v.D).match(rf)[1]||null;!ve&&c.self&&c.self.location&&(ve=c.self.location.protocol.slice(0,-1)),W=!Ai.test(ve?ve.toLowerCase():"")}V=W}if(V)Tt(v,"complete"),Tt(v,"success");else{v.m=6;try{var Ae=2<Pi(v)?v.g.statusText:""}catch{Ae=""}v.l=Ae+" ["+v.Z()+"]",Ul(v)}}finally{zl(v)}}}}function zl(v,j){if(v.g){H0(v);const V=v.g,W=v.v[0]?()=>{}:null;v.g=null,v.v=null,j||Tt(v,"ready");try{V.onreadystatechange=W}catch{}}}function H0(v){v.I&&(c.clearTimeout(v.I),v.I=null)}t.isActive=function(){return!!this.g};function Pi(v){return v.g?v.g.readyState:0}t.Z=function(){try{return 2<Pi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(v){if(this.g){var j=this.g.responseText;return v&&j.indexOf(v)==0&&(j=j.substring(v.length)),Vt(j)}};function lu(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Vg(v){const j={};v=(v.g&&2<=Pi(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<v.length;W++){if(R(v[W]))continue;var V=M(v[W]);const ve=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const Ae=j[ve]||[];j[ve]=Ae,Ae.push(V)}A(j,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cu(v,j,V){return V&&V.internalChannelParams&&V.internalChannelParams[v]||j}function $g(v){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cu("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cu("baseRetryDelayMs",5e3,v),this.cb=cu("retryDelaySeedMs",1e4,v),this.Wa=cu("forwardChannelMaxRetries",2,v),this.wa=cu("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new ws(v&&v.concurrentRequestLimit),this.Da=new _s,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$g.prototype,t.la=8,t.G=1,t.connect=function(v,j,V,W){tn(0),this.W=v,this.H=j||{},V&&W!==void 0&&(this.H.OSID=V,this.H.OAID=W),this.F=this.X,this.I=Xg(this,null,this.W),G0(this)};function lf(v){if(Fg(v),v.G==3){var j=v.U++,V=ln(v.I);if(sr(V,"SID",v.K),sr(V,"RID",j),sr(V,"TYPE","terminate"),uu(v,V),j=new Ti(v,v.j,j),j.L=2,j.v=au(ln(V)),V=!1,c.navigator&&c.navigator.sendBeacon)try{V=c.navigator.sendBeacon(j.v.toString(),"")}catch{}!V&&c.Image&&(new Image().src=j.v,V=!0),V||(j.g=Yg(j.j,null),j.g.ea(j.v)),j.F=Date.now(),De(j)}hf(v)}function Vl(v){v.g&&(df(v),v.g.cancel(),v.g=null)}function Fg(v){Vl(v),v.u&&(c.clearTimeout(v.u),v.u=null),$l(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&c.clearTimeout(v.s),v.s=null)}function G0(v){if(!B0(v.h)&&!v.s){v.s=!0;var j=v.Ga;J||se(),Q||(J(),Q=!0),ye.add(j,v),v.B=0}}function T2(v,j){return Pg(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=j.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=_i(y(v.Ga,v,j),Wg(v,v.B)),v.B++,!0)}t.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const ve=new Ti(this,this.j,v);let Ae=this.o;if(this.S&&(Ae?(Ae=k(Ae),U(Ae,this.S)):Ae=this.S),this.m!==null||this.O||(ve.H=Ae,Ae=null),this.P)e:{for(var j=0,V=0;V<this.i.length;V++){t:{var W=this.i[V];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(j+=W,4096<j){j=V;break e}if(j===4096||V===this.i.length-1){j=V+1;break e}}j=1e3}else j=1e3;j=cf(this,ve,j),V=ln(this.I),sr(V,"RID",v),sr(V,"CVER",22),this.D&&sr(V,"X-HTTP-Session-Id",this.D),uu(this,V),Ae&&(this.O?j="headers="+encodeURIComponent(String(su(Ae)))+"&"+j:this.m&&Bl(V,this.m,Ae)),Ml(this.h,ve),this.Ua&&sr(V,"TYPE","init"),this.P?(sr(V,"$req",j),sr(V,"SID","null"),ve.T=!0,ot(ve,V,null)):ot(ve,V,j),this.G=2}}else this.G==3&&(v?qg(this,v):this.i.length==0||B0(this.h)||qg(this))};function qg(v,j){var V;j?V=j.l:V=v.U++;const W=ln(v.I);sr(W,"SID",v.K),sr(W,"RID",V),sr(W,"AID",v.T),uu(v,W),v.m&&v.o&&Bl(W,v.m,v.o),V=new Ti(v,v.j,V,v.B+1),v.m===null&&(V.H=v.o),j&&(v.i=j.D.concat(v.i)),j=cf(v,V,1e3),V.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Ml(v.h,V),ot(V,W,j)}function uu(v,j){v.H&&D(v.H,function(V,W){sr(j,W,V)}),v.l&&U0({},function(V,W){sr(j,W,V)})}function cf(v,j,V){V=Math.min(v.i.length,V);var W=v.l?y(v.l.Na,v.l,v):null;e:{var ve=v.i;let Ae=-1;for(;;){const Xe=["count="+V];Ae==-1?0<V?(Ae=ve[0].g,Xe.push("ofs="+Ae)):Ae=0:Xe.push("ofs="+Ae);let pr=!0;for(let On=0;On<V;On++){let $t=ve[On].g;const Zn=ve[On].map;if($t-=Ae,0>$t)Ae=Math.max(0,ve[On].g-100),pr=!1;else try{of(Zn,Xe,"req"+$t+"_")}catch{W&&W(Zn)}}if(pr){W=Xe.join("&");break e}}}return v=v.i.splice(0,V),j.D=v,W}function Hg(v){if(!v.g&&!v.u){v.Y=1;var j=v.Fa;J||se(),Q||(J(),Q=!0),ye.add(j,v),v.v=0}}function uf(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=_i(y(v.Fa,v),Wg(v,v.v)),v.v++,!0)}t.Fa=function(){if(this.u=null,Gg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=_i(y(this.ab,this),v)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tn(10),Vl(this),Gg(this))};function df(v){v.A!=null&&(c.clearTimeout(v.A),v.A=null)}function Gg(v){v.g=new Ti(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var j=ln(v.qa);sr(j,"RID","rpc"),sr(j,"SID",v.K),sr(j,"AID",v.T),sr(j,"CI",v.F?"0":"1"),!v.F&&v.ja&&sr(j,"TO",v.ja),sr(j,"TYPE","xmlhttp"),uu(v,j),v.m&&v.o&&Bl(j,v.m,v.o),v.L&&(v.g.I=v.L);var V=v.g;v=v.ia,V.L=1,V.v=au(ln(j)),V.m=null,V.P=!0,le(V,v)}t.Za=function(){this.C!=null&&(this.C=null,Vl(this),uf(this),tn(19))};function $l(v){v.C!=null&&(c.clearTimeout(v.C),v.C=null)}function Kg(v,j){var V=null;if(v.g==j){$l(v),df(v),v.g=null;var W=2}else if(Rl(v.h,j))V=j.D,Va(v.h,j),W=1;else return;if(v.G!=0){if(j.o)if(W==1){V=j.m?j.m.length:0,j=Date.now()-j.F;var ve=v.B;W=vs(),Tt(W,new qs(W,V)),G0(v)}else Hg(v);else if(ve=j.s,ve==3||ve==0&&0<j.X||!(W==1&&T2(v,j)||W==2&&uf(v)))switch(V&&0<V.length&&(j=v.h,j.i=j.i.concat(V)),ve){case 1:ko(v,5);break;case 4:ko(v,10);break;case 3:ko(v,6);break;default:ko(v,2)}}}function Wg(v,j){let V=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(V*=2),V*j}function ko(v,j){if(v.j.info("Error code "+j),j==2){var V=y(v.fb,v),W=v.Xa;const ve=!W;W=new Eo(W||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Pl(W,"https"),au(W),ve?sf(W.toString(),V):Ug(W.toString(),V)}else tn(2);v.G=0,v.l&&v.l.sa(j),hf(v),Fg(v)}t.fb=function(v){v?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function hf(v){if(v.G=0,v.ka=[],v.l){const j=Mi(v.h);(j.length!=0||v.i.length!=0)&&(w(v.ka,j),w(v.ka,v.i),v.h.i.length=0,S(v.i),v.i.length=0),v.l.ra()}}function Xg(v,j,V){var W=V instanceof Eo?ln(V):new Eo(V);if(W.g!="")j&&(W.g=j+"."+W.g),iu(W,W.s);else{var ve=c.location;W=ve.protocol,j=j?j+"."+ve.hostname:ve.hostname,ve=+ve.port;var Ae=new Eo(null);W&&Pl(Ae,W),j&&(Ae.g=j),ve&&iu(Ae,ve),V&&(Ae.l=V),W=Ae}return V=v.D,j=v.ya,V&&j&&sr(W,V,j),sr(W,"VER",v.la),uu(v,W),W}function Yg(v,j,V){if(j&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=v.Ca&&!v.pa?new Fr(new Ys({eb:V})):new Fr(v.pa),j.Ha(v.J),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qg(){}t=Qg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function K0(){}K0.prototype.g=function(v,j){return new Di(v,j)};function Di(v,j){Xt.call(this),this.g=new $g(j),this.l=v,this.h=j&&j.messageUrlParams||null,v=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(v?v["X-WebChannel-Content-Type"]=j.messageContentType:v={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(v?v["X-WebChannel-Client-Profile"]=j.va:v={"X-WebChannel-Client-Profile":j.va}),this.g.S=v,(v=j&&j.Sb)&&!R(v)&&(this.g.m=v),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!R(j)&&(this.g.D=j,v=this.h,v!==null&&j in v&&(v=this.h,j in v&&delete v[j])),this.j=new Fl(this)}T(Di,Xt),Di.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Di.prototype.close=function(){lf(this.g)},Di.prototype.o=function(v){var j=this.g;if(typeof v=="string"){var V={};V.__data__=v,v=V}else this.u&&(V={},V.__data__=vn(v),v=V);j.i.push(new Ws(j.Ya++,v)),j.G==3&&G0(j)},Di.prototype.N=function(){this.g.l=null,delete this.j,lf(this.g),delete this.g,Di.aa.N.call(this)};function Zg(v){va.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var j=v.__sm__;if(j){e:{for(const V in j){v=V;break e}v=void 0}(this.i=v)&&(v=this.i,j=j!==null&&v in j?j[v]:void 0),this.data=j}else this.data=v}T(Zg,va);function Jg(){xi.call(this),this.status=1}T(Jg,xi);function Fl(v){this.g=v}T(Fl,Qg),Fl.prototype.ua=function(){Tt(this.g,"a")},Fl.prototype.ta=function(v){Tt(this.g,new Zg(v))},Fl.prototype.sa=function(v){Tt(this.g,new Jg)},Fl.prototype.ra=function(){Tt(this.g,"b")},K0.prototype.createWebChannel=K0.prototype.g,Di.prototype.send=Di.prototype.o,Di.prototype.open=Di.prototype.m,Di.prototype.close=Di.prototype.close,Oz=function(){return new K0},Nz=function(){return vs()},Ez=rr,CS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Gy=br,Ur.COMPLETE="complete",Az=Ur,ys.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,vm=ys,Fr.prototype.listenOnce=Fr.prototype.L,Fr.prototype.getLastError=Fr.prototype.Ka,Fr.prototype.getLastErrorCode=Fr.prototype.Ba,Fr.prototype.getStatus=Fr.prototype.Z,Fr.prototype.getResponseJson=Fr.prototype.Oa,Fr.prototype.getResponseText=Fr.prototype.oa,Fr.prototype.send=Fr.prototype.ea,Fr.prototype.setWithCredentials=Fr.prototype.Ha,Tz=Fr}).apply(typeof ay<"u"?ay:typeof self<"u"?self:typeof window<"u"?window:{});const Hk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=new KA("@firebase/firestore");function Id(){return s0.logLevel}function qe(t,...e){if(s0.logLevel<=Zt.DEBUG){const r=e.map(s7);s0.debug(`Firestore (${zh}): ${t}`,...r)}}function Hi(t,...e){if(s0.logLevel<=Zt.ERROR){const r=e.map(s7);s0.error(`Firestore (${zh}): ${t}`,...r)}}function o0(t,...e){if(s0.logLevel<=Zt.WARN){const r=e.map(s7);s0.warn(`Firestore (${zh}): ${t}`,...r)}}function s7(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t="Unexpected state"){const e=`FIRESTORE (${zh}) INTERNAL ASSERTION FAILED: `+t;throw Hi(e),new Error(e)}function ft(t,e){t||dt()}function Ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends zs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(fi.UNAUTHENTICATED)))}shutdown(){}}class sJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class oJ{constructor(e){this.t=e,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ft(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let a=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ds,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ds)}}),0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ft(typeof n.accessToken=="string"),new kz(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string"),new fi(e)}}class lJ{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=fi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cJ{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new lJ(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(fi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uJ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){ft(this.o===void 0);const n=a=>{a.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,qe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(ft(typeof r.token=="string"),this.R=r.token,new uJ(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=hJ(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Rt(t,e){return t<e?-1:t>e?1:0}function th(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}function Cz(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ke(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ke(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ke(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new on(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pt(e)}static min(){return new pt(new on(0,0))}static max(){return new pt(new on(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,r,n){r===void 0?r=0:r>e.length&&dt(),n===void 0?n=e.length-r:n>e.length-r&&dt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Wm.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Wm?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class cr extends Wm{construct(e,r,n){return new cr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ke(ke.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new cr(r)}static emptyPath(){return new cr([])}}const fJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Wm{construct(e,r,n){return new sn(e,r,n)}static isValidIdentifier(e){return fJ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ke(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ke(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ke(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(n+=c,i++):(a(),i++)}if(a(),s)throw new Ke(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(r)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.path=e}static fromPath(e){return new tt(cr.fromString(e))}static fromName(e){return new tt(cr.fromString(e).popFirst(5))}static empty(){return new tt(cr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&cr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return cr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new cr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function IS(t){return t.fields.find((e=>e.kind===2))}function Lu(t){return t.fields.filter((e=>e.kind!==2))}mv.UNKNOWN_ID=-1;class Ky{constructor(e,r){this.fieldPath=e,this.kind=r}}class Xm{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Xm(0,Ua.min())}}function mJ(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=pt.fromTimestamp(n===1e9?new on(r+1,0):new on(r,n));return new Ua(i,tt.empty(),e)}function Iz(t){return new Ua(t.readTime,t.key,-1)}class Ua{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ua(pt.min(),tt.empty(),-1)}static max(){return new Ua(pt.max(),tt.empty(),-1)}}function o7(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=tt.comparator(t.documentKey,e.documentKey),r!==0?r:Rt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O0(t){if(t.code!==ke.FAILED_PRECONDITION||t.message!==Rz)throw t;qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new _e(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof _e?r:_e.resolve(r)}catch(r){return _e.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):_e.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):_e.reject(r)}static resolve(e){return new _e(((r,n)=>{r(e)}))}static reject(e){return new _e(((r,n)=>{n(e)}))}static waitFor(e){return new _e(((r,n)=>{let i=0,a=0,s=!1;e.forEach((c=>{++i,c.next((()=>{++a,s&&a===i&&r()}),(d=>n(d)))})),s=!0,a===i&&r()}))}static or(e){let r=_e.resolve(!1);for(const n of e)r=r.next((i=>i?_e.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new _e(((n,i)=>{const a=e.length,s=new Array(a);let c=0;for(let d=0;d<a;d++){const f=d;r(e[f]).next((m=>{s[f]=m,++c,c===a&&n(s)}),(m=>i(m)))}}))}static doWhile(e,r){return new _e(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ds,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Nm(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=l7(n.target.error);this.V.reject(new Nm(e,i))}}static open(e,r,n,i){try{return new Yb(r,e.transaction(i,n))}catch(a){throw new Nm(r,a)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(qe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new gJ(r)}}class Lc{constructor(e,r,n){this.name=e,this.version=r,this.p=n,Lc.S(Gn())===12.2&&Hi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return qe("SimpleDb","Removing database:",e),zu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!UU())return!1;if(Lc.v())return!0;const e=Gn(),r=Lc.S(e),n=0<r&&r<10,i=Pz(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||a)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(qe("SimpleDb","Opening database:",this.name),this.db=await new Promise(((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const s=a.target.result;r(s)},i.onblocked=()=>{n(new Nm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const s=a.target.error;s.name==="VersionError"?n(new Ke(ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?n(new Ke(ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):n(new Nm(e,s))},i.onupgradeneeded=a=>{qe("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const s=a.target.result;this.p.O(s,i.transaction,a.oldVersion,this.version).next((()=>{qe("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const a=r==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const c=Yb.open(this.db,e,a?"readonly":"readwrite",n),d=i(c).next((f=>(c.g(),f))).catch((f=>(c.abort(f),_e.reject(f)))).toPromise();return d.catch((()=>{})),await c.m,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&s<3;if(qe("SimpleDb","Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Pz(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class pJ{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return zu(this.B.delete())}}class Nm extends Ke{constructor(e,r){super(ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Xc(t){return t.name==="IndexedDbTransactionError"}class gJ{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(qe("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(qe("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zu(n)}add(e){return qe("SimpleDb","ADD",this.store.name,e,e),zu(this.store.add(e))}get(e){return zu(this.store.get(e)).next((r=>(r===void 0&&(r=null),qe("SimpleDb","GET",this.store.name,e,r),r)))}delete(e){return qe("SimpleDb","DELETE",this.store.name,e),zu(this.store.delete(e))}count(){return qe("SimpleDb","COUNT",this.store.name),zu(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(n.range);return new _e(((s,c)=>{a.onerror=d=>{c(d.target.error)},a.onsuccess=d=>{s(d.target.result)}}))}{const a=this.cursor(n),s=[];return this.W(a,((c,d)=>{s.push(d)})).next((()=>s))}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new _e(((i,a)=>{n.onerror=s=>{a(s.target.error)},n.onsuccess=s=>{i(s.target.result)}}))}j(e,r){qe("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,((a,s,c)=>c.delete()))}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new _e(((n,i)=>{r.onerror=a=>{const s=l7(a.target.error);i(s)},r.onsuccess=a=>{const s=a.target.result;s?e(s.primaryKey,s.value).next((c=>{c?s.continue():n()})):n()}}))}W(e,r){const n=[];return new _e(((i,a)=>{e.onerror=s=>{a(s.target.error)},e.onsuccess=s=>{const c=s.target.result;if(!c)return void i();const d=new pJ(c),f=r(c.primaryKey,c.value,d);if(f instanceof _e){const m=f.catch((p=>(d.done(),_e.reject(p))));n.push(m)}d.isDone?i():d.K===null?c.continue():c.continue(d.K)}})).next((()=>_e.waitFor(n)))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function zu(t){return new _e(((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=l7(n.target.error);r(i)}}))}let Gk=!1;function l7(t){const e=Lc.S(Gn());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new Ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Gk||(Gk=!0,setTimeout((()=>{throw n}),0)),n}}return t}class yJ{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){qe("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{qe("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){Xc(r)?qe("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await O0(r)}await this.X(6e4)}))}}class vJ{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(r=>this.te(r,e)))}te(e,r){const n=new Set;let i=r,a=!0;return _e.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((s=>{if(s!==null&&!n.has(s))return qe("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next((c=>{i-=c,n.add(s)}));a=!1})))).next((()=>r-i))}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next((i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next((a=>{const s=a.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next((()=>this.re(i,a))).next((c=>(qe("IndexBackfiller",`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,r,c)))).next((()=>s.size))}))))}re(e,r){let n=e;return r.changes.forEach(((i,a)=>{const s=Iz(a);o7(s,n)>0&&(n=s)})),new Ua(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ts.oe=-1;function ig(t){return t==null}function Ym(t){return t===0&&1/t==-1/0}function bJ(t){return typeof t=="number"&&Number.isInteger(t)&&!Ym(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=Kk(e)),e=xJ(t.get(r),e);return Kk(e)}function xJ(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case"":r+="";break;default:r+=a}}return r}function Kk(t){return t+""}function io(t){const e=t.length;if(ft(e>=2),e===2)return ft(t.charAt(0)===""&&t.charAt(1)===""),cr.emptyPath();const r=e-2,n=[];let i="";for(let a=0;a<e;){const s=t.indexOf("",a);switch((s<0||s>r)&&dt(),t.charAt(s+1)){case"":const c=t.substring(a,s);let d;i.length===0?d=c:(i+=c,d=i,i=""),n.push(d);break;case"":i+=t.substring(a,s),i+="\0";break;case"":i+=t.substring(a,s+1);break;default:dt()}a=s+2}return new cr(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t,e){return[t,Wi(e)]}function Dz(t,e,r){return[t,Wi(e),r]}const wJ={},_J=["prefixPath","collectionGroup","readTime","documentId"],SJ=["prefixPath","collectionGroup","documentId"],TJ=["collectionGroup","readTime","prefixPath","documentId"],AJ=["canonicalId","targetId"],EJ=["targetId","path"],NJ=["path","targetId"],OJ=["collectionId","parent"],kJ=["indexId","uid"],jJ=["uid","sequenceNumber"],CJ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],IJ=["indexId","uid","orderedDocumentKey"],RJ=["userId","collectionPath","documentId"],MJ=["userId","collectionPath","largestBatchId"],PJ=["userId","collectionGroup","largestBatchId"],Lz=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],DJ=[...Lz,"documentOverlays"],Bz=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Uz=Bz,c7=[...Uz,"indexConfiguration","indexState","indexEntries"],LJ=c7,BJ=[...c7,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends Mz{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Wn(t,e){const r=Ot(t);return Lc.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function k0(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function zz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,r){this.comparator=e,this.root=r||mi.EMPTY}insert(e,r){return new Jr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,mi.BLACK,null,null))}remove(e){return new Jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sy(this.root,e,this.comparator,!1)}getReverseIterator(){return new sy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sy(this.root,e,this.comparator,!0)}}class sy{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mi{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??mi.RED,this.left=i??mi.EMPTY,this.right=a??mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new mi(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return mi.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}mi.EMPTY=null,mi.RED=!0,mi.BLACK=!1;mi.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(e,r,n,i,a){return this}insert(e,r,n){return new mi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.comparator=e,this.data=new Jr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Yk(this.data.getIterator())}getIteratorFrom(e){return new Yk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new jr(this.comparator);return r.data=e,r}}class Yk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _d(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new fa([])}unionWith(e){let r=new jr(sn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new fa(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return th(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Vz("Invalid base64 string: "+a):a}})(e);return new Un(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Un(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const UJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vl(t){if(ft(!!t),typeof t=="string"){let e=0;const r=UJ.exec(t);if(ft(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Yr(t.seconds),nanos:Yr(t.nanos)}}function Yr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $c(t){return typeof t=="string"?Un.fromBase64String(t):Un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function d7(t){const e=t.mapValue.fields.__previous_value__;return u7(e)?d7(e):e}function Qm(t){const e=vl(t.mapValue.fields.__local_write_time__.timestampValue);return new on(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(e,r,n,i,a,s,c,d,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f}}class l0{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new l0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof l0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xy={nullValue:"NULL_VALUE"};function c0(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u7(t)?4:$z(t)?9007199254740991:Qb(t)?10:11:dt()}function po(t,e){if(t===e)return!0;const r=c0(t);if(r!==c0(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qm(t).isEqual(Qm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=vl(i.timestampValue),c=vl(a.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return $c(i.bytesValue).isEqual($c(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Yr(i.geoPointValue.latitude)===Yr(a.geoPointValue.latitude)&&Yr(i.geoPointValue.longitude)===Yr(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Yr(i.integerValue)===Yr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Yr(i.doubleValue),c=Yr(a.doubleValue);return s===c?Ym(s)===Ym(c):isNaN(s)&&isNaN(c)}return!1})(t,e);case 9:return th(t.arrayValue.values||[],e.arrayValue.values||[],po);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},c=a.mapValue.fields||{};if(Xk(s)!==Xk(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(c[d]===void 0||!po(s[d],c[d])))return!1;return!0})(t,e);default:return dt()}}function Zm(t,e){return(t.values||[]).find((r=>po(r,e)))!==void 0}function Fc(t,e){if(t===e)return 0;const r=c0(t),n=c0(e);if(r!==n)return Rt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Rt(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const c=Yr(a.integerValue||a.doubleValue),d=Yr(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return Qk(t.timestampValue,e.timestampValue);case 4:return Qk(Qm(t),Qm(e));case 5:return Rt(t.stringValue,e.stringValue);case 6:return(function(a,s){const c=$c(a),d=$c(s);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const c=a.split("/"),d=s.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=Rt(c[f],d[f]);if(m!==0)return m}return Rt(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const c=Rt(Yr(a.latitude),Yr(s.latitude));return c!==0?c:Rt(Yr(a.longitude),Yr(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Zk(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var c,d,f,m;const p=a.fields||{},y=s.fields||{},b=(c=p.value)===null||c===void 0?void 0:c.arrayValue,T=(d=y.value)===null||d===void 0?void 0:d.arrayValue,S=Rt(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0);return S!==0?S:Zk(b,T)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===Nc.mapValue&&s===Nc.mapValue)return 0;if(a===Nc.mapValue)return 1;if(s===Nc.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),f=s.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let p=0;p<d.length&&p<m.length;++p){const y=Rt(d[p],m[p]);if(y!==0)return y;const b=Fc(c[d[p]],f[m[p]]);if(b!==0)return b}return Rt(d.length,m.length)})(t.mapValue,e.mapValue);default:throw dt()}}function Qk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Rt(t,e);const r=vl(t),n=vl(e),i=Rt(r.seconds,n.seconds);return i!==0?i:Rt(r.nanos,n.nanos)}function Zk(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Fc(r[i],n[i]);if(a)return a}return Rt(r.length,n.length)}function rh(t){return MS(t)}function MS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=vl(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return $c(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return tt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=MS(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${MS(r.fields[s])}`;return i+"}"})(t.mapValue):dt()}function Jm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function PS(t){return!!t&&"integerValue"in t}function ep(t){return!!t&&"arrayValue"in t}function Jk(t){return!!t&&"nullValue"in t}function ej(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yy(t){return!!t&&"mapValue"in t}function Qb(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Om(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return k0(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Om(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Om(t.arrayValue.values[r]);return e}return Object.assign({},t)}function $z(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const Fz={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function VJ(t){return"nullValue"in t?Xy:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Jm(l0.empty(),tt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Qb(t)?Fz:{mapValue:{}}:dt()}function $J(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Jm(l0.empty(),tt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?Fz:"mapValue"in t?Qb(t)?{mapValue:{}}:Nc:dt()}function tj(t,e){const r=Fc(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function rj(t,e){const r=Fc(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.value=e}static empty(){return new yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Yy(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Om(r)}setAll(e){let r=sn.emptyPath(),n={},i=[];e.forEach(((s,c)=>{if(!r.isImmediateParentOf(c)){const d=this.getFieldsMap(r);this.applyChanges(d,n,i),n={},i=[],r=c.popLast()}s?n[c.lastSegment()]=Om(s):i.push(c.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Yy(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return po(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Yy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){k0(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new yi(Om(this.value))}}function qz(t){const e=[];return k0(t.fields,((r,n)=>{const i=new sn([r]);if(Yy(n)){const a=qz(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new fa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,r,n,i,a,s,c){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=c}static newInvalidDocument(e){return new Qr(e,0,pt.min(),pt.min(),pt.min(),yi.empty(),0)}static newFoundDocument(e,r,n,i){return new Qr(e,1,r,pt.min(),n,i,0)}static newNoDocument(e,r){return new Qr(e,2,r,pt.min(),pt.min(),yi.empty(),0)}static newUnknownDocument(e,r){return new Qr(e,3,r,pt.min(),pt.min(),yi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,r){this.position=e,this.inclusive=r}}function nj(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=tt.comparator(tt.fromName(s.referenceValue),r.key):n=Fc(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function ij(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!po(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,r="asc"){this.field=e,this.dir=r}}function FJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hz=class{};class Jt extends Hz{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new qJ(e,r,n):r==="array-contains"?new KJ(e,n):r==="in"?new Qz(e,n):r==="not-in"?new WJ(e,n):r==="array-contains-any"?new XJ(e,n):new Jt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new HJ(e,n):new GJ(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Fc(r,this.value)):r!==null&&c0(this.value)===c0(r)&&this.matchesComparison(Fc(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends Hz{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new _r(e,r)}matches(e){return ih(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ih(t){return t.op==="and"}function DS(t){return t.op==="or"}function h7(t){return Gz(t)&&ih(t)}function Gz(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function LS(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+rh(t.value);if(h7(t))return t.filters.map((e=>LS(e))).join(",");{const e=t.filters.map((r=>LS(r))).join(",");return`${t.op}(${e})`}}function Kz(t,e){return t instanceof Jt?(function(n,i){return i instanceof Jt&&n.op===i.op&&n.field.isEqual(i.field)&&po(n.value,i.value)})(t,e):t instanceof _r?(function(n,i){return i instanceof _r&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,s,c)=>a&&Kz(s,i.filters[c])),!0):!1})(t,e):void dt()}function Wz(t,e){const r=t.filters.concat(e);return _r.create(r,t.op)}function Xz(t){return t instanceof Jt?(function(r){return`${r.field.canonicalString()} ${r.op} ${rh(r.value)}`})(t):t instanceof _r?(function(r){return r.op.toString()+" {"+r.getFilters().map(Xz).join(" ,")+"}"})(t):"Filter"}class qJ extends Jt{constructor(e,r,n){super(e,r,n),this.key=tt.fromName(n.referenceValue)}matches(e){const r=tt.comparator(e.key,this.key);return this.matchesComparison(r)}}class HJ extends Jt{constructor(e,r){super(e,"in",r),this.keys=Yz("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class GJ extends Jt{constructor(e,r){super(e,"not-in",r),this.keys=Yz("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function Yz(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>tt.fromName(n.referenceValue)))}class KJ extends Jt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ep(r)&&Zm(r.arrayValue,this.value)}}class Qz extends Jt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Zm(this.value.arrayValue,r)}}class WJ extends Jt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Zm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Zm(this.value.arrayValue,r)}}class XJ extends Jt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ep(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Zm(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(e,r=null,n=[],i=[],a=null,s=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=c,this.ue=null}}function BS(t,e=null,r=[],n=[],i=null,a=null,s=null){return new YJ(t,e,r,n,i,a,s)}function u0(t){const e=Ot(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>LS(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),ig(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>rh(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>rh(n))).join(",")),e.ue=r}return e.ue}function ag(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!FJ(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Kz(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ij(t.startAt,e.startAt)&&ij(t.endAt,e.endAt)}function pv(t){return tt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function gv(t,e){return t.filters.filter((r=>r instanceof Jt&&r.field.isEqual(e)))}function aj(t,e,r){let n=Xy,i=!0;for(const a of gv(t,e)){let s=Xy,c=!0;switch(a.op){case"<":case"<=":s=VJ(a.value);break;case"==":case"in":case">=":s=a.value;break;case">":s=a.value,c=!1;break;case"!=":case"not-in":s=Xy}tj({value:n,inclusive:i},{value:s,inclusive:c})<0&&(n=s,i=c)}if(r!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=r.position[a];tj({value:n,inclusive:i},{value:s,inclusive:r.inclusive})<0&&(n=s,i=r.inclusive);break}}return{value:n,inclusive:i}}function sj(t,e,r){let n=Nc,i=!0;for(const a of gv(t,e)){let s=Nc,c=!0;switch(a.op){case">=":case">":s=$J(a.value),c=!1;break;case"==":case"in":case"<=":s=a.value;break;case"<":s=a.value,c=!1;break;case"!=":case"not-in":s=Nc}rj({value:n,inclusive:i},{value:s,inclusive:c})>0&&(n=s,i=c)}if(r!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=r.position[a];rj({value:n,inclusive:i},{value:s,inclusive:r.inclusive})>0&&(n=s,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,r=null,n=[],i=[],a=null,s="F",c=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function QJ(t,e,r,n,i,a,s,c){return new Vh(t,e,r,n,i,a,s,c)}function sg(t){return new Vh(t)}function oj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zz(t){return t.collectionGroup!==null}function km(t){const e=Ot(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new jr(sn.comparator);return s.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new tp(a,n))})),r.has(sn.keyField().canonicalString())||e.ce.push(new tp(sn.keyField(),n))}return e.ce}function as(t){const e=Ot(t);return e.le||(e.le=ZJ(e,km(t))),e.le}function ZJ(t,e){if(t.limitType==="F")return BS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new tp(i.field,a)}));const r=t.endAt?new nh(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new nh(t.startAt.position,t.startAt.inclusive):null;return BS(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function US(t,e){const r=t.filters.concat([e]);return new Vh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function yv(t,e,r){return new Vh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Zb(t,e){return ag(as(t),as(e))&&t.limitType===e.limitType}function Jz(t){return`${u0(as(t))}|lt:${t.limitType}`}function Rd(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>Xz(i))).join(", ")}]`),ig(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>rh(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>rh(i))).join(",")),`Target(${n})`})(as(t))}; limitType=${t.limitType})`}function og(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):tt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of km(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(s,c,d){const f=nj(s,c,d);return s.inclusive?f<=0:f<0})(n.startAt,km(n),i)||n.endAt&&!(function(s,c,d){const f=nj(s,c,d);return s.inclusive?f>=0:f>0})(n.endAt,km(n),i))})(t,e)}function JJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eV(t){return(e,r)=>{let n=!1;for(const i of km(t)){const a=eee(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function eee(t,e,r){const n=t.field.isKeyField()?tt.comparator(e.key,r.key):(function(a,s,c){const d=s.data.field(a),f=c.data.field(a);return d!==null&&f!==null?Fc(d,f):dt()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){k0(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return zz(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tee=new Jr(tt.comparator);function Ra(){return tee}const tV=new Jr(tt.comparator);function bm(...t){let e=tV;for(const r of t)e=e.insert(r.key,r);return e}function rV(t){let e=tV;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function ao(){return jm()}function nV(){return jm()}function jm(){return new Yc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ree=new Jr(tt.comparator),nee=new jr(tt.comparator);function Ft(...t){let e=nee;for(const r of t)e=e.add(r);return e}const iee=new jr(Rt);function aee(){return iee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ym(e)?"-0":e}}function iV(t){return{integerValue:""+t}}function see(t,e){return bJ(e)?iV(e):f7(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this._=void 0}}function oee(t,e,r){return t instanceof rp?(function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&u7(a)&&(a=d7(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}})(r,e):t instanceof d0?sV(t,e):t instanceof ah?oV(t,e):(function(i,a){const s=aV(i,a),c=lj(s)+lj(i.Pe);return PS(s)&&PS(i.Pe)?iV(c):f7(i.serializer,c)})(t,e)}function lee(t,e,r){return t instanceof d0?sV(t,e):t instanceof ah?oV(t,e):r}function aV(t,e){return t instanceof np?(function(n){return PS(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class rp extends Jb{}class d0 extends Jb{constructor(e){super(),this.elements=e}}function sV(t,e){const r=lV(e);for(const n of t.elements)r.some((i=>po(i,n)))||r.push(n);return{arrayValue:{values:r}}}class ah extends Jb{constructor(e){super(),this.elements=e}}function oV(t,e){let r=lV(e);for(const n of t.elements)r=r.filter((i=>!po(i,n)));return{arrayValue:{values:r}}}class np extends Jb{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function lj(t){return Yr(t.integerValue||t.doubleValue)}function lV(t){return ep(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,r){this.field=e,this.transform=r}}function cee(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof d0&&i instanceof d0||n instanceof ah&&i instanceof ah?th(n.elements,i.elements,po):n instanceof np&&i instanceof np?po(n.Pe,i.Pe):n instanceof rp&&i instanceof rp})(t.transform,e.transform)}class uee{constructor(e,r){this.version=e,this.transformResults=r}}class An{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ex{}function uV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lg(t.key,An.none()):new $h(t.key,t.data,An.none());{const r=t.data,n=yi.empty();let i=new jr(sn.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Nl(t.key,n,new fa(i.toArray()),An.none())}}function dee(t,e,r){t instanceof $h?(function(i,a,s){const c=i.value.clone(),d=uj(i.fieldTransforms,a,s.transformResults);c.setAll(d),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,r):t instanceof Nl?(function(i,a,s){if(!Qy(i.precondition,a))return void a.convertToUnknownDocument(s.version);const c=uj(i.fieldTransforms,a,s.transformResults),d=a.data;d.setAll(dV(i)),d.setAll(c),a.convertToFoundDocument(s.version,d).setHasCommittedMutations()})(t,e,r):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,r)}function Cm(t,e,r,n){return t instanceof $h?(function(a,s,c,d){if(!Qy(a.precondition,s))return c;const f=a.value.clone(),m=dj(a.fieldTransforms,d,s);return f.setAll(m),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,r,n):t instanceof Nl?(function(a,s,c,d){if(!Qy(a.precondition,s))return c;const f=dj(a.fieldTransforms,d,s),m=s.data;return m.setAll(dV(a)),m.setAll(f),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(a,s,c){return Qy(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(t,e,r)}function hee(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=aV(n.transform,i||null);a!=null&&(r===null&&(r=yi.empty()),r.set(n.field,a))}return r||null}function cj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&th(n,i,((a,s)=>cee(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $h extends ex{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Nl extends ex{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function dV(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function uj(t,e,r){const n=new Map;ft(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,c=e.data.field(a.field);n.set(a.field,lee(s,c,r[i]))}return n}function dj(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,oee(a,s,e))}return n}class lg extends ex{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m7 extends ex{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&dee(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Cm(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Cm(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=nV();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let c=this.applyToLocalView(s,a.mutatedFields);c=r.has(i.key)?null:c;const d=uV(s,c);d!==null&&n.set(i.key,d),s.isValidDocument()||s.convertToNoDocument(pt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Ft())}isEqual(e){return this.batchId===e.batchId&&th(this.mutations,e.mutations,((r,n)=>cj(r,n)))&&th(this.baseMutations,e.baseMutations,((r,n)=>cj(r,n)))}}class g7{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ft(e.mutations.length===n.length);let i=(function(){return ree})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new g7(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,nr;function hV(t){switch(t){default:return dt();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function fV(t){if(t===void 0)return Hi("GRPC error has no .code"),ke.UNKNOWN;switch(t){case Rn.OK:return ke.OK;case Rn.CANCELLED:return ke.CANCELLED;case Rn.UNKNOWN:return ke.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return ke.INTERNAL;case Rn.UNAVAILABLE:return ke.UNAVAILABLE;case Rn.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case Rn.NOT_FOUND:return ke.NOT_FOUND;case Rn.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case Rn.ABORTED:return ke.ABORTED;case Rn.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case Rn.DATA_LOSS:return ke.DATA_LOSS;default:return dt()}}(nr=Rn||(Rn={}))[nr.OK=0]="OK",nr[nr.CANCELLED=1]="CANCELLED",nr[nr.UNKNOWN=2]="UNKNOWN",nr[nr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nr[nr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nr[nr.NOT_FOUND=5]="NOT_FOUND",nr[nr.ALREADY_EXISTS=6]="ALREADY_EXISTS",nr[nr.PERMISSION_DENIED=7]="PERMISSION_DENIED",nr[nr.UNAUTHENTICATED=16]="UNAUTHENTICATED",nr[nr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nr[nr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nr[nr.ABORTED=10]="ABORTED",nr[nr.OUT_OF_RANGE=11]="OUT_OF_RANGE",nr[nr.UNIMPLEMENTED=12]="UNIMPLEMENTED",nr[nr.INTERNAL=13]="INTERNAL",nr[nr.UNAVAILABLE=14]="UNAVAILABLE",nr[nr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mee(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee=new e0([4294967295,4294967295],0);function hj(t){const e=mee().encode(t),r=new Sz;return r.update(e),new Uint8Array(r.digest())}function fj(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new e0([r,n],0),new e0([i,a],0)]}class v7{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new xm(`Invalid padding: ${r}`);if(n<0)throw new xm(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new xm(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new xm(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=e0.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(e0.fromNumber(n)));return i.compare(pee)===1&&(i=new e0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=hj(e),[n,i]=fj(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new v7(a,i,r);return n.forEach((c=>s.insert(c))),s}insert(e){if(this.Ie===0)return;const r=hj(e),[n,i]=fj(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class xm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,cg.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new tx(pt.min(),i,new Jr(Rt),Ra(),Ft())}}class cg{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new cg(n,r,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class mV{constructor(e,r){this.targetId=e,this.me=r}}class pV{constructor(e,r,n=Un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class mj{constructor(){this.fe=0,this.ge=gj(),this.pe=Un.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ft(),r=Ft(),n=Ft();return this.ge.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:dt()}})),new cg(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=gj()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ft(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gee{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ra(),this.qe=pj(),this.Qe=new Jr(Rt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,(r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:dt()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach(((n,i)=>{this.ze(i)&&r(i)}))}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(pv(a))if(n===0){const s=new tt(a.path);this.Ue(r,s,Qr.newNoDocument(s,pt.min()))}else ft(n===1);else{const s=this.Ye(r);if(s!==n){const c=this.Ze(e),d=c?this.Xe(c,e,s):1;if(d!==0){this.je(r);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,f)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,c;try{s=$c(n).toUint8Array()}catch(d){if(d instanceof Vz)return o0("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new v7(s,i,a)}catch(d){return o0(d instanceof xm?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Ue(r,a,null),i++)})),i}rt(e){const r=new Map;this.Be.forEach(((a,s)=>{const c=this.Je(s);if(c){if(a.current&&pv(c.target)){const d=new tt(c.target.path);this.ke.get(d)!==null||this.it(s,d)||this.Ue(s,d,Qr.newNoDocument(d,e))}a.be&&(r.set(s,a.ve()),a.Ce())}}));let n=Ft();this.qe.forEach(((a,s)=>{let c=!0;s.forEachWhile((d=>{const f=this.Je(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(a))})),this.ke.forEach(((a,s)=>s.setReadTime(e)));const i=new tx(e,r,this.Qe,this.ke,n);return this.ke=Ra(),this.qe=pj(),this.Qe=new Jr(Rt),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new mj,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new jr(Rt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||qe("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mj),this.Le.getRemoteKeysForTarget(e).forEach((r=>{this.Ue(e,r,null)}))}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function pj(){return new Jr(tt.comparator)}function gj(){return new Jr(tt.comparator)}const yee={asc:"ASCENDING",desc:"DESCENDING"},vee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bee={and:"AND",or:"OR"};class xee{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function zS(t,e){return t.useProto3Json||ig(e)?e:{value:e}}function sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wee(t,e){return sh(t,e.toTimestamp())}function ni(t){return ft(!!t),pt.fromTimestamp((function(r){const n=vl(r);return new on(n.seconds,n.nanos)})(t))}function b7(t,e){return VS(t,e).canonicalString()}function VS(t,e){const r=(function(i){return new cr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function yV(t){const e=cr.fromString(t);return ft(EV(e)),e}function ip(t,e){return b7(t.databaseId,e.path)}function ll(t,e){const r=yV(e);if(r.get(1)!==t.databaseId.projectId)throw new Ke(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ke(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new tt(xV(r))}function vV(t,e){return b7(t.databaseId,e)}function bV(t){const e=yV(t);return e.length===4?cr.emptyPath():xV(e)}function $S(t){return new cr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xV(t){return ft(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yj(t,e,r){return{name:ip(t,e),fields:r.value.mapValue.fields}}function _ee(t,e,r){const n=ll(t,e.name),i=ni(e.updateTime),a=e.createTime?ni(e.createTime):pt.min(),s=new yi({mapValue:{fields:e.fields}}),c=Qr.newFoundDocument(n,i,a,s);return r&&c.setHasCommittedMutations(),r?c.setHasCommittedMutations():c}function See(t,e){return"found"in e?(function(n,i){ft(!!i.found),i.found.name,i.found.updateTime;const a=ll(n,i.found.name),s=ni(i.found.updateTime),c=i.found.createTime?ni(i.found.createTime):pt.min(),d=new yi({mapValue:{fields:i.found.fields}});return Qr.newFoundDocument(a,s,c,d)})(t,e):"missing"in e?(function(n,i){ft(!!i.missing),ft(!!i.readTime);const a=ll(n,i.missing),s=ni(i.readTime);return Qr.newNoDocument(a,s)})(t,e):dt()}function Tee(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:dt()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,m){return f.useProto3Json?(ft(m===void 0||typeof m=="string"),Un.fromBase64String(m||"")):(ft(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Un.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(f){const m=f.code===void 0?ke.UNKNOWN:fV(f.code);return new Ke(m,f.message||"")})(s);r=new pV(n,i,a,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=ll(t,n.document.name),a=ni(n.document.updateTime),s=n.document.createTime?ni(n.document.createTime):pt.min(),c=new yi({mapValue:{fields:n.document.fields}}),d=Qr.newFoundDocument(i,a,s,c),f=n.targetIds||[],m=n.removedTargetIds||[];r=new Zy(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=ll(t,n.document),a=n.readTime?ni(n.readTime):pt.min(),s=Qr.newNoDocument(i,a),c=n.removedTargetIds||[];r=new Zy([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=ll(t,n.document),a=n.removedTargetIds||[];r=new Zy([],a,i,null)}else{if(!("filter"in e))return dt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new fee(i,a),c=n.targetId;r=new mV(c,s)}}return r}function ap(t,e){let r;if(e instanceof $h)r={update:yj(t,e.key,e.value)};else if(e instanceof lg)r={delete:ip(t,e.key)};else if(e instanceof Nl)r={update:yj(t,e.key,e.data),updateMask:jee(e.fieldMask)};else{if(!(e instanceof m7))return dt();r={verify:ip(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,s){const c=s.transform;if(c instanceof rp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof d0)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ah)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof np)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw dt()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:wee(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:dt()})(t,e.precondition)),r}function FS(t,e){const r=e.currentDocument?(function(a){return a.updateTime!==void 0?An.updateTime(ni(a.updateTime)):a.exists!==void 0?An.exists(a.exists):An.none()})(e.currentDocument):An.none(),n=e.updateTransforms?e.updateTransforms.map((i=>(function(s,c){let d=null;if("setToServerValue"in c)ft(c.setToServerValue==="REQUEST_TIME"),d=new rp;else if("appendMissingElements"in c){const m=c.appendMissingElements.values||[];d=new d0(m)}else if("removeAllFromArray"in c){const m=c.removeAllFromArray.values||[];d=new ah(m)}else"increment"in c?d=new np(s,c.increment):dt();const f=sn.fromServerFormat(c.fieldPath);return new cV(f,d)})(t,i))):[];if(e.update){e.update.name;const i=ll(t,e.update.name),a=new yi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=(function(d){const f=d.fieldPaths||[];return new fa(f.map((m=>sn.fromServerFormat(m))))})(e.updateMask);return new Nl(i,a,s,r,n)}return new $h(i,a,r,n)}if(e.delete){const i=ll(t,e.delete);return new lg(i,r)}if(e.verify){const i=ll(t,e.verify);return new m7(i,r)}return dt()}function Aee(t,e){return t&&t.length>0?(ft(e!==void 0),t.map((r=>(function(i,a){let s=i.updateTime?ni(i.updateTime):ni(a);return s.isEqual(pt.min())&&(s=ni(a)),new uee(s,i.transformResults||[])})(r,e)))):[]}function wV(t,e){return{documents:[vV(t,e.path)]}}function _V(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=vV(t,i);const a=(function(f){if(f.length!==0)return AV(_r.create(f,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const s=(function(f){if(f.length!==0)return f.map((m=>(function(y){return{field:Md(y.field),direction:Nee(y.dir)}})(m)))})(e.orderBy);s&&(r.structuredQuery.orderBy=s);const c=zS(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{_t:r,parent:i}}function SV(t){let e=bV(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ft(n===1);const m=r.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];r.where&&(a=(function(p){const y=TV(p);return y instanceof _r&&h7(y)?y.getFilters():[y]})(r.where));let s=[];r.orderBy&&(s=(function(p){return p.map((y=>(function(T){return new tp(Pd(T.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(y)))})(r.orderBy));let c=null;r.limit&&(c=(function(p){let y;return y=typeof p=="object"?p.value:p,ig(y)?null:y})(r.limit));let d=null;r.startAt&&(d=(function(p){const y=!!p.before,b=p.values||[];return new nh(b,y)})(r.startAt));let f=null;return r.endAt&&(f=(function(p){const y=!p.before,b=p.values||[];return new nh(b,y)})(r.endAt)),QJ(e,i,s,a,c,"F",d,f)}function Eee(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function TV(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Pd(r.unaryFilter.field);return Jt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Pd(r.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Pd(r.unaryFilter.field);return Jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Pd(r.unaryFilter.field);return Jt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return dt()}})(t):t.fieldFilter!==void 0?(function(r){return Jt.create(Pd(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return _r.create(r.compositeFilter.filters.map((n=>TV(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return dt()}})(r.compositeFilter.op))})(t):dt()}function Nee(t){return yee[t]}function Oee(t){return vee[t]}function kee(t){return bee[t]}function Md(t){return{fieldPath:t.canonicalString()}}function Pd(t){return sn.fromServerFormat(t.fieldPath)}function AV(t){return t instanceof Jt?(function(r){if(r.op==="=="){if(ej(r.value))return{unaryFilter:{field:Md(r.field),op:"IS_NAN"}};if(Jk(r.value))return{unaryFilter:{field:Md(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(ej(r.value))return{unaryFilter:{field:Md(r.field),op:"IS_NOT_NAN"}};if(Jk(r.value))return{unaryFilter:{field:Md(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Md(r.field),op:Oee(r.op),value:r.value}}})(t):t instanceof _r?(function(r){const n=r.getFilters().map((i=>AV(i)));return n.length===1?n[0]:{compositeFilter:{op:kee(r.op),filters:n}}})(t):dt()}function jee(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function EV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,r,n,i,a=pt.min(),s=pt.min(),c=Un.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new il(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new il(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.ct=e}}function Cee(t,e){let r;if(e.document)r=_ee(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=tt.fromSegments(e.noDocument.path),i=f0(e.noDocument.readTime);r=Qr.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const n=tt.fromSegments(e.unknownDocument.path),i=f0(e.unknownDocument.version);r=Qr.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime((function(i){const a=new on(i[0],i[1]);return pt.fromTimestamp(a)})(e.readTime)),r}function vj(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:vv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=(function(a,s){return{name:ip(a,s.key),fields:s.data.value.mapValue.fields,updateTime:sh(a,s.version.toTimestamp()),createTime:sh(a,s.createTime.toTimestamp())}})(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:h0(e.version)};else{if(!e.isUnknownDocument())return dt();n.unknownDocument={path:r.path.toArray(),version:h0(e.version)}}return n}function vv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function h0(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function f0(t){const e=new on(t.seconds,t.nanoseconds);return pt.fromTimestamp(e)}function Vu(t,e){const r=(e.baseMutations||[]).map((a=>FS(t.ct,a)));for(let a=0;a<e.mutations.length-1;++a){const s=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const c=e.mutations[a+1];s.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const n=e.mutations.map((a=>FS(t.ct,a))),i=on.fromMillis(e.localWriteTimeMs);return new p7(e.batchId,i,r,n)}function wm(t){const e=f0(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?f0(t.lastLimboFreeSnapshotVersion):pt.min();let n;return n=(function(a){return a.documents!==void 0})(t.query)?(function(a){return ft(a.documents.length===1),as(sg(bV(a.documents[0])))})(t.query):(function(a){return as(SV(a))})(t.query),new il(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Un.fromBase64String(t.resumeToken))}function OV(t,e){const r=h0(e.snapshotVersion),n=h0(e.lastLimboFreeSnapshotVersion);let i;i=pv(e.target)?wV(t.ct,e.target):_V(t.ct,e.target)._t;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:u0(e.target),readTime:r,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function kV(t){const e=SV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yv(e,e.limit,"L"):e}function Cw(t,e){return new y7(e.largestBatchId,FS(t.ct,e.overlayMutation))}function bj(t,e){const r=e.path.lastSegment();return[t,Wi(e.path.popLast()),r]}function xj(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:h0(n.readTime),documentKey:Wi(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iee{getBundleMetadata(e,r){return wj(e).get(r).next((n=>{if(n)return(function(a){return{id:a.bundleId,createTime:f0(a.createTime),version:a.version}})(n)}))}saveBundleMetadata(e,r){return wj(e).put((function(i){return{bundleId:i.id,createTime:h0(ni(i.createTime)),version:i.version}})(r))}getNamedQuery(e,r){return _j(e).get(r).next((n=>{if(n)return(function(a){return{name:a.name,query:kV(a.bundledQuery),readTime:f0(a.readTime)}})(n)}))}saveNamedQuery(e,r){return _j(e).put((function(i){return{name:i.name,readTime:h0(ni(i.readTime)),bundledQuery:i.bundledQuery}})(r))}}function wj(t){return Wn(t,"bundles")}function _j(t){return Wn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new rx(e,n)}getOverlay(e,r){return Yf(e).get(bj(this.userId,r)).next((n=>n?Cw(this.serializer,n):null))}getOverlays(e,r){const n=ao();return _e.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){const i=[];return n.forEach(((a,s)=>{const c=new y7(r,s);i.push(this.ht(e,c))})),_e.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach((s=>i.add(Wi(s.getCollectionPath()))));const a=[];return i.forEach((s=>{const c=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,n+1],!1,!0);a.push(Yf(e).j("collectionPathOverlayIndex",c))})),_e.waitFor(a)}getOverlaysForCollection(e,r,n){const i=ao(),a=Wi(r),s=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Yf(e).U("collectionPathOverlayIndex",s).next((c=>{for(const d of c){const f=Cw(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,r,n,i){const a=ao();let s;const c=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Yf(e).J({index:"collectionGroupOverlayIndex",range:c},((d,f,m)=>{const p=Cw(this.serializer,f);a.size()<i||p.largestBatchId===s?(a.set(p.getKey(),p),s=p.largestBatchId):m.done()})).next((()=>a))}ht(e,r){return Yf(e).put((function(i,a,s){const[c,d,f]=bj(a,s.mutation.key);return{userId:a,collectionPath:d,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ap(i.ct,s.mutation)}})(this.serializer,this.userId,r))}}function Yf(t){return Wn(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{Pt(e){return Wn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((r=>{const n=r==null?void 0:r.value;return n?Un.fromUint8Array(n):Un.EMPTY_BYTE_STRING}))}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Yr(e.integerValue));else if("doubleValue"in e){const n=Yr(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),Ym(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=vl(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt($c(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?$z(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Qb(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):dt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const a=e.fields||{};this.dt(r,53);const s="value",c=((i=(n=a[s].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(Yr(c)),this.Vt(s,r),this.Tt(a[s],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),tt.fromName(e).path.forEach((n=>{this.dt(r,60),this.Dt(n,r)}))}dt(e,r){e.At(r)}ft(e){e.At(2)}}$u.vt=new $u;function Mee(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function Sj(t){const e=64-(function(n){let i=0;for(let a=0;a<8;++a){const s=Mee(255&n[a]);if(i+=s,s!==8)break}return i})(t);return Math.ceil(e/8)}class Pee{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=Sj(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=Sj(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=(function(a){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,a,!1),new Uint8Array(s.buffer)})(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class Dee{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Lee{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Qf{constructor(){this.jt=new Pee,this.Ht=new Dee(this.jt),this.Jt=new Lee(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Fu(this.indexId,this.documentKey,this.arrayValue,n)}}function mc(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=Tj(t.arrayValue,e.arrayValue),r!==0?r:(r=Tj(t.directionalValue,e.directionalValue),r!==0?r:tt.comparator(t.documentKey,e.documentKey)))}function Tj(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.Xt=new jr(((r,n)=>sn.comparator(r.field,n.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(ft(e.collectionGroup===this.collectionId),this.nn)return!1;const r=IS(e);if(r!==void 0&&!this.sn(r))return!1;const n=Lu(e);let i=new Set,a=0,s=0;for(;a<n.length&&this.sn(n[a]);++a)i=i.add(n[a].fieldPath.canonicalString());if(a===n.length)return!0;if(this.Xt.size>0){const c=this.Xt.getIterator().getNext();if(!i.has(c.field.canonicalString())){const d=n[a];if(!this.on(c,d)||!this._n(this.en[s++],d))return!1}++a}for(;a<n.length;++a){const c=n[a];if(s>=this.en.length||!this._n(this.en[s++],c))return!1}return!0}an(){if(this.nn)return null;let e=new jr(sn.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new Ky(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new Ky(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new Ky(n.field,n.dir==="asc"?0:1)));return new mv(mv.UNKNOWN_ID,this.collectionId,r,Xm.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t){var e,r;if(ft(t instanceof Jt||t instanceof _r),t instanceof Jt){if(t instanceof Qz){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map((a=>Jt.create(t.field,"==",a))))||[];return _r.create(i,"or")}return t}const n=t.filters.map((i=>jV(i)));return _r.create(n,t.op)}function Bee(t){if(t.getFilters().length===0)return[];const e=GS(jV(t));return ft(CV(e)),qS(e)||HS(e)?[e]:e.getFilters()}function qS(t){return t instanceof Jt}function HS(t){return t instanceof _r&&h7(t)}function CV(t){return qS(t)||HS(t)||(function(r){if(r instanceof _r&&DS(r)){for(const n of r.getFilters())if(!qS(n)&&!HS(n))return!1;return!0}return!1})(t)}function GS(t){if(ft(t instanceof Jt||t instanceof _r),t instanceof Jt)return t;if(t.filters.length===1)return GS(t.filters[0]);const e=t.filters.map((n=>GS(n)));let r=_r.create(e,t.op);return r=bv(r),CV(r)?r:(ft(r instanceof _r),ft(ih(r)),ft(r.filters.length>1),r.filters.reduce(((n,i)=>x7(n,i))))}function x7(t,e){let r;return ft(t instanceof Jt||t instanceof _r),ft(e instanceof Jt||e instanceof _r),r=t instanceof Jt?e instanceof Jt?(function(i,a){return _r.create([i,a],"and")})(t,e):Ej(t,e):e instanceof Jt?Ej(e,t):(function(i,a){if(ft(i.filters.length>0&&a.filters.length>0),ih(i)&&ih(a))return Wz(i,a.getFilters());const s=DS(i)?i:a,c=DS(i)?a:i,d=s.filters.map((f=>x7(f,c)));return _r.create(d,"or")})(t,e),bv(r)}function Ej(t,e){if(ih(e))return Wz(e,t.getFilters());{const r=e.filters.map((n=>x7(t,n)));return _r.create(r,"or")}}function bv(t){if(ft(t instanceof Jt||t instanceof _r),t instanceof Jt)return t;const e=t.getFilters();if(e.length===1)return bv(e[0]);if(Gz(t))return t;const r=e.map((i=>bv(i))),n=[];return r.forEach((i=>{i instanceof Jt?n.push(i):i instanceof _r&&(i.op===t.op?n.push(...i.filters):n.push(i))})),n.length===1?n[0]:_r.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uee{constructor(){this.un=new w7}addToCollectionParentIndex(e,r){return this.un.add(r),_e.resolve()}getCollectionParents(e,r){return _e.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return _e.resolve()}deleteFieldIndex(e,r){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,r){return _e.resolve()}getDocumentsMatchingTarget(e,r){return _e.resolve(null)}getIndexType(e,r){return _e.resolve(0)}getFieldIndexes(e,r){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,r){return _e.resolve(Ua.min())}getMinOffsetFromCollectionGroup(e,r){return _e.resolve(Ua.min())}updateCollectionGroup(e,r,n){return _e.resolve()}updateIndexEntries(e,r){return _e.resolve()}}class w7{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new jr(cr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new jr(cr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=new Uint8Array(0);class zee{constructor(e,r){this.databaseId=r,this.cn=new w7,this.ln=new Yc((n=>u0(n)),((n,i)=>ag(n,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener((()=>{this.cn.add(r)}));const a={collectionId:n,parent:Wi(i)};return Nj(e).put(a)}return _e.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[Cz(r),""],!1,!0);return Nj(e).U(i).next((a=>{for(const s of a){if(s.collectionId!==r)break;n.push(io(s.parent))}return n}))}addFieldIndex(e,r){const n=Zf(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(r);delete i.indexId;const a=n.add(i);if(r.indexState){const s=Td(e);return a.next((c=>{s.put(xj(c,this.uid,r.indexState.sequenceNumber,r.indexState.offset))}))}return a.next()}deleteFieldIndex(e,r){const n=Zf(e),i=Td(e),a=Sd(e);return n.delete(r.indexId).next((()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const r=Zf(e),n=Sd(e),i=Td(e);return r.j().next((()=>n.j())).next((()=>i.j()))}createTargetIndexes(e,r){return _e.forEach(this.hn(r),(n=>this.getIndexType(e,n).next((i=>{if(i===0||i===1){const a=new Aj(n).an();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,r){const n=Sd(e);let i=!0;const a=new Map;return _e.forEach(this.hn(r),(s=>this.Pn(e,s).next((c=>{i&&(i=!!c),a.set(s,c)})))).next((()=>{if(i){let s=Ft();const c=[];return _e.forEach(a,((d,f)=>{qe("IndexedDbIndexManager",`Using index ${(function(C){return`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map((B=>`${B.fieldPath}:${B.kind}`)).join(",")}`})(d)} to execute ${u0(r)}`);const m=(function(C,B){const I=IS(B);if(I===void 0)return null;for(const D of gv(C,I.fieldPath))switch(D.op){case"array-contains-any":return D.value.arrayValue.values||[];case"array-contains":return[D.value]}return null})(f,d),p=(function(C,B){const I=new Map;for(const D of Lu(B))for(const A of gv(C,D.fieldPath))switch(A.op){case"==":case"in":I.set(D.fieldPath.canonicalString(),A.value);break;case"not-in":case"!=":return I.set(D.fieldPath.canonicalString(),A.value),Array.from(I.values())}return null})(f,d),y=(function(C,B){const I=[];let D=!0;for(const A of Lu(B)){const k=A.kind===0?aj(C,A.fieldPath,C.startAt):sj(C,A.fieldPath,C.startAt);I.push(k.value),D&&(D=k.inclusive)}return new nh(I,D)})(f,d),b=(function(C,B){const I=[];let D=!0;for(const A of Lu(B)){const k=A.kind===0?sj(C,A.fieldPath,C.endAt):aj(C,A.fieldPath,C.endAt);I.push(k.value),D&&(D=k.inclusive)}return new nh(I,D)})(f,d),T=this.In(d,f,y),S=this.In(d,f,b),w=this.Tn(d,f,p),O=this.En(d.indexId,m,T,y.inclusive,S,b.inclusive,w);return _e.forEach(O,(R=>n.G(R,r.limit).next((C=>{C.forEach((B=>{const I=tt.fromSegments(B.documentKey);s.has(I)||(s=s.add(I),c.push(I))}))}))))})).next((()=>c))}return _e.resolve(null)}))}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=Bee(_r.create(e.filters,"and")).map((n=>BS(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt))),this.ln.set(e,r),r)}En(e,r,n,i,a,s,c){const d=(r!=null?r.length:1)*Math.max(n.length,a.length),f=d/(r!=null?r.length:1),m=[];for(let p=0;p<d;++p){const y=r?this.dn(r[p/f]):oy,b=this.An(e,y,n[p%f],i),T=this.Rn(e,y,a[p%f],s),S=c.map((w=>this.An(e,y,w,!0)));m.push(...this.createRange(b,T,S))}return m}An(e,r,n,i){const a=new Fu(e,tt.empty(),r,n);return i?a:a.Zt()}Rn(e,r,n,i){const a=new Fu(e,tt.empty(),r,n);return i?a.Zt():a}Pn(e,r){const n=new Aj(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let s=null;for(const c of a)n.rn(c)&&(!s||c.fields.length>s.fields.length)&&(s=c);return s}))}getIndexType(e,r){let n=2;const i=this.hn(r);return _e.forEach(i,(a=>this.Pn(e,a).next((s=>{s?n!==0&&s.fields.length<(function(d){let f=new jr(sn.comparator),m=!1;for(const p of d.filters)for(const y of p.getFlattenedFilters())y.field.isKeyField()||(y.op==="array-contains"||y.op==="array-contains-any"?m=!0:f=f.add(y.field));for(const p of d.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(m?1:0)})(a)&&(n=1):n=0})))).next((()=>(function(s){return s.limit!==null})(r)&&i.length>1&&n===2?1:n))}Vn(e,r){const n=new Qf;for(const i of Lu(e)){const a=r.data.field(i.fieldPath);if(a==null)return null;const s=n.Yt(i.kind);$u.vt.It(a,s)}return n.zt()}dn(e){const r=new Qf;return $u.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new Qf;return $u.vt.It(Jm(this.databaseId,r),n.Yt((function(a){const s=Lu(a);return s.length===0?0:s[s.length-1].kind})(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new Qf);let a=0;for(const s of Lu(e)){const c=n[a++];for(const d of i)if(this.fn(r,s.fieldPath)&&ep(c))i=this.gn(i,s,c);else{const f=d.Yt(s.kind);$u.vt.It(c,f)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],a=[];for(const s of n.arrayValue.values||[])for(const c of i){const d=new Qf;d.seed(c.zt()),$u.vt.It(s,d.Yt(r.kind)),a.push(d)}return a}fn(e,r){return!!e.filters.find((n=>n instanceof Jt&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in")))}getFieldIndexes(e,r){const n=Zf(e),i=Td(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next((a=>{const s=[];return _e.forEach(a,(c=>i.get([c.indexId,this.uid]).next((d=>{s.push((function(m,p){const y=p?new Xm(p.sequenceNumber,new Ua(f0(p.readTime),new tt(io(p.documentKey)),p.largestBatchId)):Xm.empty(),b=m.fields.map((([T,S])=>new Ky(sn.fromServerFormat(T),S)));return new mv(m.indexId,m.collectionGroup,b,y)})(c,d))})))).next((()=>s))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((r=>r.length===0?null:(r.sort(((n,i)=>{const a=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Rt(n.collectionGroup,i.collectionGroup)})),r[0].collectionGroup)))}updateCollectionGroup(e,r,n){const i=Zf(e),a=Td(e);return this.yn(e).next((s=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next((c=>_e.forEach(c,(d=>a.put(xj(d.indexId,this.uid,s,n))))))))}updateIndexEntries(e,r){const n=new Map;return _e.forEach(r,((i,a)=>{const s=n.get(i.collectionGroup);return(s?_e.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(n.set(i.collectionGroup,c),_e.forEach(c,(d=>this.wn(e,i,d).next((f=>{const m=this.Sn(a,d);return f.isEqual(m)?_e.resolve():this.bn(e,a,d,f,m)})))))))}))}Dn(e,r,n,i){return Sd(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return Sd(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=Sd(e);let a=new jr(mc);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},((s,c)=>{a=a.add(new Fu(n.indexId,r,c.arrayValue,c.directionalValue))})).next((()=>a))}Sn(e,r){let n=new jr(mc);const i=this.Vn(r,e);if(i==null)return n;const a=IS(r);if(a!=null){const s=e.data.field(a.fieldPath);if(ep(s))for(const c of s.arrayValue.values||[])n=n.add(new Fu(r.indexId,e.key,this.dn(c),i))}else n=n.add(new Fu(r.indexId,e.key,oy,i));return n}bn(e,r,n,i,a){qe("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const s=[];return(function(d,f,m,p,y){const b=d.getIterator(),T=f.getIterator();let S=_d(b),w=_d(T);for(;S||w;){let O=!1,R=!1;if(S&&w){const C=m(S,w);C<0?R=!0:C>0&&(O=!0)}else S!=null?R=!0:O=!0;O?(p(w),w=_d(T)):R?(y(S),S=_d(b)):(S=_d(b),w=_d(T))}})(i,a,mc,(c=>{s.push(this.Dn(e,r,n,c))}),(c=>{s.push(this.vn(e,r,n,c))})),_e.waitFor(s)}yn(e){let r=1;return Td(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((n,i,a)=>{a.done(),r=i.sequenceNumber+1})).next((()=>r))}createRange(e,r,n){n=n.sort(((s,c)=>mc(s,c))).filter(((s,c,d)=>!c||mc(s,d[c-1])!==0));const i=[];i.push(e);for(const s of n){const c=mc(s,e),d=mc(s,r);if(c===0)i[0]=e.Zt();else if(c>0&&d<0)i.push(s),i.push(s.Zt());else if(d>0)break}i.push(r);const a=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];const c=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,oy,[]],d=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,oy,[]];a.push(IDBKeyRange.bound(c,d))}return a}Cn(e,r){return mc(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Oj)}getMinOffset(e,r){return _e.mapArray(this.hn(r),(n=>this.Pn(e,n).next((i=>i||dt())))).next(Oj)}}function Nj(t){return Wn(t,"collectionParents")}function Sd(t){return Wn(t,"indexEntries")}function Zf(t){return Wn(t,"indexConfiguration")}function Td(t){return Wn(t,"indexState")}function Oj(t){ft(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;o7(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new Ua(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ca{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ca(e,ca.DEFAULT_COLLECTION_PERCENTILE,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),a=[],s=IDBKeyRange.only(r.batchId);let c=0;const d=n.J({range:s},((m,p,y)=>(c++,y.delete())));a.push(d.next((()=>{ft(c===1)})));const f=[];for(const m of r.mutations){const p=Dz(e,m.key.path,r.batchId);a.push(i.delete(p)),f.push(m.key)}return _e.waitFor(a).next((()=>f))}function xv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw dt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ca.DEFAULT_COLLECTION_PERCENTILE=10,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ca.DEFAULT=new ca(41943040,ca.DEFAULT_COLLECTION_PERCENTILE,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ca.DISABLED=new ca(-1,0,0);class nx{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){ft(e.uid!=="");const a=e.isAuthenticated()?e.uid:"";return new nx(a,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pc(e).J({index:"userMutationsIndex",range:n},((i,a,s)=>{r=!1,s.done()})).next((()=>r))}addMutationBatch(e,r,n,i){const a=Dd(e),s=pc(e);return s.add({}).next((c=>{ft(typeof c=="number");const d=new p7(c,r,n,i),f=(function(b,T,S){const w=S.baseMutations.map((R=>ap(b.ct,R))),O=S.mutations.map((R=>ap(b.ct,R)));return{userId:T,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:w,mutations:O}})(this.serializer,this.userId,d),m=[];let p=new jr(((y,b)=>Rt(y.canonicalString(),b.canonicalString())));for(const y of i){const b=Dz(this.userId,y.key.path,c);p=p.add(y.key.path.popLast()),m.push(s.put(f)),m.push(a.put(b,wJ))}return p.forEach((y=>{m.push(this.indexManager.addToCollectionParentIndex(e,y))})),e.addOnCommittedListener((()=>{this.Fn[c]=d.keys()})),_e.waitFor(m).next((()=>d))}))}lookupMutationBatch(e,r){return pc(e).get(r).next((n=>n?(ft(n.userId===this.userId),Vu(this.serializer,n)):null))}Mn(e,r){return this.Fn[r]?_e.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next((n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let a=null;return pc(e).J({index:"userMutationsIndex",range:i},((s,c,d)=>{c.userId===this.userId&&(ft(c.batchId>=n),a=Vu(this.serializer,c)),d.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return pc(e).J({index:"userMutationsIndex",range:r,reverse:!0},((i,a,s)=>{n=a.batchId,s.done()})).next((()=>n))}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pc(e).U("userMutationsIndex",r).next((n=>n.map((i=>Vu(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=Wy(this.userId,r.path),i=IDBKeyRange.lowerBound(n),a=[];return Dd(e).J({range:i},((s,c,d)=>{const[f,m,p]=s,y=io(m);if(f===this.userId&&r.path.isEqual(y))return pc(e).get(p).next((b=>{if(!b)throw dt();ft(b.userId===this.userId),a.push(Vu(this.serializer,b))}));d.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new jr(Rt);const i=[];return r.forEach((a=>{const s=Wy(this.userId,a.path),c=IDBKeyRange.lowerBound(s),d=Dd(e).J({range:c},((f,m,p)=>{const[y,b,T]=f,S=io(b);y===this.userId&&a.path.isEqual(S)?n=n.add(T):p.done()}));i.push(d)})),_e.waitFor(i).next((()=>this.xn(e,n)))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,a=Wy(this.userId,n),s=IDBKeyRange.lowerBound(a);let c=new jr(Rt);return Dd(e).J({range:s},((d,f,m)=>{const[p,y,b]=d,T=io(y);p===this.userId&&n.isPrefixOf(T)?T.length===i&&(c=c.add(b)):m.done()})).next((()=>this.xn(e,c)))}xn(e,r){const n=[],i=[];return r.forEach((a=>{i.push(pc(e).get(a).next((s=>{if(s===null)throw dt();ft(s.userId===this.userId),n.push(Vu(this.serializer,s))})))})),_e.waitFor(i).next((()=>n))}removeMutationBatch(e,r){return IV(e._e,this.userId,r).next((n=>(e.addOnCommittedListener((()=>{this.On(r.batchId)})),_e.forEach(n,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((r=>{if(!r)return _e.resolve();const n=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),i=[];return Dd(e).J({range:n},((a,s,c)=>{if(a[0]===this.userId){const d=io(a[1]);i.push(d)}else c.done()})).next((()=>{ft(i.length===0)}))}))}containsKey(e,r){return RV(e,this.userId,r)}Nn(e){return MV(e).get(this.userId).next((r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function RV(t,e,r){const n=Wy(e,r.path),i=n[1],a=IDBKeyRange.lowerBound(n);let s=!1;return Dd(t).J({range:a,H:!0},((c,d,f)=>{const[m,p,y]=c;m===e&&p===i&&(s=!0),f.done()})).next((()=>s))}function pc(t){return Wn(t,"mutations")}function Dd(t){return Wn(t,"documentMutations")}function MV(t){return Wn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new m0(0)}static kn(){return new m0(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vee{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next((r=>{const n=new m0(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next((()=>r.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.qn(e).next((r=>pt.fromTimestamp(new on(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.qn(e).next((r=>r.highestListenSequenceNumber))}setTargetsMetadata(e,r,n){return this.qn(e).next((i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i))))}addTargetData(e,r){return this.Kn(e,r).next((()=>this.qn(e).next((n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next((()=>Ad(e).delete(r.targetId))).next((()=>this.qn(e))).next((n=>(ft(n.targetCount>0),n.targetCount-=1,this.Qn(e,n))))}removeTargets(e,r,n){let i=0;const a=[];return Ad(e).J(((s,c)=>{const d=wm(c);d.sequenceNumber<=r&&n.get(d.targetId)===null&&(i++,a.push(this.removeTargetData(e,d)))})).next((()=>_e.waitFor(a))).next((()=>i))}forEachTarget(e,r){return Ad(e).J(((n,i)=>{const a=wm(i);r(a)}))}qn(e){return jj(e).get("targetGlobalKey").next((r=>(ft(r!==null),r)))}Qn(e,r){return jj(e).put("targetGlobalKey",r)}Kn(e,r){return Ad(e).put(OV(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next((r=>r.targetCount))}getTargetData(e,r){const n=u0(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let a=null;return Ad(e).J({range:i,index:"queryTargetsIndex"},((s,c,d)=>{const f=wm(c);ag(r,f.target)&&(a=f,d.done())})).next((()=>a))}addMatchingKeys(e,r,n){const i=[],a=Sc(e);return r.forEach((s=>{const c=Wi(s.path);i.push(a.put({targetId:n,path:c})),i.push(this.referenceDelegate.addReference(e,n,s))})),_e.waitFor(i)}removeMatchingKeys(e,r,n){const i=Sc(e);return _e.forEach(r,(a=>{const s=Wi(a.path);return _e.waitFor([i.delete([n,s]),this.referenceDelegate.removeReference(e,n,a)])}))}removeMatchingKeysForTargetId(e,r){const n=Sc(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=Sc(e);let a=Ft();return i.J({range:n,H:!0},((s,c,d)=>{const f=io(s[1]),m=new tt(f);a=a.add(m)})).next((()=>a))}containsKey(e,r){const n=Wi(r.path),i=IDBKeyRange.bound([n],[Cz(n)],!1,!0);let a=0;return Sc(e).J({index:"documentTargetsIndex",H:!0,range:i},(([s,c],d,f)=>{s!==0&&(a++,f.done())})).next((()=>a>0))}ot(e,r){return Ad(e).get(r).next((n=>n?wm(n):null))}}function Ad(t){return Wn(t,"targets")}function jj(t){return Wn(t,"targetGlobal")}function Sc(t){return Wn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj([t,e],[r,n]){const i=Rt(t,r);return i===0?Rt(e,n):i}class $ee{constructor(e){this.Un=e,this.buffer=new jr(Cj),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();Cj(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Fee{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){qe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Xc(r)?qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await O0(r)}await this.Hn(3e5)}))}}class qee{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return _e.resolve(ts.oe);const n=new $ee(r);return this.Jn.forEachTarget(e,(i=>n.zn(i.sequenceNumber))).next((()=>this.Jn.Zn(e,(i=>n.zn(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(kj)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kj):this.Xn(e,r)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,a,s,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,c=Date.now(),this.removeTargets(e,n,r)))).next((p=>(a=p,d=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(f=Date.now(),Id()<=Zt.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-m}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${p} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function Hee(t,e){return new qee(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(e,r){this.db=e,this.garbageCollector=Hee(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}er(e){let r=0;return this.Zn(e,(n=>{r++})).next((()=>r))}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,((n,i)=>r(i)))}addReference(e,r,n){return ly(e,n)}removeReference(e,r,n){return ly(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return ly(e,r)}nr(e,r){return(function(i,a){let s=!1;return MV(i).Y((c=>RV(i,c,a).next((d=>(d&&(s=!0),_e.resolve(!d)))))).next((()=>s))})(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.tr(e,((s,c)=>{if(c<=r){const d=this.nr(e,s).next((f=>{if(!f)return a++,n.getEntry(e,s).next((()=>(n.removeEntry(s,pt.min()),Sc(e).delete((function(p){return[0,Wi(p.path)]})(s)))))}));i.push(d)}})).next((()=>_e.waitFor(i))).next((()=>n.apply(e))).next((()=>a))}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return ly(e,r)}tr(e,r){const n=Sc(e);let i,a=ts.oe;return n.J({index:"documentTargetsIndex"},(([s,c],{path:d,sequenceNumber:f})=>{s===0?(a!==ts.oe&&r(new tt(io(i)),a),a=f,i=d):a=ts.oe})).next((()=>{a!==ts.oe&&r(new tt(io(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ly(t,e){return Sc(t).put((function(n,i){return{targetId:0,path:Wi(n.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.changes=new Yc((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Qr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?_e.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return Nu(e).put(n)}removeEntry(e,r,n){return Nu(e).delete((function(a,s){const c=a.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],vv(s),c[c.length-1]]})(r,n))}updateMetadata(e,r){return this.getMetadata(e).next((n=>(n.byteSize+=r,this.rr(e,n))))}getEntry(e,r){let n=Qr.newInvalidDocument(r);return Nu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Jf(r))},((i,a)=>{n=this.ir(r,a)})).next((()=>n))}sr(e,r){let n={size:0,document:Qr.newInvalidDocument(r)};return Nu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Jf(r))},((i,a)=>{n={document:this.ir(r,a),size:xv(a)}})).next((()=>n))}getEntries(e,r){let n=Ra();return this._r(e,r,((i,a)=>{const s=this.ir(i,a);n=n.insert(i,s)})).next((()=>n))}ar(e,r){let n=Ra(),i=new Jr(tt.comparator);return this._r(e,r,((a,s)=>{const c=this.ir(a,s);n=n.insert(a,c),i=i.insert(a,xv(s))})).next((()=>({documents:n,ur:i})))}_r(e,r,n){if(r.isEmpty())return _e.resolve();let i=new jr(Mj);r.forEach((d=>i=i.add(d)));const a=IDBKeyRange.bound(Jf(i.first()),Jf(i.last())),s=i.getIterator();let c=s.getNext();return Nu(e).J({index:"documentKeyIndex",range:a},((d,f,m)=>{const p=tt.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&Mj(c,p)<0;)n(c,null),c=s.getNext();c&&c.isEqual(p)&&(n(c,f),c=s.hasNext()?s.getNext():null),c?m.$(Jf(c)):m.done()})).next((()=>{for(;c;)n(c,null),c=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,r,n,i,a){const s=r.path,c=[s.popLast().toArray(),s.lastSegment(),vv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],d=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nu(e).U(IDBKeyRange.bound(c,d,!0)).next((f=>{a==null||a.incrementDocumentReadCount(f.length);let m=Ra();for(const p of f){const y=this.ir(tt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);y.isFoundDocument()&&(og(r,y)||i.has(y.key))&&(m=m.insert(y.key,y))}return m}))}getAllFromCollectionGroup(e,r,n,i){let a=Ra();const s=Rj(r,n),c=Rj(r,Ua.max());return Nu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,c,!0)},((d,f,m)=>{const p=this.ir(tt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);a=a.insert(p.key,p),a.size===i&&m.done()})).next((()=>a))}newChangeBuffer(e){return new Wee(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((r=>r.byteSize))}getMetadata(e){return Ij(e).get("remoteDocumentGlobalKey").next((r=>(ft(!!r),r)))}rr(e,r){return Ij(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=Cee(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(pt.min())))return n}return Qr.newInvalidDocument(e)}}function DV(t){return new Kee(t)}class Wee extends PV{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new Yc((n=>n.toString()),((n,i)=>n.isEqual(i)))}applyChanges(e){const r=[];let n=0,i=new jr(((a,s)=>Rt(a.canonicalString(),s.canonicalString())));return this.changes.forEach(((a,s)=>{const c=this.lr.get(a);if(r.push(this.cr.removeEntry(e,a,c.readTime)),s.isValidDocument()){const d=vj(this.cr.serializer,s);i=i.add(a.path.popLast());const f=xv(d);n+=f-c.size,r.push(this.cr.addEntry(e,a,d))}else if(n-=c.size,this.trackRemovals){const d=vj(this.cr.serializer,s.convertToNoDocument(pt.min()));r.push(this.cr.addEntry(e,a,d))}})),i.forEach((a=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,a))})),r.push(this.cr.updateMetadata(e,n)),_e.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next((n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document)))}getAllFromCache(e,r){return this.cr.ar(e,r).next((({documents:n,ur:i})=>(i.forEach(((a,s)=>{this.lr.set(a,{size:s,readTime:n.get(a).readTime})})),n)))}}function Ij(t){return Wn(t,"remoteDocumentGlobal")}function Nu(t){return Wn(t,"remoteDocumentsV14")}function Jf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Rj(t,e){const r=e.documentKey.path.toArray();return[t,vv(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Mj(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let a=0;a<r.length-2&&a<n.length-2;++a)if(i=Rt(r[a],n[a]),i)return i;return i=Rt(r.length,n.length),i||(i=Rt(r[r.length-2],n[n.length-2]),i||Rt(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&Cm(n.mutation,i,fa.empty(),on.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Ft()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Ft()){const i=ao();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let s=bm();return a.forEach(((c,d)=>{s=s.insert(c,d.overlayedDocument)})),s}))))}getOverlayedDocuments(e,r){const n=ao();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Ft())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,c)=>{r.set(s,c)}))}))}computeViews(e,r,n,i){let a=Ra();const s=jm(),c=(function(){return jm()})();return r.forEach(((d,f)=>{const m=n.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Nl)?a=a.insert(f.key,f):m!==void 0?(s.set(f.key,m.mutation.getFieldMask()),Cm(m.mutation,f,m.mutation.getFieldMask(),on.now())):s.set(f.key,fa.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((f,m)=>s.set(f,m))),r.forEach(((f,m)=>{var p;return c.set(f,new Xee(m,(p=s.get(f))!==null&&p!==void 0?p:null))})),c)))}recalculateAndSaveOverlays(e,r){const n=jm();let i=new Jr(((s,c)=>s-c)),a=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((s=>{for(const c of s)c.keys().forEach((d=>{const f=r.get(d);if(f===null)return;let m=n.get(d)||fa.empty();m=c.applyToLocalView(f,m),n.set(d,m);const p=(i.get(c.batchId)||Ft()).add(d);i=i.insert(c.batchId,p)}))})).next((()=>{const s=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,p=nV();m.forEach((y=>{if(!a.has(y)){const b=uV(r.get(y),n.get(y));b!==null&&p.set(y,b),a=a.add(y)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return _e.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(s){return tt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Zz(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):_e.resolve(ao());let c=-1,d=a;return s.next((f=>_e.forEach(f,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),a.get(m)?_e.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{d=d.insert(m,y)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,d,f,Ft()))).next((m=>({batchId:c,changes:rV(m)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new tt(r)).next((n=>{let i=bm();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=bm();return this.indexManager.getCollectionParents(e,a).next((c=>_e.forEach(c,(d=>{const f=(function(p,y){return new Vh(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next((m=>{m.forEach(((p,y)=>{s=s.insert(p,y)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((s=>{a.forEach(((d,f)=>{const m=f.getKey();s.get(m)===null&&(s=s.insert(m,Qr.newInvalidDocument(m)))}));let c=bm();return s.forEach(((d,f)=>{const m=a.get(d);m!==void 0&&Cm(m.mutation,f,fa.empty(),on.now()),og(r,f)&&(c=c.insert(d,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return _e.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:ni(i.createTime)}})(r)),_e.resolve()}getNamedQuery(e,r){return _e.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,(function(i){return{name:i.name,query:kV(i.bundledQuery),readTime:ni(i.readTime)}})(r)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(){this.overlays=new Jr(tt.comparator),this.Ir=new Map}getOverlay(e,r){return _e.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ao();return _e.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.ht(e,r,a)})),_e.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(n)),_e.resolve()}getOverlaysForCollection(e,r,n){const i=ao(),a=r.length+1,s=new tt(r.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>n&&i.set(d.getKey(),d)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Jr(((f,m)=>f-m));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let m=a.get(f.largestBatchId);m===null&&(m=ao(),a=a.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=ao(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return _e.resolve(c)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new y7(r,n));let a=this.Ir.get(r);a===void 0&&(a=Ft(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(){this.sessionToken=Un.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(){this.Tr=new jr(ti.Er),this.dr=new jr(ti.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new ti(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Vr(new ti(e,r))}mr(e,r){e.forEach((n=>this.removeReference(n,r)))}gr(e){const r=new tt(new cr([])),n=new ti(r,e),i=new ti(r,e+1),a=[];return this.dr.forEachInRange([n,i],(s=>{this.Vr(s),a.push(s.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new tt(new cr([])),n=new ti(r,e),i=new ti(r,e+1);let a=Ft();return this.dr.forEachInRange([n,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const r=new ti(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class ti{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return tt.comparator(e.key,r.key)||Rt(e.wr,r.wr)}static Ar(e,r){return Rt(e.wr,r.wr)||tt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new jr(ti.Er)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new p7(a,r,n,i);this.mutationQueue.push(s);for(const c of i)this.br=this.br.add(new ti(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return _e.resolve(s)}lookupMutationBatch(e,r){return _e.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return _e.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new ti(r,0),i=new ti(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],(s=>{const c=this.Dr(s.wr);a.push(c)})),_e.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new jr(Rt);return r.forEach((i=>{const a=new ti(i,0),s=new ti(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],(c=>{n=n.add(c.wr)}))})),_e.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;tt.isDocumentKey(a)||(a=a.child(""));const s=new ti(new tt(a),0);let c=new jr(Rt);return this.br.forEachWhile((d=>{const f=d.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.wr)),!0)}),s),_e.resolve(this.Cr(c))}Cr(e){const r=[];return e.forEach((n=>{const i=this.Dr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){ft(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return _e.forEach(r.mutations,(i=>{const a=new ti(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,r){const n=new ti(r,0),i=this.br.firstAfterOrEqual(n);return _e.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(e){this.Mr=e,this.docs=(function(){return new Jr(tt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return _e.resolve(n?n.document.mutableCopy():Qr.newInvalidDocument(r))}getEntries(e,r){let n=Ra();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Qr.newInvalidDocument(i))})),_e.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Ra();const s=r.path,c=new tt(s.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||o7(Iz(m),n)<=0||(i.has(m.key)||og(r,m))&&(a=a.insert(m.key,m.mutableCopy()))}return _e.resolve(a)}getAllFromCollectionGroup(e,r,n,i){dt()}Or(e,r){return _e.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new tte(this)}getSize(e){return _e.resolve(this.size)}}class tte extends PV{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)})),_e.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(e){this.persistence=e,this.Nr=new Yc((r=>u0(r)),ag),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _7,this.targetCount=0,this.kr=m0.Bn()}forEachTarget(e,r){return this.Nr.forEach(((n,i)=>r(i))),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),_e.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new m0(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,_e.resolve()}updateTargetData(e,r){return this.Kn(r),_e.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach(((s,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),_e.waitFor(a).next((()=>i))}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return _e.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),_e.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),_e.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),_e.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return _e.resolve(n)}containsKey(e,r){return _e.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,r){this.qr={},this.overlays={},this.Qr=new ts(0),this.Kr=!1,this.Kr=!0,this.$r=new Zee,this.referenceDelegate=e(this),this.Ur=new rte(this),this.indexManager=new Uee,this.remoteDocumentCache=(function(i){return new ete(i)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new NV(r),this.Gr=new Yee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Qee,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new Jee(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){qe("MemoryPersistence","Starting transaction:",e);const i=new nte(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((a=>this.referenceDelegate.jr(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Hr(e,r){return _e.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,r))))}}class nte extends Mz{constructor(e){super(),this.currentSequenceNumber=e}}class ix{constructor(e){this.persistence=e,this.Jr=new _7,this.Yr=null}static Zr(e){return new ix(e)}get Xr(){if(this.Yr)return this.Yr;throw dt()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),_e.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),_e.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),_e.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach((i=>this.Xr.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.Xr.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.Xr,(n=>{const i=tt.fromPath(n);return this.ei(e,i).next((a=>{a||r.removeEntry(i,pt.min())}))})).next((()=>(this.Yr=null,r.apply(e))))}updateLimboDocument(e,r){return this.ei(e,r).next((n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())}))}Wr(e){return 0}ei(e,r){return _e.or([()=>_e.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite{constructor(e){this.serializer=e}O(e,r,n,i){const a=new Yb("createOrUpgrade",r);n<1&&i>=1&&((function(d){d.createObjectStore("owner")})(e),(function(d){d.createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wk,{unique:!0}),d.createObjectStore("documentMutations")})(e),Pj(e),(function(d){d.createObjectStore("remoteDocuments")})(e));let s=_e.resolve();return n<3&&i>=3&&(n!==0&&((function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")})(e),Pj(e)),s=s.next((()=>(function(d){const f=d.store("targetGlobal"),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",m)})(a)))),n<4&&i>=4&&(n!==0&&(s=s.next((()=>(function(d,f){return f.store("mutations").U().next((m=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wk,{unique:!0});const p=f.store("mutations"),y=m.map((b=>p.put(b)));return _e.waitFor(y)}))})(e,a)))),s=s.next((()=>{(function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)}))),n<5&&i>=5&&(s=s.next((()=>this.ni(a)))),n<6&&i>=6&&(s=s.next((()=>((function(d){d.createObjectStore("remoteDocumentGlobal")})(e),this.ri(a))))),n<7&&i>=7&&(s=s.next((()=>this.ii(a)))),n<8&&i>=8&&(s=s.next((()=>this.si(e,a)))),n<9&&i>=9&&(s=s.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),n<10&&i>=10&&(s=s.next((()=>this.oi(a)))),n<11&&i>=11&&(s=s.next((()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),(function(d){d.createObjectStore("namedQueries",{keyPath:"name"})})(e)}))),n<12&&i>=12&&(s=s.next((()=>{(function(d){const f=d.createObjectStore("documentOverlays",{keyPath:RJ});f.createIndex("collectionPathOverlayIndex",MJ,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",PJ,{unique:!1})})(e)}))),n<13&&i>=13&&(s=s.next((()=>(function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:_J});f.createIndex("documentKeyIndex",SJ),f.createIndex("collectionGroupIndex",TJ)})(e))).next((()=>this._i(e,a))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&i>=14&&(s=s.next((()=>this.ai(e,a)))),n<15&&i>=15&&(s=s.next((()=>(function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:kJ}).createIndex("sequenceNumberIndex",jJ,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:CJ}).createIndex("documentKeyIndex",IJ,{unique:!1})})(e)))),n<16&&i>=16&&(s=s.next((()=>{r.objectStore("indexState").clear()})).next((()=>{r.objectStore("indexEntries").clear()}))),n<17&&i>=17&&(s=s.next((()=>{(function(d){d.createObjectStore("globals",{keyPath:"name"})})(e)}))),s}ri(e){let r=0;return e.store("remoteDocuments").J(((n,i)=>{r+=xv(i)})).next((()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next((i=>_e.forEach(i,(a=>{const s=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",s).next((c=>_e.forEach(c,(d=>{ft(d.userId===a.userId);const f=Vu(this.serializer,d);return IV(e,a.userId,f).next((()=>{}))}))))}))))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((i=>{const a=[];return n.J(((s,c)=>{const d=new cr(s),f=(function(p){return[0,Wi(p)]})(d);a.push(r.get(f).next((m=>m?_e.resolve():(p=>r.put({targetId:0,path:Wi(p),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>_e.waitFor(a)))}))}si(e,r){e.createObjectStore("collectionParents",{keyPath:OJ});const n=r.store("collectionParents"),i=new w7,a=s=>{if(i.add(s)){const c=s.lastSegment(),d=s.popLast();return n.put({collectionId:c,parent:Wi(d)})}};return r.store("remoteDocuments").J({H:!0},((s,c)=>{const d=new cr(s);return a(d.popLast())})).next((()=>r.store("documentMutations").J({H:!0},(([s,c,d],f)=>{const m=io(c);return a(m.popLast())}))))}oi(e){const r=e.store("targets");return r.J(((n,i)=>{const a=wm(i),s=OV(this.serializer,a);return r.put(s)}))}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J(((a,s)=>{const c=r.store("remoteDocumentsV14"),d=(function(p){return p.document?new tt(cr.fromString(p.document.name).popFirst(5)):p.noDocument?tt.fromSegments(p.noDocument.path):p.unknownDocument?tt.fromSegments(p.unknownDocument.path):dt()})(s).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(c.put(f))})).next((()=>_e.waitFor(i)))}ai(e,r){const n=r.store("mutations"),i=DV(this.serializer),a=new BV(ix.Zr,this.serializer.ct);return n.U().next((s=>{const c=new Map;return s.forEach((d=>{var f;let m=(f=c.get(d.userId))!==null&&f!==void 0?f:Ft();Vu(this.serializer,d).keys().forEach((p=>m=m.add(p))),c.set(d.userId,m)})),_e.forEach(c,((d,f)=>{const m=new fi(f),p=rx.lt(this.serializer,m),y=a.getIndexManager(m),b=nx.lt(m,this.serializer,y,a.referenceDelegate);return new LV(i,b,p,y).recalculateAndSaveOverlaysForDocumentKeys(new RS(r,ts.oe),d).next()}))}))}}function Pj(t){t.createObjectStore("targetDocuments",{keyPath:EJ}).createIndex("documentTargetsIndex",NJ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",AJ,{unique:!0}),t.createObjectStore("targetGlobal")}const Iw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class S7{constructor(e,r,n,i,a,s,c,d,f,m,p=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=a,this.window=s,this.document=c,this.ci=f,this.li=m,this.hi=p,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=y=>Promise.resolve(),!S7.D())throw new Ke(ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gee(this,i),this.Ai=r+"main",this.serializer=new NV(d),this.Ri=new Lc(this.Ai,this.hi,new ite(this.serializer)),this.$r=new Ree,this.Ur=new Vee(this.referenceDelegate,this.serializer),this.remoteDocumentCache=DV(this.serializer),this.Gr=new Iee,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,m===!1&&Hi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ke(ke.FAILED_PRECONDITION,Iw);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ur.getHighestSequenceNumber(e)))})).then((e=>{this.Qr=new ts(e,this.ci)})).then((()=>{this.Kr=!0})).catch((e=>(this.Ri&&this.Ri.close(),Promise.reject(e))))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L((async r=>{r.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>cy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.wi(e).next((r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))))}))})).next((()=>this.Si(e))).next((r=>this.isPrimary&&!r?this.bi(e).next((()=>!1)):!!r&&this.Di(e).next((()=>!0)))))).catch((e=>{if(Xc(e))return qe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ui.enqueueRetryable((()=>this.di(e))),this.isPrimary=e}))}wi(e){return em(e).get("owner").next((r=>_e.resolve(this.vi(r))))}Ci(e){return cy(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(r=>{const n=Wn(r,"clientMetadata");return n.U().next((i=>{const a=this.xi(i,18e5),s=i.filter((c=>a.indexOf(c)===-1));return _e.forEach(s,(c=>n.delete(c.clientId))).next((()=>s))}))})).catch((()=>[]));if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.Fi())).then((()=>this.pi()))))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?_e.resolve(!0):em(e).get("owner").next((r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new Ke(ke.FAILED_PRECONDITION,Iw);return!1}}return!(!this.networkEnabled||!this.inForeground)||cy(e).U().next((n=>this.xi(n,5e3).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(a||s&&c)return!0}return!1}))===void 0))})).next((r=>(this.isPrimary!==r&&qe("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r)))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const r=new RS(e,ts.oe);return this.bi(r).next((()=>this.Ci(r)))})),this.Ri.close(),this.qi()}xi(e,r){return e.filter((n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId)))}Qi(){return this.runTransaction("getActiveClients","readonly",(e=>cy(e).U().next((r=>this.xi(r,18e5).map((n=>n.clientId))))))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return nx.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zee(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return rx.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){qe("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",a=(function(d){return d===17?BJ:d===16?LJ:d===15?c7:d===14?Uz:d===13?Bz:d===12?DJ:d===11?Lz:void dt()})(this.hi);let s;return this.Ri.runTransaction(e,i,a,(c=>(s=new RS(c,this.Qr?this.Qr.next():ts.oe),r==="readwrite-primary"?this.wi(s).next((d=>!!d||this.Si(s))).next((d=>{if(!d)throw Hi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))),new Ke(ke.FAILED_PRECONDITION,Rz);return n(s)})).next((d=>this.Di(s).next((()=>d)))):this.Ki(s).next((()=>n(s)))))).then((c=>(s.raiseOnCommittedEvent(),c)))}Ki(e){return em(e).get("owner").next((r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ke(ke.FAILED_PRECONDITION,Iw)}))}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return em(e).put("owner",r)}static D(){return Lc.D()}bi(e){const r=em(e);return r.get("owner").next((n=>this.vi(n)?(qe("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):_e.resolve()))}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Hi(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.mi())))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;BU()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return qe("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Hi("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Hi("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function em(t){return Wn(t,"owner")}function cy(t){return Wn(t,"clientMetadata")}function ate(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Ft(),i=Ft();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new T7(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return BU()?8:Pz(Gn())>0?6:4})()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.Zi(e,r,i,n).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new ste;return this.Xi(e,r,s).next((c=>{if(a.result=c,this.zi)return this.es(e,r,s,c.size)}))})).next((()=>a.result))}es(e,r,n,i){return n.documentReadCount<this.ji?(Id()<=Zt.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",Rd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),_e.resolve()):(Id()<=Zt.DEBUG&&qe("QueryEngine","Query:",Rd(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Id()<=Zt.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",Rd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(r))):_e.resolve())}Yi(e,r){if(oj(r))return _e.resolve(null);let n=as(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=yv(r,null,"F"),n=as(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const s=Ft(...a);return this.Ji.getDocuments(e,s).next((c=>this.indexManager.getMinOffset(e,n).next((d=>{const f=this.ts(r,c);return this.ns(r,f,s,d.readTime)?this.Yi(e,yv(r,null,"F")):this.rs(e,f,r,d)}))))})))))}Zi(e,r,n,i){return oj(r)||i.isEqual(pt.min())?_e.resolve(null):this.Ji.getDocuments(e,n).next((a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?_e.resolve(null):(Id()<=Zt.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rd(r)),this.rs(e,s,r,mJ(i,-1)).next((c=>c)))}))}ts(e,r){let n=new jr(eV(e));return r.forEach(((i,a)=>{og(e,a)&&(n=n.add(a))})),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Id()<=Zt.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",Rd(r)),this.Ji.getDocumentsMatchingQuery(e,r,Ua.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ote{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Jr(Rt),this._s=new Yc((a=>u0(a)),ag),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.os)))}}function zV(t,e,r,n){return new ote(t,e,r,n)}async function VV(t,e){const r=Ot(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const s=[],c=[];let d=Ft();for(const f of i){s.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of a){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return r.localDocuments.getDocuments(n,d).next((f=>({hs:f,removedBatchIds:s,addedBatchIds:c})))}))}))}function lte(t,e){const r=Ot(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,m){const p=f.batch,y=p.keys();let b=_e.resolve();return y.forEach((T=>{b=b.next((()=>m.getEntry(d,T))).next((S=>{const w=f.docVersions.get(T);ft(w!==null),S.version.compareTo(w)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),m.addEntry(S)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(d,p)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let d=Ft();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function $V(t){const e=Ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Ur.getLastRemoteSnapshotVersion(r)))}function cte(t,e){const r=Ot(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const c=[];e.targetChanges.forEach(((m,p)=>{const y=i.get(p);if(!y)return;c.push(r.Ur.removeMatchingKeys(a,m.removedDocuments,p).next((()=>r.Ur.addMatchingKeys(a,m.addedDocuments,p))));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(Un.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,n)),i=i.insert(p,b),(function(S,w,O){return S.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(y,b,m)&&c.push(r.Ur.updateTargetData(a,b))}));let d=Ra(),f=Ft();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(ute(a,s,e.documentUpdates).next((m=>{d=m.Ps,f=m.Is}))),!n.isEqual(pt.min())){const m=r.Ur.getLastRemoteSnapshotVersion(a).next((p=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n)));c.push(m)}return _e.waitFor(c).next((()=>s.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,d,f))).next((()=>d))})).then((a=>(r.os=i,a)))}function ute(t,e,r){let n=Ft(),i=Ft();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let s=Ra();return r.forEach(((c,d)=>{const f=a.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(pt.min())?(e.removeEntry(c,d.readTime),s=s.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),s=s.insert(c,d)):qe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{Ps:s,Is:i}}))}function dte(t,e){const r=Ot(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function hte(t,e){const r=Ot(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Ur.getTargetData(n,e).next((a=>a?(i=a,_e.resolve(i)):r.Ur.allocateTargetId(n).next((s=>(i=new il(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n}))}async function KS(t,e,r){const n=Ot(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Xc(s))throw s;qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function Dj(t,e,r){const n=Ot(t);let i=pt.min(),a=Ft();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(d,f,m){const p=Ot(d),y=p._s.get(m);return y!==void 0?_e.resolve(p.os.get(y)):p.Ur.getTargetData(f,m)})(n,s,as(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,c.targetId).next((d=>{a=d}))})).next((()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:pt.min(),r?a:Ft()))).next((c=>(fte(n,JJ(e),c),{documents:c,Ts:a})))))}function fte(t,e,r){let n=t.us.get(e)||pt.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.us.set(e,n)}class Lj{constructor(){this.activeTargetIds=aee()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FV{constructor(){this.so=new Lj,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Lj,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uy=null;function Rw(){return uy===null?uy=(function(){return 268435456+Math.round(2147483648*Math.random())})():uy++,"0x"+uy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gte{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="WebChannelConnection";class yte extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const c=Rw(),d=this.xo(r,n.toUriEncodedString());qe("RestConnection",`Sending RPC '${r}' ${c}:`,d,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,a,s),this.No(r,d,f,i).then((m=>(qe("RestConnection",`Received RPC '${r}' ${c}: `,m),m)),(m=>{throw o0("RestConnection",`RPC '${r}' ${c} failed with error: `,m,"url: ",d,"request:",i),m}))}Lo(r,n,i,a,s,c){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zh})(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>r[s]=a)),i&&i.headers.forEach(((a,s)=>r[s]=a))}xo(r,n){const i=pte[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=Rw();return new Promise(((s,c)=>{const d=new Tz;d.setWithCredentials(!0),d.listenOnce(Az.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Gy.NO_ERROR:const m=d.getResponseJson();qe(Ni,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),s(m);break;case Gy.TIMEOUT:qe(Ni,`RPC '${e}' ${a} timed out`),c(new Ke(ke.DEADLINE_EXCEEDED,"Request time out"));break;case Gy.HTTP_ERROR:const p=d.getStatus();if(qe(Ni,`RPC '${e}' ${a} failed with status:`,p,"response text:",d.getResponseText()),p>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const T=(function(w){const O=w.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(O)>=0?O:ke.UNKNOWN})(b.status);c(new Ke(T,b.message))}else c(new Ke(ke.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ke(ke.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{qe(Ni,`RPC '${e}' ${a} completed.`)}}));const f=JSON.stringify(i);qe(Ni,`RPC '${e}' ${a} sending request:`,i),d.send(r,"POST",f,n,15)}))}Bo(e,r,n){const i=Rw(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Oz(),c=Nz(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const m=a.join("");qe(Ni,`Creating RPC '${e}' stream ${i}: ${m}`,d);const p=s.createWebChannel(m,d);let y=!1,b=!1;const T=new gte({Io:w=>{b?qe(Ni,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(y||(qe(Ni,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),qe(Ni,`RPC '${e}' stream ${i} sending:`,w),p.send(w))},To:()=>p.close()}),S=(w,O,R)=>{w.listen(O,(C=>{try{R(C)}catch(B){setTimeout((()=>{throw B}),0)}}))};return S(p,vm.EventType.OPEN,(()=>{b||(qe(Ni,`RPC '${e}' stream ${i} transport opened.`),T.yo())})),S(p,vm.EventType.CLOSE,(()=>{b||(b=!0,qe(Ni,`RPC '${e}' stream ${i} transport closed`),T.So())})),S(p,vm.EventType.ERROR,(w=>{b||(b=!0,o0(Ni,`RPC '${e}' stream ${i} transport errored:`,w),T.So(new Ke(ke.UNAVAILABLE,"The operation could not be completed")))})),S(p,vm.EventType.MESSAGE,(w=>{var O;if(!b){const R=w.data[0];ft(!!R);const C=R,B=C.error||((O=C[0])===null||O===void 0?void 0:O.error);if(B){qe(Ni,`RPC '${e}' stream ${i} received error:`,B);const I=B.status;let D=(function(E){const U=Rn[E];if(U!==void 0)return fV(U)})(I),A=B.message;D===void 0&&(D=ke.INTERNAL,A="Unknown error status: "+I+" with message "+B.message),b=!0,T.So(new Ke(D,A)),p.close()}else qe(Ni,`RPC '${e}' stream ${i} received:`,R),T.bo(R)}})),S(c,Ez.STAT_EVENT,(w=>{w.stat===CS.PROXY?qe(Ni,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===CS.NOPROXY&&qe(Ni,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.wo()}),0),T}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vte(){return typeof window<"u"?window:null}function Jy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t){return new xee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,r,n,i,a,s,c,d){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new A7(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ke.RESOURCE_EXHAUSTED?(Hi(r.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.Yo===r&&this.P_(n,i)}),(n=>{e((()=>{const i=new Ke(ke.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)}))}))}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{n((()=>this.I_(i)))})),this.stream.onMessage((i=>{n((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget((()=>this.Yo===e?r():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bte extends qV{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=Tee(this.serializer,e),n=(function(a){if(!("targetChange"in a))return pt.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?pt.min():s.readTime?ni(s.readTime):pt.min()})(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=$S(this.serializer),r.addTarget=(function(a,s){let c;const d=s.target;if(c=pv(d)?{documents:wV(a,d)}:{query:_V(a,d)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=gV(a,s.resumeToken);const f=zS(a,s.expectedCount);f!==null&&(c.expectedCount=f)}else if(s.snapshotVersion.compareTo(pt.min())>0){c.readTime=sh(a,s.snapshotVersion.toTimestamp());const f=zS(a,s.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const n=Eee(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=$S(this.serializer),r.removeTarget=e,this.a_(r)}}class xte extends qV{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return ft(!!e.streamToken),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=Aee(e.writeResults,e.commitTime),n=ni(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=$S(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>ap(this.serializer,n)))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ke(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Mo(e,VS(r,n),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ke(ke.UNKNOWN,a.toString())}))}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Lo(e,VS(r,n),i,s,c,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(ke.UNKNOWN,s.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class _te{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Hi(r),this.D_=!1):qe("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((s=>{n.enqueueAndForget((async()=>{j0(this)&&(qe("RemoteStore","Restarting streams for network reachability change."),await(async function(d){const f=Ot(d);f.L_.add(4),await ug(f),f.q_.set("Unknown"),f.L_.delete(4),await sx(f)})(this))}))})),this.q_=new _te(n,i)}}async function sx(t){if(j0(t))for(const e of t.B_)await e(!0)}async function ug(t){for(const e of t.B_)await e(!1)}function HV(t,e){const r=Ot(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),k7(r)?O7(r):Fh(r).r_()&&N7(r,e))}function E7(t,e){const r=Ot(t),n=Fh(r);r.N_.delete(e),n.r_()&&GV(r,e),r.N_.size===0&&(n.r_()?n.o_():j0(r)&&r.q_.set("Unknown"))}function N7(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Fh(t).A_(e)}function GV(t,e){t.Q_.xe(e),Fh(t).R_(e)}function O7(t){t.Q_=new gee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Fh(t).start(),t.q_.v_()}function k7(t){return j0(t)&&!Fh(t).n_()&&t.N_.size>0}function j0(t){return Ot(t).L_.size===0}function KV(t){t.Q_=void 0}async function Tte(t){t.q_.set("Online")}async function Ate(t){t.N_.forEach(((e,r)=>{N7(t,e)}))}async function Ete(t,e){KV(t),k7(t)?(t.q_.M_(e),O7(t)):t.q_.set("Unknown")}async function Nte(t,e,r){if(t.q_.set("Online"),e instanceof pV&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const c of a.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,s),i.N_.delete(c),i.Q_.removeTarget(c))})(t,e)}catch(n){qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await wv(t,n)}else if(e instanceof Zy?t.Q_.Ke(e):e instanceof mV?t.Q_.He(e):t.Q_.We(e),!r.isEqual(pt.min()))try{const n=await $V(t.localStore);r.compareTo(n)>=0&&await(function(a,s){const c=a.Q_.rt(s);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.N_.get(f);m&&a.N_.set(f,m.withResumeToken(d.resumeToken,s))}})),c.targetMismatches.forEach(((d,f)=>{const m=a.N_.get(d);if(!m)return;a.N_.set(d,m.withResumeToken(Un.EMPTY_BYTE_STRING,m.snapshotVersion)),GV(a,d);const p=new il(m.target,d,f,m.sequenceNumber);N7(a,p)})),a.remoteSyncer.applyRemoteEvent(c)})(t,r)}catch(n){qe("RemoteStore","Failed to raise snapshot:",n),await wv(t,n)}}async function wv(t,e,r){if(!Xc(e))throw e;t.L_.add(1),await ug(t),t.q_.set("Offline"),r||(r=()=>$V(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{qe("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await sx(t)}))}function WV(t,e){return e().catch((r=>wv(t,r,e)))}async function dg(t){const e=Ot(t),r=qc(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Ote(e);)try{const i=await dte(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,kte(e,i)}catch(i){await wv(e,i)}XV(e)&&YV(e)}function Ote(t){return j0(t)&&t.O_.length<10}function kte(t,e){t.O_.push(e);const r=qc(t);r.r_()&&r.V_&&r.m_(e.mutations)}function XV(t){return j0(t)&&!qc(t).n_()&&t.O_.length>0}function YV(t){qc(t).start()}async function jte(t){qc(t).p_()}async function Cte(t){const e=qc(t);for(const r of t.O_)e.m_(r.mutations)}async function Ite(t,e,r){const n=t.O_.shift(),i=g7.from(n,e,r);await WV(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await dg(t)}async function Rte(t,e){e&&qc(t).V_&&await(async function(n,i){if((function(s){return hV(s)&&s!==ke.ABORTED})(i.code)){const a=n.O_.shift();qc(n).s_(),await WV(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await dg(n)}})(t,e),XV(t)&&YV(t)}async function Uj(t,e){const r=Ot(t);r.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const n=j0(r);r.L_.add(3),await ug(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await sx(r)}async function Mte(t,e){const r=Ot(t);e?(r.L_.delete(2),await sx(r)):e||(r.L_.add(2),await ug(r),r.q_.set("Unknown"))}function Fh(t){return t.K_||(t.K_=(function(r,n,i){const a=Ot(r);return a.w_(),new bte(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:Tte.bind(null,t),Ro:Ate.bind(null,t),mo:Ete.bind(null,t),d_:Nte.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),k7(t)?O7(t):t.q_.set("Unknown")):(await t.K_.stop(),KV(t))}))),t.K_}function qc(t){return t.U_||(t.U_=(function(r,n,i){const a=Ot(r);return a.w_(),new xte(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:jte.bind(null,t),mo:Rte.bind(null,t),f_:Cte.bind(null,t),g_:Ite.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await dg(t)):(await t.U_.stop(),t.O_.length>0&&(qe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,c=new j7(e,r,s,i,a);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function C7(t,e){if(Hi("AsyncQueue",`${e}: ${t}`),Xc(t))return new Ke(ke.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this.comparator=e?(r,n)=>e(r,n)||tt.comparator(r.key,n.key):(r,n)=>tt.comparator(r.key,n.key),this.keyedMap=bm(),this.sortedSet=new Jr(this.comparator)}static emptySet(e){return new Gd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Gd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Gd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.W_=new Jr(tt.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):dt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class oh{constructor(e,r,n,i,a,s,c,d,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach((c=>{s.push({type:0,doc:c})})),new oh(e,r,Gd.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Dte{constructor(){this.queries=Vj(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ot(r),a=i.queries;i.queries=Vj(),a.forEach(((s,c)=>{for(const d of c.j_)d.onError(n)}))})(this,new Ke(ke.ABORTED,"Firestore shutting down"))}}function Vj(){return new Yc((t=>Jz(t)),Zb)}async function I7(t,e){const r=Ot(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new Pte,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const c=C7(s,`Initialization of query '${Rd(e.query)}' failed`);return void e.onError(c)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&M7(r)}async function R7(t,e){const r=Ot(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Lte(t,e){const r=Ot(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const c of s.j_)c.X_(i)&&(n=!0);s.z_=i}}n&&M7(r)}function Bte(t,e,r){const n=Ot(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function M7(t){t.Y_.forEach((e=>{e.next()}))}var WS,$j;($j=WS||(WS={})).ea="default",$j.Cache="cache";class P7{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new oh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=oh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==WS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.key=e}}class ZV{constructor(e){this.key=e}}class Ute{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ft(),this.mutatedKeys=Ft(),this.Aa=eV(e),this.Ra=new Gd(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new zj,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const y=i.get(m),b=og(this.query,p)?p:null,T=!!y&&this.mutatedKeys.has(y.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let w=!1;y&&b?y.data.isEqual(b.data)?T!==S&&(n.track({type:3,doc:b}),w=!0):this.ga(y,b)||(n.track({type:2,doc:b}),w=!0,(d&&this.Aa(b,d)>0||f&&this.Aa(b,f)<0)&&(c=!0)):!y&&b?(n.track({type:0,doc:b}),w=!0):y&&!b&&(n.track({type:1,doc:y}),w=!0,(d||f)&&(c=!0)),w&&(b?(s=s.add(b),a=S?a.add(m):a.delete(m)):(s=s.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const m=this.query.limitType==="F"?s.last():s.first();s=s.delete(m.key),a=a.delete(m.key),n.track({type:1,doc:m})}return{Ra:s,fa:n,ns:c,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((m,p)=>(function(b,T){const S=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return S(b)-S(T)})(m.type,p.type)||this.Aa(m.doc,p.doc))),this.pa(n),i=i!=null&&i;const c=r&&!i?this.ya():[],d=this.da.size===0&&this.current&&!i?1:0,f=d!==this.Ea;return this.Ea=d,s.length!==0||f?{snapshot:new oh(this.query,e.Ra,a,s,e.mutatedKeys,d===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zj,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((r=>this.Ta=this.Ta.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ta=this.Ta.delete(r))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ft(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const r=[];return e.forEach((n=>{this.da.has(n)||r.push(new ZV(n))})),this.da.forEach((n=>{e.has(n)||r.push(new QV(n))})),r}ba(e){this.Ta=e.Ts,this.da=Ft();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return oh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class zte{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Vte{constructor(e){this.key=e,this.va=!1}}class $te{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Yc((c=>Jz(c)),Zb),this.Ma=new Map,this.xa=new Set,this.Oa=new Jr(tt.comparator),this.Na=new Map,this.La=new _7,this.Ba={},this.ka=new Map,this.qa=m0.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Fte(t,e,r=!0){const n=i$(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await JV(n,e,r,!0),i}async function qte(t,e){const r=i$(t);await JV(r,e,!0,!1)}async function JV(t,e,r,n){const i=await hte(t.localStore,as(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let c;return n&&(c=await Hte(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&HV(t.remoteStore,i),c}async function Hte(t,e,r,n,i){t.Ka=(p,y,b)=>(async function(S,w,O,R){let C=w.view.ma(O);C.ns&&(C=await Dj(S.localStore,w.query,!1).then((({documents:A})=>w.view.ma(A,C))));const B=R&&R.targetChanges.get(w.targetId),I=R&&R.targetMismatches.get(w.targetId)!=null,D=w.view.applyChanges(C,S.isPrimaryClient,B,I);return qj(S,w.targetId,D.wa),D.snapshot})(t,p,y,b);const a=await Dj(t.localStore,e,!0),s=new Ute(e,a.Ts),c=s.ma(a.documents),d=cg.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(c,t.isPrimaryClient,d);qj(t,r,f.wa);const m=new zte(e,r,s);return t.Fa.set(e,m),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),f.snapshot}async function Gte(t,e,r){const n=Ot(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter((s=>!Zb(s,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await KS(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&E7(n.remoteStore,i.targetId),XS(n,i.targetId)})).catch(O0)):(XS(n,i.targetId),await KS(n.localStore,i.targetId,!0))}async function Kte(t,e){const r=Ot(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),E7(r.remoteStore,n.targetId))}async function Wte(t,e,r){const n=a$(t);try{const i=await(function(s,c){const d=Ot(s),f=on.now(),m=c.reduce(((b,T)=>b.add(T.key)),Ft());let p,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let T=Ra(),S=Ft();return d.cs.getEntries(b,m).next((w=>{T=w,T.forEach(((O,R)=>{R.isValidDocument()||(S=S.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(b,T))).next((w=>{p=w;const O=[];for(const R of c){const C=hee(R,p.get(R.key).overlayedDocument);C!=null&&O.push(new Nl(R.key,C,qz(C.value.mapValue),An.exists(!0)))}return d.mutationQueue.addMutationBatch(b,f,O,c)})).next((w=>{y=w;const O=w.applyToLocalDocumentSet(p,S);return d.documentOverlayCache.saveOverlays(b,w.batchId,O)}))})).then((()=>({batchId:y.batchId,changes:rV(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(s,c,d){let f=s.Ba[s.currentUser.toKey()];f||(f=new Jr(Rt)),f=f.insert(c,d),s.Ba[s.currentUser.toKey()]=f})(n,i.batchId,r),await hg(n,i.changes),await dg(n.remoteStore)}catch(i){const a=C7(i,"Failed to persist write");r.reject(a)}}async function e$(t,e){const r=Ot(t);try{const n=await cte(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=r.Na.get(a);s&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ft(s.va):i.removedDocuments.size>0&&(ft(s.va),s.va=!1))})),await hg(r,n,e)}catch(n){await O0(n)}}function Fj(t,e,r){const n=Ot(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach(((a,s)=>{const c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)})),(function(s,c){const d=Ot(s);d.onlineState=c;let f=!1;d.queries.forEach(((m,p)=>{for(const y of p.j_)y.Z_(c)&&(f=!0)})),f&&M7(d)})(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Xte(t,e,r){const n=Ot(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let s=new Jr(tt.comparator);s=s.insert(a,Qr.newNoDocument(a,pt.min()));const c=Ft().add(a),d=new tx(pt.min(),new Map,new Jr(Rt),s,c);await e$(n,d),n.Oa=n.Oa.remove(a),n.Na.delete(e),D7(n)}else await KS(n.localStore,e,!1).then((()=>XS(n,e,r))).catch(O0)}async function Yte(t,e){const r=Ot(t),n=e.batch.batchId;try{const i=await lte(r.localStore,e);r$(r,n,null),t$(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await hg(r,i)}catch(i){await O0(i)}}async function Qte(t,e,r){const n=Ot(t);try{const i=await(function(s,c){const d=Ot(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next((p=>(ft(p!==null),m=p.keys(),d.mutationQueue.removeMutationBatch(f,p)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>d.localDocuments.getDocuments(f,m)))}))})(n.localStore,e);r$(n,e,r),t$(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await hg(n,i)}catch(i){await O0(i)}}function t$(t,e){(t.ka.get(e)||[]).forEach((r=>{r.resolve()})),t.ka.delete(e)}function r$(t,e,r){const n=Ot(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function XS(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((n=>{t.La.containsKey(n)||n$(t,n)}))}function n$(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(E7(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),D7(t))}function qj(t,e,r){for(const n of r)n instanceof QV?(t.La.addReference(n.key,e),Zte(t,n)):n instanceof ZV?(qe("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||n$(t,n.key)):dt()}function Zte(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(qe("SyncEngine","New document in limbo: "+r),t.xa.add(n),D7(t))}function D7(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new tt(cr.fromString(e)),n=t.qa.next();t.Na.set(n,new Vte(r)),t.Oa=t.Oa.insert(r,n),HV(t.remoteStore,new il(as(sg(r.path)),n,"TargetPurposeLimboResolution",ts.oe))}}async function hg(t,e,r){const n=Ot(t),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach(((c,d)=>{s.push(n.Ka(d,e,r).then((f=>{var m;if((f||r)&&n.isPrimaryClient){const p=f?!f.fromCache:(m=r==null?void 0:r.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;n.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(f){i.push(f);const p=T7.Wi(d.targetId,f);a.push(p)}})))})),await Promise.all(s),n.Ca.d_(i),await(async function(d,f){const m=Ot(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>_e.forEach(f,(y=>_e.forEach(y.$i,(b=>m.persistence.referenceDelegate.addReference(p,y.targetId,b))).next((()=>_e.forEach(y.Ui,(b=>m.persistence.referenceDelegate.removeReference(p,y.targetId,b)))))))))}catch(p){if(!Xc(p))throw p;qe("LocalStore","Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const b=m.os.get(y),T=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(T);m.os=m.os.insert(y,S)}}})(n.localStore,a))}async function Jte(t,e){const r=Ot(t);if(!r.currentUser.isEqual(e)){qe("SyncEngine","User change. New user:",e.toKey());const n=await VV(r.localStore,e);r.currentUser=e,(function(a,s){a.ka.forEach((c=>{c.forEach((d=>{d.reject(new Ke(ke.CANCELLED,s))}))})),a.ka.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await hg(r,n.hs)}}function ere(t,e){const r=Ot(t),n=r.Na.get(e);if(n&&n.va)return Ft().add(n.key);{let i=Ft();const a=r.Ma.get(e);if(!a)return i;for(const s of a){const c=r.Fa.get(s);i=i.unionWith(c.view.Va)}return i}}function i$(t){const e=Ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=e$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ere.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xte.bind(null,e),e.Ca.d_=Lte.bind(null,e.eventManager),e.Ca.$a=Bte.bind(null,e.eventManager),e}function a$(t){const e=Ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qte.bind(null,e),e}class sp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ax(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return zV(this.persistence,new UV,e.initialUser,this.serializer)}Ga(e){return new BV(ix.Zr,this.serializer)}Wa(e){return new FV}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sp.provider={build:()=>new sp};class tre extends sp{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await a$(this.Ja.syncEngine),await dg(this.Ja.remoteStore),await this.persistence.yi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}za(e){return zV(this.persistence,new UV,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new Fee(n,e.asyncQueue,r)}Ha(e,r){const n=new vJ(r,this.persistence);return new yJ(e.asyncQueue,n)}Ga(e){const r=ate(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?ca.withCacheSize(this.cacheSizeBytes):ca.DEFAULT;return new S7(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,vte(),Jy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new FV}}class _v{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Fj(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jte.bind(null,this.syncEngine),await Mte(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Dte})()}createDatastore(e){const r=ax(e.databaseInfo.databaseId),n=(function(a){return new yte(a)})(e.databaseInfo);return(function(a,s,c,d){return new wte(a,s,c,d)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,s,c){return new Ste(n,i,a,s,c)})(this.localStore,this.datastore,e.asyncQueue,(r=>Fj(this.syncEngine,r,0)),(function(){return Bj.D()?new Bj:new mte})())}createSyncEngine(e,r){return(function(i,a,s,c,d,f,m){const p=new $te(i,a,s,c,d,f);return m&&(p.Qa=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const a=Ot(i);qe("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await ug(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}_v.provider={build:()=>new _v};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ke(ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await(async function(i,a){const s=Ot(i),c={documents:a.map((p=>ip(s.serializer,p)))},d=await s.Lo("BatchGetDocuments",s.serializer.databaseId,cr.emptyPath(),c,a.length),f=new Map;d.forEach((p=>{const y=See(s.serializer,p);f.set(y.key.toString(),y)}));const m=[];return a.forEach((p=>{const y=f.get(p.toString());ft(!!y),m.push(y)})),m})(this.datastore,e);return r.forEach((n=>this.recordVersion(n))),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new lg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((r=>{e.delete(r.key.toString())})),e.forEach(((r,n)=>{const i=tt.fromPath(n);this.mutations.push(new m7(i,this.precondition(i)))})),await(async function(n,i){const a=Ot(n),s={writes:i.map((c=>ap(a.serializer,c)))};await a.Mo("Commit",a.serializer.databaseId,cr.emptyPath(),s)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw dt();r=pt.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new Ke(ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(pt.min())?An.exists(!1):An.updateTime(r):An.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(pt.min()))throw new Ke(ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return An.updateTime(r)}return An.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nre{constructor(e,r,n,i,a){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=i,this.deferred=a,this._u=n.maxAttempts,this.t_=new A7(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new rre(this.datastore),r=this.cu(e);r&&r.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((i=>{this.lu(i)}))))})).catch((n=>{this.lu(n)}))}))}cu(e){try{const r=this.updateFunction(e);return!ig(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!hV(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ire{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=fi.UNAUTHENTICATED,this.clientId=jz.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async s=>{qe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(qe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=C7(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Mw(t,e){t.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await VV(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Hj(t,e){t.asyncQueue.verifyOperationInProgress();const r=await are(t);qe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>Uj(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>Uj(e.remoteStore,i))),t._onlineComponents=e}async function are(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){qe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mw(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ke.FAILED_PRECONDITION||i.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;o0("Error using user provided cache. Falling back to memory cache: "+r),await Mw(t,new sp)}}else qe("FirestoreClient","Using default OfflineComponentProvider"),await Mw(t,new sp);return t._offlineComponents}async function B7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(qe("FirestoreClient","Using user provided OnlineComponentProvider"),await Hj(t,t._uninitializedComponentsProvider._online)):(qe("FirestoreClient","Using default OnlineComponentProvider"),await Hj(t,new _v))),t._onlineComponents}function sre(t){return B7(t).then((e=>e.syncEngine))}function ore(t){return B7(t).then((e=>e.datastore))}async function Sv(t){const e=await B7(t),r=e.eventManager;return r.onListen=Fte.bind(null,e.syncEngine),r.onUnlisten=Gte.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=qte.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Kte.bind(null,e.syncEngine),r}function lre(t,e,r={}){const n=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,c,d,f){const m=new L7({next:y=>{m.Za(),s.enqueueAndForget((()=>R7(a,p)));const b=y.docs.has(c);!b&&y.fromCache?f.reject(new Ke(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&d&&d.source==="server"?f.reject(new Ke(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new P7(sg(c.path),m,{includeMetadataChanges:!0,_a:!0});return I7(a,p)})(await Sv(t),t.asyncQueue,e,r,n))),n.promise}function cre(t,e,r={}){const n=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,c,d,f){const m=new L7({next:y=>{m.Za(),s.enqueueAndForget((()=>R7(a,p))),y.fromCache&&d.source==="server"?f.reject(new Ke(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new P7(c,m,{includeMetadataChanges:!0,_a:!0});return I7(a,p)})(await Sv(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t,e,r){if(!r)throw new Ke(ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ure(t,e,r,n){if(e===!0&&n===!0)throw new Ke(ke.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Kj(t){if(!tt.isDocumentKey(t))throw new Ke(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Wj(t){if(tt.isDocumentKey(t))throw new Ke(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ox(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":dt()}function Ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ox(t);throw new Ke(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function dre(t,e){if(e<=0)throw new Ke(ke.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ke(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ure("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s$((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ke(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ke(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ke(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lx{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xj({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xj(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new aJ;switch(n.type){case"firstParty":return new cJ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ke(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=Gj.get(r);n&&(qe("ComponentProvider","Removing Datastore"),Gj.delete(r),n.terminate())})(this),Promise.resolve()}}function hre(t,e,r,n={}){var i;const a=(t=Ci(t,lx))._getSettings(),s=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&o0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=fi.MOCK_USER;else{c=LU(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new Ke(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new fi(f)}t._authCredentials=new sJ(new kz(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ol(this.firestore,e,this._query)}}class vi{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vi(this.firestore,e,this._key)}}class Bc extends Ol{constructor(e,r,n){super(e,r,sg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vi(this.firestore,null,new tt(e))}withConverter(e){return new Bc(this.firestore,e,this._path)}}function ir(t,e,...r){if(t=Cr(t),o$("collection","path",e),t instanceof lx){const n=cr.fromString(e,...r);return Wj(n),new Bc(t,null,n)}{if(!(t instanceof vi||t instanceof Bc))throw new Ke(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(cr.fromString(e,...r));return Wj(n),new Bc(t.firestore,null,n)}}function st(t,e,...r){if(t=Cr(t),arguments.length===1&&(e=jz.newId()),o$("doc","path",e),t instanceof lx){const n=cr.fromString(e,...r);return Kj(n),new vi(t,null,new tt(n))}{if(!(t instanceof vi||t instanceof Bc))throw new Ke(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(cr.fromString(e,...r));return Kj(n),new vi(t.firestore,t instanceof Bc?t.converter:null,new tt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new A7(this,"async_queue_retry"),this.Vu=()=>{const n=Jy();n&&qe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Jy();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Jy();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const r=new Ds;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Xc(e))throw e;qe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const r=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const i=(function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c})(n);throw Hi("INTERNAL UNHANDLED ERROR: ",i),n})).then((n=>(this.du=!1,n))))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=j7.createAndSchedule(this,e,r,n,(a=>this.yu(a)));return this.Tu.push(i),i}fu(){this.Eu&&dt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function Qj(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Us extends lx{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new Yj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yj(e),this._firestoreClient=void 0,await e}}}function fre(t,e){const r=typeof t=="object"?t:Gb(),n=typeof t=="string"?t:"(default)",i=eg(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=GA("firestore");a&&hre(i,...a)}return i}function fg(t){if(t._terminated)throw new Ke(ke.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l$(t),t._firestoreClient}function l$(t){var e,r,n;const i=t._freezeSettings(),a=(function(c,d,f,m){return new zJ(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,s$(m.experimentalLongPollingOptions),m.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ire(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(t._componentsProvider))}function mre(t,e){o0("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return pre(t,_v.provider,{build:n=>new tre(n,r.cacheSizeBytes,void 0)}),Promise.resolve()}function pre(t,e,r){if((t=Ci(t,Us))._firestoreClient||t._terminated)throw new Ke(ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Ke(ke.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},l$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this._byteString=e}static fromBase64String(e){try{return new p0(Un.fromBase64String(e))}catch(r){throw new Ke(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new p0(Un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ke(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ke(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ke(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gre=/^__.*__$/;class yre{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Nl(e,this.data,this.fieldMask,r,this.fieldTransforms):new $h(e,this.data,r,this.fieldTransforms)}}class c${constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Nl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function u$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class ux{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ux(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Tv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(u$(this.Cu)&&gre.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class vre{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||ax(e)}Qu(e,r,n,i=!1){return new ux({Cu:e,methodName:r,qu:n,path:sn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pg(t){const e=t._freezeSettings(),r=ax(t._databaseId);return new vre(t._databaseId,!!e.ignoreUndefinedProperties,r)}function V7(t,e,r,n,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);F7("Data must be an object, but it was:",s,n);const c=f$(n,s);let d,f;if(a.merge)d=new fa(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const m=[];for(const p of a.mergeFields){const y=YS(e,p,r);if(!s.contains(y))throw new Ke(ke.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);p$(m,y)||m.push(y)}d=new fa(m),f=s.fieldTransforms.filter((p=>d.covers(p.field)))}else d=null,f=s.fieldTransforms;return new yre(new yi(c),d,f)}class dx extends cx{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dx}}function bre(t,e,r){return new ux({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $7 extends cx{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=bre(this,e,!0),n=this.Ku.map((a=>qh(a,r))),i=new d0(n);return new cV(e.path,i)}isEqual(e){return e instanceof $7&&Hm(this.Ku,e.Ku)}}function d$(t,e,r,n){const i=t.Qu(1,e,r);F7("Data must be an object, but it was:",i,n);const a=[],s=yi.empty();k0(n,((d,f)=>{const m=q7(e,d,r);f=Cr(f);const p=i.Nu(m);if(f instanceof dx)a.push(m);else{const y=qh(f,p);y!=null&&(a.push(m),s.set(m,y))}}));const c=new fa(a);return new c$(s,c,i.fieldTransforms)}function h$(t,e,r,n,i,a){const s=t.Qu(1,e,r),c=[YS(e,n,r)],d=[i];if(a.length%2!=0)throw new Ke(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)c.push(YS(e,a[y])),d.push(a[y+1]);const f=[],m=yi.empty();for(let y=c.length-1;y>=0;--y)if(!p$(f,c[y])){const b=c[y];let T=d[y];T=Cr(T);const S=s.Nu(b);if(T instanceof dx)f.push(b);else{const w=qh(T,S);w!=null&&(f.push(b),m.set(b,w))}}const p=new fa(f);return new c$(m,p,s.fieldTransforms)}function xre(t,e,r,n=!1){return qh(r,t.Qu(n?4:3,e))}function qh(t,e){if(m$(t=Cr(t)))return F7("Unsupported field value:",e,t),f$(t,e);if(t instanceof cx)return(function(n,i){if(!u$(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,i){const a=[];let s=0;for(const c of n){let d=qh(c,i.Lu(s));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),s++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=Cr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return see(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=on.fromDate(n);return{timestampValue:sh(i.serializer,a)}}if(n instanceof on){const a=new on(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:sh(i.serializer,a)}}if(n instanceof U7)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof p0)return{bytesValue:gV(i.serializer,n._byteString)};if(n instanceof vi){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:b7(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof z7)return(function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map((d=>{if(typeof d!="number")throw c.Bu("VectorValues must only contain numeric values.");return f7(c.serializer,d)}))}}}}}})(n,i);throw i.Bu(`Unsupported field value: ${ox(n)}`)})(t,e)}function f$(t,e){const r={};return zz(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):k0(t,((n,i)=>{const a=qh(i,e.Mu(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function m$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof on||t instanceof U7||t instanceof p0||t instanceof vi||t instanceof cx||t instanceof z7)}function F7(t,e,r){if(!m$(r)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(r)){const n=ox(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function YS(t,e,r){if((e=Cr(e))instanceof mg)return e._internalPath;if(typeof e=="string")return q7(t,e);throw Tv("Field path arguments must be of type string or ",t,!1,void 0,r)}const wre=new RegExp("[~\\*/\\[\\]]");function q7(t,e,r){if(e.search(wre)>=0)throw Tv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new mg(...e.split("."))._internalPath}catch{throw Tv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Tv(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||s)&&(d+=" (found",a&&(d+=` in field ${n}`),s&&(d+=` in document ${i}`),d+=")"),new Ke(ke.INVALID_ARGUMENT,c+t+d)}function p$(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _re(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(hx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class _re extends Av{data(){return super.data()}}function hx(t,e){return typeof e=="string"?q7(t,e):e instanceof mg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H7{}class G7 extends H7{}function dn(t,e,...r){let n=[];e instanceof H7&&n.push(e),n=n.concat(r),(function(a){const s=a.filter((d=>d instanceof K7)).length,c=a.filter((d=>d instanceof fx)).length;if(s>1||s>0&&c>0)throw new Ke(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class fx extends G7{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new fx(e,r,n)}_apply(e){const r=this._parse(e);return y$(e._query,r),new Ol(e.firestore,e.converter,US(e._query,r))}_parse(e){const r=pg(e.firestore);return(function(a,s,c,d,f,m,p){let y;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ke(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Jj(p,m);const b=[];for(const T of p)b.push(Zj(d,a,T));y={arrayValue:{values:b}}}else y=Zj(d,a,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Jj(p,m),y=xre(c,s,p,m==="in"||m==="not-in");return Jt.create(f,m,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Tn(t,e,r){const n=e,i=hx("where",t);return fx._create(i,n,r)}class K7 extends H7{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new K7(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:_r.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let s=i;const c=a.getFlattenedFilters();for(const d of c)y$(s,d),s=US(s,d)})(e._query,r),new Ol(e.firestore,e.converter,US(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class W7 extends G7{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new W7(e,r)}_apply(e){const r=(function(i,a,s){if(i.startAt!==null)throw new Ke(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ke(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tp(a,s)})(e._query,this._field,this._direction);return new Ol(e.firestore,e.converter,(function(i,a){const s=i.explicitOrderBy.concat([a]);return new Vh(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function tm(t,e="asc"){const r=e,n=hx("orderBy",t);return W7._create(n,r)}class X7 extends G7{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new X7(e,r,n)}_apply(e){return new Ol(e.firestore,e.converter,yv(e._query,this._limit,this._limitType))}}function Ou(t){return dre("limit",t),X7._create("limit",t,"F")}function Zj(t,e,r){if(typeof(r=Cr(r))=="string"){if(r==="")throw new Ke(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zz(e)&&r.indexOf("/")!==-1)throw new Ke(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(cr.fromString(r));if(!tt.isDocumentKey(n))throw new Ke(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Jm(t,new tt(n))}if(r instanceof vi)return Jm(t,r._key);throw new Ke(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ox(r)}.`)}function Jj(t,e){if(!Array.isArray(t)||t.length===0)throw new Ke(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y$(t,e){const r=(function(i,a){for(const s of i)for(const c of s.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Ke(ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class v${convertValue(e,r="none"){switch(c0(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes($c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw dt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return k0(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((s=>Yr(s.doubleValue)));return new z7(a)}convertGeoPoint(e){return new U7(Yr(e.latitude),Yr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=d7(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Qm(e));default:return null}}convertTimestamp(e){const r=vl(e);return new on(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=cr.fromString(e);ft(EV(n));const i=new l0(n.get(1),n.get(3)),a=new tt(n.popFirst(5));return i.isEqual(r)||Hi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Sre extends v${constructor(e){super(),this.firestore=e}convertBytes(e){return new p0(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Q7 extends Av{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ev(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(hx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class ev extends Q7{data(e={}){return super.data(e)}}class b${constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Ld(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new ev(this._firestore,this._userDataWriter,n.key,n,new Ld(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ke(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((c=>{const d=new ev(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ld(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new ev(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ld(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),m=s.indexOf(c.doc.key)),{type:Tre(c.type),doc:d,oldIndex:f,newIndex:m}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Tre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t){t=Ci(t,vi);const e=Ci(t.firestore,Us);return lre(fg(e),t._key).then((r=>x$(e,t,r)))}class mx extends v${constructor(e){super(),this.firestore=e}convertBytes(e){return new p0(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,r)}}function rm(t){t=Ci(t,Ol);const e=Ci(t.firestore,Us),r=fg(e),n=new mx(e);return g$(t._query),cre(r,t._query).then((i=>new b$(e,n,t,i)))}function Vi(t,e,r){t=Ci(t,vi);const n=Ci(t.firestore,Us),i=Y7(t.converter,e,r);return px(n,[V7(pg(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,An.none())])}function Er(t,e,r,...n){t=Ci(t,vi);const i=Ci(t.firestore,Us),a=pg(i);let s;return s=typeof(e=Cr(e))=="string"||e instanceof mg?h$(a,"updateDoc",t._key,e,r,n):d$(a,"updateDoc",t._key,e),px(i,[s.toMutation(t._key,An.exists(!0))])}function Oa(t){return px(Ci(t.firestore,Us),[new lg(t._key,An.none())])}function Ed(t,e){const r=Ci(t.firestore,Us),n=st(t),i=Y7(t.converter,e);return px(r,[V7(pg(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,An.exists(!1))]).then((()=>n))}function Gr(t,...e){var r,n,i;t=Cr(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Qj(e[s])||(a=e[s],s++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Qj(e[s])){const p=e[s];e[s]=(r=p.next)===null||r===void 0?void 0:r.bind(p),e[s+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let d,f,m;if(t instanceof vi)f=Ci(t.firestore,Us),m=sg(t._key.path),d={next:p=>{e[s]&&e[s](x$(f,t,p))},error:e[s+1],complete:e[s+2]};else{const p=Ci(t,Ol);f=Ci(p.firestore,Us),m=p._query;const y=new mx(f);d={next:b=>{e[s]&&e[s](new b$(f,y,p,b))},error:e[s+1],complete:e[s+2]},g$(t._query)}return(function(y,b,T,S){const w=new L7(S),O=new P7(b,w,T);return y.asyncQueue.enqueueAndForget((async()=>I7(await Sv(y),O))),()=>{w.Za(),y.asyncQueue.enqueueAndForget((async()=>R7(await Sv(y),O)))}})(fg(f),m,c,d)}function px(t,e){return(function(n,i){const a=new Ds;return n.asyncQueue.enqueueAndForget((async()=>Wte(await sre(n),i,a))),a.promise})(fg(t),e)}function x$(t,e,r){const n=r.docs.get(e._key),i=new mx(t);return new Q7(t,i,e._key,n,new Ld(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Are={maxAttempts:5};function nm(t,e){if((t=Cr(t)).firestore!==e)throw new Ke(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ere extends class{constructor(r,n){this._firestore=r,this._transaction=n,this._dataReader=pg(r)}get(r){const n=nm(r,this._firestore),i=new Sre(this._firestore);return this._transaction.lookup([n._key]).then((a=>{if(!a||a.length!==1)return dt();const s=a[0];if(s.isFoundDocument())return new Av(this._firestore,i,s.key,s,n.converter);if(s.isNoDocument())return new Av(this._firestore,i,n._key,null,n.converter);throw dt()}))}set(r,n,i){const a=nm(r,this._firestore),s=Y7(a.converter,n,i),c=V7(this._dataReader,"Transaction.set",a._key,s,a.converter!==null,i);return this._transaction.set(a._key,c),this}update(r,n,i,...a){const s=nm(r,this._firestore);let c;return c=typeof(n=Cr(n))=="string"||n instanceof mg?h$(this._dataReader,"Transaction.update",s._key,n,i,a):d$(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,c),this}delete(r){const n=nm(r,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=nm(e,this._firestore),n=new mx(this._firestore);return super.get(e).then((i=>new Q7(this._firestore,n,r._key,i._document,new Ld(!1,!1),r.converter)))}}function Pw(t,e,r){t=Ci(t,Us);const n=Object.assign(Object.assign({},Are),r);return(function(a){if(a.maxAttempts<1)throw new Ke(ke.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(a,s,c){const d=new Ds;return a.asyncQueue.enqueueAndForget((async()=>{const f=await ore(a);new nre(a.asyncQueue,f,c,s,d).au()})),d.promise})(fg(t),(i=>e(new Ere(t,i))),n)}function Nre(...t){return new $7("arrayUnion",t)}(function(e,r=!0){(function(i){zh=i})(N0),Vc(new pl("firestore",((n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),c=new Us(new oJ(n.getProvider("auth-internal")),new dJ(n.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ke(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new l0(f.options.projectId,m)})(s,i),s);return a=Object.assign({useFetchStreams:r},a),c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),is(Hk,"4.7.3",e),is(Hk,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$="firebasestorage.googleapis.com",_$="storageBucket",Ore=120*1e3,kre=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn extends zs{constructor(e,r,n=0){super(Dw(e),`Firebase Storage: ${r} (${Dw(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gn||(gn={}));function Dw(t){return"storage/"+t}function Z7(){const t="An unknown error occurred, please check the error payload for server response.";return new yn(gn.UNKNOWN,t)}function jre(t){return new yn(gn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Cre(t){return new yn(gn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ire(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yn(gn.UNAUTHENTICATED,t)}function Rre(){return new yn(gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Mre(t){return new yn(gn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Pre(){return new yn(gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dre(){return new yn(gn.CANCELED,"User canceled the upload/download.")}function Lre(t){return new yn(gn.INVALID_URL,"Invalid URL '"+t+"'.")}function Bre(t){return new yn(gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ure(){return new yn(gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_$+"' property when initializing the app?")}function zre(){return new yn(gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Vre(){return new yn(gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $re(t){return new yn(gn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function QS(t){return new yn(gn.INVALID_ARGUMENT,t)}function S$(){return new yn(gn.APP_DELETED,"The Firebase app was deleted.")}function Fre(t){return new yn(gn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Im(t,e){return new yn(gn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function im(t){throw new yn(gn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Ma.makeFromUrl(e,r)}catch{return new Ma(e,"")}if(n.path==="")return n;throw Bre(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const s="(/(.*))?$",c=new RegExp("^gs://"+i+s,"i"),d={bucket:1,path:3};function f(B){B.path_=decodeURIComponent(B.path)}const m="v[A-Za-z0-9_]+",p=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${p}/${m}/b/${i}/o${y}`,"i"),T={bucket:1,path:3},S=r===w$?"(?:storage.googleapis.com|storage.cloud.google.com)":r,w="([^?#]*)",O=new RegExp(`^https?://${S}/${i}/${w}`,"i"),C=[{regex:c,indices:d,postModify:a},{regex:b,indices:T,postModify:f},{regex:O,indices:{bucket:1,path:2},postModify:f}];for(let B=0;B<C.length;B++){const I=C[B],D=I.regex.exec(e);if(D){const A=D[I.indices.bucket];let k=D[I.indices.path];k||(k=""),n=new Ma(A,k),I.postModify(n);break}}if(n==null)throw Lre(e);return n}}class qre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hre(t,e,r){let n=1,i=null,a=null,s=!1,c=0;function d(){return c===2}let f=!1;function m(...w){f||(f=!0,e.apply(null,w))}function p(w){i=setTimeout(()=>{i=null,t(b,d())},w)}function y(){a&&clearTimeout(a)}function b(w,...O){if(f){y();return}if(w){y(),m.call(null,w,...O);return}if(d()||s){y(),m.call(null,w,...O);return}n<64&&(n*=2);let C;c===1?(c=2,C=0):C=(n+Math.random())*1e3,p(C)}let T=!1;function S(w){T||(T=!0,y(),!f&&(i!==null?(w||(c=2),clearTimeout(i),p(0)):w||(c=1)))}return p(0),a=setTimeout(()=>{s=!0,S(!0)},r),S}function Gre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kre(t){return t!==void 0}function Wre(t){return typeof t=="object"&&!Array.isArray(t)}function J7(t){return typeof t=="string"||t instanceof String}function eC(t){return e8()&&t instanceof Blob}function e8(){return typeof Blob<"u"}function tC(t,e,r,n){if(n<e)throw QS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw QS(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function T$(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var t0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(t0||(t0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xre(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yre{constructor(e,r,n,i,a,s,c,d,f,m,p,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=p,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,T)=>{this.resolve_=b,this.reject_=T,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new dy(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=c=>{const d=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const c=a.getErrorCode()===t0.NO_ERROR,d=a.getStatus();if(!c||Xre(d,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===t0.ABORT;n(!1,new dy(!1,null,m));return}const f=this.successCodes_.indexOf(d)!==-1;n(!0,new dy(f,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());Kre(d)?a(d):a()}catch(d){s(d)}else if(c!==null){const d=Z7();d.serverResponse=c.getErrorText(),this.errorCallback_?s(this.errorCallback_(c,d)):s(d)}else if(i.canceled){const d=this.appDelete_?S$():Dre();s(d)}else{const d=Pre();s(d)}};this.canceled_?r(!1,new dy(!1,null,!0)):this.backoffId_=Hre(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Gre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dy{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function Qre(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Zre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Jre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ene(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tne(t,e,r,n,i,a,s=!0){const c=T$(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return Jre(f,e),Qre(f,r),Zre(f,a),ene(f,n),new Yre(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rne(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nne(...t){const e=rne();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(e8())return new Blob(t);throw new yn(gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ine(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ane(t){if(typeof atob>"u")throw $re("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lw{constructor(e,r){this.data=e,this.contentType=r||null}}function sne(t,e){switch(t){case so.RAW:return new Lw(A$(e));case so.BASE64:case so.BASE64URL:return new Lw(E$(t,e));case so.DATA_URL:return new Lw(lne(e),cne(e))}throw Z7()}function A$(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,s=t.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function one(t){let e;try{e=decodeURIComponent(t)}catch{throw Im(so.DATA_URL,"Malformed data URL.")}return A$(e)}function E$(t,e){switch(t){case so.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Im(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case so.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Im(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=ane(e)}catch(i){throw i.message.includes("polyfill")?i:Im(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class N${constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Im(so.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=une(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function lne(t){const e=new N$(t);return e.base64?E$(so.BASE64,e.rest):one(e.rest)}function cne(t){return new N$(t).contentType}function une(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,r){let n=0,i="";eC(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(eC(this.data_)){const n=this.data_,i=ine(n,e,r);return i===null?null:new Tc(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Tc(n,!0)}}static getBlob(...e){if(e8()){const r=e.map(n=>n instanceof Tc?n.data_:n);return new Tc(nne.apply(null,r))}else{const r=e.map(s=>J7(s)?sne(so.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let c=0;c<s.length;c++)i[a++]=s[c]}),new Tc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t){let e;try{e=JSON.parse(t)}catch{return null}return Wre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dne(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function hne(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function k$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fne(t,e){return e}class Bi{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||fne}}let hy=null;function mne(t){return!J7(t)||t.length<2?t:k$(t)}function j$(){if(hy)return hy;const t=[];t.push(new Bi("bucket")),t.push(new Bi("generation")),t.push(new Bi("metageneration")),t.push(new Bi("name","fullPath",!0));function e(a,s){return mne(s)}const r=new Bi("name");r.xform=e,t.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new Bi("size");return i.xform=n,t.push(i),t.push(new Bi("timeCreated")),t.push(new Bi("updated")),t.push(new Bi("md5Hash",null,!0)),t.push(new Bi("cacheControl",null,!0)),t.push(new Bi("contentDisposition",null,!0)),t.push(new Bi("contentEncoding",null,!0)),t.push(new Bi("contentLanguage",null,!0)),t.push(new Bi("contentType",null,!0)),t.push(new Bi("metadata","customMetadata",!0)),hy=t,hy}function pne(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Ma(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function gne(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,e[s.server])}return pne(n,t),n}function C$(t,e,r){const n=O$(e);return n===null?null:gne(t,n,r)}function yne(t,e,r,n){const i=O$(e);if(i===null||!J7(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(f=>{const m=t.bucket,p=t.fullPath,y="/b/"+s(m)+"/o/"+s(p),b=gx(y,r,n),T=T$({alt:"media",token:f});return b+T})[0]}function vne(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class t8{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(t){if(!t)throw Z7()}function bne(t,e){function r(n,i){const a=C$(t,i,e);return I$(a!==null),a}return r}function xne(t,e){function r(n,i){const a=C$(t,i,e);return I$(a!==null),yne(a,i,t.host,t._protocol)}return r}function R$(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=Rre():i=Ire():r.getStatus()===402?i=Cre(t.bucket):r.getStatus()===403?i=Mre(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function M$(t){const e=R$(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=jre(t.path)),a.serverResponse=i.serverResponse,a}return r}function wne(t,e,r){const n=e.fullServerUrl(),i=gx(n,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,c=new t8(i,a,xne(t,r),s);return c.errorHandler=M$(e),c}function _ne(t,e){const r=e.fullServerUrl(),n=gx(r,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function s(d,f){}const c=new t8(n,i,s,a);return c.successCodes=[200,204],c.errorHandler=M$(e),c}function Sne(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Tne(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=Sne(null,e)),n}function Ane(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function c(){let C="";for(let B=0;B<2;B++)C=C+Math.random().toString().slice(2);return C}const d=c();s["Content-Type"]="multipart/related; boundary="+d;const f=Tne(e,n,i),m=vne(f,r),p="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+d+"--",b=Tc.getBlob(p,n,y);if(b===null)throw zre();const T={name:f.fullPath},S=gx(a,t.host,t._protocol),w="POST",O=t.maxUploadRetryTime,R=new t8(S,w,bne(t,r),O);return R.urlParams=T,R.headers=s,R.body=b.uploadData(),R.errorHandler=R$(e),R}class Ene{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=t0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=t0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=t0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw im("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw im("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw im("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw im("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw im("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Nne extends Ene{initXhr(){this.xhr_.responseType="text"}}function r8(){return new Nne}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,r){this._service=e,r instanceof Ma?this._location=r:this._location=Ma.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new g0(e,r)}get root(){const e=new Ma(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return k$(this._location.path)}get storage(){return this._service}get parent(){const e=dne(this._location.path);if(e===null)return null;const r=new Ma(this._location.bucket,e);return new g0(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw Fre(e)}}function One(t,e,r){t._throwIfRoot("uploadBytes");const n=Ane(t.storage,t._location,j$(),new Tc(e,!0),r);return t.storage.makeRequestWithTokens(n,r8).then(i=>({metadata:i,ref:t}))}function kne(t){t._throwIfRoot("getDownloadURL");const e=wne(t.storage,t._location,j$());return t.storage.makeRequestWithTokens(e,r8).then(r=>{if(r===null)throw Vre();return r})}function jne(t){t._throwIfRoot("deleteObject");const e=_ne(t.storage,t._location);return t.storage.makeRequestWithTokens(e,r8)}function Cne(t,e){const r=hne(t._location.path,e),n=new Ma(t._location.bucket,r);return new g0(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ine(t){return/^[A-Za-z]+:\/\//.test(t)}function Rne(t,e){return new g0(t,e)}function P$(t,e){if(t instanceof n8){const r=t;if(r._bucket==null)throw Ure();const n=new g0(r,r._bucket);return e!=null?P$(n,e):n}else return e!==void 0?Cne(t,e):t}function Mne(t,e){if(e&&Ine(e)){if(t instanceof n8)return Rne(t,e);throw QS("To use ref(service, url), the first argument must be a Storage instance.")}else return P$(t,e)}function rC(t,e){const r=e==null?void 0:e[_$];return r==null?null:Ma.makeFromBucketSpec(r,t)}function Pne(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:LU(i,t.app.options.projectId))}class n8{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=w$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ore,this._maxUploadRetryTime=kre,this._requests=new Set,i!=null?this._bucket=Ma.makeFromBucketSpec(i,this._host):this._bucket=rC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ma.makeFromBucketSpec(this._url,e):this._bucket=rC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new g0(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new qre(S$());{const s=tne(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const nC="@firebase/storage",iC="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$="storage";function ZS(t,e,r){return t=Cr(t),One(t,e,r)}function Ev(t){return t=Cr(t),kne(t)}function Dne(t){return t=Cr(t),jne(t)}function Rm(t,e){return t=Cr(t),Mne(t,e)}function Lne(t=Gb(),e){t=Cr(t);const n=eg(t,D$).getImmediate({identifier:e}),i=GA("storage");return i&&Bne(n,...i),n}function Bne(t,e,r,n={}){Pne(t,e,r,n)}function Une(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new n8(r,n,i,e,N0)}function zne(){Vc(new pl(D$,Une,"PUBLIC").setMultipleInstances(!0)),is(nC,iC,""),is(nC,iC,"esm2017")}zne();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vne="type.googleapis.com/google.protobuf.Int64Value",$ne="type.googleapis.com/google.protobuf.UInt64Value";function L$(t,e){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function JS(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>JS(e));if(typeof t=="function"||typeof t=="object")return L$(t,e=>JS(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Nv(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Vne:case $ne:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Nv(e)):typeof t=="function"||typeof t=="object"?L$(t,e=>Nv(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Kd extends zs{constructor(e,r,n){super(`${i8}/${e}`,r||""),this.details=n}}function Fne(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function qne(t,e){let r=Fne(t),n=r,i;try{const a=e&&e.error;if(a){const s=a.status;if(typeof s=="string"){if(!aC[s])return new Kd("internal","internal");r=aC[s],n=s}const c=a.message;typeof c=="string"&&(n=c),i=a.details,i!==void 0&&(i=Nv(i))}}catch{}return r==="ok"?null:new Kd(r,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hne{constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||n.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="us-central1";function Gne(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new Kd("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Kne{constructor(e,r,n,i,a=eT,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new Hne(r,n,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(a);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=eT}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function Wne(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}function Xne(t,e,r){return(n=>Qne(t,e,n,{}))}async function Yne(t,e,r,n){r["Content-Type"]="application/json";let i;try{i=await n(t,{method:"POST",body:JSON.stringify(e),headers:r})}catch{return{status:0,json:null}}let a=null;try{a=await i.json()}catch{}return{status:i.status,json:a}}function Qne(t,e,r,n){const i=t._url(e);return Zne(t,i,r,n)}async function Zne(t,e,r,n){r=JS(r);const i={data:r},a={},s=await t.contextProvider.getContext(n.limitedUseAppCheckTokens);s.authToken&&(a.Authorization="Bearer "+s.authToken),s.messagingToken&&(a["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=s.appCheckToken);const c=n.timeout||7e4,d=Gne(c),f=await Promise.race([Yne(e,i,a,t.fetchImpl),d.promise,t.cancelAllRequests]);if(d.cancel(),!f)throw new Kd("cancelled","Firebase Functions instance was deleted.");const m=qne(f.status,f.json);if(m)throw m;if(!f.json)throw new Kd("internal","Response is not valid JSON object.");let p=f.json.data;if(typeof p>"u"&&(p=f.json.result),typeof p>"u")throw new Kd("internal","Response is missing data field.");return{data:Nv(p)}}const sC="@firebase/functions",oC="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jne="auth-internal",eie="app-check-internal",tie="messaging-internal";function rie(t,e){const r=(n,{instanceIdentifier:i})=>{const a=n.getProvider("app").getImmediate(),s=n.getProvider(Jne),c=n.getProvider(tie),d=n.getProvider(eie);return new Kne(a,s,c,d,i,t)};Vc(new pl(i8,r,"PUBLIC").setMultipleInstances(!0)),is(sC,oC,e),is(sC,oC,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nie(t=Gb(),e=eT){const n=eg(Cr(t),i8).getImmediate({identifier:e}),i=GA("functions");return i&&iie(n,...i),n}function iie(t,e,r){Wne(Cr(t),e,r)}function Dr(t,e,r){return Xne(Cr(t),e)}rie(fetch.bind(self));const B$={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},aie=["apiKey","authDomain","projectId","storageBucket","appId"];for(const t of aie)if(!B$[t])throw new Error(`Missing required Firebase config: ${t}. Check your .env.local file.`);const yx=$U(B$),tT=_z(yx),sie=new Zo,Le=fre(yx),Mm=Lne(yx),Lr=nie(yx);mre(Le).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence unavailable: multiple tabs open."):t.code==="unimplemented"&&console.warn("Firestore persistence not supported in this browser.")});const oie=Dr(Lr,"awardXP"),lie=Dr(Lr,"acceptQuest"),cie=Dr(Lr,"deployMission"),uie=Dr(Lr,"resolveQuest"),die=Dr(Lr,"equipItem"),hie=Dr(Lr,"disenchantItem"),fie=Dr(Lr,"craftItem"),mie=Dr(Lr,"adminUpdateInventory"),pie=Dr(Lr,"adminUpdateEquipped"),gie=Dr(Lr,"submitEngagement"),yie=Dr(Lr,"sendClassMessage");Dr(Lr,"uploadQuestionBank");const U$=Dr(Lr,"awardQuestionXP"),vie=Dr(Lr,"updateStreak"),bie=Dr(Lr,"claimDailyLogin"),xie=Dr(Lr,"spinFortuneWheel"),wie=Dr(Lr,"unlockSkill"),_ie=Dr(Lr,"addSocket"),Sie=Dr(Lr,"socketGem"),Tie=Dr(Lr,"dealBossDamage"),Aie=Dr(Lr,"answerBossQuiz"),Eie=Dr(Lr,"createParty"),Nie=Dr(Lr,"joinParty"),Oie=Dr(Lr,"completeTutoring"),kie=Dr(Lr,"claimKnowledgeLoot"),jie=Dr(Lr,"purchaseCosmetic"),Cie=Dr(Lr,"claimDailyChallenge"),Ov=()=>({pasteCount:0,engagementTime:0,keystrokes:0,clickCount:0,startTime:Date.now(),lastActive:Date.now()});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),z$=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...c},d)=>F.createElement("svg",{ref:d,...Rie,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:z$("lucide",i),...c},[...s.map(([f,m])=>F.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const r=F.forwardRef(({className:n,...i},a)=>F.createElement(Mie,{ref:a,iconNode:e,className:z$(`lucide-${Iie(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=Be("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=Be("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=Be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Be("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=Be("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Be("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Be("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=Be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=Be("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=Be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=Be("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=Be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=Be("Component",[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=Be("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Be("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=Be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=Be("Dice5",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=Be("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hie=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=Be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=Be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=Be("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=Be("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=Be("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Be("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=Be("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=Be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=Be("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=Be("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Be("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=Be("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=Be("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jie=Be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=Be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=Be("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=Be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=Be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=Be("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Be("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=Be("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=Be("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=Be("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=Be("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=Be("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=Be("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=Be("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=Be("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=Be("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=Be("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=Be("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=Be("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Be("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=Be("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=Be("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=Be("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=Be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=Be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Be("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=Be("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=Be("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=Be("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=Be("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=Be("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=Be("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=Be("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=Be("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=Be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=Be("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=Be("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=Be("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=Be("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=Be("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Tae="kellporter2@paps.net",Q$="Mr. Porter",Aae=[{name:"Dashboard",icon:u.jsx(eae,{className:"w-5 h-5"}),role:"ANY"},{name:"Admin Panel",icon:u.jsx(xx,{className:"w-5 h-5"}),role:"ADMIN"},{name:"User Management",icon:u.jsx(Hc,{className:"w-5 h-5"}),role:"ADMIN"},{name:"XP Command",icon:u.jsx(go,{className:"w-5 h-5"}),role:"ADMIN"}],$e={getWeekId:()=>{const t=new Date,e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const r=new Date(Date.UTC(e.getUTCFullYear(),0,1)),n=Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7);return`${e.getUTCFullYear()}-W${n.toString().padStart(2,"0")}`},subscribeToXPEvents:t=>Gr(ir(Le,"xp_events"),e=>{t(e.docs.map(r=>({id:r.id,...r.data()})))},e=>console.error("XP Events subscription error:",e)),saveXPEvent:async t=>{await Vi(st(Le,"xp_events",t.id),t)},deleteXPEvent:async t=>{await Oa(st(Le,"xp_events",t))},subscribeToQuests:t=>Gr(ir(Le,"quests"),e=>{t(e.docs.map(r=>({id:r.id,...r.data()})))},e=>console.error("Quests subscription error:",e)),saveQuest:async t=>{await Vi(st(Le,"quests",t.id),t)},deleteQuest:async t=>{await Oa(st(Le,"quests",t))},acceptQuest:async(t,e)=>{await lie({questId:e})},deployMission:async(t,e)=>{await cie({questId:e.id})},resolveQuest:async(t,e,r,n)=>{await uie({userId:t,questId:e.id,success:r,classType:n})},adjustUserXP:async(t,e,r)=>{await $e.awardXP(t,e,r)},equipItem:async(t,e,r)=>{await die({itemId:e.id,classType:r})},disenchantItem:async(t,e,r)=>{await hie({itemId:e.id,classType:r})},craftItem:async(t,e,r,n)=>{await fie({itemId:e.id,action:r,classType:n})},adminUpdateInventory:async(t,e,r)=>{await mie({userId:t,inventory:e,currency:r})},adminUpdateEquipped:async(t,e)=>{await pie({userId:t,equipped:e})},updateUserAppearance:async(t,e,r)=>{try{const n=st(Le,"users",t);r?await Er(n,{[`gamification.classProfiles.${r}.appearance`]:e}):await Er(n,{"gamification.appearance":e})}catch(n){console.error("Error updating appearance:",n)}},sendMessage:async(t,e,r,n)=>{try{if(t.mutedUntil){const i=new Date(t.mutedUntil);if(i>new Date)throw new Error(`You are muted until ${i.toLocaleTimeString()}.`)}await yie({content:e,channelId:r,classType:n})}catch(i){throw console.error("Error sending message:",i),i}},toggleReaction:async(t,e,r)=>{const n=st(Le,"class_messages",t);await Pw(Le,async i=>{const a=await i.get(n);if(!a.exists())return;const c={...a.data().reactions||{}},d=(c[e]||[]).includes(r);Object.keys(c).forEach(f=>{c[f]=(c[f]||[]).filter(m=>m!==r),c[f].length===0&&delete c[f]}),d||(c[e]||(c[e]=[]),c[e].push(r)),i.update(n,{reactions:c})})},togglePersonalPin:async(t,e)=>{const r=st(Le,"class_messages",t);await Pw(Le,async n=>{const i=await n.get(r);if(!i.exists())return;const s=[...i.data().pinnedBy||[]];s.includes(e)?n.update(r,{pinnedBy:s.filter(c=>c!==e)}):n.update(r,{pinnedBy:[...s,e]})})},toggleGlobalPin:async(t,e)=>{const r=st(Le,"class_messages",t);await Er(r,{isGlobalPinned:e})},deleteMessage:async t=>{try{await Oa(st(Le,"class_messages",t))}catch(e){throw console.error("Error deleting message:",e),e}},subscribeToFlaggedMessages:t=>{const e=dn(ir(Le,"class_messages"),Tn("isFlagged","==",!0),Ou(50));return Gr(e,r=>{const n=r.docs.map(i=>({id:i.id,...i.data()}));n.sort((i,a)=>new Date(a.timestamp).getTime()-new Date(i.timestamp).getTime()),t(n)},r=>{console.error("Subscribe Flagged Messages Error:",r)})},unflagMessage:async t=>{try{const e=st(Le,"class_messages",t);await Er(e,{isFlagged:!1,systemNote:""})}catch(e){throw console.error("Error unflagging message:",e),e}},INDEFINITE_MUTE:-2,muteUser:async(t,e)=>{try{let r=null;e===$e.INDEFINITE_MUTE?r=new Date("9999-12-31").toISOString():e>0&&(r=new Date(Date.now()+e*6e4).toISOString()),await Er(st(Le,"users",t),{mutedUntil:r})}catch(r){throw console.error("Error muting user:",r),r}},subscribeToChannelMessages:(t,e)=>{const r=dn(ir(Le,"class_messages"),Tn("channelId","==",t),Ou(100));return Gr(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));i.sort((a,s)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime()),e(i)},n=>{console.error("Subscribe Messages Error:",n)})},subscribeToAllConversations:t=>{const e=dn(ir(Le,"conversations"),tm("lastMessageAt","desc"));return Gr(e,r=>{t(r.docs.map(n=>({id:n.id,...n.data()})))},r=>console.error("Conversations subscription error:",r))},subscribeToChatMessages:(t,e)=>{const r=dn(ir(Le,`conversations/${t}/messages`),tm("timestamp","asc"));return Gr(r,n=>{e(n.docs.map(i=>({id:i.id,...i.data()})))},n=>console.error("Chat messages subscription error:",n))},sendChatMessage:async(t,e,r)=>{const n={senderId:e.id,senderName:e.role===Fi.ADMIN?Q$:e.name,content:r,timestamp:new Date().toISOString()};await Ed(ir(Le,`conversations/${t}/messages`),n),await Er(st(Le,"conversations",t),{lastMessage:r,lastMessageAt:new Date().toISOString()})},toggleConversationDisable:async(t,e)=>{await Er(st(Le,"conversations",t),{adminDisabled:e})},subscribeToChatFlags:t=>{const e=dn(ir(Le,"chat_flags"),Tn("isResolved","==",!1));return Gr(e,r=>{const n=r.docs.map(i=>({id:i.id,...i.data()}));n.sort((i,a)=>new Date(a.timestamp).getTime()-new Date(i.timestamp).getTime()),t(n)},r=>{console.error("Subscribe Flags Error:",r)})},resolveFlag:async t=>{await Er(st(Le,"chat_flags",t),{isResolved:!0})},resolveFlagByMessageId:async t=>{try{const e=dn(ir(Le,"chat_flags"),Tn("messageId","==",t),Tn("isResolved","==",!1)),n=(await rm(e)).docs.map(i=>Er(i.ref,{isResolved:!0}));await Promise.all(n)}catch(e){console.error("Error resolving flag by messageId:",e)}},subscribeToEvidence:(t,e,r)=>{const n=dn(ir(Le,"evidence"),Tn("studentId","==",t),Tn("weekId","==",e));return Gr(n,i=>{const a=i.docs.map(s=>({id:s.id,...s.data()}));r(a)},i=>console.error("Evidence subscription error:",i))},uploadEvidence:async t=>{await Vi(st(Le,"evidence",t.id),t,{merge:!0})},deleteWeeklyEvidence:async t=>{try{const e=t.map(n=>{if(!n.imageUrl)return Promise.resolve();const i=Rm(Mm,n.imageUrl);return Dne(i).catch(a=>console.warn("File missing:",a))});await Promise.all(e);const r=t.map(n=>Oa(st(Le,"evidence",n.id)));await Promise.all(r)}catch(e){throw console.error("Error clearing weekly evidence:",e),new Error("Failed to clear evidence log.")}},saveLabReport:async t=>{await Vi(st(Le,"lab_reports",t.id),t,{merge:!0})},updateUserSettings:async(t,e)=>{try{const r=st(Le,"users",t);await Er(r,{settings:e})}catch(r){console.error("Error updating settings:",r)}},updateUserLastLevelSeen:async(t,e)=>{await Er(st(Le,"users",t),{"gamification.lastLevelSeen":e})},generateCodename:async t=>{const e=["Neon","Quantum","Dark","Atomic","Silent","Lunar","Iron","Plasma","Forensic"],r=["Quark","Proton","Trace","Nova","Pulse","Specter","Vertex","Agent","Observer"],n=`${e[Math.floor(Math.random()*e.length)]} ${r[Math.floor(Math.random()*r.length)]}`;await Er(st(Le,"users",t),{"gamification.codename":n})},subscribeToUsers:t=>{const e=ir(Le,"users");return Gr(e,r=>{const n=r.docs.map(i=>{const a=i.data();return{id:i.id,...a}});t(n)},r=>console.error("Users subscription error:",r))},subscribeToAssignments:t=>{const e=ir(Le,"assignments");return Gr(e,r=>{const n=r.docs.map(i=>{const a=i.data();return{id:i.id,title:a.title,description:a.description,classType:a.classType,status:a.status,unit:a.unit||"Unassigned Unit",category:a.category||"Supplemental",htmlContent:a.htmlContent,contentUrl:a.contentUrl,resources:a.resources||[],publicComments:(a.publicComments||[]).sort((s,c)=>new Date(c.timestamp).getTime()-new Date(s.timestamp).getTime()),dueDate:a.dueDate}});t(n)},r=>console.error("Assignments subscription error:",r))},subscribeToSubmissions:t=>{const e=dn(ir(Le,"submissions"),tm("submittedAt","desc"),Ou(200));return Gr(e,r=>{const n=r.docs.map(i=>{const a=i.data();return{id:i.id,userId:a.userId,userName:a.userName,assignmentId:a.assignmentId,assignmentTitle:a.assignmentTitle,metrics:a.metrics||Ov(),submittedAt:a.submittedAt,status:a.status,score:a.score,hasUnreadAdmin:a.hasUnreadAdmin||!1,hasUnreadStudent:a.hasUnreadStudent||!1,isPinned:a.isPinned||!1,isArchived:a.isArchived||!1,privateComments:(a.privateComments||[]).sort((s,c)=>new Date(c.timestamp).getTime()-new Date(s.timestamp).getTime())}});t(n)},r=>console.error("Submissions subscription error:",r))},subscribeToUserSubmissions:(t,e)=>{const r=dn(ir(Le,"submissions"),Tn("userId","==",t),Ou(50));return Gr(r,n=>{const i=n.docs.map(a=>{const s=a.data();return{id:a.id,userId:s.userId,userName:s.userName,assignmentId:s.assignmentId,assignmentTitle:s.assignmentTitle,metrics:s.metrics||Ov(),submittedAt:s.submittedAt,status:s.status,score:s.score,hasUnreadAdmin:s.hasUnreadAdmin||!1,hasUnreadStudent:s.hasUnreadStudent||!1,isPinned:s.isPinned||!1,isArchived:s.isArchived||!1,privateComments:(s.privateComments||[]).sort((c,d)=>new Date(d.timestamp).getTime()-new Date(c.timestamp).getTime())}}).sort((a,s)=>new Date(s.submittedAt||"").getTime()-new Date(a.submittedAt||"").getTime());e(i)},n=>console.error("User submissions subscription error:",n))},subscribeToWhitelist:t=>{const e=ir(Le,"allowed_emails");return Gr(e,r=>{const n=r.docs.map(i=>({email:i.id,classType:i.data().classType,classTypes:i.data().classTypes||[i.data().classType].filter(Boolean)}));t(n)},r=>console.error("Whitelist subscription error:",r))},subscribeToClassConfigs:t=>{const e=ir(Le,"class_configs");return Gr(e,r=>{const n=r.docs.map(i=>({id:i.id,...i.data()}));t(n)},r=>console.error("ClassConfigs subscription error:",r))},addAssignment:async t=>{try{const e={title:t.title,description:t.description,classType:t.classType,status:t.status,unit:t.unit||"Unassigned Unit",category:t.category||"Textbook",htmlContent:t.htmlContent||"",contentUrl:t.contentUrl||null,resources:t.resources||[],publicComments:t.publicComments||[],dueDate:t.dueDate||null};t.id?await Vi(st(Le,"assignments",t.id),e,{merge:!0}):await Ed(ir(Le,"assignments"),e)}catch(e){throw console.error(e),e}},updateAssignmentStatus:async(t,e)=>{try{await Er(st(Le,"assignments",t),{status:e})}catch(r){console.error(r)}},deleteAssignment:async t=>{try{await Oa(st(Le,"assignments",t))}catch(e){console.error(e)}},addToWhitelist:async(t,e)=>{try{const r=st(Le,"allowed_emails",t),n=await qi(r),i=n.exists()?n.data().classTypes||[n.data().classType].filter(Boolean):[],a=Array.from(new Set([...i,e]));await Vi(r,{classType:e,classTypes:a});const s=dn(ir(Le,"users"),Tn("email","==",t)),c=await rm(s);await Promise.all(c.docs.map(async d=>{const f=d.data(),m=f.enrolledClasses||(f.classType?[f.classType]:[]),p=Array.from(new Set([...m,e]));await Er(st(Le,"users",d.id),{isWhitelisted:!0,classType:e,enrolledClasses:p})}))}catch(r){console.error(r)}},updateWhitelistSection:async(t,e)=>{try{await Er(st(Le,"allowed_emails",t),{section:e});const r=dn(ir(Le,"users"),Tn("email","==",t)),n=await rm(r);await Promise.all(n.docs.map(async i=>{await Er(st(Le,"users",i.id),{section:e})}))}catch(r){console.error(r)}},removeFromWhitelist:async t=>{try{await Oa(st(Le,"allowed_emails",t));const e=dn(ir(Le,"users"),Tn("email","==",t)),r=await rm(e);await Promise.all(r.docs.map(async n=>{await Er(st(Le,"users",n.id),{isWhitelisted:!1,enrolledClasses:[],classType:"Uncategorized"})}))}catch(e){console.error(e)}},approveUser:async(t,e)=>{try{const r=st(Le,"users",t),n=await qi(r);if(n.exists()){const i=n.data(),a=i.enrolledClasses||(i.classType?[i.classType]:[]),s=Array.from(new Set([...a,e]));await Er(r,{isWhitelisted:!0,classType:e,enrolledClasses:s});const c=i.email;if(c){const d=await qi(st(Le,"allowed_emails",c)),f=d.exists()?d.data().classTypes||[d.data().classType].filter(Boolean):[],m=Array.from(new Set([...f,e]));await Vi(st(Le,"allowed_emails",c),{classType:e,classTypes:m})}}}catch(r){console.error(r)}},removeUser:async t=>{try{const e=await qi(st(Le,"users",t));if(e.exists()){const r=e.data().email;await Oa(st(Le,"allowed_emails",r))}await Oa(st(Le,"users",t))}catch(e){console.error(e)}},submitAssignment:async t=>{try{const e=`${t.userId}_${t.assignmentId}`;await Vi(st(Le,"submissions",e),{userId:t.userId,userName:t.userName,assignmentId:t.assignmentId,assignmentTitle:t.assignmentTitle,metrics:t.metrics,status:t.status,score:t.score,submittedAt:new Date().toISOString()},{merge:!0})}catch(e){console.error(e)}},updateUserEnrolledClasses:async(t,e)=>{try{const r=st(Le,"users",t),n=await qi(r);if(!n.exists())return;const a=n.data().email,s={enrolledClasses:e,classType:e.length>0?e[0]:"Uncategorized"};e.length===0?(s.isWhitelisted=!1,a&&await Oa(st(Le,"allowed_emails",a))):(s.isWhitelisted=!0,a&&await Vi(st(Le,"allowed_emails",a),{classType:e[0],classTypes:e})),await Er(r,s)}catch(r){console.error("Error updating user classes:",r)}},updateUserClass:async(t,e)=>{try{const r=st(Le,"users",t),n=await qi(r);if(n.exists()){const i=n.data().enrolledClasses||[],a=Array.from(new Set([...i,e]));await Er(r,{classType:e,enrolledClasses:a,isWhitelisted:!0});const s=n.data().email;s&&await Vi(st(Le,"allowed_emails",s),{classType:e})}}catch(r){console.error(r)}},switchUserView:async(t,e)=>{try{await Er(st(Le,"users",t),{classType:e})}catch(r){console.error("Error switching view:",r)}},awardXP:async(t,e,r)=>{await oie({targetUserId:t,amount:e,classType:r})},submitEngagement:async(t,e,r,n,i,a)=>(await gie({assignmentId:r,assignmentTitle:n,userName:e,metrics:i,classType:a})).data,subscribeToLeaderboard:t=>{const e=dn(ir(Le,"users"),Tn("role","==","STUDENT"));return Gr(e,r=>{t(r.docs.map(n=>({id:n.id,...n.data()})))},r=>console.error("Leaderboard subscription error:",r))},saveClassConfig:async t=>{try{await Vi(st(Le,"class_configs",t.className),t)}catch(e){throw console.error("Error saving class config:",e),e}},deleteClassConfig:async t=>{try{await Oa(st(Le,"class_configs",t))}catch(e){throw console.error("Error deleting class config:",e),e}},uploadResource:async t=>{const e=Math.random().toString(36).substring(2,9),r=Rm(Mm,`resources/${e}_${t.name}`);return await ZS(r,t),await Ev(r)},uploadHtmlResource:async t=>{const e=Math.random().toString(36).substring(2,9),r=Rm(Mm,`resources/html/${e}_${t.name}`);return await ZS(r,t),await Ev(r)},subscribeToAnnouncements:t=>{const e=dn(ir(Le,"announcements"),tm("createdAt","desc"),Ou(20));return Gr(e,r=>{const n=new Date,i=r.docs.map(a=>({id:a.id,...a.data()})).filter(a=>!a.expiresAt||new Date(a.expiresAt)>n);t(i)},r=>console.error("Announcements subscription error:",r))},createAnnouncement:async t=>{await Ed(ir(Le,"announcements"),t)},deleteAnnouncement:async t=>{await Oa(st(Le,"announcements",t))},dismissAnnouncement:async(t,e)=>{await Er(st(Le,"users",t),{"gamification.dismissedAnnouncements":Nre(e)})},subscribeToNotifications:(t,e)=>{const r=dn(ir(Le,"notifications"),Tn("userId","==",t),tm("timestamp","desc"),Ou(50));return Gr(r,n=>{e(n.docs.map(i=>({id:i.id,...i.data()})))},n=>console.error("Notifications subscription error:",n))},markNotificationRead:async t=>{await Er(st(Le,"notifications",t),{isRead:!0})},markAllNotificationsRead:async t=>{const e=dn(ir(Le,"notifications"),Tn("userId","==",t),Tn("isRead","==",!1)),n=(await rm(e)).docs.map(i=>Er(i.ref,{isRead:!0}));await Promise.all(n)},createNotification:async t=>{await Ed(ir(Le,"notifications"),t)},notifyUsers:async(t,e,r,n,i)=>{const a=t.map(s=>Ed(ir(Le,"notifications"),{userId:s,type:e,title:r,message:n,timestamp:new Date().toISOString(),isRead:!1,meta:i||{}}));await Promise.all(a)},updateCodename:async(t,e)=>{await Er(st(Le,"users",t),{"gamification.codename":e})},updateEngagementStreak:async()=>(await vie({})).data,claimDailyLogin:async()=>(await bie({})).data,spinFortuneWheel:async t=>(await xie({classType:t})).data,unlockSkill:async(t,e,r)=>(await wie({skillId:t,specialization:e,cost:r})).data,addSocket:async(t,e)=>(await _ie({itemId:t,classType:e})).data,socketGem:async(t,e,r)=>(await Sie({itemId:t,gemId:e,classType:r})).data,subscribeToBossEncounters:t=>{const e=dn(ir(Le,"boss_encounters"),Tn("isActive","==",!0));return Gr(e,r=>{t(r.docs.map(n=>({id:n.id,...n.data()})))},r=>console.error("Boss encounters subscription error:",r))},dealBossDamage:async(t,e,r)=>(await Tie({bossId:t,damage:e,userName:r})).data,subscribeToBossQuizzes:(t,e)=>{const r=dn(ir(Le,"boss_quizzes"),Tn("isActive","==",!0));return Gr(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()})).filter(a=>a.classType===t||a.classType==="GLOBAL");e(i)},n=>console.error("Boss quiz subscription error:",n))},answerBossQuiz:async(t,e,r)=>(await Aie({quizId:t,questionId:e,answer:r})).data,createParty:async(t,e)=>(await Eie({questId:t,userName:e})).data,joinParty:async(t,e)=>(await Nie({partyId:t,userName:e})).data,subscribeToParty:(t,e)=>Gr(st(Le,"parties",t),r=>{r.exists()?e({id:r.id,...r.data()}):e(null)},r=>console.error("Party subscription error:",r)),createTutoringRequest:async(t,e,r,n)=>{await Ed(ir(Le,"tutoring_sessions"),{requesterId:t,requesterName:e,topic:r,classType:n,status:"OPEN",createdAt:new Date().toISOString(),xpReward:75,fluxReward:25})},claimTutorRole:async(t,e,r)=>{await Er(st(Le,"tutoring_sessions",t),{tutorId:e,tutorName:r,status:"MATCHED"})},subscribeToTutoringSessions:(t,e)=>{const r=dn(ir(Le,"tutoring_sessions"),Tn("classType","==",t),Ou(50));return Gr(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));i.sort((a,s)=>new Date(s.createdAt).getTime()-new Date(a.createdAt).getTime()),e(i)},n=>console.error("Tutoring subscription error:",n))},completeTutoring:async(t,e)=>(await Oie({sessionId:t,tutorId:e})).data,subscribeToKnowledgeGates:t=>{const e=dn(ir(Le,"knowledge_gates"),Tn("isActive","==",!0));return Gr(e,r=>{t(r.docs.map(n=>({id:n.id,...n.data()})))},r=>console.error("Knowledge gates subscription error:",r))},claimKnowledgeLoot:async(t,e)=>(await kie({gateId:t,classType:e})).data,subscribeToSeasonalCosmetics:t=>{const e=dn(ir(Le,"seasonal_cosmetics"),Tn("isAvailable","==",!0));return Gr(e,r=>{t(r.docs.map(n=>({id:n.id,...n.data()})))},r=>console.error("Seasonal cosmetics subscription error:",r))},purchaseCosmetic:async t=>(await jie({cosmeticId:t})).data,equipCosmetic:async(t,e)=>{await Er(st(Le,"users",t),{"gamification.activeCosmetic":e})},subscribeToDailyChallenges:t=>{const e=new Date().toISOString().split("T")[0],r=dn(ir(Le,"daily_challenges"),Tn("date","==",e));return Gr(r,n=>{t(n.docs.map(i=>({id:i.id,...i.data()})))},n=>console.error("Daily challenges subscription error:",n))},claimDailyChallenge:async(t,e)=>(await Cie({challengeId:t,classType:e})).data,updateDailyChallengeProgress:async(t,e,r,n)=>{const i=st(Le,"users",t);await Pw(Le,async a=>{var f;const s=await a.get(i);if(!s.exists())return;const c=((f=s.data().gamification)==null?void 0:f.activeDailyChallenges)||[];if(c.find(m=>m.challengeId===e)){const m=c.map(p=>p.challengeId===e?{...p,progress:r,completed:n}:p);a.update(i,{"gamification.activeDailyChallenges":m})}else a.update(i,{"gamification.activeDailyChallenges":[...c,{challengeId:e,progress:r,completed:n}]})})},getPublicProfile:async t=>{const e=await qi(st(Le,"users",t));return e.exists()?{id:e.id,...e.data()}:null}},Z$=F.createContext(null),Ii=()=>{const t=F.useContext(Z$);if(!t)throw new Error("useToast must be used within ToastProvider");return t},Eae={success:u.jsx(pn,{className:"w-5 h-5 text-green-400 shrink-0"}),error:u.jsx(cs,{className:"w-5 h-5 text-red-400 shrink-0"}),info:u.jsx($$,{className:"w-5 h-5 text-blue-400 shrink-0"})},Nae={success:"border-green-500/30 bg-green-950/80",error:"border-red-500/30 bg-red-950/80",info:"border-blue-500/30 bg-blue-950/80"},Oae=({children:t})=>{const[e,r]=F.useState([]),n=F.useCallback((s,c)=>{const d=Math.random().toString(36).substring(2,8);r(f=>[...f,{id:d,message:s,type:c}]),setTimeout(()=>{r(f=>f.filter(m=>m.id!==d))},4e3)},[]),i=F.useCallback(s=>{r(c=>c.filter(d=>d.id!==s))},[]),a={success:s=>n(s,"success"),error:s=>n(s,"error"),info:s=>n(s,"info")};return u.jsxs(Z$.Provider,{value:a,children:[t,u.jsx("div",{className:"fixed bottom-6 left-6 z-[9999] flex flex-col gap-3 pointer-events-none max-w-sm",children:e.map(s=>u.jsxs("div",{className:`pointer-events-auto flex items-start gap-3 px-4 py-3 rounded-xl border backdrop-blur-xl shadow-2xl animate-in slide-in-from-left-5 fade-in duration-300 ${Nae[s.type]}`,children:[Eae[s.type],u.jsx("span",{className:"text-sm text-white font-medium leading-snug flex-1",children:s.message}),u.jsx("button",{onClick:()=>i(s.id),className:"text-gray-500 hover:text-white transition shrink-0",children:u.jsx(us,{className:"w-4 h-4"})})]},s.id))})]})},kae=()=>{const[t,e]=F.useState(navigator.onLine),[r,n]=F.useState(!1);return F.useEffect(()=>{const i=()=>{e(!0),n(!0),setTimeout(()=>n(!1),3e3)},a=()=>{e(!1),n(!1)};return window.addEventListener("online",i),window.addEventListener("offline",a),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",a)}},[]),t&&!r?null:u.jsx("div",{className:`fixed top-0 left-0 right-0 z-[9999] flex items-center justify-center gap-2 py-2 text-sm font-bold transition-all duration-300 ${t?"bg-green-600/90 text-white":"bg-red-600/90 text-white"}`,children:t?u.jsxs(u.Fragment,{children:[u.jsx(Sae,{className:"w-4 h-4"}),"Connection restored"]}):u.jsxs(u.Fragment,{children:[u.jsx(_ae,{className:"w-4 h-4"}),"You are offline  changes will sync when reconnected"]})})},Da=({isOpen:t,onClose:e,title:r,children:n,maxWidth:i="max-w-md"})=>(F.useEffect(()=>{const a=s=>{s.key==="Escape"&&e()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e]),t?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:u.jsxs("div",{className:`bg-[#0f0720]/95 backdrop-blur-xl border border-white/10 rounded-3xl shadow-[0_0_50px_rgba(0,0,0,0.5)] w-full ${i} overflow-hidden flex flex-col max-h-[95vh] animate-in zoom-in-95 duration-200`,children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/5 bg-white/5",children:[u.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:r}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition text-gray-400 hover:text-white",children:u.jsx(us,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:n})]})}):null),jae=({isOpen:t,onClose:e,user:r,onSaveSettings:n})=>{var T;const[i,a]=ie.useState(r.settings||{liveBackground:!0,performanceMode:!1,privacyMode:!1,compactView:!1,soundEffects:!0}),[s,c]=ie.useState(((T=r.gamification)==null?void 0:T.codename)||""),[d,f]=ie.useState(!1),m=Ii(),p=S=>{a(w=>({...w,[S]:!w[S]}))},y=async()=>{var S;f(!0);try{await n(i),s!==(((S=r.gamification)==null?void 0:S.codename)||"")&&await $e.updateCodename(r.id,s.trim().slice(0,24)),e()}catch(w){console.error(w),m.error("Failed to save settings.")}finally{f(!1)}},b=({icon:S,title:w,description:O,value:R,onToggle:C})=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-2xl border border-white/10 hover:border-purple-500/30 transition",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`p-2 rounded-xl ${R?"bg-purple-500/20 text-purple-400":"bg-white/10 text-gray-500"}`,children:u.jsx(S,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-white text-sm",children:w}),u.jsx("p",{className:"text-xs text-gray-500 leading-tight mt-0.5",children:O})]})]}),u.jsx("button",{onClick:C,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${R?"bg-purple-600":"bg-white/20"}`,children:u.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${R?"translate-x-6":"translate-x-1"}`})})]});return u.jsx(Da,{isOpen:t,onClose:e,title:"User Control Center",maxWidth:"max-w-md",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 px-1",children:"Visuals & Performance"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(b,{icon:lae,title:"Live Neon Background",description:"Toggle the video loop background. Disable to save GPU.",value:i.liveBackground,onToggle:()=>p("liveBackground")}),u.jsx(b,{icon:$ie,title:"Performance Mode",description:"Disable blurs and heavy animations for older hardware.",value:i.performanceMode,onToggle:()=>p("performanceMode")})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 px-1",children:"Privacy & Identity"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(b,{icon:ss,title:"Privacy Codename",description:"Hide real name on leaderboards and use your operative codename.",value:i.privacyMode,onToggle:()=>p("privacyMode")}),i.privacyMode&&u.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/10",children:[u.jsx("label",{className:"text-xs font-bold text-gray-300 block mb-2",children:"Operative Codename"}),u.jsx("input",{type:"text",value:s,onChange:S=>c(S.target.value.slice(0,24)),placeholder:"Enter codename...",className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white focus:outline-none focus:border-purple-500 transition",maxLength:24}),u.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[s.length,"/24 characters"]})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 px-1",children:"Interface"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(b,{icon:uae,title:"Compact View",description:"Reduce sidebar and dashboard padding for power users.",value:i.compactView,onToggle:()=>p("compactView")}),u.jsx(b,{icon:wae,title:"Sound Effects",description:"Play audio feedback for XP gains, level ups, and actions.",value:i.soundEffects!==!1,onToggle:()=>a(S=>({...S,soundEffects:S.soundEffects===!1}))})]})]}),u.jsxs("button",{onClick:y,disabled:d,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-2xl font-bold transition shadow-lg shadow-purple-900/30 flex items-center justify-center gap-2",children:[d?u.jsx(Pa,{className:"w-5 h-5 animate-spin"}):u.jsx(K$,{className:"w-5 h-5"}),"Apply Changes"]})]})})},Cae=({user:t,onLogout:e,activeTab:r,setActiveTab:n,children:i})=>{var T,S;const[a,s]=F.useState(""),[c,d]=F.useState(!1),[f,m]=F.useState(!1),p=t.settings||{liveBackground:!0,performanceMode:!1,privacyMode:!1,compactView:!1};F.useEffect(()=>{if(!p.liveBackground){s("");return}(async()=>{try{const O=Rm(Mm,"public/background.mp4"),R=await Ev(O);s(R)}catch{console.warn("Firebase background not found, using local fallback."),s("/background.mp4")}})()},[p.liveBackground]);const y=async w=>{await $e.updateUserSettings(t.id,w)},b=()=>u.jsx(u.Fragment,{children:Aae.filter(w=>!(w.role==="ADMIN"&&t.role!==Fi.ADMIN||w.role==="STUDENT"&&t.role!==Fi.STUDENT)).map(w=>u.jsxs("button",{onClick:()=>{n(w.name),m(!1)},className:`w-full flex items-center gap-4 px-6 rounded-xl transition-all group ${p.compactView?"py-3":"py-4"} ${r===w.name?"bg-purple-600/80 text-white shadow-lg border border-purple-500/50":"text-gray-400 hover:bg-white/5 hover:text-white hover:pl-7"}`,children:[u.jsx("span",{className:`${r===w.name?"text-white":"text-gray-500 group-hover:text-purple-400"}`,children:w.icon}),u.jsx("span",{className:"font-medium text-sm",children:w.name})]},w.name))});return u.jsxs("div",{className:`flex flex-col md:flex-row h-screen overflow-hidden text-gray-100 relative ${p.performanceMode?"perf-mode":""}`,children:[u.jsx("div",{className:"fixed inset-0 z-[-3] bg-[#0f0720] static-purple-bg"}),p.liveBackground&&a&&u.jsx("div",{className:"fixed inset-0 pointer-events-none z-[-2] overflow-hidden",children:u.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-105",children:u.jsx("source",{src:a,type:"video/mp4"})},a)}),u.jsx("div",{className:`fixed inset-0 pointer-events-none z-[-1] transition-opacity duration-700 ${p.liveBackground?"bg-[#0f0720]/70":"bg-[#0f0720]/40"} ${p.performanceMode?"":"backdrop-blur-[3px]"}`}),u.jsxs("header",{className:"md:hidden flex items-center justify-between p-4 bg-black/40 backdrop-blur-md border-b border-white/10 z-30",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-purple-600 p-2 rounded-lg",children:u.jsx(ch,{className:"w-5 h-5 text-white"})}),u.jsx("h1",{className:"font-bold text-white text-lg",children:"Porter Portal"})]}),u.jsx("button",{onClick:()=>m(!0),className:"p-2 text-white hover:bg-white/10 rounded-lg transition","aria-label":"Open navigation menu",children:u.jsx(nae,{className:"w-6 h-6"})})]}),f&&u.jsxs("div",{className:"fixed inset-0 z-50 md:hidden flex",children:[u.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm animate-in fade-in",onClick:()=>m(!1)}),u.jsxs("div",{className:"relative w-4/5 max-w-xs bg-[#1a1b26] border-r border-white/10 h-full flex flex-col p-6 animate-in slide-in-from-left duration-300 shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-sm font-bold shadow-inner border border-white/20",children:t.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-bold text-white",children:p.privacyMode?((T=t.gamification)==null?void 0:T.codename)||"Agent":t.name}),u.jsx("p",{className:"text-[10px] text-gray-500",children:t.role})]})]}),u.jsx("button",{onClick:()=>m(!1),className:"p-2 text-gray-400 hover:text-white",children:u.jsx(us,{className:"w-6 h-6"})})]}),u.jsx("nav",{className:"flex-1 space-y-2 overflow-y-auto",children:u.jsx(b,{})}),u.jsxs("div",{className:"pt-6 border-t border-white/10 space-y-3",children:[u.jsxs("button",{onClick:()=>{d(!0),m(!1)},className:"w-full flex items-center gap-3 p-3 text-gray-400 hover:text-white hover:bg-white/5 rounded-xl transition",children:[u.jsx(up,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"Settings"})]}),u.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 p-3 text-red-400 hover:bg-red-500/10 rounded-xl transition",children:[u.jsx(dC,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})]})]}),u.jsx("aside",{className:`p-4 hidden md:flex flex-col z-10 transition-all ${p.compactView?"w-60":"w-72"}`,children:u.jsxs("div",{className:`h-full bg-white/5 border border-white/10 rounded-3xl flex flex-col shadow-2xl animate-glass-turn ${p.performanceMode?"":"backdrop-blur-2xl"}`,children:[u.jsxs("div",{className:"p-8 flex items-center gap-4 border-b border-white/5",children:[u.jsx("div",{className:"bg-purple-600 shadow-[0_0_15px_rgba(147,51,234,0.5)] p-3 rounded-xl",children:u.jsx(ch,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"font-bold text-lg tracking-tight text-white",children:"Porter Portal"}),u.jsx("p",{className:"text-xs text-purple-300 font-medium tracking-widest uppercase",children:t.role===Fi.ADMIN?"Admin System":"Operative Terminal"})]})]}),u.jsx("nav",{className:"flex-1 p-4 space-y-2 mt-4 overflow-y-auto custom-scrollbar",children:u.jsx(b,{})}),u.jsxs("div",{className:"p-6 border-t border-white/5 bg-black/10 rounded-b-3xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-sm font-bold shadow-inner border border-white/20",children:t.name.charAt(0)}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-sm font-semibold truncate text-white",children:p.privacyMode?((S=t.gamification)==null?void 0:S.codename)||"Agent":t.name}),u.jsx("p",{className:"text-[10px] text-gray-500 truncate",children:t.email})]})]}),u.jsx("button",{onClick:()=>d(!0),className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition",children:u.jsx(up,{className:"w-4 h-4"})})]}),u.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:text-red-300 transition-all text-sm font-medium",children:[u.jsx(dC,{className:"w-4 h-4"}),"Sign Out"]})]})]})}),u.jsx("main",{className:`flex-1 overflow-y-auto p-4 md:p-8 animate-fade-in z-10 ${p.performanceMode?"no-anim":"animate-slide-up"}`,children:u.jsx("div",{className:"max-w-7xl mx-auto h-full",children:i})}),u.jsx(jae,{isOpen:c,onClose:()=>d(!1),user:t,onSaveSettings:y})]})};class ua{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new ua(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class La{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new La(r,ua.range(this,e))}}class Ge{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,i,a,s=r&&r.loc;if(s&&s.start<=s.end){var c=s.lexer.input;i=s.start,a=s.end,i===c.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var d=c.slice(i,a).replace(/[^]/g,"$&"),f;i>15?f=""+c.slice(i-15,i):f=c.slice(0,i);var m;a+15<c.length?m=c.slice(a,a+15)+"":m=c.slice(a),n+=f+d+m}var p=new Error(n);return p.name="ParseError",p.__proto__=Ge.prototype,p.position=i,i!=null&&a!=null&&(p.length=a-i),p.rawMessage=e,p}}Ge.prototype.__proto__=Error.prototype;var Iae=function(e,r){return e===void 0?r:e},Rae=/([A-Z])/g,Mae=function(e){return e.replace(Rae,"-$1").toLowerCase()},Pae={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Dae=/[&><"']/g;function Lae(t){return String(t).replace(Dae,e=>Pae[e])}var J$=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},Bae=function(e){var r=J$(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},Uae=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},zae=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},dr={deflt:Iae,escape:Lae,hyphenate:Mae,getBaseElem:J$,isCharacterBox:Bae,protocolFromUrl:zae},rv={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function Vae(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class u8{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in rv)if(rv.hasOwnProperty(r)){var n=rv[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:Vae(n)}}reportNonstrict(e,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Ge("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,n){var i=this.strict;if(typeof i=="function")try{i=i(e,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=dr.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}class gc{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return no[$ae[this.id]]}sub(){return no[Fae[this.id]]}fracNum(){return no[qae[this.id]]}fracDen(){return no[Hae[this.id]]}cramp(){return no[Gae[this.id]]}text(){return no[Kae[this.id]]}isTight(){return this.size>=2}}var d8=0,Cv=1,Wd=2,cl=3,hp=4,rs=5,uh=6,Gi=7,no=[new gc(d8,0,!1),new gc(Cv,0,!0),new gc(Wd,1,!1),new gc(cl,1,!0),new gc(hp,2,!1),new gc(rs,2,!0),new gc(uh,3,!1),new gc(Gi,3,!0)],$ae=[hp,rs,hp,rs,uh,Gi,uh,Gi],Fae=[rs,rs,rs,rs,Gi,Gi,Gi,Gi],qae=[Wd,cl,hp,rs,uh,Gi,uh,Gi],Hae=[cl,cl,rs,rs,Gi,Gi,Gi,Gi],Gae=[Cv,Cv,cl,cl,rs,rs,Gi,Gi],Kae=[d8,Cv,Wd,cl,Wd,cl,Wd,cl],xt={DISPLAY:no[d8],TEXT:no[Wd],SCRIPT:no[hp],SCRIPTSCRIPT:no[uh]},sT=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Wae(t){for(var e=0;e<sT.length;e++)for(var r=sT[e],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(t>=i[0]&&t<=i[1])return r.name}return null}var nv=[];sT.forEach(t=>t.blocks.forEach(e=>nv.push(...e)));function eF(t){for(var e=0;e<nv.length;e+=2)if(t>=nv[e]&&t<=nv[e+1])return!0;return!1}var Nd=80,Xae=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Yae=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Qae=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Zae=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},Jae=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},ese=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},tse=function(e,r,n){var i=n-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},rse=function(e,r,n){r=1e3*r;var i="";switch(e){case"sqrtMain":i=Xae(r,Nd);break;case"sqrtSize1":i=Yae(r,Nd);break;case"sqrtSize2":i=Qae(r,Nd);break;case"sqrtSize3":i=Zae(r,Nd);break;case"sqrtSize4":i=Jae(r,Nd);break;case"sqrtTall":i=tse(r,Nd,n)}return i},nse=function(e,r){switch(e){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},vC={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},ise=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class gg{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var oo={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},my={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},bC={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function ase(t,e){oo[t]=e}function h8(t,e,r){if(!oo[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),i=oo[e][n];if(!i&&t[0]in bC&&(n=bC[t[0]].charCodeAt(0),i=oo[e][n]),!i&&r==="text"&&eF(n)&&(i=oo[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var Vw={};function sse(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Vw[e]){var r=Vw[e]={cssEmPerMu:my.quad[e]/18};for(var n in my)my.hasOwnProperty(n)&&(r[n]=my[n][e])}return Vw[e]}var ose=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],xC=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],wC=function(e,r){return r.size<2?e:ose[e-1][r.size-1]};class Qo{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Qo.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=xC[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new Qo(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:wC(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:xC[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=wC(Qo.BASESIZE,e);return this.size===r&&this.textSize===Qo.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Qo.BASESIZE?["sizing","reset-size"+this.size,"size"+Qo.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=sse(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Qo.BASESIZE=6;var oT={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},lse={ex:!0,em:!0,mu:!0},tF=function(e){return typeof e!="string"&&(e=e.unit),e in oT||e in lse||e==="ex"},an=function(e,r){var n;if(e.unit in oT)n=oT[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new Ge("Invalid unit: '"+e.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*n,r.maxSize)},Ye=function(e){return+e.toFixed(4)+"em"},Gc=function(e){return e.filter(r=>r).join(" ")},rF=function(e,r,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},nF=function(e){var r=document.createElement(e);r.className=Gc(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r},cse=/[\s"'>/=\x00-\x1f]/,iF=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+dr.escape(Gc(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=dr.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+dr.escape(n)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(cse.test(a))throw new Ge("Invalid attribute name '"+a+"'");r+=" "+a+'="'+dr.escape(this.attributes[a])+'"'}r+=">";for(var s=0;s<this.children.length;s++)r+=this.children[s].toMarkup();return r+="</"+e+">",r};class yg{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,rF.call(this,e,n,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return nF.call(this,"span")}toMarkup(){return iF.call(this,"span")}}class f8{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,rF.call(this,r,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return nF.call(this,"a")}toMarkup(){return iF.call(this,"a")}}class use{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+dr.escape(this.src)+'"'+(' alt="'+dr.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=dr.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+dr.escape(r)+'"'),e+="'/>",e}}var dse={:"",:"",:"",:""};class ds{constructor(e,r,n,i,a,s,c,d){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=c||[],this.style=d||{},this.maxFontSize=0;var f=Wae(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[]/.test(this.text)&&(this.text=dse[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=Ye(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Gc(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=dr.escape(Gc(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=dr.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,r+=' style="'+dr.escape(n)+'"');var a=dr.escape(this.text);return e?(r+=">",r+=a,r+="</span>",r):a}}class xl{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+dr.escape(this.attributes[r])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class Kc{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",vC[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+dr.escape(this.alternate)+'"/>':'<path d="'+dr.escape(vC[this.pathName])+'"/>'}}class lT{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+dr.escape(this.attributes[r])+'"');return e+="/>",e}}function _C(t){if(t instanceof ds)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function hse(t){if(t instanceof yg)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var fse={bin:1,close:1,inner:1,open:1,punct:1,rel:1},mse={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},$r={math:{},text:{}};function N(t,e,r,n,i,a){$r[t][i]={font:e,group:r,replace:n},a&&n&&($r[t][n]=$r[t][i])}var P="math",Ue="text",q="main",re="ams",en="accent-token",at="bin",Yi="close",Hh="inner",bt="mathord",zn="op-token",za="open",wx="punct",ne="rel",kl="spacing",fe="textord";N(P,q,ne,"","\\equiv",!0);N(P,q,ne,"","\\prec",!0);N(P,q,ne,"","\\succ",!0);N(P,q,ne,"","\\sim",!0);N(P,q,ne,"","\\perp");N(P,q,ne,"","\\preceq",!0);N(P,q,ne,"","\\succeq",!0);N(P,q,ne,"","\\simeq",!0);N(P,q,ne,"","\\mid",!0);N(P,q,ne,"","\\ll",!0);N(P,q,ne,"","\\gg",!0);N(P,q,ne,"","\\asymp",!0);N(P,q,ne,"","\\parallel");N(P,q,ne,"","\\bowtie",!0);N(P,q,ne,"","\\smile",!0);N(P,q,ne,"","\\sqsubseteq",!0);N(P,q,ne,"","\\sqsupseteq",!0);N(P,q,ne,"","\\doteq",!0);N(P,q,ne,"","\\frown",!0);N(P,q,ne,"","\\ni",!0);N(P,q,ne,"","\\propto",!0);N(P,q,ne,"","\\vdash",!0);N(P,q,ne,"","\\dashv",!0);N(P,q,ne,"","\\owns");N(P,q,wx,".","\\ldotp");N(P,q,wx,"","\\cdotp");N(P,q,fe,"#","\\#");N(Ue,q,fe,"#","\\#");N(P,q,fe,"&","\\&");N(Ue,q,fe,"&","\\&");N(P,q,fe,"","\\aleph",!0);N(P,q,fe,"","\\forall",!0);N(P,q,fe,"","\\hbar",!0);N(P,q,fe,"","\\exists",!0);N(P,q,fe,"","\\nabla",!0);N(P,q,fe,"","\\flat",!0);N(P,q,fe,"","\\ell",!0);N(P,q,fe,"","\\natural",!0);N(P,q,fe,"","\\clubsuit",!0);N(P,q,fe,"","\\wp",!0);N(P,q,fe,"","\\sharp",!0);N(P,q,fe,"","\\diamondsuit",!0);N(P,q,fe,"","\\Re",!0);N(P,q,fe,"","\\heartsuit",!0);N(P,q,fe,"","\\Im",!0);N(P,q,fe,"","\\spadesuit",!0);N(P,q,fe,"","\\S",!0);N(Ue,q,fe,"","\\S");N(P,q,fe,"","\\P",!0);N(Ue,q,fe,"","\\P");N(P,q,fe,"","\\dag");N(Ue,q,fe,"","\\dag");N(Ue,q,fe,"","\\textdagger");N(P,q,fe,"","\\ddag");N(Ue,q,fe,"","\\ddag");N(Ue,q,fe,"","\\textdaggerdbl");N(P,q,Yi,"","\\rmoustache",!0);N(P,q,za,"","\\lmoustache",!0);N(P,q,Yi,"","\\rgroup",!0);N(P,q,za,"","\\lgroup",!0);N(P,q,at,"","\\mp",!0);N(P,q,at,"","\\ominus",!0);N(P,q,at,"","\\uplus",!0);N(P,q,at,"","\\sqcap",!0);N(P,q,at,"","\\ast");N(P,q,at,"","\\sqcup",!0);N(P,q,at,"","\\bigcirc",!0);N(P,q,at,"","\\bullet",!0);N(P,q,at,"","\\ddagger");N(P,q,at,"","\\wr",!0);N(P,q,at,"","\\amalg");N(P,q,at,"&","\\And");N(P,q,ne,"","\\longleftarrow",!0);N(P,q,ne,"","\\Leftarrow",!0);N(P,q,ne,"","\\Longleftarrow",!0);N(P,q,ne,"","\\longrightarrow",!0);N(P,q,ne,"","\\Rightarrow",!0);N(P,q,ne,"","\\Longrightarrow",!0);N(P,q,ne,"","\\leftrightarrow",!0);N(P,q,ne,"","\\longleftrightarrow",!0);N(P,q,ne,"","\\Leftrightarrow",!0);N(P,q,ne,"","\\Longleftrightarrow",!0);N(P,q,ne,"","\\mapsto",!0);N(P,q,ne,"","\\longmapsto",!0);N(P,q,ne,"","\\nearrow",!0);N(P,q,ne,"","\\hookleftarrow",!0);N(P,q,ne,"","\\hookrightarrow",!0);N(P,q,ne,"","\\searrow",!0);N(P,q,ne,"","\\leftharpoonup",!0);N(P,q,ne,"","\\rightharpoonup",!0);N(P,q,ne,"","\\swarrow",!0);N(P,q,ne,"","\\leftharpoondown",!0);N(P,q,ne,"","\\rightharpoondown",!0);N(P,q,ne,"","\\nwarrow",!0);N(P,q,ne,"","\\rightleftharpoons",!0);N(P,re,ne,"","\\nless",!0);N(P,re,ne,"","\\@nleqslant");N(P,re,ne,"","\\@nleqq");N(P,re,ne,"","\\lneq",!0);N(P,re,ne,"","\\lneqq",!0);N(P,re,ne,"","\\@lvertneqq");N(P,re,ne,"","\\lnsim",!0);N(P,re,ne,"","\\lnapprox",!0);N(P,re,ne,"","\\nprec",!0);N(P,re,ne,"","\\npreceq",!0);N(P,re,ne,"","\\precnsim",!0);N(P,re,ne,"","\\precnapprox",!0);N(P,re,ne,"","\\nsim",!0);N(P,re,ne,"","\\@nshortmid");N(P,re,ne,"","\\nmid",!0);N(P,re,ne,"","\\nvdash",!0);N(P,re,ne,"","\\nvDash",!0);N(P,re,ne,"","\\ntriangleleft");N(P,re,ne,"","\\ntrianglelefteq",!0);N(P,re,ne,"","\\subsetneq",!0);N(P,re,ne,"","\\@varsubsetneq");N(P,re,ne,"","\\subsetneqq",!0);N(P,re,ne,"","\\@varsubsetneqq");N(P,re,ne,"","\\ngtr",!0);N(P,re,ne,"","\\@ngeqslant");N(P,re,ne,"","\\@ngeqq");N(P,re,ne,"","\\gneq",!0);N(P,re,ne,"","\\gneqq",!0);N(P,re,ne,"","\\@gvertneqq");N(P,re,ne,"","\\gnsim",!0);N(P,re,ne,"","\\gnapprox",!0);N(P,re,ne,"","\\nsucc",!0);N(P,re,ne,"","\\nsucceq",!0);N(P,re,ne,"","\\succnsim",!0);N(P,re,ne,"","\\succnapprox",!0);N(P,re,ne,"","\\ncong",!0);N(P,re,ne,"","\\@nshortparallel");N(P,re,ne,"","\\nparallel",!0);N(P,re,ne,"","\\nVDash",!0);N(P,re,ne,"","\\ntriangleright");N(P,re,ne,"","\\ntrianglerighteq",!0);N(P,re,ne,"","\\@nsupseteqq");N(P,re,ne,"","\\supsetneq",!0);N(P,re,ne,"","\\@varsupsetneq");N(P,re,ne,"","\\supsetneqq",!0);N(P,re,ne,"","\\@varsupsetneqq");N(P,re,ne,"","\\nVdash",!0);N(P,re,ne,"","\\precneqq",!0);N(P,re,ne,"","\\succneqq",!0);N(P,re,ne,"","\\@nsubseteqq");N(P,re,at,"","\\unlhd");N(P,re,at,"","\\unrhd");N(P,re,ne,"","\\nleftarrow",!0);N(P,re,ne,"","\\nrightarrow",!0);N(P,re,ne,"","\\nLeftarrow",!0);N(P,re,ne,"","\\nRightarrow",!0);N(P,re,ne,"","\\nleftrightarrow",!0);N(P,re,ne,"","\\nLeftrightarrow",!0);N(P,re,ne,"","\\vartriangle");N(P,re,fe,"","\\hslash");N(P,re,fe,"","\\triangledown");N(P,re,fe,"","\\lozenge");N(P,re,fe,"","\\circledS");N(P,re,fe,"","\\circledR");N(Ue,re,fe,"","\\circledR");N(P,re,fe,"","\\measuredangle",!0);N(P,re,fe,"","\\nexists");N(P,re,fe,"","\\mho");N(P,re,fe,"","\\Finv",!0);N(P,re,fe,"","\\Game",!0);N(P,re,fe,"","\\backprime");N(P,re,fe,"","\\blacktriangle");N(P,re,fe,"","\\blacktriangledown");N(P,re,fe,"","\\blacksquare");N(P,re,fe,"","\\blacklozenge");N(P,re,fe,"","\\bigstar");N(P,re,fe,"","\\sphericalangle",!0);N(P,re,fe,"","\\complement",!0);N(P,re,fe,"","\\eth",!0);N(Ue,q,fe,"","");N(P,re,fe,"","\\diagup");N(P,re,fe,"","\\diagdown");N(P,re,fe,"","\\square");N(P,re,fe,"","\\Box");N(P,re,fe,"","\\Diamond");N(P,re,fe,"","\\yen",!0);N(Ue,re,fe,"","\\yen",!0);N(P,re,fe,"","\\checkmark",!0);N(Ue,re,fe,"","\\checkmark");N(P,re,fe,"","\\beth",!0);N(P,re,fe,"","\\daleth",!0);N(P,re,fe,"","\\gimel",!0);N(P,re,fe,"","\\digamma",!0);N(P,re,fe,"","\\varkappa");N(P,re,za,"","\\@ulcorner",!0);N(P,re,Yi,"","\\@urcorner",!0);N(P,re,za,"","\\@llcorner",!0);N(P,re,Yi,"","\\@lrcorner",!0);N(P,re,ne,"","\\leqq",!0);N(P,re,ne,"","\\leqslant",!0);N(P,re,ne,"","\\eqslantless",!0);N(P,re,ne,"","\\lesssim",!0);N(P,re,ne,"","\\lessapprox",!0);N(P,re,ne,"","\\approxeq",!0);N(P,re,at,"","\\lessdot");N(P,re,ne,"","\\lll",!0);N(P,re,ne,"","\\lessgtr",!0);N(P,re,ne,"","\\lesseqgtr",!0);N(P,re,ne,"","\\lesseqqgtr",!0);N(P,re,ne,"","\\doteqdot");N(P,re,ne,"","\\risingdotseq",!0);N(P,re,ne,"","\\fallingdotseq",!0);N(P,re,ne,"","\\backsim",!0);N(P,re,ne,"","\\backsimeq",!0);N(P,re,ne,"","\\subseteqq",!0);N(P,re,ne,"","\\Subset",!0);N(P,re,ne,"","\\sqsubset",!0);N(P,re,ne,"","\\preccurlyeq",!0);N(P,re,ne,"","\\curlyeqprec",!0);N(P,re,ne,"","\\precsim",!0);N(P,re,ne,"","\\precapprox",!0);N(P,re,ne,"","\\vartriangleleft");N(P,re,ne,"","\\trianglelefteq");N(P,re,ne,"","\\vDash",!0);N(P,re,ne,"","\\Vvdash",!0);N(P,re,ne,"","\\smallsmile");N(P,re,ne,"","\\smallfrown");N(P,re,ne,"","\\bumpeq",!0);N(P,re,ne,"","\\Bumpeq",!0);N(P,re,ne,"","\\geqq",!0);N(P,re,ne,"","\\geqslant",!0);N(P,re,ne,"","\\eqslantgtr",!0);N(P,re,ne,"","\\gtrsim",!0);N(P,re,ne,"","\\gtrapprox",!0);N(P,re,at,"","\\gtrdot");N(P,re,ne,"","\\ggg",!0);N(P,re,ne,"","\\gtrless",!0);N(P,re,ne,"","\\gtreqless",!0);N(P,re,ne,"","\\gtreqqless",!0);N(P,re,ne,"","\\eqcirc",!0);N(P,re,ne,"","\\circeq",!0);N(P,re,ne,"","\\triangleq",!0);N(P,re,ne,"","\\thicksim");N(P,re,ne,"","\\thickapprox");N(P,re,ne,"","\\supseteqq",!0);N(P,re,ne,"","\\Supset",!0);N(P,re,ne,"","\\sqsupset",!0);N(P,re,ne,"","\\succcurlyeq",!0);N(P,re,ne,"","\\curlyeqsucc",!0);N(P,re,ne,"","\\succsim",!0);N(P,re,ne,"","\\succapprox",!0);N(P,re,ne,"","\\vartriangleright");N(P,re,ne,"","\\trianglerighteq");N(P,re,ne,"","\\Vdash",!0);N(P,re,ne,"","\\shortmid");N(P,re,ne,"","\\shortparallel");N(P,re,ne,"","\\between",!0);N(P,re,ne,"","\\pitchfork",!0);N(P,re,ne,"","\\varpropto");N(P,re,ne,"","\\blacktriangleleft");N(P,re,ne,"","\\therefore",!0);N(P,re,ne,"","\\backepsilon");N(P,re,ne,"","\\blacktriangleright");N(P,re,ne,"","\\because",!0);N(P,re,ne,"","\\llless");N(P,re,ne,"","\\gggtr");N(P,re,at,"","\\lhd");N(P,re,at,"","\\rhd");N(P,re,ne,"","\\eqsim",!0);N(P,q,ne,"","\\Join");N(P,re,ne,"","\\Doteq",!0);N(P,re,at,"","\\dotplus",!0);N(P,re,at,"","\\smallsetminus");N(P,re,at,"","\\Cap",!0);N(P,re,at,"","\\Cup",!0);N(P,re,at,"","\\doublebarwedge",!0);N(P,re,at,"","\\boxminus",!0);N(P,re,at,"","\\boxplus",!0);N(P,re,at,"","\\divideontimes",!0);N(P,re,at,"","\\ltimes",!0);N(P,re,at,"","\\rtimes",!0);N(P,re,at,"","\\leftthreetimes",!0);N(P,re,at,"","\\rightthreetimes",!0);N(P,re,at,"","\\curlywedge",!0);N(P,re,at,"","\\curlyvee",!0);N(P,re,at,"","\\circleddash",!0);N(P,re,at,"","\\circledast",!0);N(P,re,at,"","\\centerdot");N(P,re,at,"","\\intercal",!0);N(P,re,at,"","\\doublecap");N(P,re,at,"","\\doublecup");N(P,re,at,"","\\boxtimes",!0);N(P,re,ne,"","\\dashrightarrow",!0);N(P,re,ne,"","\\dashleftarrow",!0);N(P,re,ne,"","\\leftleftarrows",!0);N(P,re,ne,"","\\leftrightarrows",!0);N(P,re,ne,"","\\Lleftarrow",!0);N(P,re,ne,"","\\twoheadleftarrow",!0);N(P,re,ne,"","\\leftarrowtail",!0);N(P,re,ne,"","\\looparrowleft",!0);N(P,re,ne,"","\\leftrightharpoons",!0);N(P,re,ne,"","\\curvearrowleft",!0);N(P,re,ne,"","\\circlearrowleft",!0);N(P,re,ne,"","\\Lsh",!0);N(P,re,ne,"","\\upuparrows",!0);N(P,re,ne,"","\\upharpoonleft",!0);N(P,re,ne,"","\\downharpoonleft",!0);N(P,q,ne,"","\\origof",!0);N(P,q,ne,"","\\imageof",!0);N(P,re,ne,"","\\multimap",!0);N(P,re,ne,"","\\leftrightsquigarrow",!0);N(P,re,ne,"","\\rightrightarrows",!0);N(P,re,ne,"","\\rightleftarrows",!0);N(P,re,ne,"","\\twoheadrightarrow",!0);N(P,re,ne,"","\\rightarrowtail",!0);N(P,re,ne,"","\\looparrowright",!0);N(P,re,ne,"","\\curvearrowright",!0);N(P,re,ne,"","\\circlearrowright",!0);N(P,re,ne,"","\\Rsh",!0);N(P,re,ne,"","\\downdownarrows",!0);N(P,re,ne,"","\\upharpoonright",!0);N(P,re,ne,"","\\downharpoonright",!0);N(P,re,ne,"","\\rightsquigarrow",!0);N(P,re,ne,"","\\leadsto");N(P,re,ne,"","\\Rrightarrow",!0);N(P,re,ne,"","\\restriction");N(P,q,fe,"","`");N(P,q,fe,"$","\\$");N(Ue,q,fe,"$","\\$");N(Ue,q,fe,"$","\\textdollar");N(P,q,fe,"%","\\%");N(Ue,q,fe,"%","\\%");N(P,q,fe,"_","\\_");N(Ue,q,fe,"_","\\_");N(Ue,q,fe,"_","\\textunderscore");N(P,q,fe,"","\\angle",!0);N(P,q,fe,"","\\infty",!0);N(P,q,fe,"","\\prime");N(P,q,fe,"","\\triangle");N(P,q,fe,"","\\Gamma",!0);N(P,q,fe,"","\\Delta",!0);N(P,q,fe,"","\\Theta",!0);N(P,q,fe,"","\\Lambda",!0);N(P,q,fe,"","\\Xi",!0);N(P,q,fe,"","\\Pi",!0);N(P,q,fe,"","\\Sigma",!0);N(P,q,fe,"","\\Upsilon",!0);N(P,q,fe,"","\\Phi",!0);N(P,q,fe,"","\\Psi",!0);N(P,q,fe,"","\\Omega",!0);N(P,q,fe,"A","");N(P,q,fe,"B","");N(P,q,fe,"E","");N(P,q,fe,"Z","");N(P,q,fe,"H","");N(P,q,fe,"I","");N(P,q,fe,"K","");N(P,q,fe,"M","");N(P,q,fe,"N","");N(P,q,fe,"O","");N(P,q,fe,"P","");N(P,q,fe,"T","");N(P,q,fe,"X","");N(P,q,fe,"","\\neg",!0);N(P,q,fe,"","\\lnot");N(P,q,fe,"","\\top");N(P,q,fe,"","\\bot");N(P,q,fe,"","\\emptyset");N(P,re,fe,"","\\varnothing");N(P,q,bt,"","\\alpha",!0);N(P,q,bt,"","\\beta",!0);N(P,q,bt,"","\\gamma",!0);N(P,q,bt,"","\\delta",!0);N(P,q,bt,"","\\epsilon",!0);N(P,q,bt,"","\\zeta",!0);N(P,q,bt,"","\\eta",!0);N(P,q,bt,"","\\theta",!0);N(P,q,bt,"","\\iota",!0);N(P,q,bt,"","\\kappa",!0);N(P,q,bt,"","\\lambda",!0);N(P,q,bt,"","\\mu",!0);N(P,q,bt,"","\\nu",!0);N(P,q,bt,"","\\xi",!0);N(P,q,bt,"","\\omicron",!0);N(P,q,bt,"","\\pi",!0);N(P,q,bt,"","\\rho",!0);N(P,q,bt,"","\\sigma",!0);N(P,q,bt,"","\\tau",!0);N(P,q,bt,"","\\upsilon",!0);N(P,q,bt,"","\\phi",!0);N(P,q,bt,"","\\chi",!0);N(P,q,bt,"","\\psi",!0);N(P,q,bt,"","\\omega",!0);N(P,q,bt,"","\\varepsilon",!0);N(P,q,bt,"","\\vartheta",!0);N(P,q,bt,"","\\varpi",!0);N(P,q,bt,"","\\varrho",!0);N(P,q,bt,"","\\varsigma",!0);N(P,q,bt,"","\\varphi",!0);N(P,q,at,"","*",!0);N(P,q,at,"+","+");N(P,q,at,"","-",!0);N(P,q,at,"","\\cdot",!0);N(P,q,at,"","\\circ",!0);N(P,q,at,"","\\div",!0);N(P,q,at,"","\\pm",!0);N(P,q,at,"","\\times",!0);N(P,q,at,"","\\cap",!0);N(P,q,at,"","\\cup",!0);N(P,q,at,"","\\setminus",!0);N(P,q,at,"","\\land");N(P,q,at,"","\\lor");N(P,q,at,"","\\wedge",!0);N(P,q,at,"","\\vee",!0);N(P,q,fe,"","\\surd");N(P,q,za,"","\\langle",!0);N(P,q,za,"","\\lvert");N(P,q,za,"","\\lVert");N(P,q,Yi,"?","?");N(P,q,Yi,"!","!");N(P,q,Yi,"","\\rangle",!0);N(P,q,Yi,"","\\rvert");N(P,q,Yi,"","\\rVert");N(P,q,ne,"=","=");N(P,q,ne,":",":");N(P,q,ne,"","\\approx",!0);N(P,q,ne,"","\\cong",!0);N(P,q,ne,"","\\ge");N(P,q,ne,"","\\geq",!0);N(P,q,ne,"","\\gets");N(P,q,ne,">","\\gt",!0);N(P,q,ne,"","\\in",!0);N(P,q,ne,"","\\@not");N(P,q,ne,"","\\subset",!0);N(P,q,ne,"","\\supset",!0);N(P,q,ne,"","\\subseteq",!0);N(P,q,ne,"","\\supseteq",!0);N(P,re,ne,"","\\nsubseteq",!0);N(P,re,ne,"","\\nsupseteq",!0);N(P,q,ne,"","\\models");N(P,q,ne,"","\\leftarrow",!0);N(P,q,ne,"","\\le");N(P,q,ne,"","\\leq",!0);N(P,q,ne,"<","\\lt",!0);N(P,q,ne,"","\\rightarrow",!0);N(P,q,ne,"","\\to");N(P,re,ne,"","\\ngeq",!0);N(P,re,ne,"","\\nleq",!0);N(P,q,kl,"","\\ ");N(P,q,kl,"","\\space");N(P,q,kl,"","\\nobreakspace");N(Ue,q,kl,"","\\ ");N(Ue,q,kl,""," ");N(Ue,q,kl,"","\\space");N(Ue,q,kl,"","\\nobreakspace");N(P,q,kl,null,"\\nobreak");N(P,q,kl,null,"\\allowbreak");N(P,q,wx,",",",");N(P,q,wx,";",";");N(P,re,at,"","\\barwedge",!0);N(P,re,at,"","\\veebar",!0);N(P,q,at,"","\\odot",!0);N(P,q,at,"","\\oplus",!0);N(P,q,at,"","\\otimes",!0);N(P,q,fe,"","\\partial",!0);N(P,q,at,"","\\oslash",!0);N(P,re,at,"","\\circledcirc",!0);N(P,re,at,"","\\boxdot",!0);N(P,q,at,"","\\bigtriangleup");N(P,q,at,"","\\bigtriangledown");N(P,q,at,"","\\dagger");N(P,q,at,"","\\diamond");N(P,q,at,"","\\star");N(P,q,at,"","\\triangleleft");N(P,q,at,"","\\triangleright");N(P,q,za,"{","\\{");N(Ue,q,fe,"{","\\{");N(Ue,q,fe,"{","\\textbraceleft");N(P,q,Yi,"}","\\}");N(Ue,q,fe,"}","\\}");N(Ue,q,fe,"}","\\textbraceright");N(P,q,za,"{","\\lbrace");N(P,q,Yi,"}","\\rbrace");N(P,q,za,"[","\\lbrack",!0);N(Ue,q,fe,"[","\\lbrack",!0);N(P,q,Yi,"]","\\rbrack",!0);N(Ue,q,fe,"]","\\rbrack",!0);N(P,q,za,"(","\\lparen",!0);N(P,q,Yi,")","\\rparen",!0);N(Ue,q,fe,"<","\\textless",!0);N(Ue,q,fe,">","\\textgreater",!0);N(P,q,za,"","\\lfloor",!0);N(P,q,Yi,"","\\rfloor",!0);N(P,q,za,"","\\lceil",!0);N(P,q,Yi,"","\\rceil",!0);N(P,q,fe,"\\","\\backslash");N(P,q,fe,"","|");N(P,q,fe,"","\\vert");N(Ue,q,fe,"|","\\textbar",!0);N(P,q,fe,"","\\|");N(P,q,fe,"","\\Vert");N(Ue,q,fe,"","\\textbardbl");N(Ue,q,fe,"~","\\textasciitilde");N(Ue,q,fe,"\\","\\textbackslash");N(Ue,q,fe,"^","\\textasciicircum");N(P,q,ne,"","\\uparrow",!0);N(P,q,ne,"","\\Uparrow",!0);N(P,q,ne,"","\\downarrow",!0);N(P,q,ne,"","\\Downarrow",!0);N(P,q,ne,"","\\updownarrow",!0);N(P,q,ne,"","\\Updownarrow",!0);N(P,q,zn,"","\\coprod");N(P,q,zn,"","\\bigvee");N(P,q,zn,"","\\bigwedge");N(P,q,zn,"","\\biguplus");N(P,q,zn,"","\\bigcap");N(P,q,zn,"","\\bigcup");N(P,q,zn,"","\\int");N(P,q,zn,"","\\intop");N(P,q,zn,"","\\iint");N(P,q,zn,"","\\iiint");N(P,q,zn,"","\\prod");N(P,q,zn,"","\\sum");N(P,q,zn,"","\\bigotimes");N(P,q,zn,"","\\bigoplus");N(P,q,zn,"","\\bigodot");N(P,q,zn,"","\\oint");N(P,q,zn,"","\\oiint");N(P,q,zn,"","\\oiiint");N(P,q,zn,"","\\bigsqcup");N(P,q,zn,"","\\smallint");N(Ue,q,Hh,"","\\textellipsis");N(P,q,Hh,"","\\mathellipsis");N(Ue,q,Hh,"","\\ldots",!0);N(P,q,Hh,"","\\ldots",!0);N(P,q,Hh,"","\\@cdots",!0);N(P,q,Hh,"","\\ddots",!0);N(P,q,fe,"","\\varvdots");N(Ue,q,fe,"","\\varvdots");N(P,q,en,"","\\acute");N(P,q,en,"","\\grave");N(P,q,en,"","\\ddot");N(P,q,en,"~","\\tilde");N(P,q,en,"","\\bar");N(P,q,en,"","\\breve");N(P,q,en,"","\\check");N(P,q,en,"^","\\hat");N(P,q,en,"","\\vec");N(P,q,en,"","\\dot");N(P,q,en,"","\\mathring");N(P,q,bt,"","\\@imath");N(P,q,bt,"","\\@jmath");N(P,q,fe,"","");N(P,q,fe,"","");N(Ue,q,fe,"","\\i",!0);N(Ue,q,fe,"","\\j",!0);N(Ue,q,fe,"","\\ss",!0);N(Ue,q,fe,"","\\ae",!0);N(Ue,q,fe,"","\\oe",!0);N(Ue,q,fe,"","\\o",!0);N(Ue,q,fe,"","\\AE",!0);N(Ue,q,fe,"","\\OE",!0);N(Ue,q,fe,"","\\O",!0);N(Ue,q,en,"","\\'");N(Ue,q,en,"","\\`");N(Ue,q,en,"","\\^");N(Ue,q,en,"","\\~");N(Ue,q,en,"","\\=");N(Ue,q,en,"","\\u");N(Ue,q,en,"","\\.");N(Ue,q,en,"","\\c");N(Ue,q,en,"","\\r");N(Ue,q,en,"","\\v");N(Ue,q,en,"",'\\"');N(Ue,q,en,"","\\H");N(Ue,q,en,"","\\textcircled");var aF={"--":!0,"---":!0,"``":!0,"''":!0};N(Ue,q,fe,"","--",!0);N(Ue,q,fe,"","\\textendash");N(Ue,q,fe,"","---",!0);N(Ue,q,fe,"","\\textemdash");N(Ue,q,fe,"","`",!0);N(Ue,q,fe,"","\\textquoteleft");N(Ue,q,fe,"","'",!0);N(Ue,q,fe,"","\\textquoteright");N(Ue,q,fe,"","``",!0);N(Ue,q,fe,"","\\textquotedblleft");N(Ue,q,fe,"","''",!0);N(Ue,q,fe,"","\\textquotedblright");N(P,q,fe,"","\\degree",!0);N(Ue,q,fe,"","\\degree");N(Ue,q,fe,"","\\textdegree",!0);N(P,q,fe,"","\\pounds");N(P,q,fe,"","\\mathsterling",!0);N(Ue,q,fe,"","\\pounds");N(Ue,q,fe,"","\\textsterling",!0);N(P,re,fe,"","\\maltese");N(Ue,re,fe,"","\\maltese");var SC='0123456789/@."';for(var $w=0;$w<SC.length;$w++){var TC=SC.charAt($w);N(P,q,fe,TC,TC)}var AC='0123456789!@*()-=+";:?/.,';for(var Fw=0;Fw<AC.length;Fw++){var EC=AC.charAt(Fw);N(Ue,q,fe,EC,EC)}var Iv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var qw=0;qw<Iv.length;qw++){var py=Iv.charAt(qw);N(P,q,bt,py,py),N(Ue,q,fe,py,py)}N(P,re,fe,"C","");N(Ue,re,fe,"C","");N(P,re,fe,"H","");N(Ue,re,fe,"H","");N(P,re,fe,"N","");N(Ue,re,fe,"N","");N(P,re,fe,"P","");N(Ue,re,fe,"P","");N(P,re,fe,"Q","");N(Ue,re,fe,"Q","");N(P,re,fe,"R","");N(Ue,re,fe,"R","");N(P,re,fe,"Z","");N(Ue,re,fe,"Z","");N(P,q,bt,"h","");N(Ue,q,bt,"h","");var At="";for(var Ui=0;Ui<Iv.length;Ui++){var hn=Iv.charAt(Ui);At=String.fromCharCode(55349,56320+Ui),N(P,q,bt,hn,At),N(Ue,q,fe,hn,At),At=String.fromCharCode(55349,56372+Ui),N(P,q,bt,hn,At),N(Ue,q,fe,hn,At),At=String.fromCharCode(55349,56424+Ui),N(P,q,bt,hn,At),N(Ue,q,fe,hn,At),At=String.fromCharCode(55349,56580+Ui),N(P,q,bt,hn,At),N(Ue,q,fe,hn,At),At=String.fromCharCode(55349,56684+Ui),N(P,q,bt,hn,At),N(Ue,q,fe,hn,At),At=String.fromCharCode(55349,56736+Ui),N(P,q,bt,hn,At),N(Ue,q,fe,hn,At),At=String.fromCharCode(55349,56788+Ui),N(P,q,bt,hn,At),N(Ue,q,fe,hn,At),At=String.fromCharCode(55349,56840+Ui),N(P,q,bt,hn,At),N(Ue,q,fe,hn,At),At=String.fromCharCode(55349,56944+Ui),N(P,q,bt,hn,At),N(Ue,q,fe,hn,At),Ui<26&&(At=String.fromCharCode(55349,56632+Ui),N(P,q,bt,hn,At),N(Ue,q,fe,hn,At),At=String.fromCharCode(55349,56476+Ui),N(P,q,bt,hn,At),N(Ue,q,fe,hn,At))}At="";N(P,q,bt,"k",At);N(Ue,q,fe,"k",At);for(var ku=0;ku<10;ku++){var yc=ku.toString();At=String.fromCharCode(55349,57294+ku),N(P,q,bt,yc,At),N(Ue,q,fe,yc,At),At=String.fromCharCode(55349,57314+ku),N(P,q,bt,yc,At),N(Ue,q,fe,yc,At),At=String.fromCharCode(55349,57324+ku),N(P,q,bt,yc,At),N(Ue,q,fe,yc,At),At=String.fromCharCode(55349,57334+ku),N(P,q,bt,yc,At),N(Ue,q,fe,yc,At)}var cT="";for(var Hw=0;Hw<cT.length;Hw++){var gy=cT.charAt(Hw);N(P,q,bt,gy,gy),N(Ue,q,fe,gy,gy)}var yy=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],NC=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],pse=function(e,r){var n=e.charCodeAt(0),i=e.charCodeAt(1),a=(n-55296)*1024+(i-56320)+65536,s=r==="math"?0:1;if(119808<=a&&a<120484){var c=Math.floor((a-119808)/26);return[yy[c][2],yy[c][s]]}else if(120782<=a&&a<=120831){var d=Math.floor((a-120782)/10);return[NC[d][2],NC[d][s]]}else{if(a===120485||a===120486)return[yy[0][2],yy[0][s]];if(120486<a&&a<120782)return["",""];throw new Ge("Unsupported character: "+e)}},_x=function(e,r,n){return $r[n][e]&&$r[n][e].replace&&(e=$r[n][e].replace),{value:e,metrics:h8(e,r,n)}},ks=function(e,r,n,i,a){var s=_x(e,r,n),c=s.metrics;e=s.value;var d;if(c){var f=c.italic;(n==="text"||i&&i.font==="mathit")&&(f=0),d=new ds(e,c.height,c.depth,f,c.skew,c.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+n+"'")),d=new ds(e,0,0,0,0,0,a);if(i){d.maxFontSize=i.sizeMultiplier,i.style.isTight()&&d.classes.push("mtight");var m=i.getColor();m&&(d.style.color=m)}return d},gse=function(e,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&_x(e,"Main-Bold",r).metrics?ks(e,"Main-Bold",r,n,i.concat(["mathbf"])):e==="\\"||$r[r][e].font==="main"?ks(e,"Main-Regular",r,n,i):ks(e,"AMS-Regular",r,n,i.concat(["amsrm"]))},yse=function(e,r,n,i,a){return a!=="textord"&&_x(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},vse=function(e,r,n){var i=e.mode,a=e.text,s=["mord"],c=i==="math"||i==="text"&&r.font,d=c?r.font:r.fontFamily,f="",m="";if(a.charCodeAt(0)===55349&&([f,m]=pse(a,i)),f.length>0)return ks(a,f,i,r,s.concat(m));if(d){var p,y;if(d==="boldsymbol"){var b=yse(a,i,r,s,n);p=b.fontName,y=[b.fontClass]}else c?(p=lF[d].fontName,y=[d]):(p=vy(d,r.fontWeight,r.fontShape),y=[d,r.fontWeight,r.fontShape]);if(_x(a,p,i).metrics)return ks(a,p,i,r,s.concat(y));if(aF.hasOwnProperty(a)&&p.slice(0,10)==="Typewriter"){for(var T=[],S=0;S<a.length;S++)T.push(ks(a[S],p,i,r,s.concat(y)));return oF(T)}}if(n==="mathord")return ks(a,"Math-Italic",i,r,s.concat(["mathnormal"]));if(n==="textord"){var w=$r[i][a]&&$r[i][a].font;if(w==="ams"){var O=vy("amsrm",r.fontWeight,r.fontShape);return ks(a,O,i,r,s.concat("amsrm",r.fontWeight,r.fontShape))}else if(w==="main"||!w){var R=vy("textrm",r.fontWeight,r.fontShape);return ks(a,R,i,r,s.concat(r.fontWeight,r.fontShape))}else{var C=vy(w,r.fontWeight,r.fontShape);return ks(a,C,i,r,s.concat(C,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},bse=(t,e)=>{if(Gc(t.classes)!==Gc(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},xse=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof ds&&n instanceof ds&&bse(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t},m8=function(e){for(var r=0,n=0,i=0,a=0;a<e.children.length;a++){var s=e.children[a];s.height>r&&(r=s.height),s.depth>n&&(n=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}e.height=r,e.depth=n,e.maxFontSize=i},la=function(e,r,n,i){var a=new yg(e,r,n,i);return m8(a),a},sF=(t,e,r,n)=>new yg(t,e,r,n),wse=function(e,r,n){var i=la([e],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=Ye(i.height),i.maxFontSize=1,i},_se=function(e,r,n,i){var a=new f8(e,r,n,i);return m8(a),a},oF=function(e){var r=new gg(e);return m8(r),r},Sse=function(e,r){return e instanceof gg?la([],[e],r):e},Tse=function(e){if(e.positionType==="individualShift"){for(var r=e.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,a=i,s=1;s<r.length;s++){var c=-r[s].shift-a-r[s].elem.depth,d=c-(r[s-1].elem.height+r[s-1].elem.depth);a=a+c,n.push({type:"kern",size:d}),n.push(r[s])}return{children:n,depth:i}}var f;if(e.positionType==="top"){for(var m=e.positionData,p=0;p<e.children.length;p++){var y=e.children[p];m-=y.type==="kern"?y.size:y.elem.height+y.elem.depth}f=m}else if(e.positionType==="bottom")f=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},Ase=function(e,r){for(var{children:n,depth:i}=Tse(e),a=0,s=0;s<n.length;s++){var c=n[s];if(c.type==="elem"){var d=c.elem;a=Math.max(a,d.maxFontSize,d.height)}}a+=2;var f=la(["pstrut"],[]);f.style.height=Ye(a);for(var m=[],p=i,y=i,b=i,T=0;T<n.length;T++){var S=n[T];if(S.type==="kern")b+=S.size;else{var w=S.elem,O=S.wrapperClasses||[],R=S.wrapperStyle||{},C=la(O,[f,w],void 0,R);C.style.top=Ye(-a-b-w.depth),S.marginLeft&&(C.style.marginLeft=S.marginLeft),S.marginRight&&(C.style.marginRight=S.marginRight),m.push(C),b+=w.height+w.depth}p=Math.min(p,b),y=Math.max(y,b)}var B=la(["vlist"],m);B.style.height=Ye(y);var I;if(p<0){var D=la([],[]),A=la(["vlist"],[D]);A.style.height=Ye(-p);var k=la(["vlist-s"],[new ds("")]);I=[la(["vlist-r"],[B,k]),la(["vlist-r"],[A])]}else I=[la(["vlist-r"],[B])];var E=la(["vlist-t"],I);return I.length===2&&E.classes.push("vlist-t2"),E.height=y,E.depth=-p,E},Ese=(t,e)=>{var r=la(["mspace"],[],e),n=an(t,e);return r.style.marginRight=Ye(n),r},vy=function(e,r,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var a;return r==="textbf"&&n==="textit"?a="BoldItalic":r==="textbf"?a="Bold":r==="textit"?a="Italic":a="Regular",i+"-"+a},lF={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},cF={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Nse=function(e,r){var[n,i,a]=cF[e],s=new Kc(n),c=new xl([s],{width:Ye(i),height:Ye(a),style:"width:"+Ye(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),d=sF(["overlay"],[c],r);return d.height=a,d.style.height=Ye(a),d.style.width=Ye(i),d},xe={fontMap:lF,makeSymbol:ks,mathsym:gse,makeSpan:la,makeSvgSpan:sF,makeLineSpan:wse,makeAnchor:_se,makeFragment:oF,wrapFragment:Sse,makeVList:Ase,makeOrd:vse,makeGlue:Ese,staticSvg:Nse,svgData:cF,tryCombineChars:xse},nn={number:3,unit:"mu"},ju={number:4,unit:"mu"},Go={number:5,unit:"mu"},Ose={mord:{mop:nn,mbin:ju,mrel:Go,minner:nn},mop:{mord:nn,mop:nn,mrel:Go,minner:nn},mbin:{mord:ju,mop:ju,mopen:ju,minner:ju},mrel:{mord:Go,mop:Go,mopen:Go,minner:Go},mopen:{},mclose:{mop:nn,mbin:ju,mrel:Go,minner:nn},mpunct:{mord:nn,mop:nn,mrel:Go,mopen:nn,mclose:nn,mpunct:nn,minner:nn},minner:{mord:nn,mop:nn,mbin:ju,mrel:Go,mopen:nn,mpunct:nn,minner:nn}},kse={mord:{mop:nn},mop:{mord:nn,mop:nn},mbin:{},mrel:{},mopen:{},mclose:{mop:nn},mpunct:{},minner:{mop:nn}},uF={},Rv={},Mv={};function rt(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,c={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},d=0;d<r.length;++d)uF[r[d]]=c;e&&(a&&(Rv[e]=a),s&&(Mv[e]=s))}function C0(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;rt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var Pv=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},En=function(e){return e.type==="ordgroup"?e.body:[e]},wl=xe.makeSpan,jse=["leftmost","mbin","mopen","mrel","mop","mpunct"],Cse=["rightmost","mrel","mclose","mpunct"],Ise={display:xt.DISPLAY,text:xt.TEXT,script:xt.SCRIPT,scriptscript:xt.SCRIPTSCRIPT},Rse={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Kn=function(e,r,n,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<e.length;s++){var c=ar(e[s],r);if(c instanceof gg){var d=c.children;a.push(...d)}else a.push(c)}if(xe.tryCombineChars(a),!n)return a;var f=r;if(e.length===1){var m=e[0];m.type==="sizing"?f=r.havingSize(m.size):m.type==="styling"&&(f=r.havingStyle(Ise[m.style]))}var p=wl([i[0]||"leftmost"],[],r),y=wl([i[1]||"rightmost"],[],r),b=n==="root";return OC(a,(T,S)=>{var w=S.classes[0],O=T.classes[0];w==="mbin"&&Cse.includes(O)?S.classes[0]="mord":O==="mbin"&&jse.includes(w)&&(T.classes[0]="mord")},{node:p},y,b),OC(a,(T,S)=>{var w=uT(S),O=uT(T),R=w&&O?T.hasClass("mtight")?kse[w][O]:Ose[w][O]:null;if(R)return xe.makeGlue(R,f)},{node:p},y,b),a},OC=function t(e,r,n,i,a){i&&e.push(i);for(var s=0;s<e.length;s++){var c=e[s],d=dF(c);if(d){t(d.children,r,n,null,a);continue}var f=!c.hasClass("mspace");if(f){var m=r(c,n.node);m&&(n.insertAfter?n.insertAfter(m):(e.unshift(m),s++))}f?n.node=c:a&&c.hasClass("newline")&&(n.node=wl(["leftmost"])),n.insertAfter=(p=>y=>{e.splice(p+1,0,y),s++})(s)}i&&e.pop()},dF=function(e){return e instanceof gg||e instanceof f8||e instanceof yg&&e.hasClass("enclosing")?e:null},Mse=function t(e,r){var n=dF(e);if(n){var i=n.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},uT=function(e,r){return e?(r&&(e=Mse(e,r)),Rse[e.classes[0]]||null):null},fp=function(e,r){var n=["nulldelimiter"].concat(e.baseSizingClasses());return wl(r.concat(n))},ar=function(e,r,n){if(!e)return wl();if(Rv[e.type]){var i=Rv[e.type](e,r);if(n&&r.size!==n.size){i=wl(r.sizingClasses(n),[i],r);var a=r.sizeMultiplier/n.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new Ge("Got group of unknown type: '"+e.type+"'")};function by(t,e){var r=wl(["base"],t,e),n=wl(["strut"]);return n.style.height=Ye(r.height+r.depth),r.depth&&(n.style.verticalAlign=Ye(-r.depth)),r.children.unshift(n),r}function dT(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n=Kn(t,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var a=[],s=[],c=0;c<n.length;c++)if(s.push(n[c]),n[c].hasClass("mbin")||n[c].hasClass("mrel")||n[c].hasClass("allowbreak")){for(var d=!1;c<n.length-1&&n[c+1].hasClass("mspace")&&!n[c+1].hasClass("newline");)c++,s.push(n[c]),n[c].hasClass("nobreak")&&(d=!0);d||(a.push(by(s,e)),s=[])}else n[c].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(by(s,e)),s=[]),a.push(n[c]));s.length>0&&a.push(by(s,e));var f;r?(f=by(Kn(r,e,!0)),f.classes=["tag"],a.push(f)):i&&a.push(i);var m=wl(["katex-html"],a);if(m.setAttribute("aria-hidden","true"),f){var p=f.children[0];p.style.height=Ye(m.height+m.depth),m.depth&&(p.style.verticalAlign=Ye(-m.depth))}return m}function hF(t){return new gg(t)}class Ca{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=Gc(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof lo&&this.children[n+1]instanceof lo){for(var i=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof lo;)i+=this.children[++n].toText();e.appendChild(new lo(i).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=dr.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+dr.escape(Gc(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class lo{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return dr.escape(this.toText())}toText(){return this.text}}class Pse{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Ye(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ye(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Fe={MathNode:Ca,TextNode:lo,SpaceNode:Pse,newDocumentFragment:hF},hs=function(e,r,n){return $r[r][e]&&$r[r][e].replace&&e.charCodeAt(0)!==55349&&!(aF.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=$r[r][e].replace),new Fe.TextNode(e)},p8=function(e){return e.length===1?e[0]:new Fe.MathNode("mrow",e)},g8=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;$r[i][a]&&$r[i][a].replace&&(a=$r[i][a].replace);var s=xe.fontMap[n].fontName;return h8(a,s,i)?xe.fontMap[n].variant:null};function Gw(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof lo&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof lo&&r.text===","}else return!1}var pa=function(e,r,n){if(e.length===1){var i=Pr(e[0],r);return n&&i instanceof Ca&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,c=0;c<e.length;c++){var d=Pr(e[c],r);if(d instanceof Ca&&s instanceof Ca){if(d.type==="mtext"&&s.type==="mtext"&&d.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...d.children);continue}else if(d.type==="mn"&&s.type==="mn"){s.children.push(...d.children);continue}else if(Gw(d)&&s.type==="mn"){s.children.push(...d.children);continue}else if(d.type==="mn"&&Gw(s))d.children=[...s.children,...d.children],a.pop();else if((d.type==="msup"||d.type==="msub")&&d.children.length>=1&&(s.type==="mn"||Gw(s))){var f=d.children[0];f instanceof Ca&&f.type==="mn"&&(f.children=[...s.children,...f.children],a.pop())}else if(s.type==="mi"&&s.children.length===1){var m=s.children[0];if(m instanceof lo&&m.text===""&&(d.type==="mo"||d.type==="mi"||d.type==="mn")){var p=d.children[0];p instanceof lo&&p.text.length>0&&(p.text=p.text.slice(0,1)+""+p.text.slice(1),a.pop())}}}a.push(d),s=d}return a},Wc=function(e,r,n){return p8(pa(e,r,n))},Pr=function(e,r){if(!e)return new Fe.MathNode("mrow");if(Mv[e.type]){var n=Mv[e.type](e,r);return n}else throw new Ge("Got group of unknown type: '"+e.type+"'")};function kC(t,e,r,n,i){var a=pa(t,r),s;a.length===1&&a[0]instanceof Ca&&["mrow","mtable"].includes(a[0].type)?s=a[0]:s=new Fe.MathNode("mrow",a);var c=new Fe.MathNode("annotation",[new Fe.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var d=new Fe.MathNode("semantics",[s,c]),f=new Fe.MathNode("math",[d]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&f.setAttribute("display","block");var m=i?"katex":"katex-mathml";return xe.makeSpan([m],[f])}var fF=function(e){return new Qo({style:e.displayMode?xt.DISPLAY:xt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},mF=function(e,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),e=xe.makeSpan(n,[e])}return e},Dse=function(e,r,n){var i=fF(n),a;if(n.output==="mathml")return kC(e,r,i,n.displayMode,!0);if(n.output==="html"){var s=dT(e,i);a=xe.makeSpan(["katex"],[s])}else{var c=kC(e,r,i,n.displayMode,!1),d=dT(e,i);a=xe.makeSpan(["katex"],[c,d])}return mF(a,n)},Lse=function(e,r,n){var i=fF(n),a=dT(e,i),s=xe.makeSpan(["katex"],[a]);return mF(s,n)},Bse={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Use=function(e){var r=new Fe.MathNode("mo",[new Fe.TextNode(Bse[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},zse={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Vse=function(e){return e.type==="ordgroup"?e.body.length:1},$se=function(e,r){function n(){var c=4e5,d=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(d)){var f=e,m=Vse(f.base),p,y,b;if(m>5)d==="widehat"||d==="widecheck"?(p=420,c=2364,b=.42,y=d+"4"):(p=312,c=2340,b=.34,y="tilde4");else{var T=[1,1,2,2,3,3][m];d==="widehat"||d==="widecheck"?(c=[0,1062,2364,2364,2364][T],p=[0,239,300,360,420][T],b=[0,.24,.3,.3,.36,.42][T],y=d+T):(c=[0,600,1033,2339,2340][T],p=[0,260,286,306,312][T],b=[0,.26,.286,.3,.306,.34][T],y="tilde"+T)}var S=new Kc(y),w=new xl([S],{width:"100%",height:Ye(b),viewBox:"0 0 "+c+" "+p,preserveAspectRatio:"none"});return{span:xe.makeSvgSpan([],[w],r),minWidth:0,height:b}}else{var O=[],R=zse[d],[C,B,I]=R,D=I/1e3,A=C.length,k,E;if(A===1){var U=R[3];k=["hide-tail"],E=[U]}else if(A===2)k=["halfarrow-left","halfarrow-right"],E=["xMinYMin","xMaxYMin"];else if(A===3)k=["brace-left","brace-center","brace-right"],E=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+A+" children.");for(var M=0;M<A;M++){var $=new Kc(C[M]),z=new xl([$],{width:"400em",height:Ye(D),viewBox:"0 0 "+c+" "+I,preserveAspectRatio:E[M]+" slice"}),Y=xe.makeSvgSpan([k[M]],[z],r);if(A===1)return{span:Y,minWidth:B,height:D};Y.style.height=Ye(D),O.push(Y)}return{span:xe.makeSpan(["stretchy"],O,r),minWidth:B,height:D}}}var{span:i,minWidth:a,height:s}=n();return i.height=s,i.style.height=Ye(s),a>0&&(i.style.minWidth=Ye(a)),i},Fse=function(e,r,n,i,a){var s,c=e.height+e.depth+n+i;if(/fbox|color|angl/.test(r)){if(s=xe.makeSpan(["stretchy",r],[],a),r==="fbox"){var d=a.color&&a.getColor();d&&(s.style.borderColor=d)}}else{var f=[];/^[bx]cancel$/.test(r)&&f.push(new lT({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&f.push(new lT({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new xl(f,{width:"100%",height:Ye(c)});s=xe.makeSvgSpan([],[m],a)}return s.height=c,s.style.height=Ye(c),s},_l={encloseSpan:Fse,mathMLnode:Use,svgSpan:$se};function Ut(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function y8(t){var e=Sx(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Sx(t){return t&&(t.type==="atom"||mse.hasOwnProperty(t.type))?t:null}var v8=(t,e)=>{var r,n,i;t&&t.type==="supsub"?(n=Ut(t.base,"accent"),r=n.base,t.base=r,i=hse(ar(t,e)),t.base=n):(n=Ut(t,"accent"),r=n.base);var a=ar(r,e.havingCrampedStyle()),s=n.isShifty&&dr.isCharacterBox(r),c=0;if(s){var d=dr.getBaseElem(r),f=ar(d,e.havingCrampedStyle());c=_C(f).skew}var m=n.label==="\\c",p=m?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),y;if(n.isStretchy)y=_l.svgSpan(n,e),y=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:y,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+Ye(2*c)+")",marginLeft:Ye(2*c)}:void 0}]},e);else{var b,T;n.label==="\\vec"?(b=xe.staticSvg("vec",e),T=xe.svgData.vec[1]):(b=xe.makeOrd({mode:n.mode,text:n.label},e,"textord"),b=_C(b),b.italic=0,T=b.width,m&&(p+=b.depth)),y=xe.makeSpan(["accent-body"],[b]);var S=n.label==="\\textcircled";S&&(y.classes.push("accent-full"),p=a.height);var w=c;S||(w-=T/2),y.style.left=Ye(w),n.label==="\\textcircled"&&(y.style.top=".2em"),y=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-p},{type:"elem",elem:y}]},e)}var O=xe.makeSpan(["mord","accent"],[y],e);return i?(i.children[0]=O,i.height=Math.max(O.height,i.height),i.classes[0]="mord",i):O},pF=(t,e)=>{var r=t.isStretchy?_l.mathMLnode(t.label):new Fe.MathNode("mo",[hs(t.label,t.mode)]),n=new Fe.MathNode("mover",[Pr(t.base,e),r]);return n.setAttribute("accent","true"),n},qse=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));rt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=Pv(e[0]),n=!qse.test(t.funcName),i=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:v8,mathmlBuilder:pF});rt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:v8,mathmlBuilder:pF});rt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(t,e)=>{var r=ar(t.base,e),n=_l.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,a=xe.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return xe.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var r=_l.mathMLnode(t.label),n=new Fe.MathNode("munder",[Pr(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var xy=t=>{var e=new Fe.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};rt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:i}=t;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,n=e.havingStyle(r.sup()),i=xe.wrapFragment(ar(t.body,n,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;t.below&&(n=e.havingStyle(r.sub()),s=xe.wrapFragment(ar(t.below,n,e),e),s.classes.push(a+"-arrow-pad"));var c=_l.svgSpan(t,e),d=-e.fontMetrics().axisHeight+.5*c.height,f=-e.fontMetrics().axisHeight-.5*c.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(f-=i.depth);var m;if(s){var p=-e.fontMetrics().axisHeight+s.height+.5*c.height+.111;m=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:c,shift:d},{type:"elem",elem:s,shift:p}]},e)}else m=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:c,shift:d}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),xe.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(t,e){var r=_l.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var i=xy(Pr(t.body,e));if(t.below){var a=xy(Pr(t.below,e));n=new Fe.MathNode("munderover",[r,a,i])}else n=new Fe.MathNode("mover",[r,i])}else if(t.below){var s=xy(Pr(t.below,e));n=new Fe.MathNode("munder",[r,s])}else n=xy(),n=new Fe.MathNode("mover",[r,n]);return n}});var Hse=xe.makeSpan;function gF(t,e){var r=Kn(t.body,e,!0);return Hse([t.mclass],r,e)}function yF(t,e){var r,n=pa(t.body,e);return t.mclass==="minner"?r=new Fe.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0],r.type="mi"):r=new Fe.MathNode("mi",n):(t.isCharacterBox?(r=n[0],r.type="mo"):r=new Fe.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}rt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:En(i),isCharacterBox:dr.isCharacterBox(i)}},htmlBuilder:gF,mathmlBuilder:yF});var Tx=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};rt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:Tx(e[0]),body:En(e[1]),isCharacterBox:dr.isCharacterBox(e[1])}}});rt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:n}=t,i=e[1],a=e[0],s;n!=="\\stackrel"?s=Tx(i):s="mrel";var c={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:En(i)},d={type:"supsub",mode:a.mode,base:c,sup:n==="\\underset"?null:a,sub:n==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:s,body:[d],isCharacterBox:dr.isCharacterBox(d)}},htmlBuilder:gF,mathmlBuilder:yF});rt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:Tx(e[0]),body:En(e[0])}},htmlBuilder(t,e){var r=Kn(t.body,e,!0),n=xe.makeSpan([t.mclass],r,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(t,e){var r=pa(t.body,e),n=new Fe.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var Gse={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},jC=()=>({type:"styling",body:[],mode:"math",style:"display"}),CC=t=>t.type==="textord"&&t.text==="@",Kse=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function Wse(t,e,r){var n=Gse[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:n,mode:"math",family:"rel"},s=r.callFunction("\\Big",[a],[]),c=r.callFunction("\\\\cdright",[e[1]],[]),d={type:"ordgroup",mode:"math",body:[i,s,c]};return r.callFunction("\\\\cdparent",[d],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Xse(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Ge("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],i=[n],a=0;a<e.length;a++){for(var s=e[a],c=jC(),d=0;d<s.length;d++)if(!CC(s[d]))c.body.push(s[d]);else{n.push(c),d+=1;var f=y8(s[d]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var p=0;p<2;p++){for(var y=!0,b=d+1;b<s.length;b++){if(Kse(s[b],f)){y=!1,d=b;break}if(CC(s[b]))throw new Ge("Missing a "+f+" character to complete a CD arrow.",s[b]);m[p].body.push(s[b])}if(y)throw new Ge("Missing a "+f+" character to complete a CD arrow.",s[d])}else throw new Ge('Expected one of "<>AV=|." after @',s[d]);var T=Wse(f,m,t),S={type:"styling",body:[T],mode:"math",style:"display"};n.push(S),c=jC()}a%2===0?n.push(c):n.shift(),n=[],i.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var w=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:w,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}rt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=xe.wrapFragment(ar(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=Ye(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new Fe.MathNode("mrow",[Pr(t.label,e)]);return r=new Fe.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new Fe.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});rt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=xe.wrapFragment(ar(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new Fe.MathNode("mrow",[Pr(t.fragment,e)])}});rt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=Ut(e[0],"ordgroup"),i=n.body,a="",s=0;s<i.length;s++){var c=Ut(i[s],"textord");a+=c.text}var d=parseInt(a),f;if(isNaN(d))throw new Ge("\\@char has non-numeric argument "+a);if(d<0||d>=1114111)throw new Ge("\\@char with invalid code point "+a);return d<=65535?f=String.fromCharCode(d):(d-=65536,f=String.fromCharCode((d>>10)+55296,(d&1023)+56320)),{type:"textord",mode:r.mode,text:f}}});var vF=(t,e)=>{var r=Kn(t.body,e.withColor(t.color),!1);return xe.makeFragment(r)},bF=(t,e)=>{var r=pa(t.body,e.withColor(t.color)),n=new Fe.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};rt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=Ut(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:n,body:En(i)}},htmlBuilder:vF,mathmlBuilder:bF});rt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,i=Ut(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var a=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:a}},htmlBuilder:vF,mathmlBuilder:bF});rt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:n}=t,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:i&&Ut(i,"size").value}},htmlBuilder(t,e){var r=xe.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=Ye(an(t.size,e)))),r},mathmlBuilder(t,e){var r=new Fe.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",Ye(an(t.size,e)))),r}});var hT={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},xF=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Ge("Expected a control sequence",t);return e},Yse=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},wF=(t,e,r,n)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,n)};rt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(hT[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=hT[n.text]),Ut(e.parseFunction(),"internal");throw new Ge("Invalid token after macro prefix",n)}});rt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Ge("Expected a control sequence",n);for(var a=0,s,c=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),c[a].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new Ge('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new Ge('Argument number "'+n.text+'" out of order');a++,c.push([])}else{if(n.text==="EOF")throw new Ge("Expected a macro definition");c[a].push(n.text)}var{tokens:d}=e.gullet.consumeArg();return s&&d.unshift(s),(r==="\\edef"||r==="\\xdef")&&(d=e.gullet.expandTokens(d),d.reverse()),e.gullet.macros.set(i,{tokens:d,numArgs:a,delimiters:c},r===hT[r]),{type:"internal",mode:e.mode}}});rt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=xF(e.gullet.popToken());e.gullet.consumeSpaces();var i=Yse(e);return wF(e,n,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});rt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=xF(e.gullet.popToken()),i=e.gullet.popToken(),a=e.gullet.popToken();return wF(e,n,a,r==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var _m=function(e,r,n){var i=$r.math[e]&&$r.math[e].replace,a=h8(i||e,r,n);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return a},b8=function(e,r,n,i){var a=n.havingBaseStyle(r),s=xe.makeSpan(i.concat(a.sizingClasses(n)),[e],n),c=a.sizeMultiplier/n.sizeMultiplier;return s.height*=c,s.depth*=c,s.maxFontSize=a.sizeMultiplier,s},_F=function(e,r,n){var i=r.havingBaseStyle(n),a=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Ye(a),e.height-=a,e.depth+=a},Qse=function(e,r,n,i,a,s){var c=xe.makeSymbol(e,"Main-Regular",a,i),d=b8(c,r,i,s);return n&&_F(d,i,r),d},Zse=function(e,r,n,i){return xe.makeSymbol(e,"Size"+r+"-Regular",n,i)},SF=function(e,r,n,i,a,s){var c=Zse(e,r,a,i),d=b8(xe.makeSpan(["delimsizing","size"+r],[c],i),xt.TEXT,i,s);return n&&_F(d,i,xt.TEXT),d},Kw=function(e,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=xe.makeSpan(["delimsizinginner",i],[xe.makeSpan([],[xe.makeSymbol(e,r,n)])]);return{type:"elem",elem:a}},Ww=function(e,r,n){var i=oo["Size4-Regular"][e.charCodeAt(0)]?oo["Size4-Regular"][e.charCodeAt(0)][4]:oo["Size1-Regular"][e.charCodeAt(0)][4],a=new Kc("inner",nse(e,Math.round(1e3*r))),s=new xl([a],{width:Ye(i),height:Ye(r),style:"width:"+Ye(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),c=xe.makeSvgSpan([],[s],n);return c.height=r,c.style.height=Ye(r),c.style.width=Ye(i),{type:"elem",elem:c}},fT=.008,wy={type:"kern",size:-1*fT},Jse=["|","\\lvert","\\rvert","\\vert"],eoe=["\\|","\\lVert","\\rVert","\\Vert"],TF=function(e,r,n,i,a,s){var c,d,f,m,p="",y=0;c=f=m=e,d=null;var b="Size1-Regular";e==="\\uparrow"?f=m="":e==="\\Uparrow"?f=m="":e==="\\downarrow"?c=f="":e==="\\Downarrow"?c=f="":e==="\\updownarrow"?(c="\\uparrow",f="",m="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",f="",m="\\Downarrow"):Jse.includes(e)?(f="",p="vert",y=333):eoe.includes(e)?(f="",p="doublevert",y=556):e==="["||e==="\\lbrack"?(c="",f="",m="",b="Size4-Regular",p="lbrack",y=667):e==="]"||e==="\\rbrack"?(c="",f="",m="",b="Size4-Regular",p="rbrack",y=667):e==="\\lfloor"||e===""?(f=c="",m="",b="Size4-Regular",p="lfloor",y=667):e==="\\lceil"||e===""?(c="",f=m="",b="Size4-Regular",p="lceil",y=667):e==="\\rfloor"||e===""?(f=c="",m="",b="Size4-Regular",p="rfloor",y=667):e==="\\rceil"||e===""?(c="",f=m="",b="Size4-Regular",p="rceil",y=667):e==="("||e==="\\lparen"?(c="",f="",m="",b="Size4-Regular",p="lparen",y=875):e===")"||e==="\\rparen"?(c="",f="",m="",b="Size4-Regular",p="rparen",y=875):e==="\\{"||e==="\\lbrace"?(c="",d="",m="",f="",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",d="",m="",f="",b="Size4-Regular"):e==="\\lgroup"||e===""?(c="",m="",f="",b="Size4-Regular"):e==="\\rgroup"||e===""?(c="",m="",f="",b="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",m="",f="",b="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",m="",f="",b="Size4-Regular");var T=_m(c,b,a),S=T.height+T.depth,w=_m(f,b,a),O=w.height+w.depth,R=_m(m,b,a),C=R.height+R.depth,B=0,I=1;if(d!==null){var D=_m(d,b,a);B=D.height+D.depth,I=2}var A=S+C+B,k=Math.max(0,Math.ceil((r-A)/(I*O))),E=A+k*I*O,U=i.fontMetrics().axisHeight;n&&(U*=i.sizeMultiplier);var M=E/2-U,$=[];if(p.length>0){var z=E-S-C,Y=Math.round(E*1e3),te=ise(p,Math.round(z*1e3)),K=new Kc(p,te),J=(y/1e3).toFixed(3)+"em",Q=(Y/1e3).toFixed(3)+"em",ye=new xl([K],{width:J,height:Q,viewBox:"0 0 "+y+" "+Y}),se=xe.makeSvgSpan([],[ye],i);se.height=Y/1e3,se.style.width=J,se.style.height=Q,$.push({type:"elem",elem:se})}else{if($.push(Kw(m,b,a)),$.push(wy),d===null){var X=E-S-C+2*fT;$.push(Ww(f,X,i))}else{var ee=(E-S-C-B)/2+2*fT;$.push(Ww(f,ee,i)),$.push(wy),$.push(Kw(d,b,a)),$.push(wy),$.push(Ww(f,ee,i))}$.push(wy),$.push(Kw(c,b,a))}var ce=i.havingBaseStyle(xt.TEXT),Ne=xe.makeVList({positionType:"bottom",positionData:M,children:$},ce);return b8(xe.makeSpan(["delimsizing","mult"],[Ne],ce),xt.TEXT,i,s)},Xw=80,Yw=.08,Qw=function(e,r,n,i,a){var s=rse(e,i,n),c=new Kc(e,s),d=new xl([c],{width:"400em",height:Ye(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return xe.makeSvgSpan(["hide-tail"],[d],a)},toe=function(e,r){var n=r.havingBaseSizing(),i=OF("\\surd",e*n.sizeMultiplier,NF,n),a=n.sizeMultiplier,s=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),c,d=0,f=0,m=0,p;return i.type==="small"?(m=1e3+1e3*s+Xw,e<1?a=1:e<1.4&&(a=.7),d=(1+s+Yw)/a,f=(1+s)/a,c=Qw("sqrtMain",d,m,s,r),c.style.minWidth="0.853em",p=.833/a):i.type==="large"?(m=(1e3+Xw)*Pm[i.size],f=(Pm[i.size]+s)/a,d=(Pm[i.size]+s+Yw)/a,c=Qw("sqrtSize"+i.size,d,m,s,r),c.style.minWidth="1.02em",p=1/a):(d=e+s+Yw,f=e+s,m=Math.floor(1e3*e+s)+Xw,c=Qw("sqrtTall",d,m,s,r),c.style.minWidth="0.742em",p=1.056),c.height=f,c.style.height=Ye(d),{span:c,advanceWidth:p,ruleWidth:(r.fontMetrics().sqrtRuleThickness+s)*a}},AF=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],roe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],EF=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Pm=[0,1.2,1.8,2.4,3],noe=function(e,r,n,i,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),AF.includes(e)||EF.includes(e))return SF(e,r,!1,n,i,a);if(roe.includes(e))return TF(e,Pm[r],!1,n,i,a);throw new Ge("Illegal delimiter: '"+e+"'")},ioe=[{type:"small",style:xt.SCRIPTSCRIPT},{type:"small",style:xt.SCRIPT},{type:"small",style:xt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],aoe=[{type:"small",style:xt.SCRIPTSCRIPT},{type:"small",style:xt.SCRIPT},{type:"small",style:xt.TEXT},{type:"stack"}],NF=[{type:"small",style:xt.SCRIPTSCRIPT},{type:"small",style:xt.SCRIPT},{type:"small",style:xt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],soe=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},OF=function(e,r,n,i){for(var a=Math.min(2,3-i.style.size),s=a;s<n.length&&n[s].type!=="stack";s++){var c=_m(e,soe(n[s]),"math"),d=c.height+c.depth;if(n[s].type==="small"){var f=i.havingBaseStyle(n[s].style);d*=f.sizeMultiplier}if(d>r)return n[s]}return n[n.length-1]},kF=function(e,r,n,i,a,s){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;EF.includes(e)?c=ioe:AF.includes(e)?c=NF:c=aoe;var d=OF(e,r,c,i);return d.type==="small"?Qse(e,d.style,n,i,a,s):d.type==="large"?SF(e,d.size,n,i,a,s):TF(e,r,n,i,a,s)},ooe=function(e,r,n,i,a,s){var c=i.fontMetrics().axisHeight*i.sizeMultiplier,d=901,f=5/i.fontMetrics().ptPerEm,m=Math.max(r-c,n+c),p=Math.max(m/500*d,2*m-f);return kF(e,p,!0,i,a,s)},ul={sqrtImage:toe,sizedDelim:noe,sizeToMaxHeight:Pm,customSizedDelim:kF,leftRightDelim:ooe},IC={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},loe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Ax(t,e){var r=Sx(t);if(r&&loe.includes(r.text))return r;throw r?new Ge("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new Ge("Invalid delimiter type '"+t.type+"'",t)}rt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=Ax(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:IC[t.funcName].size,mclass:IC[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?xe.makeSpan([t.mclass]):ul.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(hs(t.delim,t.mode));var r=new Fe.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=Ye(ul.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function RC(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}rt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new Ge("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Ax(e[0],t).text,color:r}}});rt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Ax(e[0],t),n=t.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=Ut(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{RC(t);for(var r=Kn(t.body,e,!0,["mopen","mclose"]),n=0,i=0,a=!1,s=0;s<r.length;s++)r[s].isMiddle?a=!0:(n=Math.max(r[s].height,n),i=Math.max(r[s].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var c;if(t.left==="."?c=fp(e,["mopen"]):c=ul.leftRightDelim(t.left,n,i,e,t.mode,["mopen"]),r.unshift(c),a)for(var d=1;d<r.length;d++){var f=r[d],m=f.isMiddle;m&&(r[d]=ul.leftRightDelim(m.delim,n,i,m.options,t.mode,[]))}var p;if(t.right===".")p=fp(e,["mclose"]);else{var y=t.rightColor?e.withColor(t.rightColor):e;p=ul.leftRightDelim(t.right,n,i,y,t.mode,["mclose"])}return r.push(p),xe.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{RC(t);var r=pa(t.body,e);if(t.left!=="."){var n=new Fe.MathNode("mo",[hs(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var i=new Fe.MathNode("mo",[hs(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return p8(r)}});rt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Ax(e[0],t);if(!t.parser.leftrightDepth)throw new Ge("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=fp(e,[]);else{r=ul.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?hs("|","text"):hs(t.delim,t.mode),n=new Fe.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var x8=(t,e)=>{var r=xe.wrapFragment(ar(t.body,e),e),n=t.label.slice(1),i=e.sizeMultiplier,a,s=0,c=dr.isCharacterBox(t.body);if(n==="sout")a=xe.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/i,s=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var d=an({number:.6,unit:"pt"},e),f=an({number:.35,unit:"ex"},e),m=e.havingBaseSizing();i=i/m.sizeMultiplier;var p=r.height+r.depth+d+f;r.style.paddingLeft=Ye(p/2+d);var y=Math.floor(1e3*p*i),b=ese(y),T=new xl([new Kc("phase",b)],{width:"400em",height:Ye(y/1e3),viewBox:"0 0 400000 "+y,preserveAspectRatio:"xMinYMin slice"});a=xe.makeSvgSpan(["hide-tail"],[T],e),a.style.height=Ye(p),s=r.depth+d+f}else{/cancel/.test(n)?c||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var S=0,w=0,O=0;/box/.test(n)?(O=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),S=e.fontMetrics().fboxsep+(n==="colorbox"?0:O),w=S):n==="angl"?(O=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),S=4*O,w=Math.max(0,.25-r.depth)):(S=c?.2:0,w=S),a=_l.encloseSpan(r,n,S,w,e),/fbox|boxed|fcolorbox/.test(n)?(a.style.borderStyle="solid",a.style.borderWidth=Ye(O)):n==="angl"&&O!==.049&&(a.style.borderTopWidth=Ye(O),a.style.borderRightWidth=Ye(O)),s=r.depth+w,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var R;if(t.backgroundColor)R=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:r,shift:0}]},e);else{var C=/cancel|phase/.test(n)?["svg-align"]:[];R=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:C}]},e)}return/cancel/.test(n)&&(R.height=r.height,R.depth=r.depth),/cancel/.test(n)&&!c?xe.makeSpan(["mord","cancel-lap"],[R],e):xe.makeSpan(["mord"],[R],e)},w8=(t,e)=>{var r=0,n=new Fe.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Pr(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};rt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,a=Ut(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:x8,mathmlBuilder:w8});rt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,a=Ut(e[0],"color-token").color,s=Ut(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,borderColor:a,body:c}},htmlBuilder:x8,mathmlBuilder:w8});rt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});rt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:x8,mathmlBuilder:w8});rt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var jF={};function xo(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,c={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},d=0;d<r.length;++d)jF[r[d]]=c;a&&(Rv[e]=a),s&&(Mv[e]=s)}var CF={};function G(t,e){CF[t]=e}function MC(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var Ex=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Ge("{"+t.envName+"} can be used only in display mode.")};function _8(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Qc(t,e,r){var{hskipBeforeAndAfter:n,addJot:i,cols:a,arraystretch:s,colSeparationType:c,autoTag:d,singleRow:f,emptySingleRow:m,maxNumCols:p,leqno:y}=e;if(t.gullet.beginGroup(),f||t.gullet.macros.set("\\cr","\\\\\\relax"),!s){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)s=1;else if(s=parseFloat(b),!s||s<0)throw new Ge("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var T=[],S=[T],w=[],O=[],R=d!=null?[]:void 0;function C(){d&&t.gullet.macros.set("\\@eqnsw","1",!0)}function B(){R&&(t.gullet.macros.get("\\df@tag")?(R.push(t.subparse([new La("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):R.push(!!d&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(C(),O.push(MC(t));;){var I=t.parseExpression(!1,f?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),I={type:"ordgroup",mode:t.mode,body:I},r&&(I={type:"styling",mode:t.mode,style:r,body:[I]}),T.push(I);var D=t.fetch().text;if(D==="&"){if(p&&T.length===p){if(f||c)throw new Ge("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(D==="\\end"){B(),T.length===1&&I.type==="styling"&&I.body[0].body.length===0&&(S.length>1||!m)&&S.pop(),O.length<S.length+1&&O.push([]);break}else if(D==="\\\\"){t.consume();var A=void 0;t.gullet.future().text!==" "&&(A=t.parseSizeGroup(!0)),w.push(A?A.value:null),B(),O.push(MC(t)),T=[],S.push(T),C()}else throw new Ge("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:s,body:S,cols:a,rowGaps:w,hskipBeforeAndAfter:n,hLinesBeforeRow:O,colSeparationType:c,tags:R,leqno:y}}function S8(t){return t.slice(0,1)==="d"?"display":"text"}var wo=function(e,r){var n,i,a=e.body.length,s=e.hLinesBeforeRow,c=0,d=new Array(a),f=[],m=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),p=1/r.fontMetrics().ptPerEm,y=5*p;if(e.colSeparationType&&e.colSeparationType==="small"){var b=r.havingStyle(xt.SCRIPT).sizeMultiplier;y=.2778*(b/r.sizeMultiplier)}var T=e.colSeparationType==="CD"?an({number:3,unit:"ex"},r):12*p,S=3*p,w=e.arraystretch*T,O=.7*w,R=.3*w,C=0;function B(Ie){for(var ue=0;ue<Ie.length;++ue)ue>0&&(C+=.25),f.push({pos:C,isDashed:Ie[ue]})}for(B(s[0]),n=0;n<e.body.length;++n){var I=e.body[n],D=O,A=R;c<I.length&&(c=I.length);var k=new Array(I.length);for(i=0;i<I.length;++i){var E=ar(I[i],r);A<E.depth&&(A=E.depth),D<E.height&&(D=E.height),k[i]=E}var U=e.rowGaps[n],M=0;U&&(M=an(U,r),M>0&&(M+=R,A<M&&(A=M),M=0)),e.addJot&&(A+=S),k.height=D,k.depth=A,C+=D,k.pos=C,C+=A+M,d[n]=k,B(s[n+1])}var $=C/2+r.fontMetrics().axisHeight,z=e.cols||[],Y=[],te,K,J=[];if(e.tags&&e.tags.some(Ie=>Ie))for(n=0;n<a;++n){var Q=d[n],ye=Q.pos-$,se=e.tags[n],X=void 0;se===!0?X=xe.makeSpan(["eqn-num"],[],r):se===!1?X=xe.makeSpan([],[],r):X=xe.makeSpan([],Kn(se,r,!0),r),X.depth=Q.depth,X.height=Q.height,J.push({type:"elem",elem:X,shift:ye})}for(i=0,K=0;i<c||K<z.length;++i,++K){for(var ee=z[K]||{},ce=!0;ee.type==="separator";){if(ce||(te=xe.makeSpan(["arraycolsep"],[]),te.style.width=Ye(r.fontMetrics().doubleRuleSep),Y.push(te)),ee.separator==="|"||ee.separator===":"){var Ne=ee.separator==="|"?"solid":"dashed",oe=xe.makeSpan(["vertical-separator"],[],r);oe.style.height=Ye(C),oe.style.borderRightWidth=Ye(m),oe.style.borderRightStyle=Ne,oe.style.margin="0 "+Ye(-m/2);var Oe=C-$;Oe&&(oe.style.verticalAlign=Ye(-Oe)),Y.push(oe)}else throw new Ge("Invalid separator type: "+ee.separator);K++,ee=z[K]||{},ce=!1}if(!(i>=c)){var Me=void 0;(i>0||e.hskipBeforeAndAfter)&&(Me=dr.deflt(ee.pregap,y),Me!==0&&(te=xe.makeSpan(["arraycolsep"],[]),te.style.width=Ye(Me),Y.push(te)));var it=[];for(n=0;n<a;++n){var Ee=d[n],He=Ee[i];if(He){var he=Ee.pos-$;He.depth=Ee.depth,He.height=Ee.height,it.push({type:"elem",elem:He,shift:he})}}it=xe.makeVList({positionType:"individualShift",children:it},r),it=xe.makeSpan(["col-align-"+(ee.align||"c")],[it]),Y.push(it),(i<c-1||e.hskipBeforeAndAfter)&&(Me=dr.deflt(ee.postgap,y),Me!==0&&(te=xe.makeSpan(["arraycolsep"],[]),te.style.width=Ye(Me),Y.push(te)))}}if(d=xe.makeSpan(["mtable"],Y),f.length>0){for(var ge=xe.makeLineSpan("hline",r,m),We=xe.makeLineSpan("hdashline",r,m),Ve=[{type:"elem",elem:d,shift:0}];f.length>0;){var nt=f.pop(),ct=nt.pos-$;nt.isDashed?Ve.push({type:"elem",elem:We,shift:ct}):Ve.push({type:"elem",elem:ge,shift:ct})}d=xe.makeVList({positionType:"individualShift",children:Ve},r)}if(J.length===0)return xe.makeSpan(["mord"],[d],r);var Wt=xe.makeVList({positionType:"individualShift",children:J},r);return Wt=xe.makeSpan(["tag"],[Wt],r),xe.makeFragment([d,Wt])},coe={c:"center ",l:"left ",r:"right "},_o=function(e,r){for(var n=[],i=new Fe.MathNode("mtd",[],["mtr-glue"]),a=new Fe.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var c=e.body[s],d=[],f=0;f<c.length;f++)d.push(new Fe.MathNode("mtd",[Pr(c[f],r)]));e.tags&&e.tags[s]&&(d.unshift(i),d.push(i),e.leqno?d.unshift(a):d.push(a)),n.push(new Fe.MathNode("mtr",d))}var m=new Fe.MathNode("mtable",n),p=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",Ye(p));var y="",b="";if(e.cols&&e.cols.length>0){var T=e.cols,S="",w=!1,O=0,R=T.length;T[0].type==="separator"&&(y+="top ",O=1),T[T.length-1].type==="separator"&&(y+="bottom ",R-=1);for(var C=O;C<R;C++)T[C].type==="align"?(b+=coe[T[C].align],w&&(S+="none "),w=!0):T[C].type==="separator"&&w&&(S+=T[C].separator==="|"?"solid ":"dashed ",w=!1);m.setAttribute("columnalign",b.trim()),/[sd]/.test(S)&&m.setAttribute("columnlines",S.trim())}if(e.colSeparationType==="align"){for(var B=e.cols||[],I="",D=1;D<B.length;D++)I+=D%2?"0em ":"1em ";m.setAttribute("columnspacing",I.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var A="",k=e.hLinesBeforeRow;y+=k[0].length>0?"left ":"",y+=k[k.length-1].length>0?"right ":"";for(var E=1;E<k.length-1;E++)A+=k[E].length===0?"none ":k[E][0]?"dashed ":"solid ";return/[sd]/.test(A)&&m.setAttribute("rowlines",A.trim()),y!==""&&(m=new Fe.MathNode("menclose",[m]),m.setAttribute("notation",y.trim())),e.arraystretch&&e.arraystretch<1&&(m=new Fe.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},IF=function(e,r){e.envName.indexOf("ed")===-1&&Ex(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=Qc(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:_8(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),c,d=0,f={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var m="",p=0;p<r[0].body.length;p++){var y=Ut(r[0].body[p],"textord");m+=y.text}c=Number(m),d=c*2}var b=!d;s.body.forEach(function(O){for(var R=1;R<O.length;R+=2){var C=Ut(O[R],"styling"),B=Ut(C.body[0],"ordgroup");B.body.unshift(f)}if(b)d<O.length&&(d=O.length);else{var I=O.length/2;if(c<I)throw new Ge("Too many math in a row: "+("expected "+c+", but got "+I),O[0])}});for(var T=0;T<d;++T){var S="r",w=0;T%2===1?S="l":T>0&&b&&(w=1),n[T]={type:"align",align:S,pregap:w,postgap:0}}return s.colSeparationType=b?"align":"alignat",s};xo({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=Sx(e[0]),n=r?[e[0]]:Ut(e[0],"ordgroup").body,i=n.map(function(s){var c=y8(s),d=c.text;if("lcr".indexOf(d)!==-1)return{type:"align",align:d};if(d==="|")return{type:"separator",separator:"|"};if(d===":")return{type:"separator",separator:":"};throw new Ge("Unknown column alignment: "+d,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Qc(t.parser,a,S8(t.envName))},htmlBuilder:wo,mathmlBuilder:_o});xo({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new Ge("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var a=Qc(t.parser,n,S8(t.envName)),s=Math.max(0,...a.body.map(c=>c.length));return a.cols=new Array(s).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:wo,mathmlBuilder:_o});xo({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=Qc(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:wo,mathmlBuilder:_o});xo({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=Sx(e[0]),n=r?[e[0]]:Ut(e[0],"ordgroup").body,i=n.map(function(s){var c=y8(s),d=c.text;if("lc".indexOf(d)!==-1)return{type:"align",align:d};throw new Ge("Unknown column alignment: "+d,s)});if(i.length>1)throw new Ge("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Qc(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new Ge("{subarray} can contain only one column");return a},htmlBuilder:wo,mathmlBuilder:_o});xo({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Qc(t.parser,e,S8(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:wo,mathmlBuilder:_o});xo({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:IF,htmlBuilder:wo,mathmlBuilder:_o});xo({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&Ex(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:_8(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Qc(t.parser,e,"display")},htmlBuilder:wo,mathmlBuilder:_o});xo({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:IF,htmlBuilder:wo,mathmlBuilder:_o});xo({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Ex(t);var e={autoTag:_8(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Qc(t.parser,e,"display")},htmlBuilder:wo,mathmlBuilder:_o});xo({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Ex(t),Xse(t.parser)},htmlBuilder:wo,mathmlBuilder:_o});G("\\nonumber","\\gdef\\@eqnsw{0}");G("\\notag","\\nonumber");rt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Ge(t.funcName+" valid only within array environment")}});var PC=jF;rt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];if(i.type!=="ordgroup")throw new Ge("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=Ut(i.body[s],"textord").text;if(n==="\\begin"){if(!PC.hasOwnProperty(a))throw new Ge("No such environment: "+a,i);var c=PC[a],{args:d,optArgs:f}=r.parseArguments("\\begin{"+a+"}",c),m={mode:r.mode,envName:a,parser:r},p=c.handler(m,d,f);r.expect("\\end",!1);var y=r.nextToken,b=Ut(r.parseFunction(),"environment");if(b.name!==a)throw new Ge("Mismatch: \\begin{"+a+"} matched by \\end{"+b.name+"}",y);return p}return{type:"environment",mode:r.mode,name:a,nameGroup:i}}});var RF=(t,e)=>{var r=t.font,n=e.withFont(r);return ar(t.body,n)},MF=(t,e)=>{var r=t.font,n=e.withFont(r);return Pr(t.body,n)},DC={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};rt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=Pv(e[0]),a=n;return a in DC&&(a=DC[a]),{type:"font",mode:r.mode,font:a.slice(1),body:i}},htmlBuilder:RF,mathmlBuilder:MF});rt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],i=dr.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:Tx(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});rt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:i}=t,{mode:a}=r,s=r.parseExpression(!0,i),c="math"+n.slice(1);return{type:"font",mode:a,font:c,body:{type:"ordgroup",mode:r.mode,body:s}}},htmlBuilder:RF,mathmlBuilder:MF});var PF=(t,e)=>{var r=e;return t==="display"?r=r.id>=xt.SCRIPT.id?r.text():xt.DISPLAY:t==="text"&&r.size===xt.DISPLAY.size?r=xt.TEXT:t==="script"?r=xt.SCRIPT:t==="scriptscript"&&(r=xt.SCRIPTSCRIPT),r},T8=(t,e)=>{var r=PF(t.size,e.style),n=r.fracNum(),i=r.fracDen(),a;a=e.havingStyle(n);var s=ar(t.numer,a,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,d=3.5/e.fontMetrics().ptPerEm;s.height=s.height<c?c:s.height,s.depth=s.depth<d?d:s.depth}a=e.havingStyle(i);var f=ar(t.denom,a,e),m,p,y;t.hasBarLine?(t.barSize?(p=an(t.barSize,e),m=xe.makeLineSpan("frac-line",e,p)):m=xe.makeLineSpan("frac-line",e),p=m.height,y=m.height):(m=null,p=0,y=e.fontMetrics().defaultRuleThickness);var b,T,S;r.size===xt.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,p>0?T=3*y:T=7*y,S=e.fontMetrics().denom1):(p>0?(b=e.fontMetrics().num2,T=y):(b=e.fontMetrics().num3,T=3*y),S=e.fontMetrics().denom2);var w;if(m){var R=e.fontMetrics().axisHeight;b-s.depth-(R+.5*p)<T&&(b+=T-(b-s.depth-(R+.5*p))),R-.5*p-(f.height-S)<T&&(S+=T-(R-.5*p-(f.height-S)));var C=-(R-.5*p);w=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:m,shift:C},{type:"elem",elem:s,shift:-b}]},e)}else{var O=b-s.depth-(f.height-S);O<T&&(b+=.5*(T-O),S+=.5*(T-O)),w=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:s,shift:-b}]},e)}a=e.havingStyle(r),w.height*=a.sizeMultiplier/e.sizeMultiplier,w.depth*=a.sizeMultiplier/e.sizeMultiplier;var B;r.size===xt.DISPLAY.size?B=e.fontMetrics().delim1:r.size===xt.SCRIPTSCRIPT.size?B=e.havingStyle(xt.SCRIPT).fontMetrics().delim2:B=e.fontMetrics().delim2;var I,D;return t.leftDelim==null?I=fp(e,["mopen"]):I=ul.customSizedDelim(t.leftDelim,B,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?D=xe.makeSpan([]):t.rightDelim==null?D=fp(e,["mclose"]):D=ul.customSizedDelim(t.rightDelim,B,!0,e.havingStyle(r),t.mode,["mclose"]),xe.makeSpan(["mord"].concat(a.sizingClasses(e)),[I,xe.makeSpan(["mfrac"],[w]),D],e)},A8=(t,e)=>{var r=new Fe.MathNode("mfrac",[Pr(t.numer,e),Pr(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var n=an(t.barSize,e);r.setAttribute("linethickness",Ye(n))}var i=PF(t.size,e.style);if(i.size!==e.style.size){r=new Fe.MathNode("mstyle",[r]);var a=i.size===xt.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var s=[];if(t.leftDelim!=null){var c=new Fe.MathNode("mo",[new Fe.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),s.push(c)}if(s.push(r),t.rightDelim!=null){var d=new Fe.MathNode("mo",[new Fe.TextNode(t.rightDelim.replace("\\",""))]);d.setAttribute("fence","true"),s.push(d)}return p8(s)}return r};rt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=e[1],s,c=null,d=null,f="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,c="(",d=")";break;case"\\\\bracefrac":s=!1,c="\\{",d="\\}";break;case"\\\\brackfrac":s=!1,c="[",d="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:c,rightDelim:d,size:f,barSize:null}},htmlBuilder:T8,mathmlBuilder:A8});rt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});rt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:n}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var LC=["display","text","script","scriptscript"],BC=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};rt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,n=e[4],i=e[5],a=Pv(e[0]),s=a.type==="atom"&&a.family==="open"?BC(a.text):null,c=Pv(e[1]),d=c.type==="atom"&&c.family==="close"?BC(c.text):null,f=Ut(e[2],"size"),m,p=null;f.isBlank?m=!0:(p=f.value,m=p.number>0);var y="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var T=Ut(b.body[0],"textord");y=LC[Number(T.text)]}}else b=Ut(b,"textord"),y=LC[Number(b.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:m,barSize:p,leftDelim:s,rightDelim:d,size:y}},htmlBuilder:T8,mathmlBuilder:A8});rt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Ut(e[0],"size").value,token:i}}});rt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=Uae(Ut(e[1],"infix").size),s=e[2],c=a.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:s,continued:!1,hasBarLine:c,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:T8,mathmlBuilder:A8});var DF=(t,e)=>{var r=e.style,n,i;t.type==="supsub"?(n=t.sup?ar(t.sup,e.havingStyle(r.sup()),e):ar(t.sub,e.havingStyle(r.sub()),e),i=Ut(t.base,"horizBrace")):i=Ut(t,"horizBrace");var a=ar(i.base,e.havingBaseStyle(xt.DISPLAY)),s=_l.svgSpan(i,e),c;if(i.isOver?(c=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=xe.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),n){var d=xe.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e);i.isOver?c=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d},{type:"kern",size:.2},{type:"elem",elem:n}]},e):c=xe.makeVList({positionType:"bottom",positionData:d.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:d}]},e)}return xe.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e)},uoe=(t,e)=>{var r=_l.mathMLnode(t.label);return new Fe.MathNode(t.isOver?"mover":"munder",[Pr(t.base,e),r])};rt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:DF,mathmlBuilder:uoe});rt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],i=Ut(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:En(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=Kn(t.body,e,!1);return xe.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=Wc(t.body,e);return r instanceof Ca||(r=new Ca("mrow",[r])),r.setAttribute("href",t.href),r}});rt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=Ut(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var c={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:En(c)}}});rt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:En(e[0])}},htmlBuilder(t,e){var r=Kn(t.body,e,!1);return xe.makeFragment(r)},mathmlBuilder(t,e){return new Fe.MathNode("mrow",pa(t.body,e))}});rt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,token:i}=t,a=Ut(e[0],"raw").string,s=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,d={};switch(n){case"\\htmlClass":d.class=a,c={command:"\\htmlClass",class:a};break;case"\\htmlId":d.id=a,c={command:"\\htmlId",id:a};break;case"\\htmlStyle":d.style=a,c={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var f=a.split(","),m=0;m<f.length;m++){var p=f[m],y=p.indexOf("=");if(y<0)throw new Ge("\\htmlData key/value '"+p+"' missing equals sign");var b=p.slice(0,y),T=p.slice(y+1);d["data-"+b.trim()]=T}c={command:"\\htmlData",attributes:d};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(c)?{type:"html",mode:r.mode,attributes:d,body:En(s)}:r.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var r=Kn(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var i=xe.makeSpan(n,r,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&i.setAttribute(a,t.attributes[a]);return i},mathmlBuilder:(t,e)=>Wc(t.body,e)});rt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:En(e[0]),mathml:En(e[1])}},htmlBuilder:(t,e)=>{var r=Kn(t.html,e,!1);return xe.makeFragment(r)},mathmlBuilder:(t,e)=>Wc(t.mathml,e)});var Zw=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new Ge("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!tF(n))throw new Ge("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};rt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},c="";if(r[0])for(var d=Ut(r[0],"raw").string,f=d.split(","),m=0;m<f.length;m++){var p=f[m].split("=");if(p.length===2){var y=p[1].trim();switch(p[0].trim()){case"alt":c=y;break;case"width":i=Zw(y);break;case"height":a=Zw(y);break;case"totalheight":s=Zw(y);break;default:throw new Ge("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var b=Ut(e[0],"url").url;return c===""&&(c=b,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:n.mode,alt:c,width:i,height:a,totalheight:s,src:b}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=an(t.height,e),n=0;t.totalheight.number>0&&(n=an(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=an(t.width,e));var a={height:Ye(r+n)};i>0&&(a.width=Ye(i)),n>0&&(a.verticalAlign=Ye(-n));var s=new use(t.src,t.alt,a);return s.height=r,s.depth=n,s},mathmlBuilder:(t,e)=>{var r=new Fe.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=an(t.height,e),i=0;if(t.totalheight.number>0&&(i=an(t.totalheight,e)-n,r.setAttribute("valign",Ye(-i))),r.setAttribute("height",Ye(n+i)),t.width.number>0){var a=an(t.width,e);r.setAttribute("width",Ye(a))}return r.setAttribute("src",t.src),r}});rt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=Ut(e[0],"size");if(r.settings.strict){var a=n[1]==="m",s=i.value.unit==="mu";a?(s||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):s&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return xe.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=an(t.dimension,e);return new Fe.SpaceNode(r)}});rt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=xe.makeSpan([],[ar(t.body,e)]),r=xe.makeSpan(["inner"],[r],e)):r=xe.makeSpan(["inner"],[ar(t.body,e)]);var n=xe.makeSpan(["fix"],[]),i=xe.makeSpan([t.alignment],[r,n],e),a=xe.makeSpan(["strut"]);return a.style.height=Ye(i.height+i.depth),i.depth&&(a.style.verticalAlign=Ye(-i.depth)),i.children.unshift(a),i=xe.makeSpan(["thinbox"],[i],e),xe.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new Fe.MathNode("mpadded",[Pr(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});rt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,i=n.mode;n.switchMode("math");var a=r==="\\("?"\\)":"$",s=n.parseExpression(!1,a);return n.expect(a),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:s}}});rt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Ge("Mismatched "+t.funcName)}});var UC=(t,e)=>{switch(e.style.size){case xt.DISPLAY.size:return t.display;case xt.TEXT.size:return t.text;case xt.SCRIPT.size:return t.script;case xt.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};rt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:En(e[0]),text:En(e[1]),script:En(e[2]),scriptscript:En(e[3])}},htmlBuilder:(t,e)=>{var r=UC(t,e),n=Kn(r,e,!1);return xe.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=UC(t,e);return Wc(r,e)}});var LF=(t,e,r,n,i,a,s)=>{t=xe.makeSpan([],[t]);var c=r&&dr.isCharacterBox(r),d,f;if(e){var m=ar(e,n.havingStyle(i.sup()),n);f={elem:m,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-m.depth)}}if(r){var p=ar(r,n.havingStyle(i.sub()),n);d={elem:p,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-p.height)}}var y;if(f&&d){var b=n.fontMetrics().bigOpSpacing5+d.elem.height+d.elem.depth+d.kern+t.depth+s;y=xe.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:Ye(-a)},{type:"kern",size:d.kern},{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Ye(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(d){var T=t.height-s;y=xe.makeVList({positionType:"top",positionData:T,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:Ye(-a)},{type:"kern",size:d.kern},{type:"elem",elem:t}]},n)}else if(f){var S=t.depth+s;y=xe.makeVList({positionType:"bottom",positionData:S,children:[{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Ye(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var w=[y];if(d&&a!==0&&!c){var O=xe.makeSpan(["mspace"],[],n);O.style.marginRight=Ye(a),w.unshift(O)}return xe.makeSpan(["mop","op-limits"],w,n)},BF=["\\smallint"],Gh=(t,e)=>{var r,n,i=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=Ut(t.base,"op"),i=!0):a=Ut(t,"op");var s=e.style,c=!1;s.size===xt.DISPLAY.size&&a.symbol&&!BF.includes(a.name)&&(c=!0);var d;if(a.symbol){var f=c?"Size2-Regular":"Size1-Regular",m="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(m=a.name.slice(1),a.name=m==="oiint"?"\\iint":"\\iiint"),d=xe.makeSymbol(a.name,f,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),m.length>0){var p=d.italic,y=xe.staticSvg(m+"Size"+(c?"2":"1"),e);d=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:0},{type:"elem",elem:y,shift:c?.08:0}]},e),a.name="\\"+m,d.classes.unshift("mop"),d.italic=p}}else if(a.body){var b=Kn(a.body,e,!0);b.length===1&&b[0]instanceof ds?(d=b[0],d.classes[0]="mop"):d=xe.makeSpan(["mop"],b,e)}else{for(var T=[],S=1;S<a.name.length;S++)T.push(xe.mathsym(a.name[S],a.mode,e));d=xe.makeSpan(["mop"],T,e)}var w=0,O=0;return(d instanceof ds||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(w=(d.height-d.depth)/2-e.fontMetrics().axisHeight,O=d.italic),i?LF(d,r,n,e,s,O,w):(w&&(d.style.position="relative",d.style.top=Ye(w)),d)},vg=(t,e)=>{var r;if(t.symbol)r=new Ca("mo",[hs(t.name,t.mode)]),BF.includes(t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new Ca("mo",pa(t.body,e));else{r=new Ca("mi",[new lo(t.name.slice(1))]);var n=new Ca("mo",[hs("","text")]);t.parentIsSupSub?r=new Ca("mrow",[r,n]):r=hF([r,n])}return r},doe={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};rt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=n;return i.length===1&&(i=doe[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Gh,mathmlBuilder:vg});rt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:En(n)}},htmlBuilder:Gh,mathmlBuilder:vg});var hoe={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};rt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Gh,mathmlBuilder:vg});rt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Gh,mathmlBuilder:vg});rt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=hoe[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Gh,mathmlBuilder:vg});var UF=(t,e)=>{var r,n,i=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=Ut(t.base,"operatorname"),i=!0):a=Ut(t,"operatorname");var s;if(a.body.length>0){for(var c=a.body.map(p=>{var y=p.text;return typeof y=="string"?{type:"textord",mode:p.mode,text:y}:p}),d=Kn(c,e.withFont("mathrm"),!0),f=0;f<d.length;f++){var m=d[f];m instanceof ds&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=xe.makeSpan(["mop"],d,e)}else s=xe.makeSpan(["mop"],[],e);return i?LF(s,r,n,e,e.style,0,0):s},foe=(t,e)=>{for(var r=pa(t.body,e.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var a=r[i];if(!(a instanceof Fe.SpaceNode))if(a instanceof Fe.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof Fe.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var c=r.map(m=>m.toText()).join("");r=[new Fe.TextNode(c)]}var d=new Fe.MathNode("mi",r);d.setAttribute("mathvariant","normal");var f=new Fe.MathNode("mo",[hs("","text")]);return t.parentIsSupSub?new Fe.MathNode("mrow",[d,f]):Fe.newDocumentFragment([d,f])};rt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:En(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:UF,mathmlBuilder:foe});G("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");C0({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?xe.makeFragment(Kn(t.body,e,!1)):xe.makeSpan(["mord"],Kn(t.body,e,!0),e)},mathmlBuilder(t,e){return Wc(t.body,e,!0)}});rt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=ar(t.body,e.havingCrampedStyle()),n=xe.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,a=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return xe.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var r=new Fe.MathNode("mo",[new Fe.TextNode("")]);r.setAttribute("stretchy","true");var n=new Fe.MathNode("mover",[Pr(t.body,e),r]);return n.setAttribute("accent","true"),n}});rt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:En(n)}},htmlBuilder:(t,e)=>{var r=Kn(t.body,e.withPhantom(),!1);return xe.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=pa(t.body,e);return new Fe.MathNode("mphantom",r)}});rt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=xe.makeSpan([],[ar(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),xe.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=pa(En(t.body),e),n=new Fe.MathNode("mphantom",r),i=new Fe.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});rt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=xe.makeSpan(["inner"],[ar(t.body,e.withPhantom())]),n=xe.makeSpan(["fix"],[]);return xe.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=pa(En(t.body),e),n=new Fe.MathNode("mphantom",r),i=new Fe.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});rt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=Ut(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(t,e){var r=ar(t.body,e),n=an(t.dy,e);return xe.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new Fe.MathNode("mpadded",[Pr(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}});rt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});rt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,i=r[0],a=Ut(e[0],"size"),s=Ut(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&Ut(i,"size").value,width:a.value,height:s.value}},htmlBuilder(t,e){var r=xe.makeSpan(["mord","rule"],[],e),n=an(t.width,e),i=an(t.height,e),a=t.shift?an(t.shift,e):0;return r.style.borderRightWidth=Ye(n),r.style.borderTopWidth=Ye(i),r.style.bottom=Ye(a),r.width=n,r.height=i+a,r.depth=-a,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=an(t.width,e),n=an(t.height,e),i=t.shift?an(t.shift,e):0,a=e.color&&e.getColor()||"black",s=new Fe.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",Ye(r)),s.setAttribute("height",Ye(n));var c=new Fe.MathNode("mpadded",[s]);return i>=0?c.setAttribute("height",Ye(i)):(c.setAttribute("height",Ye(i)),c.setAttribute("depth",Ye(-i))),c.setAttribute("voffset",Ye(i)),c}});function zF(t,e,r){for(var n=Kn(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,a=0;a<n.length;a++){var s=n[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(n[a].classes,e.sizingClasses(r)):n[a].classes[s+1]==="reset-size"+e.size&&(n[a].classes[s+1]="reset-size"+r.size),n[a].height*=i,n[a].depth*=i}return xe.makeFragment(n)}var zC=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],moe=(t,e)=>{var r=e.havingSize(t.size);return zF(t.body,r,e)};rt({type:"sizing",names:zC,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:i}=t,a=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:zC.indexOf(n)+1,body:a}},htmlBuilder:moe,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=pa(t.body,r),i=new Fe.MathNode("mstyle",n);return i.setAttribute("mathsize",Ye(r.sizeMultiplier)),i}});rt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,i=!1,a=!1,s=r[0]&&Ut(r[0],"ordgroup");if(s)for(var c="",d=0;d<s.body.length;++d){var f=s.body[d];if(c=f.text,c==="t")i=!0;else if(c==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var m=e[0];return{type:"smash",mode:n.mode,body:m,smashHeight:i,smashDepth:a}},htmlBuilder:(t,e)=>{var r=xe.makeSpan([],[ar(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var a=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return xe.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var r=new Fe.MathNode("mpadded",[Pr(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});rt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,i=r[0],a=e[0];return{type:"sqrt",mode:n.mode,body:a,index:i}},htmlBuilder(t,e){var r=ar(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=xe.wrapFragment(r,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,a=i;e.style.id<xt.TEXT.id&&(a=e.fontMetrics().xHeight);var s=i+a/4,c=r.height+r.depth+s+i,{span:d,ruleWidth:f,advanceWidth:m}=ul.sqrtImage(c,e),p=d.height-f;p>r.height+r.depth+s&&(s=(s+p-r.height-r.depth)/2);var y=d.height-r.height-s-f;r.style.paddingLeft=Ye(m);var b=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+y)},{type:"elem",elem:d},{type:"kern",size:f}]},e);if(t.index){var T=e.havingStyle(xt.SCRIPTSCRIPT),S=ar(t.index,T,e),w=.6*(b.height-b.depth),O=xe.makeVList({positionType:"shift",positionData:-w,children:[{type:"elem",elem:S}]},e),R=xe.makeSpan(["root"],[O]);return xe.makeSpan(["mord","sqrt"],[R,b],e)}else return xe.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new Fe.MathNode("mroot",[Pr(r,e),Pr(n,e)]):new Fe.MathNode("msqrt",[Pr(r,e)])}});var VC={display:xt.DISPLAY,text:xt.TEXT,script:xt.SCRIPT,scriptscript:xt.SCRIPTSCRIPT};rt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:i}=t,a=i.parseExpression(!0,r),s=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(t,e){var r=VC[t.style],n=e.havingStyle(r).withFont("");return zF(t.body,n,e)},mathmlBuilder(t,e){var r=VC[t.style],n=e.havingStyle(r),i=pa(t.body,n),a=new Fe.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=s[t.style];return a.setAttribute("scriptlevel",c[0]),a.setAttribute("displaystyle",c[1]),a}});var poe=function(e,r){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===xt.DISPLAY.size||n.alwaysHandleSupSub);return i?Gh:null}else if(n.type==="operatorname"){var a=n.alwaysHandleSupSub&&(r.style.size===xt.DISPLAY.size||n.limits);return a?UF:null}else{if(n.type==="accent")return dr.isCharacterBox(n.base)?v8:null;if(n.type==="horizBrace"){var s=!e.sub;return s===n.isOver?DF:null}else return null}else return null};C0({type:"supsub",htmlBuilder(t,e){var r=poe(t,e);if(r)return r(t,e);var{base:n,sup:i,sub:a}=t,s=ar(n,e),c,d,f=e.fontMetrics(),m=0,p=0,y=n&&dr.isCharacterBox(n);if(i){var b=e.havingStyle(e.style.sup());c=ar(i,b,e),y||(m=s.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(a){var T=e.havingStyle(e.style.sub());d=ar(a,T,e),y||(p=s.depth+T.fontMetrics().subDrop*T.sizeMultiplier/e.sizeMultiplier)}var S;e.style===xt.DISPLAY?S=f.sup1:e.style.cramped?S=f.sup3:S=f.sup2;var w=e.sizeMultiplier,O=Ye(.5/f.ptPerEm/w),R=null;if(d){var C=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(s instanceof ds||C)&&(R=Ye(-s.italic))}var B;if(c&&d){m=Math.max(m,S,c.depth+.25*f.xHeight),p=Math.max(p,f.sub2);var I=f.defaultRuleThickness,D=4*I;if(m-c.depth-(d.height-p)<D){p=D-(m-c.depth)+d.height;var A=.8*f.xHeight-(m-c.depth);A>0&&(m+=A,p-=A)}var k=[{type:"elem",elem:d,shift:p,marginRight:O,marginLeft:R},{type:"elem",elem:c,shift:-m,marginRight:O}];B=xe.makeVList({positionType:"individualShift",children:k},e)}else if(d){p=Math.max(p,f.sub1,d.height-.8*f.xHeight);var E=[{type:"elem",elem:d,marginLeft:R,marginRight:O}];B=xe.makeVList({positionType:"shift",positionData:p,children:E},e)}else if(c)m=Math.max(m,S,c.depth+.25*f.xHeight),B=xe.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:c,marginRight:O}]},e);else throw new Error("supsub must have either sup or sub.");var U=uT(s,"right")||"mord";return xe.makeSpan([U],[s,xe.makeSpan(["msupsub"],[B])],e)},mathmlBuilder(t,e){var r=!1,n,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[Pr(t.base,e)];t.sub&&a.push(Pr(t.sub,e)),t.sup&&a.push(Pr(t.sup,e));var s;if(r)s=n?"mover":"munder";else if(t.sub)if(t.sup){var f=t.base;f&&f.type==="op"&&f.limits&&e.style===xt.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===xt.DISPLAY||f.limits)?s="munderover":s="msubsup"}else{var d=t.base;d&&d.type==="op"&&d.limits&&(e.style===xt.DISPLAY||d.alwaysHandleSupSub)||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(d.limits||e.style===xt.DISPLAY)?s="munder":s="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===xt.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===xt.DISPLAY)?s="mover":s="msup"}return new Fe.MathNode(s,a)}});C0({type:"atom",htmlBuilder(t,e){return xe.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new Fe.MathNode("mo",[hs(t.text,t.mode)]);if(t.family==="bin"){var n=g8(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var VF={mi:"italic",mn:"normal",mtext:"normal"};C0({type:"mathord",htmlBuilder(t,e){return xe.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new Fe.MathNode("mi",[hs(t.text,t.mode,e)]),n=g8(t,e)||"italic";return n!==VF[r.type]&&r.setAttribute("mathvariant",n),r}});C0({type:"textord",htmlBuilder(t,e){return xe.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=hs(t.text,t.mode,e),n=g8(t,e)||"normal",i;return t.mode==="text"?i=new Fe.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new Fe.MathNode("mn",[r]):t.text==="\\prime"?i=new Fe.MathNode("mo",[r]):i=new Fe.MathNode("mi",[r]),n!==VF[i.type]&&i.setAttribute("mathvariant",n),i}});var Jw={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},e5={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};C0({type:"spacing",htmlBuilder(t,e){if(e5.hasOwnProperty(t.text)){var r=e5[t.text].className||"";if(t.mode==="text"){var n=xe.makeOrd(t,e,"textord");return n.classes.push(r),n}else return xe.makeSpan(["mspace",r],[xe.mathsym(t.text,t.mode,e)],e)}else{if(Jw.hasOwnProperty(t.text))return xe.makeSpan(["mspace",Jw[t.text]],[],e);throw new Ge('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(e5.hasOwnProperty(t.text))r=new Fe.MathNode("mtext",[new Fe.TextNode("")]);else{if(Jw.hasOwnProperty(t.text))return new Fe.MathNode("mspace");throw new Ge('Unknown type of space "'+t.text+'"')}return r}});var $C=()=>{var t=new Fe.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};C0({type:"tag",mathmlBuilder(t,e){var r=new Fe.MathNode("mtable",[new Fe.MathNode("mtr",[$C(),new Fe.MathNode("mtd",[Wc(t.body,e)]),$C(),new Fe.MathNode("mtd",[Wc(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var FC={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},qC={"\\textbf":"textbf","\\textmd":"textmd"},goe={"\\textit":"textit","\\textup":"textup"},HC=(t,e)=>{var r=t.font;if(r){if(FC[r])return e.withTextFontFamily(FC[r]);if(qC[r])return e.withTextFontWeight(qC[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(goe[r])};rt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"text",mode:r.mode,body:En(i),font:n}},htmlBuilder(t,e){var r=HC(t,e),n=Kn(t.body,r,!0);return xe.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=HC(t,e);return Wc(t.body,r)}});rt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=ar(t.body,e),n=xe.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,a=xe.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return xe.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var r=new Fe.MathNode("mo",[new Fe.TextNode("")]);r.setAttribute("stretchy","true");var n=new Fe.MathNode("munder",[Pr(t.body,e),r]);return n.setAttribute("accentunder","true"),n}});rt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=ar(t.body,e),n=e.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return xe.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new Fe.MathNode("mpadded",[Pr(t.body,e)],["vcenter"])}});rt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new Ge("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=GC(t),n=[],i=e.havingStyle(e.style.text()),a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),n.push(xe.makeSymbol(s,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return xe.makeSpan(["mord","text"].concat(i.sizingClasses(e)),xe.tryCombineChars(n),i)},mathmlBuilder(t,e){var r=new Fe.TextNode(GC(t)),n=new Fe.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var GC=t=>t.body.replace(/ /g,t.star?"":""),Oc=uF,$F=`[ \r
	]`,yoe="\\\\[a-zA-Z@]+",voe="\\\\[^\uD800-\uDFFF]",boe="("+yoe+")"+$F+"*",xoe=`\\\\(
|[ \r	]+
?)[ \r	]*`,mT="[-]",woe=new RegExp(mT+"+$"),_oe="("+$F+"+)|"+(xoe+"|")+"([!-\\[\\]---]"+(mT+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(mT+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+boe)+("|"+voe+")");class KC{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(_oe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new La("EOF",new ua(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new Ge("Unexpected character: '"+e[r]+"'",new La(e[r],new ua(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new La(i,new ua(this,r,this.tokenRegex.lastIndex))}}class Soe{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ge("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var Toe=CF;G("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});G("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});G("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});G("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});G("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});G("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");G("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var WC={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};G("\\char",function(t){var e=t.popToken(),r,n="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Ge("\\char` missing argument");n=e.text.charCodeAt(0)}else r=10;if(r){if(n=WC[e.text],n==null||n>=r)throw new Ge("Invalid base-"+r+" digit "+e.text);for(var i;(i=WC[t.future().text])!=null&&i<r;)n*=r,n+=i,t.popToken()}return"\\@char{"+n+"}"});var E8=(t,e,r,n)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Ge("\\newcommand's first argument must be a macro name");var a=i[0].text,s=t.isDefined(a);if(s&&!e)throw new Ge("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!s&&!r)throw new Ge("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var c=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var d="",f=t.expandNextToken();f.text!=="]"&&f.text!=="EOF";)d+=f.text,f=t.expandNextToken();if(!d.match(/^\s*[0-9]+\s*$/))throw new Ge("Invalid number of arguments: "+d);c=parseInt(d),i=t.consumeArg().tokens}return s&&n||t.macros.set(a,{tokens:i,numArgs:c}),""};G("\\newcommand",t=>E8(t,!1,!0,!1));G("\\renewcommand",t=>E8(t,!0,!1,!1));G("\\providecommand",t=>E8(t,!0,!0,!0));G("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});G("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});G("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Oc[r],$r.math[r],$r.text[r]),""});G("\\bgroup","{");G("\\egroup","}");G("~","\\nobreakspace");G("\\lq","`");G("\\rq","'");G("\\aa","\\r a");G("\\AA","\\r A");G("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");G("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");G("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");G("","\\mathscr{B}");G("","\\mathscr{E}");G("","\\mathscr{F}");G("","\\mathscr{H}");G("","\\mathscr{I}");G("","\\mathscr{L}");G("","\\mathscr{M}");G("","\\mathscr{R}");G("","\\mathfrak{C}");G("","\\mathfrak{H}");G("","\\mathfrak{Z}");G("\\Bbbk","\\Bbb{k}");G("","\\cdotp");G("\\llap","\\mathllap{\\textrm{#1}}");G("\\rlap","\\mathrlap{\\textrm{#1}}");G("\\clap","\\mathclap{\\textrm{#1}}");G("\\mathstrut","\\vphantom{(}");G("\\underbar","\\underline{\\text{#1}}");G("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');G("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");G("\\ne","\\neq");G("","\\neq");G("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");G("","\\notin");G("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");G("","\\perp");G("","\\mathclose{!\\mkern-0.8mu!}");G("","\\notni");G("","\\ulcorner");G("","\\urcorner");G("","\\llcorner");G("","\\lrcorner");G("","\\copyright");G("","\\textregistered");G("","\\textregistered");G("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');G("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');G("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');G("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');G("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");G("","\\vdots");G("\\varGamma","\\mathit{\\Gamma}");G("\\varDelta","\\mathit{\\Delta}");G("\\varTheta","\\mathit{\\Theta}");G("\\varLambda","\\mathit{\\Lambda}");G("\\varXi","\\mathit{\\Xi}");G("\\varPi","\\mathit{\\Pi}");G("\\varSigma","\\mathit{\\Sigma}");G("\\varUpsilon","\\mathit{\\Upsilon}");G("\\varPhi","\\mathit{\\Phi}");G("\\varPsi","\\mathit{\\Psi}");G("\\varOmega","\\mathit{\\Omega}");G("\\substack","\\begin{subarray}{c}#1\\end{subarray}");G("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");G("\\boxed","\\fbox{$\\displaystyle{#1}$}");G("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");G("\\implies","\\DOTSB\\;\\Longrightarrow\\;");G("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");G("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");G("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var XC={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};G("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in XC?e=XC[r]:(r.slice(0,4)==="\\not"||r in $r.math&&["bin","rel"].includes($r.math[r].group))&&(e="\\dotsb"),e});var N8={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};G("\\dotso",function(t){var e=t.future().text;return e in N8?"\\ldots\\,":"\\ldots"});G("\\dotsc",function(t){var e=t.future().text;return e in N8&&e!==","?"\\ldots\\,":"\\ldots"});G("\\cdots",function(t){var e=t.future().text;return e in N8?"\\@cdots\\,":"\\@cdots"});G("\\dotsb","\\cdots");G("\\dotsm","\\cdots");G("\\dotsi","\\!\\cdots");G("\\dotsx","\\ldots\\,");G("\\DOTSI","\\relax");G("\\DOTSB","\\relax");G("\\DOTSX","\\relax");G("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");G("\\,","\\tmspace+{3mu}{.1667em}");G("\\thinspace","\\,");G("\\>","\\mskip{4mu}");G("\\:","\\tmspace+{4mu}{.2222em}");G("\\medspace","\\:");G("\\;","\\tmspace+{5mu}{.2777em}");G("\\thickspace","\\;");G("\\!","\\tmspace-{3mu}{.1667em}");G("\\negthinspace","\\!");G("\\negmedspace","\\tmspace-{4mu}{.2222em}");G("\\negthickspace","\\tmspace-{5mu}{.277em}");G("\\enspace","\\kern.5em ");G("\\enskip","\\hskip.5em\\relax");G("\\quad","\\hskip1em\\relax");G("\\qquad","\\hskip2em\\relax");G("\\tag","\\@ifstar\\tag@literal\\tag@paren");G("\\tag@paren","\\tag@literal{({#1})}");G("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Ge("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});G("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");G("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");G("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");G("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");G("\\newline","\\\\\\relax");G("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var FF=Ye(oo["Main-Regular"][84][1]-.7*oo["Main-Regular"][65][1]);G("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+FF+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");G("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+FF+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");G("\\hspace","\\@ifstar\\@hspacer\\@hspace");G("\\@hspace","\\hskip #1\\relax");G("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");G("\\ordinarycolon",":");G("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");G("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');G("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');G("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');G("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');G("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');G("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');G("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');G("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');G("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');G("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');G("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');G("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');G("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');G("","\\dblcolon");G("","\\eqcolon");G("","\\coloneqq");G("","\\eqqcolon");G("","\\Coloneqq");G("\\ratio","\\vcentcolon");G("\\coloncolon","\\dblcolon");G("\\colonequals","\\coloneqq");G("\\coloncolonequals","\\Coloneqq");G("\\equalscolon","\\eqqcolon");G("\\equalscoloncolon","\\Eqqcolon");G("\\colonminus","\\coloneq");G("\\coloncolonminus","\\Coloneq");G("\\minuscolon","\\eqcolon");G("\\minuscoloncolon","\\Eqcolon");G("\\coloncolonapprox","\\Colonapprox");G("\\coloncolonsim","\\Colonsim");G("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");G("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");G("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");G("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");G("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");G("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");G("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");G("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");G("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");G("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");G("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");G("\\ngeqq","\\html@mathml{\\@ngeqq}{}");G("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");G("\\nleqq","\\html@mathml{\\@nleqq}{}");G("\\nleqslant","\\html@mathml{\\@nleqslant}{}");G("\\nshortmid","\\html@mathml{\\@nshortmid}{}");G("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");G("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");G("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");G("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");G("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");G("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");G("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");G("\\imath","\\html@mathml{\\@imath}{}");G("\\jmath","\\html@mathml{\\@jmath}{}");G("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");G("","\\llbracket");G("","\\rrbracket");G("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");G("","\\lBrace");G("","\\rBrace");G("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");G("","\\minuso");G("\\darr","\\downarrow");G("\\dArr","\\Downarrow");G("\\Darr","\\Downarrow");G("\\lang","\\langle");G("\\rang","\\rangle");G("\\uarr","\\uparrow");G("\\uArr","\\Uparrow");G("\\Uarr","\\Uparrow");G("\\N","\\mathbb{N}");G("\\R","\\mathbb{R}");G("\\Z","\\mathbb{Z}");G("\\alef","\\aleph");G("\\alefsym","\\aleph");G("\\Alpha","\\mathrm{A}");G("\\Beta","\\mathrm{B}");G("\\bull","\\bullet");G("\\Chi","\\mathrm{X}");G("\\clubs","\\clubsuit");G("\\cnums","\\mathbb{C}");G("\\Complex","\\mathbb{C}");G("\\Dagger","\\ddagger");G("\\diamonds","\\diamondsuit");G("\\empty","\\emptyset");G("\\Epsilon","\\mathrm{E}");G("\\Eta","\\mathrm{H}");G("\\exist","\\exists");G("\\harr","\\leftrightarrow");G("\\hArr","\\Leftrightarrow");G("\\Harr","\\Leftrightarrow");G("\\hearts","\\heartsuit");G("\\image","\\Im");G("\\infin","\\infty");G("\\Iota","\\mathrm{I}");G("\\isin","\\in");G("\\Kappa","\\mathrm{K}");G("\\larr","\\leftarrow");G("\\lArr","\\Leftarrow");G("\\Larr","\\Leftarrow");G("\\lrarr","\\leftrightarrow");G("\\lrArr","\\Leftrightarrow");G("\\Lrarr","\\Leftrightarrow");G("\\Mu","\\mathrm{M}");G("\\natnums","\\mathbb{N}");G("\\Nu","\\mathrm{N}");G("\\Omicron","\\mathrm{O}");G("\\plusmn","\\pm");G("\\rarr","\\rightarrow");G("\\rArr","\\Rightarrow");G("\\Rarr","\\Rightarrow");G("\\real","\\Re");G("\\reals","\\mathbb{R}");G("\\Reals","\\mathbb{R}");G("\\Rho","\\mathrm{P}");G("\\sdot","\\cdot");G("\\sect","\\S");G("\\spades","\\spadesuit");G("\\sub","\\subset");G("\\sube","\\subseteq");G("\\supe","\\supseteq");G("\\Tau","\\mathrm{T}");G("\\thetasym","\\vartheta");G("\\weierp","\\wp");G("\\Zeta","\\mathrm{Z}");G("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");G("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");G("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");G("\\bra","\\mathinner{\\langle{#1}|}");G("\\ket","\\mathinner{|{#1}\\rangle}");G("\\braket","\\mathinner{\\langle{#1}\\rangle}");G("\\Bra","\\left\\langle#1\\right|");G("\\Ket","\\left|#1\\right\\rangle");var qF=t=>e=>{var r=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var d=p=>y=>{t&&(y.macros.set("|",s),i.length&&y.macros.set("\\|",c));var b=p;if(!p&&i.length){var T=y.future();T.text==="|"&&(y.popToken(),b=!0)}return{tokens:b?i:n,numArgs:0}};e.macros.set("|",d(!1)),i.length&&e.macros.set("\\|",d(!0));var f=e.consumeArg().tokens,m=e.expandTokens([...a,...f,...r]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};G("\\bra@ket",qF(!1));G("\\bra@set",qF(!0));G("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");G("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");G("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");G("\\angln","{\\angl n}");G("\\blue","\\textcolor{##6495ed}{#1}");G("\\orange","\\textcolor{##ffa500}{#1}");G("\\pink","\\textcolor{##ff00af}{#1}");G("\\red","\\textcolor{##df0030}{#1}");G("\\green","\\textcolor{##28ae7b}{#1}");G("\\gray","\\textcolor{gray}{#1}");G("\\purple","\\textcolor{##9d38bd}{#1}");G("\\blueA","\\textcolor{##ccfaff}{#1}");G("\\blueB","\\textcolor{##80f6ff}{#1}");G("\\blueC","\\textcolor{##63d9ea}{#1}");G("\\blueD","\\textcolor{##11accd}{#1}");G("\\blueE","\\textcolor{##0c7f99}{#1}");G("\\tealA","\\textcolor{##94fff5}{#1}");G("\\tealB","\\textcolor{##26edd5}{#1}");G("\\tealC","\\textcolor{##01d1c1}{#1}");G("\\tealD","\\textcolor{##01a995}{#1}");G("\\tealE","\\textcolor{##208170}{#1}");G("\\greenA","\\textcolor{##b6ffb0}{#1}");G("\\greenB","\\textcolor{##8af281}{#1}");G("\\greenC","\\textcolor{##74cf70}{#1}");G("\\greenD","\\textcolor{##1fab54}{#1}");G("\\greenE","\\textcolor{##0d923f}{#1}");G("\\goldA","\\textcolor{##ffd0a9}{#1}");G("\\goldB","\\textcolor{##ffbb71}{#1}");G("\\goldC","\\textcolor{##ff9c39}{#1}");G("\\goldD","\\textcolor{##e07d10}{#1}");G("\\goldE","\\textcolor{##a75a05}{#1}");G("\\redA","\\textcolor{##fca9a9}{#1}");G("\\redB","\\textcolor{##ff8482}{#1}");G("\\redC","\\textcolor{##f9685d}{#1}");G("\\redD","\\textcolor{##e84d39}{#1}");G("\\redE","\\textcolor{##bc2612}{#1}");G("\\maroonA","\\textcolor{##ffbde0}{#1}");G("\\maroonB","\\textcolor{##ff92c6}{#1}");G("\\maroonC","\\textcolor{##ed5fa6}{#1}");G("\\maroonD","\\textcolor{##ca337c}{#1}");G("\\maroonE","\\textcolor{##9e034e}{#1}");G("\\purpleA","\\textcolor{##ddd7ff}{#1}");G("\\purpleB","\\textcolor{##c6b9fc}{#1}");G("\\purpleC","\\textcolor{##aa87ff}{#1}");G("\\purpleD","\\textcolor{##7854ab}{#1}");G("\\purpleE","\\textcolor{##543b78}{#1}");G("\\mintA","\\textcolor{##f5f9e8}{#1}");G("\\mintB","\\textcolor{##edf2df}{#1}");G("\\mintC","\\textcolor{##e0e5cc}{#1}");G("\\grayA","\\textcolor{##f6f7f7}{#1}");G("\\grayB","\\textcolor{##f0f1f2}{#1}");G("\\grayC","\\textcolor{##e3e5e6}{#1}");G("\\grayD","\\textcolor{##d6d8da}{#1}");G("\\grayE","\\textcolor{##babec2}{#1}");G("\\grayF","\\textcolor{##888d93}{#1}");G("\\grayG","\\textcolor{##626569}{#1}");G("\\grayH","\\textcolor{##3b3e40}{#1}");G("\\grayI","\\textcolor{##21242c}{#1}");G("\\kaBlue","\\textcolor{##314453}{#1}");G("\\kaGreen","\\textcolor{##71B307}{#1}");var HF={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Aoe{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new Soe(Toe,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new KC(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new La("EOF",n.loc)),this.pushTokens(i),new La("",ua.range(r,n))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),a,s=0,c=0;do{if(a=this.popToken(),r.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new Ge("Extra }",a)}else if(a.text==="EOF")throw new Ge("Unexpected end of input in a macro argument, expected '"+(e&&n?e[c]:"}")+"'",a);if(e&&n)if((s===0||s===1&&e[c]==="{")&&a.text===e[c]){if(++c,c===e.length){r.splice(-c,c);break}}else c=0}while(s!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:a}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new Ge("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var a=this.popToken();if(n[i]!==a.text)throw new Ge("Use of the macro doesn't match its definition",a)}}for(var s=[],c=0;c<e;c++)s.push(this.consumeArg(r&&r[c+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Ge("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new Ge("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var c=a.length-1;c>=0;--c){var d=a[c];if(d.text==="#"){if(c===0)throw new Ge("Incomplete placeholder at end of macro body",d);if(d=a[--c],d.text==="#")a.splice(c+1,1);else if(/^[1-9]$/.test(d.text))a.splice(c,2,...s[+d.text-1]);else throw new Ge("Not a valid argument number",d)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new La(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var c=new KC(i,this.settings),d=[],f=c.lex();f.text!=="EOF";)d.push(f),f=c.lex();d.reverse();var m={tokens:d,numArgs:a};return m}return i}isDefined(e){return this.macros.has(e)||Oc.hasOwnProperty(e)||$r.math.hasOwnProperty(e)||$r.text.hasOwnProperty(e)||HF.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Oc.hasOwnProperty(e)&&!Oc[e].primitive}}var YC=/^[]/,_y=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),t5={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},QC={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Nx{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Aoe(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new Ge("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new La("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Nx.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&Oc[i.text]&&Oc[i.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;n.push(a)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r=-1,n,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new Ge("only one infix operator per group",e[i].token);r=i,n=e[i].replaceWith}if(r!==-1&&n){var a,s,c=e.slice(0,r),d=e.slice(r+1);c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c},d.length===1&&d[0].type==="ordgroup"?s=d[0]:s={type:"ordgroup",mode:this.mode,body:d};var f;return n==="\\\\abovefrac"?f=this.callFunction(n,[a,e[r],s],[]):f=this.callFunction(n,[a,s],[]),[f]}else return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i;do{var a;i=this.parseGroup(e)}while(((a=i)==null?void 0:a.type)==="internal");if(!i)throw new Ge("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(e){var r=this.parseGroup("atom",e);if((r==null?void 0:r.type)==="internal"||this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var s=a.text==="\\limits";r.limits=s,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new Ge("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(n)throw new Ge("Double superscript",a);n=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new Ge("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(n)throw new Ge("Double superscript",a);var c={type:"textord",mode:this.mode,text:"\\prime"},d=[c];for(this.consume();this.fetch().text==="'";)d.push(c),this.consume();this.fetch().text==="^"&&d.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:d}}else if(_y[a.text]){var f=YC.test(a.text),m=[];for(m.push(new La(_y[a.text])),this.consume();;){var p=this.fetch().text;if(!_y[p]||YC.test(p)!==f)break;m.unshift(new La(_y[p])),this.consume()}var y=this.subparse(m);f?i={type:"ordgroup",mode:"math",body:y}:n={type:"ordgroup",mode:"math",body:y}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(e,r){var n=this.fetch(),i=n.text,a=Oc[i];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new Ge("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!a.allowedInText)throw new Ge("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&a.allowedInMath===!1)throw new Ge("Can't use function '"+i+"' in math mode",n);var{args:s,optArgs:c}=this.parseArguments(i,a);return this.callFunction(i,s,c,n,e)}callFunction(e,r,n,i,a){var s={funcName:e,parser:this,token:i,breakOnTokenText:a},c=Oc[e];if(c&&c.handler)return c.handler(s,r,n);throw new Ge("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<n;s++){var c=r.argTypes&&r.argTypes[s],d=s<r.numOptionalArgs;(r.primitive&&c==null||r.type==="sqrt"&&s===1&&a[0]==null)&&(c="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",c,d);if(d)a.push(f);else if(f!=null)i.push(f);else throw new Ge("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",n);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(n)throw new Ge("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new Ge("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new Ge("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,r){for(var n=this.fetch(),i=n,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new Ge("Invalid "+r+": '"+n.text+"'",n);return n.range(i,a)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new Ge("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new Ge("Invalid size: '"+r.text+"'",r);var a={number:+(i[1]+i[2]),unit:i[3]};if(!tF(a))throw new Ge("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:n.loc,body:a};return r&&this.switchMode(i),s}parseGroup(e,r){var n=this.fetch(),i=n.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,s),d=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:ua.range(n,d),body:c,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,e)||this.parseSymbol(),a==null&&i[0]==="\\"&&!HF.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Ge("Undefined control sequence: "+i,n);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var i=e[n],a=i.text;a==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:ua.range(i,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:ua.range(i,e[n+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&e[n+1].text===a&&(e.splice(n,2,{type:"textord",mode:"text",loc:ua.range(i,e[n+1]),text:a+a}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new Ge(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}QC.hasOwnProperty(r[0])&&!$r[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=QC[r[0]]+r.slice(1));var a=woe.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="":r==="j"&&(r=""));var s;if($r[this.mode][r]){this.settings.strict&&this.mode==="math"&&cT.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var c=$r[this.mode][r].group,d=ua.range(e),f;if(fse.hasOwnProperty(c)){var m=c;f={type:"atom",mode:this.mode,family:m,loc:d,text:r}}else f={type:c,mode:this.mode,loc:d,text:r};s=f}else if(r.charCodeAt(0)>=128)this.settings.strict&&(eF(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:ua.range(e),text:r};else return null;if(this.consume(),a)for(var p=0;p<a[0].length;p++){var y=a[0][p];if(!t5[y])throw new Ge("Unknown accent ' "+y+"'",e);var b=t5[y][this.mode]||t5[y].text;if(!b)throw new Ge("Accent "+y+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:ua.range(e),label:b,isStretchy:!1,isShifty:!0,base:s}}return s}}Nx.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var O8=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new Nx(e,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new Ge("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new La("\\df@tag")])}]}return i},GF=function(e,r,n){r.textContent="";var i=k8(e,n).toNode();r.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),GF=function(){throw new Ge("KaTeX doesn't work in quirks mode.")});var Eoe=function(e,r){var n=k8(e,r).toMarkup();return n},Noe=function(e,r){var n=new u8(r);return O8(e,n)},KF=function(e,r,n){if(n.throwOnError||!(e instanceof Ge))throw e;var i=xe.makeSpan(["katex-error"],[new ds(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},k8=function(e,r){var n=new u8(r);try{var i=O8(e,n);return Dse(i,e,n)}catch(a){return KF(a,e,n)}},Ooe=function(e,r){var n=new u8(r);try{var i=O8(e,n);return Lse(i,e,n)}catch(a){return KF(a,e,n)}},koe="0.16.28",joe={Span:yg,Anchor:f8,SymbolNode:ds,SvgNode:xl,PathNode:Kc,LineNode:lT},Dv={version:koe,render:GF,renderToString:Eoe,ParseError:Ge,SETTINGS_SCHEMA:rv,__parse:Noe,__renderToDomTree:k8,__renderToHTMLTree:Ooe,__setFontMetrics:ase,__defineSymbol:N,__defineFunction:rt,__defineMacro:G,__domTree:joe};/*! @license DOMPurify 2.5.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.8/LICENSE */function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function pT(t,e){return pT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},pT(t,e)}function Coe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iv(t,e,r){return Coe()?iv=Reflect.construct:iv=function(i,a,s){var c=[null];c.push.apply(c,a);var d=Function.bind.apply(i,c),f=new d;return s&&pT(f,s.prototype),f},iv.apply(null,arguments)}function Os(t){return Ioe(t)||Roe(t)||Moe(t)||Poe()}function Ioe(t){if(Array.isArray(t))return gT(t)}function Roe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Moe(t,e){if(t){if(typeof t=="string")return gT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gT(t,e)}}function gT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Poe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Doe=Object.hasOwnProperty,ZC=Object.setPrototypeOf,Loe=Object.isFrozen,Boe=Object.getPrototypeOf,Uoe=Object.getOwnPropertyDescriptor,Xi=Object.freeze,fs=Object.seal,zoe=Object.create,WF=typeof Reflect<"u"&&Reflect,Lv=WF.apply,yT=WF.construct;Lv||(Lv=function(e,r,n){return e.apply(r,n)});Xi||(Xi=function(e){return e});fs||(fs=function(e){return e});yT||(yT=function(e,r){return iv(e,Os(r))});var Voe=ms(Array.prototype.forEach),JC=ms(Array.prototype.pop),am=ms(Array.prototype.push),av=ms(String.prototype.toLowerCase),r5=ms(String.prototype.toString),eI=ms(String.prototype.match),Es=ms(String.prototype.replace),$oe=ms(String.prototype.indexOf),Foe=ms(String.prototype.trim),di=ms(RegExp.prototype.test),n5=qoe(TypeError);function ms(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Lv(t,e,n)}}function qoe(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return yT(t,r)}}function zt(t,e,r){var n;r=(n=r)!==null&&n!==void 0?n:av,ZC&&ZC(t,null);for(var i=e.length;i--;){var a=e[i];if(typeof a=="string"){var s=r(a);s!==a&&(Loe(e)||(e[i]=s),a=s)}t[a]=!0}return t}function Cu(t){var e=zoe(null),r;for(r in t)Lv(Doe,t,[r])===!0&&(e[r]=t[r]);return e}function Sy(t,e){for(;t!==null;){var r=Uoe(t,e);if(r){if(r.get)return ms(r.get);if(typeof r.value=="function")return ms(r.value)}t=Boe(t)}function n(i){return console.warn("fallback value for",i),null}return n}var tI=Xi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),i5=Xi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),a5=Xi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Hoe=Xi(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),s5=Xi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Goe=Xi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),rI=Xi(["#text"]),nI=Xi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),o5=Xi(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),iI=Xi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ty=Xi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Koe=fs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Woe=fs(/<%[\w\W]*|[\w\W]*%>/gm),Xoe=fs(/\${[\w\W]*}/gm),Yoe=fs(/^data-[\-\w.\u00B7-\uFFFF]+$/),Qoe=fs(/^aria-[\-\w]+$/),Zoe=fs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Joe=fs(/^(?:\w+script|data):/i),ele=fs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tle=fs(/^html$/i),rle=fs(/^[a-z][.\w]*(-[.\w]+)+$/i),nle=function(){return typeof window>"u"?null:window},ile=function(e,r){if(Ac(e)!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(i)&&(n=r.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(c){return c},createScriptURL:function(c){return c}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function XF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nle(),e=function(le){return XF(le)};if(e.version="2.5.8",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var r=t.document,n=t.document,i=t.DocumentFragment,a=t.HTMLTemplateElement,s=t.Node,c=t.Element,d=t.NodeFilter,f=t.NamedNodeMap,m=f===void 0?t.NamedNodeMap||t.MozNamedAttrMap:f,p=t.HTMLFormElement,y=t.DOMParser,b=t.trustedTypes,T=c.prototype,S=Sy(T,"cloneNode"),w=Sy(T,"nextSibling"),O=Sy(T,"childNodes"),R=Sy(T,"parentNode");if(typeof a=="function"){var C=n.createElement("template");C.content&&C.content.ownerDocument&&(n=C.content.ownerDocument)}var B=ile(b,r),I=B?B.createHTML(""):"",D=n,A=D.implementation,k=D.createNodeIterator,E=D.createDocumentFragment,U=D.getElementsByTagName,M=r.importNode,$={};try{$=Cu(n).documentMode?n.documentMode:{}}catch{}var z={};e.isSupported=typeof R=="function"&&A&&A.createHTMLDocument!==void 0&&$!==9;var Y=Koe,te=Woe,K=Xoe,J=Yoe,Q=Qoe,ye=Joe,se=ele,X=rle,ee=Zoe,ce=null,Ne=zt({},[].concat(Os(tI),Os(i5),Os(a5),Os(s5),Os(rI))),oe=null,Oe=zt({},[].concat(Os(nI),Os(o5),Os(iI),Os(Ty))),Me=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),it=null,Ee=null,He=!0,he=!0,ge=!1,We=!0,Ve=!1,nt=!0,ct=!1,Wt=!1,Ie=!1,ue=!1,ze=!1,et=!1,yt=!0,Qe=!1,_t="user-content-",Pt=!0,Xt=!1,Tt={},tr=null,Br=zt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),vr=null,Qi=zt({},["audio","video","img","source","image","track"]),Wr=null,Vn=zt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ir="http://www.w3.org/1998/Math/MathML",vn="http://www.w3.org/2000/svg",Vt="http://www.w3.org/1999/xhtml",bn=Vt,ya=!1,Fs=null,ys=zt({},[Ir,vn,Vt],r5),xn,va=["application/xhtml+xml","text/html"],xi="text/html",rr,Yn=null,vs=n.createElement("form"),bs=function(le){return le instanceof RegExp||le instanceof Function},wi=function(le){Yn&&Yn===le||((!le||Ac(le)!=="object")&&(le={}),le=Cu(le),xn=va.indexOf(le.PARSER_MEDIA_TYPE)===-1?xn=xi:xn=le.PARSER_MEDIA_TYPE,rr=xn==="application/xhtml+xml"?r5:av,ce="ALLOWED_TAGS"in le?zt({},le.ALLOWED_TAGS,rr):Ne,oe="ALLOWED_ATTR"in le?zt({},le.ALLOWED_ATTR,rr):Oe,Fs="ALLOWED_NAMESPACES"in le?zt({},le.ALLOWED_NAMESPACES,r5):ys,Wr="ADD_URI_SAFE_ATTR"in le?zt(Cu(Vn),le.ADD_URI_SAFE_ATTR,rr):Vn,vr="ADD_DATA_URI_TAGS"in le?zt(Cu(Qi),le.ADD_DATA_URI_TAGS,rr):Qi,tr="FORBID_CONTENTS"in le?zt({},le.FORBID_CONTENTS,rr):Br,it="FORBID_TAGS"in le?zt({},le.FORBID_TAGS,rr):{},Ee="FORBID_ATTR"in le?zt({},le.FORBID_ATTR,rr):{},Tt="USE_PROFILES"in le?le.USE_PROFILES:!1,He=le.ALLOW_ARIA_ATTR!==!1,he=le.ALLOW_DATA_ATTR!==!1,ge=le.ALLOW_UNKNOWN_PROTOCOLS||!1,We=le.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ve=le.SAFE_FOR_TEMPLATES||!1,nt=le.SAFE_FOR_XML!==!1,ct=le.WHOLE_DOCUMENT||!1,ue=le.RETURN_DOM||!1,ze=le.RETURN_DOM_FRAGMENT||!1,et=le.RETURN_TRUSTED_TYPE||!1,Ie=le.FORCE_BODY||!1,yt=le.SANITIZE_DOM!==!1,Qe=le.SANITIZE_NAMED_PROPS||!1,Pt=le.KEEP_CONTENT!==!1,Xt=le.IN_PLACE||!1,ee=le.ALLOWED_URI_REGEXP||ee,bn=le.NAMESPACE||Vt,Me=le.CUSTOM_ELEMENT_HANDLING||{},le.CUSTOM_ELEMENT_HANDLING&&bs(le.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Me.tagNameCheck=le.CUSTOM_ELEMENT_HANDLING.tagNameCheck),le.CUSTOM_ELEMENT_HANDLING&&bs(le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Me.attributeNameCheck=le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),le.CUSTOM_ELEMENT_HANDLING&&typeof le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Me.allowCustomizedBuiltInElements=le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ve&&(he=!1),ze&&(ue=!0),Tt&&(ce=zt({},Os(rI)),oe=[],Tt.html===!0&&(zt(ce,tI),zt(oe,nI)),Tt.svg===!0&&(zt(ce,i5),zt(oe,o5),zt(oe,Ty)),Tt.svgFilters===!0&&(zt(ce,a5),zt(oe,o5),zt(oe,Ty)),Tt.mathMl===!0&&(zt(ce,s5),zt(oe,iI),zt(oe,Ty))),le.ADD_TAGS&&(ce===Ne&&(ce=Cu(ce)),zt(ce,le.ADD_TAGS,rr)),le.ADD_ATTR&&(oe===Oe&&(oe=Cu(oe)),zt(oe,le.ADD_ATTR,rr)),le.ADD_URI_SAFE_ATTR&&zt(Wr,le.ADD_URI_SAFE_ATTR,rr),le.FORBID_CONTENTS&&(tr===Br&&(tr=Cu(tr)),zt(tr,le.FORBID_CONTENTS,rr)),Pt&&(ce["#text"]=!0),ct&&zt(ce,["html","head","body"]),ce.table&&(zt(ce,["tbody"]),delete it.tbody),Xi&&Xi(le),Yn=le)},Zi=zt({},["mi","mo","mn","ms","mtext"]),tn=zt({},["annotation-xml"]),qs=zt({},["title","style","font","a","script"]),_i=zt({},i5);zt(_i,a5),zt(_i,Hoe);var Ri=zt({},s5);zt(Ri,Goe);var Hs=function(le){var Z=R(le);(!Z||!Z.tagName)&&(Z={namespaceURI:bn,tagName:"template"});var me=av(le.tagName),De=av(Z.tagName);return Fs[le.namespaceURI]?le.namespaceURI===vn?Z.namespaceURI===Vt?me==="svg":Z.namespaceURI===Ir?me==="svg"&&(De==="annotation-xml"||Zi[De]):!!_i[me]:le.namespaceURI===Ir?Z.namespaceURI===Vt?me==="math":Z.namespaceURI===vn?me==="math"&&tn[De]:!!Ri[me]:le.namespaceURI===Vt?Z.namespaceURI===vn&&!tn[De]||Z.namespaceURI===Ir&&!Zi[De]?!1:!Ri[me]&&(qs[me]||!_i[me]):!!(xn==="application/xhtml+xml"&&Fs[le.namespaceURI]):!1},wn=function(le){am(e.removed,{element:le});try{le.parentNode.removeChild(le)}catch{try{le.outerHTML=I}catch{le.remove()}}},si=function(le,Z){try{am(e.removed,{attribute:Z.getAttributeNode(le),from:Z})}catch{am(e.removed,{attribute:null,from:Z})}if(Z.removeAttribute(le),le==="is"&&!oe[le])if(ue||ze)try{wn(Z)}catch{}else try{Z.setAttribute(le,"")}catch{}},Gs=function(le){var Z,me;if(Ie)le="<remove></remove>"+le;else{var De=eI(le,/^[\r\n\t ]+/);me=De&&De[0]}xn==="application/xhtml+xml"&&bn===Vt&&(le='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+le+"</body></html>");var Je=B?B.createHTML(le):le;if(bn===Vt)try{Z=new y().parseFromString(Je,xn)}catch{}if(!Z||!Z.documentElement){Z=A.createDocument(bn,"template",null);try{Z.documentElement.innerHTML=ya?I:Je}catch{}}var mt=Z.body||Z.documentElement;return le&&me&&mt.insertBefore(n.createTextNode(me),mt.childNodes[0]||null),bn===Vt?U.call(Z,ct?"html":"body")[0]:ct?Z.documentElement:mt},Si=function(le){return k.call(le.ownerDocument||le,le,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null,!1)},br=function(le){return le instanceof p&&(typeof le.nodeName!="string"||typeof le.textContent!="string"||typeof le.removeChild!="function"||!(le.attributes instanceof m)||typeof le.removeAttribute!="function"||typeof le.setAttribute!="function"||typeof le.namespaceURI!="string"||typeof le.insertBefore!="function"||typeof le.hasChildNodes!="function")},Ur=function(le){return Ac(s)==="object"?le instanceof s:le&&Ac(le)==="object"&&typeof le.nodeType=="number"&&typeof le.nodeName=="string"},rn=function(le,Z,me){z[le]&&Voe(z[le],function(De){De.call(e,Z,me,Yn)})},Ji=function(le){var Z;if(rn("beforeSanitizeElements",le,null),br(le)||di(/[\u0080-\uFFFF]/,le.nodeName))return wn(le),!0;var me=rr(le.nodeName);if(rn("uponSanitizeElement",le,{tagName:me,allowedTags:ce}),le.hasChildNodes()&&!Ur(le.firstElementChild)&&(!Ur(le.content)||!Ur(le.content.firstElementChild))&&di(/<[/\w]/g,le.innerHTML)&&di(/<[/\w]/g,le.textContent)||me==="select"&&di(/<template/i,le.innerHTML)||le.nodeType===7||nt&&le.nodeType===8&&di(/<[/\w]/g,le.data))return wn(le),!0;if(!ce[me]||it[me]){if(!it[me]&&Ks(me)&&(Me.tagNameCheck instanceof RegExp&&di(Me.tagNameCheck,me)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(me)))return!1;if(Pt&&!tr[me]){var De=R(le)||le.parentNode,Je=O(le)||le.childNodes;if(Je&&De)for(var mt=Je.length,It=mt-1;It>=0;--It){var qt=S(Je[It],!0);qt.__removalCount=(le.__removalCount||0)+1,De.insertBefore(qt,w(le))}}return wn(le),!0}return le instanceof c&&!Hs(le)||(me==="noscript"||me==="noembed"||me==="noframes")&&di(/<\/no(script|embed|frames)/i,le.innerHTML)?(wn(le),!0):(Ve&&le.nodeType===3&&(Z=le.textContent,Z=Es(Z,Y," "),Z=Es(Z,te," "),Z=Es(Z,K," "),le.textContent!==Z&&(am(e.removed,{element:le.cloneNode()}),le.textContent=Z)),rn("afterSanitizeElements",le,null),!1)},Ti=function(le,Z,me){if(yt&&(Z==="id"||Z==="name")&&(me in n||me in vs))return!1;if(!(he&&!Ee[Z]&&di(J,Z))){if(!(He&&di(Q,Z))){if(!oe[Z]||Ee[Z]){if(!(Ks(le)&&(Me.tagNameCheck instanceof RegExp&&di(Me.tagNameCheck,le)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(le))&&(Me.attributeNameCheck instanceof RegExp&&di(Me.attributeNameCheck,Z)||Me.attributeNameCheck instanceof Function&&Me.attributeNameCheck(Z))||Z==="is"&&Me.allowCustomizedBuiltInElements&&(Me.tagNameCheck instanceof RegExp&&di(Me.tagNameCheck,me)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(me))))return!1}else if(!Wr[Z]){if(!di(ee,Es(me,se,""))){if(!((Z==="src"||Z==="xlink:href"||Z==="href")&&le!=="script"&&$oe(me,"data:")===0&&vr[le])){if(!(ge&&!di(ye,Es(me,se,"")))){if(me)return!1}}}}}}return!0},Ks=function(le){return le!=="annotation-xml"&&eI(le,X)},xs=function(le){var Z,me,De,Je;rn("beforeSanitizeAttributes",le,null);var mt=le.attributes;if(!(!mt||br(le))){var It={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oe};for(Je=mt.length;Je--;){Z=mt[Je];var qt=Z,Ht=qt.name,Ws=qt.namespaceURI;if(me=Ht==="value"?Z.value:Foe(Z.value),De=rr(Ht),It.attrName=De,It.attrValue=me,It.keepAttr=!0,It.forceKeepAttr=void 0,rn("uponSanitizeAttribute",le,It),me=It.attrValue,!It.forceKeepAttr&&(si(Ht,le),!!It.keepAttr)){if(!We&&di(/\/>/i,me)){si(Ht,le);continue}Ve&&(me=Es(me,Y," "),me=Es(me,te," "),me=Es(me,K," "));var ws=rr(le.nodeName);if(Ti(ws,De,me)){if(Qe&&(De==="id"||De==="name")&&(si(Ht,le),me=_t+me),nt&&di(/((--!?|])>)|<\/(style|title)/i,me)){si(Ht,le);continue}if(B&&Ac(b)==="object"&&typeof b.getAttributeType=="function"&&!Ws)switch(b.getAttributeType(ws,De)){case"TrustedHTML":{me=B.createHTML(me);break}case"TrustedScriptURL":{me=B.createScriptURL(me);break}}try{Ws?le.setAttributeNS(Ws,Ht,me):le.setAttribute(Ht,me),br(le)?wn(le):JC(e.removed)}catch{}}}}rn("afterSanitizeAttributes",le,null)}},ea=function ot(le){var Z,me=Si(le);for(rn("beforeSanitizeShadowDOM",le,null);Z=me.nextNode();)rn("uponSanitizeShadowNode",Z,null),Ji(Z),xs(Z),Z.content instanceof i&&ot(Z.content);rn("afterSanitizeShadowDOM",le,null)};return e.sanitize=function(ot){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z,me,De,Je,mt;if(ya=!ot,ya&&(ot="<!-->"),typeof ot!="string"&&!Ur(ot))if(typeof ot.toString=="function"){if(ot=ot.toString(),typeof ot!="string")throw n5("dirty is not a string, aborting")}else throw n5("toString is not a function");if(!e.isSupported){if(Ac(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof ot=="string")return t.toStaticHTML(ot);if(Ur(ot))return t.toStaticHTML(ot.outerHTML)}return ot}if(Wt||wi(le),e.removed=[],typeof ot=="string"&&(Xt=!1),Xt){if(ot.nodeName){var It=rr(ot.nodeName);if(!ce[It]||it[It])throw n5("root node is forbidden and cannot be sanitized in-place")}}else if(ot instanceof s)Z=Gs("<!---->"),me=Z.ownerDocument.importNode(ot,!0),me.nodeType===1&&me.nodeName==="BODY"||me.nodeName==="HTML"?Z=me:Z.appendChild(me);else{if(!ue&&!Ve&&!ct&&ot.indexOf("<")===-1)return B&&et?B.createHTML(ot):ot;if(Z=Gs(ot),!Z)return ue?null:et?I:""}Z&&Ie&&wn(Z.firstChild);for(var qt=Si(Xt?ot:Z);De=qt.nextNode();)De.nodeType===3&&De===Je||(Ji(De),xs(De),De.content instanceof i&&ea(De.content),Je=De);if(Je=null,Xt)return ot;if(ue){if(ze)for(mt=E.call(Z.ownerDocument);Z.firstChild;)mt.appendChild(Z.firstChild);else mt=Z;return(oe.shadowroot||oe.shadowrootmod)&&(mt=M.call(r,mt,!0)),mt}var Ht=ct?Z.outerHTML:Z.innerHTML;return ct&&ce["!doctype"]&&Z.ownerDocument&&Z.ownerDocument.doctype&&Z.ownerDocument.doctype.name&&di(tle,Z.ownerDocument.doctype.name)&&(Ht="<!DOCTYPE "+Z.ownerDocument.doctype.name+`>
`+Ht),Ve&&(Ht=Es(Ht,Y," "),Ht=Es(Ht,te," "),Ht=Es(Ht,K," ")),B&&et?B.createHTML(Ht):Ht},e.setConfig=function(ot){wi(ot),Wt=!0},e.clearConfig=function(){Yn=null,Wt=!1},e.isValidAttribute=function(ot,le,Z){Yn||wi({});var me=rr(ot),De=rr(le);return Ti(me,De,Z)},e.addHook=function(ot,le){typeof le=="function"&&(z[ot]=z[ot]||[],am(z[ot],le))},e.removeHook=function(ot){if(z[ot])return JC(z[ot])},e.removeHooks=function(ot){z[ot]&&(z[ot]=[])},e.removeAllHooks=function(){z={}},e}var YF=XF();let l5=null,QF=!0;function ale(t){QF=t}function sle(){if(!l5){const t=window.AudioContext||window.webkitAudioContext;l5=new t}return l5}function Nt(t,e,r="sine",n=.15){if(QF)try{const i=sle(),a=i.createOscillator(),s=i.createGain();a.type=r,a.frequency.setValueAtTime(t,i.currentTime),s.gain.setValueAtTime(n,i.currentTime),s.gain.exponentialRampToValueAtTime(.001,i.currentTime+e),a.connect(s),s.connect(i.destination),a.start(i.currentTime),a.stop(i.currentTime+e)}catch{}}const pi={xpGain:()=>{Nt(600,.1,"sine",.1),setTimeout(()=>Nt(900,.15,"sine",.08),80)},levelUp:()=>{[523,659,784,1047].forEach((e,r)=>{setTimeout(()=>Nt(e,.3,"triangle",.12),r*120)})},lootDrop:()=>{Nt(1200,.15,"sine",.08),setTimeout(()=>Nt(1500,.12,"sine",.06),100),setTimeout(()=>Nt(1800,.2,"triangle",.05),180)},questAccept:()=>{Nt(440,.15,"square",.06),setTimeout(()=>Nt(660,.2,"square",.06),120)},questDeploy:()=>{Nt(880,.12,"sawtooth",.05),setTimeout(()=>Nt(660,.12,"sawtooth",.05),100),setTimeout(()=>Nt(550,.2,"sawtooth",.04),200)},equip:()=>{Nt(200,.05,"square",.1),setTimeout(()=>Nt(400,.08,"sine",.08),50)},salvage:()=>{Nt(300,.15,"sawtooth",.06),setTimeout(()=>Nt(200,.2,"sawtooth",.04),100),setTimeout(()=>Nt(100,.3,"sawtooth",.03),200)},craft:()=>{Nt(150,.08,"square",.1),setTimeout(()=>Nt(800,.2,"triangle",.08),60)},error:()=>{Nt(200,.15,"square",.08),setTimeout(()=>Nt(150,.2,"square",.06),120)},messageSend:()=>{Nt(500,.06,"sine",.05)},notification:()=>{Nt(800,.1,"sine",.06),setTimeout(()=>Nt(1e3,.12,"sine",.04),120)},achievement:()=>{[440,554,659,880,1047].forEach((e,r)=>{setTimeout(()=>Nt(e,.25,"triangle",.1),r*100)})},dailyReward:()=>{Nt(523,.12,"sine",.08),setTimeout(()=>Nt(659,.12,"sine",.07),100),setTimeout(()=>Nt(784,.2,"triangle",.06),200)},wheelSpin:()=>{for(let t=0;t<8;t++)setTimeout(()=>Nt(400+t*50,.04,"square",.04),t*60)},wheelPrize:()=>{Nt(523,.15,"triangle",.1),setTimeout(()=>Nt(784,.15,"triangle",.1),120),setTimeout(()=>Nt(1047,.3,"sine",.12),240)},skillUnlock:()=>{Nt(300,.1,"sawtooth",.06),setTimeout(()=>Nt(600,.1,"sawtooth",.06),80),setTimeout(()=>Nt(900,.15,"sine",.08),160)},bossHit:()=>{Nt(100,.1,"square",.12),setTimeout(()=>Nt(80,.15,"sawtooth",.08),50)},bossDefeated:()=>{[262,330,392,523,659,784,1047].forEach((e,r)=>{setTimeout(()=>Nt(e,.3,"triangle",.08),r*90)})},gemSocket:()=>{Nt(1200,.08,"sine",.08),setTimeout(()=>Nt(1600,.1,"sine",.06),60),setTimeout(()=>Nt(2e3,.15,"triangle",.04),120)},partyJoin:()=>{Nt(440,.1,"sine",.06),setTimeout(()=>Nt(554,.1,"sine",.06),80),setTimeout(()=>Nt(659,.15,"sine",.05),160)},chestOpen:()=>{Nt(200,.15,"square",.06),setTimeout(()=>Nt(300,.1,"square",.05),100),setTimeout(()=>Nt(500,.1,"triangle",.06),200),setTimeout(()=>Nt(800,.2,"sine",.08),350)}},ole=({onComplete:t,contentUrl:e,htmlContent:r,userId:n,assignmentId:i,classType:a})=>{const s=F.useRef(Ov()),c=F.useRef(Date.now()),d=F.useRef(t),[f,m]=F.useState(!0),[p,y]=F.useState(0),[b,T]=F.useState(!1),[S,w]=F.useState(null),[O,R]=F.useState(0),[C,B]=F.useState(0),I=F.useRef(null),D=F.useRef(null),A=F.useRef(new Set);F.useEffect(()=>{d.current=t},[t]);const k=F.useCallback(()=>{c.current=Date.now(),f||m(!0)},[f]);return F.useEffect(()=>{const E=setInterval(()=>{Date.now()-c.current<6e4?(s.current.engagementTime+=1,y(s.current.engagementTime),f||m(!0)):f&&m(!1)},1e3);return()=>clearInterval(E)},[f]),F.useEffect(()=>{const E=["mousemove","keydown","scroll","click"];return E.forEach(U=>window.addEventListener(U,k)),()=>E.forEach(U=>window.removeEventListener(U,k))},[k]),F.useEffect(()=>()=>{d.current(s.current)},[]),F.useEffect(()=>{if(!n||!i)return;const E=async U=>{var te,K,J,Q,ye,se,X,ee;const M=I.current;if(!M)return;const $=M.src?new URL(M.src).origin:"";if(U.origin!==window.location.origin&&U.origin!==$)return;const z=U.origin,Y=U.data;if(!(!Y||typeof Y!="object"||!((te=Y.type)!=null&&te.startsWith("portal-"))))switch(k(),Y.type){case"portal-ready":{T(!0);try{const ce=await qi(st(Le,"practice_progress",`${n}_${i}`)),Ne=ce.exists()?ce.data():null,oe=Ne?{state:Ne.state||null,currentQuestion:Ne.currentQuestion??0}:null,Oe=(Ne==null?void 0:Ne.answeredQuestions)||[];Oe.forEach(Me=>A.current.add(Me)),R(Oe.length),(K=M.contentWindow)==null||K.postMessage({type:"portal-init",payload:{userId:n,savedState:oe}},z)}catch(ce){console.error("Bridge: Failed to load saved state",ce),(J=M.contentWindow)==null||J.postMessage({type:"portal-init",payload:{userId:n,savedState:null}},z)}break}case"portal-save":{const{state:ce,currentQuestion:Ne}=Y.payload||{};if(!ce)break;try{await Vi(st(Le,"practice_progress",`${n}_${i}`),{userId:n,assignmentId:i,state:ce,currentQuestion:Ne??0,answeredQuestions:Array.from(A.current),lastUpdated:new Date().toISOString()},{merge:!0}),(Q=M.contentWindow)==null||Q.postMessage({type:"portal-save-ok"},z)}catch(oe){console.error("Bridge: Save failed",oe),(ye=M.contentWindow)==null||ye.postMessage({type:"portal-save-error"},z)}break}case"portal-answer":{const{questionId:ce,correct:Ne,attempts:oe}=Y.payload||{};if(!ce)break;if(Ne&&!A.current.has(ce)){A.current.add(ce),R(Me=>Me+1);const Oe=oe===1?15:10;try{const it=(await U$({assignmentId:i,questionId:ce,xpAmount:Oe,classType:a||"Uncategorized"})).data;if(it.awarded){const Ee=it.serverXP||Oe;B(He=>He+Ee),w({text:`+${Ee} XP`,type:"success"}),pi.xpGain(),setTimeout(()=>w(null),2e3)}(se=M.contentWindow)==null||se.postMessage({type:"portal-xp-result",payload:{questionId:ce,awarded:it.awarded,xp:it.serverXP||Oe}},z)}catch(Me){console.error("Bridge: XP award failed",Me),(X=M.contentWindow)==null||X.postMessage({type:"portal-xp-result",payload:{questionId:ce,awarded:!1,xp:0}},z)}}else Ne&&((ee=M.contentWindow)==null||ee.postMessage({type:"portal-xp-result",payload:{questionId:ce,awarded:!1,xp:0}},z));break}}};return window.addEventListener("message",E),()=>window.removeEventListener("message",E)},[n,i,a,k]),F.useEffect(()=>{if(D.current&&r){const E=r.replace(/\$(.*?)\$/g,(U,M)=>{try{return Dv.renderToString(M,{throwOnError:!1})}catch{return M}});D.current.innerHTML=YF.sanitize(E,{ADD_TAGS:["annotation","semantics","mrow","mi","mn","mo","msup","msub","mfrac","mtext","math"],ADD_ATTR:["xmlns","encoding"]})}},[r]),u.jsxs("div",{className:"flex flex-col h-full bg-black/20 border border-white/10 rounded-2xl overflow-hidden relative",children:[u.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 flex justify-between items-center border-b border-white/5 z-20",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:`flex items-center gap-2 text-sm font-bold ${f?"text-green-400":"text-yellow-500"}`,children:[f?u.jsx(a8,{className:"w-4 h-4"}):u.jsx(ls,{className:"w-4 h-4 animate-pulse"}),f?"Active Session":"Away (Paused)"]}),u.jsxs("div",{className:"text-xs text-gray-400 font-mono bg-black/40 px-2 py-1 rounded",children:["TIME: ",Math.floor(p/60),"m ",p%60,"s"]}),b&&O>0&&u.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-purple-300 bg-purple-500/10 px-3 py-1 rounded-full border border-purple-500/20",children:[u.jsx(pn,{className:"w-3 h-3"})," ",O," answered"]}),b&&C>0&&u.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-amber-300 bg-amber-500/10 px-3 py-1 rounded-full border border-amber-500/20",children:[u.jsx(Dn,{className:"w-3 h-3"})," ",C," XP"]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[b&&u.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-green-400 bg-green-500/10 px-2.5 py-1 rounded-full border border-green-500/20 uppercase font-bold tracking-widest",children:[u.jsx(Dn,{className:"w-3 h-3"})," XP Linked"]}),!f&&u.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-yellow-500 bg-yellow-500/10 px-3 py-1 rounded-full border border-yellow-500/20 uppercase font-bold tracking-widest",children:[u.jsx(cs,{className:"w-3 h-3"})," Resume movement for XP"]})]})]}),S&&u.jsx("div",{className:"absolute top-14 right-4 z-30 animate-in slide-in-from-right fade-in duration-300",children:u.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl shadow-lg font-bold text-sm ${S.type==="success"?"bg-green-600/90 text-white border border-green-400/30":"bg-blue-600/90 text-white border border-blue-400/30"}`,children:[S.type==="success"?u.jsx(pn,{className:"w-4 h-4"}):u.jsx(op,{className:"w-4 h-4"}),S.text]})}),u.jsxs("div",{className:"flex-1 relative overflow-hidden flex flex-col",children:[e?u.jsx("iframe",{ref:I,src:e,className:"w-full flex-1 border-none bg-white",title:"Resource Viewer",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals",onLoad:k}):u.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-600 italic",children:u.jsxs("div",{className:"text-center",children:[u.jsx(lp,{className:"w-12 h-12 mx-auto mb-2 opacity-10"}),u.jsx("p",{className:"font-mono text-sm uppercase",children:"No interactive link found."})]})}),r&&u.jsxs("div",{className:"h-1/3 bg-[#0f0720]/95 border-t border-white/10 overflow-y-auto p-6 text-gray-300 shadow-[0_-10px_30px_rgba(0,0,0,0.8)] z-10 custom-scrollbar",children:[u.jsxs("h3",{className:"text-white font-bold mb-3 text-xs uppercase tracking-widest flex items-center gap-2",children:[u.jsx(F$,{className:"w-4 h-4 text-purple-400"})," Operational Context"]}),u.jsx("div",{ref:D,className:"proctor-content text-sm leading-relaxed"})]})]})]})},lle=()=>{const[t,e]=F.useState(!1),[r,n]=F.useState(null),i=async()=>{e(!0),n(null);try{await fZ(tT,sie)}catch(s){console.error("Login Error:",s),n(s instanceof Error?s.message:"Login failed"),e(!1)}},a=r&&r.includes("api-key-not-valid");return u.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 p-6 relative overflow-hidden font-sans",children:[u.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-indigo-600/20 rounded-full blur-3xl"}),u.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-600/20 rounded-full blur-3xl"}),u.jsx("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl overflow-hidden z-10 animate-in fade-in zoom-in-95 duration-300",children:u.jsxs("div",{className:"p-10 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl mx-auto flex items-center justify-center mb-6 shadow-lg transform -rotate-3 transition hover:rotate-0",children:u.jsx("span",{className:"text-3xl",children:""})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),u.jsx("p",{className:"text-gray-500 mb-8",children:"Porter's Physics & Forensics Portal"}),r&&u.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm text-left animate-in slide-in-from-top-2",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(cs,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"break-words",children:[u.jsx("strong",{children:"Login Failed:"})," ",r]})]}),a&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-red-200 text-red-700",children:[u.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[u.jsx(Kie,{className:"w-4 h-4"}),"Action Required:"]}),u.jsxs("p",{className:"text-xs leading-relaxed",children:["The app is missing your Firebase API Key. Please open ",u.jsx("code",{children:"lib/firebase.ts"})," and replace",u.jsx("code",{children:'"INSERT_YOUR_API_KEY_HERE"'})," with your actual key from the Firebase Console."]})]})]}),u.jsx("button",{onClick:i,disabled:t,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-3 px-4 rounded-xl transition-all shadow-sm hover:shadow-md group disabled:opacity-70 disabled:cursor-not-allowed mb-6",children:t?u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-indigo-600"}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),u.jsx("span",{children:"Sign in with Google"})]})}),u.jsxs("div",{className:"flex items-center gap-4 justify-center text-xs text-gray-400",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})," Secure Connection"]}),u.jsx("span",{children:""}),u.jsx("span",{children:"Firebase Auth"})]})]})})]})},ZF=F.createContext(null),Zc=()=>{const t=F.useContext(ZF);if(!t)throw new Error("useConfirm must be used within ConfirmProvider");return t},cle=({children:t})=>{const[e,r]=F.useState({isOpen:!1,options:{message:""}}),n=F.useRef(null),i=F.useRef(null),a=F.useCallback(m=>new Promise(p=>{n.current=p,r({isOpen:!0,options:m})}),[]),s=F.useCallback(()=>{var m;(m=n.current)==null||m.call(n,!0),n.current=null,r(p=>({...p,isOpen:!1}))},[]),c=F.useCallback(()=>{var m;(m=n.current)==null||m.call(n,!1),n.current=null,r(p=>({...p,isOpen:!1}))},[]);F.useEffect(()=>{if(e.isOpen){const m=setTimeout(()=>{var p;(p=i.current)==null||p.focus()},50);return()=>clearTimeout(m)}},[e.isOpen]),F.useEffect(()=>{if(!e.isOpen)return;const m=p=>{p.key==="Escape"&&c(),p.key==="Enter"&&s()};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[e.isOpen,c,s]);const{variant:d="danger"}=e.options,f={danger:{bg:"bg-red-600 hover:bg-red-500",icon:"text-red-400",border:"border-red-500/30"},warning:{bg:"bg-amber-600 hover:bg-amber-500",icon:"text-amber-400",border:"border-amber-500/30"},info:{bg:"bg-purple-600 hover:bg-purple-500",icon:"text-purple-400",border:"border-purple-500/30"}}[d];return u.jsxs(ZF.Provider,{value:{confirm:a},children:[t,e.isOpen&&u.jsxs("div",{className:"fixed inset-0 flex items-center justify-center p-4",style:{zIndex:99999},role:"dialog","aria-modal":"true","aria-label":"Confirmation dialog",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:c}),u.jsxs("div",{className:`relative bg-gray-900 border ${f.border} rounded-2xl p-6 max-w-sm w-full shadow-2xl`,style:{animation:"confirmIn 150ms ease-out"},children:[u.jsxs("div",{className:"flex items-start gap-4 mb-5",children:[u.jsx("div",{className:`p-2 rounded-xl bg-white/5 ${f.icon} shrink-0`,children:u.jsx(cs,{className:"w-5 h-5"})}),u.jsxs("div",{children:[e.options.title&&u.jsx("h3",{className:"font-bold text-white text-sm mb-1",children:e.options.title}),u.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e.options.message})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:c,className:"flex-1 py-2.5 bg-white/5 border border-white/10 text-gray-300 rounded-xl text-sm font-bold hover:bg-white/10 transition",children:e.options.cancelLabel||"Cancel"}),u.jsx("button",{ref:i,onClick:s,className:`flex-1 py-2.5 ${f.bg} text-white rounded-xl text-sm font-bold transition`,children:e.options.confirmLabel||"Confirm"})]})]})]}),u.jsx("style",{children:`
                @keyframes confirmIn {
                    from { opacity: 0; transform: scale(0.95); }
                    to { opacity: 1; transform: scale(1); }
                }
            `})]})},aI={INFO:{bg:"bg-blue-500/10",border:"border-blue-500/30",text:"text-blue-400",icon:u.jsx($$,{className:"w-4 h-4"})},WARNING:{bg:"bg-yellow-500/10",border:"border-yellow-500/30",text:"text-yellow-400",icon:u.jsx(cs,{className:"w-4 h-4"})},URGENT:{bg:"bg-red-500/10",border:"border-red-500/30",text:"text-red-400",icon:u.jsx(cae,{className:"w-4 h-4"})}},ule=({announcements:t,studentIds:e})=>{const{confirm:r}=Zc(),n=Ii(),[i,a]=F.useState(!1),[s,c]=F.useState(""),[d,f]=F.useState(""),[m,p]=F.useState("INFO"),[y,b]=F.useState("GLOBAL"),T=async()=>{if(!(!s.trim()||!d.trim()))try{await $e.createAnnouncement({title:s.trim(),content:d.trim(),classType:y,priority:m,createdAt:new Date().toISOString(),expiresAt:null,createdBy:"ADMIN"}),await $e.notifyUsers(e,"ANNOUNCEMENT",s.trim(),d.trim().slice(0,100)),c(""),f(""),a(!1),n.success("Announcement broadcast sent.")}catch{n.error("Failed to create announcement.")}},S=async w=>{await r({message:"Delete this announcement?",confirmLabel:"Delete"})&&await $e.deleteAnnouncement(w)};return u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[u.jsx(iT,{className:"w-5 h-5 text-orange-400"}),"Announcements"]}),u.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-1.5 px-3 py-1.5 bg-orange-600 hover:bg-orange-500 text-white rounded-xl text-xs font-bold transition",children:[u.jsx(bl,{className:"w-3.5 h-3.5"})," Broadcast"]})]}),t.length===0?u.jsxs("div",{className:"text-center py-6 text-gray-500 italic",children:[u.jsx(iT,{className:"w-10 h-10 mx-auto mb-2 opacity-20"}),"No active announcements."]}):u.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto custom-scrollbar pr-1",children:t.map(w=>{const O=aI[w.priority]||aI.INFO;return u.jsxs("div",{className:`p-3 ${O.bg} border ${O.border} rounded-xl flex justify-between items-start`,children:[u.jsxs("div",{className:"flex gap-2 items-start",children:[u.jsx("div",{className:`mt-0.5 ${O.text}`,children:O.icon}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-bold text-white",children:w.title}),u.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:w.content}),u.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[w.classType==="GLOBAL"?"All Classes":w.classType,"  ",new Date(w.createdAt).toLocaleDateString()]})]})]}),u.jsx("button",{onClick:()=>S(w.id),className:"p-1 text-gray-500 hover:text-red-400 transition shrink-0",children:u.jsx(ji,{className:"w-3.5 h-3.5"})})]},w.id)})}),u.jsx(Da,{isOpen:i,onClose:()=>a(!1),title:"New Announcement",maxWidth:"max-w-md",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Title"}),u.jsx("input",{type:"text",value:s,onChange:w=>c(w.target.value),placeholder:"Quiz moved to Friday...",className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white focus:outline-none focus:border-purple-500 transition",maxLength:80})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Message"}),u.jsx("textarea",{value:d,onChange:w=>f(w.target.value),placeholder:"Details...",rows:3,className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white focus:outline-none focus:border-purple-500 transition resize-none",maxLength:300})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Priority"}),u.jsxs("select",{value:m,onChange:w=>p(w.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white",children:[u.jsx("option",{value:"INFO",children:"Info"}),u.jsx("option",{value:"WARNING",children:"Warning"}),u.jsx("option",{value:"URGENT",children:"Urgent"})]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Audience"}),u.jsxs("select",{value:y,onChange:w=>b(w.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white",children:[u.jsx("option",{value:"GLOBAL",children:"All Classes"}),Object.values(Nr).filter(w=>w!=="Uncategorized").map(w=>u.jsx("option",{value:w,children:w},w))]})]})]}),u.jsx("button",{onClick:T,disabled:!s.trim()||!d.trim(),className:"w-full bg-orange-600 hover:bg-orange-500 disabled:opacity-40 disabled:cursor-not-allowed text-white py-3 rounded-2xl font-bold transition",children:"Broadcast Announcement"})]})})]})},sI=["Hydrogen","Helium","Lithium","Beryllium","Boron","Carbon","Nitrogen","Oxygen","Fluorine","Neon","Sodium","Magnesium","Aluminum","Silicon","Phosphorus","Sulfur","Chlorine","Argon","Potassium","Calcium","Scandium","Titanium","Vanadium","Chromium","Manganese","Iron","Cobalt","Nickel","Copper","Zinc","Gallium","Germanium","Arsenic","Selenium","Bromine","Krypton","Rubidium","Strontium","Yttrium","Zirconium"],dle=["I","II","III","IV","V"],hle=t=>[2,10,18,36,54,86].includes(t)?{color:"border-fuchsia-500 text-fuchsia-400",glow:"shadow-fuchsia-500/50"}:[9,17,35,53,85].includes(t)?{color:"border-yellow-400 text-yellow-400",glow:"shadow-yellow-400/40"}:[3,11,19,37,55,87].includes(t)?{color:"border-red-500 text-red-500",glow:"shadow-red-500/40"}:{color:"border-cyan-400 text-cyan-400",glow:"shadow-cyan-400/30"},dh=t=>{const e=Math.floor((t-1)/5),r=(t-1)%5,n=Math.min(e,sI.length-1),i=sI[n]||"Unknownium",a=dle[r],s=n+1,c=hle(s);return{rankName:`${i} ${a}`,tierColor:c.color,tierGlow:c.glow}},Iu={RECALIBRATE:5,REFORGE:25,OPTIMIZE:50},oI=t=>{const e=t.affixes.reduce((i,a)=>i+a.tier,0),r=t.affixes.length>0?e/t.affixes.length:1;let n=0;switch(t.rarity){case"COMMON":n=2;break;case"UNCOMMON":n=5;break;case"RARE":n=15;break;case"UNIQUE":n=50;break}return Math.floor(n*(1+r*.2))},Ox=t=>{var i;const e={tech:10,focus:10,analysis:10,charisma:10};if(!((i=t.gamification)!=null&&i.equipped))return e;const r=t.gamification.equipped;return Object.values(r).filter(Boolean).forEach(a=>{a.stats&&Object.entries(a.stats).forEach(([s,c])=>{e[s]+=c})}),e},bg=t=>{if(!t)return 0;let e=0;const r=Object.values(t).filter(Boolean);return r.length===0?0:(r.forEach(n=>{let i=n.affixes.map(c=>c.tier);n.rarity==="UNIQUE"&&i.length===0&&(i=[10]);const a=i.length>0?i.reduce((c,d)=>c+d,0)/i.length:1;let s=0;switch(n.rarity){case"COMMON":s=0;break;case"UNCOMMON":s=10;break;case"RARE":s=30;break;case"UNIQUE":s=60;break}e+=a*10+s}),Math.floor(e))},zr=t=>{switch(t){case"COMMON":return{border:"border-slate-500",text:"text-slate-300",bg:"bg-slate-500/10",glow:"shadow-none",shimmer:""};case"UNCOMMON":return{border:"border-emerald-500",text:"text-emerald-400",bg:"bg-emerald-500/10",glow:"shadow-emerald-500/20",shimmer:"rarity-shimmer-uncommon"};case"RARE":return{border:"border-yellow-400",text:"text-yellow-300",bg:"bg-yellow-500/10",glow:"shadow-yellow-500/30",shimmer:"rarity-shimmer-rare"};case"UNIQUE":return{border:"border-orange-500",text:"text-orange-400",bg:"bg-orange-500/10",glow:"shadow-orange-500/40",shimmer:"rarity-shimmer-unique"};default:return{border:"border-slate-500",text:"text-slate-300",bg:"bg-slate-500/10",glow:"shadow-none",shimmer:""}}};function kx(t,e){var i;const r=t.gamification;if(!r)return{inventory:[],equipped:{},appearance:{bodyType:"A",hue:0}};const n=(i=r.classProfiles)==null?void 0:i[e];return n?{inventory:n.inventory||[],equipped:n.equipped||{},appearance:n.appearance||{bodyType:"A",hue:0}}:{inventory:r.inventory||[],equipped:r.equipped||{},appearance:r.appearance||{bodyType:"A",hue:0}}}const fle=({student:t,submissions:e,assignments:r,onClose:n})=>{var w,O,R,C,B,I,D,A,k,E;const i=((w=t.gamification)==null?void 0:w.level)||1,a=((O=t.gamification)==null?void 0:O.xp)||0,s=((R=t.gamification)==null?void 0:R.currency)||0,c=dh(i),d=Ox(t),f=t.enrolledClasses||(t.classType?[t.classType]:[]),m=((B=(C=t.gamification)==null?void 0:C.completedQuests)==null?void 0:B.length)||0,p=((D=(I=t.gamification)==null?void 0:I.activeQuests)==null?void 0:D.filter(U=>U.status==="ACCEPTED"||U.status==="DEPLOYED").length)||0,y=F.useMemo(()=>f.map(U=>{var J,Q;const M=((Q=(J=t.gamification)==null?void 0:J.classXp)==null?void 0:Q[U])||0,$=kx(t,U),z=bg($.equipped),Y=$.inventory.length,te=e.filter(ye=>{const se=r.find(X=>X.id===ye.assignmentId);return(se==null?void 0:se.classType)===U}),K=Math.round(te.reduce((ye,se)=>{var X;return ye+(((X=se.metrics)==null?void 0:X.engagementTime)||0)},0)/60);return{cls:U,classXp:M,gearScore:z,inventoryCount:Y,resourcesViewed:te.length,totalTime:K}}),[t,e,r,f]),b=F.useMemo(()=>e.filter(U=>U.submittedAt).sort((U,M)=>new Date(M.submittedAt).getTime()-new Date(U.submittedAt).getTime()).slice(0,10).map(U=>{var M,$;return{...U,assignmentTitle:((M=r.find(z=>z.id===U.assignmentId))==null?void 0:M.title)||U.assignmentTitle,classType:(($=r.find(z=>z.id===U.assignmentId))==null?void 0:$.classType)||"Unknown"}}),[e,r]),T=Math.round(e.reduce((U,M)=>{var $;return U+((($=M.metrics)==null?void 0:$.engagementTime)||0)},0)/60),S=F.useMemo(()=>{const U=new Set;e.forEach(K=>{if(K.submittedAt){const J=new Date(K.submittedAt),Q=J.getFullYear(),ye=new Date(Q,0,1),se=Math.ceil(((J.getTime()-ye.getTime())/864e5+ye.getDay()+1)/7);U.add(`${Q}-W${se}`)}});const M=new Date,$=M.getFullYear(),z=new Date($,0,1),Y=Math.ceil(((M.getTime()-z.getTime())/864e5+z.getDay()+1)/7);let te=0;for(let K=Y;K>0&&U.has(`${$}-W${K}`);K--)te++;return te},[e]);return u.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:n}),u.jsxs("div",{className:"relative w-full max-w-lg bg-[#12132a]/98 border-l border-white/10 h-full overflow-y-auto custom-scrollbar animate-in slide-in-from-right duration-300 shadow-2xl",children:[u.jsxs("div",{className:"sticky top-0 z-10 bg-[#12132a]/95 backdrop-blur-md border-b border-white/5 p-6 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`w-14 h-14 rounded-2xl p-0.5 bg-gradient-to-tr from-white/10 to-white/5 ${c.tierGlow} shadow-xl`,children:t.avatarUrl?u.jsx("img",{src:t.avatarUrl,alt:t.name,className:`w-full h-full rounded-2xl border-2 object-cover ${c.tierColor.split(" ")[0]}`}):u.jsx("div",{className:`w-full h-full rounded-2xl border-2 ${c.tierColor.split(" ")[0]} bg-purple-500/20 flex items-center justify-center text-xl font-bold text-white`,children:t.name.charAt(0)})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-bold text-white",children:t.name}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-[10px] font-mono uppercase font-bold tracking-widest ${c.tierColor.split(" ")[1]}`,children:c.rankName}),u.jsxs("span",{className:"text-[10px] text-gray-500",children:[" Lv.",i]})]}),((A=t.gamification)==null?void 0:A.codename)&&u.jsxs("div",{className:"text-[10px] text-purple-400 italic",children:['"',t.gamification.codename,'"']})]})]}),u.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-xl transition",children:u.jsx(us,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[u.jsx(Dn,{className:"w-5 h-5 text-purple-400 mx-auto mb-1"}),u.jsx("div",{className:"text-lg font-bold text-white",children:a.toLocaleString()}),u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Total XP"})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[u.jsx(ls,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),u.jsxs("div",{className:"text-lg font-bold text-white",children:[T,"m"]}),u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Total Time"})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[u.jsx(Ls,{className:"w-5 h-5 text-emerald-400 mx-auto mb-1"}),u.jsx("div",{className:"text-lg font-bold text-white",children:e.length}),u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Resources"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[u.jsx(nT,{className:"w-5 h-5 text-orange-400 mx-auto mb-1"}),u.jsx("div",{className:"text-lg font-bold text-white",children:m}),u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Missions"})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[u.jsx(hC,{className:"w-5 h-5 text-yellow-400 mx-auto mb-1"}),u.jsx("div",{className:"text-lg font-bold text-white",children:s}),u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Cyber-Flux"})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[u.jsx(o8,{className:"w-5 h-5 text-red-400 mx-auto mb-1"}),u.jsxs("div",{className:"text-lg font-bold text-white",children:[S,"w"]}),u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Streak"})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Operative Stats"}),u.jsx("div",{className:"space-y-2",children:Object.entries(d).map(([U,M])=>u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] text-gray-400 uppercase w-16 font-bold",children:U}),u.jsx("div",{className:"flex-1 h-2 bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-cyan-400 rounded-full transition-all",style:{width:`${Math.min(100,M)}%`}})}),u.jsx("span",{className:"text-xs text-white font-bold w-8 text-right",children:M})]},U))})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Class Performance"}),u.jsx("div",{className:"space-y-3",children:y.map(U=>u.jsxs("div",{className:"bg-black/20 rounded-xl p-3 border border-white/5",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-sm font-bold text-white",children:U.cls}),u.jsxs("span",{className:"text-xs text-purple-400 font-bold",children:[U.classXp.toLocaleString()," XP"]})]}),u.jsxs("div",{className:"flex gap-4 text-[10px] text-gray-400",children:[u.jsxs("span",{children:[u.jsx(ss,{className:"w-3 h-3 inline mr-0.5"}),U.gearScore," GS"]}),u.jsxs("span",{children:[u.jsx(hC,{className:"w-3 h-3 inline mr-0.5"}),U.inventoryCount," items"]}),u.jsxs("span",{children:[u.jsx(Ls,{className:"w-3 h-3 inline mr-0.5"}),U.resourcesViewed," viewed"]}),u.jsxs("span",{children:[u.jsx(ls,{className:"w-3 h-3 inline mr-0.5"}),U.totalTime,"m"]})]})]},U.cls))})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Recent Activity"}),b.length===0?u.jsx("p",{className:"text-xs text-gray-500 italic text-center py-4",children:"No recorded activity."}):u.jsx("div",{className:"space-y-2",children:b.map(U=>{var $;const M=Math.round(((($=U.metrics)==null?void 0:$.engagementTime)||0)/60);return u.jsxs("div",{className:"flex items-center gap-3 py-2 border-b border-white/5 last:border-0",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${M>=5?"bg-green-500":M>=1?"bg-yellow-500":"bg-gray-500"}`}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-xs text-white font-bold truncate",children:U.assignmentTitle}),u.jsxs("div",{className:"text-[10px] text-gray-500",children:[U.classType,"  ",M,"m engaged"]})]}),u.jsx("div",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:U.submittedAt?new Date(U.submittedAt).toLocaleDateString([],{month:"short",day:"numeric"}):""})]},U.id)})})]}),p>0&&u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Active Missions"}),u.jsx("div",{className:"space-y-2",children:(E=(k=t.gamification)==null?void 0:k.activeQuests)==null?void 0:E.filter(U=>U.status==="ACCEPTED"||U.status==="DEPLOYED").map(U=>u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/5 last:border-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(nT,{className:`w-3.5 h-3.5 ${U.status==="DEPLOYED"?"text-yellow-400":"text-blue-400"}`}),u.jsx("span",{className:"text-xs text-white",children:U.questId})]}),u.jsx("span",{className:`text-[10px] font-bold uppercase ${U.status==="DEPLOYED"?"text-yellow-400":"text-blue-400"}`,children:U.status})]},U.questId))})]}),u.jsxs("div",{className:"text-[10px] text-gray-600 space-y-1 pb-4",children:[u.jsxs("div",{children:["Email: ",t.email]}),u.jsxs("div",{children:["Section: ",t.section||"Unassigned"]}),u.jsxs("div",{children:["Enrolled: ",f.join(", ")||"None"]}),u.jsxs("div",{children:["Last login: ",t.lastLoginAt?new Date(t.lastLoginAt).toLocaleString():"Never"]}),u.jsxs("div",{children:["Created: ",t.createdAt?new Date(t.createdAt).toLocaleDateString():""]}),t.mutedUntil&&new Date(t.mutedUntil)>new Date&&u.jsxs("div",{className:"text-orange-400 font-bold",children:[" Muted until ",new Date(t.mutedUntil).toLocaleString()]})]})]})]})]})},mle=({users:t,assignments:e=[],submissions:r=[]})=>{const{confirm:n}=Zc(),[i,a]=F.useState(null),[s,c]=F.useState([]),[d,f]=F.useState([]),[m,p]=F.useState(Date.now());F.useEffect(()=>{const A=$e.subscribeToChatFlags(c),k=$e.subscribeToAnnouncements(f),E=setInterval(()=>p(Date.now()),6e4);return()=>{A(),k(),clearInterval(E)}},[]);const y=t.filter(A=>A.role==="STUDENT"),b=y.length,T=Math.round(y.reduce((A,k)=>{var E;return A+(((E=k.stats)==null?void 0:E.totalTime)||0)},0)/(b||1)),S=y.reduce((A,k)=>{var E;return A+(((E=k.stats)==null?void 0:E.problemsCompleted)||0)},0),w=y.reduce((A,k)=>{var E;return A+(((E=k.gamification)==null?void 0:E.xp)||0)},0),O=y.filter(A=>A.mutedUntil&&new Date(A.mutedUntil).getTime()>m),R=async A=>{await n({message:"Lift silence sanction for this operative?",confirmLabel:"Unmute",variant:"info"})&&await $e.muteUser(A,0)},C=async(A,k)=>{const E=new Date(k).getTime(),U=new Date(Math.max(E,Date.now())+3600*1e3),M=Math.ceil((U.getTime()-Date.now())/6e4);await $e.muteUser(A,M)},B=({label:A,value:k,icon:E,color:U})=>u.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-2xl relative overflow-hidden group hover:border-white/20 transition-all duration-300",children:[u.jsx("div",{className:`absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-40 transition-opacity ${U}`,children:E}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:k}),u.jsx("div",{className:"text-sm font-medium text-gray-400 uppercase tracking-wider",children:A})]}),u.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r ${U}`})]}),I=A=>{const E=new Date(A).getTime()-m;if(E<=0)return"Expired";const U=Math.ceil(E/6e4);return U>60?`${Math.ceil(U/60)} hrs`:`${U} mins`},D=A=>{if(!A)return"Never";const k=new Date(A),E=Date.now()-k.getTime(),U=Math.floor(E/6e4);if(U<1)return"Just now";if(U<60)return`${U}m ago`;const M=Math.floor(U/60);return M<24?`${M}h ago`:k.toLocaleDateString()};return u.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-10",children:[u.jsx("div",{className:"flex justify-between items-end",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Teacher Dashboard"}),u.jsx("p",{className:"text-gray-400",children:"Engagement analytics and operational overview."})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(B,{label:"Total Students",value:b,icon:u.jsx(Hc,{className:"w-12 h-12"}),color:"from-blue-500 to-cyan-400"}),u.jsx(B,{label:"Total XP Awarded",value:w.toLocaleString(),icon:u.jsx(Dn,{className:"w-12 h-12"}),color:"from-purple-500 to-pink-500"}),u.jsx(B,{label:"Resources Viewed",value:S,icon:u.jsx(s8,{className:"w-12 h-12"}),color:"from-emerald-500 to-teal-400"}),u.jsx(B,{label:"Avg Active Time",value:`${T}m`,icon:u.jsx(ls,{className:"w-12 h-12"}),color:"from-amber-500 to-orange-400"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:`border rounded-3xl p-6 backdrop-blur-md transition-colors ${s.length>0?"bg-red-900/10 border-red-500/30":"bg-white/5 border-white/10"}`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("h3",{className:`text-xl font-bold flex items-center gap-2 ${s.length>0?"text-red-400":"text-white"}`,children:[s.length>0?u.jsx(cs,{className:"w-5 h-5"}):u.jsx(xx,{className:"w-5 h-5 text-gray-400"}),"Moderation Queue"]}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${s.length>0?"bg-red-500 text-white animate-pulse":"bg-green-500/20 text-green-400"}`,children:s.length>0?`${s.length} Issues`:"Secure"})]}),s.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500 italic",children:[u.jsx(kv,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),"No active alerts. Comms channels are clear."]}):u.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto custom-scrollbar pr-2",children:s.map(A=>u.jsxs("div",{className:"bg-black/20 border border-red-500/20 p-3 rounded-xl",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-sm font-bold text-white",children:[A.senderName," ",u.jsxs("span",{className:"text-xs text-gray-500 font-normal",children:["in ",A.classType]})]}),u.jsxs("div",{className:"text-xs text-red-300 italic mt-1",children:['"',A.content,'"']})]}),u.jsx("div",{className:"text-[10px] text-gray-500 whitespace-nowrap ml-2",children:new Date(A.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsxs("button",{onClick:async()=>{await $e.resolveFlag(A.id),A.messageId&&await $e.unflagMessage(A.messageId).catch(()=>{})},className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 bg-emerald-600/20 hover:bg-emerald-600/40 border border-emerald-500/30 text-emerald-400 rounded-lg text-[11px] font-bold transition",children:[u.jsx(vx,{className:"w-3 h-3"})," Dismiss"]}),u.jsxs("button",{onClick:async()=>{await n({message:"Delete flagged message and resolve?",confirmLabel:"Delete"})&&(await $e.resolveFlag(A.id),A.messageId&&await $e.deleteMessage(A.messageId).catch(()=>{}))},className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 bg-red-600/20 hover:bg-red-600/40 border border-red-500/30 text-red-400 rounded-lg text-[11px] font-bold transition",children:[u.jsx(ji,{className:"w-3 h-3"})," Delete"]})]})]},A.id))})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-md",children:[u.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[u.jsx(iae,{className:"w-5 h-5 text-orange-400"}),"Silenced Operatives"]}),O.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500 italic",children:[u.jsx(Hc,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),"No active silence sanctions."]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-white/10 text-[10px] uppercase font-bold text-gray-500",children:[u.jsx("th",{className:"pb-2",children:"Operative"}),u.jsx("th",{className:"pb-2",children:"Remaining"}),u.jsx("th",{className:"pb-2 text-right",children:"Protocol"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:O.map(A=>u.jsxs("tr",{className:"group hover:bg-white/5 transition",children:[u.jsxs("td",{className:"py-3",children:[u.jsx("div",{className:"text-sm font-bold text-white",children:A.name}),u.jsx("div",{className:"text-[10px] text-gray-500",children:A.classType})]}),u.jsx("td",{className:"py-3",children:u.jsx("span",{className:"bg-orange-500/20 text-orange-300 px-2 py-1 rounded text-xs font-mono",children:I(A.mutedUntil)})}),u.jsx("td",{className:"py-3 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>C(A.id,A.mutedUntil),className:"p-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-gray-300 hover:text-white transition",title:"Extend +1hr",children:u.jsx(jv,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:()=>R(A.id),className:"p-1.5 rounded-lg bg-green-500/20 hover:bg-green-500/30 text-green-400 transition",title:"Unmute",children:u.jsx(kv,{className:"w-3.5 h-3.5"})})]})})]},A.id))})]})})]})]}),u.jsx("div",{className:"mt-8",children:u.jsx(ule,{announcements:d,studentIds:y.map(A=>A.id)})}),u.jsxs("div",{className:"mt-8 bg-white/5 backdrop-blur-md border border-white/10 rounded-3xl p-8",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Student Engagement Ranking"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-white/10 text-gray-400 text-sm",children:[u.jsx("th",{className:"p-3",children:"Student"}),u.jsx("th",{className:"p-3",children:"Class"}),u.jsx("th",{className:"p-3 text-center",children:"Last Seen"}),u.jsx("th",{className:"p-3 text-center",children:"Total Time"}),u.jsx("th",{className:"p-3 text-center",children:"Resources"}),u.jsx("th",{className:"p-3 text-right",children:"XP"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:(()=>{const A=Math.max(1,...y.map(k=>{var E;return((E=k.gamification)==null?void 0:E.xp)||0}));return y.sort((k,E)=>{var U,M;return(((U=E.gamification)==null?void 0:U.xp)||0)-(((M=k.gamification)==null?void 0:M.xp)||0)}).map(k=>{var te,K,J;const E=((te=k.gamification)==null?void 0:te.xp)||0,U=Math.round(E/A*100),M=k.lastLoginAt,$=M?Date.now()-new Date(M).getTime():1/0,z=$<36e5?"text-green-400":$<864e5?"text-yellow-400":$<1/0?"text-red-400":"text-gray-600",Y=$<36e5?"bg-green-500":$<864e5?"bg-yellow-500":$<1/0?"bg-red-500":"bg-gray-600";return u.jsxs("tr",{className:"hover:bg-white/5 transition cursor-pointer",onClick:()=>a(k),children:[u.jsx("td",{className:"p-3 font-bold text-white",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",children:[k.avatarUrl?u.jsx("img",{src:k.avatarUrl,alt:k.name,className:"w-8 h-8 rounded-full border border-white/10 object-cover"}):u.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500/20 flex items-center justify-center text-xs",children:k.name.charAt(0)}),u.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 rounded-full border-2 border-[#0f0720] ${Y}`})]}),u.jsx("span",{className:"truncate max-w-[120px]",children:k.name})]})}),u.jsx("td",{className:"p-3 text-sm text-gray-400",children:k.classType}),u.jsx("td",{className:`p-3 text-center text-xs font-mono ${z}`,children:D(k.lastLoginAt)}),u.jsxs("td",{className:"p-3 text-center text-white",children:[((K=k.stats)==null?void 0:K.totalTime)||0,"m"]}),u.jsx("td",{className:"p-3 text-center text-white",children:((J=k.stats)==null?void 0:J.problemsCompleted)||0}),u.jsx("td",{className:"p-3 text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("div",{className:"w-16 h-1.5 bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-cyan-400 rounded-full transition-all",style:{width:`${U}%`}})}),u.jsx("span",{className:"text-purple-400 font-bold text-sm min-w-[3rem] text-right",children:E})]})})]},k.id)})})()})]})})]}),i&&u.jsx(fle,{student:i,submissions:r.filter(A=>A.userId===i.id),assignments:e,onClose:()=>a(null)})]})},ple=({users:t,whitelistedEmails:e,classConfigs:r,onWhitelist:n})=>{const i=Ii(),{confirm:a}=Zc(),[s,c]=F.useState(new Set),[d,f]=F.useState(Nr.AP_PHYSICS),[m,p]=F.useState(!1),[y,b]=F.useState(!1),[T,S]=F.useState(""),[w,O]=F.useState(Nr.AP_PHYSICS),[R,C]=F.useState(""),[B,I]=F.useState(""),[D,A]=F.useState(!1),[k,E]=F.useState(!1),[U,M]=F.useState({physicsLab:!0,evidenceLocker:!1,leaderboard:!0,physicsTools:!1,communications:!0}),[$,z]=F.useState(10),[Y,te]=F.useState("single"),[K,J]=F.useState([]),[Q,ye]=F.useState(!1),se=F.useRef(null),X=t.filter(ue=>ue.role==="STUDENT"),ee=F.useMemo(()=>e.filter(ue=>!t.some(ze=>ze.email.toLowerCase()===ue.email.toLowerCase())),[e,t]),ce=F.useMemo(()=>[...Array.from(new Set([...Object.values(Nr).filter(ze=>ze!==Nr.UNCATEGORIZED),...r.map(ze=>ze.className)])).sort(),Nr.UNCATEGORIZED],[r]),Ne=ue=>{const ze=X.filter(Qe=>{var _t,Pt;return((_t=Qe.enrolledClasses)==null?void 0:_t.includes(ue))||ue===Nr.UNCATEGORIZED&&(((Pt=Qe.enrolledClasses)==null?void 0:Pt.length)===0||!Qe.enrolledClasses)}),et=ze.every(Qe=>s.has(Qe.id)),yt=new Set(s);ze.forEach(Qe=>{et?yt.delete(Qe.id):yt.add(Qe.id)}),c(yt)},oe=ue=>{const ze=new Set(s);ze.has(ue)?ze.delete(ue):ze.add(ue),c(ze)},Oe=async()=>{if(s.size>0){const ue=Array.from(s).map(async ze=>{const et=t.find(yt=>yt.id===ze);if(et){const yt=et.enrolledClasses||[],Qe=Array.from(new Set([...yt.filter(_t=>_t!==Nr.UNCATEGORIZED),d]));await $e.updateUserEnrolledClasses(ze,Qe)}});await Promise.all(ue),c(new Set)}},Me=async ue=>{if(s.size>0){if(!await a({message:`Remove ${s.size} students from ${ue}? Students with no remaining classes will lose system access.`,confirmLabel:"Remove"}))return;const ze=Array.from(s).map(async et=>{const yt=t.find(Qe=>Qe.id===et);if(yt){const _t=(yt.enrolledClasses||[]).filter(Pt=>Pt!==ue);await $e.updateUserEnrolledClasses(et,_t)}});await Promise.all(ze),c(new Set)}},it=async(ue,ze)=>{if(await a({message:`Remove ${ue.name} from ${ze}? If this is their only class, their system access will be revoked.`,confirmLabel:"Remove"})){const yt=(ue.enrolledClasses||[]).filter(Qe=>Qe!==ze);await $e.updateUserEnrolledClasses(ue.id,yt)}},Ee=async(ue,ze)=>{await a({title:"Permanent Deletion",message:`PERMANENTLY delete account for ${ze}? This will remove all data and logs for this operative.`,confirmLabel:"Delete Forever"})&&await $e.removeUser(ue)},He=async ue=>{ue!==Nr.UNCATEGORIZED&&await a({message:`Delete group config ${ue}? Students will remain but the group settings will be lost.`,confirmLabel:"Delete Config"})&&$e.deleteClassConfig(ue)},he=async ue=>{await a({message:`Cancel invite for ${ue}? Access will be revoked immediately.`,confirmLabel:"Revoke"})&&await $e.removeFromWhitelist(ue)},ge=(ue,ze)=>{ue!==Nr.UNCATEGORIZED&&(I(ue),A(!0),ze?(M(ze.features),z(ze.xpPerMinute||10)):(M({physicsLab:!0,evidenceLocker:!1,leaderboard:!0,physicsTools:!1,communications:!0}),z(10)),b(!0))},We=ue=>{ue.preventDefault(),n(T,w),R.trim()&&$e.updateWhitelistSection(T,R.trim()),S(""),C(""),p(!1)},Ve=ue=>{var yt;const ze=(yt=ue.target.files)==null?void 0:yt[0];if(!ze)return;const et=new FileReader;et.onload=Qe=>{var vr,Qi;const _t=(vr=Qe.target)==null?void 0:vr.result;if(!_t)return;const Pt=_t.split(/\r?\n/).filter(Wr=>Wr.trim()),Xt=(Qi=Pt[0])!=null&&Qi.toLowerCase().includes("email")?1:0,Tt=new Set(e.map(Wr=>Wr.email.toLowerCase())),tr=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Br=Pt.slice(Xt).map(Wr=>{const Vn=Wr.includes("	")?Wr.split("	"):Wr.split(","),Ir=(Vn[0]||"").trim().toLowerCase(),vn=(Vn[1]||"").trim()||Nr.AP_PHYSICS,Vt=(Vn[2]||"").trim();let bn="pending";return tr.test(Ir)?Tt.has(Ir)&&(bn="duplicate"):bn="invalid",{email:Ir,classType:vn,section:Vt,status:bn}}).filter(Wr=>Wr.email.length>0);J(Br)},et.readAsText(ze),ue.target.value=""},nt=async()=>{const ue=K.filter(et=>et.status==="pending");if(ue.length===0)return;ye(!0);let ze=0;for(const et of ue)try{await $e.addToWhitelist(et.email,et.classType),et.section&&await $e.updateWhitelistSection(et.email,et.section),et.status="success",ze++}catch{et.status="invalid"}J([...K]),ye(!1),i.success(`${ze} operative${ze!==1?"s":""} imported successfully.`),K.every(et=>et.status==="success"||et.status==="duplicate")&&setTimeout(()=>{p(!1),J([]),te("single")},1500)},ct=async ue=>{if(ue.preventDefault(),!!B){E(!0);try{await $e.saveClassConfig({id:B,className:B,features:U,xpPerMinute:$}),I(""),b(!1),A(!1)}catch(ze){console.error("Failed to save config:",ze),i.error("Failed to save class configuration.")}finally{E(!1)}}},Wt=ue=>{if(!ue)return"Never";const ze=new Date(ue),et=Date.now()-ze.getTime(),yt=Math.floor(et/6e4);if(yt<60)return`${yt}m ago`;const Qe=Math.floor(yt/60);return Qe<24?`${Qe}h ago`:ze.toLocaleDateString()},Ie=ue=>{const ze=ue===Nr.UNCATEGORIZED,et=X.filter(Qe=>{var _t;return((_t=Qe.enrolledClasses)==null?void 0:_t.includes(ue))||ze&&(!Qe.enrolledClasses||Qe.enrolledClasses.length===0)}),yt=r.find(Qe=>Qe.className===ue);return u.jsxs("div",{className:`mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500 ${ze?"opacity-90":""}`,children:[u.jsxs("div",{className:`backdrop-blur-md border-t border-x border-white/10 p-4 rounded-t-2xl flex justify-between items-center ${ze?"bg-orange-500/10":"bg-white/5"}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("h3",{className:`font-bold text-lg tracking-wide ${ze?"text-orange-300":"text-white"}`,children:[ze&&u.jsx(Vie,{className:"w-5 h-5 inline mr-2 mb-1"}),ue]}),u.jsxs("span",{className:`border text-[10px] font-bold px-3 py-1 rounded-full ${ze?"bg-orange-500/20 text-orange-200 border-orange-500/30":"bg-purple-500/20 text-purple-200 border-purple-500/30"}`,children:[et.length," Registered"]}),!ze&&u.jsx("button",{onClick:()=>ge(ue,yt),className:"text-xs text-gray-300 hover:text-white p-1.5 rounded-lg hover:bg-white/10 transition",title:"Edit Class Configuration",children:u.jsx(up,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"flex gap-2",children:[s.size>0&&Array.from(s).some(Qe=>et.find(_t=>_t.id===Qe))&&u.jsxs("button",{onClick:()=>Me(ue),className:"text-xs text-red-400 bg-red-500/10 px-3 py-1.5 rounded-lg hover:bg-red-500/20 transition flex items-center gap-2",children:[u.jsx(bae,{className:"w-3 h-3"})," Remove Selected"]}),!ze&&u.jsxs("button",{onClick:()=>He(ue),className:"text-xs text-gray-500 hover:text-red-400 px-3 py-1.5 rounded-lg hover:bg-white/5 transition flex items-center gap-2",children:[u.jsx(ji,{className:"w-3 h-3"}),"Config"]})]})]}),u.jsx("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-b-2xl overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-black/20 border-b border-white/5 text-[10px] uppercase font-bold text-gray-400",children:[u.jsx("th",{className:"w-12 p-4 text-center",children:et.length>0&&u.jsx("button",{onClick:()=>Ne(ue),className:"hover:text-purple-400 transition",children:u.jsx(gC,{className:"w-4 h-4"})})}),u.jsx("th",{className:"text-left p-4",children:"Operative"}),u.jsx("th",{className:"text-center p-4",children:"System Status"}),u.jsx("th",{className:"text-center p-4",children:"Last Seen"}),u.jsx("th",{className:"text-center p-4",children:"Class XP"}),u.jsx("th",{className:"text-center p-4 w-12",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:et.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500 italic text-sm",children:ze?"No restricted operatives found.":"No students registered in this roster yet."})}):et.map(Qe=>{var Pt,Xt,Tt,tr;const _t=((Xt=(Pt=Qe.gamification)==null?void 0:Pt.classXp)==null?void 0:Xt[ue])||0;return u.jsxs("tr",{className:`hover:bg-white/5 transition group ${s.has(Qe.id)?"bg-purple-500/10":""}`,children:[u.jsx("td",{className:"p-4 text-center",children:u.jsx("button",{onClick:()=>oe(Qe.id),className:"text-gray-500 hover:text-purple-400 transition",children:s.has(Qe.id)?u.jsx(gae,{className:"w-4 h-4 text-purple-500"}):u.jsx(gC,{className:"w-4 h-4 group-hover:text-gray-400"})})}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:Qe.avatarUrl,alt:Qe.name,className:"w-8 h-8 rounded-full border border-white/10"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-gray-200 text-sm",children:Qe.name}),u.jsxs("div",{className:"text-[10px] text-gray-500 font-mono",children:[Qe.email,Qe.section?`  ${Qe.section}`:""]})]})]})}),u.jsx("td",{className:"p-4 text-center",children:u.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-widest px-2 py-0.5 rounded-full border inline-flex items-center gap-1.5 ${Qe.isWhitelisted?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:[Qe.isWhitelisted?u.jsx(mC,{className:"w-3 h-3"}):u.jsx(xx,{className:"w-3 h-3"}),Qe.isWhitelisted?"Authorized":"Restricted"]})}),u.jsx("td",{className:"p-4 text-center",children:u.jsxs("span",{className:"text-xs text-gray-400 flex items-center justify-center gap-1.5",children:[u.jsx(ls,{className:"w-3 h-3"}),Wt(Qe.lastLoginAt)]})}),u.jsx("td",{className:"p-4 text-center",children:u.jsxs("div",{children:[u.jsx("span",{className:"font-bold text-lg text-purple-300",children:_t.toLocaleString()}),(((Tt=Qe.enrolledClasses)==null?void 0:Tt.length)||0)>1&&u.jsxs("details",{className:"mt-1",children:[u.jsx("summary",{className:"text-[9px] text-gray-500 cursor-pointer hover:text-purple-400 transition",children:"All classes"}),u.jsx("div",{className:"mt-1 space-y-0.5 text-left",children:(tr=Qe.enrolledClasses)==null?void 0:tr.map(Br=>{var vr,Qi;return u.jsxs("div",{className:"flex items-center justify-between gap-2 text-[10px]",children:[u.jsx("span",{className:`truncate ${Br===ue?"text-purple-400 font-bold":"text-gray-500"}`,children:Br}),u.jsx("span",{className:"text-gray-400 font-mono",children:(((Qi=(vr=Qe.gamification)==null?void 0:vr.classXp)==null?void 0:Qi[Br])||0).toLocaleString()})]},Br)})})]})]})}),u.jsx("td",{className:"p-4 text-center",children:u.jsx("div",{className:"flex items-center justify-center gap-2",children:u.jsx("button",{onClick:()=>ze?Ee(Qe.id,Qe.name):it(Qe,ue),className:"text-gray-600 hover:text-red-400 transition p-2 rounded-lg hover:bg-white/5",title:ze?"Permanently Delete":"Remove from this Class",children:u.jsx(us,{className:"w-4 h-4"})})})})]},Qe.id)})})]})})]},ue)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"User Management"}),u.jsx("p",{className:"text-gray-400",children:"Manage rosters, permissions, and active invitations."})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[u.jsxs("button",{onClick:()=>{I(""),M({physicsLab:!0,evidenceLocker:!1,leaderboard:!0,physicsTools:!1,communications:!0}),A(!1),b(!0)},className:"bg-white/10 hover:bg-white/20 text-white px-4 py-3 rounded-xl border border-white/10 transition font-bold flex items-center justify-center gap-2",children:[u.jsx(up,{className:"w-4 h-4"}),"Class Config"]}),u.jsxs("button",{onClick:()=>p(!0),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-3 rounded-xl shadow-[0_0_20px_rgba(147,51,234,0.3)] hover:shadow-[0_0_30px_rgba(147,51,234,0.5)] transition font-bold flex items-center justify-center gap-2",children:[u.jsx(yC,{className:"w-4 h-4"}),"Invite Student"]})]})]}),ee.length>0&&u.jsxs("div",{className:"bg-amber-900/10 border border-amber-500/30 rounded-2xl overflow-hidden animate-in zoom-in-95",children:[u.jsxs("div",{className:"bg-amber-500/20 px-6 py-3 flex items-center justify-between",children:[u.jsxs("h3",{className:"text-amber-200 font-bold text-sm uppercase tracking-widest flex items-center gap-2",children:[u.jsx(rae,{className:"w-4 h-4"})," Pending Class Invitations (",ee.length,")"]}),u.jsx("span",{className:"text-[10px] text-amber-400 font-bold italic",children:"Awaiting first login..."})]}),u.jsx("div",{className:"p-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:ee.map(ue=>u.jsxs("div",{className:"bg-black/40 p-3 rounded-xl flex items-center justify-between border border-white/5 group hover:border-amber-500/30 transition",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-gray-200 text-xs font-bold truncate",children:ue.email}),u.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[u.jsx(mC,{className:"w-3 h-3 text-amber-500"}),u.jsxs("span",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-tighter",children:[(ue.classTypes||[ue.classType]).join(", ")," Access"]})]})]}),u.jsx("button",{onClick:()=>he(ue.email),className:"p-1.5 text-gray-600 hover:text-red-400 transition hover:bg-red-500/10 rounded-lg opacity-0 group-hover:opacity-100",title:"Cancel Invitation",children:u.jsx(ji,{className:"w-3.5 h-3.5"})})]},ue.email))})]}),u.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 p-4 rounded-xl flex flex-col md:flex-row items-center justify-between sticky top-0 z-20 shadow-xl gap-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full md:w-auto",children:[u.jsx("span",{className:"font-bold text-gray-300 text-sm whitespace-nowrap hidden md:inline",children:"Bulk Enrollment:"}),u.jsxs("div",{className:"relative w-full sm:w-auto",children:[u.jsx("select",{value:d,onChange:ue=>f(ue.target.value),className:"w-full sm:w-auto appearance-none bg-black/40 border border-white/20 text-gray-200 py-2 pl-4 pr-10 rounded-lg text-sm font-medium focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 cursor-pointer",children:ce.filter(ue=>ue!==Nr.UNCATEGORIZED).map(ue=>u.jsxs("option",{value:ue,children:["Apply ",ue," Access"]},ue))}),u.jsx(Bs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]}),u.jsxs("button",{onClick:Oe,disabled:s.size===0,className:"w-full sm:w-auto bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-lg text-sm font-bold shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 whitespace-nowrap",children:[u.jsx(bl,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Grant Access to Selected"}),u.jsx("span",{className:"inline sm:hidden",children:"Grant Access"})]})]}),u.jsxs("div",{className:"text-xs text-gray-500 font-mono text-center md:text-right w-full md:w-auto",children:[s.size," SELECTION ACTIVE"]})]}),u.jsx("div",{className:"pb-12",children:ce.map(ue=>Ie(ue))}),u.jsxs(Da,{isOpen:m,onClose:()=>{p(!1),J([]),te("single")},title:"New Operative Invitation",maxWidth:"max-w-lg",children:[u.jsxs("div",{className:"flex gap-1 bg-black/30 rounded-xl p-1 mb-4 border border-white/5",children:[u.jsxs("button",{onClick:()=>{te("single"),J([])},className:`flex-1 py-2 rounded-lg text-xs font-bold transition flex items-center justify-center gap-1.5 ${Y==="single"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:[u.jsx(yC,{className:"w-3.5 h-3.5"})," Single"]}),u.jsxs("button",{onClick:()=>te("csv"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition flex items-center justify-center gap-1.5 ${Y==="csv"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:[u.jsx(dp,{className:"w-3.5 h-3.5"})," CSV Import"]})]}),Y==="single"?u.jsxs("form",{onSubmit:We,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 px-1",children:"Authorized Gmail"}),u.jsx("input",{type:"email",required:!0,className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all",value:T,onChange:ue=>S(ue.target.value),placeholder:"student@gmail.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 px-1",children:"Initial Class Assignment"}),u.jsx("select",{className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all appearance-none",value:w,onChange:ue=>O(ue.target.value),children:ce.filter(ue=>ue!==Nr.UNCATEGORIZED).map(ue=>u.jsx("option",{value:ue,children:ue},ue))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 px-1",children:"Section / Period (Optional)"}),u.jsx("input",{type:"text",className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all",value:R,onChange:ue=>C(ue.target.value),placeholder:"e.g. Period 3, Block A"})]}),u.jsx("p",{className:"text-[10px] text-gray-400 bg-black/30 p-3 rounded-lg border border-white/10",children:"Invitation puts the email on a secure whitelist. The student will be automatically placed in their class upon their first Google login."}),u.jsx("button",{type:"submit",className:"w-full bg-purple-600 text-white py-4 rounded-2xl font-bold hover:bg-purple-700 transition shadow-xl shadow-purple-200",children:"Whitelist Email"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-black/30 border border-dashed border-white/20 rounded-2xl p-6 text-center",children:[u.jsx("input",{type:"file",ref:se,accept:".csv,.tsv,.txt",onChange:Ve,className:"hidden"}),K.length===0?u.jsxs(u.Fragment,{children:[u.jsx(dp,{className:"w-10 h-10 text-gray-500 mx-auto mb-3"}),u.jsx("button",{onClick:()=>{var ue;return(ue=se.current)==null?void 0:ue.click()},className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2.5 rounded-xl font-bold text-sm transition",children:"Select CSV File"}),u.jsxs("p",{className:"text-[10px] text-gray-500 mt-3",children:["Expected format: ",u.jsx("code",{className:"bg-black/40 px-1.5 py-0.5 rounded",children:"email, class, section"})]}),u.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Header row is auto-detected and skipped. Section column is optional."}),u.jsx("div",{className:"mt-3 bg-black/40 rounded-lg p-3 text-left",children:u.jsxs("p",{className:"text-[9px] text-gray-500 font-mono leading-relaxed",children:["email,class,section",u.jsx("br",{}),"john@gmail.com,AP Physics,Period 3",u.jsx("br",{}),"jane@gmail.com,Honors Physics,Period 1",u.jsx("br",{}),"alex@gmail.com,Forensic Science,"]})})]}):u.jsxs(u.Fragment,{children:[u.jsx(s8,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),u.jsxs("p",{className:"text-sm font-bold text-white",children:[K.length," records parsed"]}),u.jsx("button",{onClick:()=>{J([])},className:"text-[10px] text-gray-500 hover:text-white transition mt-1 underline",children:"Clear & pick another file"})]})]}),K.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar border border-white/10 rounded-xl",children:u.jsxs("table",{className:"w-full text-left text-xs",children:[u.jsx("thead",{className:"sticky top-0 bg-[#1a1b26]",children:u.jsxs("tr",{className:"border-b border-white/10 text-[10px] uppercase text-gray-500 font-bold",children:[u.jsx("th",{className:"p-2 pl-3",children:"Email"}),u.jsx("th",{className:"p-2",children:"Class"}),u.jsx("th",{className:"p-2",children:"Section"}),u.jsx("th",{className:"p-2 text-right pr-3",children:"Status"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:K.map((ue,ze)=>u.jsxs("tr",{className:ue.status==="invalid"?"bg-red-500/5":ue.status==="duplicate"?"bg-yellow-500/5":ue.status==="success"?"bg-green-500/5":"",children:[u.jsx("td",{className:"p-2 pl-3 text-gray-300 font-mono truncate max-w-[160px]",children:ue.email}),u.jsx("td",{className:"p-2 text-gray-400",children:ue.classType}),u.jsx("td",{className:"p-2 text-gray-500",children:ue.section||""}),u.jsx("td",{className:"p-2 pr-3 text-right",children:u.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${ue.status==="pending"?"bg-blue-500/20 text-blue-400":ue.status==="success"?"bg-green-500/20 text-green-400":ue.status==="duplicate"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:ue.status})})]},ze))})]})}),u.jsx("div",{className:"flex items-center justify-between text-[10px] text-gray-500",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("span",{className:"text-blue-400",children:[K.filter(ue=>ue.status==="pending").length," ready"]}),u.jsxs("span",{className:"text-yellow-400",children:[K.filter(ue=>ue.status==="duplicate").length," duplicates"]}),u.jsxs("span",{className:"text-red-400",children:[K.filter(ue=>ue.status==="invalid").length," invalid"]}),K.some(ue=>ue.status==="success")&&u.jsxs("span",{className:"text-green-400",children:[K.filter(ue=>ue.status==="success").length," imported"]})]})}),K.filter(ue=>ue.status==="duplicate").length>0&&u.jsxs("div",{className:"flex items-start gap-2 text-[10px] text-yellow-400 bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-2.5",children:[u.jsx(cs,{className:"w-3.5 h-3.5 shrink-0 mt-0.5"}),"Duplicate emails are already on the whitelist and will be skipped."]}),u.jsx("button",{onClick:nt,disabled:Q||K.filter(ue=>ue.status==="pending").length===0,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:opacity-40 disabled:cursor-not-allowed text-white py-4 rounded-2xl font-bold transition flex items-center justify-center gap-2",children:Q?u.jsxs(u.Fragment,{children:[u.jsx(Pa,{className:"w-4 h-4 animate-spin"})," Importing..."]}):u.jsxs(u.Fragment,{children:["Import ",K.filter(ue=>ue.status==="pending").length," Operatives"]})})]})]})]}),u.jsx(Da,{isOpen:y,onClose:()=>b(!1),title:D?"Edit Class Node Config":"Initialize New Class Node",children:u.jsxs("form",{onSubmit:ct,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class Name"}),u.jsx("input",{type:"text",required:!0,className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white",value:B,onChange:ue=>I(ue.target.value),placeholder:"e.g. AP Physics Period 4"}),D&&u.jsx("p",{className:"text-[10px] text-orange-600 mt-2 font-bold uppercase",children:"System Note: Rename creates a new config branch."})]}),u.jsxs("div",{className:"border-t border-white/10 pt-4",children:[u.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Modular Feature Access"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:U.physicsLab,onChange:ue=>M({...U,physicsLab:ue.target.checked})}),u.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Physics Lab (Simulations & Reports)"})]}),u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:U.evidenceLocker,onChange:ue=>M({...U,evidenceLocker:ue.target.checked})}),u.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Evidence Log (Weekly Portfolio)"})]}),u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:U.leaderboard,onChange:ue=>M({...U,leaderboard:ue.target.checked})}),u.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Global XP Leaderboards"})]}),u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:U.physicsTools,onChange:ue=>M({...U,physicsTools:ue.target.checked})}),u.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Physics Computational Toolkit"})]}),u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:U.communications,onChange:ue=>M({...U,communications:ue.target.checked})}),u.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Real-time Class Communications"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"XP Per Minute of Engagement"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"number",min:1,max:100,value:$,onChange:ue=>z(Math.max(1,Math.min(100,parseInt(ue.target.value)||10))),className:"w-24 p-3 border border-white/10 rounded-xl bg-black/30 text-white text-center font-bold"}),u.jsx("span",{className:"text-xs text-gray-500",children:"XP per minute (default: 10, max: 100)"})]})]}),u.jsx("button",{type:"submit",disabled:k,className:`w-full bg-green-600 text-white py-4 rounded-2xl font-bold hover:bg-green-700 transition flex items-center justify-center gap-2 ${k?"opacity-70 cursor-not-allowed":""}`,children:k?u.jsxs(u.Fragment,{children:[u.jsx(Pa,{className:"w-4 h-4 animate-spin"})," ESTABLISHING PROTOCOL..."]}):D?"Update Terminal Configuration":"Initialize Class Node"})]})})]})},vc={1:{text:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/30"},2:{text:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/30"},3:{text:"text-purple-400",bg:"bg-purple-500/10",border:"border-purple-500/30"}},lI={multiple_choice:"MC",multiple_select:"Multi-Select",ranking:"Ranking",qualitative_reasoning:"Qualitative",linked_mc:"Linked MC",troubleshooting:"Troubleshoot",conflicting_contentions:"Conflicting",whats_wrong:"What's Wrong",working_backwards:"Backwards"},gle=(t,e,r)=>`You are an expert educational assessment designer. I need you to generate a question bank of 150 questions for the following resource. I will attach the resource content below this prompt.

RESOURCE: ${t}
CLASS: ${e}
${r?`DESCRIPTION: ${r}`:""}

Generate questions organized into 3 Bloom's Taxonomy tiers. Use a MIXTURE of the following question formats across all tiers:

QUESTION FORMATS:
1. Multiple Choice  4 options, 1 correct
2. Multiple Select  4 options, 2-3 correct
3. Ranking Task  4 items to order correctly
4. Conflicting Contentions  Two students disagree, who is correct and why
5. Linked Multiple Choice  Two connected questions where part B depends on part A
6. Qualitative Reasoning  Conceptual MC requiring deep understanding
7. Troubleshooting Task  Identify the error in a scenario
8. What's Wrong Task  Find the flaw in given reasoning/solution
9. Working Backwards Task  Given the answer, determine what produced it

TIER DISTRIBUTION (50 questions each):
- TIER 1 (Remember & Understand)  50 questions, +10 XP each
- TIER 2 (Apply & Analyze)  50 questions, +25 XP each  
- TIER 3 (Evaluate & Create)  50 questions, +50 XP each

OUTPUT FORMAT  Respond with ONLY a valid JSON array. Each question object:
{
  "id": "t1q001" (tier + question number),
  "tier": 1, 2, or 3,
  "xp": 10, 25, or 50 (matching tier),
  "type": "multiple_choice" | "multiple_select" | "ranking" | "qualitative_reasoning" | "linked_mc" | "troubleshooting" | "conflicting_contentions" | "whats_wrong" | "working_backwards",
  "bloomsLevel": "Remember" | "Understand" | "Apply" | "Analyze" | "Evaluate" | "Create",
  "stem": "The question text",
  "context": "Optional scenario/context text" or null,
  "options": [{"id": "a", "text": "..."}, {"id": "b", "text": "..."}, {"id": "c", "text": "..."}, {"id": "d", "text": "..."}],
  "correctAnswer": "b" (for MC) OR ["a","c"] (for multiple_select) OR ["c","a","d","b"] (for ranking, in correct order),
  "explanation": "Why this is the correct answer",
  "linkedFollowUp": null OR (only for linked_mc) {"stem": "...", "options": [...], "correctAnswer": "...", "explanation": "..."}
}

IMPORTANT:
- All questions MUST be specific to the resource content I attached
- Distractors must be plausible and educational
- Vary question formats within each tier (use all 9 types)
- Output ONLY the JSON array  no markdown fences, no commentary
- Generate exactly 150 questions (50 per tier) if possible
- If you hit your output limit, end the JSON array cleanly with ] so I can parse what you generated.`,yle=(t,e,r)=>`You are an expert educational content creator. I need you to create comprehensive study material for students who are working through a practice set. This reading material should teach the underlying concepts so students understand the material before or while working on practice problems. I will attach the practice set content below this prompt.

PRACTICE SET: ${t}
CLASS: ${e}
${r?`DESCRIPTION: ${r}`:""}

Create detailed reading material that covers all the concepts, formulas, principles, and background knowledge a student needs to succeed on this practice set.

OUTPUT FORMAT  Respond with ONLY a valid JSON object:
{
  "title": "Study Guide: ${t}",
  "description": "A brief 1-2 sentence overview of what this reading covers",
  "estimatedMinutes": 15,
  "sections": [
    {
      "title": "Section title",
      "content": "Detailed explanation text. Use clear language appropriate for the class level. Include definitions, examples, step-by-step explanations, key formulas, common misconceptions, and practical applications. Make it thorough but readable."
    }
  ]
}

GUIDELINES:
- Create 8-15 sections that logically progress through the material
- Each section should be 150-400 words  substantial enough to actually teach the concept
- Include worked examples where applicable
- Define key vocabulary and terminology
- Address common student misconceptions
- Use clear, direct language appropriate for the class level
- The total reading should take approximately 10-20 minutes
- CRITICAL: For ALL math expressions, you MUST use LaTeX notation wrapped in dollar signs. Examples: $W = Fd\\cos\\theta$, $K = \\frac{1}{2}mv^2$, $U_g = mgy$
- Use double dollar signs for display equations on their own line: $$E_i + W_{ext} = E_f$$
- NEVER write bare math like "K=frac12mv2" or "W=Fdcostheta"  always wrap in $...$
- Every variable, formula, and equation must be in LaTeX dollar-sign delimiters
- Use bullet points (* at line start) for lists
- Use **bold** for key terms on first introduction
- Output ONLY the JSON object  no markdown fences, no commentary`,vle=({assignment:t,isOpen:e,onClose:r})=>{const n=Ii(),i=F.useRef(null),[a,s]=F.useState([]),[c,d]=F.useState(!0),[f,m]=F.useState(!1),[p,y]=F.useState(t.category==="Practice Set"?"reading":"manage"),[b,T]=F.useState(null),[S,w]=F.useState(null),[O,R]=F.useState(""),[C,B]=F.useState(null),[I,D]=F.useState(!1),[A,k]=F.useState(null),[E,U]=F.useState({}),[M,$]=F.useState(null),[z,Y]=F.useState(!0),[te,K]=F.useState(null),[J,Q]=F.useState(null),[ye,se]=F.useState(null),[X,ee]=F.useState(!1),ce=F.useRef(null),Ne=t.category==="Practice Set";F.useEffect(()=>{if(!e)return;(async()=>{d(!0);try{const ue=await qi(st(Le,"question_banks",t.id));ue.exists()?s(ue.data().questions||[]):s([]);const ze=await qi(st(Le,"reading_materials",t.id));ze.exists()?K(ze.data()):K(null)}catch(ue){console.error("Failed to load bank:",ue),s([])}finally{d(!1)}})()},[e,t.id]);const oe=async Ie=>{m(!0);try{await Vi(st(Le,"question_banks",t.id),{assignmentId:t.id,title:t.title,classType:t.classType,questions:Ie,questionCount:Ie.length,updatedAt:new Date().toISOString()}),s(Ie)}catch(ue){n.error("Failed to save: "+(ue instanceof Error?ue.message:"Unknown error"))}finally{m(!1)}},Oe=async Ie=>{const ue=a.filter(ze=>ze.id!==Ie);await oe(ue),n.success("Question removed."),C===Ie&&B(null)},Me=async()=>{try{await Oa(st(Le,"question_banks",t.id)),s([]),n.success("Question bank cleared.")}catch{n.error("Failed to clear bank.")}},it=()=>{navigator.clipboard.writeText(gle(t.title,t.classType,t.description)),D(!0),setTimeout(()=>D(!1),2e3),n.success("Prompt copied!")},Ee=()=>{navigator.clipboard.writeText(yle(t.title,t.classType,t.description)),ee(!0),setTimeout(()=>ee(!1),2e3),n.success("Reading prompt copied!")},He=async Ie=>{var ze;const ue=(ze=Ie.target.files)==null?void 0:ze[0];if(ue){se(null),Q(null);try{let yt=(await ue.text()).replace(/```json\s*|```\s*/g,"").trim();yt=yt.replace(/[\x00-\x1F\x7F]/g,Pt=>Pt===`
`||Pt==="\r"||Pt==="	"?" ":"");let Qe;try{Qe=JSON.parse(yt)}catch{const Pt=yt.match(/\{[\s\S]*\}/);if(Pt)Qe=JSON.parse(Pt[0]);else throw new Error("No JSON object found.")}if(!Qe.title||!Qe.sections||!Array.isArray(Qe.sections))throw new Error("Missing required fields: title and sections array.");const _t=Qe.sections.filter(Pt=>!Pt.title||!Pt.content);if(_t.length>0)throw new Error(`${_t.length} section(s) missing title or content.`);Q(Qe)}catch(et){se(et instanceof Error?et.message:"Parse failed.")}ce.current&&(ce.current.value="")}},he=async()=>{if(J){m(!0);try{await Vi(st(Le,"reading_materials",t.id),{...J,assignmentId:t.id,updatedAt:new Date().toISOString()}),K(J),Q(null),n.success(`Study material uploaded: ${J.sections.length} sections!`)}catch(Ie){n.error("Failed to save: "+(Ie instanceof Error?Ie.message:"Unknown error"))}finally{m(!1)}}},ge=async()=>{m(!0);try{await Oa(st(Le,"reading_materials",t.id)),K(null),n.success("Study material removed.")}catch{n.error("Failed to delete.")}finally{m(!1)}},We=async Ie=>{var ze;const ue=(ze=Ie.target.files)==null?void 0:ze[0];if(ue){$(null),k(null);try{let yt=(await ue.text()).replace(/```json\s*|```\s*/g,"").trim();yt=yt.replace(/[\x00-\x1F\x7F]/g,Tt=>Tt===`
`||Tt==="\r"||Tt==="	"?" ":"");let Qe;try{Qe=JSON.parse(yt)}catch{const Tt=yt.match(/\[[\s\S]*\]/);if(Tt)try{Qe=JSON.parse(Tt[0])}catch{const tr=Tt[0];let Br=null;for(let vr=tr.length-1;vr>0;vr--)if(tr[vr]==="}")try{Br=JSON.parse(tr.slice(0,vr+1)+"]");break}catch{}if(Br)Qe=Br;else throw new Error("Could not recover any valid questions from truncated JSON.")}else{let tr=null;const Br="["+yt;for(let vr=Br.length-1;vr>0;vr--)if(Br[vr]==="}")try{tr=JSON.parse(Br.slice(0,vr+1)+"]");break}catch{}if(tr)Qe=tr;else throw new Error("No JSON array found in file.")}}if(!Array.isArray(Qe)||Qe.length===0)throw new Error("Must be a non-empty JSON array.");const _t=Qe.filter(Tt=>Tt.id&&Tt.tier&&Tt.type&&Tt.stem&&Tt.options&&Tt.correctAnswer),Pt=Qe.length-_t.length;if(_t.length===0){$("All questions are missing required fields (id, tier, type, stem, options, correctAnswer).");return}const Xt={};_t.forEach(Tt=>{const tr=Tt.tier;Xt[tr]=(Xt[tr]||0)+1}),k(_t),U(Xt),Pt>0&&n.success(`Parsed ${_t.length} questions (${Pt} skipped  missing fields).`)}catch(et){$(et instanceof Error?et.message:"Parse failed.")}i.current&&(i.current.value="")}},Ve=async()=>{if(!A)return;let Ie;if(z&&a.length>0){const ue=new Set(a.map(et=>et.id)),ze=A.map((et,yt)=>({...et,id:ue.has(et.id)?`${et.id}_${Date.now()}_${yt}`:et.id}));Ie=[...a,...ze]}else Ie=A;await oe(Ie),n.success(`${z?"Added":"Replaced with"} ${A.length} questions. Total: ${Ie.length}`),k(null),y("manage")},nt=F.useMemo(()=>{let Ie=a;if(b&&(Ie=Ie.filter(ue=>ue.tier===b)),S&&(Ie=Ie.filter(ue=>ue.type===S)),O){const ue=O.toLowerCase();Ie=Ie.filter(ze=>ze.stem.toLowerCase().includes(ue)||ze.id.toLowerCase().includes(ue))}return Ie},[a,b,S,O]),ct=F.useMemo(()=>{const Ie={1:0,2:0,3:0};return a.forEach(ue=>{Ie[ue.tier]=(Ie[ue.tier]||0)+1}),Ie},[a]),Wt=F.useMemo(()=>{const Ie={};return a.forEach(ue=>{Ie[ue.type]=(Ie[ue.type]||0)+1}),Ie},[a]);return e?u.jsx(Da,{isOpen:e,onClose:r,title:"Question Bank Manager",maxWidth:"max-w-3xl",children:u.jsxs("div",{className:"text-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-3 bg-black/30 border border-white/10 rounded-xl p-4 mb-4",children:[u.jsx(Uw,{className:"w-5 h-5 text-purple-400 shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-white font-bold text-sm",children:t.title}),u.jsx("div",{className:"text-xs mt-1",children:c?u.jsx("span",{className:"text-gray-500",children:"Loading..."}):a.length>0?u.jsxs("span",{className:"text-emerald-400",children:[a.length," questions loaded"]}):u.jsx("span",{className:"text-yellow-400",children:"No question bank yet"})})]}),a.length>0&&!c&&u.jsx("div",{className:"flex gap-2",children:[1,2,3].map(Ie=>u.jsxs("div",{className:`text-center px-3 py-1.5 rounded-lg ${vc[Ie].bg} ${vc[Ie].border} border`,children:[u.jsx("div",{className:`text-sm font-bold ${vc[Ie].text}`,children:ct[Ie]}),u.jsxs("div",{className:"text-[8px] text-gray-500 uppercase font-bold",children:["T",Ie]})]},Ie))})]}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[!Ne&&u.jsxs("button",{onClick:()=>y("manage"),className:`flex-1 py-2.5 rounded-xl text-xs font-bold transition ${p==="manage"?"bg-purple-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[u.jsx(Uw,{className:"w-3.5 h-3.5 inline mr-1.5"}),"Manage Bank (",a.length,")"]}),!Ne&&u.jsxs("button",{onClick:()=>y("add"),className:`flex-1 py-2.5 rounded-xl text-xs font-bold transition ${p==="add"?"bg-purple-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[u.jsx(bl,{className:"w-3.5 h-3.5 inline mr-1.5"}),a.length>0?"Add More":"Create Bank"]}),u.jsxs("button",{onClick:()=>y("reading"),className:`flex-1 py-2.5 rounded-xl text-xs font-bold transition ${p==="reading"?"bg-emerald-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[u.jsx(Ls,{className:"w-3.5 h-3.5 inline mr-1.5"}),"Study Material ",te?`(${te.sections.length})`:""]})]}),p==="manage"&&u.jsx("div",{className:"space-y-3",children:c?u.jsx("div",{className:"py-12 text-center",children:u.jsx(Pa,{className:"w-6 h-6 text-purple-400 animate-spin mx-auto"})}):a.length===0?u.jsxs("div",{className:"py-12 text-center",children:[u.jsx(Uw,{className:"w-10 h-10 text-gray-700 mx-auto mb-2"}),u.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"No questions yet"}),u.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"Switch to the Create Bank tab to get started."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[u.jsxs("div",{className:"relative flex-1 min-w-[150px]",children:[u.jsx(W$,{className:"w-3.5 h-3.5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),u.jsx("input",{value:O,onChange:Ie=>R(Ie.target.value),placeholder:"Search questions...",className:"w-full pl-9 pr-3 py-2 bg-black/30 border border-white/10 rounded-lg text-xs text-white placeholder-gray-600 outline-none focus:border-purple-500/50"})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>T(null),className:`px-2.5 py-1.5 rounded-lg text-[10px] font-bold transition ${b?"text-gray-500 hover:text-gray-300":"bg-white/10 text-white"}`,children:"All"}),[1,2,3].map(Ie=>u.jsxs("button",{onClick:()=>T(b===Ie?null:Ie),className:`px-2.5 py-1.5 rounded-lg text-[10px] font-bold transition ${b===Ie?`${vc[Ie].bg} ${vc[Ie].text} ${vc[Ie].border} border`:"text-gray-500 hover:text-gray-300"}`,children:["T",Ie," (",ct[Ie],")"]},Ie))]})]}),Object.keys(Wt).length>1&&u.jsx("div",{className:"flex gap-1 flex-wrap",children:Object.entries(Wt).sort((Ie,ue)=>ue[1]-Ie[1]).map(([Ie,ue])=>u.jsxs("button",{onClick:()=>w(S===Ie?null:Ie),className:`px-2 py-1 rounded-lg text-[9px] font-bold transition ${S===Ie?"bg-purple-500/20 text-purple-300 border border-purple-500/30":"bg-white/5 text-gray-500 hover:text-gray-300"}`,children:[lI[Ie]||Ie," (",ue,")"]},Ie))}),u.jsx("div",{className:"max-h-[350px] overflow-y-auto custom-scrollbar space-y-2 pr-1",children:nt.length===0?u.jsx("p",{className:"text-gray-600 text-xs text-center py-8",children:"No questions match your filters."}):nt.map(Ie=>{const ue=vc[Ie.tier]||vc[1],ze=C===Ie.id;return u.jsxs("div",{className:`rounded-xl border transition ${ze?`${ue.border} ${ue.bg}`:"border-white/5 bg-white/[0.02] hover:border-white/10"}`,children:[u.jsxs("div",{className:"flex items-start gap-2.5 p-3 cursor-pointer",onClick:()=>B(ze?null:Ie.id),children:[u.jsxs("div",{className:`w-6 h-6 rounded-md flex items-center justify-center shrink-0 text-[9px] font-black ${ue.bg} ${ue.text}`,children:["T",Ie.tier]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[u.jsx("span",{className:"text-[8px] text-gray-600 font-mono",children:Ie.id}),u.jsx("span",{className:"text-[8px] text-gray-600",children:""}),u.jsx("span",{className:"text-[8px] text-gray-500",children:lI[Ie.type]||Ie.type}),u.jsxs("span",{className:"text-[8px] text-yellow-500 font-bold ml-auto flex items-center gap-0.5",children:[u.jsx(Dn,{className:"w-2.5 h-2.5"}),Ie.xp]})]}),u.jsx("p",{className:"text-xs text-gray-300 leading-snug line-clamp-2",children:Ie.stem})]}),u.jsx(r0,{className:`w-3.5 h-3.5 text-gray-600 shrink-0 mt-1 transition-transform ${ze?"rotate-90":""}`})]}),ze&&u.jsxs("div",{className:"px-3 pb-3 space-y-2",children:[Ie.context&&u.jsx("div",{className:"text-[10px] text-gray-500 italic bg-black/20 rounded-lg p-2",children:Ie.context}),u.jsx("div",{className:"space-y-1",children:Ie.options.map(et=>{const yt=Array.isArray(Ie.correctAnswer)?Ie.correctAnswer.includes(et.id):Ie.correctAnswer===et.id;return u.jsxs("div",{className:`flex items-start gap-2 text-[11px] px-2 py-1.5 rounded-lg ${yt?"bg-emerald-500/10 text-emerald-300":"text-gray-400"}`,children:[u.jsxs("span",{className:"font-mono font-bold text-[10px] mt-0.5 shrink-0",children:[et.id.toUpperCase(),"."]}),u.jsx("span",{children:et.text}),yt&&u.jsx(pn,{className:"w-3 h-3 text-emerald-400 ml-auto shrink-0 mt-0.5"})]},et.id)})}),u.jsxs("div",{className:"text-[10px] text-gray-500 bg-black/20 rounded-lg p-2",children:[u.jsx("span",{className:"font-bold text-gray-400",children:"Explanation: "}),Ie.explanation]}),Ie.linkedFollowUp&&u.jsxs("div",{className:"text-[10px] text-blue-300/70 bg-blue-500/5 border border-blue-500/20 rounded-lg p-2",children:[u.jsx("span",{className:"font-bold",children:"Follow-up: "}),Ie.linkedFollowUp.stem]}),u.jsxs("button",{onClick:()=>Oe(Ie.id),disabled:f,className:"flex items-center gap-1.5 text-[10px] font-bold text-red-400 hover:text-red-300 bg-red-500/10 hover:bg-red-500/20 px-3 py-1.5 rounded-lg transition",children:[u.jsx(ji,{className:"w-3 h-3"})," Delete Question"]})]})]},Ie.id)})}),u.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-white/5",children:[u.jsxs("span",{className:"text-[10px] text-gray-600",children:["Showing ",nt.length," of ",a.length]}),u.jsxs("button",{onClick:Me,disabled:f,className:"text-[10px] font-bold text-red-400/60 hover:text-red-400 transition flex items-center gap-1",children:[u.jsx(ji,{className:"w-3 h-3"})," Clear Entire Bank"]})]})]})}),p==="add"&&u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[u.jsx("span",{className:"w-5 h-5 rounded-full bg-purple-600 text-white text-[10px] font-bold flex items-center justify-center",children:"1"}),"Generate with AI"]}),u.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed",children:"Copy the prompt, paste into ChatGPT/Gemini/Claude with your resource content (PDF, notes, etc)."}),u.jsx("button",{onClick:it,className:`w-full py-2.5 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition ${I?"bg-emerald-600 text-white":"bg-purple-600 hover:bg-purple-500 text-white"}`,children:I?u.jsxs(u.Fragment,{children:[u.jsx(pn,{className:"w-4 h-4"})," Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx(rT,{className:"w-4 h-4"})," Copy AI Prompt"]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[u.jsx("span",{className:"w-5 h-5 rounded-full bg-purple-600 text-white text-[10px] font-bold flex items-center justify-center",children:"2"}),"Upload JSON"]}),u.jsxs("p",{className:"text-[11px] text-gray-500 leading-relaxed",children:["Save the AI output as ",u.jsx("code",{className:"bg-black/40 px-1 py-0.5 rounded text-purple-300 text-[10px]",children:".json"})," and upload here."]}),u.jsxs("label",{className:"flex items-center justify-center gap-3 py-3 border-2 border-dashed border-white/15 rounded-xl hover:border-purple-500/50 hover:bg-purple-500/5 transition cursor-pointer",children:[u.jsx(uC,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Choose .json file"}),u.jsx("input",{ref:i,type:"file",accept:".json,.txt",onChange:We,className:"hidden"})]})]}),M&&u.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-3 flex items-start gap-2",children:[u.jsx(cs,{className:"w-4 h-4 text-red-400 shrink-0 mt-0.5"}),u.jsx("p",{className:"text-red-300/70 text-xs",children:M})]}),A&&u.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/30 rounded-xl p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pn,{className:"w-4 h-4 text-emerald-400"}),u.jsxs("span",{className:"text-emerald-400 font-bold text-sm",children:[A.length," questions parsed"]})]}),u.jsx("div",{className:"flex gap-3",children:[1,2,3].map(Ie=>u.jsxs("div",{className:"flex-1 bg-black/30 rounded-lg p-2 text-center",children:[u.jsx("div",{className:"text-base font-bold text-white",children:E[Ie]||0}),u.jsxs("div",{className:"text-[8px] text-gray-500 uppercase font-bold",children:["Tier ",Ie]})]},Ie))}),a.length>0&&u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>Y(!0),className:`flex-1 py-2 rounded-lg text-[10px] font-bold transition border ${z?"bg-purple-500/20 border-purple-500/30 text-purple-300":"border-white/10 text-gray-500 hover:text-gray-300"}`,children:[u.jsx(bl,{className:"w-3 h-3 inline mr-1"}),"Append to existing (",a.length," + ",A.length,")"]}),u.jsxs("button",{onClick:()=>Y(!1),className:`flex-1 py-2 rounded-lg text-[10px] font-bold transition border ${z?"border-white/10 text-gray-500 hover:text-gray-300":"bg-red-500/20 border-red-500/30 text-red-300"}`,children:[u.jsx(op,{className:"w-3 h-3 inline mr-1"}),"Replace all"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:Ve,disabled:f,className:"flex-1 py-2.5 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-700 text-white font-bold rounded-xl transition flex items-center justify-center gap-2 text-sm",children:[f?u.jsx(Pa,{className:"w-4 h-4 animate-spin"}):u.jsx(dp,{className:"w-4 h-4"}),f?"Saving...":`Upload ${A.length} Questions`]}),u.jsx("button",{onClick:()=>k(null),className:"px-4 py-2.5 bg-white/5 hover:bg-white/10 text-gray-400 rounded-xl transition",children:u.jsx(ji,{className:"w-4 h-4"})})]})]})]}),p==="reading"&&u.jsxs("div",{className:"space-y-5",children:[te?u.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/30 rounded-xl p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ls,{className:"w-4 h-4 text-emerald-400"}),u.jsx("span",{className:"text-emerald-400 font-bold text-sm",children:te.title})]}),u.jsxs("button",{onClick:ge,disabled:f,className:"text-[10px] font-bold text-red-400/60 hover:text-red-400 transition flex items-center gap-1",children:[u.jsx(ji,{className:"w-3 h-3"})," Remove"]})]}),te.description&&u.jsx("p",{className:"text-xs text-gray-400",children:te.description}),u.jsxs("div",{className:"flex gap-2 text-[10px] text-gray-500",children:[u.jsxs("span",{children:[te.sections.length," sections"]}),te.estimatedMinutes&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:""}),u.jsxs("span",{children:["~",te.estimatedMinutes," min read"]})]})]}),u.jsx("div",{className:"max-h-[200px] overflow-y-auto custom-scrollbar space-y-1.5 pr-1",children:te.sections.map((Ie,ue)=>u.jsxs("div",{className:"text-[11px] text-gray-400 bg-black/20 px-3 py-2 rounded-lg flex items-center gap-2",children:[u.jsx("span",{className:"w-5 h-5 rounded bg-emerald-500/10 text-emerald-400 text-[9px] font-bold flex items-center justify-center shrink-0",children:ue+1}),u.jsx("span",{className:"truncate",children:Ie.title})]},ue))})]}):u.jsxs("div",{className:"py-6 text-center",children:[u.jsx(Ls,{className:"w-10 h-10 text-gray-700 mx-auto mb-2"}),u.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"No study material yet"}),u.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"Upload reading material so students can study while working on this resource."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[u.jsx("span",{className:"w-5 h-5 rounded-full bg-emerald-600 text-white text-[10px] font-bold flex items-center justify-center",children:"1"}),"Generate with AI"]}),u.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed",children:"Copy the prompt, paste into ChatGPT/Gemini/Claude with your resource content. The AI will create reading material students can study for engagement XP."}),u.jsx("button",{onClick:Ee,className:`w-full py-2.5 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition ${X?"bg-emerald-600 text-white":"bg-emerald-600 hover:bg-emerald-500 text-white"}`,children:X?u.jsxs(u.Fragment,{children:[u.jsx(pn,{className:"w-4 h-4"})," Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx(rT,{className:"w-4 h-4"})," Copy Study Material Prompt"]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[u.jsx("span",{className:"w-5 h-5 rounded-full bg-emerald-600 text-white text-[10px] font-bold flex items-center justify-center",children:"2"}),"Upload Study Material JSON"]}),u.jsxs("label",{className:"flex items-center justify-center gap-3 py-3 border-2 border-dashed border-white/15 rounded-xl hover:border-emerald-500/50 hover:bg-emerald-500/5 transition cursor-pointer",children:[u.jsx(uC,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Choose .json file"}),u.jsx("input",{ref:ce,type:"file",accept:".json,.txt",onChange:He,className:"hidden"})]})]}),ye&&u.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-3 flex items-start gap-2",children:[u.jsx(cs,{className:"w-4 h-4 text-red-400 shrink-0 mt-0.5"}),u.jsx("p",{className:"text-red-300/70 text-xs",children:ye})]}),J&&u.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/30 rounded-xl p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pn,{className:"w-4 h-4 text-emerald-400"}),u.jsx("span",{className:"text-emerald-400 font-bold text-sm",children:J.title})]}),u.jsxs("p",{className:"text-xs text-gray-400",children:[J.sections.length," sections  ~",J.estimatedMinutes||"?"," min read"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:he,disabled:f,className:"flex-1 py-2.5 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-700 text-white font-bold rounded-xl transition flex items-center justify-center gap-2 text-sm",children:[f?u.jsx(Pa,{className:"w-4 h-4 animate-spin"}):u.jsx(dp,{className:"w-4 h-4"}),f?"Saving...":"Upload Study Material"]}),u.jsx("button",{onClick:()=>Q(null),className:"px-4 py-2.5 bg-white/5 hover:bg-white/10 text-gray-400 rounded-xl transition",children:u.jsx(ji,{className:"w-4 h-4"})})]})]})]}),f&&u.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 text-xs text-purple-400",children:[u.jsx(Pa,{className:"w-3 h-3 animate-spin"})," Saving..."]})]})}):null},cI=["Textbook","Simulation","Lab Guide","Practice Set","Article","Video Lesson","Supplemental"],ble={Textbook:u.jsx(Ls,{className:"w-4 h-4"}),Simulation:u.jsx(a8,{className:"w-4 h-4"}),"Lab Guide":u.jsx(bx,{className:"w-4 h-4"}),"Practice Set":u.jsx(go,{className:"w-4 h-4"}),Article:u.jsx(q$,{className:"w-4 h-4"}),"Video Lesson":u.jsx(Y$,{className:"w-4 h-4"}),Supplemental:u.jsx(l8,{className:"w-4 h-4"})},xle=({assignments:t,submissions:e,classConfigs:r,onCreateAssignment:n,onPreviewAssignment:i})=>{const a=Ii(),{confirm:s}=Zc(),[c,d]=F.useState(!1),[f,m]=F.useState(!1),[p,y]=F.useState(!1),[b,T]=F.useState("All Classes"),[S,w]=F.useState("All Categories"),[O,R]=F.useState(new Set),[C,B]=F.useState(null),[I,D]=F.useState({title:"",description:"",status:Xo.ACTIVE,unit:"Unit 1: Overview",category:"Textbook",htmlContent:"",resources:[]}),[A,k]=F.useState(new Set([Nr.AP_PHYSICS])),[E,U]=F.useState(!1),M=F.useMemo(()=>{const Q=Object.values(Nr).filter(se=>se!==Nr.UNCATEGORIZED),ye=(r||[]).map(se=>se.className);return Array.from(new Set(["All Classes",...Q,...ye]))},[r]),$=F.useMemo(()=>t.filter(Q=>{const ye=b==="All Classes"||Q.classType===b,se=S==="All Categories"||Q.category===S;return ye&&se}),[t,b,S]),z=F.useMemo(()=>{const Q={};return $.forEach(ye=>{const se=b==="All Classes"?`${ye.classType.toUpperCase()}  ${ye.unit||"Unassigned"}`:ye.unit||"Unassigned";Q[se]||(Q[se]=[]),Q[se].push(ye)}),Object.keys(Q).sort().reduce((ye,se)=>(ye[se]=Q[se],ye),{})},[$,b]),Y=async Q=>{if(Q.preventDefault(),A.size===0){a.error("Select a target class.");return}y(!0);try{f&&I.id?await n({...I,classType:Array.from(A)[0]}):await Promise.all(Array.from(A).map(ye=>n({...I,classType:ye}))),d(!1),m(!1)}catch(ye){console.error(ye)}finally{y(!1)}},te=Q=>{D(Q),k(new Set([Q.classType])),m(!0),d(!0)},K=async Q=>{const ye=Q.status===Xo.ACTIVE?Xo.ARCHIVED:Xo.ACTIVE;await $e.updateAssignmentStatus(Q.id,ye)},J=F.useMemo(()=>[...Array.isArray(e)?e:[]].sort((ye,se)=>{const X=new Date(ye.submittedAt||0).getTime();return new Date(se.submittedAt||0).getTime()-X}),[e]);return u.jsxs("div",{className:"space-y-8 pb-12",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"Admin System"}),u.jsx("p",{className:"text-gray-400",children:"Resource deployment and operational oversight."})]}),u.jsxs("button",{onClick:()=>{D({title:"",description:"",status:Xo.ACTIVE,unit:"Unit 1: Overview",category:"Textbook",htmlContent:"",contentUrl:"",resources:[]}),m(!1),d(!0)},className:"bg-purple-600 hover:bg-purple-500 text-white px-8 py-3 rounded-2xl shadow-xl transition-all font-bold flex items-center gap-2",children:[u.jsx(bl,{className:"w-5 h-5"})," Deploy Resource"]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[u.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-6",children:[u.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 flex flex-wrap items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:b,onChange:Q=>T(Q.target.value),className:"bg-black/20 text-white text-xs font-bold py-2 pl-3 pr-8 rounded-lg border border-white/10 appearance-none focus:outline-none",children:M.map(Q=>u.jsx("option",{value:Q,children:Q},Q))}),u.jsx(Bs,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-500 pointer-events-none"})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:S,onChange:Q=>w(Q.target.value),className:"bg-black/20 text-white text-xs font-bold py-2 pl-3 pr-8 rounded-lg border border-white/10 appearance-none focus:outline-none",children:[u.jsx("option",{value:"All Categories",children:"All Categories"}),cI.map(Q=>u.jsx("option",{value:Q,children:Q},Q))]}),u.jsx(Bs,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-500 pointer-events-none"})]})]}),u.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-3xl p-6 h-[600px] overflow-y-auto custom-scrollbar text-white",children:Object.entries(z).map(([Q,ye])=>u.jsxs("div",{className:"mb-6 last:mb-0",children:[u.jsxs("div",{className:"w-full flex items-center gap-3 py-2 mb-2 group",children:[u.jsx("button",{onClick:()=>{const se=new Set(O);se.has(Q)?se.delete(Q):se.add(Q),R(se)},className:"text-gray-400 hover:text-white transition",children:O.has(Q)?u.jsx(Bs,{className:"w-4 h-4"}):u.jsx(r0,{className:"w-4 h-4"})}),u.jsx("h3",{className:"text-[11px] font-bold uppercase tracking-[0.2em] text-gray-500 truncate",children:Q}),u.jsx("div",{className:"h-[1px] flex-1 bg-white/5 group-hover:bg-white/10 transition"})]}),!O.has(Q)&&u.jsx("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2 duration-300",children:ye.map(se=>u.jsxs("div",{className:`p-4 rounded-2xl border transition group flex justify-between items-center ${se.status===Xo.ARCHIVED?"bg-white/2 border-white/5 opacity-60":"bg-white/5 border-white/10 hover:border-purple-500/50"}`,children:[u.jsxs("div",{className:"flex items-center gap-4 min-w-0 pr-4 flex-1",children:[u.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${se.status===Xo.ACTIVE?"bg-purple-500/20 text-purple-400":"bg-gray-500/20 text-gray-500"}`,children:ble[se.category||"Supplemental"]}),u.jsxs("div",{className:"truncate flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[u.jsx("h4",{className:"font-bold text-gray-200 text-sm truncate flex-1",children:se.title}),u.jsx("span",{className:"text-[9px] text-gray-500 uppercase font-mono px-2 py-0.5 bg-black/40 rounded border border-white/5 flex-shrink-0 whitespace-nowrap",children:se.classType})]}),u.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:se.description})]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition duration-200 shrink-0",children:[u.jsx("button",{onClick:()=>B(se),className:"p-2 text-purple-400 hover:bg-purple-500/20 rounded-lg transition",title:"Question Bank",children:u.jsx(lh,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>i==null?void 0:i(se.id),className:"p-2 text-indigo-400 hover:bg-indigo-500/20 rounded-lg transition",children:u.jsx(oae,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>te(se),className:"p-2 text-gray-300 hover:bg-white/10 rounded-lg transition",children:u.jsx(dae,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>K(se),className:"p-2 text-yellow-400 hover:bg-yellow-500/20 rounded-lg transition",children:se.status===Xo.ACTIVE?u.jsx(Pie,{className:"w-4 h-4"}):u.jsx(lp,{className:"w-4 h-4"})}),u.jsx("button",{onClick:async()=>{await s({message:"Delete this resource permanently?",confirmLabel:"Delete"})&&await $e.deleteAssignment(se.id)},className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition",title:"Delete resource","aria-label":"Delete resource",children:u.jsx(ji,{className:"w-4 h-4"})})]})]},se.id))})]},Q))})]}),u.jsx("div",{className:"lg:col-span-4",children:u.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-3xl p-6 h-[710px] flex flex-col",children:[u.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-6",children:[u.jsx(ls,{className:"w-4 h-4 text-blue-400"})," Engagement Log"]}),u.jsxs("div",{className:"space-y-4 overflow-y-auto pr-2 custom-scrollbar flex-1",children:[J.length===0&&u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[u.jsx(ls,{className:"w-10 h-10 text-gray-700 mb-3"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"No engagement data yet"}),u.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"Activity will appear here as students complete resources."})]}),J.map(Q=>u.jsxs("div",{className:"bg-black/40 border border-white/5 p-4 rounded-2xl hover:bg-black/60 transition group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-bold text-gray-200 text-xs block truncate",children:Q.userName}),u.jsx("span",{className:"text-[10px] text-gray-500 font-medium uppercase tracking-tight line-clamp-1",children:Q.assignmentTitle})]}),u.jsxs("span",{className:"text-[10px] font-bold text-blue-400 bg-blue-900/30 px-2 py-1 rounded-full",children:[Math.round(Q.score)," XP"]})]}),u.jsxs("div",{className:"text-[9px] text-gray-600 mt-2 border-t border-white/5 pt-2 flex justify-between",children:[u.jsxs("span",{children:[Math.round(Q.metrics.engagementTime/60),"m active"]}),u.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition",children:new Date(Q.submittedAt||"").toLocaleDateString()})]})]},Q.id))]})]})})]}),u.jsx(Da,{isOpen:c,onClose:()=>d(!1),title:f?"Modify Resource":"Configure Deployment",maxWidth:"max-w-3xl",children:u.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Title"}),u.jsx("input",{required:!0,className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white placeholder-gray-500",value:I.title,onChange:Q=>D({...I,title:Q.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Unit"}),u.jsx("input",{required:!0,className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white placeholder-gray-500",value:I.unit,onChange:Q=>D({...I,unit:Q.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Category"}),u.jsx("select",{value:I.category,onChange:Q=>D({...I,category:Q.target.value}),className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white placeholder-gray-500",children:cI.map(Q=>u.jsx("option",{value:Q,children:Q},Q))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Target Classes"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:M.filter(Q=>Q!=="All Classes").map(Q=>u.jsx("button",{type:"button",onClick:()=>{const ye=new Set(A);ye.has(Q)?ye.size>1&&ye.delete(Q):ye.add(Q),k(ye)},className:`px-4 py-2 rounded-xl border text-xs font-bold transition ${A.has(Q)?"bg-purple-600 border-purple-600 text-white":"bg-black/30 border-white/10 text-gray-400"}`,children:Q},Q))})]}),u.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 p-5 rounded-2xl",children:[u.jsx("label",{className:"block text-sm font-bold text-purple-300 mb-2",children:"HTML Interactive Upload"}),u.jsx("input",{type:"file",accept:".html,.htm",className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-600 file:text-white",onChange:async Q=>{var ye;if((ye=Q.target.files)!=null&&ye[0]){U(!0);try{const se=await $e.uploadHtmlResource(Q.target.files[0]);D({...I,contentUrl:se}),a.success("File uploaded!")}catch(se){a.error("Upload failed: "+(se instanceof Error?se.message:"Unknown error"))}finally{U(!1)}}}}),E&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-purple-300 text-xs",children:[u.jsx(Pa,{className:"w-4 h-4 animate-spin"})," Uploading..."]}),!E&&I.contentUrl&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-emerald-400 text-xs",children:[u.jsx(kv,{className:"w-4 h-4"})," Resource uploaded"]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:["Description ",u.jsx("span",{className:"text-gray-600",children:"(optional)"})]}),u.jsx("textarea",{className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white placeholder-gray-500 resize-none h-20",placeholder:"Brief description for AI prompts and student context...",value:I.description,onChange:Q=>D({...I,description:Q.target.value})})]}),u.jsx("button",{type:"submit",disabled:p,className:"w-full bg-purple-600 text-white py-4 rounded-2xl font-bold shadow-xl flex items-center justify-center gap-2",children:p?u.jsx(Pa,{className:"w-5 h-5 animate-spin"}):"Commit Deployment"})]})}),C&&u.jsx(vle,{assignment:C,isOpen:!!C,onClose:()=>B(null)})]})},wle=["HEAD","CHEST","HANDS","FEET","BELT","AMULET","RING1","RING2"],_le=({user:t,onClose:e,onDeleteItem:r,onUnequipItem:n,onGrantFlux:i})=>{var a,s,c,d,f,m;return t?u.jsx(Da,{isOpen:!!t,onClose:e,title:"Inventory Inspection",maxWidth:"max-w-2xl",children:u.jsxs("div",{className:"space-y-6 text-gray-100 p-2",children:[u.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-4 rounded-2xl border border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:t.avatarUrl,className:"w-14 h-14 rounded-2xl border border-white/10",alt:t.name}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-white text-lg",children:t.name}),u.jsxs("div",{className:"text-[10px] font-black text-purple-400 mt-1 uppercase tracking-tighter",children:["Level ",((a=t.gamification)==null?void 0:a.level)||1]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Cyber-Flux"}),u.jsx("div",{className:"text-xl font-black text-cyan-400",children:((s=t.gamification)==null?void 0:s.currency)||0})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>i(t,100),className:"p-2 bg-green-500/10 text-green-400 rounded-lg hover:bg-green-500/20",title:"+100 Flux",children:u.jsx(bl,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>i(t,-100),className:"p-2 bg-red-500/10 text-red-400 rounded-lg hover:bg-red-500/20",title:"-100 Flux",children:u.jsx(us,{className:"w-4 h-4"})})]})]})]}),u.jsxs("div",{className:"border-b border-white/5 pb-6",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-3",children:"Active Loadout"}),u.jsx("div",{className:"flex gap-2 flex-wrap",children:wle.map(p=>{var b,T;const y=(T=(b=t.gamification)==null?void 0:b.equipped)==null?void 0:T[p];return u.jsx("div",{className:`w-16 h-16 rounded-xl border flex items-center justify-center relative group ${y?zr(y.rarity).border+" "+zr(y.rarity).bg:"border-white/10 bg-black/20"}`,children:y?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-[8px] text-center px-1 font-bold truncate w-full text-white/90",children:y.name}),u.jsx("button",{onClick:()=>n(t,p),className:"absolute top-[-5px] right-[-5px] bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition shadow-md",children:u.jsx(us,{className:"w-3 h-3"})})]}):u.jsx("span",{className:"text-[8px] text-gray-600",children:p})},p)})})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-3",children:"Stored Gear"}),u.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[(d=(c=t.gamification)==null?void 0:c.inventory)==null?void 0:d.map((p,y)=>u.jsxs("div",{className:`aspect-square rounded-xl border-2 flex flex-col items-center justify-center relative group p-1 bg-white/5 ${zr(p.rarity).border}`,children:[u.jsx("div",{className:`text-[8px] font-bold ${zr(p.rarity).text} text-center truncate w-full`,children:p.name}),u.jsx("div",{className:"text-[8px] text-gray-500",children:p.slot}),u.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center opacity-0 group-hover:opacity-100 transition rounded-xl",children:u.jsx("button",{onClick:()=>r(t,p),className:"p-2 text-red-400 hover:text-red-200",children:u.jsx(ji,{className:"w-4 h-4"})})})]},y)),(((m=(f=t.gamification)==null?void 0:f.inventory)==null?void 0:m.length)||0)===0&&u.jsx("div",{className:"col-span-6 text-center py-8 text-gray-500 italic",children:"Inventory Empty"})]})]})]})}):null},Sle=[10,50,100,-10,-50,-100],Tle=({user:t,onClose:e,onAdjust:r})=>{var s;const[n,i]=F.useState(50);if(!t)return null;const a=()=>{r(t,n),i(50)};return u.jsx(Da,{isOpen:!!t,onClose:e,title:"Manual XP Adjustment",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4 bg-black/20 p-4 rounded-2xl border border-white/5",children:[u.jsx("img",{src:t.avatarUrl,className:"w-14 h-14 rounded-2xl border border-white/10",alt:t.name}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-white text-lg",children:t.name}),u.jsx("p",{className:"text-xs text-gray-500",children:t.email}),u.jsxs("div",{className:"text-[10px] font-black text-purple-400 mt-1 uppercase tracking-tighter",children:["Current: ",((s=t.gamification)==null?void 0:s.xp)||0," XP"]})]})]}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:Sle.map(c=>u.jsx("button",{onClick:()=>i(c),className:`py-3 rounded-xl font-black transition-all border ${n===c?c>0?"bg-green-600 border-green-500 text-white":"bg-red-600 border-red-500 text-white":"bg-white/5 border-white/10 text-gray-400 hover:bg-white/10"}`,children:c>0?`+${c}`:c},c))}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest px-1",children:"Precise Adjustment"}),u.jsx("input",{type:"number",className:"w-full bg-black/40 border border-white/10 rounded-xl py-4 px-4 text-center text-2xl font-black text-white focus:outline-none focus:border-purple-500/50",value:n,onChange:c=>i(parseInt(c.target.value)||0)})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:e,className:"flex-1 py-4 bg-white/5 border border-white/10 text-gray-400 font-bold rounded-2xl hover:bg-white/10 transition",children:"Cancel"}),u.jsx("button",{onClick:a,className:"flex-1 py-4 bg-purple-600 text-white font-bold rounded-2xl hover:bg-purple-500 transition shadow-xl shadow-purple-900/20",children:"Apply Protocol"})]})]})})},Ale=({deployments:t,onResolveQuest:e,onRollForSalvation:r})=>u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4 px-2",children:"Active Field Deployments"}),t.length===0&&u.jsx("div",{className:"text-gray-500 italic text-center py-20 bg-black/20 rounded-3xl border border-white/5",children:"No active agents in the field."}),t.map((n,i)=>{const a=n.quest.type==="CUSTOM";return u.jsxs("div",{className:"bg-black/30 border border-white/10 rounded-2xl p-5 flex flex-col md:flex-row justify-between items-center gap-6 group hover:border-purple-500/30 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:n.user.avatarUrl,className:"w-12 h-12 rounded-xl border border-white/10 shadow-lg",alt:n.user.name}),u.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-black rounded-full shadow-lg"})]}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"font-bold text-white text-base truncate",children:n.user.name}),u.jsxs("div",{className:"text-[10px] text-purple-400 font-black uppercase tracking-tighter flex items-center gap-1.5",children:[u.jsx(go,{className:"w-3 h-3"}),n.quest.title]})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-end gap-6 w-full md:w-auto",children:[u.jsxs("div",{className:"text-center md:text-right",children:[u.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-500 mb-1",children:"Status"}),u.jsx("div",{className:`text-xs font-black px-2 py-0.5 rounded border ${n.status==="DEPLOYED"?"text-yellow-400 bg-yellow-500/10 border-yellow-500/20":"text-gray-300 bg-white/5 border-white/10"}`,children:n.status})]}),n.status==="DEPLOYED"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-center px-4 border-l border-white/5",children:[u.jsx("div",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-widest mb-1",children:a?"Manual Review":"Auto-Check"}),u.jsx("div",{className:`font-black text-sm tracking-tighter ${n.roll===100?"text-green-400":"text-orange-400"}`,children:a?"PENDING_HQ_SIG":n.roll===100?"SUCCESS_VERIFIED":"FAILURE_DETECTED"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[!a&&n.roll===0&&u.jsx("button",{onClick:()=>r(n),className:"p-2.5 bg-purple-600/20 text-purple-400 border border-purple-500/30 rounded-xl hover:bg-purple-600 hover:text-white transition shadow-lg shadow-purple-900/20 group/btn",title:"Initiate Salvation Protocol (Die Roll)",children:u.jsx(Fie,{className:"w-5 h-5 group-hover/btn:rotate-12 transition-transform"})}),u.jsx("div",{className:"h-8 w-px bg-white/5 mx-2"}),u.jsx("button",{onClick:()=>e(n.user.id,n.quest,!0,n.user.classType),className:"p-2.5 bg-green-600/20 text-green-400 border border-green-500/30 rounded-xl hover:bg-green-600 hover:text-white transition shadow-lg shadow-green-900/20",title:"Approve Submission",children:u.jsx(vx,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>e(n.user.id,n.quest,!1,n.user.classType),className:"p-2.5 bg-red-600/20 text-red-400 border border-red-500/30 rounded-xl hover:bg-red-600 hover:text-white transition shadow-lg shadow-red-900/20",title:"Reject Submission",children:u.jsx(us,{className:"w-5 h-5"})})]})]})]})]},i)})]}),uI={title:"",description:"",xpReward:250,fluxReward:50,type:"ENGAGEMENT",lootRarity:"",startsAt:"",durationHours:0,techReq:0,focusReq:0,analysisReq:0,charismaReq:0,dieSides:20,consequence:"",isGroup:!1},Ele=({isOpen:t,onClose:e,form:r,setForm:n,onSubmit:i,isSubmitting:a})=>u.jsx(Da,{isOpen:t,onClose:e,title:"Issue New Mission Objective",children:u.jsxs("form",{onSubmit:i,className:"space-y-4 text-gray-200 p-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Mission Codename"}),u.jsx("input",{value:r.title,onChange:s=>n({...r,title:s.target.value}),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold placeholder-gray-600 focus:border-purple-500 focus:outline-none",placeholder:"e.g. Operation Lab Rat"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Objective Briefing"}),u.jsx("textarea",{value:r.description,onChange:s=>n({...r,description:s.target.value}),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white placeholder-gray-600 resize-none h-20 focus:border-purple-500 focus:outline-none",placeholder:"Brief the operatives on their goal..."})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 bg-green-900/20 p-3 rounded-xl border border-green-500/30",children:[u.jsx("div",{className:"col-span-3 text-[10px] font-bold text-green-400 uppercase",children:"Mission Bounties"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold",children:"XP"}),u.jsx("input",{type:"number",value:r.xpReward,onChange:s=>n({...r,xpReward:parseInt(s.target.value)}),className:"w-full p-2 rounded-lg bg-black/40 border border-white/10 text-white text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold",children:"Flux"}),u.jsx("input",{type:"number",value:r.fluxReward,onChange:s=>n({...r,fluxReward:parseInt(s.target.value)}),className:"w-full p-2 rounded-lg bg-black/40 border border-white/10 text-white text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold",children:"Loot Drop"}),u.jsxs("select",{value:r.lootRarity,onChange:s=>n({...r,lootRarity:s.target.value}),className:"w-full p-2 rounded-lg bg-black/40 border border-white/10 text-white text-sm appearance-none",children:[u.jsx("option",{value:"",children:"None"}),u.jsx("option",{value:"COMMON",children:"Common"}),u.jsx("option",{value:"UNCOMMON",children:"Uncommon"}),u.jsx("option",{value:"RARE",children:"Rare"}),u.jsx("option",{value:"UNIQUE",children:"Unique"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Objective Category"}),u.jsxs("select",{value:r.type,onChange:s=>n({...r,type:s.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold focus:border-purple-500 focus:outline-none",children:[u.jsx("option",{value:"REVIEW_QUESTIONS",children:"Answer Review Questions"}),u.jsx("option",{value:"ENGAGEMENT",children:"Resource Engagement Time"}),u.jsx("option",{value:"STUDY_MATERIAL",children:"Study Material Reading"}),u.jsx("option",{value:"SKILL_CHECK",children:"Agent Skill Check"}),u.jsx("option",{value:"CUSTOM",children:"Manual Verification"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Starts At"}),u.jsx("input",{type:"datetime-local",value:r.startsAt,onChange:s=>n({...r,startsAt:s.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold focus:border-purple-500 focus:outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Duration (Hours)"}),u.jsx("input",{type:"number",value:r.durationHours,onChange:s=>n({...r,durationHours:parseInt(s.target.value)}),placeholder:"0 (Infinite)",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold focus:border-purple-500 focus:outline-none"})]})]}),u.jsxs("div",{className:"border-t border-white/10 pt-4",children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-3 px-1",children:"Skill Check Parameters (Optional)"}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[u.jsx("div",{children:u.jsx("input",{type:"number",placeholder:"Tech",value:r.techReq||"",onChange:s=>n({...r,techReq:parseInt(s.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-center text-sm text-white"})}),u.jsx("div",{children:u.jsx("input",{type:"number",placeholder:"Focus",value:r.focusReq||"",onChange:s=>n({...r,focusReq:parseInt(s.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-center text-sm text-white"})}),u.jsx("div",{children:u.jsx("input",{type:"number",placeholder:"Analysis",value:r.analysisReq||"",onChange:s=>n({...r,analysisReq:parseInt(s.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-center text-sm text-white"})}),u.jsx("div",{children:u.jsx("input",{type:"number",placeholder:"Charisma",value:r.charismaReq||"",onChange:s=>n({...r,charismaReq:parseInt(s.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-center text-sm text-white"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[9px] text-gray-500 uppercase font-bold",children:"Failure Die (D-X)"}),u.jsx("input",{type:"number",value:r.dieSides,onChange:s=>n({...r,dieSides:parseInt(s.target.value)}),className:"w-full p-2 bg-black/40 border border-white/10 rounded-lg text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[9px] text-gray-500 uppercase font-bold",children:"Consequence Text"}),u.jsx("input",{type:"text",value:r.consequence,onChange:s=>n({...r,consequence:s.target.value}),placeholder:"e.g. detention",className:"w-full p-2 bg-black/40 border border-white/10 rounded-lg text-white"})]})]}),u.jsx("div",{className:"mt-3",children:u.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400",children:[u.jsx("input",{type:"checkbox",checked:r.isGroup,onChange:s=>n({...r,isGroup:s.target.checked}),className:"rounded bg-black/40 border-white/10 text-purple-600"})," Group Mission (Requires multiple agents)"]})})]}),u.jsx("button",{type:"submit",disabled:a,className:"w-full bg-purple-600 text-white font-bold py-4 rounded-2xl shadow-xl transition-all hover:bg-purple-700 disabled:opacity-50",children:a?"Transmitting...":"Broadcast Mission"})]})}),Nle=({users:t})=>{const e=Ii(),{confirm:r}=Zc(),[n,i]=F.useState("OPERATIVES"),[a,s]=F.useState(""),[c,d]=F.useState("All Classes"),[f,m]=F.useState("All Sections"),[p,y]=F.useState("XP_DESC"),[b,T]=F.useState([]),[S,w]=F.useState([]),[O,R]=F.useState(null),[C,B]=F.useState(null),[I,D]=F.useState(!1),[A,k]=F.useState(!1),[E,U]=F.useState(uI),[M,$]=F.useState(!1),[z,Y]=F.useState([]),[te,K]=F.useState({title:"",multiplier:2,type:"GLOBAL",targetClass:Nr.AP_PHYSICS});F.useEffect(()=>{const he=$e.subscribeToXPEvents(T),ge=$e.subscribeToQuests(w);return()=>{he(),ge()}},[]),F.useEffect(()=>{const he=[];t.forEach(ge=>{var We,Ve;(Ve=(We=ge.gamification)==null?void 0:We.activeQuests)==null||Ve.forEach(nt=>{const ct=S.find(Wt=>Wt.id===nt.questId);ct&&(nt.status==="DEPLOYED"||nt.status==="ACCEPTED")&&he.push({user:ge,quest:ct,status:nt.status,roll:nt.deploymentRoll,acceptedAt:nt.acceptedAt})})}),Y(he)},[t,S,n]);const J=F.useMemo(()=>t.filter(he=>he.role==="STUDENT"),[t]),Q=F.useMemo(()=>{const he=new Set;return J.forEach(ge=>{ge.section&&he.add(ge.section)}),Array.from(he).sort()},[J]),ye=F.useMemo(()=>J.filter(he=>{var nt;const ge=he.name.toLowerCase().includes(a.toLowerCase())||he.email.toLowerCase().includes(a.toLowerCase()),We=c==="All Classes"||he.classType===c||((nt=he.enrolledClasses)==null?void 0:nt.includes(c)),Ve=f==="All Sections"||he.section===f;return ge&&We&&Ve}).sort((he,ge)=>{var We,Ve,nt,ct;return p==="XP_DESC"?(((We=ge.gamification)==null?void 0:We.xp)||0)-(((Ve=he.gamification)==null?void 0:Ve.xp)||0):p==="XP_ASC"?(((nt=he.gamification)==null?void 0:nt.xp)||0)-(((ct=ge.gamification)==null?void 0:ct.xp)||0):he.name.localeCompare(ge.name)}),[J,a,c,f,p]),se=async(he,ge)=>{try{await $e.adjustUserXP(he.id,ge,he.classType||Nr.UNCATEGORIZED),e.success(`${ge>0?"+":""}${ge} XP applied to ${he.name}.`)}catch{e.error("Failed to adjust XP.")}R(null)},X=async he=>{he.preventDefault(),await $e.saveXPEvent({id:Math.random().toString(36).substring(2,9),title:te.title,multiplier:te.multiplier,isActive:!0,type:te.type,targetClass:te.type==="CLASS_SPECIFIC"?te.targetClass:void 0}),D(!1),K({title:"",multiplier:2,type:"GLOBAL",targetClass:Nr.AP_PHYSICS})},ee=async he=>{he.preventDefault(),$(!0);try{const ge={};E.techReq>0&&(ge.tech=E.techReq),E.focusReq>0&&(ge.focus=E.focusReq),E.analysisReq>0&&(ge.analysis=E.analysisReq),E.charismaReq>0&&(ge.charisma=E.charismaReq);const We=new Date;We.setHours(We.getHours()+(E.durationHours||0));const Ve={id:Math.random().toString(36).substring(2,9),title:E.title,description:E.description,xpReward:E.xpReward,fluxReward:E.fluxReward,isActive:!0,type:E.type,statRequirements:ge,startsAt:E.startsAt?new Date(E.startsAt).toISOString():null,expiresAt:E.durationHours>0?We.toISOString():null,itemRewardRarity:E.lootRarity||null,rollDieSides:E.dieSides||20,consequenceText:E.consequence||null,isGroupQuest:E.isGroup};await $e.saveQuest(Ve),e.success(`Mission "${Ve.title}" deployed.`),U(uI),k(!1)}catch(ge){console.error("Failed to issue mission:",ge),e.error("Failed to issue mission.")}finally{$(!1)}},ce=async he=>{await $e.saveXPEvent({...he,isActive:!he.isActive})},Ne=async he=>{await $e.saveQuest({...he,isActive:!he.isActive})},oe=async(he,ge)=>{var Ve,nt;if(!await r({message:`Confiscate ${ge.name} from ${he.name}? This cannot be undone.`,confirmLabel:"Confiscate"}))return;const We=(((Ve=he.gamification)==null?void 0:Ve.inventory)||[]).filter(ct=>ct.id!==ge.id);await $e.adminUpdateInventory(he.id,We,((nt=he.gamification)==null?void 0:nt.currency)||0),B(ct=>ct?{...ct,gamification:{...ct.gamification,inventory:We}}:null)},Oe=async(he,ge)=>{var Ve;if(!await r({message:`Force unequip ${ge} from ${he.name}?`,confirmLabel:"Unequip",variant:"warning"}))return;const We={...(Ve=he.gamification)==null?void 0:Ve.equipped};delete We[ge],await $e.adminUpdateEquipped(he.id,We),B(nt=>nt?{...nt,gamification:{...nt.gamification,equipped:We}}:null)},Me=async(he,ge)=>{var Ve,nt;const We=Math.max(0,(((Ve=he.gamification)==null?void 0:Ve.currency)||0)+ge);await $e.adminUpdateInventory(he.id,((nt=he.gamification)==null?void 0:nt.inventory)||[],We),B(ct=>ct?{...ct,gamification:{...ct.gamification,currency:We}}:null)},it=async(he,ge,We,Ve)=>{try{await $e.resolveQuest(he,ge,We,Ve),e.success(We?`Mission "${ge.title}" approved.`:`Mission "${ge.title}" rejected.`)}catch{e.error("Failed to resolve mission.")}},Ee=async he=>{const ge=he.quest.rollDieSides||20,We=Math.floor(Math.random()*ge)+1;e.info(`Rolled a ${We} on a D${ge}. ${We===ge?"CRITICAL SUCCESS!":"Failure confirmed."}`),await it(he.user.id,he.quest,We===ge,he.user.classType)},He=({id:he,label:ge,icon:We})=>u.jsxs("button",{onClick:()=>i(he),className:`px-6 py-4 flex items-center gap-2 border-b-2 font-bold transition-all ${n===he?"border-purple-500 text-purple-400 bg-purple-500/5":"border-transparent text-gray-500 hover:text-gray-300"}`,children:[u.jsx(We,{className:"w-4 h-4"}),ge]});return u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Gamification Command"}),u.jsx("p",{className:"text-gray-400",children:"Manage operative progression, rewards, and active engagement boosters."})]}),u.jsxs("div",{className:"flex gap-2",children:[n==="PROTOCOLS"&&u.jsxs("button",{onClick:()=>D(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-xl font-bold flex items-center gap-2 transition shadow-lg shadow-blue-900/20",children:[u.jsx(fae,{className:"w-4 h-4"})," Deploy Protocol"]}),n==="MISSIONS"&&u.jsxs("button",{onClick:()=>k(!0),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-xl font-bold flex items-center gap-2 transition shadow-lg shadow-purple-900/20",children:[u.jsx(Bie,{className:"w-4 h-4"})," Issue Mission"]})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl overflow-hidden backdrop-blur-md",children:[u.jsxs("div",{className:"flex bg-black/20 border-b border-white/5 overflow-x-auto custom-scrollbar",children:[u.jsx(He,{id:"OPERATIVES",label:"Operatives",icon:ss}),u.jsx(He,{id:"PROTOCOLS",label:"XP Protocols",icon:Dn}),u.jsx(He,{id:"MISSIONS",label:"Missions",icon:go}),u.jsx(He,{id:"MISSION_CONTROL",label:"Mission Control",icon:Bd})]}),u.jsxs("div",{className:"p-6",children:[n==="OPERATIVES"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(W$,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),u.jsx("input",{type:"text",placeholder:"Search name, operative ID or email...",className:"w-full bg-black/40 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white focus:outline-none focus:border-purple-500/50 transition",value:a,onChange:he=>s(he.target.value)})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Wie,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-500"}),u.jsxs("select",{value:c,onChange:he=>d(he.target.value),className:"bg-black/40 border border-white/10 rounded-xl py-3 pl-10 pr-10 text-white text-sm font-bold appearance-none focus:outline-none focus:border-purple-500/50",children:[u.jsx("option",{children:"All Classes"}),Object.values(Nr).map(he=>u.jsx("option",{value:he,children:he},he))]}),u.jsx(Bs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]}),Q.length>0&&u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:f,onChange:he=>m(he.target.value),className:"bg-black/40 border border-white/10 rounded-xl py-3 px-4 text-white text-sm font-bold appearance-none focus:outline-none focus:border-purple-500/50",children:[u.jsx("option",{children:"All Sections"}),Q.map(he=>u.jsx("option",{value:he,children:he},he))]}),u.jsx(Bs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]}),u.jsx("div",{className:"relative",children:u.jsxs("select",{value:p,onChange:he=>y(he.target.value),className:"bg-black/40 border border-white/10 rounded-xl py-3 px-4 text-white text-sm font-bold appearance-none focus:outline-none focus:border-purple-500/50",children:[u.jsx("option",{value:"XP_DESC",children:"Highest XP"}),u.jsx("option",{value:"XP_ASC",children:"Lowest XP"}),u.jsx("option",{value:"NAME",children:"Alphabetical"})]})})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest border-b border-white/5",children:[u.jsx("th",{className:"pb-4 pl-4",children:"Operative"}),u.jsx("th",{className:"pb-4",children:"Status"}),u.jsx("th",{className:"pb-4 text-center",children:"XP Points"}),u.jsx("th",{className:"pb-4 text-center",children:"Gear Score"}),u.jsx("th",{className:"pb-4 text-right pr-4",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:ye.map(he=>{var ge,We,Ve,nt;return u.jsxs("tr",{className:"group hover:bg-white/5 transition-colors",children:[u.jsx("td",{className:"py-4 pl-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:he.avatarUrl,className:"w-10 h-10 rounded-xl border border-white/10",alt:he.name}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-gray-200",children:he.name}),u.jsx("div",{className:"text-[10px] font-mono text-gray-500 uppercase",children:((ge=he.gamification)==null?void 0:ge.codename)||"UNASSIGNED"})]})]})}),u.jsx("td",{className:"py-4",children:u.jsx("span",{className:"text-[10px] bg-purple-500/10 text-purple-400 px-2 py-1 rounded border border-purple-500/20 font-bold uppercase",children:he.classType})}),u.jsxs("td",{className:"py-4 text-center",children:[u.jsx("div",{className:"text-xl font-black text-white",children:((Ve=(We=he.gamification)==null?void 0:We.xp)==null?void 0:Ve.toLocaleString())||0}),u.jsx("div",{className:"text-[8px] text-gray-500 font-bold uppercase tracking-tighter",children:"Accumulated XP"})]}),u.jsx("td",{className:"py-4 text-center",children:u.jsx("span",{className:"text-sm font-bold text-yellow-400 bg-yellow-900/20 px-2 py-1 rounded border border-yellow-500/20",children:bg((nt=he.gamification)==null?void 0:nt.equipped)})}),u.jsx("td",{className:"py-4 text-right pr-4",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>B(he),className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg hover:bg-blue-500/20 transition border border-blue-500/20",title:"Inspect Inventory",children:u.jsx(Bd,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>R(he),className:"p-2 bg-green-500/10 text-green-400 rounded-lg hover:bg-green-500/20 transition border border-green-500/20",title:"Adjust XP",children:u.jsx(bl,{className:"w-4 h-4"})})]})})]},he.id)})})]})})]}),n==="PROTOCOLS"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[b.map(he=>u.jsxs("div",{className:`p-6 rounded-3xl border transition-all relative overflow-hidden ${he.isActive?"bg-blue-600/10 border-blue-500/30 ring-1 ring-blue-500/20 shadow-lg shadow-blue-900/10":"bg-black/20 border-white/10 opacity-60"}`,children:[he.isActive&&u.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1.5 px-2 py-1 rounded bg-blue-500 text-white text-[9px] font-black uppercase tracking-widest animate-pulse",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"}),"LIVE"]}),u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${he.isActive?"bg-blue-500 text-white":"bg-gray-800 text-gray-400"}`,children:u.jsx(Dn,{className:"w-6 h-6"})}),u.jsx("button",{onClick:()=>$e.deleteXPEvent(he.id),className:"p-2 text-gray-600 hover:text-red-400 transition",children:u.jsx(ji,{className:"w-4 h-4"})})]}),u.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:he.title}),u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsxs("span",{className:"text-3xl font-black text-blue-400",children:[he.multiplier,"x"]}),u.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest",children:"Multiplier"})]}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/5",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:he.type==="GLOBAL"?"Global Uplink":he.targetClass}),u.jsx("button",{onClick:()=>ce(he),className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest transition-all ${he.isActive?"bg-green-500 text-white":"bg-gray-700 text-gray-300"}`,children:he.isActive?"Active":"Offline"})]})]},he.id)),u.jsxs("button",{onClick:()=>D(!0),className:"p-6 rounded-3xl border-2 border-dashed border-white/10 hover:border-blue-500/30 hover:bg-blue-500/5 transition-all flex flex-col items-center justify-center gap-3 text-gray-500 hover:text-blue-400 min-h-[220px]",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center",children:u.jsx(bl,{className:"w-6 h-6"})}),u.jsx("span",{className:"font-bold uppercase tracking-widest text-xs",children:"Initialize Protocol"})]})]}),n==="MISSIONS"&&u.jsx("div",{className:"space-y-4",children:S.map(he=>u.jsxs("div",{className:`p-5 rounded-2xl border flex items-center justify-between transition-all ${he.isActive?"bg-purple-600/10 border-purple-500/30":"bg-black/20 border-white/10 opacity-60"}`,children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${he.isActive?"bg-purple-600 text-white shadow-lg shadow-purple-900/40":"bg-gray-800 text-gray-400"}`,children:u.jsx(y0,{className:"w-7 h-7"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-lg text-white",children:he.title}),u.jsx("p",{className:"text-sm text-gray-500",children:he.description}),he.statRequirements&&u.jsx("div",{className:"flex gap-2 mt-2",children:Object.entries(he.statRequirements).map(([ge,We])=>u.jsxs("span",{className:"text-[9px] bg-white/10 px-2 py-0.5 rounded text-gray-300 uppercase font-mono border border-white/10",children:[We," ",ge]},ge))}),u.jsxs("div",{className:"flex gap-3 mt-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-purple-400 bg-purple-900/30 px-2 py-0.5 rounded border border-purple-500/20",children:he.type}),u.jsxs("span",{className:"text-[10px] font-bold text-green-400 bg-green-900/30 px-2 py-0.5 rounded border border-green-500/20",children:["+",he.xpReward," XP"]}),he.itemRewardRarity&&u.jsx("span",{className:"text-[10px] font-bold text-yellow-400 bg-yellow-900/30 px-2 py-0.5 rounded border border-purple-500/20",children:"LOOT DROP"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("button",{onClick:()=>Ne(he),className:`w-12 h-6 rounded-full relative transition-colors duration-200 focus:outline-none ${he.isActive?"bg-purple-600":"bg-gray-700"}`,children:u.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 rounded-full bg-white transition-transform duration-200 ${he.isActive?"translate-x-6":""}`})}),u.jsx("span",{className:"block text-[8px] font-bold text-gray-600 uppercase mt-1 tracking-widest",children:he.isActive?"Active":"Standby"})]}),u.jsx("button",{onClick:()=>$e.deleteQuest(he.id),className:"p-2 text-gray-600 hover:text-red-400 transition",children:u.jsx(ji,{className:"w-4 h-4"})})]})]},he.id))}),n==="MISSION_CONTROL"&&u.jsx(Ale,{deployments:z,onResolveQuest:it,onRollForSalvation:Ee})]})]}),u.jsx(_le,{user:C,onClose:()=>B(null),onDeleteItem:oe,onUnequipItem:Oe,onGrantFlux:Me}),u.jsx(Ele,{isOpen:A,onClose:()=>k(!1),form:E,setForm:U,onSubmit:ee,isSubmitting:M}),u.jsx(Da,{isOpen:I,onClose:()=>D(!1),title:"New XP Protocol Deployment",children:u.jsxs("form",{onSubmit:X,className:"space-y-4 text-gray-100 p-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Protocol Title"}),u.jsx("input",{value:te.title,onChange:he=>K({...te,title:he.target.value}),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold",placeholder:"e.g. Double XP Weekend"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Multiplier"}),u.jsx("input",{type:"number",step:"0.5",value:te.multiplier,onChange:he=>K({...te,multiplier:parseFloat(he.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Uplink Type"}),u.jsxs("select",{value:te.type,onChange:he=>K({...te,type:he.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold",children:[u.jsx("option",{value:"GLOBAL",children:"Global Node"}),u.jsx("option",{value:"CLASS_SPECIFIC",children:"Class Sub-Node"})]})]})]}),te.type==="CLASS_SPECIFIC"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Target Sub-Node"}),u.jsx("select",{value:te.targetClass,onChange:he=>K({...te,targetClass:he.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold",children:Object.values(Nr).map(he=>u.jsx("option",{value:he,children:he},he))})]}),u.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-4 rounded-2xl shadow-xl transition-all hover:bg-blue-700",children:"Initiate Uplink"})]})}),u.jsx(Tle,{user:O,onClose:()=>R(null),onAdjust:se})]})},Ole={FORCE:{src:"/tools/force-diagram.html",label:"Free Body Diagram Builder",icon:u.jsx(H$,{className:"w-4 h-4"}),color:"green",hoverBg:"hover:bg-green-600",iconBg:"bg-green-600/20",iconText:"text-green-400"},BAR:{src:"/tools/bar-chart.html",label:"Conservation of Energy (LOL) Chart",icon:u.jsx(V$,{className:"w-4 h-4"}),color:"blue",hoverBg:"hover:bg-blue-600",iconBg:"bg-blue-600/20",iconText:"text-blue-400"},GRAPHER:{src:"/tools/grapher.html",label:"AP Physics Grapher Pro",icon:u.jsx(X$,{className:"w-4 h-4"}),color:"purple",hoverBg:"hover:bg-purple-600",iconBg:"bg-purple-600/20",iconText:"text-purple-400"}},kle=({onToggleChat:t})=>{const[e,r]=F.useState(null),[n,i]=F.useState(!1),a=c=>{e===c?r(null):(r(c),i(!1))};if(!e)return u.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-3 items-end",children:[u.jsxs("button",{onClick:()=>a("GRAPHER"),className:"bg-white/10 hover:bg-purple-600 text-white p-3 rounded-full shadow-lg backdrop-blur-md border border-white/20 transition-all hover:scale-110 group relative",title:"Physics Grapher",children:[u.jsx(X$,{className:"w-6 h-6"}),u.jsx("span",{className:"absolute right-full mr-2 bg-black/80 px-2 py-1 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition pointer-events-none",children:"Grapher Pro"})]}),u.jsxs("button",{onClick:()=>a("BAR"),className:"bg-white/10 hover:bg-blue-600 text-white p-3 rounded-full shadow-lg backdrop-blur-md border border-white/20 transition-all hover:scale-110 group relative",title:"LOL Diagrams",children:[u.jsx(V$,{className:"w-6 h-6"}),u.jsx("span",{className:"absolute right-full mr-2 bg-black/80 px-2 py-1 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition pointer-events-none",children:"LOL Charts"})]}),u.jsxs("button",{onClick:()=>a("FORCE"),className:"bg-white/10 hover:bg-green-600 text-white p-3 rounded-full shadow-lg backdrop-blur-md border border-white/20 transition-all hover:scale-110 group relative",title:"Force Diagrams",children:[u.jsx(H$,{className:"w-6 h-6"}),u.jsx("span",{className:"absolute right-full mr-2 bg-black/80 px-2 py-1 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition pointer-events-none",children:"Force Diagram"})]}),t&&u.jsxs("button",{onClick:t,className:"bg-white/10 hover:bg-[#5865F2] text-white p-3 rounded-full shadow-lg backdrop-blur-md border border-white/20 transition-all hover:scale-110 group relative",title:"Class Chat",children:[u.jsx(aT,{className:"w-6 h-6"}),u.jsx("span",{className:"absolute right-full mr-2 bg-black/80 px-2 py-1 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition pointer-events-none",children:"Class Comms"})]})]});const s=Ole[e];return u.jsxs("div",{className:`fixed z-50 bg-[#1e1e1e] border border-white/20 shadow-2xl transition-all duration-300 overflow-hidden flex flex-col ${n?"w-64 h-12 bottom-6 right-6 rounded-xl":"inset-4 md:inset-10 rounded-2xl"}`,children:[u.jsxs("div",{className:"bg-[#2d2d2d] p-3 flex justify-between items-center border-b border-white/10",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`p-1.5 rounded-lg ${s.iconBg} ${s.iconText}`,children:s.icon}),u.jsx("span",{className:"font-bold text-white text-sm",children:s.label})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>i(!n),className:"p-1.5 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition",children:n?u.jsx(F$,{className:"w-4 h-4"}):u.jsx(sae,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>r(null),className:"p-1.5 hover:bg-red-500/20 rounded-lg text-gray-400 hover:text-red-400 transition",children:u.jsx(us,{className:"w-4 h-4"})})]})]}),!n&&u.jsx("div",{className:"flex-1 bg-white relative",children:u.jsx("iframe",{src:s.src,className:"w-full h-full border-none",title:s.label,sandbox:"allow-scripts allow-same-origin allow-modals allow-downloads allow-forms"})})]})},jle=["","","","","","","",""],Cle=["","","","","","","","","","","","","","","","","","","","","","","","","",""],Ile=({user:t,isOpen:e,onClose:r,assignments:n,classConfigs:i,onOpenResource:a})=>{var Ne;const{confirm:s}=Zc(),[c,d]=F.useState([]),[f,m]=F.useState(""),[p,y]=F.useState("Main"),[b,T]=F.useState(!1),[S,w]=F.useState(!1),[O,R]=F.useState(null),[C,B]=F.useState(null),[I,D]=F.useState([]),A=F.useRef(null),k=F.useRef(null),E=F.useMemo(()=>Object.values(Nr).filter(oe=>{var Ee;if(oe===Nr.UNCATEGORIZED)return!1;if(t.role==="ADMIN")return!0;const Oe=i.find(He=>He.className===oe),Me=(Ee=t.enrolledClasses)==null?void 0:Ee.includes(oe),it=Oe?Oe.features.communications:!0;return Me&&it}),[i,t.role,t.enrolledClasses]),[U,M]=F.useState(E[0]||""),$=F.useMemo(()=>p==="Resources"&&C?`res_${C}`:p==="Resources"&&!C||!U?"":`class_${U.replace(/\s+/g,"_").toLowerCase()}`,[U,p,C]),z=F.useRef(null),Y=F.useMemo(()=>n.filter(oe=>oe.classType===U&&oe.status!=="DRAFT"),[n,U]),te=F.useMemo(()=>c.filter(oe=>{var Oe;return oe.isGlobalPinned||((Oe=oe.pinnedBy)==null?void 0:Oe.includes(t.id))}),[c,t.id]),K=F.useMemo(()=>t.mutedUntil?new Date(t.mutedUntil)>new Date:!1,[t.mutedUntil]);F.useEffect(()=>{if(!e)return;let oe="";if(p==="Resources"&&C?oe=`res_${C}`:(p==="Main"||p==="Bookmarks")&&(oe=`class_${U.replace(/\s+/g,"_").toLowerCase()}`),!oe)return;T(!0);const Oe=$e.subscribeToChannelMessages(oe,Me=>{d(Me),T(!1)});return()=>{Oe()}},[e,U,p,C]),F.useEffect(()=>{if(!e||t.role!=="ADMIN")return;const oe=$e.subscribeToFlaggedMessages(Oe=>{D(Oe)});return()=>oe()},[e,t.role]),F.useEffect(()=>{z.current&&(z.current.scrollTop=z.current.scrollHeight)},[c,b,p,C]),F.useEffect(()=>{const oe=Oe=>{A.current&&!A.current.contains(Oe.target)&&w(!1),k.current&&!k.current.contains(Oe.target)&&R(null)};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[]),F.useEffect(()=>{if(!e)return;const oe=Oe=>{Oe.key==="Escape"&&r()};return window.addEventListener("keydown",oe),()=>window.removeEventListener("keydown",oe)},[e,r]);const J=F.useCallback(async oe=>{if(oe.preventDefault(),!(!f.trim()||!$)&&!K)try{await $e.sendMessage(t,f,$,U),m(""),w(!1)}catch(Oe){console.error("Failed to send message:",Oe)}},[f,$,K,t,U]),Q=F.useCallback(async(oe,Oe)=>{try{await $e.toggleReaction(oe,Oe,t.id),R(null)}catch(Me){console.error(Me)}},[t.id]),ye=F.useCallback(async oe=>{try{await $e.togglePersonalPin(oe,t.id)}catch(Oe){console.error(Oe)}},[t.id]),se=F.useCallback(async(oe,Oe)=>{try{await $e.toggleGlobalPin(oe,!Oe)}catch(Me){console.error(Me)}},[]),X=async oe=>{if(await s({message:"Permanently delete this message?",confirmLabel:"Delete"}))try{await $e.deleteMessage(oe)}catch(Oe){console.error(Oe)}},ee=async oe=>{try{await $e.unflagMessage(oe),await $e.resolveFlagByMessageId(oe)}catch(Oe){console.error(Oe)}},ce=async oe=>{if(await s({message:"Delete this flagged message?",confirmLabel:"Delete"}))try{await $e.resolveFlagByMessageId(oe),await $e.deleteMessage(oe)}catch(Oe){console.error(Oe)}};return e?u.jsxs("div",{className:"fixed bottom-0 right-0 md:bottom-6 md:right-6 w-full md:w-[420px] h-[650px] z-[60] font-sans animate-in slide-in-from-bottom-10 duration-500 shadow-2xl flex flex-col bg-black/40 backdrop-blur-xl border border-white/10 md:rounded-3xl overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 border-b border-white/5 backdrop-blur-md z-10",children:[u.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[p==="Resources"&&C?u.jsx("button",{onClick:()=>B(null),className:"p-2 hover:bg-white/10 rounded-full transition text-gray-300",children:u.jsx(zie,{className:"w-5 h-5"})}):u.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center shadow-lg text-white shrink-0",children:u.jsx(aT,{className:"w-5 h-5"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h3",{className:"font-bold text-white text-sm truncate leading-tight",children:p==="Moderation"?"Moderation Queue":p==="Resources"?C?(Ne=Y.find(oe=>oe.id===C))==null?void 0:Ne.title:"Class Resources":U}),p!=="Resources"&&p!=="Moderation"&&E.length>1&&u.jsxs("div",{className:"relative group flex items-center cursor-pointer",children:[u.jsx("span",{className:"text-[10px] text-gray-400 font-medium uppercase tracking-wider truncate",children:U}),u.jsx(Bs,{className:"w-3 h-3 text-gray-500 ml-1"}),u.jsx("select",{className:"absolute inset-0 opacity-0 cursor-pointer",value:U,onChange:oe=>M(oe.target.value),children:E.map(oe=>u.jsx("option",{value:oe,children:oe},oe))})]})]})]}),u.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition text-gray-400 hover:text-white","aria-label":"Close chat",children:u.jsx(us,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[u.jsxs("div",{className:"w-16 bg-black/20 border-r border-white/5 flex flex-col items-center py-4 gap-4",children:[u.jsx("button",{onClick:()=>y("Main"),"aria-label":"Main chat",className:`p-3 rounded-2xl transition-all ${p==="Main"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:u.jsx(aT,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>y("Resources"),"aria-label":"Resource channels",className:`p-3 rounded-2xl transition-all ${p==="Resources"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:u.jsx(Ls,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>y("Bookmarks"),"aria-label":"Bookmarked messages",className:`p-3 rounded-2xl transition-all relative ${p==="Bookmarks"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:u.jsx(lC,{className:"w-5 h-5"})}),t.role==="ADMIN"&&u.jsxs("button",{onClick:()=>y("Moderation"),"aria-label":"Moderation queue",className:`mt-auto p-3 rounded-2xl transition-all relative ${p==="Moderation"?"bg-red-600 text-white shadow-lg shadow-red-500/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[u.jsx(ss,{className:"w-5 h-5"}),I.length>0&&u.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center animate-pulse",children:I.length})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col relative",children:[p==="Resources"&&!C&&u.jsx("div",{className:"absolute inset-0 p-4 overflow-y-auto custom-scrollbar animate-in slide-in-from-right duration-300",children:u.jsx("div",{className:"space-y-2",children:Y.map(oe=>u.jsxs("div",{onClick:()=>B(oe.id),className:"group p-4 bg-white/5 hover:bg-white/10 border border-white/5 rounded-2xl transition-all cursor-pointer flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[u.jsx("div",{className:"p-2.5 rounded-xl bg-indigo-500/10 text-indigo-400 group-hover:bg-indigo-500 group-hover:text-white transition shadow-inner",children:u.jsx(Qie,{className:"w-5 h-5"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h4",{className:"font-bold text-gray-200 text-sm truncate group-hover:text-white transition",children:oe.title}),u.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:oe.unit})]})]}),u.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),a==null||a(oe.id),r()},className:"p-2 text-gray-500 hover:text-white hover:bg-white/10 rounded-lg transition",children:u.jsx(Gie,{className:"w-4 h-4"})})]},oe.id))})}),p==="Moderation"&&t.role==="ADMIN"&&u.jsxs("div",{className:"absolute inset-0 p-4 overflow-y-auto custom-scrollbar animate-in slide-in-from-right duration-300",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(cs,{className:"w-4 h-4 text-red-400"}),u.jsx("span",{className:"text-sm font-bold text-red-400 uppercase tracking-widest",children:"Flagged Messages"}),u.jsxs("span",{className:"ml-auto text-xs text-gray-500",children:[I.length," item",I.length!==1?"s":""]})]}),I.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-gray-500",children:[u.jsx(ss,{className:"w-10 h-10 mb-3 opacity-30"}),u.jsx("p",{className:"text-sm",children:"Queue clear  no flagged messages"})]}):u.jsx("div",{className:"space-y-3",children:I.map(oe=>{var Oe;return u.jsxs("div",{className:"p-3 bg-red-900/20 border border-red-500/30 rounded-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-xs font-bold text-gray-300",children:oe.senderName}),u.jsx("span",{className:"text-[10px] text-gray-500",children:new Date(oe.timestamp).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),u.jsx("p",{className:"text-sm text-gray-200 mb-1",children:oe.content}),oe.systemNote&&u.jsx("p",{className:"text-[10px] text-red-400 mb-2 italic",children:oe.systemNote}),u.jsx("div",{className:"text-[10px] text-gray-500 mb-3",children:((Oe=oe.channelId)==null?void 0:Oe.replace("class_","").replace(/_/g," "))||"unknown channel"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>ee(oe.id),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 bg-emerald-600/20 hover:bg-emerald-600/40 border border-emerald-500/30 text-emerald-400 rounded-xl text-xs font-bold transition",children:[u.jsx(vx,{className:"w-3.5 h-3.5"})," Approve"]}),u.jsxs("button",{onClick:()=>ce(oe.id),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 bg-red-600/20 hover:bg-red-600/40 border border-red-500/30 text-red-400 rounded-xl text-xs font-bold transition",children:[u.jsx(ji,{className:"w-3.5 h-3.5"})," Delete"]})]})]},oe.id)})})]}),(p==="Main"||p==="Bookmarks"||p==="Resources"&&C)&&u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:z,className:"flex-1 overflow-y-auto p-4 pt-12 space-y-6 custom-scrollbar scroll-smooth",children:(p==="Bookmarks"?te:c).map((oe,Oe)=>{var Ee;const Me=oe.senderId===t.id,it=Oe>0&&c[Oe-1].senderId===oe.senderId&&new Date(oe.timestamp).getTime()-new Date(c[Oe-1].timestamp).getTime()<3e5;return u.jsxs("div",{className:`group flex flex-col ${Me?"items-end":"items-start"} ${it?"mt-1":"mt-4"}`,children:[!it&&u.jsxs("div",{className:"flex items-center gap-2 mb-1 px-1",children:[u.jsx("span",{className:`text-xs font-bold ${Me?"text-indigo-400":"text-gray-300"}`,children:oe.senderName}),u.jsx("span",{className:"text-[10px] text-gray-600",children:new Date(oe.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),oe.isGlobalPinned&&u.jsx(fC,{className:"w-3 h-3 text-yellow-500 fill-current"})]}),u.jsxs("div",{className:"relative max-w-[85%]",children:[u.jsxs("div",{className:`flex items-center bg-black/80 backdrop-blur rounded-full px-2 py-1 gap-2 border border-white/10 opacity-0 group-hover:opacity-100 transition-all absolute -top-8 ${Me?"right-0":"left-0"} z-30`,children:[u.jsx("button",{onClick:()=>R(oe.id),className:"p-1 hover:bg-white/10 rounded-full transition","aria-label":"Add reaction",children:u.jsx(pC,{className:"w-3.5 h-3.5 text-yellow-400"})}),u.jsx("button",{onClick:()=>ye(oe.id),className:`p-1 hover:bg-white/10 rounded-full transition ${(Ee=oe.pinnedBy)!=null&&Ee.includes(t.id)?"text-purple-400":"text-gray-400"}`,"aria-label":"Bookmark message",children:u.jsx(lC,{className:"w-3.5 h-3.5"})}),t.role==="ADMIN"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>se(oe.id,!!oe.isGlobalPinned),className:`p-1 hover:bg-white/10 rounded-full transition ${oe.isGlobalPinned?"text-yellow-400":"text-gray-400"}`,"aria-label":"Pin for everyone",children:u.jsx(fC,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:()=>X(oe.id),className:"p-1 hover:bg-red-500/20 text-gray-400 hover:text-red-400 rounded-full transition","aria-label":"Delete message",children:u.jsx(ji,{className:"w-3.5 h-3.5"})})]})]}),O===oe.id&&u.jsx("div",{ref:k,className:`absolute z-40 bottom-full mb-2 bg-black/95 border border-white/20 rounded-xl p-1 shadow-2xl flex gap-1 animate-in zoom-in-95 ${Me?"right-0":"left-0"}`,children:jle.map(He=>u.jsx("button",{onClick:()=>Q(oe.id,He),className:"p-1.5 hover:bg-white/10 rounded-lg transition text-sm",children:He},He))}),u.jsx("div",{className:`px-4 py-2.5 text-sm leading-relaxed shadow-lg backdrop-blur-sm border ${Me?"bg-indigo-600/80 text-white rounded-2xl rounded-tr-sm border-indigo-500/30":`bg-white/10 text-gray-100 rounded-2xl rounded-tl-sm border-white/5 ${oe.isFlagged?"border-red-500/50 bg-red-900/20":""}`} ${oe.isGlobalPinned?"ring-1 ring-yellow-500/50 bg-yellow-900/10":""}`,children:oe.content}),u.jsx("div",{className:"flex flex-wrap gap-1 mt-1 justify-end",children:oe.reactions&&Object.entries(oe.reactions).map(([He,he])=>{const ge=he;return ge.length>0&&u.jsxs("button",{onClick:()=>Q(oe.id,He),className:`text-[10px] px-1.5 py-0.5 rounded-full border transition ${ge.includes(t.id)?"bg-indigo-500/30 border-indigo-500/50 text-white":"bg-black/30 border-white/5 text-gray-400 hover:bg-white/10"}`,children:[He," ",ge.length]},He)})})]})]},oe.id)})}),u.jsx("div",{className:"p-4 bg-black/20 backdrop-blur-md border-t border-white/5",children:u.jsxs("form",{onSubmit:J,className:"relative flex items-center gap-2",children:[S&&u.jsx("div",{ref:A,className:"absolute bottom-full left-0 mb-4 bg-[#1a1b1e] border border-white/10 rounded-2xl p-3 shadow-2xl grid grid-cols-6 gap-2 w-64 animate-in slide-in-from-bottom-2 z-50",children:Cle.map(oe=>u.jsx("button",{type:"button",onClick:()=>m(Oe=>Oe+oe),className:"p-2 hover:bg-white/10 rounded-lg text-xl transition",children:oe},oe))}),u.jsx("button",{type:"button",onClick:()=>w(!S),className:"p-3 text-gray-400 hover:text-yellow-400 hover:bg-white/5 rounded-xl transition","aria-label":"Open emoji picker",children:u.jsx(pC,{className:"w-5 h-5"})}),u.jsx("input",{type:"text",value:f,onChange:oe=>m(oe.target.value),placeholder:K?"Transmission Disabled":"Type message...",disabled:!$||K,className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-indigo-500/50 focus:bg-white/10 transition"}),u.jsx("button",{type:"submit",disabled:!$||K||!f.trim(),className:"p-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl shadow-lg transition","aria-label":"Send message",children:u.jsx(mae,{className:"w-5 h-5"})})]})})]})]})]})]}):null};function JF(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=JF(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Bt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=JF(t))&&(n&&(n+=" "),n+=e);return n}var c5,dI;function ga(){if(dI)return c5;dI=1;var t=Array.isArray;return c5=t,c5}var u5,hI;function eq(){if(hI)return u5;hI=1;var t=typeof ny=="object"&&ny&&ny.Object===Object&&ny;return u5=t,u5}var d5,fI;function So(){if(fI)return d5;fI=1;var t=eq(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return d5=r,d5}var h5,mI;function xg(){if(mI)return h5;mI=1;var t=So(),e=t.Symbol;return h5=e,h5}var f5,pI;function Rle(){if(pI)return f5;pI=1;var t=xg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var c=r.call(s,i),d=s[i];try{s[i]=void 0;var f=!0}catch{}var m=n.call(s);return f&&(c?s[i]=d:delete s[i]),m}return f5=a,f5}var m5,gI;function Mle(){if(gI)return m5;gI=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return m5=r,m5}var p5,yI;function jl(){if(yI)return p5;yI=1;var t=xg(),e=Rle(),r=Mle(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(c){return c==null?c===void 0?i:n:a&&a in Object(c)?e(c):r(c)}return p5=s,p5}var g5,vI;function Cl(){if(vI)return g5;vI=1;function t(e){return e!=null&&typeof e=="object"}return g5=t,g5}var y5,bI;function Kh(){if(bI)return y5;bI=1;var t=jl(),e=Cl(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return y5=n,y5}var v5,xI;function j8(){if(xI)return v5;xI=1;var t=ga(),e=Kh(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return v5=i,v5}var b5,wI;function Jc(){if(wI)return b5;wI=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return b5=t,b5}var x5,_I;function C8(){if(_I)return x5;_I=1;var t=jl(),e=Jc(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(c){if(!e(c))return!1;var d=t(c);return d==n||d==i||d==r||d==a}return x5=s,x5}var w5,SI;function Ple(){if(SI)return w5;SI=1;var t=So(),e=t["__core-js_shared__"];return w5=e,w5}var _5,TI;function Dle(){if(TI)return _5;TI=1;var t=Ple(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return _5=r,_5}var S5,AI;function tq(){if(AI)return S5;AI=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return S5=r,S5}var T5,EI;function Lle(){if(EI)return T5;EI=1;var t=C8(),e=Dle(),r=Jc(),n=tq(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,d=s.toString,f=c.hasOwnProperty,m=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!r(y)||e(y))return!1;var b=t(y)?m:a;return b.test(n(y))}return T5=p,T5}var A5,NI;function Ble(){if(NI)return A5;NI=1;function t(e,r){return e==null?void 0:e[r]}return A5=t,A5}var E5,OI;function I0(){if(OI)return E5;OI=1;var t=Lle(),e=Ble();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return E5=r,E5}var N5,kI;function jx(){if(kI)return N5;kI=1;var t=I0(),e=t(Object,"create");return N5=e,N5}var O5,jI;function Ule(){if(jI)return O5;jI=1;var t=jx();function e(){this.__data__=t?t(null):{},this.size=0}return O5=e,O5}var k5,CI;function zle(){if(CI)return k5;CI=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return k5=t,k5}var j5,II;function Vle(){if(II)return j5;II=1;var t=jx(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var c=s[a];return c===e?void 0:c}return n.call(s,a)?s[a]:void 0}return j5=i,j5}var C5,RI;function $le(){if(RI)return C5;RI=1;var t=jx(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return C5=n,C5}var I5,MI;function Fle(){if(MI)return I5;MI=1;var t=jx(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return I5=r,I5}var R5,PI;function qle(){if(PI)return R5;PI=1;var t=Ule(),e=zle(),r=Vle(),n=$le(),i=Fle();function a(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,R5=a,R5}var M5,DI;function Hle(){if(DI)return M5;DI=1;function t(){this.__data__=[],this.size=0}return M5=t,M5}var P5,LI;function I8(){if(LI)return P5;LI=1;function t(e,r){return e===r||e!==e&&r!==r}return P5=t,P5}var D5,BI;function Cx(){if(BI)return D5;BI=1;var t=I8();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return D5=e,D5}var L5,UI;function Gle(){if(UI)return L5;UI=1;var t=Cx(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var c=a.length-1;return s==c?a.pop():r.call(a,s,1),--this.size,!0}return L5=n,L5}var B5,zI;function Kle(){if(zI)return B5;zI=1;var t=Cx();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return B5=e,B5}var U5,VI;function Wle(){if(VI)return U5;VI=1;var t=Cx();function e(r){return t(this.__data__,r)>-1}return U5=e,U5}var z5,$I;function Xle(){if($I)return z5;$I=1;var t=Cx();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return z5=e,z5}var V5,FI;function Ix(){if(FI)return V5;FI=1;var t=Hle(),e=Gle(),r=Kle(),n=Wle(),i=Xle();function a(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,V5=a,V5}var $5,qI;function R8(){if(qI)return $5;qI=1;var t=I0(),e=So(),r=t(e,"Map");return $5=r,$5}var F5,HI;function Yle(){if(HI)return F5;HI=1;var t=qle(),e=Ix(),r=R8();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return F5=n,F5}var q5,GI;function Qle(){if(GI)return q5;GI=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return q5=t,q5}var H5,KI;function Rx(){if(KI)return H5;KI=1;var t=Qle();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return H5=e,H5}var G5,WI;function Zle(){if(WI)return G5;WI=1;var t=Rx();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return G5=e,G5}var K5,XI;function Jle(){if(XI)return K5;XI=1;var t=Rx();function e(r){return t(this,r).get(r)}return K5=e,K5}var W5,YI;function ece(){if(YI)return W5;YI=1;var t=Rx();function e(r){return t(this,r).has(r)}return W5=e,W5}var X5,QI;function tce(){if(QI)return X5;QI=1;var t=Rx();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return X5=e,X5}var Y5,ZI;function M8(){if(ZI)return Y5;ZI=1;var t=Yle(),e=Zle(),r=Jle(),n=ece(),i=tce();function a(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Y5=a,Y5}var Q5,JI;function rq(){if(JI)return Q5;JI=1;var t=M8(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,c=i?i.apply(this,s):s[0],d=a.cache;if(d.has(c))return d.get(c);var f=n.apply(this,s);return a.cache=d.set(c,f)||d,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,Q5=r,Q5}var Z5,eR;function rce(){if(eR)return Z5;eR=1;var t=rq(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return Z5=r,Z5}var J5,tR;function nce(){if(tR)return J5;tR=1;var t=rce(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,c,d,f){a.push(d?f.replace(r,"$1"):c||s)}),a});return J5=n,J5}var e3,rR;function P8(){if(rR)return e3;rR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return e3=t,e3}var t3,nR;function ice(){if(nR)return t3;nR=1;var t=xg(),e=P8(),r=ga(),n=Kh(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(c){if(typeof c=="string")return c;if(r(c))return e(c,s)+"";if(n(c))return a?a.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return t3=s,t3}var r3,iR;function nq(){if(iR)return r3;iR=1;var t=ice();function e(r){return r==null?"":t(r)}return r3=e,r3}var n3,aR;function iq(){if(aR)return n3;aR=1;var t=ga(),e=j8(),r=nce(),n=nq();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return n3=i,n3}var i3,sR;function Mx(){if(sR)return i3;sR=1;var t=Kh();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return i3=e,i3}var a3,oR;function D8(){if(oR)return a3;oR=1;var t=iq(),e=Mx();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return a3=r,a3}var s3,lR;function aq(){if(lR)return s3;lR=1;var t=D8();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return s3=e,s3}var ace=aq();const os=mr(ace);var o3,cR;function sce(){if(cR)return o3;cR=1;function t(e){return e==null}return o3=t,o3}var oce=sce();const Mt=mr(oce);var l3,uR;function lce(){if(uR)return l3;uR=1;var t=jl(),e=ga(),r=Cl(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return l3=i,l3}var cce=lce();const v0=mr(cce);var uce=C8();const kt=mr(uce);var dce=Jc();const Wh=mr(dce);var c3={exports:{}},gr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR;function hce(){if(dR)return gr;dR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function S(w){if(typeof w=="object"&&w!==null){var O=w.$$typeof;switch(O){case t:switch(w=w.type,w){case r:case i:case n:case f:case m:return w;default:switch(w=w&&w.$$typeof,w){case c:case s:case d:case y:case p:case a:return w;default:return O}}case e:return O}}}return gr.ContextConsumer=s,gr.ContextProvider=a,gr.Element=t,gr.ForwardRef=d,gr.Fragment=r,gr.Lazy=y,gr.Memo=p,gr.Portal=e,gr.Profiler=i,gr.StrictMode=n,gr.Suspense=f,gr.SuspenseList=m,gr.isAsyncMode=function(){return!1},gr.isConcurrentMode=function(){return!1},gr.isContextConsumer=function(w){return S(w)===s},gr.isContextProvider=function(w){return S(w)===a},gr.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},gr.isForwardRef=function(w){return S(w)===d},gr.isFragment=function(w){return S(w)===r},gr.isLazy=function(w){return S(w)===y},gr.isMemo=function(w){return S(w)===p},gr.isPortal=function(w){return S(w)===e},gr.isProfiler=function(w){return S(w)===i},gr.isStrictMode=function(w){return S(w)===n},gr.isSuspense=function(w){return S(w)===f},gr.isSuspenseList=function(w){return S(w)===m},gr.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===i||w===n||w===f||w===m||w===b||typeof w=="object"&&w!==null&&(w.$$typeof===y||w.$$typeof===p||w.$$typeof===a||w.$$typeof===s||w.$$typeof===d||w.$$typeof===T||w.getModuleId!==void 0)},gr.typeOf=S,gr}var hR;function fce(){return hR||(hR=1,c3.exports=hce()),c3.exports}var mce=fce(),u3,fR;function sq(){if(fR)return u3;fR=1;var t=jl(),e=Cl(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return u3=n,u3}var d3,mR;function pce(){if(mR)return d3;mR=1;var t=sq();function e(r){return t(r)&&r!=+r}return d3=e,d3}var gce=pce();const wg=mr(gce);var yce=sq();const vce=mr(yce);var Is=function(e){return e===0?0:e>0?1:-1},Gu=function(e){return v0(e)&&e.indexOf("%")===e.length-1},Ze=function(e){return vce(e)&&!wg(e)},bce=function(e){return Mt(e)},Hn=function(e){return Ze(e)||v0(e)},xce=0,_g=function(e){var r=++xce;return"".concat(e||"").concat(r)},Rs=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(e)&&!v0(e))return n;var a;if(Gu(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return wg(a)&&(a=n),i&&a>r&&(a=r),a},Ec=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},wce=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},da=function(e,r){return Ze(e)&&Ze(r)?function(n){return e+n*(r-e)}:function(){return r}};function Bv(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):os(n,e))===r})}var _ce=function(e){if(!e||!e.length)return null;for(var r=e.length,n=0,i=0,a=0,s=0,c=1/0,d=-1/0,f=0,m=0,p=0;p<r;p++)f=e[p].cx||0,m=e[p].cy||0,n+=f,i+=m,a+=f*m,s+=f*f,c=Math.min(c,f),d=Math.max(d,f);var y=r*s!==n*n?(r*a-n*i)/(r*s-n*n):0;return{xmin:c,xmax:d,a:y,b:(i-y*n)/r}},Sce=function(e,r){return Ze(e)&&Ze(r)?e-r:v0(e)&&v0(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Xd(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function vT(t){"@babel/helpers - typeof";return vT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vT(t)}var Tce=["viewBox","children"],Ace=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pR=["points","pathLength"],h3={svg:Tce,polygon:pR,polyline:pR},L8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Uv=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(F.isValidElement(e)&&(n=e.props),!Wh(n))return null;var i={};return Object.keys(n).forEach(function(a){L8.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},Ece=function(e,r,n){return function(i){return e(r,n,i),null}},b0=function(e,r,n){if(!Wh(e)||vT(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];L8.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Ece(s,r,n))}),i},Nce=["children"],Oce=["children"];function gR(t,e){if(t==null)return{};var r=kce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var yR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},dl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},vR=null,f3=null,B8=function t(e){if(e===vR&&Array.isArray(f3))return f3;var r=[];return F.Children.forEach(e,function(n){Mt(n)||(mce.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),f3=r,vR=e,r};function Ba(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return dl(i)}):n=[dl(e)],B8(t).forEach(function(i){var a=os(i,"type.displayName")||os(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function ja(t,e){var r=Ba(t,e);return r&&r[0]}var bR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Ze(n)||n<=0||!Ze(i)||i<=0)},jce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Cce=function(e){return e&&e.type&&v0(e.type)&&jce.indexOf(e.type)>=0},Ice=function(e,r,n,i){var a,s=(a=h3==null?void 0:h3[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!kt(e)&&(i&&s.includes(r)||Ace.includes(r))||n&&L8.includes(r)},vt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(F.isValidElement(e)&&(i=e.props),!Wh(i))return null;var a={};return Object.keys(i).forEach(function(s){var c;Ice((c=i)===null||c===void 0?void 0:c[s],s,r,n)&&(a[s]=i[s])}),a},bT=function t(e,r){if(e===r)return!0;var n=F.Children.count(e);if(n!==F.Children.count(r))return!1;if(n===0)return!0;if(n===1)return xR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!xR(a,s))return!1}return!0},xR=function(e,r){if(Mt(e)&&Mt(r))return!0;if(!Mt(e)&&!Mt(r)){var n=e.props||{},i=n.children,a=gR(n,Nce),s=r.props||{},c=s.children,d=gR(s,Oce);return i&&c?Xd(a,d)&&bT(i,c):!i&&!c?Xd(a,d):!1}return!1},wR=function(e,r){var n=[],i={};return B8(e).forEach(function(a,s){if(Cce(a))n.push(a);else if(a){var c=dl(a.type),d=r[c]||{},f=d.handler,m=d.once;if(f&&(!m||!i[c])){var p=f(a,c,s);n.push(p),i[c]=!0}}}),n},Rce=function(e){var r=e&&e.type;return r&&yR[r]?yR[r]:null},Mce=function(e,r){return B8(r).indexOf(e)},Pce=["children","width","height","viewBox","className","style","title","desc"];function xT(){return xT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xT.apply(this,arguments)}function Dce(t,e){if(t==null)return{};var r=Lce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wT(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,c=t.title,d=t.desc,f=Dce(t,Pce),m=i||{width:r,height:n,x:0,y:0},p=Bt("recharts-surface",a);return ie.createElement("svg",xT({},vt(f,!0,"svg"),{className:p,width:r,height:n,style:s,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),ie.createElement("title",null,c),ie.createElement("desc",null,d),e)}var Bce=["children","className"];function _T(){return _T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_T.apply(this,arguments)}function Uce(t,e){if(t==null)return{};var r=zce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ur=ie.forwardRef(function(t,e){var r=t.children,n=t.className,i=Uce(t,Bce),a=Bt("recharts-layer",n);return ie.createElement("g",_T({className:a},vt(i,!0),{ref:e}),r)}),hl=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},m3,_R;function Vce(){if(_R)return m3;_R=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return m3=t,m3}var p3,SR;function $ce(){if(SR)return p3;SR=1;var t=Vce();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return p3=e,p3}var g3,TR;function oq(){if(TR)return g3;TR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",c=RegExp("["+s+t+i+a+"]");function d(f){return c.test(f)}return g3=d,g3}var y3,AR;function Fce(){if(AR)return y3;AR=1;function t(e){return e.split("")}return y3=t,y3}var v3,ER;function qce(){if(ER)return v3;ER=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",c="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+d+")",m="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",T=f+"?",S="["+a+"]?",w="(?:"+b+"(?:"+[m,p,y].join("|")+")"+S+T+")*",O=S+T+w,R="(?:"+[m+c+"?",c,p,y,s].join("|")+")",C=RegExp(d+"(?="+d+")|"+R+O,"g");function B(I){return I.match(C)||[]}return v3=B,v3}var b3,NR;function Hce(){if(NR)return b3;NR=1;var t=Fce(),e=oq(),r=qce();function n(i){return e(i)?r(i):t(i)}return b3=n,b3}var x3,OR;function Gce(){if(OR)return x3;OR=1;var t=$ce(),e=oq(),r=Hce(),n=nq();function i(a){return function(s){s=n(s);var c=e(s)?r(s):void 0,d=c?c[0]:s.charAt(0),f=c?t(c,1).join(""):s.slice(1);return d[a]()+f}}return x3=i,x3}var w3,kR;function Kce(){if(kR)return w3;kR=1;var t=Gce(),e=t("toUpperCase");return w3=e,w3}var Wce=Kce();const Px=mr(Wce);function Vr(t){return function(){return t}}const lq=Math.cos,zv=Math.sin,Vs=Math.sqrt,Vv=Math.PI,Dx=2*Vv,ST=Math.PI,TT=2*ST,Bu=1e-6,Xce=TT-Bu;function cq(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Yce(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return cq;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Qce{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?cq:Yce(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,d=n-e,f=i-r,m=s-e,p=c-r,y=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>Bu)if(!(Math.abs(p*d-f*m)>Bu)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-s,T=i-c,S=d*d+f*f,w=b*b+T*T,O=Math.sqrt(S),R=Math.sqrt(y),C=a*Math.tan((ST-Math.acos((S+y-w)/(2*O*R)))/2),B=C/R,I=C/O;Math.abs(B-1)>Bu&&this._append`L${e+B*m},${r+B*p}`,this._append`A${a},${a},0,0,${+(p*b>m*T)},${this._x1=e+I*d},${this._y1=r+I*f}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),d=n*Math.sin(i),f=e+c,m=r+d,p=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Bu||Math.abs(this._y1-m)>Bu)&&this._append`L${f},${m}`,n&&(y<0&&(y=y%TT+TT),y>Xce?this._append`A${n},${n},0,1,${p},${e-c},${r-d}A${n},${n},0,1,${p},${this._x1=f},${this._y1=m}`:y>Bu&&this._append`A${n},${n},0,${+(y>=ST)},${p},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function U8(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Qce(e)}function z8(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function uq(t){this._context=t}uq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Lx(t){return new uq(t)}function dq(t){return t[0]}function hq(t){return t[1]}function fq(t,e){var r=Vr(!0),n=null,i=Lx,a=null,s=U8(c);t=typeof t=="function"?t:t===void 0?dq:Vr(t),e=typeof e=="function"?e:e===void 0?hq:Vr(e);function c(d){var f,m=(d=z8(d)).length,p,y=!1,b;for(n==null&&(a=i(b=s())),f=0;f<=m;++f)!(f<m&&r(p=d[f],f,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,f,d),+e(p,f,d));if(b)return a=null,b+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Vr(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Vr(+d),c):e},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Vr(!!d),c):r},c.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),c):i},c.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),c):n},c}function Ay(t,e,r){var n=null,i=Vr(!0),a=null,s=Lx,c=null,d=U8(f);t=typeof t=="function"?t:t===void 0?dq:Vr(+t),e=typeof e=="function"?e:Vr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?hq:Vr(+r);function f(p){var y,b,T,S=(p=z8(p)).length,w,O=!1,R,C=new Array(S),B=new Array(S);for(a==null&&(c=s(R=d())),y=0;y<=S;++y){if(!(y<S&&i(w=p[y],y,p))===O)if(O=!O)b=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),T=y-1;T>=b;--T)c.point(C[T],B[T]);c.lineEnd(),c.areaEnd()}O&&(C[y]=+t(w,y,p),B[y]=+e(w,y,p),c.point(n?+n(w,y,p):C[y],r?+r(w,y,p):B[y]))}if(R)return c=null,R+""||null}function m(){return fq().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Vr(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Vr(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Vr(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Vr(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Vr(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Vr(+p),f):r},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(r)},f.lineX1=function(){return m().x(n).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Vr(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(c=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=c=null:c=s(a=p),f):a},f}class mq{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Zce(t){return new mq(t,!0)}function Jce(t){return new mq(t,!1)}const V8={draw(t,e){const r=Vs(e/Vv);t.moveTo(r,0),t.arc(0,0,r,0,Dx)}},eue={draw(t,e){const r=Vs(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},pq=Vs(1/3),tue=pq*2,rue={draw(t,e){const r=Vs(e/tue),n=r*pq;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},nue={draw(t,e){const r=Vs(e),n=-r/2;t.rect(n,n,r,r)}},iue=.8908130915292852,gq=zv(Vv/10)/zv(7*Vv/10),aue=zv(Dx/10)*gq,sue=-lq(Dx/10)*gq,oue={draw(t,e){const r=Vs(e*iue),n=aue*r,i=sue*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=Dx*a/5,c=lq(s),d=zv(s);t.lineTo(d*r,-c*r),t.lineTo(c*n-d*i,d*n+c*i)}t.closePath()}},_3=Vs(3),lue={draw(t,e){const r=-Vs(e/(_3*3));t.moveTo(0,r*2),t.lineTo(-_3*r,-r),t.lineTo(_3*r,-r),t.closePath()}},Qa=-.5,Za=Vs(3)/2,AT=1/Vs(12),cue=(AT/2+1)*3,uue={draw(t,e){const r=Vs(e/cue),n=r/2,i=r*AT,a=n,s=r*AT+r,c=-a,d=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(c,d),t.lineTo(Qa*n-Za*i,Za*n+Qa*i),t.lineTo(Qa*a-Za*s,Za*a+Qa*s),t.lineTo(Qa*c-Za*d,Za*c+Qa*d),t.lineTo(Qa*n+Za*i,Qa*i-Za*n),t.lineTo(Qa*a+Za*s,Qa*s-Za*a),t.lineTo(Qa*c+Za*d,Qa*d-Za*c),t.closePath()}};function due(t,e){let r=null,n=U8(i);t=typeof t=="function"?t:Vr(t||V8),e=typeof e=="function"?e:Vr(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Vr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Vr(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function $v(){}function Fv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function yq(t){this._context=t}yq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hue(t){return new yq(t)}function vq(t){this._context=t}vq.prototype={areaStart:$v,areaEnd:$v,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Fv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fue(t){return new vq(t)}function bq(t){this._context=t}bq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mue(t){return new bq(t)}function xq(t){this._context=t}xq.prototype={areaStart:$v,areaEnd:$v,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function pue(t){return new xq(t)}function jR(t){return t<0?-1:1}function CR(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),c=(a*i+s*n)/(n+i);return(jR(a)+jR(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function IR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function S3(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,c=(a-n)/3;t._context.bezierCurveTo(n+c,i+c*e,a-c,s-c*r,a,s)}function qv(t){this._context=t}qv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:S3(this,this._t0,IR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,S3(this,IR(this,r=CR(this,t,e)),r);break;default:S3(this,this._t0,r=CR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function wq(t){this._context=new _q(t)}(wq.prototype=Object.create(qv.prototype)).point=function(t,e){qv.prototype.point.call(this,e,t)};function _q(t){this._context=t}_q.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function gue(t){return new qv(t)}function yue(t){return new wq(t)}function Sq(t){this._context=t}Sq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=RR(t),i=RR(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function RR(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function vue(t){return new Sq(t)}function Bx(t,e){this._context=t,this._t=e}Bx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function bue(t){return new Bx(t,.5)}function xue(t){return new Bx(t,0)}function wue(t){return new Bx(t,1)}function hh(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,c=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<c;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ET(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function _ue(t,e){return t[e]}function Sue(t){const e=[];return e.key=t,e}function Tue(){var t=Vr([]),e=ET,r=hh,n=_ue;function i(a){var s=Array.from(t.apply(this,arguments),Sue),c,d=s.length,f=-1,m;for(const p of a)for(c=0,++f;c<d;++c)(s[c][f]=[0,+n(p,s[c].key,f,a)]).data=p;for(c=0,m=z8(e(s));c<d;++c)s[m[c]].index=c;return r(s,m),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Vr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Vr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?ET:typeof a=="function"?a:Vr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??hh,i):r},i}function Aue(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}hh(t,e)}}function Eue(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,c=0;s<i;++s)c+=t[s][r][1]||0;n[r][1]+=n[r][0]=-c/2}hh(t,e)}}function Nue(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var c=0,d=0,f=0;c<s;++c){for(var m=t[e[c]],p=m[n][1]||0,y=m[n-1][1]||0,b=(p-y)/2,T=0;T<c;++T){var S=t[e[T]],w=S[n][1]||0,O=S[n-1][1]||0;b+=w-O}d+=p,f+=b*p}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,hh(t,e)}}function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}var Oue=["type","size","sizeType"];function NT(){return NT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NT.apply(this,arguments)}function MR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(r),!0).forEach(function(n){kue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kue(t,e,r){return e=jue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jue(t){var e=Cue(t,"string");return mp(e)=="symbol"?e:e+""}function Cue(t,e){if(mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iue(t,e){if(t==null)return{};var r=Rue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tq={symbolCircle:V8,symbolCross:eue,symbolDiamond:rue,symbolSquare:nue,symbolStar:oue,symbolTriangle:lue,symbolWye:uue},Mue=Math.PI/180,Pue=function(e){var r="symbol".concat(Px(e));return Tq[r]||V8},Due=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Mue;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Lue=function(e,r){Tq["symbol".concat(Px(e))]=r},Ux=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,c=s===void 0?"area":s,d=Iue(e,Oue),f=PR(PR({},d),{},{type:n,size:a,sizeType:c}),m=function(){var w=Pue(n),O=due().type(w).size(Due(a,c,n));return O()},p=f.className,y=f.cx,b=f.cy,T=vt(f,!0);return y===+y&&b===+b&&a===+a?ie.createElement("path",NT({},T,{className:Bt("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(b,")"),d:m()})):null};Ux.registerSymbol=Lue;function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function OT(){return OT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OT.apply(this,arguments)}function DR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(r),!0).forEach(function(n){pp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Eq(n.key),n)}}function Vue(t,e,r){return e&&zue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ue(t,e,r){return e=Hv(e),Fue(t,Aq()?Reflect.construct(e,r||[],Hv(t).constructor):e.apply(t,r))}function Fue(t,e){if(e&&(fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return que(t)}function que(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aq=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hv(t)}function Hue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kT(t,e)}function kT(t,e){return kT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kT(t,e)}function pp(t,e,r){return e=Eq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eq(t){var e=Gue(t,"string");return fh(e)=="symbol"?e:e+""}function Gue(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ja=32,$8=(function(t){function e(){return Uue(this,e),$ue(this,e,arguments)}return Hue(e,t),Vue(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Ja/2,s=Ja/6,c=Ja/3,d=n.inactive?i:n.color;if(n.type==="plainline")return ie.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Ja,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return ie.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(a,`
            H`).concat(Ja,"M").concat(2*c,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return ie.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Ja/8,"h").concat(Ja,"v").concat(Ja*3/4,"h").concat(-Ja,"z"),className:"recharts-legend-icon"});if(ie.isValidElement(n.legendIcon)){var f=Bue({},n);return delete f.legendIcon,ie.cloneElement(n.legendIcon,f)}return ie.createElement(Ux,{fill:d,cx:a,cy:a,size:Ja,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,c=i.layout,d=i.formatter,f=i.inactiveColor,m={x:0,y:0,width:Ja,height:Ja},p={display:c==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(b,T){var S=b.formatter||d,w=Bt(pp(pp({"recharts-legend-item":!0},"legend-item-".concat(T),!0),"inactive",b.inactive));if(b.type==="none")return null;var O=kt(b.value)?null:b.value;hl(!kt(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var R=b.inactive?f:b.color;return ie.createElement("li",OT({className:w,style:p,key:"legend-item-".concat(T)},b0(n.props,b,T)),ie.createElement(wT,{width:s,height:s,viewBox:m,style:y},n.renderIcon(b)),ie.createElement("span",{className:"recharts-legend-item-text",style:{color:R}},S?S(O,b,T):O))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return ie.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(F.PureComponent);pp($8,"displayName","Legend");pp($8,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var T3,LR;function Kue(){if(LR)return T3;LR=1;var t=Ix();function e(){this.__data__=new t,this.size=0}return T3=e,T3}var A3,BR;function Wue(){if(BR)return A3;BR=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return A3=t,A3}var E3,UR;function Xue(){if(UR)return E3;UR=1;function t(e){return this.__data__.get(e)}return E3=t,E3}var N3,zR;function Yue(){if(zR)return N3;zR=1;function t(e){return this.__data__.has(e)}return N3=t,N3}var O3,VR;function Que(){if(VR)return O3;VR=1;var t=Ix(),e=R8(),r=M8(),n=200;function i(a,s){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<n-1)return d.push([a,s]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(a,s),this.size=c.size,this}return O3=i,O3}var k3,$R;function Nq(){if($R)return k3;$R=1;var t=Ix(),e=Kue(),r=Wue(),n=Xue(),i=Yue(),a=Que();function s(c){var d=this.__data__=new t(c);this.size=d.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,k3=s,k3}var j3,FR;function Zue(){if(FR)return j3;FR=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return j3=e,j3}var C3,qR;function Jue(){if(qR)return C3;qR=1;function t(e){return this.__data__.has(e)}return C3=t,C3}var I3,HR;function Oq(){if(HR)return I3;HR=1;var t=M8(),e=Zue(),r=Jue();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,I3=n,I3}var R3,GR;function kq(){if(GR)return R3;GR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return R3=t,R3}var M3,KR;function jq(){if(KR)return M3;KR=1;function t(e,r){return e.has(r)}return M3=t,M3}var P3,WR;function Cq(){if(WR)return P3;WR=1;var t=Oq(),e=kq(),r=jq(),n=1,i=2;function a(s,c,d,f,m,p){var y=d&n,b=s.length,T=c.length;if(b!=T&&!(y&&T>b))return!1;var S=p.get(s),w=p.get(c);if(S&&w)return S==c&&w==s;var O=-1,R=!0,C=d&i?new t:void 0;for(p.set(s,c),p.set(c,s);++O<b;){var B=s[O],I=c[O];if(f)var D=y?f(I,B,O,c,s,p):f(B,I,O,s,c,p);if(D!==void 0){if(D)continue;R=!1;break}if(C){if(!e(c,function(A,k){if(!r(C,k)&&(B===A||m(B,A,d,f,p)))return C.push(k)})){R=!1;break}}else if(!(B===I||m(B,I,d,f,p))){R=!1;break}}return p.delete(s),p.delete(c),R}return P3=a,P3}var D3,XR;function e0e(){if(XR)return D3;XR=1;var t=So(),e=t.Uint8Array;return D3=e,D3}var L3,YR;function t0e(){if(YR)return L3;YR=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return L3=t,L3}var B3,QR;function F8(){if(QR)return B3;QR=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return B3=t,B3}var U3,ZR;function r0e(){if(ZR)return U3;ZR=1;var t=xg(),e=e0e(),r=I8(),n=Cq(),i=t0e(),a=F8(),s=1,c=2,d="[object Boolean]",f="[object Date]",m="[object Error]",p="[object Map]",y="[object Number]",b="[object RegExp]",T="[object Set]",S="[object String]",w="[object Symbol]",O="[object ArrayBuffer]",R="[object DataView]",C=t?t.prototype:void 0,B=C?C.valueOf:void 0;function I(D,A,k,E,U,M,$){switch(k){case R:if(D.byteLength!=A.byteLength||D.byteOffset!=A.byteOffset)return!1;D=D.buffer,A=A.buffer;case O:return!(D.byteLength!=A.byteLength||!M(new e(D),new e(A)));case d:case f:case y:return r(+D,+A);case m:return D.name==A.name&&D.message==A.message;case b:case S:return D==A+"";case p:var z=i;case T:var Y=E&s;if(z||(z=a),D.size!=A.size&&!Y)return!1;var te=$.get(D);if(te)return te==A;E|=c,$.set(D,A);var K=n(z(D),z(A),E,U,M,$);return $.delete(D),K;case w:if(B)return B.call(D)==B.call(A)}return!1}return U3=I,U3}var z3,JR;function Iq(){if(JR)return z3;JR=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return z3=t,z3}var V3,eM;function n0e(){if(eM)return V3;eM=1;var t=Iq(),e=ga();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return V3=r,V3}var $3,tM;function i0e(){if(tM)return $3;tM=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var c=e[n];r(c,n,e)&&(s[a++]=c)}return s}return $3=t,$3}var F3,rM;function a0e(){if(rM)return F3;rM=1;function t(){return[]}return F3=t,F3}var q3,nM;function s0e(){if(nM)return q3;nM=1;var t=i0e(),e=a0e(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(c){return n.call(s,c)}))}:e;return q3=a,q3}var H3,iM;function o0e(){if(iM)return H3;iM=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return H3=t,H3}var G3,aM;function l0e(){if(aM)return G3;aM=1;var t=jl(),e=Cl(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return G3=n,G3}var K3,sM;function q8(){if(sM)return K3;sM=1;var t=l0e(),e=Cl(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return K3=a,K3}var Sm={exports:{}},W3,oM;function c0e(){if(oM)return W3;oM=1;function t(){return!1}return W3=t,W3}Sm.exports;var lM;function Rq(){return lM||(lM=1,(function(t,e){var r=So(),n=c0e(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,c=s?r.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||n;t.exports=f})(Sm,Sm.exports)),Sm.exports}var X3,cM;function H8(){if(cM)return X3;cM=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return X3=r,X3}var Y3,uM;function G8(){if(uM)return Y3;uM=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Y3=e,Y3}var Q3,dM;function u0e(){if(dM)return Q3;dM=1;var t=jl(),e=G8(),r=Cl(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",c="[object Error]",d="[object Function]",f="[object Map]",m="[object Number]",p="[object Object]",y="[object RegExp]",b="[object Set]",T="[object String]",S="[object WeakMap]",w="[object ArrayBuffer]",O="[object DataView]",R="[object Float32Array]",C="[object Float64Array]",B="[object Int8Array]",I="[object Int16Array]",D="[object Int32Array]",A="[object Uint8Array]",k="[object Uint8ClampedArray]",E="[object Uint16Array]",U="[object Uint32Array]",M={};M[R]=M[C]=M[B]=M[I]=M[D]=M[A]=M[k]=M[E]=M[U]=!0,M[n]=M[i]=M[w]=M[a]=M[O]=M[s]=M[c]=M[d]=M[f]=M[m]=M[p]=M[y]=M[b]=M[T]=M[S]=!1;function $(z){return r(z)&&e(z.length)&&!!M[t(z)]}return Q3=$,Q3}var Z3,hM;function Mq(){if(hM)return Z3;hM=1;function t(e){return function(r){return e(r)}}return Z3=t,Z3}var Tm={exports:{}};Tm.exports;var fM;function d0e(){return fM||(fM=1,(function(t,e){var r=eq(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,c=(function(){try{var d=i&&i.require&&i.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}})();t.exports=c})(Tm,Tm.exports)),Tm.exports}var J3,mM;function Pq(){if(mM)return J3;mM=1;var t=u0e(),e=Mq(),r=d0e(),n=r&&r.isTypedArray,i=n?e(n):t;return J3=i,J3}var e6,pM;function h0e(){if(pM)return e6;pM=1;var t=o0e(),e=q8(),r=ga(),n=Rq(),i=H8(),a=Pq(),s=Object.prototype,c=s.hasOwnProperty;function d(f,m){var p=r(f),y=!p&&e(f),b=!p&&!y&&n(f),T=!p&&!y&&!b&&a(f),S=p||y||b||T,w=S?t(f.length,String):[],O=w.length;for(var R in f)(m||c.call(f,R))&&!(S&&(R=="length"||b&&(R=="offset"||R=="parent")||T&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||i(R,O)))&&w.push(R);return w}return e6=d,e6}var t6,gM;function f0e(){if(gM)return t6;gM=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return t6=e,t6}var r6,yM;function Dq(){if(yM)return r6;yM=1;function t(e,r){return function(n){return e(r(n))}}return r6=t,r6}var n6,vM;function m0e(){if(vM)return n6;vM=1;var t=Dq(),e=t(Object.keys,Object);return n6=e,n6}var i6,bM;function p0e(){if(bM)return i6;bM=1;var t=f0e(),e=m0e(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var c in Object(a))n.call(a,c)&&c!="constructor"&&s.push(c);return s}return i6=i,i6}var a6,xM;function Sg(){if(xM)return a6;xM=1;var t=C8(),e=G8();function r(n){return n!=null&&e(n.length)&&!t(n)}return a6=r,a6}var s6,wM;function zx(){if(wM)return s6;wM=1;var t=h0e(),e=p0e(),r=Sg();function n(i){return r(i)?t(i):e(i)}return s6=n,s6}var o6,_M;function g0e(){if(_M)return o6;_M=1;var t=n0e(),e=s0e(),r=zx();function n(i){return t(i,r,e)}return o6=n,o6}var l6,SM;function y0e(){if(SM)return l6;SM=1;var t=g0e(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,c,d,f,m){var p=c&e,y=t(a),b=y.length,T=t(s),S=T.length;if(b!=S&&!p)return!1;for(var w=b;w--;){var O=y[w];if(!(p?O in s:n.call(s,O)))return!1}var R=m.get(a),C=m.get(s);if(R&&C)return R==s&&C==a;var B=!0;m.set(a,s),m.set(s,a);for(var I=p;++w<b;){O=y[w];var D=a[O],A=s[O];if(d)var k=p?d(A,D,O,s,a,m):d(D,A,O,a,s,m);if(!(k===void 0?D===A||f(D,A,c,d,m):k)){B=!1;break}I||(I=O=="constructor")}if(B&&!I){var E=a.constructor,U=s.constructor;E!=U&&"constructor"in a&&"constructor"in s&&!(typeof E=="function"&&E instanceof E&&typeof U=="function"&&U instanceof U)&&(B=!1)}return m.delete(a),m.delete(s),B}return l6=i,l6}var c6,TM;function v0e(){if(TM)return c6;TM=1;var t=I0(),e=So(),r=t(e,"DataView");return c6=r,c6}var u6,AM;function b0e(){if(AM)return u6;AM=1;var t=I0(),e=So(),r=t(e,"Promise");return u6=r,u6}var d6,EM;function Lq(){if(EM)return d6;EM=1;var t=I0(),e=So(),r=t(e,"Set");return d6=r,d6}var h6,NM;function x0e(){if(NM)return h6;NM=1;var t=I0(),e=So(),r=t(e,"WeakMap");return h6=r,h6}var f6,OM;function w0e(){if(OM)return f6;OM=1;var t=v0e(),e=R8(),r=b0e(),n=Lq(),i=x0e(),a=jl(),s=tq(),c="[object Map]",d="[object Object]",f="[object Promise]",m="[object Set]",p="[object WeakMap]",y="[object DataView]",b=s(t),T=s(e),S=s(r),w=s(n),O=s(i),R=a;return(t&&R(new t(new ArrayBuffer(1)))!=y||e&&R(new e)!=c||r&&R(r.resolve())!=f||n&&R(new n)!=m||i&&R(new i)!=p)&&(R=function(C){var B=a(C),I=B==d?C.constructor:void 0,D=I?s(I):"";if(D)switch(D){case b:return y;case T:return c;case S:return f;case w:return m;case O:return p}return B}),f6=R,f6}var m6,kM;function _0e(){if(kM)return m6;kM=1;var t=Nq(),e=Cq(),r=r0e(),n=y0e(),i=w0e(),a=ga(),s=Rq(),c=Pq(),d=1,f="[object Arguments]",m="[object Array]",p="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function T(S,w,O,R,C,B){var I=a(S),D=a(w),A=I?m:i(S),k=D?m:i(w);A=A==f?p:A,k=k==f?p:k;var E=A==p,U=k==p,M=A==k;if(M&&s(S)){if(!s(w))return!1;I=!0,E=!1}if(M&&!E)return B||(B=new t),I||c(S)?e(S,w,O,R,C,B):r(S,w,A,O,R,C,B);if(!(O&d)){var $=E&&b.call(S,"__wrapped__"),z=U&&b.call(w,"__wrapped__");if($||z){var Y=$?S.value():S,te=z?w.value():w;return B||(B=new t),C(Y,te,O,R,B)}}return M?(B||(B=new t),n(S,w,O,R,C,B)):!1}return m6=T,m6}var p6,jM;function K8(){if(jM)return p6;jM=1;var t=_0e(),e=Cl();function r(n,i,a,s,c){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,c)}return p6=r,p6}var g6,CM;function S0e(){if(CM)return g6;CM=1;var t=Nq(),e=K8(),r=1,n=2;function i(a,s,c,d){var f=c.length,m=f,p=!d;if(a==null)return!m;for(a=Object(a);f--;){var y=c[f];if(p&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++f<m;){y=c[f];var b=y[0],T=a[b],S=y[1];if(p&&y[2]){if(T===void 0&&!(b in a))return!1}else{var w=new t;if(d)var O=d(T,S,b,a,s,w);if(!(O===void 0?e(S,T,r|n,d,w):O))return!1}}return!0}return g6=i,g6}var y6,IM;function Bq(){if(IM)return y6;IM=1;var t=Jc();function e(r){return r===r&&!t(r)}return y6=e,y6}var v6,RM;function T0e(){if(RM)return v6;RM=1;var t=Bq(),e=zx();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],c=n[s];i[a]=[s,c,t(c)]}return i}return v6=r,v6}var b6,MM;function Uq(){if(MM)return b6;MM=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return b6=t,b6}var x6,PM;function A0e(){if(PM)return x6;PM=1;var t=S0e(),e=T0e(),r=Uq();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return x6=n,x6}var w6,DM;function E0e(){if(DM)return w6;DM=1;function t(e,r){return e!=null&&r in Object(e)}return w6=t,w6}var _6,LM;function N0e(){if(LM)return _6;LM=1;var t=iq(),e=q8(),r=ga(),n=H8(),i=G8(),a=Mx();function s(c,d,f){d=t(d,c);for(var m=-1,p=d.length,y=!1;++m<p;){var b=a(d[m]);if(!(y=c!=null&&f(c,b)))break;c=c[b]}return y||++m!=p?y:(p=c==null?0:c.length,!!p&&i(p)&&n(b,p)&&(r(c)||e(c)))}return _6=s,_6}var S6,BM;function O0e(){if(BM)return S6;BM=1;var t=E0e(),e=N0e();function r(n,i){return n!=null&&e(n,i,t)}return S6=r,S6}var T6,UM;function k0e(){if(UM)return T6;UM=1;var t=K8(),e=aq(),r=O0e(),n=j8(),i=Bq(),a=Uq(),s=Mx(),c=1,d=2;function f(m,p){return n(m)&&i(p)?a(s(m),p):function(y){var b=e(y,m);return b===void 0&&b===p?r(y,m):t(p,b,c|d)}}return T6=f,T6}var A6,zM;function Xh(){if(zM)return A6;zM=1;function t(e){return e}return A6=t,A6}var E6,VM;function j0e(){if(VM)return E6;VM=1;function t(e){return function(r){return r==null?void 0:r[e]}}return E6=t,E6}var N6,$M;function C0e(){if($M)return N6;$M=1;var t=D8();function e(r){return function(n){return t(n,r)}}return N6=e,N6}var O6,FM;function I0e(){if(FM)return O6;FM=1;var t=j0e(),e=C0e(),r=j8(),n=Mx();function i(a){return r(a)?t(n(a)):e(a)}return O6=i,O6}var k6,qM;function To(){if(qM)return k6;qM=1;var t=A0e(),e=k0e(),r=Xh(),n=ga(),i=I0e();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return k6=a,k6}var j6,HM;function zq(){if(HM)return j6;HM=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return j6=t,j6}var C6,GM;function R0e(){if(GM)return C6;GM=1;function t(e){return e!==e}return C6=t,C6}var I6,KM;function M0e(){if(KM)return I6;KM=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return I6=t,I6}var R6,WM;function P0e(){if(WM)return R6;WM=1;var t=zq(),e=R0e(),r=M0e();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return R6=n,R6}var M6,XM;function D0e(){if(XM)return M6;XM=1;var t=P0e();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return M6=e,M6}var P6,YM;function L0e(){if(YM)return P6;YM=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return P6=t,P6}var D6,QM;function B0e(){if(QM)return D6;QM=1;function t(){}return D6=t,D6}var L6,ZM;function U0e(){if(ZM)return L6;ZM=1;var t=Lq(),e=B0e(),r=F8(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return L6=i,L6}var B6,JM;function z0e(){if(JM)return B6;JM=1;var t=Oq(),e=D0e(),r=L0e(),n=jq(),i=U0e(),a=F8(),s=200;function c(d,f,m){var p=-1,y=e,b=d.length,T=!0,S=[],w=S;if(m)T=!1,y=r;else if(b>=s){var O=f?null:i(d);if(O)return a(O);T=!1,y=n,w=new t}else w=f?[]:S;e:for(;++p<b;){var R=d[p],C=f?f(R):R;if(R=m||R!==0?R:0,T&&C===C){for(var B=w.length;B--;)if(w[B]===C)continue e;f&&w.push(C),S.push(R)}else y(w,C,m)||(w!==S&&w.push(C),S.push(R))}return S}return B6=c,B6}var U6,eP;function V0e(){if(eP)return U6;eP=1;var t=To(),e=z0e();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return U6=r,U6}var $0e=V0e();const tP=mr($0e);function Vq(t,e,r){return e===!0?tP(t,r):kt(e)?tP(t,e):t}function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}var F0e=["ref"];function rP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ko(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(r),!0).forEach(function(n){Vx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fq(n.key),n)}}function H0e(t,e,r){return e&&nP(t.prototype,e),r&&nP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function G0e(t,e,r){return e=Gv(e),K0e(t,$q()?Reflect.construct(e,r||[],Gv(t).constructor):e.apply(t,r))}function K0e(t,e){if(e&&(mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W0e(t)}function W0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($q=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gv(t)}function X0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jT(t,e)}function jT(t,e){return jT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jT(t,e)}function Vx(t,e,r){return e=Fq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fq(t){var e=Y0e(t,"string");return mh(e)=="symbol"?e:e+""}function Y0e(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Q0e(t,e){if(t==null)return{};var r=Z0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function J0e(t){return t.value}function ede(t,e){if(ie.isValidElement(t))return ie.cloneElement(t,e);if(typeof t=="function")return ie.createElement(t,e);e.ref;var r=Q0e(e,F0e);return ie.createElement($8,r)}var iP=1,Yd=(function(t){function e(){var r;q0e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=G0e(this,e,[].concat(i)),Vx(r,"lastBoundingBox",{width:-1,height:-1}),r}return X0e(e,t),H0e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>iP||Math.abs(i.height-this.lastBoundingBox.height)>iP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ko({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,c=i.verticalAlign,d=i.margin,f=i.chartWidth,m=i.chartHeight,p,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var b=this.getBBoxSnapshot();p={left:((f||0)-b.width)/2}}else p=s==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var T=this.getBBoxSnapshot();y={top:((m||0)-T.height)/2}}else y=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Ko(Ko({},p),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,c=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,m=i.payload,p=Ko(Ko({position:"absolute",width:s||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return ie.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(b){n.wrapperNode=b}},ede(a,Ko(Ko({},this.props),{},{payload:Vq(m,f,J0e)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Ko(Ko({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Ze(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])})(F.PureComponent);Vx(Yd,"displayName","Legend");Vx(Yd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var z6,aP;function tde(){if(aP)return z6;aP=1;var t=xg(),e=q8(),r=ga(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return z6=i,z6}var V6,sP;function qq(){if(sP)return V6;sP=1;var t=Iq(),e=tde();function r(n,i,a,s,c){var d=-1,f=n.length;for(a||(a=e),c||(c=[]);++d<f;){var m=n[d];i>0&&a(m)?i>1?r(m,i-1,a,s,c):t(c,m):s||(c[c.length]=m)}return c}return V6=r,V6}var $6,oP;function rde(){if(oP)return $6;oP=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),c=i(r),d=c.length;d--;){var f=c[e?d:++a];if(n(s[f],f,s)===!1)break}return r}}return $6=t,$6}var F6,lP;function nde(){if(lP)return F6;lP=1;var t=rde(),e=t();return F6=e,F6}var q6,cP;function Hq(){if(cP)return q6;cP=1;var t=nde(),e=zx();function r(n,i){return n&&t(n,i,e)}return q6=r,q6}var H6,uP;function ide(){if(uP)return H6;uP=1;var t=Sg();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,c=n?s:-1,d=Object(i);(n?c--:++c<s)&&a(d[c],c,d)!==!1;);return i}}return H6=e,H6}var G6,dP;function W8(){if(dP)return G6;dP=1;var t=Hq(),e=ide(),r=e(t);return G6=r,G6}var K6,hP;function Gq(){if(hP)return K6;hP=1;var t=W8(),e=Sg();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(c,d,f){s[++a]=i(c,d,f)}),s}return K6=r,K6}var W6,fP;function ade(){if(fP)return W6;fP=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return W6=t,W6}var X6,mP;function sde(){if(mP)return X6;mP=1;var t=Kh();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,c=t(r),d=n!==void 0,f=n===null,m=n===n,p=t(n);if(!f&&!p&&!c&&r>n||c&&d&&m&&!f&&!p||a&&d&&m||!i&&m||!s)return 1;if(!a&&!c&&!p&&r<n||p&&i&&s&&!a&&!c||f&&i&&s||!d&&s||!m)return-1}return 0}return X6=e,X6}var Y6,pP;function ode(){if(pP)return Y6;pP=1;var t=sde();function e(r,n,i){for(var a=-1,s=r.criteria,c=n.criteria,d=s.length,f=i.length;++a<d;){var m=t(s[a],c[a]);if(m){if(a>=f)return m;var p=i[a];return m*(p=="desc"?-1:1)}}return r.index-n.index}return Y6=e,Y6}var Q6,gP;function lde(){if(gP)return Q6;gP=1;var t=P8(),e=D8(),r=To(),n=Gq(),i=ade(),a=Mq(),s=ode(),c=Xh(),d=ga();function f(m,p,y){p.length?p=t(p,function(S){return d(S)?function(w){return e(w,S.length===1?S[0]:S)}:S}):p=[c];var b=-1;p=t(p,a(r));var T=n(m,function(S,w,O){var R=t(p,function(C){return C(S)});return{criteria:R,index:++b,value:S}});return i(T,function(S,w){return s(S,w,y)})}return Q6=f,Q6}var Z6,yP;function cde(){if(yP)return Z6;yP=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Z6=t,Z6}var J6,vP;function ude(){if(vP)return J6;vP=1;var t=cde(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,c=-1,d=e(s.length-i,0),f=Array(d);++c<d;)f[c]=s[i+c];c=-1;for(var m=Array(i+1);++c<i;)m[c]=s[c];return m[i]=a(f),t(n,this,m)}}return J6=r,J6}var e_,bP;function dde(){if(bP)return e_;bP=1;function t(e){return function(){return e}}return e_=t,e_}var t_,xP;function Kq(){if(xP)return t_;xP=1;var t=I0(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return t_=e,t_}var r_,wP;function hde(){if(wP)return r_;wP=1;var t=dde(),e=Kq(),r=Xh(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return r_=n,r_}var n_,_P;function fde(){if(_P)return n_;_P=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var c=r(),d=e-(c-s);if(s=c,d>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return n_=n,n_}var i_,SP;function mde(){if(SP)return i_;SP=1;var t=hde(),e=fde(),r=e(t);return i_=r,i_}var a_,TP;function pde(){if(TP)return a_;TP=1;var t=Xh(),e=ude(),r=mde();function n(i,a){return r(e(i,a,t),i+"")}return a_=n,a_}var s_,AP;function $x(){if(AP)return s_;AP=1;var t=I8(),e=Sg(),r=H8(),n=Jc();function i(a,s,c){if(!n(c))return!1;var d=typeof s;return(d=="number"?e(c)&&r(s,c.length):d=="string"&&s in c)?t(c[s],a):!1}return s_=i,s_}var o_,EP;function gde(){if(EP)return o_;EP=1;var t=qq(),e=lde(),r=pde(),n=$x(),i=r(function(a,s){if(a==null)return[];var c=s.length;return c>1&&n(a,s[0],s[1])?s=[]:c>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return o_=i,o_}var yde=gde();const X8=mr(yde);function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CT.apply(this,arguments)}function vde(t,e){return _de(t)||wde(t,e)||xde(t,e)||bde()}function bde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xde(t,e){if(t){if(typeof t=="string")return NP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NP(t,e)}}function NP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function _de(t){if(Array.isArray(t))return t}function OP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function l_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(r),!0).forEach(function(n){Sde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sde(t,e,r){return e=Tde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tde(t){var e=Ade(t,"string");return gp(e)=="symbol"?e:e+""}function Ade(t,e){if(gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ede(t){return Array.isArray(t)&&Hn(t[0])&&Hn(t[1])?t.join(" ~ "):t}var Nde=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,c=s===void 0?{}:s,d=e.labelStyle,f=d===void 0?{}:d,m=e.payload,p=e.formatter,y=e.itemSorter,b=e.wrapperClassName,T=e.labelClassName,S=e.label,w=e.labelFormatter,O=e.accessibilityLayer,R=O===void 0?!1:O,C=function(){if(m&&m.length){var $={padding:0,margin:0},z=(y?X8(m,y):m).map(function(Y,te){if(Y.type==="none")return null;var K=l_({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},c),J=Y.formatter||p||Ede,Q=Y.value,ye=Y.name,se=Q,X=ye;if(J&&se!=null&&X!=null){var ee=J(Q,ye,Y,te,m);if(Array.isArray(ee)){var ce=vde(ee,2);se=ce[0],X=ce[1]}else se=ee}return ie.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(te),style:K},Hn(X)?ie.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Hn(X)?ie.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ie.createElement("span",{className:"recharts-tooltip-item-value"},se),ie.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return ie.createElement("ul",{className:"recharts-tooltip-item-list",style:$},z)}return null},B=l_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),I=l_({margin:0},f),D=!Mt(S),A=D?S:"",k=Bt("recharts-default-tooltip",b),E=Bt("recharts-tooltip-label",T);D&&w&&m!==void 0&&m!==null&&(A=w(S,m));var U=R?{role:"status","aria-live":"assertive"}:{};return ie.createElement("div",CT({className:k,style:B},U),ie.createElement("p",{className:E,style:I},ie.isValidElement(A)?A:"".concat(A)),C())};function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function Ey(t,e,r){return e=Ode(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ode(t){var e=kde(t,"string");return yp(e)=="symbol"?e:e+""}function kde(t,e){if(yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sm="recharts-tooltip-wrapper",jde={visibility:"hidden"};function Cde(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Bt(sm,Ey(Ey(Ey(Ey({},"".concat(sm,"-right"),Ze(r)&&e&&Ze(e.x)&&r>=e.x),"".concat(sm,"-left"),Ze(r)&&e&&Ze(e.x)&&r<e.x),"".concat(sm,"-bottom"),Ze(n)&&e&&Ze(e.y)&&n>=e.y),"".concat(sm,"-top"),Ze(n)&&e&&Ze(e.y)&&n<e.y))}function kP(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,c=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(a&&Ze(a[n]))return a[n];var m=r[n]-c-i,p=r[n]+i;if(e[n])return s[n]?m:p;if(s[n]){var y=m,b=d[n];return y<b?Math.max(p,d[n]):Math.max(m,d[n])}var T=p+c,S=d[n]+f;return T>S?Math.max(m,d[n]):Math.max(p,d[n])}function Ide(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Rde(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,c=t.useTranslate3d,d=t.viewBox,f,m,p;return s.height>0&&s.width>0&&r?(m=kP({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),p=kP({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=Ide({translateX:m,translateY:p,useTranslate3d:c})):f=jde,{cssProperties:f,cssClasses:Cde({translateX:m,translateY:p,coordinate:r})}}function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function jP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(r),!0).forEach(function(n){RT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xq(n.key),n)}}function Dde(t,e,r){return e&&Pde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lde(t,e,r){return e=Kv(e),Bde(t,Wq()?Reflect.construct(e,r||[],Kv(t).constructor):e.apply(t,r))}function Bde(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ude(t)}function Ude(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wq=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kv(t)}function zde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IT(t,e)}function IT(t,e){return IT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IT(t,e)}function RT(t,e,r){return e=Xq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xq(t){var e=Vde(t,"string");return ph(e)=="symbol"?e:e+""}function Vde(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IP=1,$de=(function(t){function e(){var r;Mde(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Lde(this,e,[].concat(i)),RT(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),RT(r,"handleKeyDown",function(s){if(s.key==="Escape"){var c,d,f,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(f=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&f!==void 0?f:0}})}}),r}return zde(e,t),Dde(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>IP||Math.abs(n.height-this.state.lastBoundingBox.height)>IP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,f=i.children,m=i.coordinate,p=i.hasPayload,y=i.isAnimationActive,b=i.offset,T=i.position,S=i.reverseDirection,w=i.useTranslate3d,O=i.viewBox,R=i.wrapperStyle,C=Rde({allowEscapeViewBox:s,coordinate:m,offsetTopLeft:b,position:T,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:O}),B=C.cssClasses,I=C.cssProperties,D=CP(CP({transition:y&&a?"transform ".concat(c,"ms ").concat(d):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&p?"visible":"hidden",position:"absolute",top:0,left:0},R);return ie.createElement("div",{tabIndex:-1,className:B,style:D,ref:function(k){n.wrapperNode=k}},f)}}])})(F.PureComponent),Fde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},R0={isSsr:Fde()};function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function RP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(r),!0).forEach(function(n){Y8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qq(n.key),n)}}function Gde(t,e,r){return e&&Hde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kde(t,e,r){return e=Wv(e),Wde(t,Yq()?Reflect.construct(e,r||[],Wv(t).constructor):e.apply(t,r))}function Wde(t,e){if(e&&(gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xde(t)}function Xde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yq=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wv(t)}function Yde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MT(t,e)}function MT(t,e){return MT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MT(t,e)}function Y8(t,e,r){return e=Qq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qq(t){var e=Qde(t,"string");return gh(e)=="symbol"?e:e+""}function Qde(t,e){if(gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Zde(t){return t.dataKey}function Jde(t,e){return ie.isValidElement(t)?ie.cloneElement(t,e):typeof t=="function"?ie.createElement(t,e):ie.createElement(Nde,e)}var ro=(function(t){function e(){return qde(this,e),Kde(this,e,arguments)}return Yde(e,t),Gde(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,f=i.content,m=i.coordinate,p=i.filterNull,y=i.isAnimationActive,b=i.offset,T=i.payload,S=i.payloadUniqBy,w=i.position,O=i.reverseDirection,R=i.useTranslate3d,C=i.viewBox,B=i.wrapperStyle,I=T??[];p&&I.length&&(I=Vq(T.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),S,Zde));var D=I.length>0;return ie.createElement($de,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:y,active:a,coordinate:m,hasPayload:D,offset:b,position:w,reverseDirection:O,useTranslate3d:R,viewBox:C,wrapperStyle:B},Jde(f,MP(MP({},this.props),{},{payload:I})))}}])})(F.PureComponent);Y8(ro,"displayName","Tooltip");Y8(ro,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!R0.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var c_,PP;function ehe(){if(PP)return c_;PP=1;var t=So(),e=function(){return t.Date.now()};return c_=e,c_}var u_,DP;function the(){if(DP)return u_;DP=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return u_=e,u_}var d_,LP;function rhe(){if(LP)return d_;LP=1;var t=the(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return d_=r,d_}var h_,BP;function Zq(){if(BP)return h_;BP=1;var t=rhe(),e=Jc(),r=Kh(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=e(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=a.test(f);return p||s.test(f)?c(f.slice(2),p?2:8):i.test(f)?n:+f}return h_=d,h_}var f_,UP;function nhe(){if(UP)return f_;UP=1;var t=Jc(),e=ehe(),r=Zq(),n="Expected a function",i=Math.max,a=Math.min;function s(c,d,f){var m,p,y,b,T,S,w=0,O=!1,R=!1,C=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,t(f)&&(O=!!f.leading,R="maxWait"in f,y=R?i(r(f.maxWait)||0,d):y,C="trailing"in f?!!f.trailing:C);function B(z){var Y=m,te=p;return m=p=void 0,w=z,b=c.apply(te,Y),b}function I(z){return w=z,T=setTimeout(k,d),O?B(z):b}function D(z){var Y=z-S,te=z-w,K=d-Y;return R?a(K,y-te):K}function A(z){var Y=z-S,te=z-w;return S===void 0||Y>=d||Y<0||R&&te>=y}function k(){var z=e();if(A(z))return E(z);T=setTimeout(k,D(z))}function E(z){return T=void 0,C&&m?B(z):(m=p=void 0,b)}function U(){T!==void 0&&clearTimeout(T),w=0,m=S=p=T=void 0}function M(){return T===void 0?b:E(e())}function $(){var z=e(),Y=A(z);if(m=arguments,p=this,S=z,Y){if(T===void 0)return I(S);if(R)return clearTimeout(T),T=setTimeout(k,d),B(S)}return T===void 0&&(T=setTimeout(k,d)),b}return $.cancel=U,$.flush=M,$}return f_=s,f_}var m_,zP;function ihe(){if(zP)return m_;zP=1;var t=nhe(),e=Jc(),r="Expected a function";function n(i,a,s){var c=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(c="leading"in s?!!s.leading:c,d="trailing"in s?!!s.trailing:d),t(i,a,{leading:c,maxWait:a,trailing:d})}return m_=n,m_}var ahe=ihe();const Jq=mr(ahe);function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function VP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ny(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(r),!0).forEach(function(n){she(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function she(t,e,r){return e=ohe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ohe(t){var e=lhe(t,"string");return vp(e)=="symbol"?e:e+""}function lhe(t,e){if(vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function che(t,e){return fhe(t)||hhe(t,e)||dhe(t,e)||uhe()}function uhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dhe(t,e){if(t){if(typeof t=="string")return $P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $P(t,e)}}function $P(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function fhe(t){if(Array.isArray(t))return t}var eH=F.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,c=t.height,d=c===void 0?"100%":c,f=t.minWidth,m=f===void 0?0:f,p=t.minHeight,y=t.maxHeight,b=t.children,T=t.debounce,S=T===void 0?0:T,w=t.id,O=t.className,R=t.onResize,C=t.style,B=C===void 0?{}:C,I=F.useRef(null),D=F.useRef();D.current=R,F.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var A=F.useState({containerWidth:i.width,containerHeight:i.height}),k=che(A,2),E=k[0],U=k[1],M=F.useCallback(function(z,Y){U(function(te){var K=Math.round(z),J=Math.round(Y);return te.containerWidth===K&&te.containerHeight===J?te:{containerWidth:K,containerHeight:J}})},[]);F.useEffect(function(){var z=function(ye){var se,X=ye[0].contentRect,ee=X.width,ce=X.height;M(ee,ce),(se=D.current)===null||se===void 0||se.call(D,ee,ce)};S>0&&(z=Jq(z,S,{trailing:!0,leading:!1}));var Y=new ResizeObserver(z),te=I.current.getBoundingClientRect(),K=te.width,J=te.height;return M(K,J),Y.observe(I.current),function(){Y.disconnect()}},[M,S]);var $=F.useMemo(function(){var z=E.containerWidth,Y=E.containerHeight;if(z<0||Y<0)return null;hl(Gu(s)||Gu(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,d),hl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var te=Gu(s)?z:s,K=Gu(d)?Y:d;r&&r>0&&(te?K=te/r:K&&(te=K*r),y&&K>y&&(K=y)),hl(te>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,te,K,s,d,m,p,r);var J=!Array.isArray(b)&&dl(b.type).endsWith("Chart");return ie.Children.map(b,function(Q){return ie.isValidElement(Q)?F.cloneElement(Q,Ny({width:te,height:K},J?{style:Ny({height:"100%",width:"100%",maxHeight:K,maxWidth:te},Q.props.style)}:{})):Q})},[r,b,d,y,p,m,E,s]);return ie.createElement("div",{id:w?"".concat(w):void 0,className:Bt("recharts-responsive-container",O),style:Ny(Ny({},B),{},{width:s,height:d,minWidth:m,minHeight:p,maxHeight:y}),ref:I},$)}),Q8=function(e){return null};Q8.displayName="Cell";function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function FP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(r),!0).forEach(function(n){mhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mhe(t,e,r){return e=phe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function phe(t){var e=ghe(t,"string");return bp(e)=="symbol"?e:e+""}function ghe(t,e){if(bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Od={widthCache:{},cacheCount:0},yhe=2e3,vhe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qP="recharts_measurement_span";function bhe(t){var e=PT({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Dm=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||R0.isSsr)return{width:0,height:0};var n=bhe(r),i=JSON.stringify({text:e,copyStyle:n});if(Od.widthCache[i])return Od.widthCache[i];try{var a=document.getElementById(qP);a||(a=document.createElement("span"),a.setAttribute("id",qP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=PT(PT({},vhe),n);Object.assign(a.style,s),a.textContent="".concat(e);var c=a.getBoundingClientRect(),d={width:c.width,height:c.height};return Od.widthCache[i]=d,++Od.cacheCount>yhe&&(Od.cacheCount=0,Od.widthCache={}),d}catch{return{width:0,height:0}}},xhe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function Xv(t,e){return The(t)||She(t,e)||_he(t,e)||whe()}function whe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _he(t,e){if(t){if(typeof t=="string")return HP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HP(t,e)}}function HP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function She(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function The(t){if(Array.isArray(t))return t}function Ahe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nhe(n.key),n)}}function Ehe(t,e,r){return e&&GP(t.prototype,e),r&&GP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nhe(t){var e=Ohe(t,"string");return xp(e)=="symbol"?e:e+""}function Ohe(t,e){if(xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,khe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jhe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Che=Object.keys(tH),Ud="NaN";function Ihe(t,e){return t*tH[e]}var Oy=(function(){function t(e,r){Ahe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!khe.test(r)&&(this.num=NaN,this.unit=""),Che.includes(r)&&(this.num=Ihe(e,r),this.unit="px")}return Ehe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=jhe.exec(r))!==null&&n!==void 0?n:[],a=Xv(i,3),s=a[1],c=a[2];return new t(parseFloat(s),c??"")}}])})();function rH(t){if(t.includes(Ud))return Ud;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=KP.exec(e))!==null&&r!==void 0?r:[],i=Xv(n,4),a=i[1],s=i[2],c=i[3],d=Oy.parse(a??""),f=Oy.parse(c??""),m=s==="*"?d.multiply(f):d.divide(f);if(m.isNaN())return Ud;e=e.replace(KP,m.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,y=(p=WP.exec(e))!==null&&p!==void 0?p:[],b=Xv(y,4),T=b[1],S=b[2],w=b[3],O=Oy.parse(T??""),R=Oy.parse(w??""),C=S==="+"?O.add(R):O.subtract(R);if(C.isNaN())return Ud;e=e.replace(WP,C.toString())}return e}var XP=/\(([^()]*)\)/;function Rhe(t){for(var e=t;e.includes("(");){var r=XP.exec(e),n=Xv(r,2),i=n[1];e=e.replace(XP,rH(i))}return e}function Mhe(t){var e=t.replace(/\s+/g,"");return e=Rhe(e),e=rH(e),e}function Phe(t){try{return Mhe(t)}catch{return Ud}}function p_(t){var e=Phe(t.slice(5,-1));return e===Ud?"":e}var Dhe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lhe=["dx","dy","angle","className","breakAll"];function DT(){return DT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DT.apply(this,arguments)}function YP(t,e){if(t==null)return{};var r=Bhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QP(t,e){return $he(t)||Vhe(t,e)||zhe(t,e)||Uhe()}function Uhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zhe(t,e){if(t){if(typeof t=="string")return ZP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZP(t,e)}}function ZP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function $he(t){if(Array.isArray(t))return t}var nH=/[ \f\n\r\t\v\u2028\u2029]+/,iH=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Mt(r)||(n?a=r.toString().split(""):a=r.toString().split(nH));var s=a.map(function(d){return{word:d,width:Dm(d,i).width}}),c=n?0:Dm("",i).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}},Fhe=function(e,r,n,i,a){var s=e.maxLines,c=e.children,d=e.style,f=e.breakAll,m=Ze(s),p=c,y=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return te.reduce(function(K,J){var Q=J.word,ye=J.width,se=K[K.length-1];if(se&&(i==null||a||se.width+ye+n<Number(i)))se.words.push(Q),se.width+=ye+n;else{var X={words:[Q],width:ye};K.push(X)}return K},[])},b=y(r),T=function(te){return te.reduce(function(K,J){return K.width>J.width?K:J})};if(!m)return b;for(var S="",w=function(te){var K=p.slice(0,te),J=iH({breakAll:f,style:d,children:K+S}).wordsWithComputedWidth,Q=y(J),ye=Q.length>s||T(Q).width>Number(i);return[ye,Q]},O=0,R=p.length-1,C=0,B;O<=R&&C<=p.length-1;){var I=Math.floor((O+R)/2),D=I-1,A=w(D),k=QP(A,2),E=k[0],U=k[1],M=w(I),$=QP(M,1),z=$[0];if(!E&&!z&&(O=I+1),E&&z&&(R=I-1),!E&&z){B=U;break}C++}return B||b},JP=function(e){var r=Mt(e)?[]:e.toString().split(nH);return[{words:r}]},qhe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,c=e.maxLines;if((r||n)&&!R0.isSsr){var d,f,m=iH({breakAll:s,children:i,style:a});if(m){var p=m.wordsWithComputedWidth,y=m.spaceWidth;d=p,f=y}else return JP(i);return Fhe({breakAll:s,children:i,maxLines:c,style:a},d,f,r,n)}return JP(i)},eD="#808080",yh=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,c=s===void 0?"1em":s,d=e.capHeight,f=d===void 0?"0.71em":d,m=e.scaleToFit,p=m===void 0?!1:m,y=e.textAnchor,b=y===void 0?"start":y,T=e.verticalAnchor,S=T===void 0?"end":T,w=e.fill,O=w===void 0?eD:w,R=YP(e,Dhe),C=F.useMemo(function(){return qhe({breakAll:R.breakAll,children:R.children,maxLines:R.maxLines,scaleToFit:p,style:R.style,width:R.width})},[R.breakAll,R.children,R.maxLines,p,R.style,R.width]),B=R.dx,I=R.dy,D=R.angle,A=R.className,k=R.breakAll,E=YP(R,Lhe);if(!Hn(n)||!Hn(a))return null;var U=n+(Ze(B)?B:0),M=a+(Ze(I)?I:0),$;switch(S){case"start":$=p_("calc(".concat(f,")"));break;case"middle":$=p_("calc(".concat((C.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:$=p_("calc(".concat(C.length-1," * -").concat(c,")"));break}var z=[];if(p){var Y=C[0].width,te=R.width;z.push("scale(".concat((Ze(te)?te/Y:1)/Y,")"))}return D&&z.push("rotate(".concat(D,", ").concat(U,", ").concat(M,")")),z.length&&(E.transform=z.join(" ")),ie.createElement("text",DT({},vt(E,!0),{x:U,y:M,className:Bt("recharts-text",A),textAnchor:b,fill:O.includes("url")?eD:O}),C.map(function(K,J){var Q=K.words.join(k?"":" ");return ie.createElement("tspan",{x:U,dy:J===0?$:c,key:"".concat(Q,"-").concat(J)},Q)}))};function Uc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hhe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Z8(t){let e,r,n;t.length!==2?(e=Uc,r=(c,d)=>Uc(t(c),d),n=(c,d)=>t(c)-d):(e=t===Uc||t===Hhe?t:Ghe,r=t,n=t);function i(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;r(c[p],d)<0?f=p+1:m=p}while(f<m)}return f}function a(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;r(c[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function s(c,d,f=0,m=c.length){const p=i(c,d,f,m-1);return p>f&&n(c[p-1],d)>-n(c[p],d)?p-1:p}return{left:i,center:s,right:a}}function Ghe(){return 0}function aH(t){return t===null?NaN:+t}function*Khe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Whe=Z8(Uc),Tg=Whe.right;Z8(aH).center;class tD extends Map{constructor(e,r=Qhe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(rD(this,e))}has(e){return super.has(rD(this,e))}set(e,r){return super.set(Xhe(this,e),r)}delete(e){return super.delete(Yhe(this,e))}}function rD({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Xhe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Yhe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Qhe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Zhe(t=Uc){if(t===Uc)return sH;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function sH(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Jhe=Math.sqrt(50),efe=Math.sqrt(10),tfe=Math.sqrt(2);function Yv(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Jhe?10:a>=efe?5:a>=tfe?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/s,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*s,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=r&&r<2?Yv(t,e,r*2):[c,d,f]}function LT(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?Yv(e,t,r):Yv(t,e,r);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(n)if(s<0)for(let f=0;f<c;++f)d[f]=(a-f)/-s;else for(let f=0;f<c;++f)d[f]=(a-f)*s;else if(s<0)for(let f=0;f<c;++f)d[f]=(i+f)/-s;else for(let f=0;f<c;++f)d[f]=(i+f)*s;return d}function BT(t,e,r){return e=+e,t=+t,r=+r,Yv(t,e,r)[2]}function UT(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?BT(e,t,r):BT(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function nD(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function iD(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function oH(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?sH:Zhe(i);n>r;){if(n-r>600){const d=n-r+1,f=e-r+1,m=Math.log(d),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),b=Math.max(r,Math.floor(e-f*p/d+y)),T=Math.min(n,Math.floor(e+(d-f)*p/d+y));oH(t,e,b,T,i)}const a=t[e];let s=r,c=n;for(om(t,r,e),i(t[n],a)>0&&om(t,r,n);s<c;){for(om(t,s,c),++s,--c;i(t[s],a)<0;)++s;for(;i(t[c],a)>0;)--c}i(t[r],a)===0?om(t,r,c):(++c,om(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function om(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function rfe(t,e,r){if(t=Float64Array.from(Khe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return iD(t);if(e>=1)return nD(t);var n,i=(n-1)*e,a=Math.floor(i),s=nD(oH(t,a).subarray(0,a+1)),c=iD(t.subarray(a+1));return s+(c-s)*(i-a)}}function nfe(t,e,r=aH){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),c=+r(t[a+1],a+1,t);return s+(c-s)*(i-a)}}function ife(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function gs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Il(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const zT=Symbol("implicit");function J8(){var t=new tD,e=[],r=[],n=zT;function i(a){let s=t.get(a);if(s===void 0){if(n!==zT)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new tD;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return J8(e,r).unknown(n)},gs.apply(i,arguments),i}function wp(){var t=J8().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,c=!1,d=0,f=0,m=.5;delete t.unknown;function p(){var y=e().length,b=i<n,T=b?i:n,S=b?n:i;a=(S-T)/Math.max(1,y-d+f*2),c&&(a=Math.floor(a)),T+=(S-T-a*(y-d))*m,s=a*(1-d),c&&(T=Math.round(T),s=Math.round(s));var w=ife(y).map(function(O){return T+a*O});return r(b?w.reverse():w)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,c=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(c=!!y,p()):c},t.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),p()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),p()):d},t.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},t.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),p()):m},t.copy=function(){return wp(e(),[n,i]).round(c).paddingInner(d).paddingOuter(f).align(m)},gs.apply(p(),arguments)}function lH(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lH(e())},t}function Lm(){return lH(wp.apply(null,arguments).paddingInner(1))}function eE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function cH(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ag(){}var _p=.7,Qv=1/_p,Qd="\\s*([+-]?\\d+)\\s*",Sp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",afe=/^#([0-9a-f]{3,8})$/,sfe=new RegExp(`^rgb\\(${Qd},${Qd},${Qd}\\)$`),ofe=new RegExp(`^rgb\\(${ho},${ho},${ho}\\)$`),lfe=new RegExp(`^rgba\\(${Qd},${Qd},${Qd},${Sp}\\)$`),cfe=new RegExp(`^rgba\\(${ho},${ho},${ho},${Sp}\\)$`),ufe=new RegExp(`^hsl\\(${Sp},${ho},${ho}\\)$`),dfe=new RegExp(`^hsla\\(${Sp},${ho},${ho},${Sp}\\)$`),aD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eE(Ag,Tp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sD,formatHex:sD,formatHex8:hfe,formatHsl:ffe,formatRgb:oD,toString:oD});function sD(){return this.rgb().formatHex()}function hfe(){return this.rgb().formatHex8()}function ffe(){return uH(this).formatHsl()}function oD(){return this.rgb().formatRgb()}function Tp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=afe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?lD(e):r===3?new ma(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ky(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ky(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sfe.exec(t))?new ma(e[1],e[2],e[3],1):(e=ofe.exec(t))?new ma(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=lfe.exec(t))?ky(e[1],e[2],e[3],e[4]):(e=cfe.exec(t))?ky(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ufe.exec(t))?dD(e[1],e[2]/100,e[3]/100,1):(e=dfe.exec(t))?dD(e[1],e[2]/100,e[3]/100,e[4]):aD.hasOwnProperty(t)?lD(aD[t]):t==="transparent"?new ma(NaN,NaN,NaN,0):null}function lD(t){return new ma(t>>16&255,t>>8&255,t&255,1)}function ky(t,e,r,n){return n<=0&&(t=e=r=NaN),new ma(t,e,r,n)}function mfe(t){return t instanceof Ag||(t=Tp(t)),t?(t=t.rgb(),new ma(t.r,t.g,t.b,t.opacity)):new ma}function VT(t,e,r,n){return arguments.length===1?mfe(t):new ma(t,e,r,n??1)}function ma(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}eE(ma,VT,cH(Ag,{brighter(t){return t=t==null?Qv:Math.pow(Qv,t),new ma(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_p:Math.pow(_p,t),new ma(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ma(n0(this.r),n0(this.g),n0(this.b),Zv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cD,formatHex:cD,formatHex8:pfe,formatRgb:uD,toString:uD}));function cD(){return`#${Ku(this.r)}${Ku(this.g)}${Ku(this.b)}`}function pfe(){return`#${Ku(this.r)}${Ku(this.g)}${Ku(this.b)}${Ku((isNaN(this.opacity)?1:this.opacity)*255)}`}function uD(){const t=Zv(this.opacity);return`${t===1?"rgb(":"rgba("}${n0(this.r)}, ${n0(this.g)}, ${n0(this.b)}${t===1?")":`, ${t})`}`}function Zv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function n0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ku(t){return t=n0(t),(t<16?"0":"")+t.toString(16)}function dD(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Cs(t,e,r,n)}function uH(t){if(t instanceof Cs)return new Cs(t.h,t.s,t.l,t.opacity);if(t instanceof Ag||(t=Tp(t)),!t)return new Cs;if(t instanceof Cs)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,c=a-i,d=(a+i)/2;return c?(e===a?s=(r-n)/c+(r<n)*6:r===a?s=(n-e)/c+2:s=(e-r)/c+4,c/=d<.5?a+i:2-a-i,s*=60):c=d>0&&d<1?0:s,new Cs(s,c,d,t.opacity)}function gfe(t,e,r,n){return arguments.length===1?uH(t):new Cs(t,e,r,n??1)}function Cs(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}eE(Cs,gfe,cH(Ag,{brighter(t){return t=t==null?Qv:Math.pow(Qv,t),new Cs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_p:Math.pow(_p,t),new Cs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ma(g_(t>=240?t-240:t+120,i,n),g_(t,i,n),g_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Cs(hD(this.h),jy(this.s),jy(this.l),Zv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Zv(this.opacity);return`${t===1?"hsl(":"hsla("}${hD(this.h)}, ${jy(this.s)*100}%, ${jy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hD(t){return t=(t||0)%360,t<0?t+360:t}function jy(t){return Math.max(0,Math.min(1,t||0))}function g_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const tE=t=>()=>t;function yfe(t,e){return function(r){return t+r*e}}function vfe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function bfe(t){return(t=+t)==1?dH:function(e,r){return r-e?vfe(e,r,t):tE(isNaN(e)?r:e)}}function dH(t,e){var r=e-t;return r?yfe(t,r):tE(isNaN(t)?e:t)}const fD=(function t(e){var r=bfe(e);function n(i,a){var s=r((i=VT(i)).r,(a=VT(a)).r),c=r(i.g,a.g),d=r(i.b,a.b),f=dH(i.opacity,a.opacity);return function(m){return i.r=s(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return n.gamma=t,n})(1);function xfe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function wfe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _fe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Yh(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(c){for(s=0;s<n;++s)a[s]=i[s](c);return a}}function Sfe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Jv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Tfe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Yh(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var $T=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,y_=new RegExp($T.source,"g");function Afe(t){return function(){return t}}function Efe(t){return function(e){return t(e)+""}}function Nfe(t,e){var r=$T.lastIndex=y_.lastIndex=0,n,i,a,s=-1,c=[],d=[];for(t=t+"",e=e+"";(n=$T.exec(t))&&(i=y_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),c[s]?c[s]+=a:c[++s]=a),(n=n[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,d.push({i:s,x:Jv(n,i)})),r=y_.lastIndex;return r<e.length&&(a=e.slice(r),c[s]?c[s]+=a:c[++s]=a),c.length<2?d[0]?Efe(d[0].x):Afe(e):(e=d.length,function(f){for(var m=0,p;m<e;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function Yh(t,e){var r=typeof e,n;return e==null||r==="boolean"?tE(e):(r==="number"?Jv:r==="string"?(n=Tp(e))?(e=n,fD):Nfe:e instanceof Tp?fD:e instanceof Date?Sfe:wfe(e)?xfe:Array.isArray(e)?_fe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Tfe:Jv)(t,e)}function rE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Ofe(t,e){e===void 0&&(e=t,t=Yh);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var c=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[c](s-c)}}function kfe(t){return function(){return t}}function eb(t){return+t}var mD=[0,1];function Ki(t){return t}function FT(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:kfe(isNaN(e)?NaN:.5)}function jfe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Cfe(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=FT(i,n),a=r(s,a)):(n=FT(n,i),a=r(a,s)),function(c){return a(n(c))}}function Ife(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=FT(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(c){var d=Tg(t,c,1,n)-1;return a[d](i[d](c))}}function Eg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fx(){var t=mD,e=mD,r=Yh,n,i,a,s=Ki,c,d,f;function m(){var y=Math.min(t.length,e.length);return s!==Ki&&(s=jfe(t[0],t[y-1])),c=y>2?Ife:Cfe,d=f=null,p}function p(y){return y==null||isNaN(y=+y)?a:(d||(d=c(t.map(n),e,r)))(n(s(y)))}return p.invert=function(y){return s(i((f||(f=c(e,t.map(n),Jv)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,eb),m()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),m()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),r=rE,m()},p.clamp=function(y){return arguments.length?(s=y?!0:Ki,m()):s!==Ki},p.interpolate=function(y){return arguments.length?(r=y,m()):r},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,b){return n=y,i=b,m()}}function nE(){return Fx()(Ki,Ki)}function Rfe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tb(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function vh(t){return t=tb(Math.abs(t)),t?t[1]:NaN}function Mfe(t,e){return function(r,n){for(var i=r.length,a=[],s=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),a.push(r.substring(i-=c,i+c)),!((d+=c+1)>n));)c=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Pfe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Dfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ap(t){if(!(e=Dfe.exec(t)))throw new Error("invalid format: "+t);var e;return new iE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ap.prototype=iE.prototype;function iE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}iE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lfe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var rb;function Bfe(t,e){var r=tb(t,e);if(!r)return rb=void 0,t.toPrecision(e);var n=r[0],i=r[1],a=i-(rb=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+tb(t,Math.max(0,e+a-1))[0]}function pD(t,e){var r=tb(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const gD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Rfe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>pD(t*100,e),r:pD,s:Bfe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function yD(t){return t}var vD=Array.prototype.map,bD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ufe(t){var e=t.grouping===void 0||t.thousands===void 0?yD:Mfe(vD.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?yD:Pfe(vD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(p,y){p=Ap(p);var b=p.fill,T=p.align,S=p.sign,w=p.symbol,O=p.zero,R=p.width,C=p.comma,B=p.precision,I=p.trim,D=p.type;D==="n"?(C=!0,D="g"):gD[D]||(B===void 0&&(B=12),I=!0,D="g"),(O||b==="0"&&T==="=")&&(O=!0,b="0",T="=");var A=(y&&y.prefix!==void 0?y.prefix:"")+(w==="$"?r:w==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():""),k=(w==="$"?n:/[%p]/.test(D)?s:"")+(y&&y.suffix!==void 0?y.suffix:""),E=gD[D],U=/[defgprs%]/.test(D);B=B===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function M($){var z=A,Y=k,te,K,J;if(D==="c")Y=E($)+Y,$="";else{$=+$;var Q=$<0||1/$<0;if($=isNaN($)?d:E(Math.abs($),B),I&&($=Lfe($)),Q&&+$==0&&S!=="+"&&(Q=!1),z=(Q?S==="("?S:c:S==="-"||S==="("?"":S)+z,Y=(D==="s"&&!isNaN($)&&rb!==void 0?bD[8+rb/3]:"")+Y+(Q&&S==="("?")":""),U){for(te=-1,K=$.length;++te<K;)if(J=$.charCodeAt(te),48>J||J>57){Y=(J===46?i+$.slice(te+1):$.slice(te))+Y,$=$.slice(0,te);break}}}C&&!O&&($=e($,1/0));var ye=z.length+$.length+Y.length,se=ye<R?new Array(R-ye+1).join(b):"";switch(C&&O&&($=e(se+$,se.length?R-Y.length:1/0),se=""),T){case"<":$=z+$+Y+se;break;case"=":$=z+se+$+Y;break;case"^":$=se.slice(0,ye=se.length>>1)+z+$+Y+se.slice(ye);break;default:$=se+z+$+Y;break}return a($)}return M.toString=function(){return p+""},M}function m(p,y){var b=Math.max(-8,Math.min(8,Math.floor(vh(y)/3)))*3,T=Math.pow(10,-b),S=f((p=Ap(p),p.type="f",p),{suffix:bD[8+b/3]});return function(w){return S(T*w)}}return{format:f,formatPrefix:m}}var Cy,aE,hH;zfe({thousands:",",grouping:[3],currency:["$",""]});function zfe(t){return Cy=Ufe(t),aE=Cy.format,hH=Cy.formatPrefix,Cy}function Vfe(t){return Math.max(0,-vh(Math.abs(t)))}function $fe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vh(e)/3)))*3-vh(Math.abs(t)))}function Ffe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vh(e)-vh(t))+1}function fH(t,e,r,n){var i=UT(t,e,r),a;switch(n=Ap(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=$fe(i,s))&&(n.precision=a),hH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Ffe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Vfe(i))&&(n.precision=a-(n.type==="%")*2);break}}return aE(n)}function eu(t){var e=t.domain;return t.ticks=function(r){var n=e();return LT(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return fH(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],c=n[a],d,f,m=10;for(c<s&&(f=s,s=c,c=f,f=i,i=a,a=f);m-- >0;){if(f=BT(s,c,r),f===d)return n[i]=s,n[a]=c,e(n);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function nb(){var t=nE();return t.copy=function(){return Eg(t,nb())},gs.apply(t,arguments),eu(t)}function mH(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,eb),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return mH(t).unknown(e)},t=arguments.length?Array.from(t,eb):[0,1],eu(r)}function pH(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function xD(t){return Math.log(t)}function wD(t){return Math.exp(t)}function qfe(t){return-Math.log(-t)}function Hfe(t){return-Math.exp(-t)}function Gfe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Kfe(t){return t===10?Gfe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Wfe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function _D(t){return(e,r)=>-t(-e,r)}function sE(t){const e=t(xD,wD),r=e.domain;let n=10,i,a;function s(){return i=Wfe(n),a=Kfe(n),r()[0]<0?(i=_D(i),a=_D(a),t(qfe,Hfe)):t(xD,wD),e}return e.base=function(c){return arguments.length?(n=+c,s()):n},e.domain=function(c){return arguments.length?(r(c),s()):r()},e.ticks=c=>{const d=r();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let y=i(f),b=i(m),T,S;const w=c==null?10:+c;let O=[];if(!(n%1)&&b-y<w){if(y=Math.floor(y),b=Math.ceil(b),f>0){for(;y<=b;++y)for(T=1;T<n;++T)if(S=y<0?T/a(-y):T*a(y),!(S<f)){if(S>m)break;O.push(S)}}else for(;y<=b;++y)for(T=n-1;T>=1;--T)if(S=y>0?T/a(-y):T*a(y),!(S<f)){if(S>m)break;O.push(S)}O.length*2<w&&(O=LT(f,m,w))}else O=LT(y,b,Math.min(b-y,w)).map(a);return p?O.reverse():O},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Ap(d)).precision==null&&(d.trim=!0),d=aE(d)),c===1/0)return d;const f=Math.max(1,n*c/e.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*n<n-.5&&(p*=n),p<=f?d(m):""}},e.nice=()=>r(pH(r(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function gH(){const t=sE(Fx()).domain([1,10]);return t.copy=()=>Eg(t,gH()).base(t.base()),gs.apply(t,arguments),t}function SD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function TD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function oE(t){var e=1,r=t(SD(e),TD(e));return r.constant=function(n){return arguments.length?t(SD(e=+n),TD(e)):e},eu(r)}function yH(){var t=oE(Fx());return t.copy=function(){return Eg(t,yH()).constant(t.constant())},gs.apply(t,arguments)}function AD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xfe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Yfe(t){return t<0?-t*t:t*t}function lE(t){var e=t(Ki,Ki),r=1;function n(){return r===1?t(Ki,Ki):r===.5?t(Xfe,Yfe):t(AD(r),AD(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},eu(e)}function cE(){var t=lE(Fx());return t.copy=function(){return Eg(t,cE()).exponent(t.exponent())},gs.apply(t,arguments),t}function Qfe(){return cE.apply(null,arguments).exponent(.5)}function ED(t){return Math.sign(t)*t*t}function Zfe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function vH(){var t=nE(),e=[0,1],r=!1,n;function i(a){var s=Zfe(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(ED(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,eb)).map(ED)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return vH(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},gs.apply(i,arguments),eu(i)}function bH(){var t=[],e=[],r=[],n;function i(){var s=0,c=Math.max(1,e.length);for(r=new Array(c-1);++s<c;)r[s-1]=nfe(t,s/c);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Tg(r,s)]}return a.invertExtent=function(s){var c=e.indexOf(s);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let c of s)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Uc),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return bH().domain(t).range(e).unknown(n)},gs.apply(a,arguments)}function xH(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(d){return d!=null&&d<=d?i[Tg(n,d,0,r)]:a}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return s}return s.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},s.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,c()):i.slice()},s.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(d){return arguments.length&&(a=d),s},s.thresholds=function(){return n.slice()},s.copy=function(){return xH().domain([t,e]).range(i).unknown(a)},gs.apply(eu(s),arguments)}function wH(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Tg(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return wH().domain(t).range(e).unknown(r)},gs.apply(i,arguments)}const v_=new Date,b_=new Date;function Xn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),c=i.ceil(a);return a-s<c-a?s:c},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<s)||!(c>0))return d;let f;do d.push(f=new Date(+a)),e(a,c),t(a);while(f<a&&a<s);return d},i.filter=a=>Xn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;e(s,-1),!a(s););else for(;--c>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(v_.setTime(+a),b_.setTime(+s),t(v_),t(b_),Math.floor(r(v_,b_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ib=Xn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ib.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Xn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):ib);ib.range;const al=1e3,ns=al*60,sl=ns*60,Sl=sl*24,uE=Sl*7,ND=Sl*30,x_=Sl*365,Wu=Xn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*al)},(t,e)=>(e-t)/al,t=>t.getUTCSeconds());Wu.range;const dE=Xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*al)},(t,e)=>{t.setTime(+t+e*ns)},(t,e)=>(e-t)/ns,t=>t.getMinutes());dE.range;const hE=Xn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ns)},(t,e)=>(e-t)/ns,t=>t.getUTCMinutes());hE.range;const fE=Xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*al-t.getMinutes()*ns)},(t,e)=>{t.setTime(+t+e*sl)},(t,e)=>(e-t)/sl,t=>t.getHours());fE.range;const mE=Xn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*sl)},(t,e)=>(e-t)/sl,t=>t.getUTCHours());mE.range;const Ng=Xn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ns)/Sl,t=>t.getDate()-1);Ng.range;const qx=Xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Sl,t=>t.getUTCDate()-1);qx.range;const _H=Xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Sl,t=>Math.floor(t/Sl));_H.range;function M0(t){return Xn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ns)/uE)}const Hx=M0(0),ab=M0(1),Jfe=M0(2),eme=M0(3),bh=M0(4),tme=M0(5),rme=M0(6);Hx.range;ab.range;Jfe.range;eme.range;bh.range;tme.range;rme.range;function P0(t){return Xn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/uE)}const Gx=P0(0),sb=P0(1),nme=P0(2),ime=P0(3),xh=P0(4),ame=P0(5),sme=P0(6);Gx.range;sb.range;nme.range;ime.range;xh.range;ame.range;sme.range;const pE=Xn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());pE.range;const gE=Xn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gE.range;const Tl=Xn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Tl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Tl.range;const Al=Xn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Al.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Al.range;function SH(t,e,r,n,i,a){const s=[[Wu,1,al],[Wu,5,5*al],[Wu,15,15*al],[Wu,30,30*al],[a,1,ns],[a,5,5*ns],[a,15,15*ns],[a,30,30*ns],[i,1,sl],[i,3,3*sl],[i,6,6*sl],[i,12,12*sl],[n,1,Sl],[n,2,2*Sl],[r,1,uE],[e,1,ND],[e,3,3*ND],[t,1,x_]];function c(f,m,p){const y=m<f;y&&([f,m]=[m,f]);const b=p&&typeof p.range=="function"?p:d(f,m,p),T=b?b.range(f,+m+1):[];return y?T.reverse():T}function d(f,m,p){const y=Math.abs(m-f)/p,b=Z8(([,,w])=>w).right(s,y);if(b===s.length)return t.every(UT(f/x_,m/x_,p));if(b===0)return ib.every(Math.max(UT(f,m,p),1));const[T,S]=s[y/s[b-1][2]<s[b][2]/y?b-1:b];return T.every(S)}return[c,d]}const[ome,lme]=SH(Al,gE,Gx,_H,mE,hE),[cme,ume]=SH(Tl,pE,Hx,Ng,fE,dE);function w_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function __(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lm(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function dme(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,c=t.months,d=t.shortMonths,f=cm(i),m=um(i),p=cm(a),y=um(a),b=cm(s),T=um(s),S=cm(c),w=um(c),O=cm(d),R=um(d),C={a:J,A:Q,b:ye,B:se,c:null,d:RD,e:RD,f:Mme,g:qme,G:Gme,H:Cme,I:Ime,j:Rme,L:TH,m:Pme,M:Dme,p:X,q:ee,Q:DD,s:LD,S:Lme,u:Bme,U:Ume,V:zme,w:Vme,W:$me,x:null,X:null,y:Fme,Y:Hme,Z:Kme,"%":PD},B={a:ce,A:Ne,b:oe,B:Oe,c:null,d:MD,e:MD,f:Qme,g:ope,G:cpe,H:Wme,I:Xme,j:Yme,L:EH,m:Zme,M:Jme,p:Me,q:it,Q:DD,s:LD,S:epe,u:tpe,U:rpe,V:npe,w:ipe,W:ape,x:null,X:null,y:spe,Y:lpe,Z:upe,"%":PD},I={a:U,A:M,b:$,B:z,c:Y,d:CD,e:CD,f:Nme,g:jD,G:kD,H:ID,I:ID,j:Sme,L:Eme,m:_me,M:Tme,p:E,q:wme,Q:kme,s:jme,S:Ame,u:gme,U:yme,V:vme,w:pme,W:bme,x:te,X:K,y:jD,Y:kD,Z:xme,"%":Ome};C.x=D(r,C),C.X=D(n,C),C.c=D(e,C),B.x=D(r,B),B.X=D(n,B),B.c=D(e,B);function D(Ee,He){return function(he){var ge=[],We=-1,Ve=0,nt=Ee.length,ct,Wt,Ie;for(he instanceof Date||(he=new Date(+he));++We<nt;)Ee.charCodeAt(We)===37&&(ge.push(Ee.slice(Ve,We)),(Wt=OD[ct=Ee.charAt(++We)])!=null?ct=Ee.charAt(++We):Wt=ct==="e"?" ":"0",(Ie=He[ct])&&(ct=Ie(he,Wt)),ge.push(ct),Ve=We+1);return ge.push(Ee.slice(Ve,We)),ge.join("")}}function A(Ee,He){return function(he){var ge=lm(1900,void 0,1),We=k(ge,Ee,he+="",0),Ve,nt;if(We!=he.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(He&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Ve=__(lm(ge.y,0,1)),nt=Ve.getUTCDay(),Ve=nt>4||nt===0?sb.ceil(Ve):sb(Ve),Ve=qx.offset(Ve,(ge.V-1)*7),ge.y=Ve.getUTCFullYear(),ge.m=Ve.getUTCMonth(),ge.d=Ve.getUTCDate()+(ge.w+6)%7):(Ve=w_(lm(ge.y,0,1)),nt=Ve.getDay(),Ve=nt>4||nt===0?ab.ceil(Ve):ab(Ve),Ve=Ng.offset(Ve,(ge.V-1)*7),ge.y=Ve.getFullYear(),ge.m=Ve.getMonth(),ge.d=Ve.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),nt="Z"in ge?__(lm(ge.y,0,1)).getUTCDay():w_(lm(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(nt+5)%7:ge.w+ge.U*7-(nt+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,__(ge)):w_(ge)}}function k(Ee,He,he,ge){for(var We=0,Ve=He.length,nt=he.length,ct,Wt;We<Ve;){if(ge>=nt)return-1;if(ct=He.charCodeAt(We++),ct===37){if(ct=He.charAt(We++),Wt=I[ct in OD?He.charAt(We++):ct],!Wt||(ge=Wt(Ee,he,ge))<0)return-1}else if(ct!=he.charCodeAt(ge++))return-1}return ge}function E(Ee,He,he){var ge=f.exec(He.slice(he));return ge?(Ee.p=m.get(ge[0].toLowerCase()),he+ge[0].length):-1}function U(Ee,He,he){var ge=b.exec(He.slice(he));return ge?(Ee.w=T.get(ge[0].toLowerCase()),he+ge[0].length):-1}function M(Ee,He,he){var ge=p.exec(He.slice(he));return ge?(Ee.w=y.get(ge[0].toLowerCase()),he+ge[0].length):-1}function $(Ee,He,he){var ge=O.exec(He.slice(he));return ge?(Ee.m=R.get(ge[0].toLowerCase()),he+ge[0].length):-1}function z(Ee,He,he){var ge=S.exec(He.slice(he));return ge?(Ee.m=w.get(ge[0].toLowerCase()),he+ge[0].length):-1}function Y(Ee,He,he){return k(Ee,e,He,he)}function te(Ee,He,he){return k(Ee,r,He,he)}function K(Ee,He,he){return k(Ee,n,He,he)}function J(Ee){return s[Ee.getDay()]}function Q(Ee){return a[Ee.getDay()]}function ye(Ee){return d[Ee.getMonth()]}function se(Ee){return c[Ee.getMonth()]}function X(Ee){return i[+(Ee.getHours()>=12)]}function ee(Ee){return 1+~~(Ee.getMonth()/3)}function ce(Ee){return s[Ee.getUTCDay()]}function Ne(Ee){return a[Ee.getUTCDay()]}function oe(Ee){return d[Ee.getUTCMonth()]}function Oe(Ee){return c[Ee.getUTCMonth()]}function Me(Ee){return i[+(Ee.getUTCHours()>=12)]}function it(Ee){return 1+~~(Ee.getUTCMonth()/3)}return{format:function(Ee){var He=D(Ee+="",C);return He.toString=function(){return Ee},He},parse:function(Ee){var He=A(Ee+="",!1);return He.toString=function(){return Ee},He},utcFormat:function(Ee){var He=D(Ee+="",B);return He.toString=function(){return Ee},He},utcParse:function(Ee){var He=A(Ee+="",!0);return He.toString=function(){return Ee},He}}}var OD={"-":"",_:" ",0:"0"},ai=/^\s*\d+/,hme=/^%/,fme=/[\\^$*+?|[\]().{}]/g;function hr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function mme(t){return t.replace(fme,"\\$&")}function cm(t){return new RegExp("^(?:"+t.map(mme).join("|")+")","i")}function um(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function pme(t,e,r){var n=ai.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function gme(t,e,r){var n=ai.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function yme(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function vme(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function bme(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function kD(t,e,r){var n=ai.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function jD(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xme(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function wme(t,e,r){var n=ai.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function _me(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function CD(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Sme(t,e,r){var n=ai.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function ID(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Tme(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Ame(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Eme(t,e,r){var n=ai.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Nme(t,e,r){var n=ai.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Ome(t,e,r){var n=hme.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function kme(t,e,r){var n=ai.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function jme(t,e,r){var n=ai.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function RD(t,e){return hr(t.getDate(),e,2)}function Cme(t,e){return hr(t.getHours(),e,2)}function Ime(t,e){return hr(t.getHours()%12||12,e,2)}function Rme(t,e){return hr(1+Ng.count(Tl(t),t),e,3)}function TH(t,e){return hr(t.getMilliseconds(),e,3)}function Mme(t,e){return TH(t,e)+"000"}function Pme(t,e){return hr(t.getMonth()+1,e,2)}function Dme(t,e){return hr(t.getMinutes(),e,2)}function Lme(t,e){return hr(t.getSeconds(),e,2)}function Bme(t){var e=t.getDay();return e===0?7:e}function Ume(t,e){return hr(Hx.count(Tl(t)-1,t),e,2)}function AH(t){var e=t.getDay();return e>=4||e===0?bh(t):bh.ceil(t)}function zme(t,e){return t=AH(t),hr(bh.count(Tl(t),t)+(Tl(t).getDay()===4),e,2)}function Vme(t){return t.getDay()}function $me(t,e){return hr(ab.count(Tl(t)-1,t),e,2)}function Fme(t,e){return hr(t.getFullYear()%100,e,2)}function qme(t,e){return t=AH(t),hr(t.getFullYear()%100,e,2)}function Hme(t,e){return hr(t.getFullYear()%1e4,e,4)}function Gme(t,e){var r=t.getDay();return t=r>=4||r===0?bh(t):bh.ceil(t),hr(t.getFullYear()%1e4,e,4)}function Kme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+hr(e/60|0,"0",2)+hr(e%60,"0",2)}function MD(t,e){return hr(t.getUTCDate(),e,2)}function Wme(t,e){return hr(t.getUTCHours(),e,2)}function Xme(t,e){return hr(t.getUTCHours()%12||12,e,2)}function Yme(t,e){return hr(1+qx.count(Al(t),t),e,3)}function EH(t,e){return hr(t.getUTCMilliseconds(),e,3)}function Qme(t,e){return EH(t,e)+"000"}function Zme(t,e){return hr(t.getUTCMonth()+1,e,2)}function Jme(t,e){return hr(t.getUTCMinutes(),e,2)}function epe(t,e){return hr(t.getUTCSeconds(),e,2)}function tpe(t){var e=t.getUTCDay();return e===0?7:e}function rpe(t,e){return hr(Gx.count(Al(t)-1,t),e,2)}function NH(t){var e=t.getUTCDay();return e>=4||e===0?xh(t):xh.ceil(t)}function npe(t,e){return t=NH(t),hr(xh.count(Al(t),t)+(Al(t).getUTCDay()===4),e,2)}function ipe(t){return t.getUTCDay()}function ape(t,e){return hr(sb.count(Al(t)-1,t),e,2)}function spe(t,e){return hr(t.getUTCFullYear()%100,e,2)}function ope(t,e){return t=NH(t),hr(t.getUTCFullYear()%100,e,2)}function lpe(t,e){return hr(t.getUTCFullYear()%1e4,e,4)}function cpe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?xh(t):xh.ceil(t),hr(t.getUTCFullYear()%1e4,e,4)}function upe(){return"+0000"}function PD(){return"%"}function DD(t){return+t}function LD(t){return Math.floor(+t/1e3)}var kd,OH,kH;dpe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dpe(t){return kd=dme(t),OH=kd.format,kd.parse,kH=kd.utcFormat,kd.utcParse,kd}function hpe(t){return new Date(t)}function fpe(t){return t instanceof Date?+t:+new Date(+t)}function yE(t,e,r,n,i,a,s,c,d,f){var m=nE(),p=m.invert,y=m.domain,b=f(".%L"),T=f(":%S"),S=f("%I:%M"),w=f("%I %p"),O=f("%a %d"),R=f("%b %d"),C=f("%B"),B=f("%Y");function I(D){return(d(D)<D?b:c(D)<D?T:s(D)<D?S:a(D)<D?w:n(D)<D?i(D)<D?O:R:r(D)<D?C:B)(D)}return m.invert=function(D){return new Date(p(D))},m.domain=function(D){return arguments.length?y(Array.from(D,fpe)):y().map(hpe)},m.ticks=function(D){var A=y();return t(A[0],A[A.length-1],D??10)},m.tickFormat=function(D,A){return A==null?I:f(A)},m.nice=function(D){var A=y();return(!D||typeof D.range!="function")&&(D=e(A[0],A[A.length-1],D??10)),D?y(pH(A,D)):m},m.copy=function(){return Eg(m,yE(t,e,r,n,i,a,s,c,d,f))},m}function mpe(){return gs.apply(yE(cme,ume,Tl,pE,Hx,Ng,fE,dE,Wu,OH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ppe(){return gs.apply(yE(ome,lme,Al,gE,Gx,qx,mE,hE,Wu,kH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Kx(){var t=0,e=1,r,n,i,a,s=Ki,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:s(i===0?.5:(p=(a(p)-r)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(s=p,f):s};function m(p){return function(y){var b,T;return arguments.length?([b,T]=y,s=p(b,T),f):[s(0),s(1)]}}return f.range=m(Yh),f.rangeRound=m(rE),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return a=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),f}}function tu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function jH(){var t=eu(Kx()(Ki));return t.copy=function(){return tu(t,jH())},Il.apply(t,arguments)}function CH(){var t=sE(Kx()).domain([1,10]);return t.copy=function(){return tu(t,CH()).base(t.base())},Il.apply(t,arguments)}function IH(){var t=oE(Kx());return t.copy=function(){return tu(t,IH()).constant(t.constant())},Il.apply(t,arguments)}function vE(){var t=lE(Kx());return t.copy=function(){return tu(t,vE()).exponent(t.exponent())},Il.apply(t,arguments)}function gpe(){return vE.apply(null,arguments).exponent(.5)}function RH(){var t=[],e=Ki;function r(n){if(n!=null&&!isNaN(n=+n))return e((Tg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Uc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>rfe(t,a/n))},r.copy=function(){return RH(e).domain(t)},Il.apply(r,arguments)}function Wx(){var t=0,e=.5,r=1,n=1,i,a,s,c,d,f=Ki,m,p=!1,y;function b(S){return isNaN(S=+S)?y:(S=.5+((S=+m(S))-a)*(n*S<n*a?c:d),f(p?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([t,e,r]=S,i=m(t=+t),a=m(e=+e),s=m(r=+r),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),n=a<i?-1:1,b):[t,e,r]},b.clamp=function(S){return arguments.length?(p=!!S,b):p},b.interpolator=function(S){return arguments.length?(f=S,b):f};function T(S){return function(w){var O,R,C;return arguments.length?([O,R,C]=w,f=Ofe(S,[O,R,C]),b):[f(0),f(.5),f(1)]}}return b.range=T(Yh),b.rangeRound=T(rE),b.unknown=function(S){return arguments.length?(y=S,b):y},function(S){return m=S,i=S(t),a=S(e),s=S(r),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),n=a<i?-1:1,b}}function MH(){var t=eu(Wx()(Ki));return t.copy=function(){return tu(t,MH())},Il.apply(t,arguments)}function PH(){var t=sE(Wx()).domain([.1,1,10]);return t.copy=function(){return tu(t,PH()).base(t.base())},Il.apply(t,arguments)}function DH(){var t=oE(Wx());return t.copy=function(){return tu(t,DH()).constant(t.constant())},Il.apply(t,arguments)}function bE(){var t=lE(Wx());return t.copy=function(){return tu(t,bE()).exponent(t.exponent())},Il.apply(t,arguments)}function ype(){return bE.apply(null,arguments).exponent(.5)}const BD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wp,scaleDiverging:MH,scaleDivergingLog:PH,scaleDivergingPow:bE,scaleDivergingSqrt:ype,scaleDivergingSymlog:DH,scaleIdentity:mH,scaleImplicit:zT,scaleLinear:nb,scaleLog:gH,scaleOrdinal:J8,scalePoint:Lm,scalePow:cE,scaleQuantile:bH,scaleQuantize:xH,scaleRadial:vH,scaleSequential:jH,scaleSequentialLog:CH,scaleSequentialPow:vE,scaleSequentialQuantile:RH,scaleSequentialSqrt:gpe,scaleSequentialSymlog:IH,scaleSqrt:Qfe,scaleSymlog:yH,scaleThreshold:wH,scaleTime:mpe,scaleUtc:ppe,tickFormat:fH},Symbol.toStringTag,{value:"Module"}));var S_,UD;function Xx(){if(UD)return S_;UD=1;var t=Kh();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var c=r[a],d=n(c);if(d!=null&&(f===void 0?d===d&&!t(d):i(d,f)))var f=d,m=c}return m}return S_=e,S_}var T_,zD;function LH(){if(zD)return T_;zD=1;function t(e,r){return e>r}return T_=t,T_}var A_,VD;function vpe(){if(VD)return A_;VD=1;var t=Xx(),e=LH(),r=Xh();function n(i){return i&&i.length?t(i,r,e):void 0}return A_=n,A_}var bpe=vpe();const Yx=mr(bpe);var E_,$D;function BH(){if($D)return E_;$D=1;function t(e,r){return e<r}return E_=t,E_}var N_,FD;function xpe(){if(FD)return N_;FD=1;var t=Xx(),e=BH(),r=Xh();function n(i){return i&&i.length?t(i,r,e):void 0}return N_=n,N_}var wpe=xpe();const Qx=mr(wpe);var O_,qD;function _pe(){if(qD)return O_;qD=1;var t=P8(),e=To(),r=Gq(),n=ga();function i(a,s){var c=n(a)?t:r;return c(a,e(s,3))}return O_=i,O_}var k_,HD;function Spe(){if(HD)return k_;HD=1;var t=qq(),e=_pe();function r(n,i){return t(e(n,i),1)}return k_=r,k_}var Tpe=Spe();const Ape=mr(Tpe);var j_,GD;function Epe(){if(GD)return j_;GD=1;var t=K8();function e(r,n){return t(r,n)}return j_=e,j_}var Npe=Epe();const Og=mr(Npe);var Qh=1e9,Ope={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wE,Zr=!0,ps="[DecimalError] ",i0=ps+"Invalid argument: ",xE=ps+"Exponent out of range: ",Zh=Math.floor,Uu=Math.pow,kpe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ia,ri=1e7,Kr=7,UH=9007199254740991,ob=Zh(UH/Kr),lt={};lt.absoluteValue=lt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};lt.comparedTo=lt.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};lt.decimalPlaces=lt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Kr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};lt.dividedBy=lt.div=function(t){return fl(this,new this.constructor(t))};lt.dividedToIntegerBy=lt.idiv=function(t){var e=this,r=e.constructor;return Mr(fl(e,new r(t),0,1),r.precision)};lt.equals=lt.eq=function(t){return!this.cmp(t)};lt.exponent=function(){return Ln(this)};lt.greaterThan=lt.gt=function(t){return this.cmp(t)>0};lt.greaterThanOrEqualTo=lt.gte=function(t){return this.cmp(t)>=0};lt.isInteger=lt.isint=function(){return this.e>this.d.length-2};lt.isNegative=lt.isneg=function(){return this.s<0};lt.isPositive=lt.ispos=function(){return this.s>0};lt.isZero=function(){return this.s===0};lt.lessThan=lt.lt=function(t){return this.cmp(t)<0};lt.lessThanOrEqualTo=lt.lte=function(t){return this.cmp(t)<1};lt.logarithm=lt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ia))throw Error(ps+"NaN");if(r.s<1)throw Error(ps+(r.s?"NaN":"-Infinity"));return r.eq(Ia)?new n(0):(Zr=!1,e=fl(Ep(r,a),Ep(t,a),a),Zr=!0,Mr(e,i))};lt.minus=lt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$H(e,t):zH(e,(t.s=-t.s,t))};lt.modulo=lt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ps+"NaN");return r.s?(Zr=!1,e=fl(r,t,0,1).times(t),Zr=!0,r.minus(e)):Mr(new n(r),i)};lt.naturalExponential=lt.exp=function(){return VH(this)};lt.naturalLogarithm=lt.ln=function(){return Ep(this)};lt.negated=lt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};lt.plus=lt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zH(e,t):$H(e,(t.s=-t.s,t))};lt.precision=lt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(i0+t);if(e=Ln(i)+1,n=i.d.length-1,r=n*Kr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};lt.squareRoot=lt.sqrt=function(){var t,e,r,n,i,a,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(ps+"NaN")}for(t=Ln(c),Zr=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=co(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Zh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=s=r+3;;)if(a=n,n=a.plus(fl(c,a,s+2)).times(.5),co(a.d).slice(0,s)===(e=co(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Mr(a,r+1,0),a.times(a).eq(c)){n=a;break}}else if(e!="9999")break;s+=4}return Zr=!0,Mr(n,r)};lt.times=lt.mul=function(t){var e,r,n,i,a,s,c,d,f,m=this,p=m.constructor,y=m.d,b=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,r=m.e+t.e,d=y.length,f=b.length,d<f&&(a=y,y=b,b=a,s=d,d=f,f=s),a=[],s=d+f,n=s;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=d+n;i>n;)c=a[i]+b[n]*y[i-n-1]+e,a[i--]=c%ri|0,e=c/ri|0;a[i]=(a[i]+e)%ri|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Zr?Mr(t,p.precision):t};lt.toDecimalPlaces=lt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(yo(t,0,Qh),e===void 0?e=n.rounding:yo(e,0,8),Mr(r,t+Ln(r)+1,e))};lt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=x0(n,!0):(yo(t,0,Qh),e===void 0?e=i.rounding:yo(e,0,8),n=Mr(new i(n),t+1,e),r=x0(n,!0,t+1)),r};lt.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?x0(i):(yo(t,0,Qh),e===void 0?e=a.rounding:yo(e,0,8),n=Mr(new a(i),t+Ln(i)+1,e),r=x0(n.abs(),!1,t+Ln(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};lt.toInteger=lt.toint=function(){var t=this,e=t.constructor;return Mr(new e(t),Ln(t)+1,e.rounding)};lt.toNumber=function(){return+this};lt.toPower=lt.pow=function(t){var e,r,n,i,a,s,c=this,d=c.constructor,f=12,m=+(t=new d(t));if(!t.s)return new d(Ia);if(c=new d(c),!c.s){if(t.s<1)throw Error(ps+"Infinity");return c}if(c.eq(Ia))return c;if(n=d.precision,t.eq(Ia))return Mr(c,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=c.s,s){if((r=m<0?-m:m)<=UH){for(i=new d(Ia),e=Math.ceil(n/Kr+4),Zr=!1;r%2&&(i=i.times(c),WD(i.d,e)),r=Zh(r/2),r!==0;)c=c.times(c),WD(c.d,e);return Zr=!0,t.s<0?new d(Ia).div(i):Mr(i,n)}}else if(a<0)throw Error(ps+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,Zr=!1,i=t.times(Ep(c,n+f)),Zr=!0,i=VH(i),i.s=a,i};lt.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Ln(i),n=x0(i,r<=a.toExpNeg||r>=a.toExpPos)):(yo(t,1,Qh),e===void 0?e=a.rounding:yo(e,0,8),i=Mr(new a(i),t,e),r=Ln(i),n=x0(i,t<=r||r<=a.toExpNeg,t)),n};lt.toSignificantDigits=lt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(yo(t,1,Qh),e===void 0?e=n.rounding:yo(e,0,8)),Mr(new n(r),t,e)};lt.toString=lt.valueOf=lt.val=lt.toJSON=lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ln(t),r=t.constructor;return x0(t,e<=r.toExpNeg||e>=r.toExpPos)};function zH(t,e){var r,n,i,a,s,c,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Zr?Mr(e,p):e;if(d=t.d,f=e.d,s=t.e,i=e.e,d=d.slice(),a=s-i,a){for(a<0?(n=d,a=-a,c=f.length):(n=f,i=s,c=d.length),s=Math.ceil(p/Kr),c=s>c?s+1:c+1,a>c&&(a=c,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,n=f,f=d,d=n),r=0;a;)r=(d[--a]=d[a]+f[a]+r)/ri|0,d[a]%=ri;for(r&&(d.unshift(r),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,Zr?Mr(e,p):e}function yo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(i0+t)}function co(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Kr-n.length,r&&(a+=bc(r)),a+=n;s=t[e],n=s+"",r=Kr-n.length,r&&(a+=bc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var fl=(function(){function t(n,i){var a,s=0,c=n.length;for(n=n.slice();c--;)a=n[c]*i+s,n[c]=a%ri|0,s=a/ri|0;return s&&n.unshift(s),n}function e(n,i,a,s){var c,d;if(a!=s)d=a>s?1:-1;else for(c=d=0;c<a;c++)if(n[c]!=i[c]){d=n[c]>i[c]?1:-1;break}return d}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*ri+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var c,d,f,m,p,y,b,T,S,w,O,R,C,B,I,D,A,k,E=n.constructor,U=n.s==i.s?1:-1,M=n.d,$=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(ps+"Division by zero");for(d=n.e-i.e,A=$.length,I=M.length,b=new E(U),T=b.d=[],f=0;$[f]==(M[f]||0);)++f;if($[f]>(M[f]||0)&&--d,a==null?R=a=E.precision:s?R=a+(Ln(n)-Ln(i))+1:R=a,R<0)return new E(0);if(R=R/Kr+2|0,f=0,A==1)for(m=0,$=$[0],R++;(f<I||m)&&R--;f++)C=m*ri+(M[f]||0),T[f]=C/$|0,m=C%$|0;else{for(m=ri/($[0]+1)|0,m>1&&($=t($,m),M=t(M,m),A=$.length,I=M.length),B=A,S=M.slice(0,A),w=S.length;w<A;)S[w++]=0;k=$.slice(),k.unshift(0),D=$[0],$[1]>=ri/2&&++D;do m=0,c=e($,S,A,w),c<0?(O=S[0],A!=w&&(O=O*ri+(S[1]||0)),m=O/D|0,m>1?(m>=ri&&(m=ri-1),p=t($,m),y=p.length,w=S.length,c=e(p,S,y,w),c==1&&(m--,r(p,A<y?k:$,y))):(m==0&&(c=m=1),p=$.slice()),y=p.length,y<w&&p.unshift(0),r(S,p,w),c==-1&&(w=S.length,c=e($,S,A,w),c<1&&(m++,r(S,A<w?k:$,w))),w=S.length):c===0&&(m++,S=[0]),T[f++]=m,c&&S[0]?S[w++]=M[B]||0:(S=[M[B]],w=1);while((B++<I||S[0]!==void 0)&&R--)}return T[0]||T.shift(),b.e=d,Mr(b,s?a+Ln(b)+1:a)}})();function VH(t,e){var r,n,i,a,s,c,d=0,f=0,m=t.constructor,p=m.precision;if(Ln(t)>16)throw Error(xE+Ln(t));if(!t.s)return new m(Ia);for(Zr=!1,c=p,s=new m(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(Uu(2,f))/Math.LN10*2+5|0,c+=n,r=i=a=new m(Ia),m.precision=c;;){if(i=Mr(i.times(t),c),r=r.times(++d),s=a.plus(fl(i,r,c)),co(s.d).slice(0,c)===co(a.d).slice(0,c)){for(;f--;)a=Mr(a.times(a),c);return m.precision=p,e==null?(Zr=!0,Mr(a,p)):a}a=s}}function Ln(t){for(var e=t.e*Kr,r=t.d[0];r>=10;r/=10)e++;return e}function C_(t,e,r){if(e>t.LN10.sd())throw Zr=!0,r&&(t.precision=r),Error(ps+"LN10 precision limit exceeded");return Mr(new t(t.LN10),e)}function bc(t){for(var e="";t--;)e+="0";return e}function Ep(t,e){var r,n,i,a,s,c,d,f,m,p=1,y=10,b=t,T=b.d,S=b.constructor,w=S.precision;if(b.s<1)throw Error(ps+(b.s?"NaN":"-Infinity"));if(b.eq(Ia))return new S(0);if(e==null?(Zr=!1,f=w):f=e,b.eq(10))return e==null&&(Zr=!0),C_(S,f);if(f+=y,S.precision=f,r=co(T),n=r.charAt(0),a=Ln(b),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=co(b.d),n=r.charAt(0),p++;a=Ln(b),n>1?(b=new S("0."+r),a++):b=new S(n+"."+r.slice(1))}else return d=C_(S,f+2,w).times(a+""),b=Ep(new S(n+"."+r.slice(1)),f-y).plus(d),S.precision=w,e==null?(Zr=!0,Mr(b,w)):b;for(c=s=b=fl(b.minus(Ia),b.plus(Ia),f),m=Mr(b.times(b),f),i=3;;){if(s=Mr(s.times(m),f),d=c.plus(fl(s,new S(i),f)),co(d.d).slice(0,f)===co(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(C_(S,f+2,w).times(a+""))),c=fl(c,new S(p),f),S.precision=w,e==null?(Zr=!0,Mr(c,w)):c;c=d,i+=2}}function KD(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Zh(r/Kr),t.d=[],n=(r+1)%Kr,r<0&&(n+=Kr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Kr;n<i;)t.d.push(+e.slice(n,n+=Kr));e=e.slice(n),n=Kr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Zr&&(t.e>ob||t.e<-ob))throw Error(xE+r)}else t.s=0,t.e=0,t.d=[0];return t}function Mr(t,e,r){var n,i,a,s,c,d,f,m,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Kr,i=e,f=p[m=0];else{if(m=Math.ceil((n+1)/Kr),a=p.length,m>=a)return t;for(f=a=p[m],s=1;a>=10;a/=10)s++;n%=Kr,i=n-Kr+s}if(r!==void 0&&(a=Uu(10,s-i-1),c=f/a%10|0,d=e<0||p[m+1]!==void 0||f%a,d=r<4?(c||d)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?i>0?f/Uu(10,s-i):0:p[m-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return d?(a=Ln(t),p.length=1,e=e-a-1,p[0]=Uu(10,(Kr-e%Kr)%Kr),t.e=Zh(-e/Kr)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=m,a=1,m--):(p.length=m+1,a=Uu(10,Kr-n),p[m]=i>0?(f/Uu(10,s-i)%Uu(10,i)|0)*a:0),d)for(;;)if(m==0){(p[0]+=a)==ri&&(p[0]=1,++t.e);break}else{if(p[m]+=a,p[m]!=ri)break;p[m--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(Zr&&(t.e>ob||t.e<-ob))throw Error(xE+Ln(t));return t}function $H(t,e){var r,n,i,a,s,c,d,f,m,p,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Zr?Mr(e,b):e;if(d=t.d,p=e.d,n=e.e,f=t.e,d=d.slice(),s=f-n,s){for(m=s<0,m?(r=d,s=-s,c=p.length):(r=p,n=f,c=d.length),i=Math.max(Math.ceil(b/Kr),c)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=d.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}s=0}for(m&&(r=d,d=p,p=r,e.s=-e.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>s;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=ri-1;--d[a],d[i]+=ri}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,Zr?Mr(e,b):e):new y(0)}function x0(t,e,r){var n,i=Ln(t),a=co(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+bc(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+bc(-i-1)+a,r&&(n=r-s)>0&&(a+=bc(n))):i>=s?(a+=bc(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+bc(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=bc(n))),t.s<0?"-"+a:a}function WD(t,e){if(t.length>e)return t.length=e,!0}function FH(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(i0+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return KD(s,a.toString())}else if(typeof a!="string")throw Error(i0+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,kpe.test(a))KD(s,a);else throw Error(i0+a)}if(i.prototype=lt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=FH,i.config=i.set=jpe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function jpe(t){if(!t||typeof t!="object")throw Error(ps+"Object expected");var e,r,n,i=["precision",1,Qh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Zh(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(i0+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(i0+r+": "+n);return this}var wE=FH(Ope);Ia=new wE(1);const Or=wE;function Cpe(t){return Ppe(t)||Mpe(t)||Rpe(t)||Ipe()}function Ipe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rpe(t,e){if(t){if(typeof t=="string")return qT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qT(t,e)}}function Mpe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ppe(t){if(Array.isArray(t))return qT(t)}function qT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Dpe=function(e){return e},qH={},HH=function(e){return e===qH},XD=function(e){return function r(){return arguments.length===0||arguments.length===1&&HH(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Lpe=function t(e,r){return e===1?r:XD(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(c){return c!==qH}).length;return s>=e?r.apply(void 0,i):t(e-s,XD(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=i.map(function(p){return HH(p)?d.shift():p});return r.apply(void 0,Cpe(m).concat(d))}))})},Zx=function(e){return Lpe(e.length,e)},HT=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Bpe=Zx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Upe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Dpe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(c,d){return d(c)},a.apply(void 0,arguments))}},GT=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},GH=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(c,d){return c===r[d]})||(r=a,n=e.apply(void 0,a)),n}};function zpe(t){var e;return t===0?e=1:e=Math.floor(new Or(t).abs().log(10).toNumber())+1,e}function Vpe(t,e,r){for(var n=new Or(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var $pe=Zx(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Fpe=Zx(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),qpe=Zx(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Jx={rangeStep:Vpe,getDigitCount:zpe,interpolateNumber:$pe,uninterpolateNumber:Fpe,uninterpolateTruncation:qpe};function KT(t){return Kpe(t)||Gpe(t)||KH(t)||Hpe()}function Hpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gpe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Kpe(t){if(Array.isArray(t))return WT(t)}function Np(t,e){return Ype(t)||Xpe(t,e)||KH(t,e)||Wpe()}function Wpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KH(t,e){if(t){if(typeof t=="string")return WT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WT(t,e)}}function WT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xpe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),c;!(n=(c=s.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,a=d}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Ype(t){if(Array.isArray(t))return t}function WH(t){var e=Np(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function XH(t,e,r){if(t.lte(0))return new Or(0);var n=Jx.getDigitCount(t.toNumber()),i=new Or(10).pow(n),a=t.div(i),s=n!==1?.05:.1,c=new Or(Math.ceil(a.div(s).toNumber())).add(r).mul(s),d=c.mul(i);return e?d:new Or(Math.ceil(d))}function Qpe(t,e,r){var n=1,i=new Or(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Or(10).pow(Jx.getDigitCount(t)-1),i=new Or(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Or(Math.floor(t)))}else t===0?i=new Or(Math.floor((e-1)/2)):r||(i=new Or(Math.floor(t)));var s=Math.floor((e-1)/2),c=Upe(Bpe(function(d){return i.add(new Or(d-s).mul(n)).toNumber()}),HT);return c(0,e)}function YH(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Or(0),tickMin:new Or(0),tickMax:new Or(0)};var a=XH(new Or(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Or(0):(s=new Or(t).add(e).div(2),s=s.sub(new Or(s).mod(a)));var c=Math.ceil(s.sub(t).div(a).toNumber()),d=Math.ceil(new Or(e).sub(s).div(a).toNumber()),f=c+d+1;return f>r?YH(t,e,r,n,i+1):(f<r&&(d=e>0?d+(r-f):d,c=e>0?c:c+(r-f)),{step:a,tickMin:s.sub(new Or(c).mul(a)),tickMax:s.add(new Or(d).mul(a))})}function Zpe(t){var e=Np(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),c=WH([r,n]),d=Np(c,2),f=d[0],m=d[1];if(f===-1/0||m===1/0){var p=m===1/0?[f].concat(KT(HT(0,i-1).map(function(){return 1/0}))):[].concat(KT(HT(0,i-1).map(function(){return-1/0})),[m]);return r>n?GT(p):p}if(f===m)return Qpe(f,i,a);var y=YH(f,m,s,a),b=y.step,T=y.tickMin,S=y.tickMax,w=Jx.rangeStep(T,S.add(new Or(.1).mul(b)),b);return r>n?GT(w):w}function Jpe(t,e){var r=Np(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=WH([n,i]),c=Np(s,2),d=c[0],f=c[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var m=Math.max(e,2),p=XH(new Or(f).sub(d).div(m-1),a,0),y=[].concat(KT(Jx.rangeStep(new Or(d),new Or(f).sub(new Or(.99).mul(p)),p)),[f]);return n>i?GT(y):y}var ege=GH(Zpe),tge=GH(Jpe),rge="Invariant failed";function w0(t,e){throw new Error(rge)}var nge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lb.apply(this,arguments)}function ige(t,e){return lge(t)||oge(t,e)||sge(t,e)||age()}function age(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sge(t,e){if(t){if(typeof t=="string")return YD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YD(t,e)}}function YD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function lge(t){if(Array.isArray(t))return t}function cge(t,e){if(t==null)return{};var r=uge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JH(n.key),n)}}function fge(t,e,r){return e&&hge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mge(t,e,r){return e=cb(e),pge(t,QH()?Reflect.construct(e,r||[],cb(t).constructor):e.apply(t,r))}function pge(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gge(t)}function gge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QH=function(){return!!t})()}function cb(t){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cb(t)}function yge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XT(t,e)}function XT(t,e){return XT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XT(t,e)}function ZH(t,e,r){return e=JH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JH(t){var e=vge(t,"string");return wh(e)=="symbol"?e:e+""}function vge(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kg=(function(t){function e(){return dge(this,e),mge(this,e,arguments)}return yge(e,t),fge(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,c=n.dataKey,d=n.data,f=n.dataPointFormatter,m=n.xAxis,p=n.yAxis,y=cge(n,nge),b=vt(y,!1);this.props.direction==="x"&&m.type!=="number"&&w0();var T=d.map(function(S){var w=f(S,c),O=w.x,R=w.y,C=w.value,B=w.errorVal;if(!B)return null;var I=[],D,A;if(Array.isArray(B)){var k=ige(B,2);D=k[0],A=k[1]}else D=A=B;if(a==="vertical"){var E=m.scale,U=R+i,M=U+s,$=U-s,z=E(C-D),Y=E(C+A);I.push({x1:Y,y1:M,x2:Y,y2:$}),I.push({x1:z,y1:U,x2:Y,y2:U}),I.push({x1:z,y1:M,x2:z,y2:$})}else if(a==="horizontal"){var te=p.scale,K=O+i,J=K-s,Q=K+s,ye=te(C-D),se=te(C+A);I.push({x1:J,y1:se,x2:Q,y2:se}),I.push({x1:K,y1:ye,x2:K,y2:se}),I.push({x1:J,y1:ye,x2:Q,y2:ye})}return ie.createElement(ur,lb({className:"recharts-errorBar",key:"bar-".concat(I.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},b),I.map(function(X){return ie.createElement("line",lb({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return ie.createElement(ur,{className:"recharts-errorBars"},T)}}])})(ie.Component);ZH(kg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ZH(kg,"displayName","ErrorBar");function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function QD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ru(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(r),!0).forEach(function(n){bge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bge(t,e,r){return e=xge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xge(t){var e=wge(t,"string");return Op(e)=="symbol"?e:e+""}function wge(t,e){if(Op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eG=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=ja(r,Yd);if(!s)return null;var c=Yd.defaultProps,d=c!==void 0?Ru(Ru({},c),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(n||[]).reduce(function(m,p){var y=p.item,b=p.props,T=b.sectors||b.data||[];return m.concat(T.map(function(S){return{type:s.props.iconType||y.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):f=(n||[]).map(function(m){var p=m.item,y=p.type.defaultProps,b=y!==void 0?Ru(Ru({},y),p.props):{},T=b.dataKey,S=b.name,w=b.legendType,O=b.hide;return{inactive:O,dataKey:T,type:d.iconType||w||"square",color:_E(p),value:S||T,payload:b}}),Ru(Ru(Ru({},d),Yd.getWithHeight(s,i)),{},{payload:f,item:s})};function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function ZD(t){return Age(t)||Tge(t)||Sge(t)||_ge()}function _ge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sge(t,e){if(t){if(typeof t=="string")return YT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YT(t,e)}}function Tge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Age(t){if(Array.isArray(t))return YT(t)}function YT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(r),!0).forEach(function(n){Zd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zd(t,e,r){return e=Ege(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ege(t){var e=Nge(t,"string");return kp(e)=="symbol"?e:e+""}function Nge(t,e){if(kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bi(t,e,r){return Mt(t)||Mt(e)?r:Hn(e)?os(t,e,r):kt(e)?e(t):r}function Bm(t,e,r,n){var i=Ape(t,function(c){return bi(c,e)});if(r==="number"){var a=i.filter(function(c){return Ze(c)||parseFloat(c)});return a.length?[Qx(a),Yx(a)]:[1/0,-1/0]}var s=n?i.filter(function(c){return!Mt(c)}):i;return s.map(function(c){return Hn(c)||c instanceof Date?c:""})}var Oge=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,c=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,f=0;f<c;f++){var m=f>0?i[f-1].coordinate:i[c-1].coordinate,p=i[f].coordinate,y=f>=c-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(Is(p-m)!==Is(y-p)){var T=[];if(Is(y-p)===Is(d[1]-d[0])){b=y;var S=p+d[1]-d[0];T[0]=Math.min(S,(S+m)/2),T[1]=Math.max(S,(S+m)/2)}else{b=m;var w=y+d[1]-d[0];T[0]=Math.min(p,(w+p)/2),T[1]=Math.max(p,(w+p)/2)}var O=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(e>O[0]&&e<=O[1]||e>=T[0]&&e<=T[1]){s=i[f].index;break}}else{var R=Math.min(m,y),C=Math.max(m,y);if(e>(R+p)/2&&e<=(C+p)/2){s=i[f].index;break}}}else for(var B=0;B<c;B++)if(B===0&&e<=(n[B].coordinate+n[B+1].coordinate)/2||B>0&&B<c-1&&e>(n[B].coordinate+n[B-1].coordinate)/2&&e<=(n[B].coordinate+n[B+1].coordinate)/2||B===c-1&&e>(n[B].coordinate+n[B-1].coordinate)/2){s=n[B].index;break}return s},_E=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?mn(mn({},e.type.defaultProps),e.props):e.props,s=a.stroke,c=a.fill,d;switch(i){case"Line":d=s;break;case"Area":case"Radar":d=s&&s!=="none"?s:c;break;default:d=c;break}return d},kge=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},c=Object.keys(a),d=0,f=c.length;d<f;d++)for(var m=a[c[d]].stackGroups,p=Object.keys(m),y=0,b=p.length;y<b;y++){var T=m[p[y]],S=T.items,w=T.cateAxisId,O=S.filter(function(A){return dl(A.type).indexOf("Bar")>=0});if(O&&O.length){var R=O[0].type.defaultProps,C=R!==void 0?mn(mn({},R),O[0].props):O[0].props,B=C.barSize,I=C[w];s[I]||(s[I]=[]);var D=Mt(B)?r:B;s[I].push({item:O[0],stackList:O.slice(1),barSize:Mt(D)?void 0:Rs(D,n,0)})}}return s},jge=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,c=e.maxBarSize,d=s.length;if(d<1)return null;var f=Rs(r,i,0,!0),m,p=[];if(s[0].barSize===+s[0].barSize){var y=!1,b=i/d,T=s.reduce(function(B,I){return B+I.barSize||0},0);T+=(d-1)*f,T>=i&&(T-=(d-1)*f,f=0),T>=i&&b>0&&(y=!0,b*=.9,T=d*b);var S=(i-T)/2>>0,w={offset:S-f,size:0};m=s.reduce(function(B,I){var D={item:I.item,position:{offset:w.offset+w.size+f,size:y?b:I.barSize}},A=[].concat(ZD(B),[D]);return w=A[A.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(k){A.push({item:k,position:w})}),A},p)}else{var O=Rs(n,i,0,!0);i-2*O-(d-1)*f<=0&&(f=0);var R=(i-2*O-(d-1)*f)/d;R>1&&(R>>=0);var C=c===+c?Math.min(R,c):R;m=s.reduce(function(B,I,D){var A=[].concat(ZD(B),[{item:I.item,position:{offset:O+(R+f)*D+(R-C)/2,size:C}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(k){A.push({item:k,position:A[A.length-1].position})}),A},p)}return m},Cge=function(e,r,n,i){var a=n.children,s=n.width,c=n.margin,d=s-(c.left||0)-(c.right||0),f=eG({children:a,legendWidth:d});if(f){var m=i||{},p=m.width,y=m.height,b=f.align,T=f.verticalAlign,S=f.layout;if((S==="vertical"||S==="horizontal"&&T==="middle")&&b!=="center"&&Ze(e[b]))return mn(mn({},e),{},Zd({},b,e[b]+(p||0)));if((S==="horizontal"||S==="vertical"&&b==="center")&&T!=="middle"&&Ze(e[T]))return mn(mn({},e),{},Zd({},T,e[T]+(y||0)))}return e},Ige=function(e,r,n){return Mt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},tG=function(e,r,n,i,a){var s=r.props.children,c=Ba(s,kg).filter(function(f){return Ige(i,a,f.props.direction)});if(c&&c.length){var d=c.map(function(f){return f.props.dataKey});return e.reduce(function(f,m){var p=bi(m,n);if(Mt(p))return f;var y=Array.isArray(p)?[Qx(p),Yx(p)]:[p,p],b=d.reduce(function(T,S){var w=bi(m,S,0),O=y[0]-Math.abs(Array.isArray(w)?w[0]:w),R=y[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(O,T[0]),Math.max(R,T[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},Rge=function(e,r,n,i,a){var s=r.map(function(c){return tG(e,c,n,a,i)}).filter(function(c){return!Mt(c)});return s&&s.length?s.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},rG=function(e,r,n,i,a){var s=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&tG(e,d,f,i)||Bm(e,f,n,a)});if(n==="number")return s.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var c={};return s.reduce(function(d,f){for(var m=0,p=f.length;m<p;m++)c[f[m]]||(c[f[m]]=!0,d.push(f[m]));return d},[])},nG=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},iG=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var a,s,c=e.map(function(d){return d.coordinate===r&&(a=!0),d.coordinate===n&&(s=!0),d.coordinate});return a||c.push(r),s||c.push(n),c},ol=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,c=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?Is(c[0]-c[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var m=(e.ticks||e.niceTicks).map(function(p){var y=a?a.indexOf(p):p;return{coordinate:i(y)+f,value:p,offset:f}});return m.filter(function(p){return!wg(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,y){return{coordinate:i(p)+f,value:p,index:y,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,y){return{coordinate:i(p)+f,value:a?a[p]:p,index:y,offset:f}})},I_=new WeakMap,Iy=function(e,r){if(typeof r!="function")return e;I_.has(e)||I_.set(e,new WeakMap);var n=I_.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},aG=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,c=e.axisType;if(i==="auto")return s==="radial"&&c==="radiusAxis"?{scale:wp(),realScaleType:"band"}:s==="radial"&&c==="angleAxis"?{scale:nb(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Lm(),realScaleType:"point"}:a==="category"?{scale:wp(),realScaleType:"band"}:{scale:nb(),realScaleType:"linear"};if(v0(i)){var d="scale".concat(Px(i));return{scale:(BD[d]||Lm)(),realScaleType:BD[d]?d:"point"}}return kt(i)?{scale:i}:{scale:Lm(),realScaleType:"point"}},eL=1e-4,sG=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-eL,s=Math.max(i[0],i[1])+eL,c=e(r[0]),d=e(r[n-1]);(c<a||c>s||d<a||d>s)&&e.domain([r[0],r[n-1]])}},Mge=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Pge=function(e,r){if(!r||r.length!==2||!Ze(r[0])||!Ze(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Ze(e[0])||e[0]<n)&&(a[0]=n),(!Ze(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Dge=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,c=0;c<r;++c){var d=wg(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=a,e[c][n][1]=a+d,a=e[c][n][1]):(e[c][n][0]=s,e[c][n][1]=s+d,s=e[c][n][1])}},Lge=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var c=wg(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Bge={sign:Dge,expand:Aue,none:hh,silhouette:Eue,wiggle:Nue,positive:Lge},Uge=function(e,r,n){var i=r.map(function(c){return c.props.dataKey}),a=Bge[n],s=Tue().keys(i).value(function(c,d){return+bi(c,d,0)}).order(ET).offset(a);return s(e)},zge=function(e,r,n,i,a,s){if(!e)return null;var c=s?r.reverse():r,d={},f=c.reduce(function(p,y){var b,T=(b=y.type)!==null&&b!==void 0&&b.defaultProps?mn(mn({},y.type.defaultProps),y.props):y.props,S=T.stackId,w=T.hide;if(w)return p;var O=T[n],R=p[O]||{hasStack:!1,stackGroups:{}};if(Hn(S)){var C=R.stackGroups[S]||{numericAxisId:n,cateAxisId:i,items:[]};C.items.push(y),R.hasStack=!0,R.stackGroups[S]=C}else R.stackGroups[_g("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return mn(mn({},p),{},Zd({},O,R))},d),m={};return Object.keys(f).reduce(function(p,y){var b=f[y];if(b.hasStack){var T={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(S,w){var O=b.stackGroups[w];return mn(mn({},S),{},Zd({},w,{numericAxisId:n,cateAxisId:i,items:O.items,stackedData:Uge(e,O.items,a)}))},T)}return mn(mn({},p),{},Zd({},y,b))},m)},oG=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,c=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var m=ege(f,a,c);return e.domain([Qx(m),Yx(m)]),{niceTicks:m}}if(a&&i==="number"){var p=e.domain(),y=tge(p,a,c);return{niceTicks:y}}return null};function tL(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Mt(i[e.dataKey])){var c=Bv(r,"value",i[e.dataKey]);if(c)return c.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var d=bi(i,Mt(s)?e.dataKey:s);return Mt(d)?null:e.scale(d)}var rL=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,c=e.index;if(r.type==="category")return n[c]?n[c].coordinate+i:null;var d=bi(s,r.dataKey,r.domain[c]);return Mt(d)?null:r.scale(d)-a/2+i},Vge=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},$ge=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?mn(mn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Hn(a)){var s=r[a];if(s){var c=s.items.indexOf(e);return c>=0?s.stackedData[c]:null}}return null},Fge=function(e){return e.reduce(function(r,n){return[Qx(n.concat([r[0]]).filter(Ze)),Yx(n.concat([r[1]]).filter(Ze))]},[1/0,-1/0])},lG=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],c=s.stackedData,d=c.reduce(function(f,m){var p=Fge(m.slice(r,n+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},nL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QT=function(e,r,n){if(kt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Ze(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(nL.test(e[0])){var a=+nL.exec(e[0])[1];i[0]=r[0]-a}else kt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Ze(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(iL.test(e[1])){var s=+iL.exec(e[1])[1];i[1]=r[1]+s}else kt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},ub=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=X8(r,function(p){return p.coordinate}),s=1/0,c=1,d=a.length;c<d;c++){var f=a[c],m=a[c-1];s=Math.min((f.coordinate||0)-(m.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},aL=function(e,r,n){return!e||!e.length||Og(e,os(n,"type.defaultProps.domain"))?r:e},cG=function(e,r){var n=e.type.defaultProps?mn(mn({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,c=n.formatter,d=n.tooltipType,f=n.chartType,m=n.hide;return mn(mn({},vt(e,!1)),{},{dataKey:i,unit:s,formatter:c,name:a||i,color:_E(e),value:bi(r,i),type:d,payload:r,chartType:f,hide:m})};function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function sL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(r),!0).forEach(function(n){uG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uG(t,e,r){return e=qge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qge(t){var e=Hge(t,"string");return jp(e)=="symbol"?e:e+""}function Hge(t,e){if(jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gge(t,e){return Yge(t)||Xge(t,e)||Wge(t,e)||Kge()}function Kge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wge(t,e){if(t){if(typeof t=="string")return oL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oL(t,e)}}function oL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function Yge(t){if(Array.isArray(t))return t}var db=Math.PI/180,Qge=function(e){return e*180/Math.PI},kr=function(e,r,n,i){return{x:e+Math.cos(-db*i)*n,y:r+Math.sin(-db*i)*n}},Zge=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Jge=function(e,r,n,i,a){var s=e.width,c=e.height,d=e.startAngle,f=e.endAngle,m=Rs(e.cx,s,s/2),p=Rs(e.cy,c,c/2),y=Zge(s,c,n),b=Rs(e.innerRadius,y,0),T=Rs(e.outerRadius,y,y*.8),S=Object.keys(r);return S.reduce(function(w,O){var R=r[O],C=R.domain,B=R.reversed,I;if(Mt(R.range))i==="angleAxis"?I=[d,f]:i==="radiusAxis"&&(I=[b,T]),B&&(I=[I[1],I[0]]);else{I=R.range;var D=I,A=Gge(D,2);d=A[0],f=A[1]}var k=aG(R,a),E=k.realScaleType,U=k.scale;U.domain(C).range(I),sG(U);var M=oG(U,Yo(Yo({},R),{},{realScaleType:E})),$=Yo(Yo(Yo({},R),M),{},{range:I,radius:T,realScaleType:E,scale:U,cx:m,cy:p,innerRadius:b,outerRadius:T,startAngle:d,endAngle:f});return Yo(Yo({},w),{},uG({},O,$))},{})},e1e=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},t1e=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,c=e1e({x:n,y:i},{x:a,y:s});if(c<=0)return{radius:c};var d=(n-a)/c,f=Math.acos(d);return i>s&&(f=2*Math.PI-f),{radius:c,angle:Qge(f),angleInRadian:f}},r1e=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},n1e=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),c=Math.min(a,s);return e+c*360},lL=function(e,r){var n=e.x,i=e.y,a=t1e({x:n,y:i},r),s=a.radius,c=a.angle,d=r.innerRadius,f=r.outerRadius;if(s<d||s>f)return!1;if(s===0)return!0;var m=r1e(r),p=m.startAngle,y=m.endAngle,b=c,T;if(p<=y){for(;b>y;)b-=360;for(;b<p;)b+=360;T=b>=p&&b<=y}else{for(;b>p;)b-=360;for(;b<y;)b+=360;T=b>=y&&b<=p}return T?Yo(Yo({},r),{},{radius:s,angle:n1e(b,r)}):null},dG=function(e){return!F.isValidElement(e)&&!kt(e)&&typeof e!="boolean"?e.className:""};function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}var i1e=["offset"];function a1e(t){return c1e(t)||l1e(t)||o1e(t)||s1e()}function s1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o1e(t,e){if(t){if(typeof t=="string")return ZT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZT(t,e)}}function l1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c1e(t){if(Array.isArray(t))return ZT(t)}function ZT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u1e(t,e){if(t==null)return{};var r=d1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function d1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(r),!0).forEach(function(n){h1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h1e(t,e,r){return e=f1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f1e(t){var e=m1e(t,"string");return Cp(e)=="symbol"?e:e+""}function m1e(t,e){if(Cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ip.apply(this,arguments)}var p1e=function(e){var r=e.value,n=e.formatter,i=Mt(e.children)?r:e.children;return kt(n)?n(i):i},g1e=function(e,r){var n=Is(r-e),i=Math.min(Math.abs(r-e),360);return n*i},y1e=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,c=e.className,d=a,f=d.cx,m=d.cy,p=d.innerRadius,y=d.outerRadius,b=d.startAngle,T=d.endAngle,S=d.clockWise,w=(p+y)/2,O=g1e(b,T),R=O>=0?1:-1,C,B;i==="insideStart"?(C=b+R*s,B=S):i==="insideEnd"?(C=T-R*s,B=!S):i==="end"&&(C=T+R*s,B=S),B=O<=0?B:!B;var I=kr(f,m,w,C),D=kr(f,m,w,C+(B?1:-1)*359),A="M".concat(I.x,",").concat(I.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(B?0:1,`,
    `).concat(D.x,",").concat(D.y),k=Mt(e.id)?_g("recharts-radial-line-"):e.id;return ie.createElement("text",Ip({},n,{dominantBaseline:"central",className:Bt("recharts-radial-bar-label",c)}),ie.createElement("defs",null,ie.createElement("path",{id:k,d:A})),ie.createElement("textPath",{xlinkHref:"#".concat(k)},r))},v1e=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,c=a.cy,d=a.innerRadius,f=a.outerRadius,m=a.startAngle,p=a.endAngle,y=(m+p)/2;if(i==="outside"){var b=kr(s,c,f+n,y),T=b.x,S=b.y;return{x:T,y:S,textAnchor:T>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"end"};var w=(d+f)/2,O=kr(s,c,w,y),R=O.x,C=O.y;return{x:R,y:C,textAnchor:"middle",verticalAnchor:"middle"}},b1e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,c=s.x,d=s.y,f=s.width,m=s.height,p=m>=0?1:-1,y=p*i,b=p>0?"end":"start",T=p>0?"start":"end",S=f>=0?1:-1,w=S*i,O=S>0?"end":"start",R=S>0?"start":"end";if(a==="top"){var C={x:c+f/2,y:d-p*i,textAnchor:"middle",verticalAnchor:b};return qn(qn({},C),n?{height:Math.max(d-n.y,0),width:f}:{})}if(a==="bottom"){var B={x:c+f/2,y:d+m+y,textAnchor:"middle",verticalAnchor:T};return qn(qn({},B),n?{height:Math.max(n.y+n.height-(d+m),0),width:f}:{})}if(a==="left"){var I={x:c-w,y:d+m/2,textAnchor:O,verticalAnchor:"middle"};return qn(qn({},I),n?{width:Math.max(I.x-n.x,0),height:m}:{})}if(a==="right"){var D={x:c+f+w,y:d+m/2,textAnchor:R,verticalAnchor:"middle"};return qn(qn({},D),n?{width:Math.max(n.x+n.width-D.x,0),height:m}:{})}var A=n?{width:f,height:m}:{};return a==="insideLeft"?qn({x:c+w,y:d+m/2,textAnchor:R,verticalAnchor:"middle"},A):a==="insideRight"?qn({x:c+f-w,y:d+m/2,textAnchor:O,verticalAnchor:"middle"},A):a==="insideTop"?qn({x:c+f/2,y:d+y,textAnchor:"middle",verticalAnchor:T},A):a==="insideBottom"?qn({x:c+f/2,y:d+m-y,textAnchor:"middle",verticalAnchor:b},A):a==="insideTopLeft"?qn({x:c+w,y:d+y,textAnchor:R,verticalAnchor:T},A):a==="insideTopRight"?qn({x:c+f-w,y:d+y,textAnchor:O,verticalAnchor:T},A):a==="insideBottomLeft"?qn({x:c+w,y:d+m-y,textAnchor:R,verticalAnchor:b},A):a==="insideBottomRight"?qn({x:c+f-w,y:d+m-y,textAnchor:O,verticalAnchor:b},A):Wh(a)&&(Ze(a.x)||Gu(a.x))&&(Ze(a.y)||Gu(a.y))?qn({x:c+Rs(a.x,f),y:d+Rs(a.y,m),textAnchor:"end",verticalAnchor:"end"},A):qn({x:c+f/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},A)},x1e=function(e){return"cx"in e&&Ze(e.cx)};function gi(t){var e=t.offset,r=e===void 0?5:e,n=u1e(t,i1e),i=qn({offset:r},n),a=i.viewBox,s=i.position,c=i.value,d=i.children,f=i.content,m=i.className,p=m===void 0?"":m,y=i.textBreakAll;if(!a||Mt(c)&&Mt(d)&&!F.isValidElement(f)&&!kt(f))return null;if(F.isValidElement(f))return F.cloneElement(f,i);var b;if(kt(f)){if(b=F.createElement(f,i),F.isValidElement(b))return b}else b=p1e(i);var T=x1e(a),S=vt(i,!0);if(T&&(s==="insideStart"||s==="insideEnd"||s==="end"))return y1e(i,b,S);var w=T?v1e(i):b1e(i);return ie.createElement(yh,Ip({className:Bt("recharts-label",p)},S,w,{breakAll:y}),b)}gi.displayName="Label";var hG=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,c=e.r,d=e.radius,f=e.innerRadius,m=e.outerRadius,p=e.x,y=e.y,b=e.top,T=e.left,S=e.width,w=e.height,O=e.clockWise,R=e.labelViewBox;if(R)return R;if(Ze(S)&&Ze(w)){if(Ze(p)&&Ze(y))return{x:p,y,width:S,height:w};if(Ze(b)&&Ze(T))return{x:b,y:T,width:S,height:w}}return Ze(p)&&Ze(y)?{x:p,y,width:0,height:0}:Ze(r)&&Ze(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:m||d||c||0,clockWise:O}:e.viewBox?e.viewBox:{}},w1e=function(e,r){return e?e===!0?ie.createElement(gi,{key:"label-implicit",viewBox:r}):Hn(e)?ie.createElement(gi,{key:"label-implicit",viewBox:r,value:e}):F.isValidElement(e)?e.type===gi?F.cloneElement(e,{key:"label-implicit",viewBox:r}):ie.createElement(gi,{key:"label-implicit",content:e,viewBox:r}):kt(e)?ie.createElement(gi,{key:"label-implicit",content:e,viewBox:r}):Wh(e)?ie.createElement(gi,Ip({viewBox:r},e,{key:"label-implicit"})):null:null},_1e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=hG(e),s=Ba(i,gi).map(function(d,f){return F.cloneElement(d,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return s;var c=w1e(e.label,r||a);return[c].concat(a1e(s))};gi.parseViewBox=hG;gi.renderCallByParent=_1e;var R_,uL;function S1e(){if(uL)return R_;uL=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return R_=t,R_}var T1e=S1e();const fG=mr(T1e);function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}var A1e=["valueAccessor"],E1e=["data","dataKey","clockWise","id","textBreakAll"];function N1e(t){return C1e(t)||j1e(t)||k1e(t)||O1e()}function O1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k1e(t,e){if(t){if(typeof t=="string")return JT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JT(t,e)}}function j1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C1e(t){if(Array.isArray(t))return JT(t)}function JT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hb.apply(this,arguments)}function dL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(r),!0).forEach(function(n){I1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I1e(t,e,r){return e=R1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R1e(t){var e=M1e(t,"string");return Rp(e)=="symbol"?e:e+""}function M1e(t,e){if(Rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fL(t,e){if(t==null)return{};var r=P1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function P1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var D1e=function(e){return Array.isArray(e.value)?fG(e.value):e.value};function ml(t){var e=t.valueAccessor,r=e===void 0?D1e:e,n=fL(t,A1e),i=n.data,a=n.dataKey,s=n.clockWise,c=n.id,d=n.textBreakAll,f=fL(n,E1e);return!i||!i.length?null:ie.createElement(ur,{className:"recharts-label-list"},i.map(function(m,p){var y=Mt(a)?r(m,p):bi(m&&m.payload,a),b=Mt(c)?{}:{id:"".concat(c,"-").concat(p)};return ie.createElement(gi,hb({},vt(m,!0),f,b,{parentViewBox:m.parentViewBox,value:y,textBreakAll:d,viewBox:gi.parseViewBox(Mt(s)?m:hL(hL({},m),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}ml.displayName="LabelList";function L1e(t,e){return t?t===!0?ie.createElement(ml,{key:"labelList-implicit",data:e}):ie.isValidElement(t)||kt(t)?ie.createElement(ml,{key:"labelList-implicit",data:e,content:t}):Wh(t)?ie.createElement(ml,hb({data:e},t,{key:"labelList-implicit"})):null:null}function B1e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ba(n,ml).map(function(s,c){return F.cloneElement(s,{data:e,key:"labelList-".concat(c)})});if(!r)return i;var a=L1e(t.label,e);return[a].concat(N1e(i))}ml.renderCallByParent=B1e;function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function eA(){return eA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eA.apply(this,arguments)}function mL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(r),!0).forEach(function(n){U1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U1e(t,e,r){return e=z1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z1e(t){var e=V1e(t,"string");return Mp(e)=="symbol"?e:e+""}function V1e(t,e){if(Mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $1e=function(e,r){var n=Is(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Ry=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,c=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,m=d*(c?1:-1)+i,p=Math.asin(d/m)/db,y=f?a:a+s*p,b=kr(r,n,m,y),T=kr(r,n,i,y),S=f?a-s*p:a,w=kr(r,n,m*Math.cos(p*db),S);return{center:b,circleTangency:T,lineTangency:w,theta:p}},mG=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,c=e.endAngle,d=$1e(s,c),f=s+d,m=kr(r,n,a,s),p=kr(r,n,a,f),y="M ".concat(m.x,",").concat(m.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var b=kr(r,n,i,s),T=kr(r,n,i,f);y+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},F1e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,c=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,m=e.endAngle,p=Is(m-f),y=Ry({cx:r,cy:n,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),b=y.circleTangency,T=y.lineTangency,S=y.theta,w=Ry({cx:r,cy:n,radius:a,angle:m,sign:-p,cornerRadius:s,cornerIsExternal:d}),O=w.circleTangency,R=w.lineTangency,C=w.theta,B=d?Math.abs(f-m):Math.abs(f-m)-S-C;if(B<0)return c?"M ".concat(T.x,",").concat(T.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):mG({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m});var I="M ".concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(B>180),",").concat(+(p<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(R.x,",").concat(R.y,`
  `);if(i>0){var D=Ry({cx:r,cy:n,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),A=D.circleTangency,k=D.lineTangency,E=D.theta,U=Ry({cx:r,cy:n,radius:i,angle:m,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),M=U.circleTangency,$=U.lineTangency,z=U.theta,Y=d?Math.abs(f-m):Math.abs(f-m)-E-z;if(Y<0&&s===0)return"".concat(I,"L").concat(r,",").concat(n,"Z");I+="L".concat($.x,",").concat($.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Y>180),",").concat(+(p>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,"Z")}else I+="L".concat(r,",").concat(n,"Z");return I},q1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pG=function(e){var r=pL(pL({},q1e),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,m=r.startAngle,p=r.endAngle,y=r.className;if(s<a||m===p)return null;var b=Bt("recharts-sector",y),T=s-a,S=Rs(c,T,0,!0),w;return S>0&&Math.abs(m-p)<360?w=F1e({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,T/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:p}):w=mG({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:m,endAngle:p}),ie.createElement("path",eA({},vt(r,!0),{className:b,d:w,role:"img"}))};function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function tA(){return tA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tA.apply(this,arguments)}function gL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(r),!0).forEach(function(n){H1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H1e(t,e,r){return e=G1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G1e(t){var e=K1e(t,"string");return Pp(e)=="symbol"?e:e+""}function K1e(t,e){if(Pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vL={curveBasisClosed:fue,curveBasisOpen:mue,curveBasis:hue,curveBumpX:Zce,curveBumpY:Jce,curveLinearClosed:pue,curveLinear:Lx,curveMonotoneX:gue,curveMonotoneY:yue,curveNatural:vue,curveStep:bue,curveStepAfter:wue,curveStepBefore:xue},My=function(e){return e.x===+e.x&&e.y===+e.y},dm=function(e){return e.x},hm=function(e){return e.y},W1e=function(e,r){if(kt(e))return e;var n="curve".concat(Px(e));return(n==="curveMonotone"||n==="curveBump")&&r?vL["".concat(n).concat(r==="vertical"?"Y":"X")]:vL[n]||Lx},X1e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,c=e.layout,d=e.connectNulls,f=d===void 0?!1:d,m=W1e(n,c),p=f?a.filter(function(S){return My(S)}):a,y;if(Array.isArray(s)){var b=f?s.filter(function(S){return My(S)}):s,T=p.map(function(S,w){return yL(yL({},S),{},{base:b[w]})});return c==="vertical"?y=Ay().y(hm).x1(dm).x0(function(S){return S.base.x}):y=Ay().x(dm).y1(hm).y0(function(S){return S.base.y}),y.defined(My).curve(m),y(T)}return c==="vertical"&&Ze(s)?y=Ay().y(hm).x1(dm).x0(s):Ze(s)?y=Ay().x(dm).y1(hm).y0(s):y=fq().x(dm).y(hm),y.defined(My).curve(m),y(p)},rA=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?X1e(e):i;return F.createElement("path",tA({},vt(e,!1),Uv(e),{className:Bt("recharts-curve",r),d:s,ref:a}))},M_={exports:{}},P_,bL;function Y1e(){if(bL)return P_;bL=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return P_=t,P_}var D_,xL;function Q1e(){if(xL)return D_;xL=1;var t=Y1e();function e(){}function r(){}return r.resetWarningCache=e,D_=function(){function n(s,c,d,f,m,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},D_}var wL;function Z1e(){return wL||(wL=1,M_.exports=Q1e()()),M_.exports}var J1e=Z1e();const yr=mr(J1e),{getOwnPropertyNames:eye,getOwnPropertySymbols:tye}=Object,{hasOwnProperty:rye}=Object.prototype;function L_(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Py(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,s=a.get(r),c=a.get(n);if(s&&c)return s===n&&c===r;a.set(r,n),a.set(n,r);const d=t(r,n,i);return a.delete(r),a.delete(n),d}}function nye(t){return t!=null?t[Symbol.toStringTag]:void 0}function _L(t){return eye(t).concat(tye(t))}const iye=Object.hasOwn||((t,e)=>rye.call(t,e));function D0(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const aye="__v",sye="__o",oye="_owner",{getOwnPropertyDescriptor:SL,keys:TL}=Object;function lye(t,e){return t.byteLength===e.byteLength&&fb(new Uint8Array(t),new Uint8Array(e))}function cye(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function uye(t,e){return t.byteLength===e.byteLength&&fb(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function dye(t,e){return D0(t.getTime(),e.getTime())}function hye(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function fye(t,e){return t===e}function AL(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let s,c,d=0;for(;(s=a.next())&&!s.done;){const f=e.entries();let m=!1,p=0;for(;(c=f.next())&&!c.done;){if(i[p]){p++;continue}const y=s.value,b=c.value;if(r.equals(y[0],b[0],d,p,t,e,r)&&r.equals(y[1],b[1],y[0],b[0],t,e,r)){m=i[p]=!0;break}p++}if(!m)return!1;d++}return!0}const mye=D0;function pye(t,e,r){const n=TL(t);let i=n.length;if(TL(e).length!==i)return!1;for(;i-- >0;)if(!gG(t,e,r,n[i]))return!1;return!0}function fm(t,e,r){const n=_L(t);let i=n.length;if(_L(e).length!==i)return!1;let a,s,c;for(;i-- >0;)if(a=n[i],!gG(t,e,r,a)||(s=SL(t,a),c=SL(e,a),(s||c)&&(!s||!c||s.configurable!==c.configurable||s.enumerable!==c.enumerable||s.writable!==c.writable)))return!1;return!0}function gye(t,e){return D0(t.valueOf(),e.valueOf())}function yye(t,e){return t.source===e.source&&t.flags===e.flags}function EL(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let s,c;for(;(s=a.next())&&!s.done;){const d=e.values();let f=!1,m=0;for(;(c=d.next())&&!c.done;){if(!i[m]&&r.equals(s.value,c.value,s.value,c.value,t,e,r)){f=i[m]=!0;break}m++}if(!f)return!1}return!0}function fb(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function vye(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function gG(t,e,r,n){return(n===oye||n===sye||n===aye)&&(t.$$typeof||e.$$typeof)?!0:iye(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const bye="[object ArrayBuffer]",xye="[object Arguments]",wye="[object Boolean]",_ye="[object DataView]",Sye="[object Date]",Tye="[object Error]",Aye="[object Map]",Eye="[object Number]",Nye="[object Object]",Oye="[object RegExp]",kye="[object Set]",jye="[object String]",Cye={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Iye="[object URL]",Rye=Object.prototype.toString;function Mye({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:c,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:m,areSetsEqual:p,areTypedArraysEqual:y,areUrlsEqual:b,unknownTagComparators:T}){return function(w,O,R){if(w===O)return!0;if(w==null||O==null)return!1;const C=typeof w;if(C!==typeof O)return!1;if(C!=="object")return C==="number"?c(w,O,R):C==="function"?a(w,O,R):!1;const B=w.constructor;if(B!==O.constructor)return!1;if(B===Object)return d(w,O,R);if(Array.isArray(w))return e(w,O,R);if(B===Date)return n(w,O,R);if(B===RegExp)return m(w,O,R);if(B===Map)return s(w,O,R);if(B===Set)return p(w,O,R);const I=Rye.call(w);if(I===Sye)return n(w,O,R);if(I===Oye)return m(w,O,R);if(I===Aye)return s(w,O,R);if(I===kye)return p(w,O,R);if(I===Nye)return typeof w.then!="function"&&typeof O.then!="function"&&d(w,O,R);if(I===Iye)return b(w,O,R);if(I===Tye)return i(w,O,R);if(I===xye)return d(w,O,R);if(Cye[I])return y(w,O,R);if(I===bye)return t(w,O,R);if(I===_ye)return r(w,O,R);if(I===wye||I===Eye||I===jye)return f(w,O,R);if(T){let D=T[I];if(!D){const A=nye(w);A&&(D=T[A])}if(D)return D(w,O,R)}return!1}}function Pye({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:lye,areArraysEqual:r?fm:cye,areDataViewsEqual:uye,areDatesEqual:dye,areErrorsEqual:hye,areFunctionsEqual:fye,areMapsEqual:r?L_(AL,fm):AL,areNumbersEqual:mye,areObjectsEqual:r?fm:pye,arePrimitiveWrappersEqual:gye,areRegExpsEqual:yye,areSetsEqual:r?L_(EL,fm):EL,areTypedArraysEqual:r?L_(fb,fm):fb,areUrlsEqual:vye,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=Py(n.areArraysEqual),a=Py(n.areMapsEqual),s=Py(n.areObjectsEqual),c=Py(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:c})}return n}function Dye(t){return function(e,r,n,i,a,s,c){return t(e,r,c)}}function Lye({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(c,d){const{cache:f=t?new WeakMap:void 0,meta:m}=r();return e(c,d,{cache:f,equals:n,meta:m,strict:i})};if(t)return function(c,d){return e(c,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(c,d){return e(c,d,a)}}const Bye=ru();ru({strict:!0});ru({circular:!0});ru({circular:!0,strict:!0});ru({createInternalComparator:()=>D0});ru({strict:!0,createInternalComparator:()=>D0});ru({circular:!0,createInternalComparator:()=>D0});ru({circular:!0,createInternalComparator:()=>D0,strict:!0});function ru(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=Pye(t),s=Mye(a),c=r?r(s):Dye(s);return Lye({circular:e,comparator:s,createState:n,equals:c,strict:i})}function Uye(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function NL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Uye(i)};requestAnimationFrame(n)}function nA(t){"@babel/helpers - typeof";return nA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nA(t)}function zye(t){return qye(t)||Fye(t)||$ye(t)||Vye()}function Vye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ye(t,e){if(t){if(typeof t=="string")return OL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OL(t,e)}}function OL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qye(t){if(Array.isArray(t))return t}function Hye(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,c=zye(s),d=c[0],f=c.slice(1);if(typeof d=="number"){NL(i.bind(null,f),d);return}i(d),NL(i.bind(null,f));return}nA(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function kL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(r),!0).forEach(function(n){yG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yG(t,e,r){return e=Gye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gye(t){var e=Kye(t,"string");return Dp(e)==="symbol"?e:String(e)}function Kye(t,e){if(Dp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wye=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Xye=function(e){return e},Yye=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Um=function(e,r){return Object.keys(r).reduce(function(n,i){return jL(jL({},n),{},yG({},i,e(i,r[i])))},{})},CL=function(e,r,n){return e.map(function(i){return"".concat(Yye(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Qye(t,e){return eve(t)||Jye(t,e)||vG(t,e)||Zye()}function Zye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function eve(t){if(Array.isArray(t))return t}function tve(t){return ive(t)||nve(t)||vG(t)||rve()}function rve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vG(t,e){if(t){if(typeof t=="string")return iA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iA(t,e)}}function nve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ive(t){if(Array.isArray(t))return iA(t)}function iA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var mb=1e-4,bG=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},xG=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},IL=function(e,r){return function(n){var i=bG(e,r);return xG(i,n)}},ave=function(e,r){return function(n){var i=bG(e,r),a=[].concat(tve(i.map(function(s,c){return s*c}).slice(1)),[0]);return xG(a,n)}},RL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,c=1;break;case"ease":i=.25,a=.1,s=.25,c=1;break;case"ease-in":i=.42,a=0,s=1,c=1;break;case"ease-out":i=.42,a=0,s=.58,c=1;break;case"ease-in-out":i=0,a=0,s=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),m=Qye(f,4);i=m[0],a=m[1],s=m[2],c=m[3]}}}var p=IL(i,s),y=IL(a,c),b=ave(i,s),T=function(O){return O>1?1:O<0?0:O},S=function(O){for(var R=O>1?1:O,C=R,B=0;B<8;++B){var I=p(C)-R,D=b(C);if(Math.abs(I-R)<mb||D<mb)return y(C);C=T(C-I/D)}return y(C)};return S.isStepper=!1,S},sve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,c=s===void 0?17:s,d=function(m,p,y){var b=-(m-p)*n,T=y*a,S=y+(b-T)*c/1e3,w=y*c/1e3+m;return Math.abs(w-p)<mb&&Math.abs(S)<mb?[p,0]:[w,S]};return d.isStepper=!0,d.dt=c,d},ove=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RL(i);case"spring":return sve();default:if(i.split("(")[0]==="cubic-bezier")return RL(i)}return typeof i=="function"?i:null};function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function ML(t){return uve(t)||cve(t)||wG(t)||lve()}function lve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uve(t){if(Array.isArray(t))return sA(t)}function PL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(r),!0).forEach(function(n){aA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aA(t,e,r){return e=dve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dve(t){var e=hve(t,"string");return Lp(e)==="symbol"?e:String(e)}function hve(t,e){if(Lp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fve(t,e){return gve(t)||pve(t,e)||wG(t,e)||mve()}function mve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wG(t,e){if(t){if(typeof t=="string")return sA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(t,e)}}function sA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function gve(t){if(Array.isArray(t))return t}var pb=function(e,r,n){return e+(r-e)*n},oA=function(e){var r=e.from,n=e.to;return r!==n},yve=function t(e,r,n){var i=Um(function(a,s){if(oA(s)){var c=e(s.from,s.to,s.velocity),d=fve(c,2),f=d[0],m=d[1];return hi(hi({},s),{},{from:f,velocity:m})}return s},r);return n<1?Um(function(a,s){return oA(s)?hi(hi({},s),{},{velocity:pb(s.velocity,i[a].velocity,n),from:pb(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const vve=(function(t,e,r,n,i){var a=Wye(t,e),s=a.reduce(function(w,O){return hi(hi({},w),{},aA({},O,[t[O],e[O]]))},{}),c=a.reduce(function(w,O){return hi(hi({},w),{},aA({},O,{from:t[O],velocity:0,to:e[O]}))},{}),d=-1,f,m,p=function(){return null},y=function(){return Um(function(O,R){return R.from},c)},b=function(){return!Object.values(c).filter(oA).length},T=function(O){f||(f=O);var R=O-f,C=R/r.dt;c=yve(r,c,C),i(hi(hi(hi({},t),e),y())),f=O,b()||(d=requestAnimationFrame(p))},S=function(O){m||(m=O);var R=(O-m)/n,C=Um(function(I,D){return pb.apply(void 0,ML(D).concat([r(R)]))},s);if(i(hi(hi(hi({},t),e),C)),R<1)d=requestAnimationFrame(p);else{var B=Um(function(I,D){return pb.apply(void 0,ML(D).concat([r(1)]))},s);i(hi(hi(hi({},t),e),B))}};return p=r.isStepper?T:S,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}});function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}var bve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xve(t,e){if(t==null)return{};var r=wve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wve(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function B_(t){return Ave(t)||Tve(t)||Sve(t)||_ve()}function _ve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sve(t,e){if(t){if(typeof t=="string")return lA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lA(t,e)}}function Tve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ave(t){if(Array.isArray(t))return lA(t)}function lA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ns(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DL(Object(r),!0).forEach(function(n){Am(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Am(t,e,r){return e=_G(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_G(n.key),n)}}function Ove(t,e,r){return e&&Nve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _G(t){var e=kve(t,"string");return _h(e)==="symbol"?e:String(e)}function kve(t,e){if(_h(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_h(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cA(t,e)}function cA(t,e){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cA(t,e)}function Cve(t){var e=Ive();return function(){var n=gb(t),i;if(e){var a=gb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return uA(this,i)}}function uA(t,e){if(e&&(_h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dA(t)}function dA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ive(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gb(t){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gb(t)}var vo=(function(t){jve(r,t);var e=Cve(r);function r(n,i){var a;Eve(this,r),a=e.call(this,n,i);var s=a.props,c=s.isActive,d=s.attributeName,f=s.from,m=s.to,p=s.steps,y=s.children,b=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(dA(a)),a.changeStyle=a.changeStyle.bind(dA(a)),!c||b<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:m}),uA(a);if(p&&p.length)a.state={style:p[0].style};else if(f){if(typeof y=="function")return a.state={style:f},uA(a);a.state={style:d?Am({},d,f):f}}else a.state={style:{}};return a}return Ove(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,c=a.canBegin,d=a.attributeName,f=a.shouldReAnimate,m=a.to,p=a.from,y=this.state.style;if(c){if(!s){var b={style:d?Am({},d,m):m};this.state&&y&&(d&&y[d]!==m||!d&&y!==m)&&this.setState(b);return}if(!(Bye(i.to,m)&&i.canBegin&&i.isActive)){var T=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=T||f?p:i.to;if(this.state&&y){var w={style:d?Am({},d,S):S};(d&&y[d]!==S||!d&&y!==S)&&this.setState(w)}this.runAnimation(Ns(Ns({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,c=i.to,d=i.duration,f=i.easing,m=i.begin,p=i.onAnimationEnd,y=i.onAnimationStart,b=vve(s,c,ove(f),d,this.changeStyle),T=function(){a.stopJSAnimation=b()};this.manager.start([y,m,T,d,p])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,c=i.begin,d=i.onAnimationStart,f=s[0],m=f.style,p=f.duration,y=p===void 0?0:p,b=function(S,w,O){if(O===0)return S;var R=w.duration,C=w.easing,B=C===void 0?"ease":C,I=w.style,D=w.properties,A=w.onAnimationEnd,k=O>0?s[O-1]:w,E=D||Object.keys(I);if(typeof B=="function"||B==="spring")return[].concat(B_(S),[a.runJSAnimation.bind(a,{from:k.style,to:I,duration:R,easing:B}),R]);var U=CL(E,R,B),M=Ns(Ns(Ns({},k.style),I),{},{transition:U});return[].concat(B_(S),[M,R,A]).filter(Xye)};return this.manager.start([d].concat(B_(s.reduce(b,[m,Math.max(y,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Hye());var a=i.begin,s=i.duration,c=i.attributeName,d=i.to,f=i.easing,m=i.onAnimationStart,p=i.onAnimationEnd,y=i.steps,b=i.children,T=this.manager;if(this.unSubscribe=T.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var S=c?Am({},c,d):d,w=CL(Object.keys(S),s,f);T.start([m,a,Ns(Ns({},S),{},{transition:w}),s,p])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=xve(i,bve),f=F.Children.count(a),m=this.state.style;if(typeof a=="function")return a(m);if(!c||f===0||s<=0)return a;var p=function(b){var T=b.props,S=T.style,w=S===void 0?{}:S,O=T.className,R=F.cloneElement(b,Ns(Ns({},d),{},{style:Ns(Ns({},w),m),className:O}));return R};return f===1?p(F.Children.only(a)):ie.createElement("div",null,F.Children.map(a,function(y){return p(y)}))}}]),r})(F.PureComponent);vo.displayName="Animate";vo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vo.propTypes={from:yr.oneOfType([yr.object,yr.string]),to:yr.oneOfType([yr.object,yr.string]),attributeName:yr.string,duration:yr.number,begin:yr.number,easing:yr.oneOfType([yr.string,yr.func]),steps:yr.arrayOf(yr.shape({duration:yr.number.isRequired,style:yr.object.isRequired,easing:yr.oneOfType([yr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yr.func]),properties:yr.arrayOf("string"),onAnimationEnd:yr.func})),children:yr.oneOfType([yr.node,yr.func]),isActive:yr.bool,canBegin:yr.bool,onAnimationEnd:yr.func,shouldReAnimate:yr.bool,onAnimationStart:yr.func,onAnimationReStart:yr.func};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function yb(){return yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yb.apply(this,arguments)}function Rve(t,e){return Lve(t)||Dve(t,e)||Pve(t,e)||Mve()}function Mve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pve(t,e){if(t){if(typeof t=="string")return LL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LL(t,e)}}function LL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function Lve(t){if(Array.isArray(t))return t}function BL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(r),!0).forEach(function(n){Bve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bve(t,e,r){return e=Uve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uve(t){var e=zve(t,"string");return Bp(e)=="symbol"?e:e+""}function zve(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zL=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),c=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,m;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],y=0,b=4;y<b;y++)p[y]=a[y]>s?s:a[y];m="M".concat(e,",").concat(r+c*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+d*p[0],",").concat(r)),m+="L ".concat(e+n-d*p[1],",").concat(r),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+c*p[1])),m+="L ".concat(e+n,",").concat(r+i-c*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-d*p[2],",").concat(r+i)),m+="L ".concat(e+d*p[3],",").concat(r+i),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-c*p[3])),m+="Z"}else if(s>0&&a===+a&&a>0){var T=Math.min(s,a);m="M ".concat(e,",").concat(r+c*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(f,",").concat(e+d*T,",").concat(r,`
            L `).concat(e+n-d*T,",").concat(r,`
            A `).concat(T,",").concat(T,",0,0,").concat(f,",").concat(e+n,",").concat(r+c*T,`
            L `).concat(e+n,",").concat(r+i-c*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(f,",").concat(e+n-d*T,",").concat(r+i,`
            L `).concat(e+d*T,",").concat(r+i,`
            A `).concat(T,",").concat(T,",0,0,").concat(f,",").concat(e,",").concat(r+i-c*T," Z")}else m="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return m},Vve=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var f=Math.min(a,a+c),m=Math.max(a,a+c),p=Math.min(s,s+d),y=Math.max(s,s+d);return n>=f&&n<=m&&i>=p&&i<=y}return!1},$ve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SE=function(e){var r=UL(UL({},$ve),e),n=F.useRef(),i=F.useState(-1),a=Rve(i,2),s=a[0],c=a[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var B=n.current.getTotalLength();B&&c(B)}catch{}},[]);var d=r.x,f=r.y,m=r.width,p=r.height,y=r.radius,b=r.className,T=r.animationEasing,S=r.animationDuration,w=r.animationBegin,O=r.isAnimationActive,R=r.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||p!==+p||m===0||p===0)return null;var C=Bt("recharts-rectangle",b);return R?ie.createElement(vo,{canBegin:s>0,from:{width:m,height:p,x:d,y:f},to:{width:m,height:p,x:d,y:f},duration:S,animationEasing:T,isActive:R},function(B){var I=B.width,D=B.height,A=B.x,k=B.y;return ie.createElement(vo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,isActive:O,easing:T},ie.createElement("path",yb({},vt(r,!0),{className:C,d:zL(A,k,I,D,y),ref:n})))}):ie.createElement("path",yb({},vt(r,!0),{className:C,d:zL(d,f,m,p,y)}))},Fve=["points","className","baseLinePoints","connectNulls"];function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zd.apply(this,arguments)}function qve(t,e){if(t==null)return{};var r=Hve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VL(t){return Xve(t)||Wve(t)||Kve(t)||Gve()}function Gve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kve(t,e){if(t){if(typeof t=="string")return hA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hA(t,e)}}function Wve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xve(t){if(Array.isArray(t))return hA(t)}function hA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $L=function(e){return e&&e.x===+e.x&&e.y===+e.y},Yve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){$L(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),$L(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},zm=function(e,r){var n=Yve(e);r&&(n=[n.reduce(function(a,s){return[].concat(VL(a),VL(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,c,d){return"".concat(s).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Qve=function(e,r,n){var i=zm(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(zm(r.reverse(),n).slice(1))},SG=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=qve(e,Fve);if(!r||!r.length)return null;var c=Bt("recharts-polygon",n);if(i&&i.length){var d=s.stroke&&s.stroke!=="none",f=Qve(r,i,a);return ie.createElement("g",{className:c},ie.createElement("path",zd({},vt(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),d?ie.createElement("path",zd({},vt(s,!0),{fill:"none",d:zm(r,a)})):null,d?ie.createElement("path",zd({},vt(s,!0),{fill:"none",d:zm(i,a)})):null)}var m=zm(r,a);return ie.createElement("path",zd({},vt(s,!0),{fill:m.slice(-1)==="Z"?s.fill:"none",className:c,d:m}))};function fA(){return fA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fA.apply(this,arguments)}var e2=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=Bt("recharts-dot",a);return r===+r&&n===+n&&i===+i?F.createElement("circle",fA({},vt(e,!1),Uv(e),{className:s,cx:r,cy:n,r:i})):null};function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}var Zve=["x","y","top","left","width","height","className"];function mA(){return mA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mA.apply(this,arguments)}function FL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(r),!0).forEach(function(n){ebe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ebe(t,e,r){return e=tbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tbe(t){var e=rbe(t,"string");return Up(e)=="symbol"?e:e+""}function rbe(t,e){if(Up(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nbe(t,e){if(t==null)return{};var r=ibe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ibe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var abe=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},sbe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,c=s===void 0?0:s,d=e.left,f=d===void 0?0:d,m=e.width,p=m===void 0?0:m,y=e.height,b=y===void 0?0:y,T=e.className,S=nbe(e,Zve),w=Jve({x:n,y:a,top:c,left:f,width:p,height:b},S);return!Ze(n)||!Ze(a)||!Ze(p)||!Ze(b)||!Ze(c)||!Ze(f)?null:ie.createElement("path",mA({},vt(w,!0),{className:Bt("recharts-cross",T),d:abe(n,a,p,b,c,f)}))},obe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function lbe(t,e){if(t==null)return{};var r=cbe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},El.apply(this,arguments)}function qL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(r),!0).forEach(function(n){ube(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ube(t,e,r){return e=dbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dbe(t){var e=hbe(t,"string");return zp(e)=="symbol"?e:e+""}function hbe(t,e){if(zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fbe=function(e,r,n,i){var a="";return i.forEach(function(s,c){var d=kr(r,n,e,s);c?a+="L ".concat(d.x,",").concat(d.y):a+="M ".concat(d.x,",").concat(d.y)}),a+="Z",a},mbe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.polarAngles,c=e.radialLines;if(!s||!s.length||!c)return null;var d=Vp({stroke:"#ccc"},vt(e,!1));return ie.createElement("g",{className:"recharts-polar-grid-angle"},s.map(function(f){var m=kr(r,n,i,f),p=kr(r,n,a,f);return ie.createElement("line",El({},d,{key:"line-".concat(f),x1:m.x,y1:m.y,x2:p.x,y2:p.y}))}))},pbe=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.index,s=Vp(Vp({stroke:"#ccc"},vt(e,!1)),{},{fill:"none"});return ie.createElement("circle",El({},s,{className:Bt("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:r,cy:n,r:i}))},gbe=function(e){var r=e.radius,n=e.index,i=Vp(Vp({stroke:"#ccc"},vt(e,!1)),{},{fill:"none"});return ie.createElement("path",El({},i,{className:Bt("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(n),d:fbe(r,e.cx,e.cy,e.polarAngles)}))},ybe=function(e){var r=e.polarRadius,n=e.gridType;return!r||!r.length?null:ie.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,a){var s=a;return n==="circle"?ie.createElement(pbe,El({key:s},e,{radius:i,index:a})):ie.createElement(gbe,El({key:s},e,{radius:i,index:a}))}))},TG=function(e){var r=e.cx,n=r===void 0?0:r,i=e.cy,a=i===void 0?0:i,s=e.innerRadius,c=s===void 0?0:s,d=e.outerRadius,f=d===void 0?0:d,m=e.gridType,p=m===void 0?"polygon":m,y=e.radialLines,b=y===void 0?!0:y,T=lbe(e,obe);return f<=0?null:ie.createElement("g",{className:"recharts-polar-grid"},ie.createElement(mbe,El({cx:n,cy:a,innerRadius:c,outerRadius:f,gridType:p,radialLines:b},T)),ie.createElement(ybe,El({cx:n,cy:a,innerRadius:c,outerRadius:f,gridType:p,radialLines:b},T)))};TG.displayName="PolarGrid";var U_,HL;function vbe(){if(HL)return U_;HL=1;var t=Xx(),e=LH(),r=To();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return U_=n,U_}var bbe=vbe();const xbe=mr(bbe);var z_,GL;function wbe(){if(GL)return z_;GL=1;var t=Xx(),e=To(),r=BH();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return z_=n,z_}var _be=wbe();const Sbe=mr(_be);var Tbe=["cx","cy","angle","ticks","axisLine"],Abe=["ticks","tick","angle","tickFormatter","stroke"];function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vm.apply(this,arguments)}function KL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(r),!0).forEach(function(n){t2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WL(t,e){if(t==null)return{};var r=Ebe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ebe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EG(n.key),n)}}function Obe(t,e,r){return e&&XL(t.prototype,e),r&&XL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kbe(t,e,r){return e=vb(e),jbe(t,AG()?Reflect.construct(e,r||[],vb(t).constructor):e.apply(t,r))}function jbe(t,e){if(e&&(Sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cbe(t)}function Cbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AG=function(){return!!t})()}function vb(t){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(t)}function Ibe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pA(t,e)}function pA(t,e){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pA(t,e)}function t2(t,e,r){return e=EG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EG(t){var e=Rbe(t,"string");return Sh(e)=="symbol"?e:e+""}function Rbe(t,e){if(Sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jg=(function(t){function e(){return Nbe(this,e),kbe(this,e,arguments)}return Ibe(e,t),Obe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,c=a.cx,d=a.cy;return kr(c,d,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,c=n.ticks,d=xbe(c,function(m){return m.coordinate||0}),f=Sbe(c,function(m){return m.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,c=n.ticks,d=n.axisLine,f=WL(n,Tbe),m=c.reduce(function(T,S){return[Math.min(T[0],S.coordinate),Math.max(T[1],S.coordinate)]},[1/0,-1/0]),p=kr(i,a,m[0],s),y=kr(i,a,m[1],s),b=Mu(Mu(Mu({},vt(f,!1)),{},{fill:"none"},vt(d,!1)),{},{x1:p.x,y1:p.y,x2:y.x,y2:y.y});return ie.createElement("line",Vm({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,c=i.angle,d=i.tickFormatter,f=i.stroke,m=WL(i,Abe),p=this.getTickTextAnchor(),y=vt(m,!1),b=vt(s,!1),T=a.map(function(S,w){var O=n.getTickValueCoord(S),R=Mu(Mu(Mu(Mu({textAnchor:p,transform:"rotate(".concat(90-c,", ").concat(O.x,", ").concat(O.y,")")},y),{},{stroke:"none",fill:f},b),{},{index:w},O),{},{payload:S});return ie.createElement(ur,Vm({className:Bt("recharts-polar-radius-axis-tick",dG(s)),key:"tick-".concat(S.coordinate)},b0(n.props,S,w)),e.renderTickItem(s,R,d?d(S.value,w):S.value))});return ie.createElement(ur,{className:"recharts-polar-radius-axis-ticks"},T)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:ie.createElement(ur,{className:Bt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),gi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return ie.isValidElement(n)?s=ie.cloneElement(n,i):kt(n)?s=n(i):s=ie.createElement(yh,Vm({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])})(F.PureComponent);t2(jg,"displayName","PolarRadiusAxis");t2(jg,"axisType","radiusAxis");t2(jg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qu.apply(this,arguments)}function YL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(r),!0).forEach(function(n){r2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OG(n.key),n)}}function Pbe(t,e,r){return e&&QL(t.prototype,e),r&&QL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dbe(t,e,r){return e=bb(e),Lbe(t,NG()?Reflect.construct(e,r||[],bb(t).constructor):e.apply(t,r))}function Lbe(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bbe(t)}function Bbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NG=function(){return!!t})()}function bb(t){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(t)}function Ube(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gA(t,e)}function gA(t,e){return gA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gA(t,e)}function r2(t,e,r){return e=OG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OG(t){var e=zbe(t,"string");return Th(e)=="symbol"?e:e+""}function zbe(t,e){if(Th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vbe=Math.PI/180,ZL=1e-5,Cg=(function(t){function e(){return Mbe(this,e),Dbe(this,e,arguments)}return Ube(e,t),Pbe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,c=i.radius,d=i.orientation,f=i.tickSize,m=f||8,p=kr(a,s,c,n.coordinate),y=kr(a,s,c+(d==="inner"?-1:1)*m,n.coordinate);return{x1:p.x,y1:p.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Vbe),s;return a>ZL?s=i==="outer"?"start":"end":a<-ZL?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,c=n.axisLine,d=n.axisLineType,f=Pu(Pu({},vt(this.props,!1)),{},{fill:"none"},vt(c,!1));if(d==="circle")return ie.createElement(e2,qu({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:s}));var m=this.props.ticks,p=m.map(function(y){return kr(i,a,s,y.coordinate)});return ie.createElement(SG,qu({className:"recharts-polar-angle-axis-line"},f,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,c=i.tickLine,d=i.tickFormatter,f=i.stroke,m=vt(this.props,!1),p=vt(s,!1),y=Pu(Pu({},m),{},{fill:"none"},vt(c,!1)),b=a.map(function(T,S){var w=n.getTickLineCoord(T),O=n.getTickTextAnchor(T),R=Pu(Pu(Pu({textAnchor:O},m),{},{stroke:"none",fill:f},p),{},{index:S,payload:T,x:w.x2,y:w.y2});return ie.createElement(ur,qu({className:Bt("recharts-polar-angle-axis-tick",dG(s)),key:"tick-".concat(T.coordinate)},b0(n.props,T,S)),c&&ie.createElement("line",qu({className:"recharts-polar-angle-axis-tick-line"},y,w)),s&&e.renderTickItem(s,R,d?d(T.value,S):T.value))});return ie.createElement(ur,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:ie.createElement(ur,{className:Bt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return ie.isValidElement(n)?s=ie.cloneElement(n,i):kt(n)?s=n(i):s=ie.createElement(yh,qu({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])})(F.PureComponent);r2(Cg,"displayName","PolarAngleAxis");r2(Cg,"axisType","angleAxis");r2(Cg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var V_,JL;function $be(){if(JL)return V_;JL=1;var t=Dq(),e=t(Object.getPrototypeOf,Object);return V_=e,V_}var $_,eB;function Fbe(){if(eB)return $_;eB=1;var t=jl(),e=$be(),r=Cl(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,c=a.hasOwnProperty,d=s.call(Object);function f(m){if(!r(m)||t(m)!=n)return!1;var p=e(m);if(p===null)return!0;var y=c.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==d}return $_=f,$_}var qbe=Fbe();const Hbe=mr(qbe);var F_,tB;function Gbe(){if(tB)return F_;tB=1;var t=jl(),e=Cl(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return F_=n,F_}var Kbe=Gbe();const Wbe=mr(Kbe);function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xb.apply(this,arguments)}function Xbe(t,e){return Jbe(t)||Zbe(t,e)||Qbe(t,e)||Ybe()}function Ybe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qbe(t,e){if(t){if(typeof t=="string")return rB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rB(t,e)}}function rB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function Jbe(t){if(Array.isArray(t))return t}function nB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(r),!0).forEach(function(n){exe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function exe(t,e,r){return e=txe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function txe(t){var e=rxe(t,"string");return $p(e)=="symbol"?e:e+""}function rxe(t,e){if($p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aB=function(e,r,n,i,a){var s=n-i,c;return c="M ".concat(e,",").concat(r),c+="L ".concat(e+n,",").concat(r),c+="L ".concat(e+n-s/2,",").concat(r+a),c+="L ".concat(e+n-s/2-i,",").concat(r+a),c+="L ".concat(e,",").concat(r," Z"),c},nxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ixe=function(e){var r=iB(iB({},nxe),e),n=F.useRef(),i=F.useState(-1),a=Xbe(i,2),s=a[0],c=a[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&c(C)}catch{}},[]);var d=r.x,f=r.y,m=r.upperWidth,p=r.lowerWidth,y=r.height,b=r.className,T=r.animationEasing,S=r.animationDuration,w=r.animationBegin,O=r.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||p!==+p||y!==+y||m===0&&p===0||y===0)return null;var R=Bt("recharts-trapezoid",b);return O?ie.createElement(vo,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:f},to:{upperWidth:m,lowerWidth:p,height:y,x:d,y:f},duration:S,animationEasing:T,isActive:O},function(C){var B=C.upperWidth,I=C.lowerWidth,D=C.height,A=C.x,k=C.y;return ie.createElement(vo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,easing:T},ie.createElement("path",xb({},vt(r,!0),{className:R,d:aB(A,k,B,I,D),ref:n})))}):ie.createElement("g",null,ie.createElement("path",xb({},vt(r,!0),{className:R,d:aB(d,f,m,p,y)})))},axe=["option","shapeType","propTransformer","activeClassName","isActive"];function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function sxe(t,e){if(t==null)return{};var r=oxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(r),!0).forEach(function(n){lxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lxe(t,e,r){return e=cxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cxe(t){var e=uxe(t,"string");return Fp(e)=="symbol"?e:e+""}function uxe(t,e){if(Fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dxe(t,e){return wb(wb({},e),t)}function hxe(t,e){return t==="symbols"}function oB(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ie.createElement(SE,r);case"trapezoid":return ie.createElement(ixe,r);case"sector":return ie.createElement(pG,r);case"symbols":if(hxe(e))return ie.createElement(Ux,r);break;default:return null}}function fxe(t){return F.isValidElement(t)?t.props:t}function yA(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?dxe:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,c=t.isActive,d=sxe(t,axe),f;if(F.isValidElement(e))f=F.cloneElement(e,wb(wb({},d),fxe(e)));else if(kt(e))f=e(d);else if(Hbe(e)&&!Wbe(e)){var m=i(e,d);f=ie.createElement(oB,{shapeType:r,elementProps:m})}else{var p=d;f=ie.createElement(oB,{shapeType:r,elementProps:p})}return c?ie.createElement(ur,{className:s},f):f}function n2(t,e){return e!=null&&"trapezoids"in t.props}function i2(t,e){return e!=null&&"sectors"in t.props}function qp(t,e){return e!=null&&"points"in t.props}function mxe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function pxe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function gxe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function yxe(t,e){var r;return n2(t,e)?r=mxe:i2(t,e)?r=pxe:qp(t,e)&&(r=gxe),r}function vxe(t,e){var r;return n2(t,e)?r="trapezoids":i2(t,e)?r="sectors":qp(t,e)&&(r="points"),r}function bxe(t,e){if(n2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(i2(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return qp(t,e)?e.payload:{}}function xxe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=vxe(r,e),a=bxe(r,e),s=n.filter(function(d,f){var m=Og(a,d),p=r.props[i].filter(function(T){var S=yxe(r,e);return S(T,e)}),y=r.props[i].indexOf(p[p.length-1]),b=f===y;return m&&b}),c=n.indexOf(s[s.length-1]);return c}var q_,lB;function wxe(){if(lB)return q_;lB=1;function t(e){return e&&e.length?e[0]:void 0}return q_=t,q_}var H_,cB;function _xe(){return cB||(cB=1,H_=wxe()),H_}var Sxe=_xe();const Txe=mr(Sxe);var Axe=["key"];function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function Exe(t,e){if(t==null)return{};var r=Nxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_b.apply(this,arguments)}function uB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(r),!0).forEach(function(n){Jo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jG(n.key),n)}}function kxe(t,e,r){return e&&dB(t.prototype,e),r&&dB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jxe(t,e,r){return e=Sb(e),Cxe(t,kG()?Reflect.construct(e,r||[],Sb(t).constructor):e.apply(t,r))}function Cxe(t,e){if(e&&(Ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ixe(t)}function Ixe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kG=function(){return!!t})()}function Sb(t){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sb(t)}function Rxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vA(t,e)}function vA(t,e){return vA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vA(t,e)}function Jo(t,e,r){return e=jG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jG(t){var e=Mxe(t,"string");return Ah(e)=="symbol"?e:e+""}function Mxe(t,e){if(Ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ig=(function(t){function e(){var r;Oxe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=jxe(this,e,[].concat(i)),Jo(r,"state",{isAnimationFinished:!1}),Jo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),kt(s)&&s()}),Jo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),kt(s)&&s()}),Jo(r,"handleMouseEnter",function(s){var c=r.props.onMouseEnter;c&&c(r.props,s)}),Jo(r,"handleMouseLeave",function(s){var c=r.props.onMouseLeave;c&&c(r.props,s)}),r}return Rxe(e,t),kxe(e,[{key:"renderDots",value:function(n){var i=this.props,a=i.dot,s=i.dataKey,c=vt(this.props,!1),d=vt(a,!0),f=n.map(function(m,p){var y=$i($i($i({key:"dot-".concat(p),r:3},c),d),{},{dataKey:s,cx:m.x,cy:m.y,index:p,payload:m});return e.renderDotItem(a,y)});return ie.createElement(ur,{className:"recharts-radar-dots"},f)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,a=i.shape,s=i.dot,c=i.isRange,d=i.baseLinePoints,f=i.connectNulls,m;return ie.isValidElement(a)?m=ie.cloneElement(a,$i($i({},this.props),{},{points:n})):kt(a)?m=a($i($i({},this.props),{},{points:n})):m=ie.createElement(SG,_b({},vt(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:c?d:null,connectNulls:f})),ie.createElement(ur,{className:"recharts-radar-polygon"},m,s?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,a=i.points,s=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,m=i.animationId,p=this.state.prevPoints;return ie.createElement(vo,{begin:c,duration:d,isActive:s,easing:f,from:{t:0},to:{t:1},key:"radar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t,T=p&&p.length/a.length,S=a.map(function(w,O){var R=p&&p[Math.floor(O*T)];if(R){var C=da(R.x,w.x),B=da(R.y,w.y);return $i($i({},w),{},{x:C(b),y:B(b)})}var I=da(w.cx,w.x),D=da(w.cy,w.y);return $i($i({},w),{},{x:I(b),y:D(b)})});return n.renderPolygonStatically(S)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,s=n.isRange,c=this.state.prevPoints;return a&&i&&i.length&&!s&&(!c||!Og(c,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.className,s=n.points,c=n.isAnimationActive;if(i||!s||!s.length)return null;var d=this.state.isAnimationFinished,f=Bt("recharts-radar",a);return ie.createElement(ur,{className:f},this.renderPolygon(),(!c||d)&&ml.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var a;if(ie.isValidElement(n))a=ie.cloneElement(n,i);else if(kt(n))a=n(i);else{var s=i.key,c=Exe(i,Axe);a=ie.createElement(e2,_b({},c,{key:s,className:Bt("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return a}}])})(F.PureComponent);Jo(Ig,"displayName","Radar");Jo(Ig,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!R0.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Jo(Ig,"getComposedData",function(t){var e=t.radiusAxis,r=t.angleAxis,n=t.displayedData,i=t.dataKey,a=t.bandSize,s=r.cx,c=r.cy,d=!1,f=[],m=r.type!=="number"?a??0:0;n.forEach(function(y,b){var T=bi(y,r.dataKey,b),S=bi(y,i),w=r.scale(T)+m,O=Array.isArray(S)?fG(S):S,R=Mt(O)?void 0:e.scale(O);Array.isArray(S)&&S.length>=2&&(d=!0),f.push($i($i({},kr(s,c,R,w)),{},{name:T,value:S,cx:s,cy:c,radius:R,angle:w,payload:y}))});var p=[];return d&&f.forEach(function(y){if(Array.isArray(y.value)){var b=Txe(y.value),T=Mt(b)?void 0:e.scale(b);p.push($i($i({},y),{},{radius:T},kr(s,c,T,y.angle)))}else p.push(y)}),{points:f,isRange:d,baseLinePoints:p}});var G_,hB;function Pxe(){if(hB)return G_;hB=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var c=-1,d=e(t((i-n)/(a||1)),0),f=Array(d);d--;)f[s?d:++c]=n,n+=a;return f}return G_=r,G_}var K_,fB;function CG(){if(fB)return K_;fB=1;var t=Zq(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return K_=n,K_}var W_,mB;function Dxe(){if(mB)return W_;mB=1;var t=Pxe(),e=$x(),r=CG();function n(i){return function(a,s,c){return c&&typeof c!="number"&&e(a,s,c)&&(s=c=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),c=c===void 0?a<s?1:-1:r(c),t(a,s,c,i)}}return W_=n,W_}var X_,pB;function Lxe(){if(pB)return X_;pB=1;var t=Dxe(),e=t();return X_=e,X_}var Bxe=Lxe();const Tb=mr(Bxe);function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function gB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(r),!0).forEach(function(n){IG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IG(t,e,r){return e=Uxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uxe(t){var e=zxe(t,"string");return Hp(e)=="symbol"?e:e+""}function zxe(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vxe=["Webkit","Moz","O","ms"],$xe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Vxe.reduce(function(a,s){return yB(yB({},a),{},IG({},s+n,r))},{});return i[e]=r,i};function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ab.apply(this,arguments)}function vB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vB(Object(r),!0).forEach(function(n){ka(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MG(n.key),n)}}function qxe(t,e,r){return e&&bB(t.prototype,e),r&&bB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hxe(t,e,r){return e=Eb(e),Gxe(t,RG()?Reflect.construct(e,r||[],Eb(t).constructor):e.apply(t,r))}function Gxe(t,e){if(e&&(Eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kxe(t)}function Kxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RG=function(){return!!t})()}function Eb(t){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(t)}function Wxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bA(t,e)}function bA(t,e){return bA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bA(t,e)}function ka(t,e,r){return e=MG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MG(t){var e=Xxe(t,"string");return Eh(e)=="symbol"?e:e+""}function Xxe(t,e){if(Eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yxe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,c=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Lm().domain(Tb(0,d)).range([a,a+s-c]),m=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:m}},xB=function(e){return e.changedTouches&&!!e.changedTouches.length},Nh=(function(t){function e(r){var n;return Fxe(this,e),n=Hxe(this,e,[r]),ka(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ka(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ka(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,c=i.startIndex;s==null||s({endIndex:a,startIndex:c})}),n.detachDragEndListener()}),ka(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ka(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ka(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ka(n,"handleSlideDragStart",function(i){var a=xB(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Wxe(e,t),qxe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,c=this.props,d=c.gap,f=c.data,m=f.length-1,p=Math.min(i,a),y=Math.max(i,a),b=e.getIndexInRange(s,p),T=e.getIndexInRange(s,y);return{startIndex:b-b%d,endIndex:T===m?m:T-T%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,c=i.dataKey,d=bi(a[n],c,n);return kt(s)?s(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,c=i.endX,d=this.props,f=d.x,m=d.width,p=d.travellerWidth,y=d.startIndex,b=d.endIndex,T=d.onChange,S=n.pageX-a;S>0?S=Math.min(S,f+m-p-c,f+m-p-s):S<0&&(S=Math.max(S,f-s,f-c));var w=this.getIndex({startX:s+S,endX:c+S});(w.startIndex!==y||w.endIndex!==b)&&T&&T(w),this.setState({startX:s+S,endX:c+S,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=xB(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,c=i.endX,d=i.startX,f=this.state[s],m=this.props,p=m.x,y=m.width,b=m.travellerWidth,T=m.onChange,S=m.gap,w=m.data,O={startX:this.state.startX,endX:this.state.endX},R=n.pageX-a;R>0?R=Math.min(R,p+y-b-f):R<0&&(R=Math.max(R,p-f)),O[s]=f+R;var C=this.getIndex(O),B=C.startIndex,I=C.endIndex,D=function(){var k=w.length-1;return s==="startX"&&(c>d?B%S===0:I%S===0)||c<d&&I===k||s==="endX"&&(c>d?I%S===0:B%S===0)||c>d&&I===k};this.setState(ka(ka({},s,f+R),"brushMoveStartX",n.pageX),function(){T&&D()&&T(C)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,c=s.scaleValues,d=s.startX,f=s.endX,m=this.state[i],p=c.indexOf(m);if(p!==-1){var y=p+n;if(!(y===-1||y>=c.length)){var b=c[y];i==="startX"&&b>=f||i==="endX"&&b<=d||this.setState(ka({},i,b),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,c=n.height,d=n.fill,f=n.stroke;return ie.createElement("rect",{stroke:f,fill:d,x:i,y:a,width:s,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,c=n.height,d=n.data,f=n.children,m=n.padding,p=F.Children.only(f);return p?ie.cloneElement(p,{x:i,y:a,width:s,height:c,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,c=this,d=this.props,f=d.y,m=d.travellerWidth,p=d.height,y=d.traveller,b=d.ariaLabel,T=d.data,S=d.startIndex,w=d.endIndex,O=Math.max(n,this.props.x),R=Y_(Y_({},vt(this.props,!1)),{},{x:O,y:f,width:m,height:p}),C=b||"Min value: ".concat((a=T[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=T[w])===null||s===void 0?void 0:s.name);return ie.createElement(ur,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),c.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,R))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,c=a.height,d=a.stroke,f=a.travellerWidth,m=Math.min(n,i)+f,p=Math.max(Math.abs(i-n)-f,0);return ie.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:s,width:p,height:c})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,c=n.height,d=n.travellerWidth,f=n.stroke,m=this.state,p=m.startX,y=m.endX,b=5,T={pointerEvents:"none",fill:f};return ie.createElement(ur,{className:"recharts-brush-texts"},ie.createElement(yh,Ab({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-b,y:s+c/2},T),this.getTextOfTick(i)),ie.createElement(yh,Ab({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+d+b,y:s+c/2},T),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,c=n.x,d=n.y,f=n.width,m=n.height,p=n.alwaysShowText,y=this.state,b=y.startX,T=y.endX,S=y.isTextActive,w=y.isSlideMoving,O=y.isTravellerMoving,R=y.isTravellerFocused;if(!i||!i.length||!Ze(c)||!Ze(d)||!Ze(f)||!Ze(m)||f<=0||m<=0)return null;var C=Bt("recharts-brush",a),B=ie.Children.count(s)===1,I=$xe("userSelect","none");return ie.createElement(ur,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),B&&this.renderPanorama(),this.renderSlide(b,T),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(T,"endX"),(S||w||O||R||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,c=n.height,d=n.stroke,f=Math.floor(a+c/2)-1;return ie.createElement(ie.Fragment,null,ie.createElement("rect",{x:i,y:a,width:s,height:c,fill:d,stroke:"none"}),ie.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),ie.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return ie.isValidElement(n)?a=ie.cloneElement(n,i):kt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,c=n.x,d=n.travellerWidth,f=n.updateId,m=n.startIndex,p=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return Y_({prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:s},a&&a.length?Yxe({data:a,width:s,x:c,travellerWidth:d,startIndex:m,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||c!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([c,c+s-d]);var y=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,c=a-1;c-s>1;){var d=Math.floor((s+c)/2);n[d]>i?c=d:s=d}return i>=n[c]?c:s}}])})(F.PureComponent);ka(Nh,"displayName","Brush");ka(Nh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Q_,wB;function Qxe(){if(wB)return Q_;wB=1;var t=W8();function e(r,n){var i;return t(r,function(a,s,c){return i=n(a,s,c),!i}),!!i}return Q_=e,Q_}var Z_,_B;function Zxe(){if(_B)return Z_;_B=1;var t=kq(),e=To(),r=Qxe(),n=ga(),i=$x();function a(s,c,d){var f=n(s)?t:r;return d&&i(s,c,d)&&(c=void 0),f(s,e(c,3))}return Z_=a,Z_}var Jxe=Zxe();const e2e=mr(Jxe);var fo=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},J_,SB;function t2e(){if(SB)return J_;SB=1;var t=Kq();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return J_=e,J_}var eS,TB;function r2e(){if(TB)return eS;TB=1;var t=t2e(),e=Hq(),r=To();function n(i,a){var s={};return a=r(a,3),e(i,function(c,d,f){t(s,d,a(c,d,f))}),s}return eS=n,eS}var n2e=r2e();const i2e=mr(n2e);var tS,AB;function a2e(){if(AB)return tS;AB=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return tS=t,tS}var rS,EB;function s2e(){if(EB)return rS;EB=1;var t=W8();function e(r,n){var i=!0;return t(r,function(a,s,c){return i=!!n(a,s,c),i}),i}return rS=e,rS}var nS,NB;function o2e(){if(NB)return nS;NB=1;var t=a2e(),e=s2e(),r=To(),n=ga(),i=$x();function a(s,c,d){var f=n(s)?t:e;return d&&i(s,c,d)&&(c=void 0),f(s,r(c,3))}return nS=a,nS}var l2e=o2e();const PG=mr(l2e);var c2e=["x","y"];function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xA.apply(this,arguments)}function OB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(r),!0).forEach(function(n){u2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u2e(t,e,r){return e=d2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d2e(t){var e=h2e(t,"string");return Gp(e)=="symbol"?e:e+""}function h2e(t,e){if(Gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f2e(t,e){if(t==null)return{};var r=m2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function p2e(t,e){var r=t.x,n=t.y,i=f2e(t,c2e),a="".concat(r),s=parseInt(a,10),c="".concat(n),d=parseInt(c,10),f="".concat(e.height||i.height),m=parseInt(f,10),p="".concat(e.width||i.width),y=parseInt(p,10);return mm(mm(mm(mm(mm({},e),i),s?{x:s}:{}),d?{y:d}:{}),{},{height:m,width:y,name:e.name,radius:e.radius})}function kB(t){return ie.createElement(yA,xA({shapeType:"rectangle",propTransformer:p2e,activeClassName:"recharts-active-bar"},t))}var g2e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Ze(n)||bce(n);return a?e(n,i):(a||w0(),r)}},y2e=["value","background"],DG;function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function v2e(t,e){if(t==null)return{};var r=b2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function b2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nb(){return Nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nb.apply(this,arguments)}function jB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jB(Object(r),!0).forEach(function(n){kc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BG(n.key),n)}}function w2e(t,e,r){return e&&CB(t.prototype,e),r&&CB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _2e(t,e,r){return e=Ob(e),S2e(t,LG()?Reflect.construct(e,r||[],Ob(t).constructor):e.apply(t,r))}function S2e(t,e){if(e&&(Oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T2e(t)}function T2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LG=function(){return!!t})()}function Ob(t){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(t)}function A2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wA(t,e)}function wA(t,e){return wA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wA(t,e)}function kc(t,e,r){return e=BG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BG(t){var e=E2e(t,"string");return Oh(e)=="symbol"?e:e+""}function E2e(t,e){if(Oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rg=(function(t){function e(){var r;x2e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_2e(this,e,[].concat(i)),kc(r,"state",{isAnimationFinished:!1}),kc(r,"id",_g("recharts-bar-")),kc(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),kc(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return A2e(e,t),w2e(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,c=a.dataKey,d=a.activeIndex,f=a.activeBar,m=vt(this.props,!1);return n&&n.map(function(p,y){var b=y===d,T=b?f:s,S=Mn(Mn(Mn({},m),p),{},{isActive:b,option:T,index:y,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ie.createElement(ur,Nb({className:"recharts-bar-rectangle"},b0(i.props,p,y),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(y)}),ie.createElement(kB,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,c=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,m=i.animationEasing,p=i.animationId,y=this.state.prevData;return ie.createElement(vo,{begin:d,duration:f,isActive:c,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var T=b.t,S=a.map(function(w,O){var R=y&&y[O];if(R){var C=da(R.x,w.x),B=da(R.y,w.y),I=da(R.width,w.width),D=da(R.height,w.height);return Mn(Mn({},w),{},{x:C(T),y:B(T),width:I(T),height:D(T)})}if(s==="horizontal"){var A=da(0,w.height),k=A(T);return Mn(Mn({},w),{},{y:w.y+w.height-k,height:k})}var E=da(0,w.width),U=E(T);return Mn(Mn({},w),{},{width:U})});return ie.createElement(ur,null,n.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Og(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,c=i.activeIndex,d=vt(this.props.background,!1);return a.map(function(f,m){f.value;var p=f.background,y=v2e(f,y2e);if(!p)return null;var b=Mn(Mn(Mn(Mn(Mn({},y),{},{fill:"#eee"},p),d),b0(n.props,f,m)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:m,className:"recharts-bar-background-rectangle"});return ie.createElement(kB,Nb({key:"background-bar-".concat(m),option:n.props.background,isActive:m===c},b))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,c=a.xAxis,d=a.yAxis,f=a.layout,m=a.children,p=Ba(m,kg);if(!p)return null;var y=f==="vertical"?s[0].height/2:s[0].width/2,b=function(w,O){var R=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:R,errorVal:bi(w,O)}},T={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ie.createElement(ur,T,p.map(function(S){return ie.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:s,xAxis:c,yAxis:d,layout:f,offset:y,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,c=n.xAxis,d=n.yAxis,f=n.left,m=n.top,p=n.width,y=n.height,b=n.isAnimationActive,T=n.background,S=n.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,O=Bt("recharts-bar",s),R=c&&c.allowDataOverflow,C=d&&d.allowDataOverflow,B=R||C,I=Mt(S)?this.id:S;return ie.createElement(ur,{className:O},R||C?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(I)},ie.createElement("rect",{x:R?f:f-p/2,y:C?m:m-y/2,width:R?p:p*2,height:C?y:y*2}))):null,ie.createElement(ur,{className:"recharts-bar-rectangles",clipPath:B?"url(#clipPath-".concat(I,")"):null},T?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(B,I),(!b||w)&&ml.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(F.PureComponent);DG=Rg;kc(Rg,"displayName","Bar");kc(Rg,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!R0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});kc(Rg,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,c=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,m=t.dataStartIndex,p=t.displayedData,y=t.offset,b=Mge(n,r);if(!b)return null;var T=e.layout,S=r.type.defaultProps,w=S!==void 0?Mn(Mn({},S),r.props):r.props,O=w.dataKey,R=w.children,C=w.minPointSize,B=T==="horizontal"?s:a,I=f?B.scale.domain():null,D=Vge({numericAxis:B}),A=Ba(R,Q8),k=p.map(function(E,U){var M,$,z,Y,te,K;f?M=Pge(f[m+U],I):(M=bi(E,O),Array.isArray(M)||(M=[D,M]));var J=g2e(C,DG.defaultProps.minPointSize)(M[1],U);if(T==="horizontal"){var Q,ye=[s.scale(M[0]),s.scale(M[1])],se=ye[0],X=ye[1];$=rL({axis:a,ticks:c,bandSize:i,offset:b.offset,entry:E,index:U}),z=(Q=X??se)!==null&&Q!==void 0?Q:void 0,Y=b.size;var ee=se-X;if(te=Number.isNaN(ee)?0:ee,K={x:$,y:s.y,width:Y,height:s.height},Math.abs(J)>0&&Math.abs(te)<Math.abs(J)){var ce=Is(te||J)*(Math.abs(J)-Math.abs(te));z-=ce,te+=ce}}else{var Ne=[a.scale(M[0]),a.scale(M[1])],oe=Ne[0],Oe=Ne[1];if($=oe,z=rL({axis:s,ticks:d,bandSize:i,offset:b.offset,entry:E,index:U}),Y=Oe-oe,te=b.size,K={x:a.x,y:z,width:a.width,height:te},Math.abs(J)>0&&Math.abs(Y)<Math.abs(J)){var Me=Is(Y||J)*(Math.abs(J)-Math.abs(Y));Y+=Me}}return Mn(Mn(Mn({},E),{},{x:$,y:z,width:Y,height:te,value:f?M:M[1],payload:E,background:K},A&&A[U]&&A[U].props),{},{tooltipPayload:[cG(r,E)],tooltipPosition:{x:$+Y/2,y:z+te/2}})});return Mn({data:k,layout:T},y)});function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function N2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UG(n.key),n)}}function O2e(t,e,r){return e&&IB(t.prototype,e),r&&IB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function js(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RB(Object(r),!0).forEach(function(n){a2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a2(t,e,r){return e=UG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UG(t){var e=k2e(t,"string");return Kp(e)=="symbol"?e:e+""}function k2e(t,e){if(Kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j2e=function(e,r,n,i,a){var s=e.width,c=e.height,d=e.layout,f=e.children,m=Object.keys(r),p={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},y=!!ja(f,Rg);return m.reduce(function(b,T){var S=r[T],w=S.orientation,O=S.domain,R=S.padding,C=R===void 0?{}:R,B=S.mirror,I=S.reversed,D="".concat(w).concat(B?"Mirror":""),A,k,E,U,M;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var $=O[1]-O[0],z=1/0,Y=S.categoricalDomain.sort(Sce);if(Y.forEach(function(Ne,oe){oe>0&&(z=Math.min((Ne||0)-(Y[oe-1]||0),z))}),Number.isFinite(z)){var te=z/$,K=S.layout==="vertical"?n.height:n.width;if(S.padding==="gap"&&(A=te*K/2),S.padding==="no-gap"){var J=Rs(e.barCategoryGap,te*K),Q=te*K/2;A=Q-J-(Q-J)/K*J}}}i==="xAxis"?k=[n.left+(C.left||0)+(A||0),n.left+n.width-(C.right||0)-(A||0)]:i==="yAxis"?k=d==="horizontal"?[n.top+n.height-(C.bottom||0),n.top+(C.top||0)]:[n.top+(C.top||0)+(A||0),n.top+n.height-(C.bottom||0)-(A||0)]:k=S.range,I&&(k=[k[1],k[0]]);var ye=aG(S,a,y),se=ye.scale,X=ye.realScaleType;se.domain(O).range(k),sG(se);var ee=oG(se,js(js({},S),{},{realScaleType:X}));i==="xAxis"?(M=w==="top"&&!B||w==="bottom"&&B,E=n.left,U=p[D]-M*S.height):i==="yAxis"&&(M=w==="left"&&!B||w==="right"&&B,E=p[D]-M*S.width,U=n.top);var ce=js(js(js({},S),ee),{},{realScaleType:X,x:E,y:U,scale:se,width:i==="xAxis"?n.width:S.width,height:i==="yAxis"?n.height:S.height});return ce.bandSize=ub(ce,ee),!S.hide&&i==="xAxis"?p[D]+=(M?-1:1)*ce.height:S.hide||(p[D]+=(M?-1:1)*ce.width),js(js({},b),{},a2({},T,ce))},{})},zG=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},C2e=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return zG({x:r,y:n},{x:i,y:a})},VG=(function(){function t(e){N2e(this,t),this.scale=e}return O2e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();a2(VG,"EPS",1e-4);var TE=function(e){var r=Object.keys(e).reduce(function(n,i){return js(js({},n),{},a2({},i,VG.create(e[i])))},{});return js(js({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,c=a.position;return i2e(i,function(d,f){return r[f].apply(d,{bandAware:s,position:c})})},isInRange:function(i){return PG(i,function(a,s){return r[s].isInRange(a)})}})};function I2e(t){return(t%180+180)%180}var R2e=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=I2e(i),s=a*Math.PI/180,c=Math.atan(n/r),d=s>c&&s<Math.PI-c?n/Math.sin(s):r/Math.cos(s);return Math.abs(d)},iS,MB;function M2e(){if(MB)return iS;MB=1;var t=To(),e=Sg(),r=zx();function n(i){return function(a,s,c){var d=Object(a);if(!e(a)){var f=t(s,3);a=r(a),s=function(p){return f(d[p],p,d)}}var m=i(a,s,c);return m>-1?d[f?a[m]:m]:void 0}}return iS=n,iS}var aS,PB;function P2e(){if(PB)return aS;PB=1;var t=CG();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return aS=e,aS}var sS,DB;function D2e(){if(DB)return sS;DB=1;var t=zq(),e=To(),r=P2e(),n=Math.max;function i(a,s,c){var d=a==null?0:a.length;if(!d)return-1;var f=c==null?0:r(c);return f<0&&(f=n(d+f,0)),t(a,e(s,3),f)}return sS=i,sS}var oS,LB;function L2e(){if(LB)return oS;LB=1;var t=M2e(),e=D2e(),r=t(e);return oS=r,oS}var B2e=L2e();const U2e=mr(B2e);var z2e=rq();const V2e=mr(z2e);var $2e=V2e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),AE=F.createContext(void 0),EE=F.createContext(void 0),$G=F.createContext(void 0),FG=F.createContext({}),qG=F.createContext(void 0),HG=F.createContext(0),GG=F.createContext(0),BB=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,c=e.children,d=e.width,f=e.height,m=$2e(a);return ie.createElement(AE.Provider,{value:n},ie.createElement(EE.Provider,{value:i},ie.createElement(FG.Provider,{value:a},ie.createElement($G.Provider,{value:m},ie.createElement(qG.Provider,{value:s},ie.createElement(HG.Provider,{value:f},ie.createElement(GG.Provider,{value:d},c)))))))},F2e=function(){return F.useContext(qG)},KG=function(e){var r=F.useContext(AE);r==null&&w0();var n=r[e];return n==null&&w0(),n},q2e=function(){var e=F.useContext(AE);return Ec(e)},H2e=function(){var e=F.useContext(EE),r=U2e(e,function(n){return PG(n.domain,Number.isFinite)});return r||Ec(e)},WG=function(e){var r=F.useContext(EE);r==null&&w0();var n=r[e];return n==null&&w0(),n},G2e=function(){var e=F.useContext($G);return e},K2e=function(){return F.useContext(FG)},NE=function(){return F.useContext(GG)},OE=function(){return F.useContext(HG)};function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function W2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YG(n.key),n)}}function Y2e(t,e,r){return e&&X2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q2e(t,e,r){return e=kb(e),Z2e(t,XG()?Reflect.construct(e,r||[],kb(t).constructor):e.apply(t,r))}function Z2e(t,e){if(e&&(kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J2e(t)}function J2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XG=function(){return!!t})()}function kb(t){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(t)}function e4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_A(t,e)}function _A(t,e){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_A(t,e)}function UB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UB(Object(r),!0).forEach(function(n){kE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kE(t,e,r){return e=YG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YG(t){var e=t4e(t,"string");return kh(e)=="symbol"?e:e+""}function t4e(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function r4e(t,e){return s4e(t)||a4e(t,e)||i4e(t,e)||n4e()}function n4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i4e(t,e){if(t){if(typeof t=="string")return VB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VB(t,e)}}function VB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function s4e(t){if(Array.isArray(t))return t}function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SA.apply(this,arguments)}var o4e=function(e,r){var n;return ie.isValidElement(e)?n=ie.cloneElement(e,r):kt(e)?n=e(r):n=ie.createElement("line",SA({},r,{className:"recharts-reference-line-line"})),n},l4e=function(e,r,n,i,a,s,c,d,f){var m=a.x,p=a.y,y=a.width,b=a.height;if(n){var T=f.y,S=e.y.apply(T,{position:s});if(fo(f,"discard")&&!e.y.isInRange(S))return null;var w=[{x:m+y,y:S},{x:m,y:S}];return d==="left"?w.reverse():w}if(r){var O=f.x,R=e.x.apply(O,{position:s});if(fo(f,"discard")&&!e.x.isInRange(R))return null;var C=[{x:R,y:p+b},{x:R,y:p}];return c==="top"?C.reverse():C}if(i){var B=f.segment,I=B.map(function(D){return e.apply(D,{position:s})});return fo(f,"discard")&&e2e(I,function(D){return!e.isInRange(D)})?null:I}return null};function c4e(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,c=t.className,d=t.alwaysShow,f=F2e(),m=KG(i),p=WG(a),y=G2e();if(!f||!y)return null;hl(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=TE({x:m.scale,y:p.scale}),T=Hn(e),S=Hn(r),w=n&&n.length===2,O=l4e(b,T,S,w,y,t.position,m.orientation,p.orientation,t);if(!O)return null;var R=r4e(O,2),C=R[0],B=C.x,I=C.y,D=R[1],A=D.x,k=D.y,E=fo(t,"hidden")?"url(#".concat(f,")"):void 0,U=zB(zB({clipPath:E},vt(t,!0)),{},{x1:B,y1:I,x2:A,y2:k});return ie.createElement(ur,{className:Bt("recharts-reference-line",c)},o4e(s,U),gi.renderCallByParent(t,C2e({x1:B,y1:I,x2:A,y2:k})))}var jE=(function(t){function e(){return W2e(this,e),Q2e(this,e,arguments)}return e4e(e,t),Y2e(e,[{key:"render",value:function(){return ie.createElement(c4e,this.props)}}])})(ie.Component);kE(jE,"displayName","ReferenceLine");kE(jE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function TA(){return TA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TA.apply(this,arguments)}function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function $B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(r),!0).forEach(function(n){s2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$B(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZG(n.key),n)}}function h4e(t,e,r){return e&&d4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f4e(t,e,r){return e=jb(e),m4e(t,QG()?Reflect.construct(e,r||[],jb(t).constructor):e.apply(t,r))}function m4e(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p4e(t)}function p4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QG=function(){return!!t})()}function jb(t){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jb(t)}function g4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AA(t,e)}function AA(t,e){return AA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AA(t,e)}function s2(t,e,r){return e=ZG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZG(t){var e=y4e(t,"string");return jh(e)=="symbol"?e:e+""}function y4e(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var v4e=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=TE({x:i.scale,y:a.scale}),c=s.apply({x:r,y:n},{bandAware:!0});return fo(e,"discard")&&!s.isInRange(c)?null:c},o2=(function(t){function e(){return u4e(this,e),f4e(this,e,arguments)}return g4e(e,t),h4e(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,c=n.alwaysShow,d=n.clipPathId,f=Hn(i),m=Hn(a);if(hl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!m)return null;var p=v4e(this.props);if(!p)return null;var y=p.x,b=p.y,T=this.props,S=T.shape,w=T.className,O=fo(this.props,"hidden")?"url(#".concat(d,")"):void 0,R=FB(FB({clipPath:O},vt(this.props,!0)),{},{cx:y,cy:b});return ie.createElement(ur,{className:Bt("recharts-reference-dot",w)},e.renderDot(S,R),gi.renderCallByParent(this.props,{x:y-s,y:b-s,width:2*s,height:2*s}))}}])})(ie.Component);s2(o2,"displayName","ReferenceDot");s2(o2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});s2(o2,"renderDot",function(t,e){var r;return ie.isValidElement(t)?r=ie.cloneElement(t,e):kt(t)?r=t(e):r=ie.createElement(e2,TA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function EA(){return EA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EA.apply(this,arguments)}function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function qB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qB(Object(r),!0).forEach(function(n){l2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eK(n.key),n)}}function w4e(t,e,r){return e&&x4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _4e(t,e,r){return e=Cb(e),S4e(t,JG()?Reflect.construct(e,r||[],Cb(t).constructor):e.apply(t,r))}function S4e(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T4e(t)}function T4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JG=function(){return!!t})()}function Cb(t){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(t)}function A4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NA(t,e)}function NA(t,e){return NA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NA(t,e)}function l2(t,e,r){return e=eK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eK(t){var e=E4e(t,"string");return Ch(e)=="symbol"?e:e+""}function E4e(t,e){if(Ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var N4e=function(e,r,n,i,a){var s=a.x1,c=a.x2,d=a.y1,f=a.y2,m=a.xAxis,p=a.yAxis;if(!m||!p)return null;var y=TE({x:m.scale,y:p.scale}),b={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(d,{position:"start"}):y.y.rangeMin},T={x:r?y.x.apply(c,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return fo(a,"discard")&&(!y.isInRange(b)||!y.isInRange(T))?null:zG(b,T)},c2=(function(t){function e(){return b4e(this,e),_4e(this,e,arguments)}return A4e(e,t),w4e(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,c=n.y2,d=n.className,f=n.alwaysShow,m=n.clipPathId;hl(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Hn(i),y=Hn(a),b=Hn(s),T=Hn(c),S=this.props.shape;if(!p&&!y&&!b&&!T&&!S)return null;var w=N4e(p,y,b,T,this.props);if(!w&&!S)return null;var O=fo(this.props,"hidden")?"url(#".concat(m,")"):void 0;return ie.createElement(ur,{className:Bt("recharts-reference-area",d)},e.renderRect(S,HB(HB({clipPath:O},vt(this.props,!0)),w)),gi.renderCallByParent(this.props,w))}}])})(ie.Component);l2(c2,"displayName","ReferenceArea");l2(c2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});l2(c2,"renderRect",function(t,e){var r;return ie.isValidElement(t)?r=ie.cloneElement(t,e):kt(t)?r=t(e):r=ie.createElement(SE,EA({},e,{className:"recharts-reference-area-rect"})),r});function tK(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function O4e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return R2e(n,r)}function k4e(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,c=t.height;return e===1?{start:n?i:a,end:n?i+s:a+c}:{start:n?i+s:a+c,end:n?i:a}}function Ib(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function j4e(t,e){return tK(t,e+1)}function C4e(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,c=e.end,d=0,f=1,m=s,p=function(){var T=n==null?void 0:n[d];if(T===void 0)return{v:tK(n,f)};var S=d,w,O=function(){return w===void 0&&(w=r(T,S)),w},R=T.coordinate,C=d===0||Ib(t,R,O,m,c);C||(d=0,m=s,f+=1),C&&(m=R+t*(O()/2+i),d+=f)},y;f<=a.length;)if(y=p(),y)return y.v;return[]}function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function GB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GB(Object(r),!0).forEach(function(n){I4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I4e(t,e,r){return e=R4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R4e(t){var e=M4e(t,"string");return Wp(e)=="symbol"?e:e+""}function M4e(t,e){if(Wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P4e(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,c=e.start,d=e.end,f=function(y){var b=a[y],T,S=function(){return T===void 0&&(T=r(b,y)),T};if(y===s-1){var w=t*(b.coordinate+t*S()/2-d);a[y]=b=Oi(Oi({},b),{},{tickCoord:w>0?b.coordinate-w*t:b.coordinate})}else a[y]=b=Oi(Oi({},b),{},{tickCoord:b.coordinate});var O=Ib(t,b.tickCoord,S,c,d);O&&(d=b.tickCoord-t*(S()/2+i),a[y]=Oi(Oi({},b),{},{isShow:!0}))},m=s-1;m>=0;m--)f(m);return a}function D4e(t,e,r,n,i,a){var s=(n||[]).slice(),c=s.length,d=e.start,f=e.end;if(a){var m=n[c-1],p=r(m,c-1),y=t*(m.coordinate+t*p/2-f);s[c-1]=m=Oi(Oi({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate});var b=Ib(t,m.tickCoord,function(){return p},d,f);b&&(f=m.tickCoord-t*(p/2+i),s[c-1]=Oi(Oi({},m),{},{isShow:!0}))}for(var T=a?c-1:c,S=function(R){var C=s[R],B,I=function(){return B===void 0&&(B=r(C,R)),B};if(R===0){var D=t*(C.coordinate-t*I()/2-d);s[R]=C=Oi(Oi({},C),{},{tickCoord:D<0?C.coordinate-D*t:C.coordinate})}else s[R]=C=Oi(Oi({},C),{},{tickCoord:C.coordinate});var A=Ib(t,C.tickCoord,I,d,f);A&&(d=C.tickCoord+t*(I()/2+i),s[R]=Oi(Oi({},C),{},{isShow:!0}))},w=0;w<T;w++)S(w);return s}function CE(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,c=t.orientation,d=t.interval,f=t.tickFormatter,m=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(Ze(d)||R0.isSsr)return j4e(i,typeof d=="number"&&Ze(d)?d:0);var y=[],b=c==="top"||c==="bottom"?"width":"height",T=m&&b==="width"?Dm(m,{fontSize:e,letterSpacing:r}):{width:0,height:0},S=function(C,B){var I=kt(f)?f(C.value,B):C.value;return b==="width"?O4e(Dm(I,{fontSize:e,letterSpacing:r}),T,p):Dm(I,{fontSize:e,letterSpacing:r})[b]},w=i.length>=2?Is(i[1].coordinate-i[0].coordinate):1,O=k4e(a,w,b);return d==="equidistantPreserveStart"?C4e(w,O,S,i,s):(d==="preserveStart"||d==="preserveStartEnd"?y=D4e(w,O,S,i,s,d==="preserveStartEnd"):y=P4e(w,O,S,i,s),y.filter(function(R){return R.isShow}))}var L4e=["viewBox"],B4e=["viewBox"],U4e=["ticks"];function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vd.apply(this,arguments)}function KB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KB(Object(r),!0).forEach(function(n){IE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lS(t,e){if(t==null)return{};var r=z4e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function V4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nK(n.key),n)}}function $4e(t,e,r){return e&&WB(t.prototype,e),r&&WB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function F4e(t,e,r){return e=Rb(e),q4e(t,rK()?Reflect.construct(e,r||[],Rb(t).constructor):e.apply(t,r))}function q4e(t,e){if(e&&(Ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H4e(t)}function H4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rK=function(){return!!t})()}function Rb(t){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rb(t)}function G4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OA(t,e)}function OA(t,e){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OA(t,e)}function IE(t,e,r){return e=nK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nK(t){var e=K4e(t,"string");return Ih(e)=="symbol"?e:e+""}function K4e(t,e){if(Ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jh=(function(t){function e(r){var n;return V4e(this,e),n=F4e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return G4e(e,t),$4e(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=lS(n,L4e),c=this.props,d=c.viewBox,f=lS(c,B4e);return!Xd(a,d)||!Xd(s,f)||!Xd(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,c=i.width,d=i.height,f=i.orientation,m=i.tickSize,p=i.mirror,y=i.tickMargin,b,T,S,w,O,R,C=p?-1:1,B=n.tickSize||m,I=Ze(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":b=T=n.coordinate,w=s+ +!p*d,S=w-C*B,R=S-C*y,O=I;break;case"left":S=w=n.coordinate,T=a+ +!p*c,b=T-C*B,O=b-C*y,R=I;break;case"right":S=w=n.coordinate,T=a+ +p*c,b=T+C*B,O=b+C*y,R=I;break;default:b=T=n.coordinate,w=s+ +p*d,S=w+C*B,R=S+C*y,O=I;break}return{line:{x1:b,y1:S,x2:T,y2:w},tick:{x:O,y:R}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,c=n.height,d=n.orientation,f=n.mirror,m=n.axisLine,p=Fn(Fn(Fn({},vt(this.props,!1)),vt(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!f||d==="bottom"&&f);p=Fn(Fn({},p),{},{x1:i,y1:a+y*c,x2:i+s,y2:a+y*c})}else{var b=+(d==="left"&&!f||d==="right"&&f);p=Fn(Fn({},p),{},{x1:i+b*s,y1:a,x2:i+b*s,y2:a+c})}return ie.createElement("line",Vd({},p,{className:Bt("recharts-cartesian-axis-line",os(m,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,c=this.props,d=c.tickLine,f=c.stroke,m=c.tick,p=c.tickFormatter,y=c.unit,b=CE(Fn(Fn({},this.props),{},{ticks:n}),i,a),T=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),w=vt(this.props,!1),O=vt(m,!1),R=Fn(Fn({},w),{},{fill:"none"},vt(d,!1)),C=b.map(function(B,I){var D=s.getTickLineCoord(B),A=D.line,k=D.tick,E=Fn(Fn(Fn(Fn({textAnchor:T,verticalAnchor:S},w),{},{stroke:"none",fill:f},O),k),{},{index:I,payload:B,visibleTicksCount:b.length,tickFormatter:p});return ie.createElement(ur,Vd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},b0(s.props,B,I)),d&&ie.createElement("line",Vd({},R,A,{className:Bt("recharts-cartesian-axis-tick-line",os(d,"className"))})),m&&e.renderTickItem(m,E,"".concat(kt(p)?p(B.value,I):B.value).concat(y||"")))});return ie.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,c=i.height,d=i.ticksGenerator,f=i.className,m=i.hide;if(m)return null;var p=this.props,y=p.ticks,b=lS(p,U4e),T=y;return kt(d)&&(T=y&&y.length>0?d(this.props):d(b)),s<=0||c<=0||!T||!T.length?null:ie.createElement(ur,{className:Bt("recharts-cartesian-axis",f),ref:function(w){n.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(T,this.state.fontSize,this.state.letterSpacing),gi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,c=Bt(i.className,"recharts-cartesian-axis-tick-value");return ie.isValidElement(n)?s=ie.cloneElement(n,Fn(Fn({},i),{},{className:c})):kt(n)?s=n(Fn(Fn({},i),{},{className:c})):s=ie.createElement(yh,Vd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(F.Component);IE(Jh,"displayName","CartesianAxis");IE(Jh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var W4e=["x1","y1","x2","y2","key"],X4e=["offset"];function _0(t){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}function XB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ki(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XB(Object(r),!0).forEach(function(n){Y4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y4e(t,e,r){return e=Q4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q4e(t){var e=Z4e(t,"string");return _0(e)=="symbol"?e:e+""}function Z4e(t,e){if(_0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xu.apply(this,arguments)}function YB(t,e){if(t==null)return{};var r=J4e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function J4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ewe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,c=e.height,d=e.ry;return ie.createElement("rect",{x:i,y:a,ry:d,width:s,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function iK(t,e){var r;if(ie.isValidElement(t))r=ie.cloneElement(t,e);else if(kt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,c=e.key,d=YB(e,W4e),f=vt(d,!1);f.offset;var m=YB(f,X4e);r=ie.createElement("line",Xu({},m,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:c}))}return r}function twe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(c,d){var f=ki(ki({},t),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(d),index:d});return iK(i,f)});return ie.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function rwe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(c,d){var f=ki(ki({},t),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(d),index:d});return iK(i,f)});return ie.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function nwe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,c=t.horizontalPoints,d=t.horizontal,f=d===void 0?!0:d;if(!f||!e||!e.length)return null;var m=c.map(function(y){return Math.round(y+i-i)}).sort(function(y,b){return y-b});i!==m[0]&&m.unshift(0);var p=m.map(function(y,b){var T=!m[b+1],S=T?i+s-y:m[b+1]-y;if(S<=0)return null;var w=b%e.length;return ie.createElement("rect",{key:"react-".concat(b),y,x:n,height:S,width:a,stroke:"none",fill:e[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function iwe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,c=t.width,d=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var m=f.map(function(y){return Math.round(y+a-a)}).sort(function(y,b){return y-b});a!==m[0]&&m.unshift(0);var p=m.map(function(y,b){var T=!m[b+1],S=T?a+c-y:m[b+1]-y;if(S<=0)return null;var w=b%n.length;return ie.createElement("rect",{key:"react-".concat(b),x:y,y:s,width:S,height:d,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var awe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return iG(CE(ki(ki(ki({},Jh.defaultProps),n),{},{ticks:ol(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},swe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return iG(CE(ki(ki(ki({},Jh.defaultProps),n),{},{ticks:ol(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},jd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function aK(t){var e,r,n,i,a,s,c=NE(),d=OE(),f=K2e(),m=ki(ki({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:jd.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:jd.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:jd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:jd.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:jd.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:jd.verticalFill,x:Ze(t.x)?t.x:f.left,y:Ze(t.y)?t.y:f.top,width:Ze(t.width)?t.width:f.width,height:Ze(t.height)?t.height:f.height}),p=m.x,y=m.y,b=m.width,T=m.height,S=m.syncWithTicks,w=m.horizontalValues,O=m.verticalValues,R=q2e(),C=H2e();if(!Ze(b)||b<=0||!Ze(T)||T<=0||!Ze(p)||p!==+p||!Ze(y)||y!==+y)return null;var B=m.verticalCoordinatesGenerator||awe,I=m.horizontalCoordinatesGenerator||swe,D=m.horizontalPoints,A=m.verticalPoints;if((!D||!D.length)&&kt(I)){var k=w&&w.length,E=I({yAxis:C?ki(ki({},C),{},{ticks:k?w:C.ticks}):void 0,width:c,height:d,offset:f},k?!0:S);hl(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_0(E),"]")),Array.isArray(E)&&(D=E)}if((!A||!A.length)&&kt(B)){var U=O&&O.length,M=B({xAxis:R?ki(ki({},R),{},{ticks:U?O:R.ticks}):void 0,width:c,height:d,offset:f},U?!0:S);hl(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_0(M),"]")),Array.isArray(M)&&(A=M)}return ie.createElement("g",{className:"recharts-cartesian-grid"},ie.createElement(ewe,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),ie.createElement(twe,Xu({},m,{offset:f,horizontalPoints:D,xAxis:R,yAxis:C})),ie.createElement(rwe,Xu({},m,{offset:f,verticalPoints:A,xAxis:R,yAxis:C})),ie.createElement(nwe,Xu({},m,{horizontalPoints:D})),ie.createElement(iwe,Xu({},m,{verticalPoints:A})))}aK.displayName="CartesianGrid";function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function owe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lK(n.key),n)}}function cwe(t,e,r){return e&&lwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uwe(t,e,r){return e=Mb(e),dwe(t,sK()?Reflect.construct(e,r||[],Mb(t).constructor):e.apply(t,r))}function dwe(t,e){if(e&&(Rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hwe(t)}function hwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sK=function(){return!!t})()}function Mb(t){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(t)}function fwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kA(t,e)}function kA(t,e){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kA(t,e)}function oK(t,e,r){return e=lK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lK(t){var e=mwe(t,"string");return Rh(e)=="symbol"?e:e+""}function mwe(t,e){if(Rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u2=(function(t){function e(){return owe(this,e),uwe(this,e,arguments)}return fwe(e,t),cwe(e,[{key:"render",value:function(){return null}}])})(F.Component);oK(u2,"displayName","ZAxis");oK(u2,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var pwe=["option","isActive"];function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$m.apply(this,arguments)}function gwe(t,e){if(t==null)return{};var r=ywe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ywe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vwe(t){var e=t.option,r=t.isActive,n=gwe(t,pwe);return typeof e=="string"?F.createElement(yA,$m({option:F.createElement(Ux,$m({type:e},n)),isActive:r,shapeType:"symbols"},n)):F.createElement(yA,$m({option:e,isActive:r,shapeType:"symbols"},n))}function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fm.apply(this,arguments)}function QB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(r),!0).forEach(function(n){jc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uK(n.key),n)}}function xwe(t,e,r){return e&&ZB(t.prototype,e),r&&ZB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wwe(t,e,r){return e=Pb(e),_we(t,cK()?Reflect.construct(e,r||[],Pb(t).constructor):e.apply(t,r))}function _we(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Swe(t)}function Swe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cK=function(){return!!t})()}function Pb(t){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(t)}function Twe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jA(t,e)}function jA(t,e){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jA(t,e)}function jc(t,e,r){return e=uK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uK(t){var e=Awe(t,"string");return Mh(e)=="symbol"?e:e+""}function Awe(t,e){if(Mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mg=(function(t){function e(){var r;bwe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=wwe(this,e,[].concat(i)),jc(r,"state",{isAnimationFinished:!1}),jc(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),jc(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),jc(r,"id",_g("recharts-scatter-")),r}return Twe(e,t),xwe(e,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,s=a.shape,c=a.activeShape,d=a.activeIndex,f=vt(this.props,!1);return n.map(function(m,p){var y=d===p,b=y?c:s,T=es(es({},f),m);return ie.createElement(ur,Fm({className:"recharts-scatter-symbol",key:"symbol-".concat(m==null?void 0:m.cx,"-").concat(m==null?void 0:m.cy,"-").concat(m==null?void 0:m.size,"-").concat(p)},b0(i.props,m,p),{role:"img"}),ie.createElement(vwe,Fm({option:b,isActive:y,key:"symbol-".concat(p)},T)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,s=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,m=i.animationId,p=this.state.prevPoints;return ie.createElement(vo,{begin:c,duration:d,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t,T=a.map(function(S,w){var O=p&&p[w];if(O){var R=da(O.cx,S.cx),C=da(O.cy,S.cy),B=da(O.size,S.size);return es(es({},S),{},{cx:R(b),cy:C(b),size:B(b)})}var I=da(0,S.size);return es(es({},S),{},{size:I(b)})});return ie.createElement(ur,null,n.renderSymbolsStatically(T))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,s=this.state.prevPoints;return a&&i&&i.length&&(!s||!Og(s,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,s=i.xAxis,c=i.yAxis,d=i.children,f=Ba(d,kg);return f?f.map(function(m,p){var y=m.props,b=y.direction,T=y.dataKey;return ie.cloneElement(m,{key:"".concat(b,"-").concat(T,"-").concat(a[p]),data:a,xAxis:s,yAxis:c,layout:b==="x"?"vertical":"horizontal",dataPointFormatter:function(w,O){return{x:w.cx,y:w.cy,value:b==="x"?+w.node.x:+w.node.y,errorVal:bi(w,O)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,s=n.lineType,c=n.lineJointType,d=vt(this.props,!1),f=vt(a,!1),m,p;if(s==="joint")m=i.map(function(C){return{x:C.cx,y:C.cy}});else if(s==="fitting"){var y=_ce(i),b=y.xmin,T=y.xmax,S=y.a,w=y.b,O=function(B){return S*B+w};m=[{x:b,y:O(b)},{x:T,y:O(T)}]}var R=es(es(es({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:m});return ie.isValidElement(a)?p=ie.cloneElement(a,R):kt(a)?p=a(R):p=ie.createElement(rA,Fm({},R,{type:c})),ie.createElement(ur,{className:"recharts-scatter-line",key:"recharts-scatter-line"},p)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,s=n.line,c=n.className,d=n.xAxis,f=n.yAxis,m=n.left,p=n.top,y=n.width,b=n.height,T=n.id,S=n.isAnimationActive;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,O=Bt("recharts-scatter",c),R=d&&d.allowDataOverflow,C=f&&f.allowDataOverflow,B=R||C,I=Mt(T)?this.id:T;return ie.createElement(ur,{className:O,clipPath:B?"url(#clipPath-".concat(I,")"):null},R||C?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(I)},ie.createElement("rect",{x:R?m:m-y/2,y:C?p:p-b/2,width:R?y:y*2,height:C?b:b*2}))):null,s&&this.renderLine(),this.renderErrorBar(),ie.createElement(ur,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!S||w)&&ml.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])})(F.PureComponent);jc(Mg,"displayName","Scatter");jc(Mg,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!R0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});jc(Mg,"getComposedData",function(t){var e=t.xAxis,r=t.yAxis,n=t.zAxis,i=t.item,a=t.displayedData,s=t.xAxisTicks,c=t.yAxisTicks,d=t.offset,f=i.props.tooltipType,m=Ba(i.props.children,Q8),p=Mt(e.dataKey)?i.props.dataKey:e.dataKey,y=Mt(r.dataKey)?i.props.dataKey:r.dataKey,b=n&&n.dataKey,T=n?n.range:u2.defaultProps.range,S=T&&T[0],w=e.scale.bandwidth?e.scale.bandwidth():0,O=r.scale.bandwidth?r.scale.bandwidth():0,R=a.map(function(C,B){var I=bi(C,p),D=bi(C,y),A=!Mt(b)&&bi(C,b)||"-",k=[{name:Mt(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:I,payload:C,dataKey:p,type:f},{name:Mt(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:D,payload:C,dataKey:y,type:f}];A!=="-"&&k.push({name:n.name||n.dataKey,unit:n.unit||"",value:A,payload:C,dataKey:b,type:f});var E=tL({axis:e,ticks:s,bandSize:w,entry:C,index:B,dataKey:p}),U=tL({axis:r,ticks:c,bandSize:O,entry:C,index:B,dataKey:y}),M=A!=="-"?n.scale(A):S,$=Math.sqrt(Math.max(M,0)/Math.PI);return es(es({},C),{},{cx:E,cy:U,x:E-$,y:U-$,xAxis:e,yAxis:r,zAxis:n,width:2*$,height:2*$,size:M,node:{x:I,y:D,z:A},tooltipPayload:k,tooltipPosition:{x:E,y:U},payload:C},m&&m[B]&&m[B].props)});return es({points:R},d)});function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function Ewe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fK(n.key),n)}}function Owe(t,e,r){return e&&Nwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kwe(t,e,r){return e=Db(e),jwe(t,dK()?Reflect.construct(e,r||[],Db(t).constructor):e.apply(t,r))}function jwe(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cwe(t)}function Cwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dK=function(){return!!t})()}function Db(t){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(t)}function Iwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CA(t,e)}function CA(t,e){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CA(t,e)}function hK(t,e,r){return e=fK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fK(t){var e=Rwe(t,"string");return Ph(e)=="symbol"?e:e+""}function Rwe(t,e){if(Ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IA(){return IA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IA.apply(this,arguments)}function Mwe(t){var e=t.xAxisId,r=NE(),n=OE(),i=KG(e);return i==null?null:F.createElement(Jh,IA({},i,{className:Bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return ol(s,!0)}}))}var d2=(function(t){function e(){return Ewe(this,e),kwe(this,e,arguments)}return Iwe(e,t),Owe(e,[{key:"render",value:function(){return F.createElement(Mwe,this.props)}}])})(F.Component);hK(d2,"displayName","XAxis");hK(d2,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function Pwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gK(n.key),n)}}function Lwe(t,e,r){return e&&Dwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bwe(t,e,r){return e=Lb(e),Uwe(t,mK()?Reflect.construct(e,r||[],Lb(t).constructor):e.apply(t,r))}function Uwe(t,e){if(e&&(Dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zwe(t)}function zwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mK=function(){return!!t})()}function Lb(t){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(t)}function Vwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RA(t,e)}function RA(t,e){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RA(t,e)}function pK(t,e,r){return e=gK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gK(t){var e=$we(t,"string");return Dh(e)=="symbol"?e:e+""}function $we(t,e){if(Dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function MA(){return MA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MA.apply(this,arguments)}var Fwe=function(e){var r=e.yAxisId,n=NE(),i=OE(),a=WG(r);return a==null?null:F.createElement(Jh,MA({},a,{className:Bt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(c){return ol(c,!0)}}))},h2=(function(t){function e(){return Pwe(this,e),Bwe(this,e,arguments)}return Vwe(e,t),Lwe(e,[{key:"render",value:function(){return F.createElement(Fwe,this.props)}}])})(F.Component);pK(h2,"displayName","YAxis");pK(h2,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function JB(t){return Kwe(t)||Gwe(t)||Hwe(t)||qwe()}function qwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hwe(t,e){if(t){if(typeof t=="string")return PA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PA(t,e)}}function Gwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kwe(t){if(Array.isArray(t))return PA(t)}function PA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var DA=function(e,r,n,i,a){var s=Ba(e,jE),c=Ba(e,o2),d=[].concat(JB(s),JB(c)),f=Ba(e,c2),m="".concat(i,"Id"),p=i[0],y=r;if(d.length&&(y=d.reduce(function(S,w){if(w.props[m]===n&&fo(w.props,"extendDomain")&&Ze(w.props[p])){var O=w.props[p];return[Math.min(S[0],O),Math.max(S[1],O)]}return S},y)),f.length){var b="".concat(p,"1"),T="".concat(p,"2");y=f.reduce(function(S,w){if(w.props[m]===n&&fo(w.props,"extendDomain")&&Ze(w.props[b])&&Ze(w.props[T])){var O=w.props[b],R=w.props[T];return[Math.min(S[0],O,R),Math.max(S[1],O,R)]}return S},y)}return a&&a.length&&(y=a.reduce(function(S,w){return Ze(w)?[Math.min(S[0],w),Math.max(S[1],w)]:S},y)),y},cS={exports:{}},eU;function Wwe(){return eU||(eU=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function a(d,f,m,p,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,p||d,y),T=r?r+f:f;return d._events[T]?d._events[T].fn?d._events[T]=[d._events[T],b]:d._events[T].push(b):(d._events[T]=b,d._eventsCount++),d}function s(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)e.call(m,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=r?r+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,T=new Array(b);y<b;y++)T[y]=p[y].fn;return T},c.prototype.listenerCount=function(f){var m=r?r+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,y,b,T){var S=r?r+f:f;if(!this._events[S])return!1;var w=this._events[S],O=arguments.length,R,C;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),O){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,m),!0;case 3:return w.fn.call(w.context,m,p),!0;case 4:return w.fn.call(w.context,m,p,y),!0;case 5:return w.fn.call(w.context,m,p,y,b),!0;case 6:return w.fn.call(w.context,m,p,y,b,T),!0}for(C=1,R=new Array(O-1);C<O;C++)R[C-1]=arguments[C];w.fn.apply(w.context,R)}else{var B=w.length,I;for(C=0;C<B;C++)switch(w[C].once&&this.removeListener(f,w[C].fn,void 0,!0),O){case 1:w[C].fn.call(w[C].context);break;case 2:w[C].fn.call(w[C].context,m);break;case 3:w[C].fn.call(w[C].context,m,p);break;case 4:w[C].fn.call(w[C].context,m,p,y);break;default:if(!R)for(I=1,R=new Array(O-1);I<O;I++)R[I-1]=arguments[I];w[C].fn.apply(w[C].context,R)}}return!0},c.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,y){var b=r?r+f:f;if(!this._events[b])return this;if(!m)return s(this,b),this;var T=this._events[b];if(T.fn)T.fn===m&&(!y||T.once)&&(!p||T.context===p)&&s(this,b);else{for(var S=0,w=[],O=T.length;S<O;S++)(T[S].fn!==m||y&&!T[S].once||p&&T[S].context!==p)&&w.push(T[S]);w.length?this._events[b]=w.length===1?w[0]:w:s(this,b)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&s(this,m)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(cS)),cS.exports}var Xwe=Wwe();const Ywe=mr(Xwe);var uS=new Ywe,dS="recharts.syncMouseEvents";function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function Qwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yK(n.key),n)}}function Jwe(t,e,r){return e&&Zwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hS(t,e,r){return e=yK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yK(t){var e=e5e(t,"string");return Xp(e)=="symbol"?e:e+""}function e5e(t,e){if(Xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t5e=(function(){function t(){Qwe(this,t),hS(this,"activeIndex",0),hS(this,"coordinateList",[]),hS(this,"layout","horizontal")}return Jwe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,c=s===void 0?null:s,d=r.layout,f=d===void 0?null:d,m=r.offset,p=m===void 0?null:m,y=r.mouseHandlerCallback,b=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,c=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=a+d+f,y=s+this.offset.top+c/2+m;this.mouseHandlerCallback({pageX:p,pageY:y})}}}])})();function r5e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Ze(n)&&Ze(i))return!0}return!1}function n5e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function vK(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=kr(e,r,n,i),c=kr(e,r,n,a);return{points:[s,c],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function i5e(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,d=e.cy,f=e.innerRadius,m=e.outerRadius,p=e.angle,y=kr(c,d,f,p),b=kr(c,d,m,p);n=y.x,i=y.y,a=b.x,s=b.y}else return vK(e);return[{x:n,y:i},{x:a,y:s}]}function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function tU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tU(Object(r),!0).forEach(function(n){a5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a5e(t,e,r){return e=s5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s5e(t){var e=o5e(t,"string");return Yp(e)=="symbol"?e:e+""}function o5e(t,e){if(Yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l5e(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,c=t.activePayload,d=t.offset,f=t.activeTooltipIndex,m=t.tooltipAxisBandSize,p=t.layout,y=t.chartName,b=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!a||!s||y!=="ScatterChart"&&i!=="axis")return null;var T,S=rA;if(y==="ScatterChart")T=s,S=sbe;else if(y==="BarChart")T=n5e(p,s,d,m),S=SE;else if(p==="radial"){var w=vK(s),O=w.cx,R=w.cy,C=w.radius,B=w.startAngle,I=w.endAngle;T={cx:O,cy:R,startAngle:B,endAngle:I,innerRadius:C,outerRadius:C},S=pG}else T={points:i5e(p,s,d)},S=rA;var D=Dy(Dy(Dy(Dy({stroke:"#ccc",pointerEvents:"none"},d),T),vt(b,!1)),{},{payload:c,payloadIndex:f,className:Bt("recharts-tooltip-cursor",b.className)});return F.isValidElement(b)?F.cloneElement(b,D):F.createElement(S,D)}var c5e=["item"],u5e=["children","className","width","height","style","compact","title","desc"];function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$d.apply(this,arguments)}function rU(t,e){return f5e(t)||h5e(t,e)||xK(t,e)||d5e()}function d5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function f5e(t){if(Array.isArray(t))return t}function nU(t,e){if(t==null)return{};var r=m5e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function p5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wK(n.key),n)}}function y5e(t,e,r){return e&&g5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v5e(t,e,r){return e=Bb(e),b5e(t,bK()?Reflect.construct(e,r||[],Bb(t).constructor):e.apply(t,r))}function b5e(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x5e(t)}function x5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bK=function(){return!!t})()}function Bb(t){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(t)}function w5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LA(t,e)}function LA(t,e){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LA(t,e)}function Bh(t){return T5e(t)||S5e(t)||xK(t)||_5e()}function _5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xK(t,e){if(t){if(typeof t=="string")return BA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BA(t,e)}}function S5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T5e(t){if(Array.isArray(t))return BA(t)}function BA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iU(Object(r),!0).forEach(function(n){St(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function St(t,e,r){return e=wK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wK(t){var e=A5e(t,"string");return Lh(e)=="symbol"?e:e+""}function A5e(t,e){if(Lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E5e={xAxis:["bottom","top"],yAxis:["left","right"]},N5e={width:"100%",height:"100%"},_K={x:0,y:0};function Ly(t){return t}var O5e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},k5e=function(e,r,n,i){var a=r.find(function(m){return m&&m.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,c=i.radius;return Ce(Ce(Ce({},i),kr(i.cx,i.cy,c,s)),{},{angle:s,radius:c})}var d=a.coordinate,f=i.angle;return Ce(Ce(Ce({},i),kr(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return _K},f2=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(c,d){var f=d.props.data;return f&&f.length?[].concat(Bh(c),Bh(f)):c},[]);return s.length>0?s:e&&e.length&&Ze(i)&&Ze(a)?e.slice(i,a+1):[]};function SK(t){return t==="number"?[0,"auto"]:void 0}var UA=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,c=f2(r,e);return n<0||!a||!a.length||n>=c.length?null:a.reduce(function(d,f){var m,p=(m=f.props.data)!==null&&m!==void 0?m:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var b=p===void 0?c:p;y=Bv(b,s.dataKey,i)}else y=p&&p[n]||c[n];return y?[].concat(Bh(d),[cG(f,y)]):d},[])},aU=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=O5e(a,n),c=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,m=Oge(s,c,f,d);if(m>=0&&f){var p=f[m]&&f[m].value,y=UA(e,r,m,p),b=k5e(n,c,m,a);return{activeTooltipIndex:m,activeLabel:p,activePayload:y,activeCoordinate:b}}return null},j5e=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=e.layout,p=e.children,y=e.stackOffset,b=nG(m,a);return n.reduce(function(T,S){var w,O=S.type.defaultProps!==void 0?Ce(Ce({},S.type.defaultProps),S.props):S.props,R=O.type,C=O.dataKey,B=O.allowDataOverflow,I=O.allowDuplicatedCategory,D=O.scale,A=O.ticks,k=O.includeHidden,E=O[s];if(T[E])return T;var U=f2(e.data,{graphicalItems:i.filter(function(ee){var ce,Ne=s in ee.props?ee.props[s]:(ce=ee.type.defaultProps)===null||ce===void 0?void 0:ce[s];return Ne===E}),dataStartIndex:d,dataEndIndex:f}),M=U.length,$,z,Y;r5e(O.domain,B,R)&&($=QT(O.domain,null,B),b&&(R==="number"||D!=="auto")&&(Y=Bm(U,C,"category")));var te=SK(R);if(!$||$.length===0){var K,J=(K=O.domain)!==null&&K!==void 0?K:te;if(C){if($=Bm(U,C,R),R==="category"&&b){var Q=wce($);I&&Q?(z=$,$=Tb(0,M)):I||($=aL(J,$,S).reduce(function(ee,ce){return ee.indexOf(ce)>=0?ee:[].concat(Bh(ee),[ce])},[]))}else if(R==="category")I?$=$.filter(function(ee){return ee!==""&&!Mt(ee)}):$=aL(J,$,S).reduce(function(ee,ce){return ee.indexOf(ce)>=0||ce===""||Mt(ce)?ee:[].concat(Bh(ee),[ce])},[]);else if(R==="number"){var ye=Rge(U,i.filter(function(ee){var ce,Ne,oe=s in ee.props?ee.props[s]:(ce=ee.type.defaultProps)===null||ce===void 0?void 0:ce[s],Oe="hide"in ee.props?ee.props.hide:(Ne=ee.type.defaultProps)===null||Ne===void 0?void 0:Ne.hide;return oe===E&&(k||!Oe)}),C,a,m);ye&&($=ye)}b&&(R==="number"||D!=="auto")&&(Y=Bm(U,C,"category"))}else b?$=Tb(0,M):c&&c[E]&&c[E].hasStack&&R==="number"?$=y==="expand"?[0,1]:lG(c[E].stackGroups,d,f):$=rG(U,i.filter(function(ee){var ce=s in ee.props?ee.props[s]:ee.type.defaultProps[s],Ne="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return ce===E&&(k||!Ne)}),R,m,!0);if(R==="number")$=DA(p,$,E,a,A),J&&($=QT(J,$,B));else if(R==="category"&&J){var se=J,X=$.every(function(ee){return se.indexOf(ee)>=0});X&&($=se)}}return Ce(Ce({},T),{},St({},E,Ce(Ce({},O),{},{axisType:a,domain:$,categoricalDomain:Y,duplicateDomain:z,originalDomain:(w=O.domain)!==null&&w!==void 0?w:te,isCategorical:b,layout:m})))},{})},C5e=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=e.layout,p=e.children,y=f2(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),b=y.length,T=nG(m,a),S=-1;return n.reduce(function(w,O){var R=O.type.defaultProps!==void 0?Ce(Ce({},O.type.defaultProps),O.props):O.props,C=R[s],B=SK("number");if(!w[C]){S++;var I;return T?I=Tb(0,b):c&&c[C]&&c[C].hasStack?(I=lG(c[C].stackGroups,d,f),I=DA(p,I,C,a)):(I=QT(B,rG(y,n.filter(function(D){var A,k,E=s in D.props?D.props[s]:(A=D.type.defaultProps)===null||A===void 0?void 0:A[s],U="hide"in D.props?D.props.hide:(k=D.type.defaultProps)===null||k===void 0?void 0:k.hide;return E===C&&!U}),"number",m),i.defaultProps.allowDataOverflow),I=DA(p,I,C,a)),Ce(Ce({},w),{},St({},C,Ce(Ce({axisType:a},i.defaultProps),{},{hide:!0,orientation:os(E5e,"".concat(a,".").concat(S%2),null),domain:I,originalDomain:B,isCategorical:T,layout:m})))}return w},{})},I5e=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,m=e.children,p="".concat(i,"Id"),y=Ba(m,a),b={};return y&&y.length?b=j5e(e,{axes:y,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:c,dataStartIndex:d,dataEndIndex:f}):s&&s.length&&(b=C5e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:c,dataStartIndex:d,dataEndIndex:f})),b},R5e=function(e){var r=Ec(e),n=ol(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:X8(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ub(r,n)}},sU=function(e){var r=e.children,n=e.defaultShowTooltip,i=ja(r,Nh),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},M5e=function(e){return!e||!e.length?!1:e.some(function(r){var n=dl(r&&r.type);return n&&n.indexOf("Bar")>=0})},oU=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},P5e=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,c=e.yAxisMap,d=c===void 0?{}:c,f=n.width,m=n.height,p=n.children,y=n.margin||{},b=ja(p,Nh),T=ja(p,Yd),S=Object.keys(d).reduce(function(I,D){var A=d[D],k=A.orientation;return!A.mirror&&!A.hide?Ce(Ce({},I),{},St({},k,I[k]+A.width)):I},{left:y.left||0,right:y.right||0}),w=Object.keys(s).reduce(function(I,D){var A=s[D],k=A.orientation;return!A.mirror&&!A.hide?Ce(Ce({},I),{},St({},k,os(I,"".concat(k))+A.height)):I},{top:y.top||0,bottom:y.bottom||0}),O=Ce(Ce({},w),S),R=O.bottom;b&&(O.bottom+=b.props.height||Nh.defaultProps.height),T&&r&&(O=Cge(O,i,n,r));var C=f-O.left-O.right,B=m-O.top-O.bottom;return Ce(Ce({brushBottom:R},O),{},{width:Math.max(C,0),height:Math.max(B,0)})},D5e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},TK=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,c=s===void 0?["axis"]:s,d=e.axisComponents,f=e.legendContent,m=e.formatAxisMap,p=e.defaultProps,y=function(O,R){var C=R.graphicalItems,B=R.stackGroups,I=R.offset,D=R.updateId,A=R.dataStartIndex,k=R.dataEndIndex,E=O.barSize,U=O.layout,M=O.barGap,$=O.barCategoryGap,z=O.maxBarSize,Y=oU(U),te=Y.numericAxisName,K=Y.cateAxisName,J=M5e(C),Q=[];return C.forEach(function(ye,se){var X=f2(O.data,{graphicalItems:[ye],dataStartIndex:A,dataEndIndex:k}),ee=ye.type.defaultProps!==void 0?Ce(Ce({},ye.type.defaultProps),ye.props):ye.props,ce=ee.dataKey,Ne=ee.maxBarSize,oe=ee["".concat(te,"Id")],Oe=ee["".concat(K,"Id")],Me={},it=d.reduce(function(et,yt){var Qe=R["".concat(yt.axisType,"Map")],_t=ee["".concat(yt.axisType,"Id")];Qe&&Qe[_t]||yt.axisType==="zAxis"||w0();var Pt=Qe[_t];return Ce(Ce({},et),{},St(St({},yt.axisType,Pt),"".concat(yt.axisType,"Ticks"),ol(Pt)))},Me),Ee=it[K],He=it["".concat(K,"Ticks")],he=B&&B[oe]&&B[oe].hasStack&&$ge(ye,B[oe].stackGroups),ge=dl(ye.type).indexOf("Bar")>=0,We=ub(Ee,He),Ve=[],nt=J&&kge({barSize:E,stackGroups:B,totalSize:D5e(it,K)});if(ge){var ct,Wt,Ie=Mt(Ne)?z:Ne,ue=(ct=(Wt=ub(Ee,He,!0))!==null&&Wt!==void 0?Wt:Ie)!==null&&ct!==void 0?ct:0;Ve=jge({barGap:M,barCategoryGap:$,bandSize:ue!==We?ue:We,sizeList:nt[Oe],maxBarSize:Ie}),ue!==We&&(Ve=Ve.map(function(et){return Ce(Ce({},et),{},{position:Ce(Ce({},et.position),{},{offset:et.position.offset-ue/2})})}))}var ze=ye&&ye.type&&ye.type.getComposedData;ze&&Q.push({props:Ce(Ce({},ze(Ce(Ce({},it),{},{displayedData:X,props:O,dataKey:ce,item:ye,bandSize:We,barPosition:Ve,offset:I,stackedData:he,layout:U,dataStartIndex:A,dataEndIndex:k}))),{},St(St(St({key:ye.key||"item-".concat(se)},te,it[te]),K,it[K]),"animationId",D)),childIndex:Mce(ye,O.children),item:ye})}),Q},b=function(O,R){var C=O.props,B=O.dataStartIndex,I=O.dataEndIndex,D=O.updateId;if(!bR({props:C}))return null;var A=C.children,k=C.layout,E=C.stackOffset,U=C.data,M=C.reverseStackOrder,$=oU(k),z=$.numericAxisName,Y=$.cateAxisName,te=Ba(A,n),K=zge(U,te,"".concat(z,"Id"),"".concat(Y,"Id"),E,M),J=d.reduce(function(ee,ce){var Ne="".concat(ce.axisType,"Map");return Ce(Ce({},ee),{},St({},Ne,I5e(C,Ce(Ce({},ce),{},{graphicalItems:te,stackGroups:ce.axisType===z&&K,dataStartIndex:B,dataEndIndex:I}))))},{}),Q=P5e(Ce(Ce({},J),{},{props:C,graphicalItems:te}),R==null?void 0:R.legendBBox);Object.keys(J).forEach(function(ee){J[ee]=m(C,J[ee],Q,ee.replace("Map",""),r)});var ye=J["".concat(Y,"Map")],se=R5e(ye),X=y(C,Ce(Ce({},J),{},{dataStartIndex:B,dataEndIndex:I,updateId:D,graphicalItems:te,stackGroups:K,offset:Q}));return Ce(Ce({formattedGraphicalItems:X,graphicalItems:te,offset:Q,stackGroups:K},se),J)},T=(function(w){function O(R){var C,B,I;return p5e(this,O),I=v5e(this,O,[R]),St(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),St(I,"accessibilityManager",new t5e),St(I,"handleLegendBBoxUpdate",function(D){if(D){var A=I.state,k=A.dataStartIndex,E=A.dataEndIndex,U=A.updateId;I.setState(Ce({legendBBox:D},b({props:I.props,dataStartIndex:k,dataEndIndex:E,updateId:U},Ce(Ce({},I.state),{},{legendBBox:D}))))}}),St(I,"handleReceiveSyncEvent",function(D,A,k){if(I.props.syncId===D){if(k===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(A)}}),St(I,"handleBrushChange",function(D){var A=D.startIndex,k=D.endIndex;if(A!==I.state.dataStartIndex||k!==I.state.dataEndIndex){var E=I.state.updateId;I.setState(function(){return Ce({dataStartIndex:A,dataEndIndex:k},b({props:I.props,dataStartIndex:A,dataEndIndex:k,updateId:E},I.state))}),I.triggerSyncEvent({dataStartIndex:A,dataEndIndex:k})}}),St(I,"handleMouseEnter",function(D){var A=I.getMouseInfo(D);if(A){var k=Ce(Ce({},A),{},{isTooltipActive:!0});I.setState(k),I.triggerSyncEvent(k);var E=I.props.onMouseEnter;kt(E)&&E(k,D)}}),St(I,"triggeredAfterMouseMove",function(D){var A=I.getMouseInfo(D),k=A?Ce(Ce({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(k),I.triggerSyncEvent(k);var E=I.props.onMouseMove;kt(E)&&E(k,D)}),St(I,"handleItemMouseEnter",function(D){I.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),St(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),St(I,"handleMouseMove",function(D){D.persist(),I.throttleTriggeredAfterMouseMove(D)}),St(I,"handleMouseLeave",function(D){I.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};I.setState(A),I.triggerSyncEvent(A);var k=I.props.onMouseLeave;kt(k)&&k(A,D)}),St(I,"handleOuterEvent",function(D){var A=Rce(D),k=os(I.props,"".concat(A));if(A&&kt(k)){var E,U;/.*touch.*/i.test(A)?U=I.getMouseInfo(D.changedTouches[0]):U=I.getMouseInfo(D),k((E=U)!==null&&E!==void 0?E:{},D)}}),St(I,"handleClick",function(D){var A=I.getMouseInfo(D);if(A){var k=Ce(Ce({},A),{},{isTooltipActive:!0});I.setState(k),I.triggerSyncEvent(k);var E=I.props.onClick;kt(E)&&E(k,D)}}),St(I,"handleMouseDown",function(D){var A=I.props.onMouseDown;if(kt(A)){var k=I.getMouseInfo(D);A(k,D)}}),St(I,"handleMouseUp",function(D){var A=I.props.onMouseUp;if(kt(A)){var k=I.getMouseInfo(D);A(k,D)}}),St(I,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),St(I,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&I.handleMouseDown(D.changedTouches[0])}),St(I,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&I.handleMouseUp(D.changedTouches[0])}),St(I,"handleDoubleClick",function(D){var A=I.props.onDoubleClick;if(kt(A)){var k=I.getMouseInfo(D);A(k,D)}}),St(I,"handleContextMenu",function(D){var A=I.props.onContextMenu;if(kt(A)){var k=I.getMouseInfo(D);A(k,D)}}),St(I,"triggerSyncEvent",function(D){I.props.syncId!==void 0&&uS.emit(dS,I.props.syncId,D,I.eventEmitterSymbol)}),St(I,"applySyncEvent",function(D){var A=I.props,k=A.layout,E=A.syncMethod,U=I.state.updateId,M=D.dataStartIndex,$=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)I.setState(Ce({dataStartIndex:M,dataEndIndex:$},b({props:I.props,dataStartIndex:M,dataEndIndex:$,updateId:U},I.state)));else if(D.activeTooltipIndex!==void 0){var z=D.chartX,Y=D.chartY,te=D.activeTooltipIndex,K=I.state,J=K.offset,Q=K.tooltipTicks;if(!J)return;if(typeof E=="function")te=E(Q,D);else if(E==="value"){te=-1;for(var ye=0;ye<Q.length;ye++)if(Q[ye].value===D.activeLabel){te=ye;break}}var se=Ce(Ce({},J),{},{x:J.left,y:J.top}),X=Math.min(z,se.x+se.width),ee=Math.min(Y,se.y+se.height),ce=Q[te]&&Q[te].value,Ne=UA(I.state,I.props.data,te),oe=Q[te]?{x:k==="horizontal"?Q[te].coordinate:X,y:k==="horizontal"?ee:Q[te].coordinate}:_K;I.setState(Ce(Ce({},D),{},{activeLabel:ce,activeCoordinate:oe,activePayload:Ne,activeTooltipIndex:te}))}else I.setState(D)}),St(I,"renderCursor",function(D){var A,k=I.state,E=k.isTooltipActive,U=k.activeCoordinate,M=k.activePayload,$=k.offset,z=k.activeTooltipIndex,Y=k.tooltipAxisBandSize,te=I.getTooltipEventType(),K=(A=D.props.active)!==null&&A!==void 0?A:E,J=I.props.layout,Q=D.key||"_recharts-cursor";return ie.createElement(l5e,{key:Q,activeCoordinate:U,activePayload:M,activeTooltipIndex:z,chartName:r,element:D,isActive:K,layout:J,offset:$,tooltipAxisBandSize:Y,tooltipEventType:te})}),St(I,"renderPolarAxis",function(D,A,k){var E=os(D,"type.axisType"),U=os(I.state,"".concat(E,"Map")),M=D.type.defaultProps,$=M!==void 0?Ce(Ce({},M),D.props):D.props,z=U&&U[$["".concat(E,"Id")]];return F.cloneElement(D,Ce(Ce({},z),{},{className:Bt(E,z.className),key:D.key||"".concat(A,"-").concat(k),ticks:ol(z,!0)}))}),St(I,"renderPolarGrid",function(D){var A=D.props,k=A.radialLines,E=A.polarAngles,U=A.polarRadius,M=I.state,$=M.radiusAxisMap,z=M.angleAxisMap,Y=Ec($),te=Ec(z),K=te.cx,J=te.cy,Q=te.innerRadius,ye=te.outerRadius;return F.cloneElement(D,{polarAngles:Array.isArray(E)?E:ol(te,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray(U)?U:ol(Y,!0).map(function(se){return se.coordinate}),cx:K,cy:J,innerRadius:Q,outerRadius:ye,key:D.key||"polar-grid",radialLines:k})}),St(I,"renderLegend",function(){var D=I.state.formattedGraphicalItems,A=I.props,k=A.children,E=A.width,U=A.height,M=I.props.margin||{},$=E-(M.left||0)-(M.right||0),z=eG({children:k,formattedGraphicalItems:D,legendWidth:$,legendContent:f});if(!z)return null;var Y=z.item,te=nU(z,c5e);return F.cloneElement(Y,Ce(Ce({},te),{},{chartWidth:E,chartHeight:U,margin:M,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),St(I,"renderTooltip",function(){var D,A=I.props,k=A.children,E=A.accessibilityLayer,U=ja(k,ro);if(!U)return null;var M=I.state,$=M.isTooltipActive,z=M.activeCoordinate,Y=M.activePayload,te=M.activeLabel,K=M.offset,J=(D=U.props.active)!==null&&D!==void 0?D:$;return F.cloneElement(U,{viewBox:Ce(Ce({},K),{},{x:K.left,y:K.top}),active:J,label:te,payload:J?Y:[],coordinate:z,accessibilityLayer:E})}),St(I,"renderBrush",function(D){var A=I.props,k=A.margin,E=A.data,U=I.state,M=U.offset,$=U.dataStartIndex,z=U.dataEndIndex,Y=U.updateId;return F.cloneElement(D,{key:D.key||"_recharts-brush",onChange:Iy(I.handleBrushChange,D.props.onChange),data:E,x:Ze(D.props.x)?D.props.x:M.left,y:Ze(D.props.y)?D.props.y:M.top+M.height+M.brushBottom-(k.bottom||0),width:Ze(D.props.width)?D.props.width:M.width,startIndex:$,endIndex:z,updateId:"brush-".concat(Y)})}),St(I,"renderReferenceElement",function(D,A,k){if(!D)return null;var E=I,U=E.clipPathId,M=I.state,$=M.xAxisMap,z=M.yAxisMap,Y=M.offset,te=D.type.defaultProps||{},K=D.props,J=K.xAxisId,Q=J===void 0?te.xAxisId:J,ye=K.yAxisId,se=ye===void 0?te.yAxisId:ye;return F.cloneElement(D,{key:D.key||"".concat(A,"-").concat(k),xAxis:$[Q],yAxis:z[se],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:U})}),St(I,"renderActivePoints",function(D){var A=D.item,k=D.activePoint,E=D.basePoint,U=D.childIndex,M=D.isRange,$=[],z=A.props.key,Y=A.item.type.defaultProps!==void 0?Ce(Ce({},A.item.type.defaultProps),A.item.props):A.item.props,te=Y.activeDot,K=Y.dataKey,J=Ce(Ce({index:U,dataKey:K,cx:k.x,cy:k.y,r:4,fill:_E(A.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},vt(te,!1)),Uv(te));return $.push(O.renderActiveDot(te,J,"".concat(z,"-activePoint-").concat(U))),E?$.push(O.renderActiveDot(te,Ce(Ce({},J),{},{cx:E.x,cy:E.y}),"".concat(z,"-basePoint-").concat(U))):M&&$.push(null),$}),St(I,"renderGraphicChild",function(D,A,k){var E=I.filterFormatItem(D,A,k);if(!E)return null;var U=I.getTooltipEventType(),M=I.state,$=M.isTooltipActive,z=M.tooltipAxis,Y=M.activeTooltipIndex,te=M.activeLabel,K=I.props.children,J=ja(K,ro),Q=E.props,ye=Q.points,se=Q.isRange,X=Q.baseLine,ee=E.item.type.defaultProps!==void 0?Ce(Ce({},E.item.type.defaultProps),E.item.props):E.item.props,ce=ee.activeDot,Ne=ee.hide,oe=ee.activeBar,Oe=ee.activeShape,Me=!!(!Ne&&$&&J&&(ce||oe||Oe)),it={};U!=="axis"&&J&&J.props.trigger==="click"?it={onClick:Iy(I.handleItemMouseEnter,D.props.onClick)}:U!=="axis"&&(it={onMouseLeave:Iy(I.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:Iy(I.handleItemMouseEnter,D.props.onMouseEnter)});var Ee=F.cloneElement(D,Ce(Ce({},E.props),it));function He(yt){return typeof z.dataKey=="function"?z.dataKey(yt.payload):null}if(Me)if(Y>=0){var he,ge;if(z.dataKey&&!z.allowDuplicatedCategory){var We=typeof z.dataKey=="function"?He:"payload.".concat(z.dataKey.toString());he=Bv(ye,We,te),ge=se&&X&&Bv(X,We,te)}else he=ye==null?void 0:ye[Y],ge=se&&X&&X[Y];if(Oe||oe){var Ve=D.props.activeIndex!==void 0?D.props.activeIndex:Y;return[F.cloneElement(D,Ce(Ce(Ce({},E.props),it),{},{activeIndex:Ve})),null,null]}if(!Mt(he))return[Ee].concat(Bh(I.renderActivePoints({item:E,activePoint:he,basePoint:ge,childIndex:Y,isRange:se})))}else{var nt,ct=(nt=I.getItemByXY(I.state.activeCoordinate))!==null&&nt!==void 0?nt:{graphicalItem:Ee},Wt=ct.graphicalItem,Ie=Wt.item,ue=Ie===void 0?D:Ie,ze=Wt.childIndex,et=Ce(Ce(Ce({},E.props),it),{},{activeIndex:ze});return[F.cloneElement(ue,et),null,null]}return se?[Ee,null,null]:[Ee,null]}),St(I,"renderCustomized",function(D,A,k){return F.cloneElement(D,Ce(Ce({key:"recharts-customized-".concat(k)},I.props),I.state))}),St(I,"renderMap",{CartesianGrid:{handler:Ly,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:Ly},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:Ly},YAxis:{handler:Ly},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((C=R.id)!==null&&C!==void 0?C:_g("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=Jq(I.triggeredAfterMouseMove,(B=R.throttleDelay)!==null&&B!==void 0?B:1e3/60),I.state={},I}return w5e(O,w),y5e(O,[{key:"componentDidMount",value:function(){var C,B;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,B=C.children,I=C.data,D=C.height,A=C.layout,k=ja(B,ro);if(k){var E=k.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,M=UA(this.state,I,E,U),$=this.state.tooltipTicks[E].coordinate,z=(this.state.offset.top+D)/2,Y=A==="horizontal",te=Y?{x:$,y:z}:{y:$,x:z},K=this.state.formattedGraphicalItems.find(function(Q){var ye=Q.item;return ye.type.name==="Scatter"});K&&(te=Ce(Ce({},te),K.props.points[E].tooltipPosition),M=K.props.points[E].tooltipPayload);var J={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:U,activePayload:M,activeCoordinate:te};this.setState(J),this.renderCursor(k),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,B){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==B.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var I,D;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(C){bT([ja(C.children,ro)],[ja(this.props.children,ro)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=ja(this.props.children,ro);if(C&&typeof C.props.shared=="boolean"){var B=C.props.shared?"axis":"item";return c.indexOf(B)>=0?B:a}return a}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var B=this.container,I=B.getBoundingClientRect(),D=xhe(I),A={chartX:Math.round(C.pageX-D.left),chartY:Math.round(C.pageY-D.top)},k=I.width/B.offsetWidth||1,E=this.inRange(A.chartX,A.chartY,k);if(!E)return null;var U=this.state,M=U.xAxisMap,$=U.yAxisMap,z=this.getTooltipEventType(),Y=aU(this.state,this.props.data,this.props.layout,E);if(z!=="axis"&&M&&$){var te=Ec(M).scale,K=Ec($).scale,J=te&&te.invert?te.invert(A.chartX):null,Q=K&&K.invert?K.invert(A.chartY):null;return Ce(Ce({},A),{},{xValue:J,yValue:Q},Y)}return Y?Ce(Ce({},A),Y):null}},{key:"inRange",value:function(C,B){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,A=C/I,k=B/I;if(D==="horizontal"||D==="vertical"){var E=this.state.offset,U=A>=E.left&&A<=E.left+E.width&&k>=E.top&&k<=E.top+E.height;return U?{x:A,y:k}:null}var M=this.state,$=M.angleAxisMap,z=M.radiusAxisMap;if($&&z){var Y=Ec($);return lL({x:A,y:k},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,B=this.getTooltipEventType(),I=ja(C,ro),D={};I&&B==="axis"&&(I.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Uv(this.props,this.handleOuterEvent);return Ce(Ce({},A),D)}},{key:"addListener",value:function(){uS.on(dS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){uS.removeListener(dS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,B,I){for(var D=this.state.formattedGraphicalItems,A=0,k=D.length;A<k;A++){var E=D[A];if(E.item===C||E.props.key===C.key||B===dl(E.item.type)&&I===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,B=this.state.offset,I=B.left,D=B.top,A=B.height,k=B.width;return ie.createElement("defs",null,ie.createElement("clipPath",{id:C},ie.createElement("rect",{x:I,y:D,height:A,width:k})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(B,I){var D=rU(I,2),A=D[0],k=D[1];return Ce(Ce({},B),{},St({},A,k.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(B,I){var D=rU(I,2),A=D[0],k=D[1];return Ce(Ce({},B),{},St({},A,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var B;return(B=this.state.xAxisMap)===null||B===void 0||(B=B[C])===null||B===void 0?void 0:B.scale}},{key:"getYScaleByAxisId",value:function(C){var B;return(B=this.state.yAxisMap)===null||B===void 0||(B=B[C])===null||B===void 0?void 0:B.scale}},{key:"getItemByXY",value:function(C){var B=this.state,I=B.formattedGraphicalItems,D=B.activeItem;if(I&&I.length)for(var A=0,k=I.length;A<k;A++){var E=I[A],U=E.props,M=E.item,$=M.type.defaultProps!==void 0?Ce(Ce({},M.type.defaultProps),M.props):M.props,z=dl(M.type);if(z==="Bar"){var Y=(U.data||[]).find(function(Q){return Vve(C,Q)});if(Y)return{graphicalItem:E,payload:Y}}else if(z==="RadialBar"){var te=(U.data||[]).find(function(Q){return lL(C,Q)});if(te)return{graphicalItem:E,payload:te}}else if(n2(E,D)||i2(E,D)||qp(E,D)){var K=xxe({graphicalItem:E,activeTooltipItem:D,itemData:$.data}),J=$.activeIndex===void 0?K:$.activeIndex;return{graphicalItem:Ce(Ce({},E),{},{childIndex:J}),payload:qp(E,D)?$.data[K]:E.props.data[K]}}}return null}},{key:"render",value:function(){var C=this;if(!bR(this))return null;var B=this.props,I=B.children,D=B.className,A=B.width,k=B.height,E=B.style,U=B.compact,M=B.title,$=B.desc,z=nU(B,u5e),Y=vt(z,!1);if(U)return ie.createElement(BB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement(wT,$d({},Y,{width:A,height:k,title:M,desc:$}),this.renderClipPath(),wR(I,this.renderMap)));if(this.props.accessibilityLayer){var te,K;Y.tabIndex=(te=this.props.tabIndex)!==null&&te!==void 0?te:0,Y.role=(K=this.props.role)!==null&&K!==void 0?K:"application",Y.onKeyDown=function(Q){C.accessibilityManager.keyboardEvent(Q)},Y.onFocus=function(){C.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return ie.createElement(BB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement("div",$d({className:Bt("recharts-wrapper",D),style:Ce({position:"relative",cursor:"default",width:A,height:k},E)},J,{ref:function(ye){C.container=ye}}),ie.createElement(wT,$d({},Y,{width:A,height:k,title:M,desc:$,style:N5e}),this.renderClipPath(),wR(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(F.Component);St(T,"displayName",r),St(T,"defaultProps",Ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),St(T,"getDerivedStateFromProps",function(w,O){var R=w.dataKey,C=w.data,B=w.children,I=w.width,D=w.height,A=w.layout,k=w.stackOffset,E=w.margin,U=O.dataStartIndex,M=O.dataEndIndex;if(O.updateId===void 0){var $=sU(w);return Ce(Ce(Ce({},$),{},{updateId:0},b(Ce(Ce({props:w},$),{},{updateId:0}),O)),{},{prevDataKey:R,prevData:C,prevWidth:I,prevHeight:D,prevLayout:A,prevStackOffset:k,prevMargin:E,prevChildren:B})}if(R!==O.prevDataKey||C!==O.prevData||I!==O.prevWidth||D!==O.prevHeight||A!==O.prevLayout||k!==O.prevStackOffset||!Xd(E,O.prevMargin)){var z=sU(w),Y={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},te=Ce(Ce({},aU(O,C,A)),{},{updateId:O.updateId+1}),K=Ce(Ce(Ce({},z),Y),te);return Ce(Ce(Ce({},K),b(Ce({props:w},K),O)),{},{prevDataKey:R,prevData:C,prevWidth:I,prevHeight:D,prevLayout:A,prevStackOffset:k,prevMargin:E,prevChildren:B})}if(!bT(B,O.prevChildren)){var J,Q,ye,se,X=ja(B,Nh),ee=X&&(J=(Q=X.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&J!==void 0?J:U,ce=X&&(ye=(se=X.props)===null||se===void 0?void 0:se.endIndex)!==null&&ye!==void 0?ye:M,Ne=ee!==U||ce!==M,oe=!Mt(C),Oe=oe&&!Ne?O.updateId:O.updateId+1;return Ce(Ce({updateId:Oe},b(Ce(Ce({props:w},O),{},{updateId:Oe,dataStartIndex:ee,dataEndIndex:ce}),O)),{},{prevChildren:B,dataStartIndex:ee,dataEndIndex:ce})}return null}),St(T,"renderActiveDot",function(w,O,R){var C;return F.isValidElement(w)?C=F.cloneElement(w,O):kt(w)?C=w(O):C=ie.createElement(e2,O),ie.createElement(ur,{className:"recharts-active-dot",key:R},C)});var S=F.forwardRef(function(O,R){return ie.createElement(T,$d({},O,{ref:R}))});return S.displayName=T.displayName,S},L5e=TK({chartName:"RadarChart",GraphicalChild:Ig,axisComponents:[{axisType:"angleAxis",AxisComp:Cg},{axisType:"radiusAxis",AxisComp:jg}],formatAxisMap:Jge,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),B5e=TK({chartName:"ScatterChart",GraphicalChild:Mg,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:d2},{axisType:"yAxis",AxisComp:h2},{axisType:"zAxis",AxisComp:u2}],formatAxisMap:j2e});function lU(t,e=800){const[r,n]=F.useState(t),i=F.useRef(t),a=F.useRef(0);return F.useEffect(()=>{const s=i.current,c=t;if(i.current=t,s===c)return;const d=performance.now(),f=c-s,m=p=>{const y=p-d,b=Math.min(y/e,1),T=1-Math.pow(1-b,3);n(Math.round(s+f*T)),b<1&&(a.current=requestAnimationFrame(m))};return a.current=requestAnimationFrame(m),()=>cancelAnimationFrame(a.current)},[t,e]),r}const cU={COMMON:{primary:"#64748b",glow:"rgba(100,116,139,0.4)",particle:"#94a3b8"},UNCOMMON:{primary:"#22c55e",glow:"rgba(34,197,94,0.5)",particle:"#4ade80"},RARE:{primary:"#3b82f6",glow:"rgba(59,130,246,0.6)",particle:"#60a5fa"},UNIQUE:{primary:"#f59e0b",glow:"rgba(245,158,11,0.7)",particle:"#fbbf24"}},Cd=t=>t?cU[t.rarity]||cU.COMMON:null,Ub=({equipped:t,appearance:e,evolutionLevel:r=1,activeCosmetic:n,cosmeticColor:i})=>{const a=(e==null?void 0:e.hue)||0,s=(e==null?void 0:e.bodyType)==="B",c=t==null?void 0:t.HEAD,d=t==null?void 0:t.CHEST,f=t==null?void 0:t.HANDS,m=t==null?void 0:t.FEET,p=t==null?void 0:t.BELT,y=t==null?void 0:t.AMULET,b=F.useMemo(()=>[c,d,f,m,p,y].filter(Boolean).length,[c,d,f,m,p,y]),T=F.useMemo(()=>[c,d,f,m,p,y].some(w=>(w==null?void 0:w.rarity)==="UNIQUE"),[c,d,f,m,p,y]),S=Math.min(1,.3+b*.12);return u.jsxs("svg",{viewBox:"0 0 200 340",className:"w-full h-full",style:{filter:"drop-shadow(0 0 20px rgba(147,51,234,0.15))"},children:[u.jsxs("defs",{children:[u.jsxs("filter",{id:"av-glow",x:"-30%",y:"-30%",width:"160%",height:"160%",children:[u.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),u.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),u.jsxs("filter",{id:"av-soft",x:"-10%",y:"-10%",width:"120%",height:"120%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),u.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),u.jsxs("filter",{id:"av-bloom",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[u.jsx("feGaussianBlur",{stdDeviation:"8",result:"blur"}),u.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),u.jsxs("linearGradient",{id:"av-suit",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"0%",stopColor:`hsl(${a+240}, 30%, 22%)`}),u.jsx("stop",{offset:"100%",stopColor:`hsl(${a+240}, 25%, 12%)`})]}),u.jsxs("linearGradient",{id:"av-suit-highlight",x1:"0",y1:"0",x2:"1",y2:"1",children:[u.jsx("stop",{offset:"0%",stopColor:`hsla(${a+240}, 40%, 40%, 0.3)`}),u.jsx("stop",{offset:"100%",stopColor:"transparent"})]}),u.jsxs("radialGradient",{id:"av-core-energy",cx:"50%",cy:"50%",r:"50%",children:[u.jsx("stop",{offset:"0%",stopColor:`hsl(${a+180}, 100%, 70%)`,stopOpacity:S}),u.jsx("stop",{offset:"60%",stopColor:`hsl(${a+200}, 80%, 50%)`,stopOpacity:S*.4}),u.jsx("stop",{offset:"100%",stopColor:"transparent",stopOpacity:"0"})]}),u.jsxs("linearGradient",{id:"av-visor",x1:"0",y1:"0",x2:"1",y2:"0",children:[u.jsx("stop",{offset:"0%",stopColor:`hsl(${a+180}, 90%, 55%)`}),u.jsx("stop",{offset:"100%",stopColor:`hsl(${a+200}, 80%, 45%)`})]})]}),u.jsx("ellipse",{cx:"100",cy:"328",rx:"45",ry:"6",fill:"rgba(0,0,0,0.4)",children:u.jsx("animate",{attributeName:"rx",values:"45;42;45",dur:"3.5s",repeatCount:"indefinite"})}),u.jsxs("g",{id:"av-body",children:[u.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0; 0,-1.5; 0,0",dur:"3.5s",repeatCount:"indefinite"}),u.jsxs("g",{children:[u.jsx("path",{d:s?"M79 200 L77 272 Q77 280 82 280 L90 280 Q94 280 94 276 L92 200":"M78 200 L75 270 Q75 280 82 280 L92 280 Q97 280 96 275 L93 200",fill:"url(#av-suit)",stroke:`hsl(${a+240}, 30%, 30%)`,strokeWidth:"1"}),u.jsx("path",{d:s?"M108 200 L106 272 Q106 280 111 280 L119 280 Q123 280 123 276 L121 200":"M107 200 L104 270 Q104 280 111 280 L121 280 Q126 280 125 275 L122 200",fill:"url(#av-suit)",stroke:`hsl(${a+240}, 30%, 30%)`,strokeWidth:"1"}),u.jsx("ellipse",{cx:"85",cy:"235",rx:"6",ry:"3",fill:`hsla(${a+180}, 60%, 50%, 0.15)`}),u.jsx("ellipse",{cx:"115",cy:"235",rx:"6",ry:"3",fill:`hsla(${a+180}, 60%, 50%, 0.15)`})]}),m&&(()=>{const w=Cd(m);return u.jsxs("g",{filter:"url(#av-soft)",children:[u.jsx("path",{d:"M74 268 L72 280 Q70 290 80 290 L92 290 Q98 290 96 282 L94 268",fill:w.primary,stroke:"white",strokeWidth:"0.5",strokeOpacity:"0.4"}),u.jsx("path",{d:"M104 268 L102 280 Q100 290 110 290 L122 290 Q128 290 126 282 L124 268",fill:w.primary,stroke:"white",strokeWidth:"0.5",strokeOpacity:"0.4"}),u.jsx("line",{x1:"78",y1:"278",x2:"92",y2:"278",stroke:w.particle,strokeWidth:"1",strokeOpacity:"0.6"}),u.jsx("line",{x1:"108",y1:"278",x2:"122",y2:"278",stroke:w.particle,strokeWidth:"1",strokeOpacity:"0.6"})]})})(),u.jsx("path",{d:s?"M66 90 Q100 85 134 90 L128 200 Q100 205 72 200 Z":"M68 90 Q100 82 132 90 L126 200 Q100 206 74 200 Z",fill:"url(#av-suit)",stroke:`hsl(${a+240}, 25%, 28%)`,strokeWidth:"1.5"}),u.jsx("path",{d:s?"M66 90 Q100 85 100 90 L100 200 Q86 202 72 200 Z":"M68 90 Q100 82 100 90 L100 200 Q86 204 74 200 Z",fill:"url(#av-suit-highlight)"}),u.jsx("line",{x1:"100",y1:"92",x2:"100",y2:"195",stroke:`hsla(${a+180}, 40%, 50%, 0.1)`,strokeWidth:"0.5"}),u.jsx("line",{x1:"82",y1:"100",x2:"82",y2:"190",stroke:`hsla(${a+180}, 40%, 50%, 0.06)`,strokeWidth:"0.5"}),u.jsx("line",{x1:"118",y1:"100",x2:"118",y2:"190",stroke:`hsla(${a+180}, 40%, 50%, 0.06)`,strokeWidth:"0.5"}),d&&(()=>{const w=Cd(d);return u.jsxs("g",{filter:"url(#av-soft)",children:[u.jsx("path",{d:s?"M72 95 Q100 90 128 95 L125 170 Q100 175 75 170 Z":"M74 95 Q100 88 126 95 L123 170 Q100 176 77 170 Z",fill:w.primary,fillOpacity:"0.35",stroke:w.primary,strokeWidth:"1",strokeOpacity:"0.6"}),u.jsx("path",{d:"M80 110 L120 110",stroke:w.particle,strokeWidth:"0.8",strokeOpacity:"0.3"}),u.jsx("path",{d:"M82 130 L118 130",stroke:w.particle,strokeWidth:"0.8",strokeOpacity:"0.3"}),u.jsx("path",{d:"M84 150 L116 150",stroke:w.particle,strokeWidth:"0.8",strokeOpacity:"0.3"}),u.jsx("circle",{cx:"100",cy:"120",r:"6",fill:"none",stroke:w.primary,strokeWidth:"1.5",strokeOpacity:"0.7"}),u.jsx("circle",{cx:"100",cy:"120",r:"2",fill:w.particle,fillOpacity:"0.8",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.8;0.4;0.8",dur:"2s",repeatCount:"indefinite"})})]})})(),p&&(()=>{const w=Cd(p);return u.jsxs("g",{filter:"url(#av-soft)",children:[u.jsx("rect",{x:"72",y:"188",width:"56",height:"12",rx:"3",fill:w.primary,fillOpacity:"0.6",stroke:w.primary,strokeWidth:"0.8"}),u.jsx("rect",{x:"94",y:"189",width:"12",height:"10",rx:"2",fill:w.particle,fillOpacity:"0.5"}),u.jsx("circle",{cx:"82",cy:"194",r:"3",fill:w.primary,stroke:w.particle,strokeWidth:"0.5"}),u.jsx("circle",{cx:"118",cy:"194",r:"3",fill:w.primary,stroke:w.particle,strokeWidth:"0.5"})]})})(),u.jsxs("g",{children:[u.jsx("path",{d:s?"M66 92 L48 95 Q42 96 42 102 L42 160 Q42 166 48 167 L56 168 L66 160 L66 92":"M68 92 L52 95 Q45 97 44 103 L42 158 Q42 165 48 167 L58 168 L68 160 L68 92",fill:"url(#av-suit)",stroke:`hsl(${a+240}, 30%, 30%)`,strokeWidth:"1"}),u.jsx("path",{d:s?"M134 92 L152 95 Q158 96 158 102 L158 160 Q158 166 152 167 L144 168 L134 160 L134 92":"M132 92 L148 95 Q155 97 156 103 L158 158 Q158 165 152 167 L142 168 L132 160 L132 92",fill:"url(#av-suit)",stroke:`hsl(${a+240}, 30%, 30%)`,strokeWidth:"1"}),u.jsx("ellipse",{cx:"62",cy:"94",rx:"10",ry:"6",fill:`hsl(${a+240}, 28%, 20%)`,stroke:`hsla(${a+180}, 50%, 50%, 0.2)`,strokeWidth:"1"}),u.jsx("ellipse",{cx:"138",cy:"94",rx:"10",ry:"6",fill:`hsl(${a+240}, 28%, 20%)`,stroke:`hsla(${a+180}, 50%, 50%, 0.2)`,strokeWidth:"1"})]}),f&&(()=>{const w=Cd(f);return u.jsxs("g",{filter:"url(#av-soft)",children:[u.jsx("path",{d:"M40 148 L40 170 Q40 175 46 175 L58 175 Q62 175 62 170 L62 148",fill:w.primary,fillOpacity:"0.5",stroke:w.primary,strokeWidth:"1",strokeOpacity:"0.7"}),u.jsx("path",{d:"M138 148 L138 170 Q138 175 144 175 L156 175 Q160 175 160 170 L160 148",fill:w.primary,fillOpacity:"0.5",stroke:w.primary,strokeWidth:"1",strokeOpacity:"0.7"}),u.jsx("circle",{cx:"48",cy:"170",r:"2",fill:w.particle,fillOpacity:"0.7",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.7;0.3;0.7",dur:"1.5s",repeatCount:"indefinite"})}),u.jsx("circle",{cx:"152",cy:"170",r:"2",fill:w.particle,fillOpacity:"0.7",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.3;0.7;0.3",dur:"1.5s",repeatCount:"indefinite"})})]})})(),u.jsx("g",{filter:"url(#av-bloom)",children:u.jsx("circle",{cx:"100",cy:"130",r:"8",fill:"url(#av-core-energy)",children:u.jsx("animate",{attributeName:"r",values:"8;10;8",dur:"3s",repeatCount:"indefinite"})})}),u.jsx("circle",{cx:"100",cy:"130",r:"3",fill:`hsl(${a+180}, 100%, 75%)`,fillOpacity:S*.8,children:u.jsx("animate",{attributeName:"fillOpacity",values:`${S*.8};${S*.4};${S*.8}`,dur:"2s",repeatCount:"indefinite"})}),u.jsx("rect",{x:"92",y:"74",width:"16",height:"18",rx:"4",fill:`hsl(${a+240}, 25%, 18%)`}),u.jsxs("g",{children:[u.jsx("ellipse",{cx:"100",cy:"52",rx:s?22:20,ry:"28",fill:`hsl(${a+240}, 22%, 24%)`,stroke:`hsl(${a+240}, 20%, 30%)`,strokeWidth:"1.5"}),u.jsx("ellipse",{cx:"100",cy:"55",rx:"15",ry:"16",fill:`hsl(${a+240}, 18%, 15%)`}),!c&&u.jsxs("g",{children:[u.jsx("ellipse",{cx:"91",cy:"50",rx:"5",ry:"3",fill:`hsl(${a+180}, 80%, 60%)`,fillOpacity:"0.8",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.8;0.6;0.8",dur:"4s",repeatCount:"indefinite"})}),u.jsx("ellipse",{cx:"109",cy:"50",rx:"5",ry:"3",fill:`hsl(${a+180}, 80%, 60%)`,fillOpacity:"0.8",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.8;0.6;0.8",dur:"4s",repeatCount:"indefinite"})}),u.jsx("line",{x1:"93",y1:"64",x2:"107",y2:"64",stroke:`hsla(${a+180}, 40%, 50%, 0.2)`,strokeWidth:"1",strokeLinecap:"round"})]})]}),c&&(()=>{const w=Cd(c),O=c.visualId||"";return u.jsx("g",{filter:"url(#av-glow)",children:O.includes("helm")?u.jsxs(u.Fragment,{children:[u.jsx("path",{d:"M76 25 Q100 8 124 25 L126 65 Q100 75 74 65 Z",fill:w.primary,fillOpacity:"0.5",stroke:w.primary,strokeWidth:"1.5"}),u.jsx("rect",{x:"80",y:"45",width:"40",height:"8",rx:"4",fill:"url(#av-visor)",fillOpacity:"0.9",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.9;0.6;0.9",dur:"3s",repeatCount:"indefinite"})})]}):O.includes("visor")?u.jsx("rect",{x:"78",y:"44",width:"44",height:"12",rx:"6",fill:"url(#av-visor)",fillOpacity:"0.85",stroke:w.primary,strokeWidth:"1",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.85;0.55;0.85",dur:"2.5s",repeatCount:"indefinite"})}):u.jsxs(u.Fragment,{children:[u.jsx("circle",{cx:"89",cy:"48",r:"9",fill:"none",stroke:w.primary,strokeWidth:"2"}),u.jsx("circle",{cx:"111",cy:"48",r:"9",fill:"none",stroke:w.primary,strokeWidth:"2"}),u.jsx("circle",{cx:"89",cy:"48",r:"6",fill:w.particle,fillOpacity:"0.5",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.5;0.3;0.5",dur:"2s",repeatCount:"indefinite"})}),u.jsx("circle",{cx:"111",cy:"48",r:"6",fill:w.particle,fillOpacity:"0.5",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.3;0.5;0.3",dur:"2s",repeatCount:"indefinite"})}),u.jsx("line",{x1:"98",y1:"48",x2:"102",y2:"48",stroke:w.primary,strokeWidth:"2"})]})})})(),y&&(()=>{const w=Cd(y);return u.jsxs("g",{filter:"url(#av-glow)",children:[u.jsx("path",{d:"M90 78 Q100 100 110 78",stroke:w.particle,strokeWidth:"0.8",fill:"none",strokeOpacity:"0.5"}),u.jsx("polygon",{points:"100,92 94,100 100,106 106,100",fill:w.primary,stroke:w.particle,strokeWidth:"1",children:u.jsx("animate",{attributeName:"opacity",values:"1;0.7;1",dur:"2.5s",repeatCount:"indefinite"})}),u.jsx("circle",{cx:"100",cy:"99",r:"2.5",fill:w.particle,children:u.jsx("animate",{attributeName:"r",values:"2.5;3;2.5",dur:"2s",repeatCount:"indefinite"})})]})})(),T&&u.jsx("g",{filter:"url(#av-bloom)",children:[0,60,120,180,240,300].map((w,O)=>{const R=w*Math.PI/180,C=100+Math.cos(R)*55,B=150+Math.sin(R)*80;return u.jsxs("circle",{cx:C,cy:B,r:"1.5",fill:"#fbbf24",fillOpacity:"0.6",children:[u.jsx("animate",{attributeName:"cy",values:`${B};${B-20};${B}`,dur:`${2+O*.3}s`,repeatCount:"indefinite"}),u.jsx("animate",{attributeName:"fillOpacity",values:"0.6;0;0.6",dur:`${2+O*.3}s`,repeatCount:"indefinite"})]},O)})}),b>=3&&u.jsxs("g",{children:[u.jsx("line",{x1:"100",y1:"92",x2:"100",y2:"195",stroke:`hsl(${a+180}, 80%, 55%)`,strokeWidth:"0.6",strokeOpacity:"0.2",strokeDasharray:"4 6",children:u.jsx("animate",{attributeName:"strokeDashoffset",values:"0;-20",dur:"2s",repeatCount:"indefinite"})}),u.jsx("line",{x1:"62",y1:"94",x2:"48",y2:"165",stroke:`hsl(${a+180}, 80%, 55%)`,strokeWidth:"0.5",strokeOpacity:"0.15",strokeDasharray:"3 5",children:u.jsx("animate",{attributeName:"strokeDashoffset",values:"0;-16",dur:"1.8s",repeatCount:"indefinite"})}),u.jsx("line",{x1:"138",y1:"94",x2:"152",y2:"165",stroke:`hsl(${a+180}, 80%, 55%)`,strokeWidth:"0.5",strokeOpacity:"0.15",strokeDasharray:"3 5",children:u.jsx("animate",{attributeName:"strokeDashoffset",values:"0;-16",dur:"1.8s",repeatCount:"indefinite"})})]}),r>=15&&u.jsxs("g",{filter:"url(#av-glow)",children:[u.jsx("ellipse",{cx:"100",cy:"24",rx:"18",ry:"4",fill:"none",stroke:r>=50?"#fbbf24":r>=30?"#a78bfa":"#60a5fa",strokeWidth:"1.5",strokeOpacity:"0.7",children:u.jsx("animate",{attributeName:"strokeOpacity",values:"0.7;0.4;0.7",dur:"2s",repeatCount:"indefinite"})}),r>=30&&u.jsx("ellipse",{cx:"100",cy:"20",rx:"22",ry:"5",fill:"none",stroke:r>=50?"#fbbf24":"#a78bfa",strokeWidth:"0.8",strokeOpacity:"0.4",strokeDasharray:"3 3",children:u.jsx("animate",{attributeName:"strokeDashoffset",values:"0;-12",dur:"3s",repeatCount:"indefinite"})}),r>=50&&u.jsx("g",{children:[-12,0,12].map((w,O)=>u.jsx("polygon",{points:`${100+w},18 ${97+w},24 ${103+w},24`,fill:"#fbbf24",fillOpacity:"0.6",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.6;0.3;0.6",dur:`${1.5+O*.2}s`,repeatCount:"indefinite"})},O))})]}),r>=30&&u.jsxs("g",{filter:"url(#av-bloom)",children:[u.jsx("path",{d:r>=50?"M60 100 Q20 60 30 30 Q40 50 55 70 Q35 60 25 40 Q38 55 55 80 Z":"M62 110 Q35 80 42 55 Q48 70 58 85 Z",fill:r>=50?"rgba(251,191,36,0.15)":"rgba(139,92,246,0.12)",stroke:r>=50?"#fbbf24":"#a78bfa",strokeWidth:"0.5",strokeOpacity:"0.4",children:u.jsx("animate",{attributeName:"opacity",values:"0.8;0.5;0.8",dur:"3s",repeatCount:"indefinite"})}),u.jsx("path",{d:r>=50?"M140 100 Q180 60 170 30 Q160 50 145 70 Q165 60 175 40 Q162 55 145 80 Z":"M138 110 Q165 80 158 55 Q152 70 142 85 Z",fill:r>=50?"rgba(251,191,36,0.15)":"rgba(139,92,246,0.12)",stroke:r>=50?"#fbbf24":"#a78bfa",strokeWidth:"0.5",strokeOpacity:"0.4",children:u.jsx("animate",{attributeName:"opacity",values:"0.5;0.8;0.5",dur:"3s",repeatCount:"indefinite"})})]}),r>=5&&u.jsxs("g",{children:[u.jsx("line",{x1:"56",y1:"92",x2:"48",y2:"98",stroke:`hsl(${a+180}, 70%, 50%)`,strokeWidth:"1",strokeOpacity:.15+r*.005}),u.jsx("line",{x1:"144",y1:"92",x2:"152",y2:"98",stroke:`hsl(${a+180}, 70%, 50%)`,strokeWidth:"1",strokeOpacity:.15+r*.005}),r>=15&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:"85",y1:"105",x2:"80",y2:"180",stroke:`hsl(${a+180}, 60%, 50%)`,strokeWidth:"0.4",strokeOpacity:"0.15",strokeDasharray:"2 4",children:u.jsx("animate",{attributeName:"strokeDashoffset",values:"0;-12",dur:"2.5s",repeatCount:"indefinite"})}),u.jsx("line",{x1:"115",y1:"105",x2:"120",y2:"180",stroke:`hsl(${a+180}, 60%, 50%)`,strokeWidth:"0.4",strokeOpacity:"0.15",strokeDasharray:"2 4",children:u.jsx("animate",{attributeName:"strokeDashoffset",values:"0;-12",dur:"2.5s",repeatCount:"indefinite"})})]})]}),r>=5&&u.jsx("g",{filter:"url(#av-soft)",children:Array.from({length:Math.min(10,Math.floor(r/5))}).map((w,O)=>{const R=O*360/Math.min(10,Math.floor(r/5))*(Math.PI/180),C=100+Math.cos(R)*(40+O*3),B=140+Math.sin(R)*(60+O*2),I=r>=50?"#fbbf24":r>=30?"#a78bfa":r>=15?"#60a5fa":`hsl(${a+180}, 70%, 60%)`;return u.jsxs("circle",{cx:C,cy:B,r:"1",fill:I,fillOpacity:"0.4",children:[u.jsx("animate",{attributeName:"cy",values:`${B};${B-15};${B}`,dur:`${2+O*.4}s`,repeatCount:"indefinite"}),u.jsx("animate",{attributeName:"fillOpacity",values:"0.4;0;0.4",dur:`${2+O*.4}s`,repeatCount:"indefinite"})]},O)})}),n&&i&&u.jsx("g",{filter:"url(#av-soft)",children:Array.from({length:8}).map((w,O)=>{const R=60+Math.random()*80,C=20+Math.random()*260;return u.jsxs("circle",{cx:R,cy:C,r:1+Math.random(),fill:i,fillOpacity:"0.5",children:[u.jsx("animate",{attributeName:"cy",values:`${C};${C-30};${C}`,dur:`${3+O*.5}s`,repeatCount:"indefinite"}),u.jsx("animate",{attributeName:"fillOpacity",values:"0.5;0;0.5",dur:`${3+O*.5}s`,repeatCount:"indefinite"})]},`cosmetic-${O}`)})})]})]})},RE=[{id:"first_steps",title:"First Steps",description:"Earn your first 100 XP",icon:"",category:"PROGRESSION",condition:{type:"XP_TOTAL",target:100},xpReward:25},{id:"rising_star",title:"Rising Star",description:"Reach Level 5",icon:"",category:"PROGRESSION",condition:{type:"LEVEL_REACHED",target:5},xpReward:100,fluxReward:50},{id:"veteran",title:"Veteran Operative",description:"Reach Level 10",icon:"",category:"PROGRESSION",condition:{type:"LEVEL_REACHED",target:10},xpReward:250,fluxReward:100},{id:"elite",title:"Elite Agent",description:"Reach Level 25",icon:"",category:"PROGRESSION",condition:{type:"LEVEL_REACHED",target:25},xpReward:500,fluxReward:250},{id:"legend",title:"Living Legend",description:"Reach Level 50",icon:"",category:"PROGRESSION",condition:{type:"LEVEL_REACHED",target:50},xpReward:1e3,fluxReward:500,isSecret:!0},{id:"xp_5k",title:"Knowledge Seeker",description:"Accumulate 5,000 total XP",icon:"",category:"PROGRESSION",condition:{type:"XP_TOTAL",target:5e3},xpReward:150},{id:"xp_25k",title:"Scholar Supreme",description:"Accumulate 25,000 total XP",icon:"",category:"PROGRESSION",condition:{type:"XP_TOTAL",target:25e3},xpReward:500,fluxReward:200},{id:"collector_10",title:"Gear Collector",description:"Collect 10 items",icon:"",category:"COLLECTION",condition:{type:"ITEMS_COLLECTED",target:10},xpReward:50},{id:"collector_50",title:"Hoarder",description:"Collect 50 items",icon:"",category:"COLLECTION",condition:{type:"ITEMS_COLLECTED",target:50},xpReward:150,fluxReward:75},{id:"gear_score_100",title:"Well Equipped",description:"Achieve a Gear Score of 100",icon:"",category:"COLLECTION",condition:{type:"GEAR_SCORE",target:100},xpReward:100},{id:"gear_score_500",title:"Walking Arsenal",description:"Achieve a Gear Score of 500",icon:"",category:"COLLECTION",condition:{type:"GEAR_SCORE",target:500},xpReward:300,fluxReward:150,isSecret:!0},{id:"first_mission",title:"Field Agent",description:"Complete your first mission",icon:"",category:"COMBAT",condition:{type:"QUESTS_COMPLETED",target:1},xpReward:50},{id:"mission_5",title:"Seasoned Operative",description:"Complete 5 missions",icon:"",category:"COMBAT",condition:{type:"QUESTS_COMPLETED",target:5},xpReward:150},{id:"mission_20",title:"Mission Master",description:"Complete 20 missions",icon:"",category:"COMBAT",condition:{type:"QUESTS_COMPLETED",target:20},xpReward:400,fluxReward:200},{id:"boss_slayer",title:"Boss Slayer",description:"Help defeat 3 bosses",icon:"",category:"COMBAT",condition:{type:"BOSS_KILLS",target:3},xpReward:300,fluxReward:150},{id:"streak_3",title:"Consistent",description:"Maintain a 3-week engagement streak",icon:"",category:"DEDICATION",condition:{type:"STREAK_WEEKS",target:3},xpReward:75},{id:"streak_8",title:"Unstoppable",description:"Maintain an 8-week engagement streak",icon:"",category:"DEDICATION",condition:{type:"STREAK_WEEKS",target:8},xpReward:200,fluxReward:100},{id:"streak_16",title:"Iron Will",description:"Maintain a 16-week engagement streak",icon:"",category:"DEDICATION",condition:{type:"STREAK_WEEKS",target:16},xpReward:500,fluxReward:250,isSecret:!0},{id:"login_7",title:"Daily Devotion",description:"Log in 7 days in a row",icon:"",category:"DEDICATION",condition:{type:"LOGIN_STREAK",target:7},xpReward:100},{id:"login_30",title:"Month of Mastery",description:"Log in 30 days in a row",icon:"",category:"DEDICATION",condition:{type:"LOGIN_STREAK",target:30},xpReward:300,fluxReward:150,isSecret:!0},{id:"challenges_10",title:"Challenge Accepted",description:"Complete 10 daily challenges",icon:"",category:"DEDICATION",condition:{type:"CHALLENGES_COMPLETED",target:10},xpReward:100},{id:"tutor_1",title:"Helpful Hand",description:"Complete 1 peer tutoring session",icon:"",category:"SOCIAL",condition:{type:"TUTORING_SESSIONS",target:1},xpReward:75},{id:"tutor_10",title:"Mentor",description:"Complete 10 peer tutoring sessions",icon:"",category:"SOCIAL",condition:{type:"TUTORING_SESSIONS",target:10},xpReward:300,fluxReward:200},{id:"tech_50",title:"Tech Wizard",description:"Reach 50 Tech stat",icon:"",category:"MASTERY",condition:{type:"STAT_THRESHOLD",target:50,stat:"tech"},xpReward:100},{id:"focus_50",title:"Zen Master",description:"Reach 50 Focus stat",icon:"",category:"MASTERY",condition:{type:"STAT_THRESHOLD",target:50,stat:"focus"},xpReward:100},{id:"analysis_50",title:"Sharp Mind",description:"Reach 50 Analysis stat",icon:"",category:"MASTERY",condition:{type:"STAT_THRESHOLD",target:50,stat:"analysis"},xpReward:100},{id:"charisma_50",title:"Silver Tongue",description:"Reach 50 Charisma stat",icon:"",category:"MASTERY",condition:{type:"STAT_THRESHOLD",target:50,stat:"charisma"},xpReward:100},{id:"craft_10",title:"Artisan",description:"Craft items 10 times",icon:"",category:"MASTERY",condition:{type:"ITEMS_CRAFTED",target:10},xpReward:100,fluxReward:50}],U5e=t=>RE.filter(e=>!e.isSecret||t.includes(e.id)),z5e={THEORIST:{name:"Theorist",description:"Master of physics theory and mathematical modeling",color:"blue",icon:""},EXPERIMENTALIST:{name:"Experimentalist",description:"Expert in lab work and hands-on experimentation",color:"green",icon:""},ANALYST:{name:"Analyst",description:"Data-driven problem solver and pattern recognizer",color:"yellow",icon:""},DIPLOMAT:{name:"Diplomat",description:"Collaborative leader who excels in group work",color:"purple",icon:""}},AK=[{id:"th_1",name:"Equation Mind",description:"+5 Analysis from equipment",specialization:"THEORIST",tier:1,cost:1,prerequisites:[],effect:{type:"STAT_BOOST",stat:"analysis",value:5},icon:""},{id:"th_2",name:"Deep Thinker",description:"+10% XP from review questions",specialization:"THEORIST",tier:1,cost:1,prerequisites:[],effect:{type:"XP_MULTIPLIER",value:.1},icon:""},{id:"th_3",name:"Theoretical Framework",description:"+8 Analysis from equipment",specialization:"THEORIST",tier:2,cost:2,prerequisites:["th_1"],effect:{type:"STAT_BOOST",stat:"analysis",value:8},icon:""},{id:"th_4",name:"Thought Experiment",description:"+15% XP from study materials",specialization:"THEORIST",tier:2,cost:2,prerequisites:["th_2"],effect:{type:"XP_MULTIPLIER",value:.15},icon:""},{id:"th_5",name:"Unified Theory",description:"+12 Analysis, +5 Tech",specialization:"THEORIST",tier:3,cost:3,prerequisites:["th_3","th_4"],effect:{type:"STAT_BOOST",stat:"analysis",value:12},icon:""},{id:"th_6",name:"Grand Theorem",description:"+25% XP from all sources",specialization:"THEORIST",tier:4,cost:5,prerequisites:["th_5"],effect:{type:"XP_MULTIPLIER",value:.25},icon:""},{id:"ex_1",name:"Lab Safety",description:"+5 Tech from equipment",specialization:"EXPERIMENTALIST",tier:1,cost:1,prerequisites:[],effect:{type:"STAT_BOOST",stat:"tech",value:5},icon:""},{id:"ex_2",name:"Hands-On Learning",description:"+10% XP from engagement",specialization:"EXPERIMENTALIST",tier:1,cost:1,prerequisites:[],effect:{type:"XP_MULTIPLIER",value:.1},icon:""},{id:"ex_3",name:"Precision Tools",description:"+8 Tech from equipment",specialization:"EXPERIMENTALIST",tier:2,cost:2,prerequisites:["ex_1"],effect:{type:"STAT_BOOST",stat:"tech",value:8},icon:""},{id:"ex_4",name:"Data Collection",description:"Crafting costs 20% less Flux",specialization:"EXPERIMENTALIST",tier:2,cost:2,prerequisites:["ex_2"],effect:{type:"FLUX_DISCOUNT",value:.2},icon:""},{id:"ex_5",name:"Breakthrough",description:"+12 Tech, crafting improves tier by +1",specialization:"EXPERIMENTALIST",tier:3,cost:3,prerequisites:["ex_3","ex_4"],effect:{type:"CRAFT_BONUS",value:1},icon:""},{id:"ex_6",name:"Master Inventor",description:"+20% better craft results",specialization:"EXPERIMENTALIST",tier:4,cost:5,prerequisites:["ex_5"],effect:{type:"CRAFT_BONUS",value:2},icon:""},{id:"an_1",name:"Pattern Recognition",description:"+5 Focus from equipment",specialization:"ANALYST",tier:1,cost:1,prerequisites:[],effect:{type:"STAT_BOOST",stat:"focus",value:5},icon:""},{id:"an_2",name:"Streak Amplifier",description:"Streak bonuses increased by 50%",specialization:"ANALYST",tier:1,cost:1,prerequisites:[],effect:{type:"STREAK_BONUS",value:.5},icon:""},{id:"an_3",name:"Critical Analysis",description:"+8 Focus from equipment",specialization:"ANALYST",tier:2,cost:2,prerequisites:["an_1"],effect:{type:"STAT_BOOST",stat:"focus",value:8},icon:""},{id:"an_4",name:"Efficiency Expert",description:"+15% XP from engagement time",specialization:"ANALYST",tier:2,cost:2,prerequisites:["an_2"],effect:{type:"XP_MULTIPLIER",value:.15},icon:""},{id:"an_5",name:"Predictive Model",description:"+12 Focus, streak bonus doubled",specialization:"ANALYST",tier:3,cost:3,prerequisites:["an_3","an_4"],effect:{type:"STREAK_BONUS",value:1},icon:""},{id:"an_6",name:"Omniscient",description:"+30% XP from all quiz answers",specialization:"ANALYST",tier:4,cost:5,prerequisites:["an_5"],effect:{type:"XP_MULTIPLIER",value:.3},icon:""},{id:"di_1",name:"Team Player",description:"+5 Charisma from equipment",specialization:"DIPLOMAT",tier:1,cost:1,prerequisites:[],effect:{type:"STAT_BOOST",stat:"charisma",value:5},icon:""},{id:"di_2",name:"Group Synergy",description:"+20% XP from group quests",specialization:"DIPLOMAT",tier:1,cost:1,prerequisites:[],effect:{type:"QUEST_BONUS",value:.2},icon:""},{id:"di_3",name:"Inspiring Presence",description:"+8 Charisma from equipment",specialization:"DIPLOMAT",tier:2,cost:2,prerequisites:["di_1"],effect:{type:"STAT_BOOST",stat:"charisma",value:8},icon:""},{id:"di_4",name:"Peer Mentor",description:"+50% tutoring rewards",specialization:"DIPLOMAT",tier:2,cost:2,prerequisites:["di_2"],effect:{type:"QUEST_BONUS",value:.5},icon:""},{id:"di_5",name:"Natural Leader",description:"+12 Charisma, party size +1",specialization:"DIPLOMAT",tier:3,cost:3,prerequisites:["di_3","di_4"],effect:{type:"STAT_BOOST",stat:"charisma",value:12},icon:""},{id:"di_6",name:"Commander",description:"All party members get +10% XP",specialization:"DIPLOMAT",tier:4,cost:5,prerequisites:["di_5"],effect:{type:"XP_MULTIPLIER",value:.1},icon:""}],uU=(t,e)=>{const r=AK.find(n=>n.id===t);return r?r.prerequisites.every(n=>e.includes(n)):!1},V5e=[{id:"tesla_set",name:"Tesla's Arsenal",description:"Gear infused with electromagnetic energy",itemIds:["Data Gauntlets","Neural Band","Circuit Ring"],bonuses:[{count:2,label:"2-Piece: Spark",effects:[{stat:"tech",value:10}]},{count:3,label:"3-Piece: Overcharge",effects:[{stat:"tech",value:25},{stat:"focus",value:10}]}]},{id:"newton_set",name:"Newton's Laws",description:"Classical mechanics manifested in gear",itemIds:["Fiber Helm","Polymer Vest","Mag-Boots"],bonuses:[{count:2,label:"2-Piece: Inertia",effects:[{stat:"analysis",value:10}]},{count:3,label:"3-Piece: Force Field",effects:[{stat:"analysis",value:25},{stat:"charisma",value:10}]}]},{id:"curie_set",name:"Curie's Focus",description:"Gear radiating determination and precision",itemIds:["Precision Grips","Quantum Chip","Focus Band"],bonuses:[{count:2,label:"2-Piece: Concentration",effects:[{stat:"focus",value:10}]},{count:3,label:"3-Piece: Radiance",effects:[{stat:"focus",value:25},{stat:"analysis",value:10}]}]},{id:"diplomat_set",name:"Diplomat's Ensemble",description:"Gear designed for collaboration and leadership",itemIds:["Exo-Plate","Utility Belt","Resonance Core"],bonuses:[{count:2,label:"2-Piece: Rapport",effects:[{stat:"charisma",value:10}]},{count:3,label:"3-Piece: Aura of Command",effects:[{stat:"charisma",value:25},{stat:"tech",value:10}]}]}],EK=t=>{const e=[],r=t.map(n=>n.baseName);for(const n of V5e){const i=n.itemIds.filter(s=>r.includes(s)).length,a=n.bonuses.filter(s=>i>=s.count).sort((s,c)=>c.count-s.count);a.length>0&&e.push({set:n,activeBonus:a[0]})}return e},$5e=[{id:"w_xp_50",label:"50 XP",type:"XP",value:50,weight:25,color:"#3b82f6"},{id:"w_xp_100",label:"100 XP",type:"XP",value:100,weight:18,color:"#6366f1"},{id:"w_xp_250",label:"250 XP",type:"XP",value:250,weight:8,color:"#8b5cf6"},{id:"w_flux_10",label:"10 Flux",type:"FLUX",value:10,weight:20,color:"#06b6d4"},{id:"w_flux_25",label:"25 Flux",type:"FLUX",value:25,weight:12,color:"#0891b2"},{id:"w_flux_100",label:"100 Flux",type:"FLUX",value:100,weight:3,color:"#0e7490"},{id:"w_item_common",label:"Common Item",type:"ITEM",value:1,rarity:"COMMON",weight:15,color:"#64748b"},{id:"w_item_uncommon",label:"Uncommon Item",type:"ITEM",value:1,rarity:"UNCOMMON",weight:8,color:"#22c55e"},{id:"w_item_rare",label:"Rare Item!",type:"ITEM",value:1,rarity:"RARE",weight:3,color:"#eab308"},{id:"w_gem",label:"Random Gem",type:"GEM",value:1,weight:10,color:"#ec4899"},{id:"w_skillpt",label:"Skill Point",type:"SKILL_POINT",value:1,weight:5,color:"#a855f7"},{id:"w_nothing",label:"Try Again!",type:"NOTHING",value:0,weight:15,color:"#374151"}],dU=[{level:1,name:"Recruit",description:"Standard-issue operative suit",visualEffects:{glowIntensity:.1,particleCount:0,armorDetail:"BASIC",wingType:"NONE",crownType:"NONE"}},{level:5,name:"Agent",description:"Enhanced suit with energy conduits",visualEffects:{glowIntensity:.25,particleCount:2,armorDetail:"ENHANCED",wingType:"NONE",crownType:"NONE"}},{level:15,name:"Specialist",description:"Advanced armor plating with integrated systems",visualEffects:{glowIntensity:.5,particleCount:4,armorDetail:"ADVANCED",wingType:"NONE",crownType:"CIRCLET"}},{level:30,name:"Commander",description:"Legendary suit with energy wings",visualEffects:{glowIntensity:.75,particleCount:6,armorDetail:"LEGENDARY",wingType:"ENERGY",crownType:"HALO"}},{level:50,name:"Mythic",description:"Transcendent form with crystalline wings and crown",visualEffects:{glowIntensity:1,particleCount:10,armorDetail:"MYTHIC",wingType:"PHOENIX",crownType:"CROWN"}}],NK=t=>[...dU].sort((r,n)=>n.level-r.level).find(r=>t>=r.level)||dU[0],F5e=t=>t<=0?1:t<=2?1.05:t<=4?1.1:t<=7?1.15:t<=12?1.25:1.5,q5e={PROGRESSION:{label:"Progression",icon:""},COMBAT:{label:"Missions",icon:""},SOCIAL:{label:"Social",icon:""},COLLECTION:{label:"Collection",icon:""},DEDICATION:{label:"Dedication",icon:""},MASTERY:{label:"Mastery",icon:""}},H5e=({unlockedAchievements:t,achievementProgress:e})=>{const r=F.useMemo(()=>U5e(t),[t]),n=["PROGRESSION","COMBAT","DEDICATION","COLLECTION","MASTERY","SOCIAL"],i=t.length,a=RE.filter(s=>!s.isSecret).length;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[u.jsx(y0,{className:"w-5 h-5 text-yellow-400"})," Achievements"]}),u.jsxs("span",{className:"text-sm text-gray-400",children:[i,"/",a," unlocked"]})]}),u.jsx("div",{className:"w-full bg-white/5 rounded-full h-2",children:u.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-yellow-500 to-amber-500 transition-all duration-500",style:{width:`${i/a*100}%`}})}),n.map(s=>{const c=r.filter(f=>f.category===s);if(c.length===0)return null;const d=q5e[s];return u.jsxs("div",{children:[u.jsxs("h4",{className:"text-xs font-mono uppercase tracking-widest text-gray-500 mb-2 flex items-center gap-1.5",children:[u.jsx("span",{children:d.icon})," ",d.label]}),u.jsx("div",{className:"grid grid-cols-1 gap-2",children:c.map(f=>{const m=t.includes(f.id),p=e[f.id]||0,y=Math.min(100,p/f.condition.target*100);return u.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl border transition-all ${m?"border-yellow-500/30 bg-yellow-500/5":"border-white/5 bg-white/3"}`,children:[u.jsx("span",{className:`text-2xl ${m?"":"grayscale opacity-40"}`,children:f.icon}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-sm font-bold ${m?"text-yellow-400":"text-gray-400"}`,children:f.title}),f.isSecret&&!m&&u.jsx(cp,{className:"w-3 h-3 text-gray-600"})]}),u.jsx("p",{className:"text-[10px] text-gray-500",children:f.description}),!m&&u.jsxs("div",{className:"mt-1.5 flex items-center gap-2",children:[u.jsx("div",{className:"flex-1 bg-white/5 rounded-full h-1.5",children:u.jsx("div",{className:"h-1.5 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all",style:{width:`${y}%`}})}),u.jsxs("span",{className:"text-[9px] text-gray-600 font-mono",children:[p,"/",f.condition.target]})]})]}),m&&u.jsxs("div",{className:"text-right shrink-0",children:[u.jsxs("div",{className:"text-[10px] text-yellow-500 font-bold",children:["+",f.xpReward," XP"]}),f.fluxReward&&u.jsxs("div",{className:"text-[9px] text-cyan-400 font-bold",children:["+",f.fluxReward," Flux"]})]})]},f.id)})})]},s)})]})},G5e={THEORIST:"from-blue-500 to-cyan-500",EXPERIMENTALIST:"from-green-500 to-emerald-500",ANALYST:"from-yellow-500 to-orange-500",DIPLOMAT:"from-purple-500 to-pink-500"},K5e=({specialization:t,skillPoints:e,unlockedSkills:r})=>{const[n,i]=F.useState(t||null),[a,s]=F.useState(null),c=Ii(),d=!!t,f=n||"THEORIST",m=AK.filter(b=>b.specialization===f),p=[1,2,3,4],y=async(b,T)=>{if(!a){s(b);try{await $e.unlockSkill(b,f,T),pi.skillUnlock(),c.success("Skill unlocked!")}catch(S){c.error(S instanceof Error?S.message:"Failed to unlock")}s(null)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-bold text-white",children:"Specialization"}),u.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg px-3 py-1.5",children:[u.jsx(Dn,{className:"w-4 h-4 text-yellow-400"}),u.jsxs("span",{className:"text-sm font-bold text-yellow-400",children:[e," Skill Points"]})]})]}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(z5e).map(([b,T])=>{const S=f===b,w=d&&t!==b;return u.jsxs("button",{onClick:()=>!w&&i(b),disabled:w,className:`p-3 rounded-xl border text-left transition-all ${S?`border-white/30 bg-gradient-to-br ${G5e[b]} bg-opacity-10`:w?"border-white/5 bg-white/2 opacity-40 cursor-not-allowed":"border-white/10 bg-white/5 hover:bg-white/10 cursor-pointer"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:T.icon}),u.jsx("span",{className:"font-bold text-sm text-white",children:T.name}),w&&u.jsx(cp,{className:"w-3 h-3 text-gray-500 ml-auto"})]}),u.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:T.description})]},b)})}),u.jsx("div",{className:"space-y-4",children:p.map(b=>{const T=m.filter(S=>S.tier===b);return u.jsxs("div",{children:[u.jsxs("p",{className:"text-[10px] font-mono text-gray-600 uppercase tracking-widest mb-2",children:["Tier ",b]}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.map(S=>{const w=r.includes(S.id),O=!w&&uU(S.id,r)&&e>=S.cost,R=uU(S.id,r);return u.jsxs("div",{className:`relative p-3 rounded-xl border transition-all ${w?"border-green-500/30 bg-green-500/10":O?"border-yellow-500/30 bg-yellow-500/5 hover:bg-yellow-500/10 cursor-pointer":"border-white/5 bg-white/3 opacity-50"}`,onClick:()=>O&&y(S.id,S.cost),children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-sm",children:S.icon}),u.jsx("span",{className:"text-xs font-bold text-white truncate",children:S.name}),w&&u.jsx(pn,{className:"w-3.5 h-3.5 text-green-400 ml-auto"}),!w&&!R&&u.jsx(cp,{className:"w-3 h-3 text-gray-600 ml-auto"})]}),u.jsx("p",{className:"text-[10px] text-gray-400",children:S.description}),!w&&u.jsxs("div",{className:"mt-1 text-[9px] font-mono text-gray-600",children:["Cost: ",S.cost," SP"]}),a===S.id&&u.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center",children:u.jsx("div",{className:"w-4 h-4 border-2 border-yellow-400 border-t-transparent rounded-full animate-spin"})})]},S.id)})})]},b)})})]})},fS=25,By=$5e,W5e=({currency:t,lastSpin:e,classType:r})=>{const[n,i]=F.useState(!1),[a,s]=F.useState(0),[c,d]=F.useState(null),f=F.useRef(null),m=Ii(),p=new Date().toISOString().split("T")[0],y=e===p,b=!y&&t>=fS&&!n,T=async()=>{if(b){i(!0),d(null),pi.wheelSpin();try{const O=await $e.spinFortuneWheel(r),R=By.findIndex(I=>I.id===O.prizeId),C=360/By.length,B=360*5+(360-R*C-C/2);s(I=>I+B),setTimeout(()=>{pi.wheelPrize(),d(O.rewardDescription),i(!1),O.prizeType!=="NOTHING"?m.success(`You won: ${O.rewardDescription}!`):m.info(O.rewardDescription)},4e3)}catch(O){i(!1),m.error(O instanceof Error?O.message:"Spin failed")}}},S=360/By.length,w=140;return u.jsxs("div",{className:"flex flex-col items-center gap-6",children:[u.jsx("h3",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500",children:"Fortune Terminal"}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Spend ",fS," Flux for a daily spin"]}),u.jsxs("div",{className:"relative w-[320px] h-[320px]",children:[u.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 z-10 w-0 h-0 border-l-[12px] border-l-transparent border-r-[12px] border-r-transparent border-t-[24px] border-t-yellow-400 drop-shadow-lg"}),u.jsx("svg",{viewBox:"-160 -160 320 320",className:"w-full h-full drop-shadow-2xl",children:u.jsxs("g",{style:{transform:`rotate(${a}deg)`,transformOrigin:"center",transition:n?"transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99)":"none"},ref:f,children:[By.map((O,R)=>{const C=(R*S-90)*(Math.PI/180),B=((R+1)*S-90)*(Math.PI/180),I=w*Math.cos(C),D=w*Math.sin(C),A=w*Math.cos(B),k=w*Math.sin(B),E=S>180?1:0,U=((R+.5)*S-90)*(Math.PI/180),M=w*.65*Math.cos(U),$=w*.65*Math.sin(U),z=(R+.5)*S;return u.jsxs("g",{children:[u.jsx("path",{d:`M0,0 L${I},${D} A${w},${w} 0 ${E},1 ${A},${k} Z`,fill:O.color,stroke:"rgba(255,255,255,0.2)",strokeWidth:"1"}),u.jsx("text",{x:M,y:$,fill:"white",fontSize:"9",fontWeight:"bold",textAnchor:"middle",dominantBaseline:"central",transform:`rotate(${z}, ${M}, ${$})`,children:O.label})]},O.id)}),u.jsx("circle",{cx:"0",cy:"0",r:"18",fill:"#1a1b26",stroke:"rgba(255,255,255,0.3)",strokeWidth:"2"}),u.jsx("text",{x:"0",y:"0",fill:"white",fontSize:"8",fontWeight:"bold",textAnchor:"middle",dominantBaseline:"central",children:"SPIN"})]})})]}),c&&u.jsxs("div",{className:"text-center animate-in fade-in zoom-in duration-300",children:[u.jsx("p",{className:"text-sm text-gray-300",children:"You won:"}),u.jsx("p",{className:"text-lg font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-amber-500",children:c})]}),u.jsx("button",{onClick:T,disabled:!b,className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all ${b?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:scale-105 hover:shadow-lg hover:shadow-purple-500/30":"bg-white/5 text-gray-600 cursor-not-allowed"}`,children:n?"Spinning...":y?"Come back tomorrow!":`Spin (${fS} Flux)`})]})},X5e=({userId:t,userName:e,classType:r})=>{const[n,i]=F.useState([]),[a,s]=F.useState(null),[c,d]=F.useState(null),f=Ii();F.useEffect(()=>{const p=$e.subscribeToBossEncounters(y=>{const b=y.filter(T=>!T.classType||T.classType===r||T.classType==="GLOBAL");i(b)});return()=>p()},[r]);const m=async p=>{if(!a){s(p);try{const y=5+Math.floor(Math.random()*20),b=await $e.dealBossDamage(p,y,e);pi.bossHit(),d({bossId:p,damage:b.damageDealt}),setTimeout(()=>d(null),1500),b.bossDefeated?(pi.bossDefeated(),f.success("Boss defeated! Rewards incoming!")):f.info(`Dealt ${b.damageDealt} damage! (+${b.xpEarned} XP)`)}catch(y){f.error(y instanceof Error?y.message:"Attack failed")}s(null)}};return n.length===0?null:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-red-400 flex items-center gap-2",children:[u.jsx(yae,{className:"w-5 h-5"})," Active Threats"]}),n.map(p=>{var C;const y=p.currentHp/p.maxHp*100,b=new Date(p.deadline).getTime()-Date.now(),T=Math.max(0,Math.floor(b/36e5)),S=[...p.damageLog||[]].reduce((B,I)=>(B[I.userId]||(B[I.userId]={name:I.userName,total:0}),B[I.userId].total+=I.damage,B),{}),w=Object.entries(S).sort(([,B],[,I])=>I.total-B.total).slice(0,5),O=((C=S[t])==null?void 0:C.total)||0,R=(c==null?void 0:c.bossId)===p.id;return u.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-red-500/20 bg-gradient-to-br from-red-950/40 to-black/60",children:[R&&u.jsx("div",{className:"absolute inset-0 bg-red-500/20 animate-ping pointer-events-none",style:{animationDuration:"0.3s",animationIterationCount:1}}),u.jsxs("div",{className:"p-5 space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-black text-red-400",children:p.name}),u.jsx("p",{className:"text-xs text-gray-500",children:p.description})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx(ls,{className:"w-3 h-3"}),T>0?`${T}h left`:"Expiring soon"]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[u.jsxs("span",{className:"text-red-400 font-mono",children:[p.currentHp.toLocaleString()," HP"]}),u.jsx("span",{className:"text-gray-600",children:p.maxHp.toLocaleString()})]}),u.jsx("div",{className:"w-full bg-white/5 rounded-full h-4 overflow-hidden",children:u.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ${y>50?"bg-gradient-to-r from-red-600 to-red-500":y>25?"bg-gradient-to-r from-orange-600 to-yellow-500":"bg-gradient-to-r from-yellow-600 to-green-500"}`,style:{width:`${y}%`}})})]}),R&&c&&u.jsx("div",{className:"text-center animate-bounce",children:u.jsxs("span",{className:"text-xl font-black text-red-400",children:["-",c.damage]})}),O>0&&u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[u.jsx(ss,{className:"w-3 h-3"}),"Your total damage: ",u.jsx("span",{className:"text-white font-bold",children:O})]}),w.length>0&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-600 uppercase tracking-widest",children:[u.jsx(Hc,{className:"w-3 h-3"})," Top Attackers"]}),w.map(([B,I],D)=>u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsxs("span",{className:`${B===t?"text-cyan-400 font-bold":"text-gray-400"}`,children:["#",D+1," ",I.name]}),u.jsxs("span",{className:"text-red-400 font-mono",children:[I.total," dmg"]})]},B))]}),u.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-500 border-t border-white/5 pt-3",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Dn,{className:"w-3 h-3 text-yellow-400"})," ",p.completionRewards.xp," XP"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-cyan-400",children:"~"})," ",p.completionRewards.flux," Flux"]}),p.completionRewards.itemRarity&&u.jsxs("span",{className:"text-purple-400",children:[p.completionRewards.itemRarity," item"]})]}),u.jsx("button",{onClick:()=>m(p.id),disabled:!!a,className:`w-full py-2.5 rounded-xl font-bold text-sm transition-all ${a===p.id?"bg-red-500/20 text-red-400 animate-pulse":"bg-gradient-to-r from-red-600 to-orange-600 text-white hover:scale-[1.02] hover:shadow-lg hover:shadow-red-500/30"}`,children:a===p.id?"Attacking...":"Attack!"})]})]},p.id)})]})},Y5e=({classType:t})=>{const[e,r]=F.useState([]),[n,i]=F.useState(0),[a,s]=F.useState(null),[c,d]=F.useState(null),[f,m]=F.useState(!1),p=Ii();F.useEffect(()=>{const b=$e.subscribeToBossQuizzes(t,r);return()=>b()},[t]);const y=async(b,T,S)=>{if(!f){m(!0),s(S);try{const w=await $e.answerBossQuiz(b,T,S);w.alreadyAnswered?p.info("Already answered this question!"):w.correct?(pi.bossHit(),p.success(`Correct! Dealt ${w.damage} damage!`)):p.error("Incorrect. No damage dealt."),d({correct:w.correct,damage:w.damage}),setTimeout(()=>{i(O=>O+1),s(null),d(null)},2e3)}catch(w){p.error(w instanceof Error?w.message:"Failed to submit answer")}m(!1)}};return e.length===0?null:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-amber-400 flex items-center gap-2",children:[u.jsx(lh,{className:"w-5 h-5"})," Boss Quiz Challenge"]}),e.map(b=>{const T=b.currentHp/b.maxHp*100,S=b.questions[n%b.questions.length],w=n>=b.questions.length;return u.jsxs("div",{className:"rounded-2xl border border-amber-500/20 bg-gradient-to-br from-amber-950/30 to-black/50 p-5 space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-base font-black text-amber-400",children:b.bossName}),u.jsx("p",{className:"text-xs text-gray-500",children:b.description})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[u.jsxs("span",{className:"text-red-400 font-mono",children:[b.currentHp," HP"]}),u.jsx("span",{className:"text-gray-600",children:b.maxHp})]}),u.jsx("div",{className:"w-full bg-white/5 rounded-full h-3 overflow-hidden",children:u.jsx("div",{className:"h-3 rounded-full bg-gradient-to-r from-red-600 to-orange-500 transition-all duration-500",style:{width:`${T}%`}})})]}),w?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(pn,{className:"w-12 h-12 text-green-400 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-gray-300",children:"All questions answered!"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Check back for more questions tomorrow."})]}):S?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[u.jsxs("span",{children:["Question ",n+1," / ",b.questions.length]}),u.jsxs("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${S.difficulty==="HARD"?"bg-red-500/20 text-red-400":S.difficulty==="MEDIUM"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:[S.difficulty,S.damageBonus?` (+${S.damageBonus} dmg)`:""]})]}),u.jsx("p",{className:"text-sm text-white font-medium",children:S.stem}),u.jsx("div",{className:"space-y-2",children:S.options.map((O,R)=>{const C=a===R,B=c&&C,I=c==null?void 0:c.correct;return u.jsx("button",{onClick:()=>y(b.id,S.id,R),disabled:f||!!c,className:`w-full text-left p-3 rounded-xl border text-sm transition-all ${B&&I?"border-green-500/50 bg-green-500/10 text-green-400":B&&!I?"border-red-500/50 bg-red-500/10 text-red-400":C?"border-amber-500/30 bg-amber-500/10":"border-white/10 bg-white/5 hover:bg-white/10 text-gray-300"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-xs font-mono text-gray-600 w-5",children:[String.fromCharCode(65+R),"."]}),u.jsx("span",{children:O}),B&&I&&u.jsx(pn,{className:"w-4 h-4 text-green-400 ml-auto"}),B&&!I&&u.jsx(op,{className:"w-4 h-4 text-red-400 ml-auto"})]})},R)})}),c&&c.correct&&u.jsxs("div",{className:"text-center text-sm text-amber-400 font-bold animate-bounce",children:[u.jsx(Dn,{className:"w-4 h-4 inline mr-1"}),"-",c.damage," HP!"]})]}):null,u.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-500 border-t border-white/5 pt-3",children:[u.jsx("span",{children:"Defeat rewards:"}),u.jsxs("span",{className:"text-yellow-400",children:[b.rewards.xp," XP"]}),u.jsxs("span",{className:"text-cyan-400",children:[b.rewards.flux," Flux"]}),b.rewards.itemRarity&&u.jsxs("span",{className:"text-purple-400",children:[b.rewards.itemRarity," item"]})]})]},b.id)})]})},Q5e=({activeChallenges:t,classType:e})=>{const[r,n]=F.useState([]),[i,a]=F.useState(null),s=Ii();F.useEffect(()=>{const y=$e.subscribeToDailyChallenges(n);return()=>y()},[]);const c=y=>t.find(b=>b.challengeId===y),d=async y=>{if(!i){a(y);try{const b=await $e.claimDailyChallenge(y,e);pi.dailyReward(),s.success(`Claimed! +${b.xpReward} XP${b.fluxReward?` +${b.fluxReward} Flux`:""}`)}catch(b){s.error(b instanceof Error?b.message:"Claim failed")}a(null)}};if(r.length===0)return null;const f=r.filter(y=>!y.isWeekly),m=r.filter(y=>y.isWeekly),p=y=>{const b=c(y.id),T=(b==null?void 0:b.progress)||0,S=(b==null?void 0:b.completed)||!1,w=!!(b!=null&&b.claimedAt),O=Math.min(100,T/y.target*100);return u.jsx("div",{className:`p-3 rounded-xl border transition-all ${w?"border-green-500/20 bg-green-500/5 opacity-60":S?"border-yellow-500/30 bg-yellow-500/5":"border-white/10 bg-white/5"}`,children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`mt-0.5 p-1.5 rounded-lg ${S?"bg-yellow-500/20":"bg-white/5"}`,children:w?u.jsx(pn,{className:"w-4 h-4 text-green-400"}):S?u.jsx(Xie,{className:"w-4 h-4 text-yellow-400"}):u.jsx(go,{className:"w-4 h-4 text-gray-400"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-bold text-white",children:y.title}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsxs("span",{className:"text-[10px] text-yellow-400 font-bold",children:["+",y.xpReward," XP"]}),y.fluxReward&&u.jsxs("span",{className:"text-[10px] text-cyan-400 font-bold",children:["+",y.fluxReward]})]})]}),u.jsx("p",{className:"text-[11px] text-gray-400 mt-0.5",children:y.description}),!w&&u.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[u.jsx("div",{className:"flex-1 bg-white/5 rounded-full h-1.5",children:u.jsx("div",{className:`h-1.5 rounded-full transition-all ${S?"bg-gradient-to-r from-yellow-500 to-amber-500":"bg-gradient-to-r from-purple-500 to-pink-500"}`,style:{width:`${O}%`}})}),u.jsxs("span",{className:"text-[9px] text-gray-600 font-mono",children:[T,"/",y.target]})]}),S&&!w&&u.jsx("button",{onClick:()=>d(y.id),disabled:!!i,className:"mt-2 px-3 py-1 bg-gradient-to-r from-yellow-600 to-amber-600 text-white text-xs font-bold rounded-lg hover:scale-105 transition-all",children:i===y.id?"Claiming...":"Claim Reward"})]})]})},y.id)};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[u.jsx(Uie,{className:"w-5 h-5 text-purple-400"})," Daily Challenges"]}),u.jsx("div",{className:"space-y-2",children:f.map(p)}),m.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("h4",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mt-4 flex items-center gap-1",children:[u.jsx(Dn,{className:"w-3 h-3 text-cyan-400"})," Weekly Challenge"]}),u.jsx("div",{className:"space-y-2",children:m.map(p)})]})]})},mS={OPEN:"bg-blue-500/10 text-blue-400 border-blue-500/20",MATCHED:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",IN_PROGRESS:"bg-purple-500/10 text-purple-400 border-purple-500/20",COMPLETED:"bg-orange-500/10 text-orange-400 border-orange-500/20",VERIFIED:"bg-green-500/10 text-green-400 border-green-500/20"},Z5e=({userId:t,userName:e,classType:r,isAdmin:n})=>{const[i,a]=F.useState([]),[s,c]=F.useState(!1),[d,f]=F.useState(""),[m,p]=F.useState(!1),y=Ii();F.useEffect(()=>{const C=$e.subscribeToTutoringSessions(r,a);return()=>C()},[r]);const b=async()=>{if(!(!d.trim()||m)){p(!0);try{await $e.createTutoringRequest(t,e,d,r),y.success("Tutoring request posted!"),f(""),c(!1)}catch{y.error("Failed to create request")}p(!1)}},T=async C=>{try{await $e.claimTutorRole(C,t,e),y.success("You are now the tutor for this session!")}catch{y.error("Failed to claim tutor role")}},S=async(C,B)=>{try{const I=await $e.completeTutoring(C,B);y.success(`Verified! Tutor earned ${I.xpAwarded} XP and ${I.fluxAwarded} Flux`)}catch{y.error("Failed to verify session")}},w=i.filter(C=>C.status==="OPEN"),O=i.filter(C=>["MATCHED","IN_PROGRESS"].includes(C.status)),R=i.filter(C=>["COMPLETED","VERIFIED"].includes(C.status));return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[u.jsx(ch,{className:"w-5 h-5 text-green-400"})," Peer Tutoring"]}),u.jsxs("button",{onClick:()=>c(!s),className:"flex items-center gap-1 px-3 py-1.5 bg-green-600/20 border border-green-500/30 text-green-400 text-xs font-bold rounded-lg hover:bg-green-600/30 transition",children:[u.jsx(bl,{className:"w-3 h-3"})," Request Help"]})]}),u.jsx("p",{className:"text-xs text-gray-500",children:"Help classmates and earn XP + Cyber-Flux rewards!"}),s&&u.jsxs("div",{className:"p-3 bg-white/5 border border-white/10 rounded-xl space-y-2",children:[u.jsx("input",{value:d,onChange:C=>f(C.target.value),placeholder:"What do you need help with?",className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-gray-600 focus:outline-none focus:border-green-500/50",maxLength:200}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:b,disabled:!d.trim()||m,className:"px-4 py-1.5 bg-green-600 text-white text-xs font-bold rounded-lg hover:bg-green-500 transition disabled:opacity-50",children:m?"Posting...":"Post Request"}),u.jsx("button",{onClick:()=>c(!1),className:"px-3 py-1.5 text-gray-400 text-xs hover:text-white transition",children:"Cancel"})]})]}),w.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-[10px] font-mono uppercase tracking-widest text-gray-600 flex items-center gap-1",children:[u.jsx(tv,{className:"w-3 h-3"})," Open Requests"]}),w.map(C=>u.jsxs("div",{className:"p-3 bg-white/5 border border-white/10 rounded-xl",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-white font-medium",children:C.topic}),u.jsxs("p",{className:"text-[10px] text-gray-500 mt-0.5",children:["Requested by ",C.requesterName," - ",new Date(C.createdAt).toLocaleDateString()]})]}),u.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${mS[C.status]}`,children:C.status})]}),C.requesterId!==t&&u.jsxs("button",{onClick:()=>T(C.id),className:"mt-2 px-3 py-1 bg-blue-600/20 border border-blue-500/30 text-blue-400 text-xs font-bold rounded-lg hover:bg-blue-600/30 transition",children:[u.jsx(Hc,{className:"w-3 h-3 inline mr-1"})," I can help!"]})]},C.id))]}),O.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-[10px] font-mono uppercase tracking-widest text-gray-600 flex items-center gap-1",children:[u.jsx(ls,{className:"w-3 h-3"})," Active Sessions"]}),O.map(C=>u.jsxs("div",{className:"p-3 bg-purple-500/5 border border-purple-500/20 rounded-xl",children:[u.jsx("p",{className:"text-sm text-white font-medium",children:C.topic}),u.jsxs("p",{className:"text-[10px] text-gray-500",children:[C.requesterName,"  ",C.tutorName||"Finding tutor..."]}),u.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${mS[C.status]} mt-1 inline-block`,children:C.status}),n&&C.tutorId&&C.status!=="VERIFIED"&&u.jsxs("button",{onClick:()=>S(C.id,C.tutorId),className:"mt-2 ml-2 px-3 py-1 bg-green-600/20 border border-green-500/30 text-green-400 text-xs font-bold rounded-lg",children:[u.jsx(pn,{className:"w-3 h-3 inline mr-1"})," Verify & Award"]})]},C.id))]}),R.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-[10px] font-mono uppercase tracking-widest text-gray-600 flex items-center gap-1",children:[u.jsx(pn,{className:"w-3 h-3 text-green-400"})," Completed (",R.length,")"]}),R.slice(0,3).map(C=>u.jsxs("div",{className:"p-2 bg-green-500/5 border border-green-500/10 rounded-lg flex justify-between items-center",children:[u.jsx("span",{className:"text-xs text-gray-400 truncate",children:C.topic}),u.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${mS[C.status]}`,children:C.status})]},C.id))]}),i.length===0&&u.jsxs("div",{className:"text-center py-6 text-gray-600",children:[u.jsx(ch,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),u.jsx("p",{className:"text-xs",children:"No tutoring sessions yet. Be the first to ask for help!"})]})]})},J5e=({item:t,onClose:e})=>{const[r,n]=F.useState("chest"),i=zr(t.rarity);F.useEffect(()=>{pi.chestOpen();const s=setTimeout(()=>n("opening"),800),c=setTimeout(()=>n("reveal"),1800);return()=>{clearTimeout(s),clearTimeout(c)}},[]);const a={COMMON:"shadow-gray-500/30",UNCOMMON:"shadow-green-500/40",RARE:"shadow-blue-500/50",UNIQUE:"shadow-yellow-500/60"};return u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[60] flex items-center justify-center",onClick:r==="reveal"?e:void 0,children:u.jsxs("div",{className:"text-center space-y-6",children:[r==="chest"&&u.jsxs("div",{className:"animate-in zoom-in duration-500",children:[u.jsxs("svg",{viewBox:"0 0 100 100",className:"w-32 h-32 mx-auto",children:[u.jsx("rect",{x:"15",y:"40",width:"70",height:"45",rx:"5",fill:"#8B4513",stroke:"#654321",strokeWidth:"2"}),u.jsx("path",{d:"M12 40 Q50 20 88 40 L85 45 Q50 28 15 45 Z",fill:"#A0522D",stroke:"#654321",strokeWidth:"1.5"}),u.jsx("circle",{cx:"50",cy:"55",r:"6",fill:"#DAA520",stroke:"#B8860B",strokeWidth:"1.5"}),u.jsx("rect",{x:"47",y:"55",width:"6",height:"10",rx:"1",fill:"#DAA520",stroke:"#B8860B",strokeWidth:"1"}),u.jsxs("circle",{cx:"50",cy:"55",r:"15",fill:"rgba(255,215,0,0.15)",children:[u.jsx("animate",{attributeName:"r",values:"15;20;15",dur:"1.5s",repeatCount:"indefinite"}),u.jsx("animate",{attributeName:"opacity",values:"0.15;0.3;0.15",dur:"1.5s",repeatCount:"indefinite"})]})]}),u.jsx("p",{className:"text-sm text-gray-400 mt-4 animate-pulse",children:"Opening..."})]}),r==="opening"&&u.jsx("div",{className:"animate-in zoom-in duration-300",children:u.jsxs("svg",{viewBox:"0 0 100 100",className:"w-32 h-32 mx-auto",children:[u.jsx("rect",{x:"15",y:"45",width:"70",height:"40",rx:"5",fill:"#8B4513",stroke:"#654321",strokeWidth:"2"}),u.jsx("path",{d:"M12 45 Q50 5 88 45 L85 48 Q50 12 15 48 Z",fill:"#A0522D",stroke:"#654321",strokeWidth:"1.5"}),u.jsxs("ellipse",{cx:"50",cy:"45",rx:"25",ry:"15",fill:"rgba(255,255,255,0.3)",children:[u.jsx("animate",{attributeName:"ry",values:"15;40;60",dur:"0.8s",fill:"freeze"}),u.jsx("animate",{attributeName:"opacity",values:"0.3;0.8;0",dur:"0.8s",fill:"freeze"})]}),[0,45,90,135,180,225,270,315].map((s,c)=>u.jsxs("circle",{cx:"50",cy:"45",r:"2",fill:t.rarity==="UNIQUE"?"#fbbf24":t.rarity==="RARE"?"#3b82f6":"#22c55e",children:[u.jsx("animate",{attributeName:"cx",values:`50;${50+Math.cos(s*Math.PI/180)*40}`,dur:"0.8s",fill:"freeze"}),u.jsx("animate",{attributeName:"cy",values:`45;${45+Math.sin(s*Math.PI/180)*40}`,dur:"0.8s",fill:"freeze"}),u.jsx("animate",{attributeName:"opacity",values:"1;0",dur:"0.8s",fill:"freeze"})]},c))]})}),r==="reveal"&&u.jsxs("div",{className:"animate-in zoom-in fade-in duration-500 space-y-4",children:[u.jsxs("div",{className:`mx-auto w-64 p-6 rounded-2xl border ${i.border} ${i.bg} shadow-2xl ${a[t.rarity]}`,children:[u.jsx("div",{className:`text-[10px] font-mono uppercase tracking-widest ${i.text} mb-2`,children:t.rarity}),u.jsx("h3",{className:`text-lg font-black ${i.text}`,children:t.name}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.slot}),u.jsx("div",{className:"mt-3 space-y-1",children:Object.entries(t.stats).filter(([,s])=>s&&s>0).map(([s,c])=>u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-gray-400 capitalize",children:s}),u.jsxs("span",{className:`font-bold ${i.text}`,children:["+",c]})]},s))}),t.affixes.length>0&&u.jsx("div",{className:"mt-2 pt-2 border-t border-white/5",children:t.affixes.map((s,c)=>u.jsxs("div",{className:"text-[10px] text-gray-400",children:[s.name,": +",s.value," ",s.stat," (T",s.tier,")"]},c))}),t.setId&&u.jsx("div",{className:"mt-2 text-[10px] text-purple-400 font-bold",children:"Part of a set"}),(t.sockets||0)>0&&u.jsx("div",{className:"mt-2 flex gap-1",children:Array.from({length:t.sockets||0}).map((s,c)=>u.jsx("div",{className:"w-3 h-3 rounded-full border border-white/20 bg-black/30"},c))})]}),u.jsx("p",{className:"text-xs text-gray-500 animate-pulse",children:"Click anywhere to close"})]})]})})},e3e=[{key:"tech",label:"Tech",color:"text-blue-400",bg:"bg-blue-500"},{key:"focus",label:"Focus",color:"text-green-400",bg:"bg-green-500"},{key:"analysis",label:"Analysis",color:"text-yellow-400",bg:"bg-yellow-500"},{key:"charisma",label:"Charisma",color:"text-purple-400",bg:"bg-purple-500"}],t3e=["HEAD","CHEST","HANDS","BELT","FEET","AMULET","RING1","RING2"],r3e=({user:t,classType:e,onClose:r})=>{var D,A,k;const[n,i]=ie.useState(!1),a=t.gamification||{xp:0,level:1,currency:0,badges:[],privacyMode:!1},s=a.level||1,c=dh(s),d=NK(s),{equipped:f,appearance:m}=kx(t,e),p=Ox({gamification:{...a,equipped:f}}),y=bg(f),b=((D=a.classXp)==null?void 0:D[e])||0,T=(A=t.settings)==null?void 0:A.privacyMode,S=T?a.codename||"Unknown Agent":t.name,w=Object.values(f).filter(Boolean),O=EK(w),R=a.unlockedAchievements||[],C=F.useMemo(()=>RE.filter(E=>R.includes(E.id)),[R]),B=Math.max(p.tech,p.focus,p.analysis,p.charisma,1),I=()=>{navigator.clipboard.writeText(`${window.location.origin}/profile/${t.id}`),i(!0),setTimeout(()=>i(!1),2e3)};return u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:u.jsxs("div",{className:"bg-gradient-to-br from-[#0d0e1a] to-[#1a1b2e] border border-white/10 rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",onClick:E=>E.stopPropagation(),children:[u.jsxs("div",{className:"relative p-8 border-b border-white/5 overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 opacity-20",style:{background:`radial-gradient(circle at 30% 50%, hsl(${(m==null?void 0:m.hue)||180}, 70%, 30%), transparent 70%)`}}),u.jsxs("div",{className:"relative flex items-center gap-6",children:[u.jsx("div",{className:"w-32 h-44 shrink-0",children:u.jsx(Ub,{equipped:f,appearance:m})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h1",{className:`text-2xl font-black ${T?"text-purple-300 italic":"text-white"}`,children:S}),u.jsx("button",{onClick:I,className:"p-1 text-gray-500 hover:text-white transition rounded",title:"Copy profile link",children:n?u.jsx(vx,{className:"w-4 h-4 text-green-400"}):u.jsx(rT,{className:"w-4 h-4"})})]}),u.jsx("p",{className:`text-sm font-mono uppercase tracking-widest ${c.tierColor.split(" ")[1]}`,children:c.rankName}),u.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[d.name,"  Level ",s]}),u.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500",children:b.toLocaleString()}),u.jsx("div",{className:"text-[9px] text-gray-600 font-mono",children:"CLASS XP"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xl font-black text-yellow-400",children:y}),u.jsx("div",{className:"text-[9px] text-gray-600 font-mono",children:"GEAR SCORE"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-xl font-black text-orange-400",children:[a.engagementStreak||0,"w"]}),u.jsx("div",{className:"text-[9px] text-gray-600 font-mono",children:"STREAK"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xl font-black text-purple-400",children:R.length}),u.jsx("div",{className:"text-[9px] text-gray-600 font-mono",children:"BADGES"})]})]}),a.specialization&&u.jsx("div",{className:"mt-3 inline-flex items-center gap-1 px-2 py-1 bg-white/5 border border-white/10 rounded-lg",children:u.jsx("span",{className:"text-xs text-gray-300 font-bold",children:a.specialization})})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-0 divide-x divide-white/5",children:[u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(go,{className:"w-3 h-3"})," Combat Stats"]}),u.jsx("div",{className:"space-y-2",children:e3e.map(({key:E,label:U,color:M,bg:$})=>{const z=p[E]||0,Y=z/B*100;return u.jsxs("div",{className:"space-y-0.5",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-xs text-gray-400",children:U}),u.jsx("span",{className:`text-xs font-bold ${M}`,children:z})]}),u.jsx("div",{className:"w-full bg-white/5 rounded-full h-1.5",children:u.jsx("div",{className:`h-1.5 rounded-full ${$} transition-all`,style:{width:`${Y}%`}})})]},E)})})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(ss,{className:"w-3 h-3"})," Equipment"]}),u.jsx("div",{className:"space-y-1.5",children:t3e.map(E=>{const U=f[E];if(!U)return u.jsxs("div",{className:"flex items-center gap-2 p-1.5 bg-white/2 rounded text-xs text-gray-700",children:[u.jsx("span",{className:"font-mono w-12 text-[10px]",children:E}),u.jsx("span",{className:"italic",children:"Empty"})]},E);const M=zr(U.rarity);return u.jsxs("div",{className:`flex items-center gap-2 p-1.5 rounded border ${M.border} ${M.bg}`,children:[u.jsx("span",{className:"font-mono w-12 text-[10px] text-gray-500",children:E}),u.jsx("span",{className:`text-xs font-bold truncate ${M.text}`,children:U.name})]},E)})})]}),O.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-2 flex items-center gap-1",children:[u.jsx(c8,{className:"w-3 h-3 text-purple-400"})," Active Sets"]}),O.map(({set:E,activeBonus:U})=>u.jsxs("div",{className:"p-2 bg-purple-500/5 border border-purple-500/20 rounded-lg mb-1 text-xs",children:[u.jsx("span",{className:"text-purple-400 font-bold",children:E.name}),u.jsxs("span",{className:"text-gray-500 ml-1",children:[" ",U.label]})]},E.id))]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(y0,{className:"w-3 h-3 text-yellow-400"})," Achievements (",R.length,")"]}),C.length>0?u.jsx("div",{className:"grid grid-cols-3 gap-2",children:C.slice(0,12).map(E=>u.jsxs("div",{className:"text-center p-2 bg-yellow-500/5 border border-yellow-500/10 rounded-lg",children:[u.jsx("div",{className:"text-xl",children:E.icon}),u.jsx("div",{className:"text-[9px] text-yellow-400 font-bold truncate mt-0.5",children:E.title})]},E.id))}):u.jsx("p",{className:"text-xs text-gray-600 italic",children:"No achievements yet"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3",children:"Activity"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(o8,{className:"w-3.5 h-3.5 text-orange-400"}),u.jsx("span",{className:"text-gray-400",children:"Engagement Streak:"}),u.jsxs("span",{className:"text-orange-400 font-bold",children:[a.engagementStreak||0," weeks"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(vae,{className:"w-3.5 h-3.5 text-red-400"}),u.jsx("span",{className:"text-gray-400",children:"Quests Completed:"}),u.jsx("span",{className:"text-red-400 font-bold",children:((k=a.completedQuests)==null?void 0:k.length)||0})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(ch,{className:"w-3.5 h-3.5 text-green-400"}),u.jsx("span",{className:"text-gray-400",children:"Tutoring Sessions:"}),u.jsx("span",{className:"text-green-400 font-bold",children:a.tutoringSessionsCompleted||0})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(Dn,{className:"w-3.5 h-3.5 text-cyan-400"}),u.jsx("span",{className:"text-gray-400",children:"Total XP:"}),u.jsx("span",{className:"text-cyan-400 font-bold",children:(a.xp||0).toLocaleString()})]})]})]})]})]})]})})},n3e={Textbook:u.jsx(Ls,{className:"w-5 h-5"}),Simulation:u.jsx(G$,{className:"w-5 h-5 fill-current"}),"Lab Guide":u.jsx(bx,{className:"w-5 h-5"}),"Practice Set":u.jsx(go,{className:"w-5 h-5"}),Article:u.jsx(q$,{className:"w-5 h-5"}),"Video Lesson":u.jsx(Y$,{className:"w-5 h-5"}),Supplemental:u.jsx(l8,{className:"w-5 h-5"})},i3e=({user:t,assignments:e,submissions:r,enabledFeatures:n,onNavigate:i,onStartAssignment:a})=>{var va,xi,rr,Yn,vs,bs,wi,Zi,tn,qs,_i,Ri,Hs,wn,si,Gs,Si,br,Ur,rn,Ji,Ti,Ks,xs,ea,ot,le;const s=Ii(),{confirm:c}=Zc(),[d,f]=F.useState(new Set),[m,p]=F.useState(t.classType||((va=t.enrolledClasses)==null?void 0:va[0])||"Unassigned"),[y,b]=F.useState(null),[T,S]=F.useState([]),[w,O]=F.useState(!1),[R,C]=F.useState(null),B=ie.useRef(((xi=t.gamification)==null?void 0:xi.lastLevelSeen)||1),[I,D]=F.useState("RESOURCES"),[A,k]=F.useState(!1),[E,U]=F.useState(null),[M,$]=F.useState(!1),[z,Y]=F.useState(null),[te,K]=F.useState(null),[J,Q]=F.useState(null),[ye,se]=F.useState(!1),[X,ee]=F.useState(null),[ce,Ne]=F.useState(!1);F.useEffect(()=>{var De,Je,mt;const Z=((De=t.gamification)==null?void 0:De.level)||1,me=Math.max(((Je=t.gamification)==null?void 0:Je.lastLevelSeen)||1,B.current);if(Z>me){const It=((mt=t.gamification)==null?void 0:mt.inventory)||[],qt=It.length>0?It[It.length-1]:null;C(qt),O(!0),pi.levelUp()}},[(rr=t.gamification)==null?void 0:rr.level,(Yn=t.gamification)==null?void 0:Yn.lastLevelSeen,(vs=t.gamification)==null?void 0:vs.inventory]),F.useEffect(()=>{const Z=$e.subscribeToXPEvents(De=>{const Je=De.find(mt=>mt.isActive&&(mt.type==="GLOBAL"||mt.targetClass===m));b(Je||null)}),me=$e.subscribeToQuests(De=>{S(De.filter(Je=>{if(!Je.isActive)return!1;const mt=new Date;return!(Je.startsAt&&new Date(Je.startsAt)>mt||Je.expiresAt&&new Date(Je.expiresAt)<mt)}))});return()=>{Z(),me()}},[m]);const oe=((wi=(bs=t.gamification)==null?void 0:bs.classXp)==null?void 0:wi[m])||0,Oe=ie.useRef(oe);F.useEffect(()=>{if(oe>Oe.current&&Oe.current>=0){const Z=oe-Oe.current;if(Z>0&&Z<500){Q(Z),pi.xpGain();const me=setTimeout(()=>Q(null),2e3);return()=>clearTimeout(me)}}Oe.current=oe},[oe]),F.useEffect(()=>{var De;const Z=new Date().toISOString().split("T")[0];((De=t.gamification)==null?void 0:De.lastLoginRewardDate)!==Z&&!ce&&$e.claimDailyLogin().then(Je=>{Je.alreadyClaimed||(Ne(!0),pi.dailyReward(),s.success(`Daily login: +${Je.xpReward} XP, +${Je.fluxReward} Flux (${Je.streak}-day streak!)`))}).catch(()=>{})},[]),F.useEffect(()=>{$e.updateEngagementStreak().catch(()=>{})},[]);const[Me,it]=F.useState([]);F.useEffect(()=>{const Z=$e.subscribeToAnnouncements(it);return()=>Z()},[]);const Ee=F.useMemo(()=>{var me;const Z=((me=t.gamification)==null?void 0:me.dismissedAnnouncements)||[];return Me.filter(De=>!Z.includes(De.id)&&(De.classType==="GLOBAL"||De.classType===m))},[Me,(Zi=t.gamification)==null?void 0:Zi.dismissedAnnouncements,m]),He=async Z=>{await $e.dismissAnnouncement(t.id,Z)},he=async()=>{var me;const Z=((me=t.gamification)==null?void 0:me.level)||1;B.current=Z,O(!1),C(null),await $e.updateUserLastLevelSeen(t.id,Z)},ge=async(Z,me)=>{await $e.updateUserAppearance(t.id,{hue:Z,bodyType:me},m),k(!1)},We=t.enrolledClasses||(t.classType?[t.classType]:[]),Ve=F.useMemo(()=>Ox(t),[t]),nt=F.useMemo(()=>{var Z;return bg((Z=t.gamification)==null?void 0:Z.equipped)},[(tn=t.gamification)==null?void 0:tn.equipped]),ct=[{subject:"Tech",A:Ve.tech,fullMark:100},{subject:"Focus",A:Ve.focus,fullMark:100},{subject:"Analysis",A:Ve.analysis,fullMark:100},{subject:"Charisma",A:Ve.charisma,fullMark:100}],Wt=F.useMemo(()=>{const Z={};return e.filter(me=>me.classType===m&&me.status!=="DRAFT").forEach(me=>{var mt;const De=r.find(It=>It.assignmentId===me.id),Je=me.unit||"General Resources";Z[Je]||(Z[Je]=[]),Z[Je].push({...me,lastEngagement:De&&De.submittedAt||null,engagementTime:((mt=De==null?void 0:De.metrics)==null?void 0:mt.engagementTime)||0})}),Z},[e,r,m]),Ie=Z=>{const me=new Set(d);me.has(Z)?me.delete(Z):me.add(Z),f(me)},ue=((qs=t.gamification)==null?void 0:qs.level)||1,ze=((_i=t.gamification)==null?void 0:_i.currency)||0,et=oe,yt=et%1e3/1e3*100,Qe=lU(et),_t=lU(ze),Pt=dh(ue),Xt=async Z=>{const me=Z.target.value;p(me),await $e.switchUserView(t.id,me)},Tt=async Z=>{try{await $e.equipItem(t.id,Z,m),U(null),pi.equip(),s.success(`${Z.name} equipped.`)}catch{s.error("Failed to equip item.")}},tr=async()=>{if(!E)return;const Z=oI(E);if(await c({message:`Salvage ${E.name} for ${Z} Cyber-Flux? This item will be destroyed.`,confirmLabel:"Salvage"})){$(!0);try{await $e.disenchantItem(t.id,E,m),U(null),pi.salvage(),s.success(`Salvaged for ${Z} Cyber-Flux.`)}catch{s.error("Failed to salvage item.")}finally{$(!1)}}},Br=async Z=>{if(!E)return;const me=Iu[Z];if(ze<me)return s.error("Insufficient Cyber-Flux.");$(!0);try{await $e.craftItem(t.id,E,Z,m),U(null),pi.craft(),s.success(`${Z.charAt(0)+Z.slice(1).toLowerCase()} complete.`)}catch{s.error("Fabrication protocol failed.")}finally{$(!1)}},vr=((Ri=t.gamification)==null?void 0:Ri.activeQuests)||[],Qi=((Hs=t.gamification)==null?void 0:Hs.completedQuests)||[],Wr=T.filter(Z=>vr.some(me=>me.questId===Z.id)),Vn=T.filter(Z=>!vr.some(me=>me.questId===Z.id)&&!Qi.includes(Z.id)),Ir=async Z=>{try{await $e.acceptQuest(t.id,Z.id),pi.questAccept(),s.success(`Contract accepted: ${Z.title}`)}catch{s.error("Failed to accept contract.")}},vn=async Z=>{const me=Z.type==="CUSTOM";if(await c({message:me?"Submit quest for manual HQ verification?":"Deploy agent for skill check? This will calculate your success probability based on current gear.",confirmLabel:me?"Submit":"Deploy",variant:"info"}))try{await $e.deployMission(t.id,Z),pi.questDeploy(),s.info("Mission deployed. Awaiting verification.")}catch{s.error("Deployment failed.")}},Vt=F.useMemo(()=>kx(t,m),[t,m]),bn=Vt.equipped,ya=Vt.inventory,Fs=["HEAD","HANDS","RING1","AMULET"],ys=["CHEST","BELT","FEET","RING2"],xn=({slot:Z})=>{const me=bn[Z],De=me?zr(me.rarity):{border:"border-white/10",bg:"bg-black/20",text:"text-gray-600",glow:"",shimmer:""},Je=()=>Z==="HEAD"?u.jsx(Dn,{className:`w-5 h-5 ${De.text}`}):Z==="CHEST"?u.jsx(ss,{className:`w-5 h-5 ${De.text}`}):Z==="HANDS"?u.jsx(tv,{className:`w-5 h-5 ${De.text}`}):Z==="FEET"?u.jsx(pn,{className:`w-5 h-5 ${De.text}`}):Z==="BELT"?u.jsx(Bw,{className:`w-5 h-5 ${De.text}`}):Z==="AMULET"?u.jsx(zw,{className:`w-5 h-5 ${De.text}`}):u.jsx(Bd,{className:`w-5 h-5 ${De.text}`});return u.jsx("button",{className:`w-16 h-16 rounded-xl border-2 flex flex-col items-center justify-center relative group transition-all hover:scale-110 ${De.border} ${De.bg} ${De.shimmer} ${De.glow}`,onClick:()=>me&&U(me),children:me?u.jsxs(u.Fragment,{children:[Je(),u.jsx("span",{className:`text-[7px] font-bold mt-0.5 truncate w-full text-center px-0.5 ${De.text}`,children:me.baseName||me.name.split(" ").slice(-1)[0]}),u.jsxs("div",{className:"absolute -top-[4.5rem] left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-150 pointer-events-none z-30 bg-black/95 border border-white/15 px-3 py-2 rounded-lg whitespace-nowrap shadow-xl backdrop-blur-sm",children:[u.jsx("div",{className:`text-[10px] font-bold ${De.text}`,children:me.name}),u.jsxs("div",{className:"text-[9px] text-gray-400 font-mono",children:[me.rarity," ",Z]}),u.jsx("div",{className:"text-[9px] text-gray-500 mt-0.5",children:Object.entries(me.stats).map(([mt,It])=>`+${It} ${mt.slice(0,3).toUpperCase()}`).join("  ")}),u.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-black/95 border-b border-r border-white/15 rotate-45"})]})]}):u.jsx("span",{className:"text-[8px] font-bold text-gray-600 uppercase tracking-widest",children:Z.slice(0,4)})})};return u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 h-full pb-12",children:[Ee.length>0&&u.jsx("div",{className:"lg:col-span-12 space-y-2",children:Ee.map(Z=>{const me={INFO:"bg-blue-600/10 border-blue-500/30 text-blue-300",WARNING:"bg-yellow-600/10 border-yellow-500/30 text-yellow-300",URGENT:"bg-red-600/10 border-red-500/30 text-red-300 animate-pulse"};return u.jsxs("div",{className:`border rounded-2xl p-4 flex items-start gap-3 ${me[Z.priority]}`,children:[u.jsx(iT,{className:"w-5 h-5 shrink-0 mt-0.5"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-bold text-sm text-white",children:Z.title}),u.jsx("div",{className:"text-xs mt-0.5 opacity-80",children:Z.content})]}),u.jsx("button",{onClick:()=>He(Z.id),className:"p-1 text-gray-500 hover:text-white transition shrink-0",children:u.jsx(us,{className:"w-4 h-4"})})]},Z.id)})}),y&&u.jsx("div",{className:"lg:col-span-12",children:u.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 border border-blue-500/50 rounded-2xl p-4 flex items-center justify-between shadow-[0_0_20px_rgba(59,130,246,0.3)] animate-pulse",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-blue-500 text-white p-2 rounded-lg",children:u.jsx(Dn,{className:"w-5 h-5 fill-current"})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-white font-bold text-lg uppercase tracking-wider",children:[y.title," ACTIVE"]}),u.jsxs("p",{className:"text-blue-300 text-xs font-mono",children:["Protocol engaged. Gaining ",y.multiplier,"x XP on all tasks."]})]})]}),u.jsxs("div",{className:"text-3xl font-black text-white/90 font-mono tracking-tighter",children:[y.multiplier,"x"]})]})}),u.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[u.jsxs("div",{className:`bg-white/5 border rounded-3xl p-6 backdrop-blur-md relative overflow-hidden group ${Pt.tierColor.split(" ")[0]} border-opacity-30`,children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/40 to-transparent"}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[u.jsx("div",{className:`w-24 h-24 rounded-full p-1 bg-gradient-to-tr from-white/10 to-white/5 mb-4 ${Pt.tierGlow} shadow-xl`,children:u.jsx("img",{src:t.avatarUrl,alt:"Avatar",className:`w-full h-full rounded-full border-4 object-cover ${Pt.tierColor.split(" ")[0]}`})}),u.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:((wn=t.gamification)==null?void 0:wn.codename)||t.name}),u.jsxs("div",{className:"flex flex-col items-center gap-1",children:[u.jsxs("span",{className:`font-mono text-xs uppercase tracking-[0.2em] mt-1 font-bold ${Pt.tierColor.split(" ")[1]}`,children:[Pt.rankName," (Lvl ",ue,")"]}),u.jsxs("span",{className:"text-[10px] bg-yellow-500/10 text-yellow-400 px-2 py-0.5 rounded border border-yellow-500/20 font-bold uppercase tracking-widest",children:["Gear Score: ",nt]})]}),We.length>1&&u.jsxs("div",{className:"mt-4 relative w-full",children:[u.jsx("select",{value:m,onChange:Xt,className:"w-full bg-black/40 border border-white/20 text-white text-xs font-bold py-2 px-4 rounded-xl appearance-none focus:outline-none focus:border-purple-500 transition",children:We.map(Z=>u.jsx("option",{value:Z,children:Z},Z))}),u.jsx(Bs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400 pointer-events-none"})]}),u.jsx("div",{className:"w-full h-2 bg-black/60 rounded-full mt-6 overflow-hidden border border-white/5 relative",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-400 to-purple-500 transition-all duration-1000",style:{width:`${yt}%`}})}),u.jsxs("div",{className:"flex justify-between w-full text-[9px] text-gray-500 mt-2 font-mono font-bold relative",children:[u.jsxs("span",{children:[Qe.toLocaleString()," XP (",m,")"]}),u.jsx("span",{children:"Next Rank"}),J&&u.jsxs("span",{className:"xp-float-anim absolute -top-6 left-1/2 -translate-x-1/2 text-sm font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-400 whitespace-nowrap",children:["+",J," XP"]})]})]})]}),u.jsx("div",{className:"bg-black/20 border border-white/5 rounded-2xl p-4 flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500/20 text-cyan-400 flex items-center justify-center",children:u.jsx(Zie,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest",children:"Cyber-Flux"}),u.jsx("div",{className:"text-xl font-black text-white leading-none",children:_t})]})]})}),(((si=t.gamification)==null?void 0:si.engagementStreak)||0)>0&&(()=>{var De;const Z=((De=t.gamification)==null?void 0:De.engagementStreak)||0,me=F5e(Z);return u.jsx("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-2xl p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-500/20 text-orange-400 flex items-center justify-center",children:u.jsx(o8,{className:"w-6 h-6"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest",children:"Streak"}),u.jsxs("div",{className:"text-xl font-black text-orange-400 leading-none",children:[Z,"w"]})]}),me>1&&u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[9px] text-gray-500 uppercase",children:"XP Bonus"}),u.jsxs("div",{className:"text-sm font-black text-yellow-400",children:["+",Math.round((me-1)*100),"%"]})]})]})})})(),(((Gs=t.gamification)==null?void 0:Gs.loginStreak)||0)>1&&u.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-2xl p-3 flex items-center gap-3",children:[u.jsx(pae,{className:"w-5 h-5 text-purple-400"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Daily Login"}),u.jsxs("div",{className:"text-sm font-black text-purple-400",children:[((Si=t.gamification)==null?void 0:Si.loginStreak)||0," day streak"]})]})]}),u.jsxs("button",{onClick:()=>se(!0),className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 p-3 rounded-2xl flex items-center justify-center gap-2 transition text-gray-400 hover:text-white text-sm font-bold",children:[u.jsx(lp,{className:"w-4 h-4"})," View Profile"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest px-2",children:"Access Nodes"}),n.physicsLab&&u.jsxs("button",{onClick:()=>i("Physics Lab"),className:"w-full bg-blue-500/10 hover:bg-blue-500/20 border border-blue-500/20 p-4 rounded-2xl flex items-center justify-between transition group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-blue-500/20 rounded-xl text-blue-400 shadow-inner",children:u.jsx(bx,{className:"w-5 h-5"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-bold text-gray-200 text-sm",children:"Physics Lab"}),u.jsx("div",{className:"text-[10px] text-blue-300/70 uppercase font-bold tracking-tight",children:"Active Simulations"})]})]}),u.jsx(r0,{className:"w-4 h-4 text-blue-500 group-hover:translate-x-1 transition"})]}),n.evidenceLocker&&u.jsxs("button",{onClick:()=>i("Forensics"),className:"w-full bg-emerald-500/10 hover:bg-emerald-500/20 border border-emerald-500/20 p-4 rounded-2xl flex items-center justify-between transition group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-xl text-emerald-400 shadow-inner",children:u.jsx(aae,{className:"w-5 h-5"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-bold text-gray-200 text-sm",children:"Evidence Log"}),u.jsx("div",{className:"text-[10px] text-emerald-300/70 uppercase font-bold tracking-tight",children:"Weekly Portfolio"})]})]}),u.jsx(r0,{className:"w-4 h-4 text-emerald-500 group-hover:translate-x-1 transition"})]})]})]}),u.jsx("div",{className:"lg:col-span-9 space-y-6",children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-md min-h-[600px] flex flex-col",children:[u.jsxs("div",{className:"flex gap-4 mb-6 border-b border-white/10 pb-4",children:[u.jsxs("button",{onClick:()=>D("RESOURCES"),className:`flex items-center gap-2 font-bold text-sm transition px-4 py-2 rounded-lg ${I==="RESOURCES"?"bg-white/10 text-white":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[u.jsx(l8,{className:"w-4 h-4"})," Resources"]}),u.jsxs("button",{onClick:()=>D("LOADOUT"),className:`flex items-center gap-2 font-bold text-sm transition px-4 py-2 rounded-lg ${I==="LOADOUT"?"bg-white/10 text-white":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[u.jsx(Bd,{className:"w-4 h-4"})," Agent Loadout"]}),u.jsxs("button",{onClick:()=>D("MISSIONS"),className:`flex items-center gap-2 font-bold text-sm transition px-4 py-2 rounded-lg relative ${I==="MISSIONS"?"bg-white/10 text-white":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[u.jsx(go,{className:"w-4 h-4"})," Missions",Vn.length>0&&u.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border border-black"})]}),u.jsxs("button",{onClick:()=>D("ACHIEVEMENTS"),className:`flex items-center gap-2 font-bold text-sm transition px-4 py-2 rounded-lg ${I==="ACHIEVEMENTS"?"bg-white/10 text-white":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[u.jsx(y0,{className:"w-4 h-4"})," Badges"]}),u.jsxs("button",{onClick:()=>D("SKILLS"),className:`flex items-center gap-2 font-bold text-sm transition px-4 py-2 rounded-lg ${I==="SKILLS"?"bg-white/10 text-white":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[u.jsx(Yie,{className:"w-4 h-4"})," Skills"]}),u.jsxs("button",{onClick:()=>D("FORTUNE"),className:`flex items-center gap-2 font-bold text-sm transition px-4 py-2 rounded-lg ${I==="FORTUNE"?"bg-white/10 text-white":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[u.jsx(qie,{className:"w-4 h-4"})," Fortune"]}),u.jsxs("button",{onClick:()=>D("TUTORING"),className:`flex items-center gap-2 font-bold text-sm transition px-4 py-2 rounded-lg ${I==="TUTORING"?"bg-white/10 text-white":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[u.jsx(ch,{className:"w-4 h-4"})," Tutoring"]})]}),I==="MISSIONS"&&u.jsxs("div",{className:"space-y-6",style:{animation:"tabEnter 0.3s ease-out both"},children:[u.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest px-2",children:"Available Contracts"}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[Vn.length===0&&u.jsx("div",{className:"text-gray-500 italic px-4 py-10 text-center bg-black/10 rounded-xl border border-dashed border-white/5",children:"No new contracts available. Check back later."}),Vn.map(Z=>u.jsxs("div",{className:"bg-black/20 border border-indigo-500/30 p-5 rounded-2xl relative overflow-hidden group hover:border-indigo-500/60 transition",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("h4",{className:"text-lg font-bold text-white",children:Z.title}),u.jsx("span",{className:"bg-indigo-600 text-white text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wider",children:Z.type.replace("_"," ")})]}),u.jsx("p",{className:"text-sm text-gray-400 mb-4 pr-16",children:Z.description}),u.jsxs("div",{className:"flex items-center gap-4 text-xs font-mono text-gray-500 mb-4",children:[Z.statRequirements&&u.jsx("div",{className:"flex gap-2",children:Object.entries(Z.statRequirements).map(([me,De])=>u.jsxs("span",{className:"bg-white/5 px-2 py-1 rounded border border-white/10 uppercase",children:[De," ",me]},me))}),Z.expiresAt&&u.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[u.jsx(cs,{className:"w-3 h-3"})," Expires: ",new Date(Z.expiresAt).toLocaleDateString()]})]}),u.jsxs("button",{onClick:()=>Ir(Z),className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-xl text-sm font-bold shadow-lg shadow-indigo-900/20 transition flex items-center gap-2",children:[u.jsx(nT,{className:"w-4 h-4"})," Accept Contract"]})]},Z.id))]}),u.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest px-2 pt-4 border-t border-white/10",children:"Active Operations"}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[Wr.length===0&&u.jsx("div",{className:"text-gray-500 italic px-4 py-10 text-center bg-black/10 rounded-xl border border-dashed border-white/5",children:"No active operations. Accept a contract above to begin."}),Wr.map(Z=>{var mt,It;const me=((mt=vr.find(qt=>qt.questId===Z.id))==null?void 0:mt.status)||"ACCEPTED",De=(It=vr.find(qt=>qt.questId===Z.id))==null?void 0:It.deploymentRoll,Je=Z.type==="CUSTOM";return u.jsxs("div",{className:"bg-[#0f0720]/80 border border-purple-500/30 p-6 rounded-3xl relative group hover:border-purple-500/60 transition-all shadow-[0_0_30px_rgba(168,85,247,0.1)]",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-purple-600/20 text-purple-400 flex items-center justify-center border border-purple-500/20 shadow-inner",children:u.jsx(go,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-white font-bold text-lg leading-tight",children:Z.title}),u.jsxs("div",{className:"text-[10px] text-gray-500 uppercase font-black tracking-[0.1em]",children:[Z.type," MISSION"]})]})]}),u.jsx("span",{className:`text-[10px] font-black tracking-widest px-3 py-1 rounded-full border ${me==="COMPLETED"?"bg-green-500/20 text-green-400 border-green-500/30":me==="FAILED"?"bg-red-500/20 text-red-400 border-red-500/30":me==="DEPLOYED"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-white/5 text-gray-400 border-white/10"}`,children:me})]}),me==="ACCEPTED"?u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"text-sm text-gray-400 mb-6 leading-relaxed bg-black/20 p-4 rounded-2xl border border-white/5",children:Z.description}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:()=>vn(Z),className:"flex-1 bg-indigo-600 hover:bg-indigo-500 text-white py-4 rounded-2xl text-sm font-black uppercase tracking-widest transition shadow-lg shadow-indigo-900/40 flex items-center justify-center gap-3 group/btn",children:[u.jsx(hae,{className:"w-5 h-5 group-hover/btn:animate-pulse"}),Je?"Broadcast Submission to HQ":"Deploy for Skill Check"]}),Z.isGroupQuest&&u.jsx("button",{className:"bg-white/5 hover:bg-white/10 text-white px-6 py-4 rounded-2xl text-sm font-black transition border border-white/10",children:u.jsx(Hc,{className:"w-5 h-5"})})]})]}):me==="DEPLOYED"?u.jsxs("div",{className:"bg-black/40 p-6 rounded-3xl border border-purple-500/20 flex flex-col gap-4 animate-in fade-in zoom-in-95",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-ping absolute -top-1 -right-1"}),u.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full absolute -top-1 -right-1 shadow-[0_0_10px_#22c55e]"}),u.jsx(Dn,{className:"w-6 h-6 text-purple-400"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Uplink Status"}),u.jsx("div",{className:"text-sm font-black text-white font-mono uppercase tracking-tighter",children:Je?"AWAITING_HQ_SIG_VERIFICATION":De===100?"SUCCESS_VERIFIED":"FAILURE_DETECTED"})]})]}),u.jsx("div",{className:"h-10 w-px bg-white/5"}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold",children:"Node"}),u.jsx("div",{className:"text-xs font-bold text-purple-300",children:"HQ_CENTRAL"})]})]}),u.jsx("div",{className:"h-1 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-indigo-500 animate-pulse w-3/4"})}),u.jsx("p",{className:"text-[11px] text-gray-500 italic text-center font-mono",children:Je?"Encrypted transmission confirmed. HQ is currently reviewing your evidence data. Rewards will be issued upon manual signal confirmation.":"Autonomous verification complete. Skill check results logged below."})]}):null]},Z.id)})]})]},"missions"),I==="RESOURCES"&&u.jsx("div",{style:{animation:"tabEnter 0.3s ease-out both"},children:Object.entries(Wt).length===0?u.jsx("div",{className:"text-center py-20 text-gray-500 italic",children:"No resources released for this class node."}):u.jsx("div",{className:"space-y-4",children:Object.entries(Wt).sort().map(([Z,me])=>u.jsxs("div",{className:"bg-black/20 rounded-2xl border border-white/5 overflow-hidden",children:[u.jsxs("button",{onClick:()=>Ie(Z),className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[d.has(Z)?u.jsx(Bs,{className:"w-4 h-4 text-purple-400"}):u.jsx(r0,{className:"w-4 h-4 text-gray-500"}),u.jsx("span",{className:"font-bold text-sm text-gray-300 uppercase tracking-wider",children:Z})]}),u.jsxs("span",{className:"text-[10px] bg-white/5 text-gray-500 px-2 py-0.5 rounded-full font-mono",children:[me.length," Files"]})]}),d.has(Z)&&u.jsx("div",{className:"grid grid-cols-1 gap-2 p-3 pt-0 animate-in slide-in-from-top-2 duration-300",children:me.map(De=>{const Je=!!De.dueDate,mt=De.dueDate?new Date(De.dueDate):null,It=new Date,qt=mt?Math.ceil((mt.getTime()-It.getTime())/864e5):1/0,Ht=qt<=0?"text-red-400":qt<=2?"text-yellow-400":"text-gray-500",Ws=Math.floor(De.engagementTime/60),ws=Ws>=5;return u.jsxs("div",{className:"bg-white/5 border border-white/5 hover:border-purple-500/40 p-4 rounded-xl transition-all cursor-pointer group flex items-center gap-4",onClick:()=>a&&a(De.id),children:[u.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 transition-all ${ws?"bg-green-500/20 text-green-400 ring-2 ring-green-500/30":De.lastEngagement?"bg-green-500/10 text-green-400":"bg-purple-500/10 text-purple-400 group-hover:scale-110 shadow-lg group-hover:shadow-purple-500/20"}`,children:ws?u.jsx(pn,{className:"w-6 h-6"}):De.lastEngagement?u.jsx(pn,{className:"w-5 h-5 opacity-60"}):n3e[De.category||"Supplemental"]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[8px] font-bold uppercase px-1.5 py-0.5 rounded bg-black/40 text-gray-500 border border-white/5",children:De.category}),u.jsx("h4",{className:"font-bold text-white text-sm truncate",children:De.title})]}),u.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:u.jsx("p",{className:"text-xs text-gray-500 truncate",children:De.description})}),u.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[De.lastEngagement&&u.jsxs("span",{className:"text-[9px] text-green-500 font-bold",children:[Ws,"m engaged"]}),Je&&u.jsxs("span",{className:`text-[9px] font-bold flex items-center gap-0.5 ${Ht}`,children:[u.jsx(ls,{className:"w-3 h-3"}),qt<=0?"Overdue":qt===1?"Due tomorrow":`Due in ${qt}d`]})]})]}),u.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition",children:u.jsx(G$,{className:"w-4 h-4 text-purple-400 fill-current"})})]},De.id)})})]},Z))})},"resources"),I==="LOADOUT"&&u.jsxs("div",{className:"flex flex-col h-full",style:{animation:"tabEnter 0.3s ease-out both"},children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 flex-1 min-h-0",children:[u.jsxs("div",{className:"bg-black/30 rounded-2xl border border-white/10 relative overflow-hidden flex flex-col items-center justify-center p-4 min-h-[400px]",children:[u.jsx("div",{className:"absolute inset-0 loadout-hex-bg pointer-events-none"}),u.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:`radial-gradient(ellipse at 50% 60%, hsla(${(((br=Vt.appearance)==null?void 0:br.hue)||0)+200}, 60%, 25%, 0.3) 0%, transparent 70%)`}}),u.jsxs("div",{className:"flex w-full h-full relative z-10 justify-between items-center px-4",children:[u.jsx("div",{className:"flex flex-col gap-4",children:Fs.map(Z=>u.jsx(xn,{slot:Z},Z))}),u.jsx("div",{className:"w-40 h-full relative",children:u.jsx(Ub,{equipped:bn,appearance:Vt.appearance,evolutionLevel:ue})}),u.jsx("div",{className:"flex flex-col gap-4",children:ys.map(Z=>u.jsx(xn,{slot:Z},Z))})]}),u.jsxs("button",{onClick:Z=>{Z.preventDefault(),Z.stopPropagation(),k(!0)},className:"absolute bottom-6 bg-purple-600/20 hover:bg-purple-600 text-purple-400 hover:text-white px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-[0.2em] border border-purple-500/30 transition shadow-lg z-[40] flex items-center gap-2",children:[u.jsx(xae,{className:"w-3.5 h-3.5"}),"Edit DNA Profile"]})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 rounded-2xl p-4 border border-white/5 flex-1 min-h-[200px]",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Performance Radar"}),u.jsx("div",{className:"h-[200px]",children:u.jsx(eH,{width:"100%",height:"100%",children:u.jsxs(L5e,{cx:"50%",cy:"50%",outerRadius:"70%",data:ct,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"radarGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"0%",stopColor:"#06b6d4",stopOpacity:.6}),u.jsx("stop",{offset:"100%",stopColor:"#a855f7",stopOpacity:.3})]})}),u.jsx(TG,{stroke:"rgba(255,255,255,0.08)"}),u.jsx(Cg,{dataKey:"subject",tick:{fill:"#9ca3af",fontSize:10,fontWeight:700}}),u.jsx(jg,{angle:30,domain:[0,150],tick:!1,axisLine:!1}),u.jsx(Ig,{name:"Stats",dataKey:"A",stroke:"#a855f7",strokeWidth:2,fill:"url(#radarGradient)",fillOpacity:.5,animationDuration:800})]})})})]}),u.jsx("div",{className:"bg-black/20 rounded-2xl p-4 border border-white/5",children:u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),u.jsx("span",{className:"text-gray-500",children:"Tech"})," ",u.jsx("span",{className:"text-blue-400 font-bold ml-auto",children:Ve.tech})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"}),u.jsx("span",{className:"text-gray-500",children:"Focus"})," ",u.jsx("span",{className:"text-green-400 font-bold ml-auto",children:Ve.focus})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400"}),u.jsx("span",{className:"text-gray-500",children:"Analysis"})," ",u.jsx("span",{className:"text-yellow-400 font-bold ml-auto",children:Ve.analysis})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400"}),u.jsx("span",{className:"text-gray-500",children:"Charisma"})," ",u.jsx("span",{className:"text-purple-400 font-bold ml-auto",children:Ve.charisma})]})]})})]})]}),u.jsxs("div",{className:"mt-6 flex-1 min-h-[250px] bg-black/40 border border-white/10 rounded-2xl p-4 overflow-hidden flex flex-col",children:[u.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 flex items-center justify-between",children:[u.jsxs("span",{children:["Gear Storage (",ya.length,")"]}),u.jsx("span",{className:"text-[9px] text-gray-600",children:"Click to Inspect"})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3 content-start",children:[ya.map((Z,me)=>{const De=Object.values(bn).some(mt=>(mt==null?void 0:mt.id)===Z.id),Je=zr(Z.rarity);return u.jsxs("button",{onClick:()=>U(Z),className:`aspect-square rounded-xl border-2 flex flex-col items-center justify-center relative group transition-all hover:scale-105 ${De?"ring-2 ring-white/50 opacity-100":"opacity-80 hover:opacity-100"} ${Je.bg} ${Je.border} ${Je.shimmer} ${De?Je.glow:""}`,children:[Z.slot==="HEAD"&&u.jsx(Dn,{className:`w-6 h-6 ${Je.text}`}),Z.slot==="CHEST"&&u.jsx(ss,{className:`w-6 h-6 ${Je.text}`}),Z.slot==="HANDS"&&u.jsx(tv,{className:`w-6 h-6 ${Je.text}`}),Z.slot==="FEET"&&u.jsx(pn,{className:`w-6 h-6 ${Je.text}`}),Z.slot==="BELT"&&u.jsx(Bw,{className:`w-6 h-6 ${Je.text}`}),Z.slot==="AMULET"&&u.jsx(zw,{className:`w-6 h-6 ${Je.text}`}),Z.slot==="RING"&&u.jsx(Bd,{className:`w-6 h-6 ${Je.text}`}),De&&u.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full shadow-lg"}),u.jsxs("div",{className:"absolute -top-[4.5rem] left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-150 pointer-events-none z-30 bg-black/95 border border-white/15 px-3 py-2 rounded-lg whitespace-nowrap shadow-xl backdrop-blur-sm",children:[u.jsx("div",{className:`text-[10px] font-bold ${Je.text}`,children:Z.name}),u.jsxs("div",{className:"text-[9px] text-gray-400 font-mono",children:[Z.rarity," ",Z.slot,De?"  EQUIPPED":""]}),u.jsx("div",{className:"text-[9px] text-gray-500 mt-0.5",children:Object.entries(Z.stats).map(([mt,It])=>`+${It} ${mt.slice(0,3).toUpperCase()}`).join("  ")}),u.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-black/95 border-b border-r border-white/15 rotate-45"})]})]},me)}),Array.from({length:Math.max(0,16-ya.length)}).map((Z,me)=>u.jsx("div",{className:"aspect-square rounded-xl border border-white/5 bg-white/5"},`empty-${me}`))]})]})]},"loadout"),I==="ACHIEVEMENTS"&&u.jsx("div",{style:{animation:"tabEnter 0.3s ease-out both"},children:u.jsx(H5e,{unlockedAchievements:((Ur=t.gamification)==null?void 0:Ur.unlockedAchievements)||[],achievementProgress:((rn=t.gamification)==null?void 0:rn.achievementProgress)||{}})},"achievements"),I==="SKILLS"&&u.jsx("div",{style:{animation:"tabEnter 0.3s ease-out both"},children:u.jsx(K5e,{specialization:(Ji=t.gamification)==null?void 0:Ji.specialization,skillPoints:((Ti=t.gamification)==null?void 0:Ti.skillPoints)||0,unlockedSkills:((Ks=t.gamification)==null?void 0:Ks.unlockedSkills)||[]})},"skills"),I==="FORTUNE"&&u.jsx("div",{className:"space-y-8",style:{animation:"tabEnter 0.3s ease-out both"},children:u.jsx(W5e,{currency:ze,lastSpin:(xs=t.gamification)==null?void 0:xs.lastWheelSpin,classType:m})},"fortune"),I==="TUTORING"&&u.jsx("div",{style:{animation:"tabEnter 0.3s ease-out both"},children:u.jsx(Z5e,{userId:t.id,userName:t.name,classType:m})},"tutoring")]})}),u.jsxs("div",{className:"lg:col-span-12 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-md",children:u.jsx(Q5e,{userId:t.id,activeChallenges:((ea=t.gamification)==null?void 0:ea.activeDailyChallenges)||[],classType:m})}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-md space-y-6",children:[u.jsx(X5e,{userId:t.id,userName:t.name,classType:m}),u.jsx(Y5e,{classType:m})]})]}),u.jsx(Da,{isOpen:A,onClose:()=>{k(!1),Y(null),K(null)},title:"Operative DNA Profile",maxWidth:"max-w-md",children:u.jsxs("div",{className:"p-4 space-y-8",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"w-48 h-72 bg-black/40 rounded-3xl p-4 border border-purple-500/20 shadow-inner loadout-hex-bg",children:u.jsx(Ub,{equipped:bn,appearance:{...Vt.appearance,hue:z??((ot=Vt.appearance)==null?void 0:ot.hue)??0,bodyType:te??((le=Vt.appearance)==null?void 0:le.bodyType)??"A"}})})}),u.jsxs("div",{className:"bg-white/5 p-5 rounded-3xl border border-white/10",children:[u.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-4 text-center",children:"Agent Frame"}),u.jsx("div",{className:"flex justify-center gap-3",children:["A","B"].map(Z=>{var De;const me=(te??((De=Vt.appearance)==null?void 0:De.bodyType)??"A")===Z;return u.jsxs("button",{onClick:()=>K(Z),className:`px-6 py-3 rounded-xl border-2 transition-all font-bold text-sm ${me?"border-purple-500 bg-purple-500/20 text-white scale-105":"border-white/10 text-gray-500 hover:border-white/20 hover:text-gray-300"}`,children:["Frame ",Z==="A"?"Alpha":"Beta"]},Z)})})]}),u.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/10",children:[u.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-6 text-center",children:"Bio-Signature Tint (Hue-Shift)"}),u.jsx("div",{className:"grid grid-cols-6 gap-3",children:[0,30,60,90,120,150,180,210,240,270,300,330].map(Z=>{var De;const me=(z??((De=Vt.appearance)==null?void 0:De.hue)??0)===Z;return u.jsx("button",{onClick:()=>Y(Z),className:`aspect-square rounded-xl border-3 transition-all hover:scale-110 shadow-lg ${me?"border-white scale-110 ring-2 ring-white/30":"border-transparent"}`,style:{backgroundColor:`hsl(${Z}, 60%, 45%)`}},Z)})})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>{k(!1),Y(null),K(null)},className:"flex-1 py-3 bg-white/5 border border-white/10 text-gray-400 font-bold rounded-xl hover:bg-white/10 transition",children:"Cancel"}),u.jsx("button",{onClick:()=>{var Z,me;ge(z??((Z=Vt.appearance)==null?void 0:Z.hue)??0,te??((me=Vt.appearance)==null?void 0:me.bodyType)??"A"),Y(null),K(null)},className:"flex-1 py-3 bg-purple-600 text-white font-bold rounded-xl hover:bg-purple-500 transition shadow-lg shadow-purple-900/20",children:"Save Profile"})]})]})}),u.jsx(Da,{isOpen:!!E,onClose:()=>U(null),title:"Nano-Fabricator Terminal",maxWidth:"max-w-xl",children:E&&u.jsxs("div",{className:"space-y-6 text-gray-100",children:[u.jsxs("div",{className:`p-5 rounded-xl border ${zr(E.rarity).bg} ${zr(E.rarity).border} ${zr(E.rarity).shimmer} relative overflow-hidden`,children:[u.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[u.jsxs("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center flex-shrink-0 border ${zr(E.rarity).border} ${zr(E.rarity).bg}`,style:{boxShadow:E.rarity==="UNIQUE"?"0 0 20px rgba(249,115,22,0.3)":E.rarity==="RARE"?"0 0 15px rgba(234,179,8,0.2)":"none"},children:[E.slot==="HEAD"&&u.jsx(Dn,{className:`w-7 h-7 ${zr(E.rarity).text}`}),E.slot==="CHEST"&&u.jsx(ss,{className:`w-7 h-7 ${zr(E.rarity).text}`}),E.slot==="HANDS"&&u.jsx(tv,{className:`w-7 h-7 ${zr(E.rarity).text}`}),E.slot==="FEET"&&u.jsx(pn,{className:`w-7 h-7 ${zr(E.rarity).text}`}),E.slot==="BELT"&&u.jsx(Bw,{className:`w-7 h-7 ${zr(E.rarity).text}`}),E.slot==="AMULET"&&u.jsx(zw,{className:`w-7 h-7 ${zr(E.rarity).text}`}),E.slot==="RING"&&u.jsx(Bd,{className:`w-7 h-7 ${zr(E.rarity).text}`})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:`text-lg font-bold ${zr(E.rarity).text}`,children:E.name}),u.jsxs("div",{className:"text-xs text-gray-300 font-mono uppercase",children:[E.rarity," ",E.slot]})]})]}),u.jsx("div",{className:"mt-4 space-y-1",children:Object.entries(E.stats).map(([Z,me])=>u.jsxs("div",{className:"flex justify-between text-sm text-gray-200 border-b border-white/5 pb-1",children:[u.jsx("span",{className:"uppercase text-xs text-gray-400 font-bold",children:Z}),u.jsxs("span",{className:"font-mono font-bold",children:["+",me]})]},Z))}),u.jsx("div",{className:"mt-4 flex gap-2 flex-wrap",children:E.affixes.map((Z,me)=>u.jsxs("span",{className:"text-[9px] bg-black/40 px-2 py-1 rounded border border-white/10 text-gray-400",children:[Z.name," (T",Z.tier,")"]},me))})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[(()=>{const Z=E.slot==="RING"?"RING1":E.slot,me=bn[Z]||(E.slot==="RING"?bn.RING2:null);if(!me||me.id===E.id)return null;const De=zr(me.rarity),Je=new Set([...Object.keys(E.stats),...Object.keys(me.stats)]);return u.jsxs("div",{className:"col-span-2 bg-black/30 border border-white/10 rounded-xl p-3 mb-1",children:[u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest mb-2",children:"Replacing Currently Equipped"}),u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:`text-xs font-bold ${De.text}`,children:me.name}),u.jsx("span",{className:"text-[10px] text-gray-500 font-mono",children:me.rarity})]}),u.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:Array.from(Je).map(mt=>{const It=E.stats[mt]||0,qt=me.stats[mt]||0,Ht=It-qt;return Ht===0?u.jsxs("span",{className:"text-[10px] text-gray-600 font-mono",children:[mt.slice(0,3).toUpperCase(),": 0"]},mt):u.jsxs("span",{className:`text-[10px] font-mono font-bold ${Ht>0?"text-green-400":"text-red-400"}`,children:[mt.slice(0,3).toUpperCase(),": ",Ht>0?"":"",Math.abs(Ht)]},mt)})})]})})(),u.jsx("button",{onClick:()=>Tt(E),className:"col-span-2 py-3 bg-green-600 hover:bg-green-500 text-white font-bold rounded-xl transition shadow-lg shadow-green-900/20",disabled:M,children:"Equip Gear"}),u.jsx("div",{className:"col-span-2 border-t border-white/10 my-2"}),u.jsx("div",{className:"col-span-2 text-center text-xs text-gray-500 font-bold uppercase tracking-widest mb-1",children:"Fabrication Protocols"}),u.jsxs("button",{onClick:()=>Br("RECALIBRATE"),disabled:M||ze<Iu.RECALIBRATE,className:"bg-black/20 hover:bg-purple-900/20 border border-white/10 hover:border-purple-500/50 p-3 rounded-xl text-left transition group disabled:opacity-50",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-xs font-bold text-gray-300 group-hover:text-purple-300",children:"Recalibrate"}),u.jsxs("span",{className:"text-[10px] bg-cyan-900/30 text-cyan-400 px-1.5 rounded",children:[Iu.RECALIBRATE," Flux"]})]}),u.jsx("p",{className:"text-[9px] text-gray-500",children:"Reroll numeric values within current tier."})]}),u.jsxs("button",{onClick:()=>Br("REFORGE"),disabled:M||ze<Iu.REFORGE||E.rarity==="UNIQUE",className:"bg-black/20 hover:bg-red-900/20 border border-white/10 hover:border-red-500/50 p-3 rounded-xl text-left transition group disabled:opacity-50",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-xs font-bold text-gray-300 group-hover:text-red-300",children:"Reforge"}),u.jsxs("span",{className:"text-[10px] bg-cyan-900/30 text-cyan-400 px-1.5 rounded",children:[Iu.REFORGE," Flux"]})]}),u.jsx("p",{className:"text-[9px] text-gray-500",children:"Reroll all affixes. Keeps Rarity."})]}),u.jsxs("button",{onClick:()=>Br("OPTIMIZE"),disabled:M||ze<Iu.OPTIMIZE,className:"col-span-2 bg-black/20 hover:bg-yellow-900/20 border border-white/10 hover:border-yellow-500/50 p-3 rounded-xl text-left transition group disabled:opacity-50",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-xs font-bold text-gray-300 group-hover:text-yellow-300",children:"Optimize Tier"}),u.jsxs("span",{className:"text-[10px] bg-cyan-900/30 text-cyan-400 px-1.5 rounded",children:[Iu.OPTIMIZE," Flux"]})]}),u.jsx("p",{className:"text-[9px] text-gray-500",children:"Upgrade affix tiers to match current operative level."})]}),u.jsx("div",{className:"col-span-2 border-t border-white/10 my-2"}),u.jsxs("button",{onClick:tr,disabled:M,className:"col-span-2 py-3 bg-red-900/20 hover:bg-red-900/40 border border-red-500/30 text-red-400 font-bold rounded-xl transition flex items-center justify-center gap-2",children:[u.jsx(ji,{className:"w-4 h-4"}),"Salvage for ",oI(E)," Flux"]})]})]})}),ye&&u.jsx(r3e,{user:t,classType:m,onClose:()=>se(!1)}),X&&u.jsx(J5e,{item:X,onClose:()=>ee(null)}),u.jsx(Da,{isOpen:w,onClose:he,title:"PROMOTION GRANTED",maxWidth:"max-w-md",children:u.jsxs("div",{className:"text-center py-6 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",style:{contain:"strict"},children:Array.from({length:20}).map((Z,me)=>u.jsx("div",{className:"absolute w-2 h-2 rounded-full",style:{left:`${10+Math.random()*80}%`,top:"-10px",backgroundColor:["#eab308","#8b5cf6","#06b6d4","#f97316","#22c55e","#ec4899"][me%6],animation:`confettiDrift ${1.5+Math.random()*1.5}s ${Math.random()*.8}s ease-out forwards`,opacity:.9,willChange:"transform, opacity"}},me))}),u.jsxs("div",{className:"relative inline-block mb-6",children:[u.jsx("div",{className:"absolute inset-[-12px] rounded-full border-2 border-yellow-400/30 animate-ping",style:{animationDuration:"2s"}}),u.jsx("div",{className:"absolute inset-[-6px] rounded-full border border-yellow-400/20 animate-pulse"}),u.jsx("div",{className:"level-up-burst w-28 h-28 mx-auto bg-gradient-to-tr from-yellow-400 via-amber-500 to-yellow-600 rounded-full flex items-center justify-center shadow-[0_0_60px_rgba(234,179,8,0.6)] relative",children:u.jsx("span",{className:"text-5xl font-black text-white drop-shadow-lg",children:ue})})]}),u.jsx("div",{className:"mb-2 overflow-hidden inline-block",children:u.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",style:{animation:"typeReveal 0.8s steps(20) 0.4s both",overflow:"hidden",whiteSpace:"nowrap",display:"inline-block"},children:Pt.rankName})}),u.jsx("p",{className:"text-gray-400 mb-8 animate-in fade-in duration-500",style:{animationDelay:"0.6s",animationFillMode:"both"},children:"Clearance Level Increased. New capabilities unlocked."}),R&&u.jsxs("div",{className:`${zr(R.rarity).shimmer} bg-white/5 border rounded-xl p-5 mb-6 relative overflow-hidden ${zr(R.rarity).border}`,style:{animation:"levelUpBurst 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.8s both"},children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/5 via-white/10 to-transparent opacity-50"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-[0.2em] mb-2",children:" Supply Drop Received"}),u.jsx("div",{className:`text-xl font-bold ${zr(R.rarity).text}`,children:R.name}),u.jsxs("div",{className:"text-[10px] text-gray-500 uppercase font-mono mt-1",children:[R.rarity," ",R.slot]}),u.jsx("div",{className:"flex justify-center gap-5 mt-3 text-[10px] font-mono",children:Object.entries(R.stats).map(([Z,me])=>u.jsxs("span",{className:"text-emerald-400 bg-emerald-500/10 px-2 py-0.5 rounded border border-emerald-500/20",children:["+",me," ",Z.toUpperCase()]},Z))})]})]}),u.jsx("button",{onClick:he,className:"w-full py-4 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-400 hover:to-amber-400 text-black font-black rounded-xl uppercase tracking-widest transition shadow-[0_0_30px_rgba(234,179,8,0.3)]",style:{animation:"buttonFadeIn 0.4s ease-out 1.2s both"},children:"Accept Promotion"})]})})]})};var m2=typeof self<"u"?self:global;const Qp=typeof navigator<"u",a3e=Qp&&typeof HTMLImageElement>"u",zb=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),p2=m2.Buffer,Uy=m2.BigInt,g2=!!p2,s3e=t=>t;function Vb(t,e=s3e){if(zb)try{return typeof require=="function"?Promise.resolve(e(require(t))):import(t).then(e)}catch{console.warn(`Couldn't load ${t}`)}}let ME=m2.fetch;const o3e=t=>ME=t;if(!m2.fetch){const t=Vb("http",(n=>n)),e=Vb("https",(n=>n)),r=(n,{headers:i}={})=>new Promise((async(a,s)=>{let{port:c,hostname:d,pathname:f,protocol:m,search:p}=new URL(n);const y={method:"GET",hostname:d,path:encodeURI(f)+p,headers:i};c!==""&&(y.port=Number(c));const b=(m==="https:"?await e:await t).request(y,(T=>{if(T.statusCode===301||T.statusCode===302){let S=new URL(T.headers.location,n).toString();return r(S,{headers:i}).then(a).catch(s)}a({status:T.statusCode,arrayBuffer:()=>new Promise((S=>{let w=[];T.on("data",(O=>w.push(O))),T.on("end",(()=>S(Buffer.concat(w))))}))})}));b.on("error",s),b.end()}));o3e(r)}function Et(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const $b=t=>OK(t)?void 0:t,l3e=t=>t!==void 0;function OK(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(l3e).length===0)}function Bn(t){let e=new Error(t);throw delete e.stack,e}function Yu(t){return(t=(function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e})(t).trim())===""?void 0:t}function zA(t){let e=(function(r){let n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048})(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const VA=t=>String.fromCharCode.apply(null,t),hU=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function kK(t){return hU?hU.decode(t):g2?Buffer.from(t).toString("utf8"):decodeURIComponent(escape(VA(t)))}class ha{static from(e,r){return e instanceof this&&e.le===r?e:new ha(e,void 0,void 0,r)}constructor(e,r=0,n,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-r);let a=new DataView(e,r,n);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof ha){n===void 0&&(n=e.byteLength-r),(r+=e.byteOffset)+n>e.byteOffset+e.byteLength&&Bn("Creating view outside of available memory in ArrayBuffer");let a=new DataView(e.buffer,r,n);this._swapDataView(a)}else if(typeof e=="number"){let a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else Bn("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,r,n=ha){return e instanceof DataView||e instanceof ha?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Bn("BufferView.set(): Invalid data argument."),this.toUint8().set(e,r),new n(this,r,e.byteLength)}subarray(e,r){return r=r||this._lengthToEnd(e),new ha(this,e,r)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,r){return new Uint8Array(this.buffer,this.byteOffset+e,r)}getString(e=0,r=this.byteLength){return kK(this.getUint8Array(e,r))}getLatin1String(e=0,r=this.byteLength){let n=this.getUint8Array(e,r);return VA(n)}getUnicodeString(e=0,r=this.byteLength){const n=[];for(let i=0;i<r&&e+i<this.byteLength;i+=2)n.push(this.getUint16(e+i));return VA(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,r=this.le){return this.dataView.getInt16(e,r)}getInt32(e,r=this.le){return this.dataView.getInt32(e,r)}getUint16(e,r=this.le){return this.dataView.getUint16(e,r)}getUint32(e,r=this.le){return this.dataView.getUint32(e,r)}getFloat32(e,r=this.le){return this.dataView.getFloat32(e,r)}getFloat64(e,r=this.le){return this.dataView.getFloat64(e,r)}getFloat(e,r=this.le){return this.dataView.getFloat32(e,r)}getDouble(e,r=this.le){return this.dataView.getFloat64(e,r)}getUintBytes(e,r,n){switch(r){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,r,n){switch(r){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function $A(t,e){Bn(`${t} '${e}' was not loaded, try using full build of exifr.`)}class PE extends Map{constructor(e){super(),this.kind=e}get(e,r){return this.has(e)||$A(this.kind,e),r&&(e in r||(function(n,i){Bn(`Unknown ${n} '${i}'.`)})(this.kind,e),r[e].enabled||$A(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var bo=new PE("file parser"),Pn=new PE("segment parser"),Ao=new PE("file reader");function c3e(t,e){return typeof t=="string"?fU(t,e):Qp&&!a3e&&t instanceof HTMLImageElement?fU(t.src,e):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new ha(t):Qp&&t instanceof Blob?FA(t,e,"blob",T0):void Bn("Invalid input argument")}function fU(t,e){return(r=t).startsWith("data:")||r.length>1e4?qA(t,e,"base64"):zb&&t.includes("://")?FA(t,e,"url",S0):zb?qA(t,e,"fs"):Qp?FA(t,e,"url",S0):void Bn("Invalid input argument");var r}async function FA(t,e,r,n){return Ao.has(r)?qA(t,e,r):n?(async function(i,a){let s=await a(i);return new ha(s)})(t,n):void Bn(`Parser ${r} is not loaded`)}async function qA(t,e,r){let n=new(Ao.get(r))(t,e);return await n.read(),n}const S0=t=>ME(t).then((e=>e.arrayBuffer())),T0=t=>new Promise(((e,r)=>{let n=new FileReader;n.onloadend=()=>e(n.result||new ArrayBuffer),n.onerror=r,n.readAsArrayBuffer(t)}));class u3e extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function Nn(t,e,r){let n=new u3e;for(let[i,a]of r)n.set(i,a);if(Array.isArray(e))for(let i of e)t.set(i,n);else t.set(e,n);return n}function A0(t,e,r){let n,i=t.get(e);for(n of r)i.set(n[0],n[1])}const ii=new Map,$s=new Map,zc=new Map,Cc=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],ef=["jfif","xmp","icc","iptc","ihdr"],E0=["tiff",...ef],fn=["ifd0","ifd1","exif","gps","interop"],Ic=[...E0,...fn],Rc=["makerNote","userComment"],tf=["translateKeys","translateValues","reviveValues","multiSegment"],Mc=[...tf,"sanitize","mergeOutput","silentErrors"];class jK{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class pm extends jK{get needed(){return this.enabled||this.deps.size>0}constructor(e,r,n,i){if(super(),Et(this,"enabled",!1),Et(this,"skip",new Set),Et(this,"pick",new Set),Et(this,"deps",new Set),Et(this,"translateKeys",!1),Et(this,"translateValues",!1),Et(this,"reviveValues",!1),this.key=e,this.enabled=r,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=fn.includes(e),this.canBeFiltered&&(this.dict=ii.get(e)),n!==void 0)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if(typeof n=="object"){if(this.enabled=!0,this.parse=n.parse!==!1,this.canBeFiltered){let{pick:a,skip:s}=n;a&&a.length>0&&this.translateTagSet(a,this.pick),s&&s.length>0&&this.translateTagSet(s,this.skip)}this.applyInheritables(n)}else n===!0||n===!1?this.parse=this.enabled=n:Bn(`Invalid options argument: ${n}`)}applyInheritables(e){let r,n;for(r of tf)n=e[r],n!==void 0&&(this[r]=n)}translateTagSet(e,r){if(this.dict){let n,i,{tagKeys:a,tagValues:s}=this.dict;for(n of e)typeof n=="string"?(i=s.indexOf(n),i===-1&&(i=a.indexOf(Number(n))),i!==-1&&r.add(Number(a[i]))):r.add(n)}else for(let n of e)r.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Fb(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Fb(this.pick,this.deps)}}var zi={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},mU=new Map;class L0 extends jK{static useCached(e){let r=mU.get(e);return r!==void 0||(r=new this(e),mU.set(e,r)),r}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):Bn(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Qp?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of Cc)this[e]=zi[e];for(e of Mc)this[e]=zi[e];for(e of Rc)this[e]=zi[e];for(e of Ic)this[e]=new pm(e,zi[e],void 0,this)}setupFromTrue(){let e;for(e of Cc)this[e]=zi[e];for(e of Mc)this[e]=zi[e];for(e of Rc)this[e]=!0;for(e of Ic)this[e]=new pm(e,!0,void 0,this)}setupFromArray(e){let r;for(r of Cc)this[r]=zi[r];for(r of Mc)this[r]=zi[r];for(r of Rc)this[r]=zi[r];for(r of Ic)this[r]=new pm(r,!1,void 0,this);this.setupGlobalFilters(e,void 0,fn)}setupFromObject(e){let r;for(r of(fn.ifd0=fn.ifd0||fn.image,fn.ifd1=fn.ifd1||fn.thumbnail,Object.assign(this,e),Cc))this[r]=pS(e[r],zi[r]);for(r of Mc)this[r]=pS(e[r],zi[r]);for(r of Rc)this[r]=pS(e[r],zi[r]);for(r of E0)this[r]=new pm(r,zi[r],e[r],this);for(r of fn)this[r]=new pm(r,zi[r],e[r],this.tiff);this.setupGlobalFilters(e.pick,e.skip,fn,Ic),e.tiff===!0?this.batchEnableWithBool(fn,!0):e.tiff===!1?this.batchEnableWithUserValue(fn,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,fn):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,fn)}batchEnableWithBool(e,r){for(let n of e)this[n].enabled=r}batchEnableWithUserValue(e,r){for(let n of e){let i=r[n];this[n].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,r,n,i=n){if(e&&e.length){for(let s of i)this[s].enabled=!1;let a=pU(e,n);for(let[s,c]of a)Fb(this[s].pick,c),this[s].enabled=!0}else if(r&&r.length){let a=pU(r,n);for(let[s,c]of a)Fb(this[s].skip,c)}}filterNestedSegmentTags(){let{ifd0:e,exif:r,xmp:n,iptc:i,icc:a}=this;this.makerNote?r.deps.add(37500):r.skip.add(37500),this.userComment?r.deps.add(37510):r.skip.add(37510),n.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),a.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:r,gps:n,interop:i}=this;i.needed&&(r.deps.add(40965),e.deps.add(40965)),r.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=fn.some((a=>this[a].enabled===!0))||this.makerNote||this.userComment;for(let a of fn)this[a].finalizeFilters()}get onlyTiff(){return!ef.map((e=>this[e].enabled)).some((e=>e===!0))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of E0)this[e].enabled&&!Pn.has(e)&&$A("segment parser",e)}}function pU(t,e){let r,n,i,a,s=[];for(i of e){for(a of(r=ii.get(i),n=[],r))(t.includes(a[0])||t.includes(a[1]))&&n.push(a[0]);n.length&&s.push([i,n])}return s}function pS(t,e){return t!==void 0?t:e!==void 0?e:void 0}function Fb(t,e){for(let r of e)t.add(r)}Et(L0,"default",zi);class nu{constructor(e){Et(this,"parsers",{}),Et(this,"output",{}),Et(this,"errors",[]),Et(this,"pushToErrors",(r=>this.errors.push(r))),this.options=L0.useCached(e)}async read(e){this.file=await c3e(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,r=e.getUint16(0);for(let[n,i]of bo)if(i.canHandle(e,r))return this.fileParser=new i(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),Bn("Unknown file format")}async parse(){let{output:e,errors:r}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),r.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&r.length>0&&(e.errors=r),$b(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let r=Object.values(this.parsers).map((async n=>{let i=await n.parse();n.assignToOutput(e,i)}));this.options.silentErrors&&(r=r.map((n=>n.catch(this.pushToErrors)))),await Promise.all(r)}async extractThumbnail(){this.setup();let{options:e,file:r}=this,n=Pn.get("tiff",e);var i;if(r.tiff?i={start:0,type:"tiff"}:r.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let a=await this.fileParser.ensureSegmentChunk(i),s=this.parsers.tiff=new n(a,e,r),c=await s.extractThumbnail();return r.close&&r.close(),c}}async function y2(t,e){let r=new nu(e);return await r.read(t),r.parse()}var d3e=Object.freeze({__proto__:null,parse:y2,Exifr:nu,fileParsers:bo,segmentParsers:Pn,fileReaders:Ao,tagKeys:ii,tagValues:$s,tagRevivers:zc,createDictionary:Nn,extendDictionary:A0,fetchUrlAsArrayBuffer:S0,readBlobAsArrayBuffer:T0,chunkedProps:Cc,otherSegments:ef,segments:E0,tiffBlocks:fn,segmentsAndBlocks:Ic,tiffExtractables:Rc,inheritables:tf,allFormatters:Mc,Options:L0});class v2{constructor(e,r,n){Et(this,"errors",[]),Et(this,"ensureSegmentChunk",(async i=>{let a=i.start,s=i.size||65536;if(this.file.chunked)if(this.file.available(a,s))i.chunk=this.file.subarray(a,s);else try{i.chunk=await this.file.readChunk(a,s)}catch(c){Bn(`Couldn't read segment: ${JSON.stringify(i)}. ${c.message}`)}else this.file.byteLength>a+s?i.chunk=this.file.subarray(a,s):i.size===void 0?i.chunk=this.file.subarray(a):Bn("Segment unreachable: "+JSON.stringify(i));return i.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=r,this.parsers=n}injectSegment(e,r){this.options[e].enabled&&this.createParser(e,r)}createParser(e,r){let n=new(Pn.get(e))(r,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let r of e){let{type:n,chunk:i}=r,a=this.options[n];if(a&&a.enabled){let s=this.parsers[n];s&&s.append||s||this.createParser(n,i)}}}async readSegments(e){let r=e.map(this.ensureSegmentChunk);await Promise.all(r)}}class Ms{static findPosition(e,r){let n=e.getUint16(r+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,r,n):this.headerLength,a=r+i,s=n-i;return{offset:r,length:n,headerLength:i,start:a,size:s,end:a+s}}static parse(e,r={}){return new this(e,new L0({[this.type]:r}),e).parse()}normalizeInput(e){return e instanceof ha?e:new ha(e)}constructor(e,r={},n){Et(this,"errors",[]),Et(this,"raw",new Map),Et(this,"handleError",(i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)})),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=r,this.localOptions=r[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,r){let n=zc.get(r),i=$s.get(r),a=ii.get(r),s=this.options[r],c=s.reviveValues&&!!n,d=s.translateValues&&!!i,f=s.translateKeys&&!!a,m={};for(let[p,y]of e)c&&n.has(p)?y=n.get(p)(y):d&&i.has(p)&&(y=this.translateValue(y,i.get(p))),f&&a.has(p)&&(p=a.get(p)||p),m[p]=y;return m}translateValue(e,r){return r[e]||r.DEFAULT||e}assignToOutput(e,r){this.assignObjectToOutput(e,this.constructor.type,r)}assignObjectToOutput(e,r,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[r]?Object.assign(e[r],n):e[r]=n}}Et(Ms,"headerLength",4),Et(Ms,"type",void 0),Et(Ms,"multiSegment",!1),Et(Ms,"canHandle",(()=>!1));function h3e(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function f3e(t){return t>=224&&t<=239}function m3e(t,e,r){for(let[n,i]of Pn)if(i.canHandle(t,e,r))return n}class gU extends v2{constructor(...e){super(...e),Et(this,"appSegments",[]),Et(this,"jpegSegments",[]),Et(this,"unknownSegments",[])}static canHandle(e,r){return r===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(Pn.keyList())):(e=e===void 0?Pn.keyList().filter((r=>this.options[r].enabled)):e.filter((r=>this.options[r].enabled&&Pn.has(r))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,r){this.setupSegmentFinderArgs(r);let{file:n,findAll:i,wanted:a,remaining:s}=this;if(!i&&this.file.chunked&&(i=Array.from(a).some((c=>{let d=Pn.get(c),f=this.options[c];return d.multiSegment&&f.multiSegment})),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let c=!1;for(;s.size>0&&!c&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:d}=n,f=this.appSegments.some((m=>!this.file.available(m.offset||m.start,m.length||m.size)));if(c=e>d&&!f?!await n.readNextChunk(e):!await n.readNextChunk(d),(e=this.findAppSegmentsInRange(e,n.byteLength))===void 0)return}}}findAppSegmentsInRange(e,r){r-=2;let n,i,a,s,c,d,{file:f,findAll:m,wanted:p,remaining:y,options:b}=this;for(;e<r;e++)if(f.getUint8(e)===255){if(n=f.getUint8(e+1),f3e(n)){if(i=f.getUint16(e+2),a=m3e(f,e,i),a&&p.has(a)&&(s=Pn.get(a),c=s.findPosition(f,e),d=b[a],c.type=a,this.appSegments.push(c),!m&&(s.multiSegment&&d.multiSegment?(this.unfinishedMultiSegment=c.chunkNumber<c.chunkCount,this.unfinishedMultiSegment||y.delete(a)):y.delete(a),y.size===0)))break;b.recordUnknownSegments&&(c=Ms.findPosition(f,e),c.marker=n,this.unknownSegments.push(c)),e+=i+1}else if(h3e(n)){if(i=f.getUint16(e+2),n===218&&b.stopAfterSos!==!1)return;b.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:n}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some((r=>r.multiSegment)))return;let e=(function(r,n){let i,a,s,c=new Map;for(let d=0;d<r.length;d++)i=r[d],a=i[n],c.has(a)?s=c.get(a):c.set(a,s=[]),s.push(i);return Array.from(c)})(this.appSegments,"type");this.mergedAppSegments=e.map((([r,n])=>{let i=Pn.get(r,this.options);return i.handleMultiSegments?{type:r,chunk:i.handleMultiSegments(n)}:n[0]}))}getSegment(e){return this.appSegments.find((r=>r.type===e))}async getOrFindSegment(e){let r=this.getSegment(e);return r===void 0&&(await this.findAppSegments(0,[e]),r=this.getSegment(e)),r}}Et(gU,"type","jpeg"),bo.set("jpeg",gU);const p3e=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class g3e extends Ms{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,r,n=new Map){let{pick:i,skip:a}=this.options[r];i=new Set(i);let s=i.size>0,c=a.size===0,d=this.chunk.getUint16(e);e+=2;for(let f=0;f<d;f++){let m=this.chunk.getUint16(e);if(s){if(i.has(m)&&(n.set(m,this.parseTag(e,m,r)),i.delete(m),i.size===0))break}else!c&&a.has(m)||n.set(m,this.parseTag(e,m,r));e+=12}return n}parseTag(e,r,n){let{chunk:i}=this,a=i.getUint16(e+2),s=i.getUint32(e+4),c=p3e[a];if(c*s<=4?e+=8:e=i.getUint32(e+8),(a<1||a>13)&&Bn(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${e}`),e>i.byteLength&&Bn(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${e} is outside of chunk size ${i.byteLength}`),a===1)return i.getUint8Array(e,s);if(a===2)return Yu(i.getString(e,s));if(a===7)return i.getUint8Array(e,s);if(s===1)return this.parseTagValue(a,e);{let d=new((function(m){switch(m){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}})(a))(s),f=c;for(let m=0;m<s;m++)d[m]=this.parseTagValue(a,e),e+=f;return d}}parseTagValue(e,r){let{chunk:n}=this;switch(e){case 1:return n.getUint8(r);case 3:return n.getUint16(r);case 4:return n.getUint32(r);case 5:return n.getUint32(r)/n.getUint32(r+4);case 6:return n.getInt8(r);case 8:return n.getInt16(r);case 9:return n.getInt32(r);case 10:return n.getInt32(r)/n.getInt32(r+4);case 11:return n.getFloat(r);case 12:return n.getDouble(r);case 13:return n.getUint32(r);default:Bn(`Invalid tiff type ${e}`)}}}class gS extends g3e{static canHandle(e,r){return e.getUint8(r+1)===225&&e.getUint32(r+4)===1165519206&&e.getUint16(r+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let r=this[e]();return r.catch!==void 0&&(r=r.catch(this.handleError)),r}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),r=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(r)}}parseBlock(e,r){let n=new Map;return this[r]=n,this.parseTags(e,r,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Bn("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Bn(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,zA(this.options));let r=this.parseBlock(this.ifd0Offset,"ifd0");return r.size!==0?(this.exifOffset=r.get(34665),this.interopOffset=r.get(40965),this.gpsOffset=r.get(34853),this.xmp=r.get(700),this.iptc=r.get(33723),this.icc=r.get(34675),this.options.sanitize&&(r.delete(34665),r.delete(40965),r.delete(34853),r.delete(700),r.delete(33723),r.delete(34675)),r):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,zA(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,r){let n=e.get(r);n&&n.length===1&&e.set(r,n[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",yU(...e.get(2),e.get(1))),e.set("longitude",yU(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),r=this.ifd1.get(514);return this.chunk.getUint8Array(e,r)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,r,n,i={};for(r of fn)if(e=this[r],!OK(e))if(n=this.canTranslate?this.translateBlock(e,r):Object.fromEntries(e),this.options.mergeOutput){if(r==="ifd1")continue;Object.assign(i,n)}else i[r]=n;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,r){if(this.globalOptions.mergeOutput)Object.assign(e,r);else for(let[n,i]of Object.entries(r))this.assignObjectToOutput(e,n,i)}}function yU(t,e,r,n){var i=t+e/60+r/3600;return n!=="S"&&n!=="W"||(i*=-1),i}Et(gS,"type","tiff"),Et(gS,"headerLength",10),Pn.set("tiff",gS);var y3e=Object.freeze({__proto__:null,default:d3e,Exifr:nu,fileParsers:bo,segmentParsers:Pn,fileReaders:Ao,tagKeys:ii,tagValues:$s,tagRevivers:zc,createDictionary:Nn,extendDictionary:A0,fetchUrlAsArrayBuffer:S0,readBlobAsArrayBuffer:T0,chunkedProps:Cc,otherSegments:ef,segments:E0,tiffBlocks:fn,segmentsAndBlocks:Ic,tiffExtractables:Rc,inheritables:tf,allFormatters:Mc,Options:L0,parse:y2});const DE={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},LE=Object.assign({},DE,{firstChunkSize:4e4,gps:[1,2,3,4]});async function CK(t){let e=new nu(LE);await e.read(t);let r=await e.parse();if(r&&r.gps){let{latitude:n,longitude:i}=r.gps;return{latitude:n,longitude:i}}}const BE=Object.assign({},DE,{tiff:!1,ifd1:!0,mergeOutput:!1});async function IK(t){let e=new nu(BE);await e.read(t);let r=await e.extractThumbnail();return r&&g2?p2.from(r):r}async function RK(t){let e=await this.thumbnail(t);if(e!==void 0){let r=new Blob([e]);return URL.createObjectURL(r)}}const UE=Object.assign({},DE,{firstChunkSize:4e4,ifd0:[274]});async function zE(t){let e=new nu(UE);await e.read(t);let r=await e.parse();if(r&&r.ifd0)return r.ifd0[274]}const VE=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Qu=!0,Zu=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,r,n]=e;Qu=Number(r)+.1*Number(n)<13.4,Zu=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);Qu=Zu=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);Qu=Zu=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);Qu=Zu=Number(e)<77}}async function MK(t){let e=await zE(t);return Object.assign({canvas:Qu,css:Zu},VE[e])}class v3e extends ha{constructor(...e){super(...e),Et(this,"ranges",new b3e),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,r,n){if(e===0&&this.byteLength===0&&n){let i=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(i)}else{let i=e+r;if(i>this.byteLength){let{dataView:a}=this._extend(i);this._swapDataView(a)}}}_extend(e){let r;r=g2?p2.allocUnsafe(e):new Uint8Array(e);let n=new DataView(r.buffer,r.byteOffset,r.byteLength);return r.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:r,dataView:n}}subarray(e,r,n=!1){return r=r||this._lengthToEnd(e),n&&this._tryExtend(e,r),this.ranges.add(e,r),super.subarray(e,r)}set(e,r,n=!1){n&&this._tryExtend(r,e.byteLength,e);let i=super.set(e,r);return this.ranges.add(r,i.byteLength),i}async ensureChunk(e,r){this.chunked&&(this.ranges.available(e,r)||await this.readChunk(e,r))}available(e,r){return this.ranges.available(e,r)}}class b3e{constructor(){Et(this,"list",[])}get length(){return this.list.length}add(e,r,n=0){let i=e+r,a=this.list.filter((s=>vU(e,s.offset,i)||vU(e,s.end,i)));if(a.length>0){e=Math.min(e,...a.map((c=>c.offset))),i=Math.max(i,...a.map((c=>c.end))),r=i-e;let s=a.shift();s.offset=e,s.length=r,s.end=i,this.list=this.list.filter((c=>!a.includes(c)))}else this.list.push({offset:e,length:r,end:i})}available(e,r){let n=e+r;return this.list.some((i=>i.offset<=e&&n<=i.end))}}function vU(t,e,r){return t<=e&&e<=r}class b2 extends v3e{constructor(e,r){super(0),Et(this,"chunksRead",0),this.input=e,this.options=r}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let r=this.options.chunkSize,n=await this.readChunk(e,r);return!!n&&n.byteLength===r}async readChunk(e,r){if(this.chunksRead++,(r=this.safeWrapAddress(e,r))!==0)return this._readChunk(e,r)}safeWrapAddress(e,r){return this.size!==void 0&&e+r>this.size?Math.max(0,this.size-e):r}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Ao.set("blob",class extends b2{async readWhole(){this.chunked=!1;let t=await T0(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let r=e?t+e:void 0,n=this.input.slice(t,r),i=await T0(n);return this.set(i,t,!0)}});var x3e=Object.freeze({__proto__:null,default:y3e,Exifr:nu,fileParsers:bo,segmentParsers:Pn,fileReaders:Ao,tagKeys:ii,tagValues:$s,tagRevivers:zc,createDictionary:Nn,extendDictionary:A0,fetchUrlAsArrayBuffer:S0,readBlobAsArrayBuffer:T0,chunkedProps:Cc,otherSegments:ef,segments:E0,tiffBlocks:fn,segmentsAndBlocks:Ic,tiffExtractables:Rc,inheritables:tf,allFormatters:Mc,Options:L0,parse:y2,gpsOnlyOptions:LE,gps:CK,thumbnailOnlyOptions:BE,thumbnail:IK,thumbnailUrl:RK,orientationOnlyOptions:UE,orientation:zE,rotations:VE,get rotateCanvas(){return Qu},get rotateCss(){return Zu},rotation:MK});Ao.set("url",class extends b2{async readWhole(){this.chunked=!1;let t=await S0(this.input);t instanceof ArrayBuffer?this._swapArrayBuffer(t):t instanceof Uint8Array&&this._swapBuffer(t)}async _readChunk(t,e){let r=e?t+e-1:void 0,n=this.options.httpHeaders||{};(t||r)&&(n.range=`bytes=${[t,r].join("-")}`);let i=await ME(this.input,{headers:n}),a=await i.arrayBuffer(),s=a.byteLength;if(i.status!==416)return s!==e&&(this.size=t+s),this.set(a,t,!0)}});ha.prototype.getUint64=function(t){let e=this.getUint32(t),r=this.getUint32(t+4);return e<1048575?e<<32|r:typeof Uy!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),Uy(e)<<Uy(32)|Uy(r)):void Bn("Trying to read 64b value but JS can only handle 53b numbers.")};class w3e extends v2{parseBoxes(e=0){let r=[];for(;e<this.file.byteLength-4;){let n=this.parseBoxHead(e);if(r.push(n),n.length===0)break;e+=n.length}return r}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,r){return e.boxes===void 0&&this.parseSubBoxes(e),e.boxes.find((n=>n.kind===r))}parseBoxHead(e){let r=this.file.getUint32(e),n=this.file.getString(e+4,4),i=e+8;return r===1&&(r=this.file.getUint64(e+8),i+=8),{offset:e,length:r,kind:n,start:i}}parseBoxFullHead(e){if(e.version!==void 0)return;let r=this.file.getUint32(e.start);e.version=r>>24,e.start+=4}}class PK extends w3e{static canHandle(e,r){if(r!==0)return!1;let n=e.getUint16(2);if(n>50)return!1;let i=16,a=[];for(;i<n;)a.push(e.getString(i,4)),i+=4;return a.includes(this.type)}async parse(){let e=this.file.getUint32(0),r=this.parseBoxHead(e);for(;r.kind!=="meta";)e+=r.length,await this.file.ensureChunk(e,16),r=this.parseBoxHead(e);await this.file.ensureChunk(r.offset,r.length),this.parseBoxFullHead(r),this.parseSubBoxes(r),this.options.icc.enabled&&await this.findIcc(r),this.options.tiff.enabled&&await this.findExif(r)}async registerSegment(e,r,n){await this.file.ensureChunk(r,n);let i=this.file.subarray(r,n);this.createParser(e,i)}async findIcc(e){let r=this.findBox(e,"iprp");if(r===void 0)return;let n=this.findBox(r,"ipco");if(n===void 0)return;let i=this.findBox(n,"colr");i!==void 0&&await this.registerSegment("icc",i.offset+12,i.length)}async findExif(e){let r=this.findBox(e,"iinf");if(r===void 0)return;let n=this.findBox(e,"iloc");if(n===void 0)return;let i=this.findExifLocIdInIinf(r),a=this.findExtentInIloc(n,i);if(a===void 0)return;let[s,c]=a;await this.file.ensureChunk(s,c);let d=4+this.file.getUint32(s);s+=d,c-=d,await this.registerSegment("tiff",s,c)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let r,n,i,a,s=e.start,c=this.file.getUint16(s);for(s+=2;c--;){if(r=this.parseBoxHead(s),this.parseBoxFullHead(r),n=r.start,r.version>=2&&(i=r.version===3?4:2,a=this.file.getString(n+i+2,4),a==="Exif"))return this.file.getUintBytes(n,i);s+=r.length}}get8bits(e){let r=this.file.getUint8(e);return[r>>4,15&r]}findExtentInIloc(e,r){this.parseBoxFullHead(e);let n=e.start,[i,a]=this.get8bits(n++),[s,c]=this.get8bits(n++),d=e.version===2?4:2,f=e.version===1||e.version===2?2:0,m=c+i+a,p=e.version===2?4:2,y=this.file.getUintBytes(n,p);for(n+=p;y--;){let b=this.file.getUintBytes(n,d);n+=d+f+2+s;let T=this.file.getUint16(n);if(n+=2,b===r)return T>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(n+c,i),this.file.getUintBytes(n+c+i,a)];n+=T*m}}}class DK extends PK{}Et(DK,"type","heic");class bU extends PK{}Et(bU,"type","avif"),bo.set("heic",DK),bo.set("avif",bU),Nn(ii,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),Nn(ii,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),Nn(ii,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),Nn($s,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let qm=Nn($s,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const xU={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};qm.set(37392,xU),qm.set(41488,xU);const yS={0:"Normal",1:"Low",2:"High"};function wU(t){return typeof t=="object"&&t.length!==void 0?t[0]:t}function _U(t){let e=Array.from(t).slice(1);return e[1]>15&&(e=e.map((r=>String.fromCharCode(r)))),e[2]!=="0"&&e[2]!==0||e.pop(),e.join(".")}function vS(t){if(typeof t=="string"){var[e,r,n,i,a,s]=t.trim().split(/[-: ]/g).map(Number),c=new Date(e,r-1,n);return Number.isNaN(i)||Number.isNaN(a)||Number.isNaN(s)||(c.setHours(i),c.setMinutes(a),c.setSeconds(s)),Number.isNaN(+c)?t:c}}function gm(t){if(typeof t=="string")return t;let e=[];if(t[1]===0&&t[t.length-1]===0)for(let r=0;r<t.length;r+=2)e.push(SU(t[r+1],t[r]));else for(let r=0;r<t.length;r+=2)e.push(SU(t[r],t[r+1]));return Yu(String.fromCodePoint(...e))}function SU(t,e){return t<<8|e}qm.set(41992,yS),qm.set(41993,yS),qm.set(41994,yS),Nn(zc,["ifd0","ifd1"],[[50827,function(t){return typeof t!="string"?kK(t):t}],[306,vS],[40091,gm],[40092,gm],[40093,gm],[40094,gm],[40095,gm]]),Nn(zc,"exif",[[40960,_U],[36864,_U],[36867,vS],[36868,vS],[40962,wU],[40963,wU]]),Nn(zc,"gps",[[0,t=>Array.from(t).join(".")],[7,t=>Array.from(t).join(":")]]);class bS extends Ms{static canHandle(e,r){return e.getUint8(r+1)===225&&e.getUint32(r+4)===1752462448&&e.getString(r+4,20)==="http://ns.adobe.com/"}static headerLength(e,r){return e.getString(r+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(e,r){let n=super.findPosition(e,r);return n.multiSegment=n.extended=n.headerLength===79,n.multiSegment?(n.chunkCount=e.getUint8(r+72),n.chunkNumber=e.getUint8(r+76),e.getUint8(r+77)!==0&&n.chunkNumber++):(n.chunkCount=1/0,n.chunkNumber=-1),n}static handleMultiSegments(e){return e.map((r=>r.chunk.getString())).join("")}normalizeInput(e){return typeof e=="string"?e:ha.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=(function(a){let s={},c={};for(let d of zK)s[d]=[],c[d]=0;return a.replace(A3e,((d,f,m)=>{if(f==="<"){let p=++c[m];return s[m].push(p),`${d}#${p}`}return`${d}#${s[m].pop()}`}))})(e);let r=Jd.findAll(e,"rdf","Description");r.length===0&&r.push(new Jd("rdf","Description",void 0,e));let n,i={};for(let a of r)for(let s of a.properties)n=T3e(s.ns,i),LK(s,n);return(function(a){let s;for(let c in a)s=a[c]=$b(a[c]),s===void 0&&delete a[c];return $b(a)})(i)}assignToOutput(e,r){if(this.localOptions.parse)for(let[n,i]of Object.entries(r))switch(n){case"tiff":this.assignObjectToOutput(e,"ifd0",i);break;case"exif":this.assignObjectToOutput(e,"exif",i);break;case"xmlns":break;default:this.assignObjectToOutput(e,n,i)}else e.xmp=r}}Et(bS,"type","xmp"),Et(bS,"multiSegment",!0),Pn.set("xmp",bS);class qb{static findAll(e){return BK(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(qb.unpackMatch)}static unpackMatch(e){let r=e[1],n=e[2],i=e[3].slice(1,-1);return i=UK(i),new qb(r,n,i)}constructor(e,r,n){this.ns=e,this.name=r,this.value=n}serialize(){return this.value}}class Jd{static findAll(e,r,n){if(r!==void 0||n!==void 0){r=r||"[\\w\\d-]+",n=n||"[\\w\\d-]+";var i=new RegExp(`<(${r}):(${n})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else i=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return BK(e,i).map(Jd.unpackMatch)}static unpackMatch(e){let r=e[1],n=e[2],i=e[4],a=e[8];return new Jd(r,n,i,a)}constructor(e,r,n,i){this.ns=e,this.name=r,this.attrString=n,this.innerXml=i,this.attrs=qb.findAll(n),this.children=Jd.findAll(i),this.value=this.children.length===0?UK(i):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:e,name:r}=this;return e==="rdf"&&(r==="Seq"||r==="Bag"||r==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return S3e(this.children.map(_3e));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let e={};for(let r of this.properties)LK(r,e);return this.value!==void 0&&(e.value=this.value),$b(e)}}function LK(t,e){let r=t.serialize();r!==void 0&&(e[t.name]=r)}var _3e=t=>t.serialize(),S3e=t=>t.length===1?t[0]:t,T3e=(t,e)=>e[t]?e[t]:e[t]={};function BK(t,e){let r,n=[];if(!t)return n;for(;(r=e.exec(t))!==null;)n.push(r);return n}function UK(t){if((function(n){return n==null||n==="null"||n==="undefined"||n===""||n.trim()===""})(t))return;let e=Number(t);if(!Number.isNaN(e))return e;let r=t.toLowerCase();return r==="true"||r!=="false"&&t.trim()}const zK=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],A3e=new RegExp(`(<|\\/)(${zK.join("|")})`,"g");var E3e=Object.freeze({__proto__:null,default:x3e,Exifr:nu,fileParsers:bo,segmentParsers:Pn,fileReaders:Ao,tagKeys:ii,tagValues:$s,tagRevivers:zc,createDictionary:Nn,extendDictionary:A0,fetchUrlAsArrayBuffer:S0,readBlobAsArrayBuffer:T0,chunkedProps:Cc,otherSegments:ef,segments:E0,tiffBlocks:fn,segmentsAndBlocks:Ic,tiffExtractables:Rc,inheritables:tf,allFormatters:Mc,Options:L0,parse:y2,gpsOnlyOptions:LE,gps:CK,thumbnailOnlyOptions:BE,thumbnail:IK,thumbnailUrl:RK,orientationOnlyOptions:UE,orientation:zE,rotations:VE,get rotateCanvas(){return Qu},get rotateCss(){return Zu},rotation:MK});let TU=Vb("fs",(t=>t.promises));Ao.set("fs",class extends b2{async readWhole(){this.chunked=!1,this.fs=await TU;let t=await this.fs.readFile(this.input);this._swapBuffer(t)}async readChunked(){this.chunked=!0,this.fs=await TU,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(t,e){this.fh===void 0&&await this.open(),t+e>this.size&&(e=this.size-t);var r=this.subarray(t,e,!0);return await this.fh.read(r.dataView,0,e,t),r}async close(){if(this.fh){let t=this.fh;this.fh=void 0,await t.close()}}});Ao.set("base64",class extends b2{constructor(...t){super(...t),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(t,e){let r,n,i=this.input;t===void 0?(t=0,r=0,n=0):(r=4*Math.floor(t/3),n=t-r/4*3),e===void 0&&(e=this.size);let a=t+e,s=r+4*Math.ceil(a/3);i=i.slice(r,s);let c=Math.min(e,this.size-t);if(g2){let d=p2.from(i,"base64").slice(n,n+c);return this.set(d,t,!0)}{let d=this.subarray(t,c,!0),f=atob(i),m=d.toUint8();for(let p=0;p<c;p++)m[p]=f.charCodeAt(n+p);return d}}});class AU extends v2{static canHandle(e,r){return r===18761||r===19789}extendOptions(e){let{ifd0:r,xmp:n,iptc:i,icc:a}=e;n.enabled&&r.deps.add(700),i.enabled&&r.deps.add(33723),a.enabled&&r.deps.add(34675),r.finalizeFilters()}async parse(){let{tiff:e,xmp:r,iptc:n,icc:i}=this.options;if(e.enabled||r.enabled||n.enabled||i.enabled){let a=Math.max(zA(this.options),this.options.chunkSize);await this.file.ensureChunk(0,a),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let r=this.parsers.tiff[e];this.injectSegment(e,r)}}}Et(AU,"type","tiff"),bo.set("tiff",AU);let N3e=Vb("zlib");const O3e=["ihdr","iccp","text","itxt","exif"];class EU extends v2{constructor(...e){super(...e),Et(this,"catchError",(r=>this.errors.push(r))),Et(this,"metaChunks",[]),Et(this,"unknownChunks",[])}static canHandle(e,r){return r===35152&&e.getUint32(0)===2303741511&&e.getUint32(4)===218765834}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,r){let{file:n}=this;for(;e<r;){let i=n.getUint32(e),a=n.getUint32(e+4),s=n.getString(e+4,4).toLowerCase(),c=i+4+4+4,d={type:s,offset:e,length:c,start:e+4+4,size:i,marker:a};O3e.includes(s)?this.metaChunks.push(d):this.unknownChunks.push(d),e+=c}}parseTextChunks(){let e=this.metaChunks.filter((r=>r.type==="text"));for(let r of e){let[n,i]=this.file.getString(r.start,r.size).split("\0");this.injectKeyValToIhdr(n,i)}}injectKeyValToIhdr(e,r){let n=this.parsers.ihdr;n&&n.raw.set(e,r)}findIhdr(){let e=this.metaChunks.find((r=>r.type==="ihdr"));e&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find((r=>r.type==="exif"));e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter((r=>r.type==="itxt"));for(let r of e)r.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",r.chunk)}async findIcc(){let e=this.metaChunks.find((c=>c.type==="iccp"));if(!e)return;let{chunk:r}=e,n=r.getUint8Array(0,81),i=0;for(;i<80&&n[i]!==0;)i++;let a=i+2,s=r.getString(0,i);if(this.injectKeyValToIhdr("ProfileName",s),zb){let c=await N3e,d=r.getUint8Array(a);d=c.inflateSync(d),this.injectSegment("icc",d)}}}Et(EU,"type","png"),bo.set("png",EU),Nn(ii,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),A0(ii,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let NU=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];A0(ii,"ifd0",NU),A0(ii,"exif",NU),Nn($s,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class xS extends Ms{static canHandle(e,r){return e.getUint8(r+1)===224&&e.getUint32(r+4)===1246120262&&e.getUint8(r+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}Et(xS,"type","jfif"),Et(xS,"headerLength",9),Pn.set("jfif",xS),Nn(ii,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class OU extends Ms{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}Et(OU,"type","ihdr"),Pn.set("ihdr",OU),Nn(ii,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),Nn($s,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class sv extends Ms{static canHandle(e,r){return e.getUint8(r+1)===226&&e.getUint32(r+4)===1229144927}static findPosition(e,r){let n=super.findPosition(e,r);return n.chunkNumber=e.getUint8(r+16),n.chunkCount=e.getUint8(r+17),n.multiSegment=n.chunkCount>1,n}static handleMultiSegments(e){return(function(r){let n=(function(i){let a=i[0].constructor,s=0;for(let f of i)s+=f.length;let c=new a(s),d=0;for(let f of i)c.set(f,d),d+=f.length;return c})(r.map((i=>i.chunk.toUint8())));return new ha(n)})(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&Bn("ICC header is too short");for(let[r,n]of Object.entries(k3e)){r=parseInt(r,10);let i=n(this.chunk,r);i!=="\0\0\0\0"&&e.set(r,i)}}parseTags(){let e,r,n,i,a,{raw:s}=this,c=this.chunk.getUint32(128),d=132,f=this.chunk.byteLength;for(;c--;){if(e=this.chunk.getString(d,4),r=this.chunk.getUint32(d+4),n=this.chunk.getUint32(d+8),i=this.chunk.getString(r,4),r+n>f)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");a=this.parseTag(i,r,n),a!==void 0&&a!=="\0\0\0\0"&&s.set(e,a),d+=12}}parseTag(e,r,n){switch(e){case"desc":return this.parseDesc(r);case"mluc":return this.parseMluc(r);case"text":return this.parseText(r,n);case"sig ":return this.parseSig(r)}if(!(r+n>this.chunk.byteLength))return this.chunk.getUint8Array(r,n)}parseDesc(e){let r=this.chunk.getUint32(e+8)-1;return Yu(this.chunk.getString(e+12,r))}parseText(e,r){return Yu(this.chunk.getString(e+8,r-8))}parseSig(e){return Yu(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:r}=this,n=r.getUint32(e+8),i=r.getUint32(e+12),a=e+16,s=[];for(let c=0;c<n;c++){let d=r.getString(a+0,2),f=r.getString(a+2,2),m=r.getUint32(a+4),p=r.getUint32(a+8)+e,y=Yu(r.getUnicodeString(p,m));s.push({lang:d,country:f,text:y}),a+=i}return n===1?s[0].text:s}translateValue(e,r){return typeof e=="string"?r[e]||r[e.toLowerCase()]||e:r[e]||e}}Et(sv,"type","icc"),Et(sv,"multiSegment",!0),Et(sv,"headerLength",18);const k3e={4:Wo,8:function(t,e){return[t.getUint8(e),t.getUint8(e+1)>>4,t.getUint8(e+1)%16].map((r=>r.toString(10))).join(".")},12:Wo,16:Wo,20:Wo,24:function(t,e){const r=t.getUint16(e),n=t.getUint16(e+2)-1,i=t.getUint16(e+4),a=t.getUint16(e+6),s=t.getUint16(e+8),c=t.getUint16(e+10);return new Date(Date.UTC(r,n,i,a,s,c))},36:Wo,40:Wo,48:Wo,52:Wo,64:(t,e)=>t.getUint32(e),80:Wo};function Wo(t,e){return Yu(t.getString(e,4))}Pn.set("icc",sv),Nn(ii,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const zy={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},kU={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};Nn($s,"icc",[[4,zy],[12,kU],[40,Object.assign({},zy,kU)],[48,zy],[80,zy],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class Vy extends Ms{static canHandle(e,r,n){return e.getUint8(r+1)===237&&e.getString(r+4,9)==="Photoshop"&&this.containsIptc8bim(e,r,n)!==void 0}static headerLength(e,r,n){let i,a=this.containsIptc8bim(e,r,n);if(a!==void 0)return i=e.getUint8(r+a+7),i%2!=0&&(i+=1),i===0&&(i=4),a+8+i}static containsIptc8bim(e,r,n){for(let i=0;i<n;i++)if(this.isIptcSegmentHead(e,r+i))return i}static isIptcSegmentHead(e,r){return e.getUint8(r)===56&&e.getUint32(r)===943868237&&e.getUint16(r+4)===1028}parse(){let{raw:e}=this,r=this.chunk.byteLength-1,n=!1;for(let i=0;i<r;i++)if(this.chunk.getUint8(i)===28&&this.chunk.getUint8(i+1)===2){n=!0;let a=this.chunk.getUint16(i+3),s=this.chunk.getUint8(i+2),c=this.chunk.getLatin1String(i+5,a);e.set(s,this.pluralizeValue(e.get(s),c)),i+=4+a}else if(n)break;return this.translate(),this.output}pluralizeValue(e,r){return e!==void 0?e instanceof Array?(e.push(r),e):[e,r]:r}}Et(Vy,"type","iptc"),Et(Vy,"translateValues",!1),Et(Vy,"reviveValues",!1),Pn.set("iptc",Vy),Nn(ii,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),Nn($s,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);const ym=["Monday","Tuesday","Wednesday","Thursday","Friday"],j3e=({user:t})=>{const e=Ii(),{confirm:r}=Zc(),n=F.useMemo(()=>$e.getWeekId(),[]),[i,a]=F.useState([]),[s,c]=F.useState("Monday"),[d,f]=F.useState(!1),m=F.useRef(null),[p,y]=F.useState(!1),b=t.enrolledClasses||(t.classType?[t.classType]:[]),[T,S]=F.useState(t.classType||b[0]||"Uncategorized");F.useEffect(()=>{const A=new Date().toLocaleDateString("en-US",{weekday:"long"});ym.includes(A)&&c(A)},[]),F.useEffect(()=>{const A=$e.subscribeToEvidence(t.id,n,a);return()=>A()},[t.id,n]);const w=F.useMemo(()=>{const A=b[0]||"Uncategorized";return i.filter(k=>k.classType?k.classType===T:T===A)},[i,T,b]),O=A=>w.find(k=>k.dayOfWeek===A),R=A=>A?new Date(A).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):null,C=async A=>{var E;const k=(E=A.target.files)==null?void 0:E[0];if(k){f(!0);try{let U=null;if(k.type.startsWith("image/"))try{const Q=await E3e.parse(k,["DateTimeOriginal"])||{};Q.DateTimeOriginal&&(U=Q.DateTimeOriginal.toISOString())}catch(Q){console.warn("EXIF extraction failed",Q)}const M=T.replace(/[^a-zA-Z0-9]/g,"_"),$=Math.random().toString(36).substring(2,9),z=Rm(Mm,`evidence/${t.id}/${n}/${M}_${s}_${$}`);await ZS(z,k);const Y=await Ev(z),te=O(s),J={id:`${t.id}_${n}_${s}_${M}`,studentId:t.id,weekId:n,classType:T,dayOfWeek:s,imageUrl:Y,timestamp:new Date().toISOString(),exifDate:U,reflection:(te==null?void 0:te.reflection)||""};await $e.uploadEvidence(J)}catch(U){e.error("Upload failed: "+(U instanceof Error?U.message:"Unknown error"))}finally{f(!1),m.current&&(m.current.value="")}}},B=async(A,k)=>{const E=O(A);E&&E.reflection!==k&&await $e.uploadEvidence({...E,reflection:k})},I=async()=>{if(!(w.length===0||!await r({title:"Generate & Delete Evidence",message:`WARNING: Generating this report will DELETE all ${T} photos and reflections for this week from the server to save space. Make sure you save the downloaded PDF immediately.`,confirmLabel:"Generate PDF",variant:"warning"}))){y(!0);try{const k=new yX,E=k.internal.pageSize.getWidth(),U=k.internal.pageSize.getHeight(),M=20,$=E-M*2,z=U-M;k.setFillColor(15,7,32),k.rect(0,0,E,40,"F"),k.setTextColor(255,255,255),k.setFontSize(22),k.setFont("helvetica","bold"),k.text("WEEKLY PROGRESS REPORT",M,18),k.setFontSize(10),k.setFont("helvetica","normal"),k.text(`Operative: ${t.name.toUpperCase()}`,M,28),k.text(`Class: ${T}`,M,33),k.text(`Cycle ID: ${n}`,M,38),k.text(`Generated: ${new Date().toLocaleDateString()}`,E-M,33,{align:"right"});let Y=55;const te=[...w].sort((K,J)=>ym.indexOf(K.dayOfWeek)-ym.indexOf(J.dayOfWeek));for(const K of te){let J=null,Q="JPEG",ye=0,se=0,X=!1;try{const Ee=await fetch(K.imageUrl);if(!Ee.ok)throw new Error(`Image fetch failed: ${Ee.statusText}`);const He=await Ee.blob();J=await new Promise((Ve,nt)=>{const ct=new FileReader;ct.onloadend=()=>Ve(ct.result),ct.onerror=nt,ct.readAsDataURL(He)}),He.type==="image/png"&&(Q="PNG"),He.type==="image/webp"&&(Q="WEBP");const he=k.getImageProperties(J),ge=he.width/he.height,We=100;ye=$,se=ye/ge,se>We&&(se=We,ye=se*ge)}catch(Ee){console.warn("Image processing error for PDF",Ee),X=!0,se=15}const Ne=20+se+12;Y+Ne>z&&(k.addPage(),Y=M),k.setDrawColor(200,200,200),k.setLineWidth(.5),k.line(M,Y,E-M,Y),Y+=6,k.setTextColor(15,7,32),k.setFontSize(16),k.setFont("helvetica","bold"),k.text(K.dayOfWeek.toUpperCase(),M,Y);const oe=R(K.exifDate)||R(K.timestamp);if(k.setFontSize(9),k.setFont("helvetica","italic"),k.setTextColor(100,100,100),k.text(`Captured: ${oe}`,E-M,Y,{align:"right"}),Y+=10,!X&&J){const Ee=(E-ye)/2;k.addImage(J,Q,Ee,Y,ye,se),Y+=se+12}else k.setTextColor(255,0,0),k.setFontSize(8),k.text("[Image Error]",M,Y),Y+=15;k.setFont("helvetica","normal"),k.setFontSize(10);const Oe=K.reflection||"No reflection logged for this cycle.",Me=k.splitTextToSize(Oe,$),it=Me.length*5+15;Y+it>z&&(k.addPage(),Y=M),k.setTextColor(15,7,32),k.setFontSize(11),k.setFont("helvetica","bold"),k.text("DAILY REFLECTION:",M,Y),Y+=6,k.setFont("helvetica","normal"),k.setFontSize(10),k.setTextColor(60,60,60),k.text(Me,M,Y),Y+=Me.length*5+25}k.save(`Report_${T.replace(/\s+/g,"")}_${t.name.replace(/\s+/g,"_")}_${n}.pdf`),await $e.deleteWeeklyEvidence(w),e.success("PDF generated and evidence cleared.")}catch(k){console.error("PDF generation failed:",k),e.error("Failed to build report. Data was NOT deleted. Check console for details.")}finally{y(!1)}}},D=O(s);return u.jsxs("div",{className:"h-full flex flex-col space-y-6",children:[u.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-500/30 p-6 rounded-2xl flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-emerald-400 flex items-center gap-2",children:[u.jsx(cC,{className:"w-7 h-7"})," Weekly Evidence Log"]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[b.length>1?u.jsxs("div",{className:"relative group",children:[u.jsx("select",{value:T,onChange:A=>S(A.target.value),className:"appearance-none bg-emerald-500/10 border border-emerald-500/30 text-emerald-200 text-xs font-bold py-1 pl-3 pr-8 rounded-lg cursor-pointer hover:bg-emerald-500/20 transition focus:outline-none",children:b.map(A=>u.jsx("option",{value:A,children:A},A))}),u.jsx(Bs,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-emerald-400 pointer-events-none"})]}):u.jsx("span",{className:"text-emerald-200/60 text-sm font-bold",children:T}),u.jsx("span",{className:"text-emerald-200/40 text-sm",children:"| Upload photos of lab work & notes."})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"bg-black/40 px-4 py-2 rounded-lg border border-emerald-500/20 text-center",children:[u.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-widest block",children:"Cycle ID"}),u.jsx("span",{className:"font-mono text-emerald-400 font-bold",children:n})]}),u.jsxs("button",{onClick:I,disabled:p||w.length===0,className:"bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 shadow-lg shadow-emerald-900/20 transition group",children:[p?u.jsx(Pa,{className:"w-5 h-5 animate-spin"}):u.jsx(Hie,{className:"w-5 h-5 group-hover:bounce"}),"Save Report (PDF)"]})]})]}),u.jsx("input",{type:"file",ref:m,onChange:C,className:"hidden",accept:"image/*"}),u.jsx("div",{className:"flex items-center bg-white/5 p-1 rounded-xl border border-white/10 overflow-x-auto custom-scrollbar",children:ym.map(A=>{const k=O(A),E=s===A;return u.jsxs("button",{onClick:()=>c(A),className:`flex-1 min-w-[100px] flex flex-col items-center py-3 rounded-lg transition-all relative group ${E?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:[u.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-widest mb-1 ${E?"text-emerald-100":"text-gray-500 group-hover:text-gray-300"}`,children:["Day ",ym.indexOf(A)+1]}),u.jsx("span",{className:"font-bold text-sm",children:A}),k&&u.jsx("div",{className:`absolute top-2 right-2 ${E?"text-emerald-200":"text-emerald-500"}`,children:u.jsx(kv,{className:"w-3 h-3"})})]},A)})}),u.jsxs("div",{className:"flex-1 bg-white/5 border border-white/10 rounded-2xl p-6 relative overflow-hidden animate-in fade-in zoom-in-95 duration-300 flex flex-col gap-6",children:[u.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("h3",{className:"text-sm font-bold text-emerald-400 flex items-center gap-2 uppercase tracking-widest",children:[u.jsx(Jie,{className:"w-4 h-4"})," Evidence Capture (",T,")"]}),D&&u.jsxs("div",{className:"text-[9px] bg-black/40 px-2 py-0.5 rounded border border-white/10 text-gray-400 font-mono flex items-center gap-1",children:[u.jsx(ls,{className:"w-3 h-3"}),R(D.exifDate)||R(D.timestamp)]})]}),u.jsx("div",{className:"flex-1 bg-black/40 rounded-xl border-2 border-dashed border-white/10 relative group overflow-hidden transition-all hover:border-emerald-500/30",children:D?u.jsxs(u.Fragment,{children:[u.jsx("img",{src:D.imageUrl,alt:s,className:"w-full h-full object-contain bg-black/20"}),u.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition flex flex-col items-center justify-center gap-4 cursor-pointer",onClick:()=>{var A;return(A=m.current)==null?void 0:A.click()},children:[u.jsx(dp,{className:"w-8 h-8 text-emerald-400"}),u.jsx("span",{className:"text-white font-bold text-sm",children:"Replace Evidence"})]})]}):u.jsxs("button",{onClick:()=>{var A;return(A=m.current)==null?void 0:A.click()},className:"w-full h-full flex flex-col items-center justify-center text-gray-500 hover:text-emerald-400 hover:bg-white/5 transition gap-3",disabled:d,children:[d?u.jsx(Pa,{className:"w-10 h-10 animate-spin text-emerald-500"}):u.jsx("div",{className:"p-4 bg-white/5 rounded-full mb-2 group-hover:scale-110 transition shadow-xl",children:u.jsx(cC,{className:"w-8 h-8"})}),u.jsxs("div",{className:"text-center",children:[u.jsx("span",{className:"text-sm font-bold uppercase tracking-widest block",children:"Upload Photo"}),u.jsx("span",{className:"text-[10px] opacity-60",children:"Supports JPG, PNG, WEBP"})]})]})})]}),u.jsxs("div",{className:"h-48 md:h-56 flex flex-col flex-shrink-0",children:[u.jsx("div",{className:"mb-2",children:u.jsxs("h3",{className:"text-sm font-bold text-emerald-400 flex items-center gap-2 uppercase tracking-widest",children:[u.jsx(s8,{className:"w-4 h-4"})," Daily Reflection"]})}),D?u.jsx("textarea",{className:"flex-1 w-full bg-black/20 border border-white/10 rounded-xl p-4 text-sm text-gray-200 resize-none focus:outline-none focus:border-emerald-500/50 focus:bg-black/40 transition placeholder-gray-600 leading-relaxed custom-scrollbar",placeholder:`Document your findings for ${s} in ${T}...`,defaultValue:D.reflection,onBlur:A=>B(s,A.target.value)},s):u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-600 italic text-center px-10 border border-white/5 rounded-xl bg-white/5",children:[u.jsx("div",{className:"mb-2 opacity-30",children:u.jsx(r0,{className:"w-6 h-6"})}),u.jsx("p",{className:"font-medium text-sm",children:"Reflection Locked"}),u.jsx("p",{className:"text-[10px] mt-1 max-w-[200px]",children:"Upload evidence photo to unlock the reflection journal for this day."})]})]})]})]})},C3e=({user:t})=>{const e=Ii(),[r,n]=F.useState({id:Math.random().toString(36).substring(2,9),studentId:t.id,labTitle:"New Experiment",content:`Observation:

Formula used: $F = ma$`,dataPoints:[],timestamp:new Date().toISOString()}),[i,a]=F.useState(""),[s,c]=F.useState(""),[d,f]=F.useState("");F.useEffect(()=>{const y=r.content.replace(/\$(.*?)\$/g,(b,T)=>{try{return Dv.renderToString(T,{throwOnError:!1})}catch{return T}}).replace(/\n/g,"<br/>");a(y)},[r.content]);const m=async()=>{await $e.saveLabReport(r),await $e.awardXP(t.id,25),e.success("Report saved!")},p=()=>{const y=parseFloat(s),b=parseFloat(d);!isNaN(y)&&!isNaN(b)&&(n(T=>({...T,dataPoints:[...T.dataPoints,{x:y,y:b}].sort((S,w)=>S.x-w.x)})),c(""),f(""))};return u.jsxs("div",{className:"h-full flex flex-col gap-6",children:[u.jsxs("div",{className:"flex justify-between items-center bg-blue-900/20 border border-blue-500/30 p-4 rounded-xl",children:[u.jsxs("h2",{className:"text-2xl font-bold text-blue-400 flex items-center gap-2",children:[u.jsx(bx,{className:"w-6 h-6"})," Physics Laboratory"]}),u.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2",children:[u.jsx(K$,{className:"w-4 h-4"})," Save Report"]})]}),u.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-6 min-h-0",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("div",{className:"flex-1 bg-black rounded-xl overflow-hidden border border-white/10",children:u.jsx("iframe",{src:"https://phet.colorado.edu/sims/html/forces-and-motion-basics/latest/forces-and-motion-basics_en.html",className:"w-full h-full border-none",title:"PhET Sim"})}),u.jsxs("div",{className:"h-1/3 bg-white/5 border border-white/10 rounded-xl p-4 flex gap-4",children:[u.jsxs("div",{className:"w-1/3",children:[u.jsx("h4",{className:"font-bold text-gray-300 mb-2 text-xs uppercase",children:"Data Entry"}),u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("input",{type:"number",placeholder:"X",value:s,onChange:y=>c(y.target.value),className:"w-full bg-black/20 border border-white/10 rounded p-1 text-white text-sm"}),u.jsx("input",{type:"number",placeholder:"Y",value:d,onChange:y=>f(y.target.value),className:"w-full bg-black/20 border border-white/10 rounded p-1 text-white text-sm"})]}),u.jsx("button",{onClick:p,className:"w-full bg-white/10 hover:bg-white/20 text-white text-xs font-bold py-1 rounded",children:"Add Point"})]}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsx(eH,{width:"100%",height:"100%",children:u.jsxs(B5e,{children:[u.jsx(aK,{strokeDasharray:"3 3",stroke:"#333"}),u.jsx(d2,{type:"number",dataKey:"x",stroke:"#666",name:"X"}),u.jsx(h2,{type:"number",dataKey:"y",stroke:"#666",name:"Y"}),u.jsx(ro,{cursor:{strokeDasharray:"3 3"},contentStyle:{backgroundColor:"#000"}}),u.jsx(Mg,{name:"Data",data:r.dataPoints,fill:"#3b82f6"})]})})})]})]}),u.jsxs("div",{className:"flex flex-col bg-white/5 border border-white/10 rounded-xl overflow-hidden",children:[u.jsx("div",{className:"p-2 border-b border-white/10 bg-black/20 flex gap-2",children:u.jsx("div",{className:"text-xs text-gray-400 px-2 py-1",children:"Mode: LaTeX Enabled ($...$)"})}),u.jsxs("div",{className:"flex-1 flex flex-col md:flex-row min-h-0",children:[u.jsx("textarea",{className:"flex-1 bg-transparent p-4 text-sm text-gray-300 font-mono resize-none focus:outline-none border-r border-white/10",value:r.content,onChange:y=>n(b=>({...b,content:y.target.value})),placeholder:"Enter observations here. Use $E=mc^2$ for formulas."}),u.jsx("div",{className:"flex-1 bg-white/5 p-4 text-sm text-gray-200 overflow-y-auto prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:YF.sanitize(i,{ADD_TAGS:["annotation","semantics","mrow","mi","mn","mo","msup","msub","mfrac","mtext","math"],ADD_ATTR:["xmlns","encoding"]})}})]})]})]})]})},I3e=[{key:"tech",label:"Tech",color:"text-blue-400",icon:""},{key:"focus",label:"Focus",color:"text-green-400",icon:""},{key:"analysis",label:"Analysis",color:"text-yellow-400",icon:""},{key:"charisma",label:"Charisma",color:"text-purple-400",icon:""}],R3e=["HEAD","CHEST","HANDS","BELT","FEET","AMULET","RING1","RING2"],M3e=({userId:t,classType:e,onClose:r})=>{var B,I,D,A,k;const[n,i]=F.useState(null),[a,s]=F.useState(!0);if(F.useEffect(()=>{(async()=>{const U=await $e.getPublicProfile(t);i(U),s(!1)})()},[t]),a)return u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center",onClick:r,children:u.jsx("div",{className:"w-10 h-10 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"})});if(!n)return u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center",onClick:r,children:u.jsx("div",{className:"text-gray-400",children:"Player not found"})});const c=n.gamification||{xp:0,level:1,currency:0,badges:[],privacyMode:!1},d=(B=n.settings)==null?void 0:B.privacyMode,f=d?c.codename||"Unknown Agent":n.name,m=c.level||1,p=dh(m),y=NK(m),{equipped:b,appearance:T}=kx(n,e),S=Ox({gamification:{...c,equipped:b}}),w=bg(b),O=((I=c.classXp)==null?void 0:I[e])||0,R=Object.values(b).filter(Boolean),C=EK(R);return u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:u.jsxs("div",{className:"bg-[#12131e]/95 border border-white/10 rounded-3xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",onClick:E=>E.stopPropagation(),children:[u.jsxs("div",{className:"relative p-6 border-b border-white/5",children:[u.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition",children:u.jsx(us,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-24 h-32 shrink-0",children:u.jsx(Ub,{equipped:b,appearance:T})}),u.jsxs("div",{children:[u.jsx("h2",{className:`text-xl font-black ${d?"text-purple-300 italic":"text-white"}`,children:f}),u.jsx("p",{className:`text-xs font-mono uppercase tracking-widest ${p.tierColor.split(" ")[1]}`,children:p.rankName}),u.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[y.name," - Level ",m]}),u.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Dn,{className:"w-3 h-3 text-cyan-400"}),u.jsxs("span",{className:"text-xs text-cyan-400 font-bold",children:[O.toLocaleString()," XP"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ss,{className:"w-3 h-3 text-yellow-400"}),u.jsxs("span",{className:"text-xs text-yellow-400 font-bold",children:[w," GS"]})]})]})]})]})]}),u.jsxs("div",{className:"p-6 border-b border-white/5",children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(go,{className:"w-3 h-3"})," Stats"]}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:I3e.map(({key:E,label:U,color:M,icon:$})=>{const z=S[E]||0;return u.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white/3 rounded-lg",children:[u.jsx("span",{className:"text-sm",children:$}),u.jsx("span",{className:"text-xs text-gray-400",children:U}),u.jsx("span",{className:`text-sm font-bold ${M} ml-auto`,children:z})]},E)})})]}),u.jsxs("div",{className:"p-6 border-b border-white/5",children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(ss,{className:"w-3 h-3"})," Equipment"]}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:R3e.map(E=>{const U=b[E];if(!U)return u.jsxs("div",{className:"p-2 bg-white/3 rounded-lg border border-white/5",children:[u.jsx("div",{className:"text-[10px] text-gray-600 font-mono",children:E}),u.jsx("div",{className:"text-xs text-gray-700 italic",children:"Empty"})]},E);const M=zr(U.rarity);return u.jsxs("div",{className:`p-2 rounded-lg border ${M.border} ${M.bg}`,children:[u.jsx("div",{className:"text-[10px] text-gray-500 font-mono",children:E}),u.jsx("div",{className:`text-xs font-bold truncate ${M.text}`,children:U.name}),u.jsx("div",{className:"text-[9px] text-gray-500",children:U.rarity})]},E)})})]}),C.length>0&&u.jsxs("div",{className:"p-6 border-b border-white/5",children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(c8,{className:"w-3 h-3 text-purple-400"})," Set Bonuses"]}),C.map(({set:E,activeBonus:U})=>u.jsxs("div",{className:"p-2 bg-purple-500/5 border border-purple-500/20 rounded-lg mb-1",children:[u.jsx("div",{className:"text-xs font-bold text-purple-400",children:E.name}),u.jsxs("div",{className:"text-[10px] text-gray-400",children:[U.label,": ",U.effects.map(M=>`+${M.value} ${M.stat}`).join(", ")]})]},E.id))]}),(((D=c.unlockedAchievements)==null?void 0:D.length)||0)>0&&u.jsxs("div",{className:"p-6",children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(y0,{className:"w-3 h-3 text-yellow-400"})," Achievements (",(A=c.unlockedAchievements)==null?void 0:A.length,")"]}),u.jsx("div",{className:"flex flex-wrap gap-1",children:(k=c.unlockedAchievements)==null?void 0:k.slice(0,12).map(E=>u.jsx("span",{className:"text-[10px] bg-yellow-500/10 border border-yellow-500/20 rounded px-1.5 py-0.5 text-yellow-400",children:E.replace(/_/g," ")},E))})]})]})})},P3e=()=>u.jsx("div",{className:"grid grid-cols-1 divide-y divide-white/5",children:Array.from({length:5}).map((t,e)=>u.jsxs("div",{className:"p-6 flex items-center gap-6 animate-pulse",children:[u.jsx("div",{className:"w-12 h-8 bg-white/5 rounded"}),u.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("div",{className:"h-5 bg-white/5 rounded w-40"}),u.jsx("div",{className:"h-3 bg-white/5 rounded w-24"})]}),u.jsxs("div",{className:"space-y-2 text-right",children:[u.jsx("div",{className:"h-7 bg-white/5 rounded w-20 ml-auto"}),u.jsx("div",{className:"h-3 bg-white/5 rounded w-14 ml-auto"})]})]},e))}),D3e=()=>{const[t,e]=F.useState([]),[r,n]=F.useState(Nr.AP_PHYSICS),[i,a]=F.useState(!0),[s,c]=F.useState(null);F.useEffect(()=>{const m=$e.subscribeToLeaderboard(p=>{e(p),a(!1)});return()=>m()},[]);const d=F.useMemo(()=>{const m=new Set;return t.forEach(p=>{var y;return(y=p.enrolledClasses)==null?void 0:y.forEach(b=>m.add(b))}),Array.from(m).sort()},[t]),f=F.useMemo(()=>t.filter(m=>{var p;return(p=m.enrolledClasses)==null?void 0:p.includes(r)}).sort((m,p)=>{var T,S,w,O;const y=((S=(T=m.gamification)==null?void 0:T.classXp)==null?void 0:S[r])||0;return(((O=(w=p.gamification)==null?void 0:w.classXp)==null?void 0:O[r])||0)-y}).slice(0,10),[t,r]);return u.jsxs("div",{className:"max-w-4xl mx-auto pt-8",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 mb-2",children:"Class Rankings"}),u.jsx("p",{className:"text-gray-400 mb-6",children:"Top operatives by XP accumulated."}),u.jsxs("div",{className:"inline-block relative",children:[u.jsxs("select",{value:r,onChange:m=>n(m.target.value),className:"appearance-none bg-white/5 border border-white/20 text-white font-bold py-2 pl-4 pr-10 rounded-xl focus:outline-none focus:border-purple-500 cursor-pointer min-w-[200px]",children:[d.map(m=>u.jsx("option",{value:m,children:m},m)),d.length===0&&u.jsx("option",{children:r})]}),u.jsx(Bs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),u.jsx("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl overflow-hidden shadow-2xl",children:i?u.jsx(P3e,{}):u.jsxs(u.Fragment,{children:[f.length>=3&&u.jsx("div",{className:"flex items-end justify-center gap-4 px-6 pt-10 pb-6 bg-gradient-to-b from-purple-500/10 to-transparent border-b border-white/5",children:[1,0,2].map(m=>{var I,D,A,k,E;const p=f[m];if(!p)return null;const y=(I=p.settings)==null?void 0:I.privacyMode,b=y?((D=p.gamification)==null?void 0:D.codename)||"Unknown Agent":p.name,T=((k=(A=p.gamification)==null?void 0:A.classXp)==null?void 0:k[r])||0,S=((E=p.gamification)==null?void 0:E.level)||1,w=dh(S),O=m===0,R=["h-28","h-20","h-16"],C=["w-20 h-20","w-14 h-14","w-14 h-14"],B=[{icon:u.jsx(y0,{className:"w-5 h-5"}),color:"bg-yellow-500 text-yellow-900",ring:"ring-yellow-400/40"},{icon:u.jsx(fy,{className:"w-4 h-4"}),color:"bg-gray-300 text-gray-700",ring:"ring-gray-300/30"},{icon:u.jsx(fy,{className:"w-4 h-4"}),color:"bg-amber-600 text-amber-100",ring:"ring-amber-600/30"}];return u.jsxs("div",{className:`flex flex-col items-center ${O?"order-2":m===1?"order-1":"order-3"}`,style:{animation:`fadeSlideUp 0.5s ease-out ${.1+m*.15}s both`},children:[u.jsxs("div",{className:`relative mb-2 ${O?"mb-3":""}`,children:[u.jsx("div",{className:`${C[m]} rounded-full p-0.5 bg-white/10 ring-2 ${B[m].ring} relative ${O?"shadow-[0_0_30px_rgba(234,179,8,0.3)]":""}`,children:u.jsx("img",{src:p.avatarUrl,alt:b,className:`w-full h-full rounded-full border-2 ${w.tierColor.split(" ")[0]} object-cover`})}),u.jsx("div",{className:`absolute -bottom-2 left-1/2 -translate-x-1/2 ${B[m].color} rounded-full w-6 h-6 flex items-center justify-center shadow-lg`,children:B[m].icon})]}),u.jsxs("div",{className:`text-center ${O?"mt-2":"mt-1"}`,children:[u.jsx("div",{className:`font-bold truncate max-w-[100px] ${O?"text-sm text-white":"text-xs text-gray-300"} ${y?"italic":""}`,children:b}),u.jsx("div",{className:`font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 ${O?"text-xl":"text-base"}`,children:T.toLocaleString()}),u.jsx("div",{className:`text-[9px] font-mono uppercase ${w.tierColor.split(" ")[1]}`,children:w.rankName}),u.jsxs("button",{onClick:()=>c(p.id),className:"mt-1 text-[10px] text-gray-500 hover:text-purple-400 transition flex items-center gap-0.5 mx-auto",children:[u.jsx(lp,{className:"w-3 h-3"})," Inspect"]})]}),u.jsx("div",{className:`${R[m]} w-20 mt-2 rounded-t-lg bg-gradient-to-t ${m===0?"from-yellow-500/20 to-yellow-500/5 border-yellow-500/30":m===1?"from-gray-400/15 to-gray-400/5 border-gray-400/20":"from-amber-600/15 to-amber-600/5 border-amber-600/20"} border border-b-0`})]},p.id)})}),u.jsxs("div",{className:"grid grid-cols-1 divide-y divide-white/5",children:[f.slice(f.length>=3?3:0).map((m,p)=>{var R,C,B,I,D;const y=f.length>=3?p+3:p,b=(R=m.settings)==null?void 0:R.privacyMode,T=b?((C=m.gamification)==null?void 0:C.codename)||"Unknown Agent":m.name,S=((I=(B=m.gamification)==null?void 0:B.classXp)==null?void 0:I[r])||0,w=((D=m.gamification)==null?void 0:D.level)||1,O=dh(w);return u.jsxs("div",{className:"p-5 flex items-center gap-5 transition hover:bg-white/5",style:{animation:`fadeSlideUp 0.4s ease-out ${.05*y}s both`},children:[u.jsxs("div",{className:"w-10 text-center font-bold text-lg text-gray-600 font-mono",children:[y<3&&y===0&&u.jsx(y0,{className:"w-6 h-6 text-yellow-400 mx-auto"}),y<3&&y===1&&u.jsx(fy,{className:"w-6 h-6 text-gray-300 mx-auto"}),y<3&&y===2&&u.jsx(fy,{className:"w-6 h-6 text-amber-600 mx-auto"}),y>=3&&`#${y+1}`]}),u.jsxs("div",{className:"w-12 h-12 rounded-full p-0.5 bg-white/5 relative",children:[u.jsx("img",{src:m.avatarUrl,alt:T,className:`w-full h-full rounded-full border-2 ${O.tierColor.split(" ")[0]}`}),u.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-gray-900 rounded-full flex items-center justify-center text-[9px] font-bold border border-gray-600 text-white",children:w})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("h3",{className:`text-base font-bold truncate ${b?"text-purple-300 italic":"text-white"}`,children:[T,b&&u.jsx(cp,{className:"w-3 h-3 text-gray-500 inline ml-1"})]}),u.jsx("span",{className:`text-[10px] font-mono uppercase font-bold tracking-widest ${O.tierColor.split(" ")[1]}`,children:O.rankName})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500",children:S.toLocaleString()}),u.jsx("div",{className:"text-[9px] text-gray-500 font-mono tracking-widest",children:"CLASS XP"})]}),u.jsx("button",{onClick:()=>c(m.id),className:"p-2 text-gray-600 hover:text-purple-400 transition rounded-lg hover:bg-white/5",title:"Inspect player",children:u.jsx(lp,{className:"w-4 h-4"})})]},m.id)}),f.length===0&&u.jsxs("div",{className:"p-10 text-center text-gray-500 italic flex flex-col items-center gap-2",children:[u.jsx(Hc,{className:"w-8 h-8 opacity-20"}),"No operatives ranked in ",r,"."]})]})]})}),s&&u.jsx(M3e,{userId:s,classType:r,onClose:()=>c(null)})]})};class L3e extends ie.Component{constructor(r){super(r);sk(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught:",r,n)}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0f0720] p-6",children:u.jsxs("div",{className:"max-w-md w-full bg-white/5 backdrop-blur-xl border border-white/10 p-10 rounded-3xl text-center shadow-2xl",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-red-500/10 flex items-center justify-center",children:u.jsx("span",{className:"text-3xl",children:""})}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-3",children:"System Malfunction"}),u.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:"Something unexpected happened. Your data is safe  try reloading."}),this.state.error&&u.jsx("pre",{className:"text-[10px] text-red-400/60 bg-black/40 p-3 rounded-xl mb-6 text-left overflow-auto max-h-24 font-mono",children:this.state.error.message}),u.jsxs("button",{onClick:this.handleReload,className:"w-full py-4 bg-purple-600 hover:bg-purple-500 text-white rounded-xl font-bold transition flex items-center justify-center gap-2",children:[u.jsx(jv,{className:"w-5 h-5"}),"Reload Portal"]})]})}):this.props.children}}const jU={1:{name:"Remember & Understand",color:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/30",icon:u.jsx(lh,{className:"w-4 h-4"})},2:{name:"Apply & Analyze",color:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/30",icon:u.jsx(tae,{className:"w-4 h-4"})},3:{name:"Evaluate & Create",color:"text-purple-400",bg:"bg-purple-500/10",border:"border-purple-500/30",icon:u.jsx(c8,{className:"w-4 h-4"})}},B3e={multiple_choice:"Multiple Choice",multiple_select:"Select All That Apply",ranking:"Ranking Task",qualitative_reasoning:"Qualitative Reasoning",linked_mc:"Linked Questions",troubleshooting:"Troubleshooting",conflicting_contentions:"Conflicting Contentions",whats_wrong:"What's Wrong?",working_backwards:"Working Backwards"},wS=3;function _S(t,e){const r=[...t];for(let n=r.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[r[n],r[i]]=[r[i],r[n]]}return r.slice(0,e)}const U3e=({assignment:t})=>{const e=Ii(),[r,n]=F.useState([]),[i,a]=F.useState([]),[s,c]=F.useState(!0),[d,f]=F.useState(!1),[m,p]=F.useState({}),[y,b]=F.useState(1),[T,S]=F.useState(null),[w,O]=F.useState(new Set),R=F.useCallback(M=>{const $=_S(M.filter(te=>te.tier===1),wS),z=_S(M.filter(te=>te.tier===2),wS),Y=_S(M.filter(te=>te.tier===3),wS);a([...$,...z,...Y]),p({}),S(null)},[]);F.useEffect(()=>{(async()=>{var $;c(!0),f(!1);try{const z=await qi(st(Le,"question_banks",t.id));if(!z.exists()){f(!0);return}const Y=z.data().questions||[];n(Y),R(Y)}catch(z){console.error("Failed to load question bank:",z),f(!0);return}finally{c(!1)}try{const z=($=_z().currentUser)==null?void 0:$.uid;if(z){const Y=await qi(st(Le,"review_progress",`${z}_${t.id}`));Y.exists()&&O(new Set(Y.data().answeredQuestions||[]))}}catch(z){console.warn("Could not load review progress:",z)}})()},[t.id,R]);const C=()=>{r.length>0&&R(r)},B=(M,$,z)=>{const Y=m[M];if(!(Y!=null&&Y.submitted))if(z==="multiple_select"||z==="ranking"){const te=(Y==null?void 0:Y.selected)||[],K=te.includes($)?te.filter(J=>J!==$):[...te,$];p(J=>({...J,[M]:{...J[M],selected:K,submitted:!1,correct:!1,xpAwarded:!1}}))}else p(te=>({...te,[M]:{selected:$,submitted:!1,correct:!1,xpAwarded:!1}}))},I=(M,$)=>{var z;(z=m[M])!=null&&z.submitted||p(Y=>({...Y,[M]:{...Y[M],linkedSelected:$}}))},D=async M=>{const $=m[M.id];if(!($!=null&&$.selected))return;let z=!1;if(M.type==="multiple_select"||M.type==="ranking"){const Y=$.selected,te=M.correctAnswer;z=Y.length===te.length&&Y.every((K,J)=>K===te[J])}else M.type==="linked_mc"?z=$.selected===M.correctAnswer&&(!M.linkedFollowUp||$.linkedSelected===M.linkedFollowUp.correctAnswer):z=$.selected===M.correctAnswer;if(z)if(w.has(M.id))p(Y=>({...Y,[M.id]:{...Y[M.id],submitted:!0,correct:!0,xpAwarded:!1}})),e.success("Correct! (XP already claimed for this question)");else{p(Y=>({...Y,[M.id]:{...Y[M.id],submitted:!0,correct:!0,xpAwarded:!1}}));try{(await U$({assignmentId:t.id,questionId:M.id,xpAmount:M.xp,classType:t.classType})).data.awarded?(e.success(`+${M.xp} XP earned!`),p(K=>({...K,[M.id]:{...K[M.id],submitted:!0,correct:!0,xpAwarded:!0}})),O(K=>new Set([...K,M.id]))):e.success("Correct! (XP already claimed)")}catch(Y){console.error("XP award error:",Y)}}else p(Y=>({...Y,[M.id]:{...Y[M.id],submitted:!0,correct:!1,xpAwarded:!1}}))},A=F.useMemo(()=>i.filter(M=>M.tier===y),[i,y]),k=F.useMemo(()=>Object.entries(m).filter(([,M])=>M.correct&&M.xpAwarded).reduce((M,[$])=>{var z;return M+(((z=i.find(Y=>Y.id===$))==null?void 0:z.xp)||0)},0),[m,i]),E=F.useMemo(()=>i.reduce((M,$)=>M+$.xp,0),[i]),U=F.useMemo(()=>i.length>0&&i.every(M=>{var $;return($=m[M.id])==null?void 0:$.submitted}),[i,m]);return s?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[u.jsx(Pa,{className:"w-8 h-8 text-purple-400 animate-spin"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Loading questions..."})]}):d?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[u.jsx(lh,{className:"w-12 h-12 text-gray-600"}),u.jsx("p",{className:"text-gray-400 font-bold",children:"No Questions Available"}),u.jsx("p",{className:"text-gray-600 text-sm text-center max-w-sm",children:"Your teacher hasn't uploaded review questions for this resource yet."})]}):u.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-black/40 border-b border-white/10",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(lh,{className:"w-5 h-5 text-purple-400"}),u.jsx("span",{className:"font-bold text-white text-sm",children:"Conceptual Review"}),u.jsxs("span",{className:"text-[10px] bg-white/10 text-gray-400 px-2 py-0.5 rounded-full font-mono",children:[r.length," in bank"]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Dn,{className:"w-4 h-4 text-yellow-400"}),u.jsx("span",{className:"text-sm font-bold text-yellow-400",children:k}),u.jsxs("span",{className:"text-[10px] text-gray-500",children:["/ ",E," XP"]})]}),u.jsxs("button",{onClick:C,className:"flex items-center gap-1.5 text-[10px] font-bold text-purple-400 bg-purple-500/10 hover:bg-purple-500/20 px-3 py-1.5 rounded-lg border border-purple-500/30 transition",children:[u.jsx(jv,{className:"w-3 h-3"})," New Set"]})]})]}),u.jsx("div",{className:"flex gap-2 px-4 py-3 border-b border-white/5 bg-black/20",children:[1,2,3].map(M=>{const $=jU[M],z=i.filter(K=>K.tier===M),Y=z.filter(K=>{var J;return(J=m[K.id])==null?void 0:J.submitted}).length,te=z.filter(K=>{var J;return(J=m[K.id])==null?void 0:J.correct}).length;return u.jsxs("button",{onClick:()=>b(M),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all ${y===M?`${$.bg} ${$.color} ${$.border} border`:"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[$.icon,u.jsx("span",{className:"hidden sm:inline",children:$.name}),u.jsxs("span",{className:"sm:hidden",children:["Tier ",M]}),Y>0&&u.jsxs("span",{className:`ml-1 text-[9px] px-1.5 py-0.5 rounded-full ${te===z.length?"bg-emerald-500/20 text-emerald-400":"bg-white/10 text-gray-400"}`,children:[te,"/",z.length]})]},M)})}),U&&u.jsxs("div",{className:"px-4 py-3 bg-purple-500/10 border-b border-purple-500/20 flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-purple-300 font-bold",children:"Set complete!"}),u.jsxs("button",{onClick:C,className:"bg-purple-600 hover:bg-purple-500 text-white text-xs font-bold px-4 py-2 rounded-lg transition flex items-center gap-1.5",children:[u.jsx(jv,{className:"w-3 h-3"})," New Questions"]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-4",children:[A.map((M,$)=>{const z=m[M.id],Y=T===M.id,te=z==null?void 0:z.submitted,K=z==null?void 0:z.correct,J=jU[M.tier];return u.jsxs("div",{className:`rounded-2xl border transition-all ${te?K?"border-emerald-500/40 bg-emerald-500/5":"border-red-500/30 bg-red-500/5":Y?`${J.border} ${J.bg}`:"border-white/10 bg-white/5 hover:border-white/20"}`,children:[u.jsxs("button",{onClick:()=>S(Y?null:M.id),className:"w-full p-4 flex items-start gap-3 text-left",children:[u.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 text-xs font-black ${te?K?"bg-emerald-500 text-white":"bg-red-500/20 text-red-400":`${J.bg} ${J.color}`}`,children:te?K?u.jsx(pn,{className:"w-4 h-4"}):u.jsx(op,{className:"w-4 h-4"}):$+1}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[u.jsx("span",{className:`text-[9px] font-bold uppercase tracking-wider ${J.color}`,children:M.bloomsLevel}),u.jsx("span",{className:"text-[9px] text-gray-600",children:""}),u.jsx("span",{className:"text-[9px] text-gray-500 font-mono",children:B3e[M.type]||M.type}),u.jsxs("span",{className:"text-[9px] text-yellow-500 font-bold ml-auto flex items-center gap-0.5",children:[u.jsx(Dn,{className:"w-3 h-3"}),M.xp," XP"]})]}),u.jsx("p",{className:"text-sm text-gray-200 font-medium leading-snug",children:M.stem})]}),u.jsx(r0,{className:`w-4 h-4 text-gray-500 transition-transform flex-shrink-0 mt-1 ${Y?"rotate-90":""}`})]}),Y&&u.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[M.context&&u.jsx("div",{className:"bg-black/30 border border-white/10 rounded-xl p-3 text-xs text-gray-400 italic leading-relaxed",children:M.context}),M.type==="ranking"?u.jsx($3e,{question:M,answer:z,onSelect:B}):M.type==="multiple_select"?u.jsx(V3e,{question:M,answer:z,onSelect:B}):u.jsx(z3e,{question:M,answer:z,onSelect:B}),M.type==="linked_mc"&&M.linkedFollowUp&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10",children:[u.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest mb-2",children:"Follow-Up"}),u.jsx("p",{className:"text-sm text-gray-200 font-medium mb-3",children:M.linkedFollowUp.stem}),u.jsx("div",{className:"space-y-2",children:M.linkedFollowUp.options.map(Q=>{const ye=(z==null?void 0:z.linkedSelected)===Q.id,se=te,X=Q.id===M.linkedFollowUp.correctAnswer;return u.jsxs("button",{onClick:()=>I(M.id,Q.id),disabled:te,className:`w-full text-left p-3 rounded-xl border text-sm transition-all ${se?X?"border-emerald-500/50 bg-emerald-500/10 text-emerald-300":ye?"border-red-500/40 bg-red-500/10 text-red-300":"border-white/5 text-gray-500":ye?"border-purple-500/50 bg-purple-500/10 text-white":"border-white/10 hover:border-white/20 text-gray-300"}`,children:[u.jsxs("span",{className:"font-mono font-bold mr-2 text-xs",children:[Q.id.toUpperCase(),"."]})," ",Q.text]},Q.id)})})]}),te?u.jsxs("div",{className:`p-4 rounded-xl border ${K?"border-emerald-500/30 bg-emerald-500/5":"border-red-500/30 bg-red-500/5"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[K?u.jsx(pn,{className:"w-5 h-5 text-emerald-400"}):u.jsx(op,{className:"w-5 h-5 text-red-400"}),u.jsx("span",{className:`font-bold text-sm ${K?"text-emerald-400":"text-red-400"}`,children:K?`Correct! +${M.xp} XP`:"Incorrect"})]}),u.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:M.explanation})]}):u.jsx("button",{onClick:()=>D(M),disabled:!(z!=null&&z.selected)||Array.isArray(z==null?void 0:z.selected)&&z.selected.length===0,className:"w-full py-3 bg-purple-600 hover:bg-purple-500 disabled:bg-gray-700 disabled:text-gray-500 text-white font-bold rounded-xl transition",children:"Submit Answer"})]})]},M.id)}),A.length===0&&u.jsxs("div",{className:"text-center py-12 text-gray-500 italic",children:[u.jsx(cp,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),"No questions for this tier."]})]})]})},z3e=({question:t,answer:e,onSelect:r})=>u.jsx("div",{className:"space-y-2",children:t.options.map(n=>{const i=(e==null?void 0:e.selected)===n.id,a=e==null?void 0:e.submitted,s=n.id===t.correctAnswer;return u.jsxs("button",{onClick:()=>r(t.id,n.id,t.type),disabled:e==null?void 0:e.submitted,className:`w-full text-left p-3 rounded-xl border text-sm transition-all ${a?s?"border-emerald-500/50 bg-emerald-500/10 text-emerald-300":i?"border-red-500/40 bg-red-500/10 text-red-300":"border-white/5 text-gray-500":i?"border-purple-500/50 bg-purple-500/10 text-white":"border-white/10 hover:border-white/20 text-gray-300"}`,children:[u.jsxs("span",{className:"font-mono font-bold mr-2 text-xs",children:[n.id.toUpperCase(),"."]})," ",n.text]},n.id)})}),V3e=({question:t,answer:e,onSelect:r})=>{const n=(e==null?void 0:e.selected)||[],i=t.correctAnswer;return u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:"Select all that apply"}),t.options.map(a=>{const s=n.includes(a.id),c=e==null?void 0:e.submitted,d=i.includes(a.id);return u.jsxs("button",{onClick:()=>r(t.id,a.id,"multiple_select"),disabled:e==null?void 0:e.submitted,className:`w-full text-left p-3 rounded-xl border text-sm transition-all flex items-center gap-3 ${c?d?"border-emerald-500/50 bg-emerald-500/10 text-emerald-300":s?"border-red-500/40 bg-red-500/10 text-red-300":"border-white/5 text-gray-500":s?"border-purple-500/50 bg-purple-500/10 text-white":"border-white/10 hover:border-white/20 text-gray-300"}`,children:[u.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 ${s?"border-purple-500 bg-purple-500":"border-gray-600"}`,children:s&&u.jsx(pn,{className:"w-3 h-3 text-white"})}),u.jsxs("span",{children:[u.jsxs("span",{className:"font-mono font-bold mr-1 text-xs",children:[a.id.toUpperCase(),"."]})," ",a.text]})]},a.id)})]})},$3e=({question:t,answer:e,onSelect:r})=>{const n=(e==null?void 0:e.selected)||[],i=e==null?void 0:e.submitted,a=t.correctAnswer;return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest flex items-center gap-1",children:[u.jsx(Lie,{className:"w-3 h-3"})," Click in order (first to last)"]}),n.length>0&&u.jsx("div",{className:"flex gap-1 flex-wrap mb-2",children:n.map((s,c)=>{const d=t.options.find(m=>m.id===s),f=i&&a[c]===s;return u.jsxs("span",{className:`text-[10px] font-bold px-2 py-1 rounded-lg ${i?f?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-red-500/20 text-red-400 border border-red-500/30":"bg-purple-500/20 text-purple-300 border border-purple-500/30"}`,children:[c+1,". ",d==null?void 0:d.text.slice(0,30),((d==null?void 0:d.text.length)||0)>30?"...":""]},s)})}),t.options.map(s=>{const c=n.includes(s.id),d=n.indexOf(s.id);return u.jsxs("button",{onClick:()=>r(t.id,s.id,"ranking"),disabled:e==null?void 0:e.submitted,className:`w-full text-left p-3 rounded-xl border text-sm transition-all flex items-center gap-3 ${c?"border-purple-500/50 bg-purple-500/10 text-purple-300 opacity-60":"border-white/10 hover:border-white/20 text-gray-300"}`,children:[c?u.jsx("span",{className:"w-6 h-6 rounded-full bg-purple-500 text-white text-xs font-bold flex items-center justify-center",children:d+1}):u.jsx("span",{className:"w-6 h-6 rounded-full border-2 border-gray-600 text-xs flex items-center justify-center text-gray-600",children:"?"}),s.text]},s.id)})]})};function F3e(t){let e=t;return e=e.replace(/([A-Z][a-z]?)\s+\1(?:\s+[a-z])?\s**/g,"$1"),e=e.replace(/[\u200B\u200C\u200D\uFEFF\u00AD]/g,""),e=e.replace(/\$\$([^$]+)\$\$/g,(r,n)=>{try{return`<div class="my-3 text-center">${Dv.renderToString(n.trim(),{throwOnError:!1,displayMode:!0})}</div>`}catch{return`<code class="math-block">${n}</code>`}}),e=e.replace(/\$([^$]+)\$/g,(r,n)=>{try{return Dv.renderToString(n.trim(),{throwOnError:!1,displayMode:!1})}catch{return`<code class="math-inline">${n}</code>`}}),e=e.replace(new RegExp("(?<![a-z])([A-Z][a-z]*(?:_?\\{?[a-z]*\\}?)?)\\s*=\\s*([-]?(?:frac|sqrt|Delta|\\\\)?[\\w\\d{}()^_/\\\\.,]+(?:\\s*[+\\-*/]\\s*[-]?(?:frac|sqrt|Delta|\\\\)?[\\w\\d{}()^_/\\\\.,]+)*)(?![a-zA-Z])","g"),(r,n,i)=>`<code class="math-inline">${n} = ${i}</code>`),e=e.replace(/\\n\\n|\n\n/g,'</p><p class="mt-3">'),e=e.replace(/(?:^|\n)\*\s+(.+)/g,'<li class="ml-4 list-disc">$1</li>'),e=e.replace(/(?:^|\n)-\s+(.+)/g,'<li class="ml-4 list-disc">$1</li>'),e=e.replace(/((?:<li[^>]*>.*?<\/li>\s*)+)/g,'<ul class="my-2 space-y-1">$1</ul>'),e=e.replace(/(?:^|\n)(\d+)\.\s+(.+)/g,'<li class="ml-4" value="$1">$2</li>'),e=e.replace(/\\n|\n/g,"<br/>"),e=e.replace(/\*\*(.+?)\*\*/g,'<strong class="text-white">$1</strong>'),`<p>${e}</p>`}const q3e=({assignment:t,onComplete:e})=>{const[r,n]=F.useState(null),[i,a]=F.useState(!0),[s,c]=F.useState(!1),d=F.useRef(Ov()),f=F.useRef(Date.now()),m=F.useRef(e),[p,y]=F.useState(!0),[b,T]=F.useState(0);F.useEffect(()=>{m.current=e},[e]);const S=F.useCallback(()=>{f.current=Date.now(),p||y(!0)},[p]);F.useEffect(()=>{const O=setInterval(()=>{Date.now()-f.current<6e4?(d.current.engagementTime+=1,T(d.current.engagementTime),p||y(!0)):p&&y(!1)},1e3);return()=>clearInterval(O)},[p]),F.useEffect(()=>{const O=["mousemove","keydown","scroll","click"];return O.forEach(R=>window.addEventListener(R,S)),()=>{O.forEach(R=>window.removeEventListener(R,S))}},[S]),F.useEffect(()=>()=>{m.current(d.current)},[]),F.useEffect(()=>{(async()=>{a(!0);try{const R=await qi(st(Le,"reading_materials",t.id));R.exists()?n(R.data()):c(!0)}catch(R){console.error("Failed to load reading material:",R),c(!0)}finally{a(!1)}})()},[t.id]);const w=F.useMemo(()=>r?r.sections.map(O=>({title:O.title,html:F3e(O.content)})):[],[r]);return i?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[u.jsx(Pa,{className:"w-8 h-8 text-purple-400 animate-spin"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Loading study material..."})]}):s||!r?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[u.jsx(Ls,{className:"w-12 h-12 text-gray-600"}),u.jsx("p",{className:"text-gray-400 font-bold",children:"No Study Material Available"}),u.jsx("p",{className:"text-gray-600 text-sm text-center max-w-sm",children:"Your teacher hasn't uploaded reading material for this resource yet."})]}):u.jsxs("div",{className:"flex flex-col h-full bg-black/20 border border-white/10 rounded-2xl overflow-hidden relative",children:[u.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 flex justify-between items-center border-b border-white/5 z-20 shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:`flex items-center gap-2 text-sm font-bold ${p?"text-green-400":"text-yellow-500"}`,children:[p?u.jsx(a8,{className:"w-4 h-4"}):u.jsx(ls,{className:"w-4 h-4 animate-pulse"}),p?"Reading Active":"Away (Paused)"]}),u.jsxs("div",{className:"text-xs text-gray-400 font-mono bg-black/40 px-2 py-1 rounded",children:["TIME: ",Math.floor(b/60),"m ",b%60,"s"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[r.estimatedMinutes&&u.jsxs("span",{className:"text-[10px] text-gray-500 font-mono",children:["~",r.estimatedMinutes," min read"]}),!p&&u.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-yellow-500 bg-yellow-500/10 px-3 py-1 rounded-full border border-yellow-500/20 uppercase font-bold tracking-widest",children:[u.jsx(cs,{className:"w-3 h-3"})," Scroll to earn XP"]})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",onScroll:S,children:u.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:r.title}),r.description&&u.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:r.description})]}),u.jsx("div",{className:"space-y-10",children:w.map((O,R)=>u.jsxs("div",{className:"group",children:[u.jsxs("h2",{className:"text-lg font-bold text-purple-300 mb-4 flex items-center gap-3",children:[u.jsx("span",{className:"w-7 h-7 rounded-lg bg-purple-500/20 text-purple-400 text-xs font-black flex items-center justify-center shrink-0",children:R+1}),O.title]}),u.jsx("div",{className:"study-content text-sm text-gray-300 leading-relaxed pl-10",dangerouslySetInnerHTML:{__html:O.html}})]},R))}),u.jsx("div",{className:"mt-12 mb-4 text-center",children:u.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-500/10 text-emerald-400 text-xs font-bold px-4 py-2 rounded-full border border-emerald-500/20",children:[u.jsx(Ls,{className:"w-3.5 h-3.5"}),"Keep reading to earn engagement XP"]})})]})})]})},H3e=()=>{var ye;const[t,e]=F.useState(null),[r,n]=F.useState("Dashboard"),[i,a]=F.useState([]),[s,c]=F.useState([]),[d,f]=F.useState([]),[m,p]=F.useState([]),[y,b]=F.useState([]),[T,S]=F.useState(null),[w,O]=F.useState("STUDENT"),[R,C]=F.useState("WORK"),[B,I]=F.useState(!0),[D,A]=F.useState(!1),k=F.useMemo(()=>{const se=new Map;return s.forEach(X=>{const ee=se.get(X.userId)||[];ee.push(X),se.set(X.userId,ee)}),d.map(X=>{const ee=se.get(X.id)||[],ce=ee.length,Ne=Math.round(ee.reduce((oe,Oe)=>{var Me;return oe+(((Me=Oe.metrics)==null?void 0:Me.engagementTime)||0)},0)/60);return{...X,stats:{problemsCompleted:ce,avgScore:0,rawAccuracy:0,totalTime:Ne}}})},[d,s]),E=F.useMemo(()=>i.find(se=>se.id===T)||null,[i,T]);F.useEffect(()=>{let se=null;const X=GQ(tT,async ee=>{ee?(await U(ee),se=Gr(st(Le,"users",ee.uid),ce=>{ce.exists()&&e(Ne=>({...Ne||{},...ce.data(),id:ee.uid}))})):(e(null),se&&se(),I(!1))});return()=>{X(),se&&se()}},[]),F.useEffect(()=>{if(t&&(t.isWhitelisted||t.role===Fi.ADMIN)){const se=$e.subscribeToAssignments(a),X=$e.subscribeToClassConfigs(b),ee=[se,X];return t.role===Fi.ADMIN?(ee.push($e.subscribeToSubmissions(c)),ee.push($e.subscribeToUsers(f)),ee.push($e.subscribeToWhitelist(p))):ee.push($e.subscribeToUserSubmissions(t.id,c)),()=>ee.forEach(ce=>ce())}},[t==null?void 0:t.id,t==null?void 0:t.isWhitelisted,t==null?void 0:t.role]),F.useEffect(()=>{var se;ale(((se=t==null?void 0:t.settings)==null?void 0:se.soundEffects)!==!1)},[(ye=t==null?void 0:t.settings)==null?void 0:ye.soundEffects]);const U=async se=>{try{const X=st(Le,"users",se.uid),ee=await qi(X),ce=await qi(st(Le,"allowed_emails",se.email||"")),oe=(await se.getIdTokenResult()).claims.admin===!0||se.email===Tae,Oe=ce.exists()||oe,Me=ce.exists()?ce.data():null,it=(Me==null?void 0:Me.classType)||Nr.UNCATEGORIZED,Ee=(Me==null?void 0:Me.classTypes)||(it!==Nr.UNCATEGORIZED?[it]:[]);if(ee.exists()){const He=ee.data(),he={lastLoginAt:new Date().toISOString(),isWhitelisted:Oe};if(oe&&(he.role="ADMIN"),!Oe&&!oe&&(he.enrolledClasses=[]),Oe&&Ee.length>0){const ge=He.enrolledClasses||[],We=Array.from(new Set([...ge,...Ee]));We.length!==ge.length&&(he.enrolledClasses=We,(!He.classType||He.classType===Nr.UNCATEGORIZED)&&(he.classType=Ee[0]))}await Er(X,he)}else{const He={email:se.email,name:se.displayName||"Student",avatarUrl:se.photoURL||"",role:oe?"ADMIN":"STUDENT",classType:it,enrolledClasses:Oe?Ee:[],isWhitelisted:Oe,createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString(),gamification:{xp:0,level:1,currency:0,badges:[],privacyMode:!1,classXp:{}},settings:{liveBackground:!0,performanceMode:!1,privacyMode:!1,compactView:!1}};await Vi(X,He)}}catch(X){console.error(X)}finally{I(!1)}},M=async()=>{await KQ(tT),e(null),S(null)},$=se=>{C("WORK"),S(se)},z=F.useRef(E),Y=F.useRef(t);F.useEffect(()=>{z.current=E},[E]),F.useEffect(()=>{Y.current=t},[t]);const te=async se=>{const X=Y.current,ee=z.current;if(!(!X||!ee||X.role===Fi.ADMIN)&&!(se.engagementTime<10))try{await $e.submitEngagement(X.id,X.name,ee.id,ee.title,se,ee.classType)}catch(ce){console.error("Engagement submission failed:",ce)}};if(B)return u.jsx("div",{className:"h-screen flex items-center justify-center bg-[#0f0720] text-white font-mono",children:"ESTABLISHING CONNECTION..."});if(!t)return u.jsx(lle,{});if(!t.isWhitelisted&&t.role!==Fi.ADMIN)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0f0720] p-6",children:u.jsxs("div",{className:"max-w-md w-full bg-white/5 backdrop-blur-xl border border-white/10 p-10 rounded-3xl text-center shadow-2xl relative z-10",children:[u.jsx(xx,{className:"w-16 h-16 text-amber-500 mx-auto mb-6"}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Access Pending"}),u.jsxs("p",{className:"text-gray-300 mb-8",children:["Hi ",t.name,"! Your account is currently restricted. Please contact ",Q$," for authorization."]}),u.jsx("button",{onClick:M,className:"w-full py-4 bg-white/5 border border-white/10 text-white rounded-xl hover:bg-red-500/20 transition-all font-bold",children:"Sign Out"})]})});const K=F.useMemo(()=>{const se={physicsLab:!0,evidenceLocker:!0,leaderboard:!0,physicsTools:!0,communications:!0};if(t.role==="STUDENT"&&t.classType){const X=y.find(ee=>ee.className===t.classType);if(X)return X.features}return se},[t.role,t.classType,y]),J=t.role===Fi.ADMIN||K.physicsTools,Q=t.role===Fi.ADMIN||K.communications;return u.jsx(L3e,{children:u.jsx(cle,{children:u.jsx(Oae,{children:u.jsxs(u.Fragment,{children:[u.jsx(kae,{}),J&&u.jsx(kle,{onToggleChat:Q?()=>A(!D):void 0}),Q&&u.jsx(Ile,{user:t,isOpen:D,onClose:()=>A(!1),assignments:i,classConfigs:y,onOpenResource:se=>{$(se)}}),u.jsx(Cae,{user:t,onLogout:M,activeTab:r,setActiveTab:n,children:E?u.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center text-white bg-white/5 p-4 rounded-xl border border-white/10 backdrop-blur-md gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[E.title,t.role===Fi.ADMIN&&u.jsx("span",{className:"text-[10px] bg-purple-600 px-2 py-1 rounded-full uppercase tracking-widest",children:"Admin Control"})]}),u.jsxs("div",{className:"flex gap-4 mt-2",children:[u.jsx("button",{onClick:()=>C("WORK"),className:`text-sm font-bold pb-1 border-b-2 transition ${R==="WORK"?"border-purple-500 text-white":"border-transparent text-gray-400"}`,children:"Resource"}),E.category==="Practice Set"?u.jsxs("button",{onClick:()=>C("REVIEW"),className:`text-sm font-bold pb-1 border-b-2 transition flex items-center gap-1.5 ${R==="REVIEW"?"border-purple-500 text-white":"border-transparent text-gray-400"}`,children:[u.jsx(Ls,{className:"w-3.5 h-3.5"})," Study Material"]}):u.jsxs("button",{onClick:()=>C("REVIEW"),className:`text-sm font-bold pb-1 border-b-2 transition flex items-center gap-1.5 ${R==="REVIEW"?"border-purple-500 text-white":"border-transparent text-gray-400"}`,children:[u.jsx(lh,{className:"w-3.5 h-3.5"})," Review"]})]})]}),u.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[t.role==="ADMIN"&&u.jsxs("div",{className:"flex bg-black/40 rounded-lg p-1 border border-white/10 text-[10px] font-bold",children:[u.jsx("button",{onClick:()=>O("STUDENT"),className:`px-3 py-1.5 rounded transition ${w==="STUDENT"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:"Student View"}),u.jsx("button",{onClick:()=>O("ADMIN"),className:`px-3 py-1.5 rounded transition ${w==="ADMIN"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:"Admin View"})]}),u.jsxs("button",{onClick:()=>{S(null),C("WORK")},className:"text-gray-400 hover:text-white transition flex items-center gap-1 text-sm bg-white/5 px-4 py-2 rounded-lg border border-white/10",children:[u.jsx(Die,{className:"w-4 h-4"})," Exit"]})]})]}),u.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[R==="WORK"&&u.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx(ole,{onComplete:te,contentUrl:E.contentUrl,htmlContent:E.htmlContent,userId:t.id,assignmentId:E.id,classType:E.classType})}),w==="ADMIN"&&t.role===Fi.ADMIN&&u.jsxs("div",{className:"w-full md:w-72 bg-white/5 border border-white/10 rounded-2xl p-6 backdrop-blur-md animate-in slide-in-from-right duration-300 overflow-y-auto",children:[u.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[u.jsx(up,{className:"w-4 h-4 text-purple-400"})," Admin Controls"]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5",children:[u.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest block mb-2",children:"Active Engagement"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-purple-600/20 rounded-xl flex items-center justify-center text-purple-400",children:u.jsx(Hc,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:s.filter(se=>se.assignmentId===E.id&&!se.isArchived).length}),u.jsx("div",{className:"text-[10px] text-gray-500",children:"Live Operatives"})]})]})]}),u.jsxs("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5",children:[u.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest block mb-2",children:"Collaboration"}),u.jsx("button",{onClick:()=>A(!0),className:"w-full bg-indigo-600 border border-indigo-500 py-2 rounded-lg text-xs font-bold text-white hover:bg-indigo-500 transition",children:"Open Class Chat"})]})]})]})]}),R==="REVIEW"&&u.jsx("div",{className:"h-full bg-white/5 border border-white/10 rounded-2xl overflow-hidden backdrop-blur-md",style:{animation:"tabEnter 0.3s ease-out both"},children:E.category==="Practice Set"?u.jsx(q3e,{assignment:E,onComplete:te}):u.jsx(U3e,{assignment:E})})]})]}):u.jsx("div",{className:"h-full",children:u.jsxs("div",{className:"h-full animate-in fade-in slide-in-from-bottom-2 duration-300",children:[t.role===Fi.ADMIN&&u.jsxs(u.Fragment,{children:[r==="Dashboard"&&u.jsx(mle,{users:k,assignments:i,submissions:s}),r==="User Management"&&u.jsx(ple,{users:k,whitelistedEmails:m,classConfigs:y,onWhitelist:async(se,X)=>$e.addToWhitelist(se,X)}),r==="Admin Panel"&&u.jsx(xle,{assignments:i,submissions:s,onCreateAssignment:async se=>{se.title&&await $e.addAssignment(se)},classConfigs:y,onPreviewAssignment:se=>{O("STUDENT"),$(se)}}),r==="XP Command"&&u.jsx(Nle,{users:d})]}),t.role===Fi.STUDENT&&u.jsxs(u.Fragment,{children:[r==="Dashboard"&&u.jsx(i3e,{user:t,assignments:i,submissions:s,enabledFeatures:K,onNavigate:n,onStartAssignment:$}),r==="Forensics"&&K.evidenceLocker&&u.jsx(j3e,{user:t}),r==="Physics Lab"&&K.physicsLab&&u.jsx(C3e,{user:t}),r==="Leaderboard"&&K.leaderboard&&u.jsx(D3e,{})]})]},r)})})]})})})})},VK=document.getElementById("root");if(!VK)throw new Error("Could not find root element to mount to");const G3e=OX.createRoot(VK);G3e.render(u.jsx(ie.StrictMode,{children:u.jsx(H3e,{})}));
