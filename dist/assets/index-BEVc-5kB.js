var RY=Object.defineProperty;var MY=(t,e,r)=>e in t?RY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var jk=(t,e,r)=>MY(t,typeof e!="symbol"?e+"":e,r);import{jsPDF as PY}from"jspdf";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d5={exports:{}},wp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kk;function DY(){if(kk)return wp;kk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:s,ref:i!==void 0?i:null,props:a}}return wp.Fragment=e,wp.jsx=r,wp.jsxs=r,wp}var Ok;function LY(){return Ok||(Ok=1,d5.exports=DY()),d5.exports}var u=LY(),h5={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ik;function BY(){if(Ik)return Vt;Ik=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function b(X){return X===null||typeof X!="object"?null:(X=y&&X[y]||X["@@iterator"],typeof X=="function"?X:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function N(X,te,ue){this.props=X,this.context=te,this.refs=w,this.updater=ue||T}N.prototype.isReactComponent={},N.prototype.setState=function(X,te){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,te,"setState")},N.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function k(){}k.prototype=N.prototype;function j(X,te,ue){this.props=X,this.context=te,this.refs=w,this.updater=ue||T}var $=j.prototype=new k;$.constructor=j,S($,N.prototype),$.isPureReactComponent=!0;var I=Array.isArray;function L(){}var E={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(X,te,ue){var oe=ue.ref;return{$$typeof:t,type:X,key:te,ref:oe!==void 0?oe:null,props:ue}}function F(X,te){return R(X.type,te,X.props)}function D(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function B(X){var te={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(ue){return te[ue]})}var M=/\/+/g;function Q(X,te){return typeof X=="object"&&X!==null&&X.key!=null?B(""+X.key):te.toString(36)}function Z(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(L,L):(X.status="pending",X.then(function(te){X.status==="pending"&&(X.status="fulfilled",X.value=te)},function(te){X.status==="pending"&&(X.status="rejected",X.reason=te)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function W(X,te,ue,oe,ae){var pe=typeof X;(pe==="undefined"||pe==="boolean")&&(X=null);var ye=!1;if(X===null)ye=!0;else switch(pe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(X.$$typeof){case t:case e:ye=!0;break;case p:return ye=X._init,W(ye(X._payload),te,ue,oe,ae)}}if(ye)return ae=ae(X),ye=oe===""?"."+Q(X,0):oe,I(ae)?(ue="",ye!=null&&(ue=ye.replace(M,"$&/")+"/"),W(ae,te,ue,"",function(le){return le})):ae!=null&&(D(ae)&&(ae=F(ae,ue+(ae.key==null||X&&X.key===ae.key?"":(""+ae.key).replace(M,"$&/")+"/")+ye)),te.push(ae)),1;ye=0;var Xe=oe===""?".":oe+":";if(I(X))for(var Ne=0;Ne<X.length;Ne++)oe=X[Ne],pe=Xe+Q(oe,Ne),ye+=W(oe,te,ue,pe,ae);else if(Ne=b(X),typeof Ne=="function")for(X=Ne.call(X),Ne=0;!(oe=X.next()).done;)oe=oe.value,pe=Xe+Q(oe,Ne++),ye+=W(oe,te,ue,pe,ae);else if(pe==="object"){if(typeof X.then=="function")return W(Z(X),te,ue,oe,ae);throw te=String(X),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ye}function J(X,te,ue){if(X==null)return X;var oe=[],ae=0;return W(X,oe,"","",function(pe){return te.call(ue,pe,ae++)}),oe}function Y(X){if(X._status===-1){var te=X._result;te=te(),te.then(function(ue){(X._status===0||X._status===-1)&&(X._status=1,X._result=ue)},function(ue){(X._status===0||X._status===-1)&&(X._status=2,X._result=ue)}),X._status===-1&&(X._status=0,X._result=te)}if(X._status===1)return X._result.default;throw X._result}var ge=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},ce={map:J,forEach:function(X,te,ue){J(X,function(){te.apply(this,arguments)},ue)},count:function(X){var te=0;return J(X,function(){te++}),te},toArray:function(X){return J(X,function(te){return te})||[]},only:function(X){if(!D(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return Vt.Activity=m,Vt.Children=ce,Vt.Component=N,Vt.Fragment=r,Vt.Profiler=i,Vt.PureComponent=j,Vt.StrictMode=n,Vt.Suspense=d,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return E.H.useMemoCache(X)}},Vt.cache=function(X){return function(){return X.apply(null,arguments)}},Vt.cacheSignal=function(){return null},Vt.cloneElement=function(X,te,ue){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var oe=S({},X.props),ae=X.key;if(te!=null)for(pe in te.key!==void 0&&(ae=""+te.key),te)!A.call(te,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&te.ref===void 0||(oe[pe]=te[pe]);var pe=arguments.length-2;if(pe===1)oe.children=ue;else if(1<pe){for(var ye=Array(pe),Xe=0;Xe<pe;Xe++)ye[Xe]=arguments[Xe+2];oe.children=ye}return R(X.type,ae,oe)},Vt.createContext=function(X){return X={$$typeof:s,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:a,_context:X},X},Vt.createElement=function(X,te,ue){var oe,ae={},pe=null;if(te!=null)for(oe in te.key!==void 0&&(pe=""+te.key),te)A.call(te,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ae[oe]=te[oe]);var ye=arguments.length-2;if(ye===1)ae.children=ue;else if(1<ye){for(var Xe=Array(ye),Ne=0;Ne<ye;Ne++)Xe[Ne]=arguments[Ne+2];ae.children=Xe}if(X&&X.defaultProps)for(oe in ye=X.defaultProps,ye)ae[oe]===void 0&&(ae[oe]=ye[oe]);return R(X,pe,ae)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(X){return{$$typeof:l,render:X}},Vt.isValidElement=D,Vt.lazy=function(X){return{$$typeof:p,_payload:{_status:-1,_result:X},_init:Y}},Vt.memo=function(X,te){return{$$typeof:h,type:X,compare:te===void 0?null:te}},Vt.startTransition=function(X){var te=E.T,ue={};E.T=ue;try{var oe=X(),ae=E.S;ae!==null&&ae(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(L,ge)}catch(pe){ge(pe)}finally{te!==null&&ue.types!==null&&(te.types=ue.types),E.T=te}},Vt.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Vt.use=function(X){return E.H.use(X)},Vt.useActionState=function(X,te,ue){return E.H.useActionState(X,te,ue)},Vt.useCallback=function(X,te){return E.H.useCallback(X,te)},Vt.useContext=function(X){return E.H.useContext(X)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(X,te){return E.H.useDeferredValue(X,te)},Vt.useEffect=function(X,te){return E.H.useEffect(X,te)},Vt.useEffectEvent=function(X){return E.H.useEffectEvent(X)},Vt.useId=function(){return E.H.useId()},Vt.useImperativeHandle=function(X,te,ue){return E.H.useImperativeHandle(X,te,ue)},Vt.useInsertionEffect=function(X,te){return E.H.useInsertionEffect(X,te)},Vt.useLayoutEffect=function(X,te){return E.H.useLayoutEffect(X,te)},Vt.useMemo=function(X,te){return E.H.useMemo(X,te)},Vt.useOptimistic=function(X,te){return E.H.useOptimistic(X,te)},Vt.useReducer=function(X,te,ue){return E.H.useReducer(X,te,ue)},Vt.useRef=function(X){return E.H.useRef(X)},Vt.useState=function(X){return E.H.useState(X)},Vt.useSyncExternalStore=function(X,te,ue){return E.H.useSyncExternalStore(X,te,ue)},Vt.useTransition=function(){return E.H.useTransition()},Vt.version="19.2.4",Vt}var Rk;function Q8(){return Rk||(Rk=1,h5.exports=BY()),h5.exports}var P=Q8();const ee=Tr(P);var f5={exports:{}},_p={},p5={exports:{}},m5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk;function UY(){return Mk||(Mk=1,(function(t){function e(W,J){var Y=W.length;W.push(J);e:for(;0<Y;){var ge=Y-1>>>1,ce=W[ge];if(0<i(ce,J))W[ge]=J,W[Y]=ce,Y=ge;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var J=W[0],Y=W.pop();if(Y!==J){W[0]=Y;e:for(var ge=0,ce=W.length,X=ce>>>1;ge<X;){var te=2*(ge+1)-1,ue=W[te],oe=te+1,ae=W[oe];if(0>i(ue,Y))oe<ce&&0>i(ae,ue)?(W[ge]=ae,W[oe]=Y,ge=oe):(W[ge]=ue,W[te]=Y,ge=te);else if(oe<ce&&0>i(ae,Y))W[ge]=ae,W[oe]=Y,ge=oe;else break e}}return J}function i(W,J){var Y=W.sortIndex-J.sortIndex;return Y!==0?Y:W.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var d=[],h=[],p=1,m=null,y=3,b=!1,T=!1,S=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function $(W){for(var J=r(h);J!==null;){if(J.callback===null)n(h);else if(J.startTime<=W)n(h),J.sortIndex=J.expirationTime,e(d,J);else break;J=r(h)}}function I(W){if(S=!1,$(W),!T)if(r(d)!==null)T=!0,L||(L=!0,B());else{var J=r(h);J!==null&&Z(I,J.startTime-W)}}var L=!1,E=-1,A=5,R=-1;function F(){return w?!0:!(t.unstable_now()-R<A)}function D(){if(w=!1,L){var W=t.unstable_now();R=W;var J=!0;try{e:{T=!1,S&&(S=!1,k(E),E=-1),b=!0;var Y=y;try{t:{for($(W),m=r(d);m!==null&&!(m.expirationTime>W&&F());){var ge=m.callback;if(typeof ge=="function"){m.callback=null,y=m.priorityLevel;var ce=ge(m.expirationTime<=W);if(W=t.unstable_now(),typeof ce=="function"){m.callback=ce,$(W),J=!0;break t}m===r(d)&&n(d),$(W)}else n(d);m=r(d)}if(m!==null)J=!0;else{var X=r(h);X!==null&&Z(I,X.startTime-W),J=!1}}break e}finally{m=null,y=Y,b=!1}J=void 0}}finally{J?B():L=!1}}}var B;if(typeof j=="function")B=function(){j(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Q=M.port2;M.port1.onmessage=D,B=function(){Q.postMessage(null)}}else B=function(){N(D,0)};function Z(W,J){E=N(function(){W(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(W){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var Y=y;y=J;try{return W()}finally{y=Y}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=y;y=W;try{return J()}finally{y=Y}},t.unstable_scheduleCallback=function(W,J,Y){var ge=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ge+Y:ge):Y=ge,W){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Y+ce,W={id:p++,callback:J,priorityLevel:W,startTime:Y,expirationTime:ce,sortIndex:-1},Y>ge?(W.sortIndex=Y,e(h,W),r(d)===null&&W===r(h)&&(S?(k(E),E=-1):S=!0,Z(I,Y-ge))):(W.sortIndex=ce,e(d,W),T||b||(T=!0,L||(L=!0,B()))),W},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(W){var J=y;return function(){var Y=y;y=J;try{return W.apply(this,arguments)}finally{y=Y}}}})(m5)),m5}var Pk;function zY(){return Pk||(Pk=1,p5.exports=UY()),p5.exports}var g5={exports:{}},Yi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dk;function $Y(){if(Dk)return Yi;Dk=1;var t=Q8();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:h,implementation:p}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Yi.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,p)},Yi.flushSync=function(d){var h=s.T,p=n.p;try{if(s.T=null,n.p=2,d)return d()}finally{s.T=h,n.p=p,n.d.f()}},Yi.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(d,h))},Yi.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Yi.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,m=l(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):p==="script"&&n.d.X(d,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Yi.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=l(h.as,h.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(d)},Yi.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=l(p,h.crossOrigin);n.d.L(d,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Yi.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=l(h.as,h.crossOrigin);n.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(d)},Yi.requestFormReset=function(d){n.d.r(d)},Yi.unstable_batchedUpdates=function(d,h){return d(h)},Yi.useFormState=function(d,h,p){return s.H.useFormState(d,h,p)},Yi.useFormStatus=function(){return s.H.useHostTransitionStatus()},Yi.version="19.2.4",Yi}var Lk;function v$(){if(Lk)return g5.exports;Lk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),g5.exports=$Y(),g5.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk;function VY(){if(Bk)return _p;Bk=1;var t=zY(),e=Q8(),r=v$();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(a(o)!==o)throw Error(n(188))}function h(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(n(188));return c!==o?null:o}for(var f=o,g=c;;){var x=f.return;if(x===null)break;var _=x.alternate;if(_===null){if(g=x.return,g!==null){f=g;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===f)return d(x),o;if(_===g)return d(x),c;_=_.sibling}throw Error(n(188))}if(f.return!==g.return)f=x,g=_;else{for(var z=!1,H=x.child;H;){if(H===f){z=!0,f=x,g=_;break}if(H===g){z=!0,g=x,f=_;break}H=H.sibling}if(!z){for(H=_.child;H;){if(H===f){z=!0,f=_,g=x;break}if(H===g){z=!0,g=_,f=x;break}H=H.sibling}if(!z)throw Error(n(189))}}if(f.alternate!==g)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:c}function p(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=p(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(o){return o===null||typeof o!="object"?null:(o=D&&o[D]||o["@@iterator"],typeof o=="function"?o:null)}var M=Symbol.for("react.client.reference");function Q(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===M?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case N:return"Profiler";case w:return"StrictMode";case I:return"Suspense";case L:return"SuspenseList";case R:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case j:return o.displayName||"Context";case k:return(o._context.displayName||"Context")+".Consumer";case $:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case E:return c=o.displayName||null,c!==null?c:Q(o.type)||"Memo";case A:c=o._payload,o=o._init;try{return Q(o(c))}catch{}}return null}var Z=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},ge=[],ce=-1;function X(o){return{current:o}}function te(o){0>ce||(o.current=ge[ce],ge[ce]=null,ce--)}function ue(o,c){ce++,ge[ce]=o.current,o.current=c}var oe=X(null),ae=X(null),pe=X(null),ye=X(null);function Xe(o,c){switch(ue(pe,c),ue(ae,o),ue(oe,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?Zj(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=Zj(c),o=Jj(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}te(oe),ue(oe,o)}function Ne(){te(oe),te(ae),te(pe)}function le(o){o.memoizedState!==null&&ue(ye,o);var c=oe.current,f=Jj(c,o.type);c!==f&&(ue(ae,o),ue(oe,f))}function je(o){ae.current===o&&(te(oe),te(ae)),ye.current===o&&(te(ye),yp._currentValue=Y)}var we,ut;function Ge(o){if(we===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);we=c&&c[1]||"",ut=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+o+ut}var lt=!1;function it(o,c){if(!o||lt)return"";lt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(Ce){var Ee=Ce}Reflect.construct(o,[],Be)}else{try{Be.call()}catch(Ce){Ee=Ce}o.call(Be.prototype)}}else{try{throw Error()}catch(Ce){Ee=Ce}(Be=o())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(Ce){if(Ce&&Ee&&typeof Ce.stack=="string")return[Ce.stack,Ee.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=g.DetermineComponentFrameRoot(),z=_[0],H=_[1];if(z&&H){var se=z.split(`
`),Te=H.split(`
`);for(x=g=0;g<se.length&&!se[g].includes("DetermineComponentFrameRoot");)g++;for(;x<Te.length&&!Te[x].includes("DetermineComponentFrameRoot");)x++;if(g===se.length||x===Te.length)for(g=se.length-1,x=Te.length-1;1<=g&&0<=x&&se[g]!==Te[x];)x--;for(;1<=g&&0<=x;g--,x--)if(se[g]!==Te[x]){if(g!==1||x!==1)do if(g--,x--,0>x||se[g]!==Te[x]){var Me=`
`+se[g].replace(" at new "," at ");return o.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",o.displayName)),Me}while(1<=g&&0<=x);break}}}finally{lt=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Ge(f):""}function Rt(o,c){switch(o.tag){case 26:case 27:case 5:return Ge(o.type);case 16:return Ge("Lazy");case 13:return o.child!==c&&c!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return it(o.type,!1);case 11:return it(o.type.render,!1);case 1:return it(o.type,!0);case 31:return Ge("Activity");default:return""}}function Oe(o){try{var c="",f=null;do c+=Rt(o,f),f=o,o=o.return;while(o);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var at=Object.prototype.hasOwnProperty,ht=t.unstable_scheduleCallback,de=t.unstable_cancelCallback,Ue=t.unstable_shouldYield,ne=t.unstable_requestPaint,De=t.unstable_now,Ye=t.unstable_getCurrentPriorityLevel,et=t.unstable_ImmediatePriority,Qe=t.unstable_UserBlockingPriority,Fe=t.unstable_NormalPriority,mt=t.unstable_LowPriority,_t=t.unstable_IdlePriority,en=t.log,mn=t.unstable_setDisableYieldValue,Sn=null,Kt=null;function qt(o){if(typeof en=="function"&&mn(o),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Sn,o)}catch{}}var Ht=Math.clz32?Math.clz32:wa,oi=Math.log,li=Math.LN2;function wa(o){return o>>>=0,o===0?32:31-(oi(o)/li|0)|0}var Mi=256,jr=262144,kr=4194304;function Ar(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Mt(o,c,f){var g=o.pendingLanes;if(g===0)return 0;var x=0,_=o.suspendedLanes,z=o.pingedLanes;o=o.warmLanes;var H=g&134217727;return H!==0?(g=H&~_,g!==0?x=Ar(g):(z&=H,z!==0?x=Ar(z):f||(f=H&~o,f!==0&&(x=Ar(f))))):(H=g&~_,H!==0?x=Ar(H):z!==0?x=Ar(z):f||(f=g&~o,f!==0&&(x=Ar(f)))),x===0?0:c!==0&&c!==x&&(c&_)===0&&(_=x&-x,f=c&-c,_>=f||_===32&&(f&4194048)!==0)?c:x}function tn(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Tn(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gn(){var o=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),o}function rn(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function zr(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Xt(o,c,f,g,x,_){var z=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var H=o.entanglements,se=o.expirationTimes,Te=o.hiddenUpdates;for(f=z&~f;0<f;){var Me=31-Ht(f),Be=1<<Me;H[Me]=0,se[Me]=-1;var Ee=Te[Me];if(Ee!==null)for(Te[Me]=null,Me=0;Me<Ee.length;Me++){var Ce=Ee[Me];Ce!==null&&(Ce.lane&=-536870913)}f&=~Be}g!==0&&bi(o,g,0),_!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=_&~(z&~c))}function bi(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-Ht(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|f&261930}function Xr(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var g=31-Ht(f),x=1<<g;x&c|o[g]&c&&(o[g]|=c),f&=~x}}function yn(o,c){var f=c&-c;return f=(f&42)!==0?1:aa(f),(f&(o.suspendedLanes|c))!==0?0:f}function aa(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Or(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function nn(){var o=J.p;return o!==0?o:(o=window.event,o===void 0?32:_k(o.type))}function Ki(o,c){var f=J.p;try{return J.p=o,c()}finally{J.p=f}}var Wn=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Wn,an="__reactProps$"+Wn,An="__reactContainer$"+Wn,_a="__reactEvents$"+Wn,Wi="__reactListeners$"+Wn,ho="__reactHandles$"+Wn,Us="__reactResources$"+Wn,Sa="__reactMarker$"+Wn;function yt(o){delete o[Ir],delete o[an],delete o[_a],delete o[Wi],delete o[ho]}function he(o){var c=o[Ir];if(c)return c;for(var f=o.parentNode;f;){if(c=f[An]||f[Ir]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=sk(o);o!==null;){if(f=o[Ir])return f;o=sk(o)}return c}o=f,f=o.parentNode}return null}function qe(o){if(o=o[Ir]||o[An]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function rt(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function Bt(o){var c=o[Us];return c||(c=o[Us]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function tr(o){o[Sa]=!0}var sn=new Set,Rr={};function on(o,c){fr(o,c),fr(o+"Capture",c)}function fr(o,c){for(Rr[o]=c,o=0;o<c.length;o++)sn.add(c[o])}var fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zs={},Ho={};function Au(o){return at.call(Ho,o)?!0:at.call(zs,o)?!1:fo.test(o)?Ho[o]=!0:(zs[o]=!0,!1)}function $s(o,c,f){if(Au(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function Vs(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function sa(o,c,f,g){if(g===null)o.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+g)}}function xi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Eu(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ve(o,c,f){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,_=g.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return x.call(this)},set:function(z){f=""+z,_.call(this,z)}}),Object.defineProperty(o,c,{enumerable:g.enumerable}),{getValue:function(){return f},setValue:function(z){f=""+z},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Ie(o){if(!o._valueTracker){var c=Eu(o)?"checked":"value";o._valueTracker=ve(o,c,""+o[c])}}function We(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),g="";return o&&(g=Eu(o)?o.checked?"true":"false":o.value),o=g,o!==f?(c.setValue(o),!0):!1}function ct(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Et=/[\n"\\]/g;function $t(o){return o.replace(Et,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function mr(o,c,f,g,x,_,z,H){o.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.type=z:o.removeAttribute("type"),c!=null?z==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+xi(c)):o.value!==""+xi(c)&&(o.value=""+xi(c)):z!=="submit"&&z!=="reset"||o.removeAttribute("value"),c!=null?wi(o,z,xi(c)):f!=null?wi(o,z,xi(f)):g!=null&&o.removeAttribute("value"),x==null&&_!=null&&(o.defaultChecked=!!_),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?o.name=""+xi(H):o.removeAttribute("name")}function Un(o,c,f,g,x,_,z,H){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),c!=null||f!=null){if(!(_!=="submit"&&_!=="reset"||c!=null)){Ie(o);return}f=f!=null?""+xi(f):"",c=c!=null?""+xi(c):f,H||c===o.value||(o.value=c),o.defaultValue=c}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=H?o.checked:!!g,o.defaultChecked=!!g,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(o.name=z),Ie(o)}function wi(o,c,f){c==="number"&&ct(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Qt(o,c,f,g){if(o=o.options,c){c={};for(var x=0;x<f.length;x++)c["$"+f[x]]=!0;for(f=0;f<o.length;f++)x=c.hasOwnProperty("$"+o[f].value),o[f].selected!==x&&(o[f].selected=x),x&&g&&(o[f].defaultSelected=!0)}else{for(f=""+xi(f),c=null,x=0;x<o.length;x++){if(o[x].value===f){o[x].selected=!0,g&&(o[x].defaultSelected=!0);return}c!==null||o[x].disabled||(c=o[x])}c!==null&&(c.selected=!0)}}function Fs(o,c,f){if(c!=null&&(c=""+xi(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+xi(f):""}function fs(o,c,f,g){if(c==null){if(g!=null){if(f!=null)throw Error(n(92));if(Z(g)){if(1<g.length)throw Error(n(93));g=g[0]}f=g}f==null&&(f=""),c=f}f=xi(c),o.defaultValue=f,g=o.textContent,g===f&&g!==""&&g!==null&&(o.value=g),Ie(o)}function Xi(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var gr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(o,c,f){var g=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,f):typeof f!="number"||f===0||gr.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function Nu(o,c,f){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var x in c)g=c[x],c.hasOwnProperty(x)&&f[x]!==g&&Go(o,x,g)}else for(var _ in c)c.hasOwnProperty(_)&&Go(o,_,c[_])}function If(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),g4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function po(o){return g4.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function _i(){}var s0=null;function o0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ko=null,Fa=null;function w1(o){var c=qe(o);if(c&&(o=c.stateNode)){var f=o[an]||null;e:switch(o=c.stateNode,c.type){case"input":if(mr(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+$t(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var g=f[c];if(g!==o&&g.form===o.form){var x=g[an]||null;if(!x)throw Error(n(90));mr(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(c=0;c<f.length;c++)g=f[c],g.form===o.form&&We(g)}break e;case"textarea":Fs(o,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&Qt(o,!!f.multiple,c,!1)}}}var Rf=!1;function _1(o,c,f){if(Rf)return o(c,f);Rf=!0;try{var g=o(c);return g}finally{if(Rf=!1,(Ko!==null||Fa!==null)&&(vy(),Ko&&(c=Ko,o=Fa,Fa=Ko=null,w1(c),o)))for(c=0;c<o.length;c++)w1(o[c])}}function Ta(o,c){var f=o.stateNode;if(f===null)return null;var g=f[an]||null;if(g===null)return null;f=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,c,typeof f));return f}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mf=!1;if(qs)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){Mf=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{Mf=!1}var qa=null,l0=null,go=null;function tc(){if(go)return go;var o,c=l0,f=c.length,g,x="value"in qa?qa.value:qa.textContent,_=x.length;for(o=0;o<f&&c[o]===x[o];o++);var z=f-o;for(g=1;g<=z&&c[f-g]===x[_-g];g++);return go=x.slice(o,1<g?1-g:void 0)}function Cu(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function rc(){return!0}function dn(){return!1}function Qi(o){function c(f,g,x,_,z){this._reactName=f,this._targetInst=x,this.type=g,this.nativeEvent=_,this.target=z,this.currentTarget=null;for(var H in o)o.hasOwnProperty(H)&&(f=o[H],this[H]=f?f(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?rc:dn,this.isPropagationStopped=dn,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){},isPersistent:rc}),c}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ju=Qi(Wo),nc=m({},Wo,{view:0,detail:0}),S1=Qi(nc),ic,c0,oa,ku=m({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==oa&&(oa&&o.type==="mousemove"?(ic=o.screenX-oa.screenX,c0=o.screenY-oa.screenY):c0=ic=0,oa=o),ic)},movementY:function(o){return"movementY"in o?o.movementY:c0}}),T1=Qi(ku),Ou=m({},ku,{dataTransfer:0}),A1=Qi(Ou),Pf=m({},nc,{relatedTarget:0}),ac=Qi(Pf),E1=m({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),u0=Qi(E1),y4=m({},Wo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),N1=Qi(y4),Iu=m({},Wo,{data:0}),Df=Qi(Iu),C1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j1(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Bf[o])?!!c[o]:!1}function sc(){return j1}var k1=m({},nc,{key:function(o){if(o.key){var c=C1[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Cu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Lf[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(o){return o.type==="keypress"?Cu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Cu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),O1=Qi(k1),Xo=m({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uf=Qi(Xo),I1=m({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),R1=Qi(I1),M1=m({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),d0=Qi(M1),la=m({},ku,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),P1=Qi(la),D1=m({},Wo,{newState:0,oldState:0}),oc=Qi(D1),v=[9,13,27,32],O=qs&&"CompositionEvent"in window,V=null;qs&&"documentMode"in document&&(V=document.documentMode);var K=qs&&"TextEvent"in window&&!V,xe=qs&&(!O||V&&8<V&&11>=V),ke=" ",nt=!1;function Er(o,c){switch(o){case"keyup":return v.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xn(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var rr=!1;function Si(o,c){switch(o){case"compositionend":return Xn(c);case"keypress":return c.which!==32?null:(nt=!0,ke);case"textInput":return o=c.data,o===ke&&nt?null:o;default:return null}}function Ti(o,c){if(rr)return o==="compositionend"||!O&&Er(o,c)?(o=tc(),go=l0=qa=null,rr=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return xe&&c.locale!=="ko"?null:c.data;default:return null}}var lc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aa(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!lc[o.type]:c==="textarea"}function Ru(o,c,f,g){Ko?Fa?Fa.push(g):Fa=[g]:Ko=g,c=Ay(c,"onChange"),0<c.length&&(f=new ju("onChange","change",null,f,g),o.push({event:f,listeners:c}))}var Qo=null,zf=null;function sQ(o){Gj(o,0)}function L1(o){var c=rt(o);if(We(c))return o}function d9(o,c){if(o==="change")return c}var h9=!1;if(qs){var v4;if(qs){var b4="oninput"in document;if(!b4){var f9=document.createElement("div");f9.setAttribute("oninput","return;"),b4=typeof f9.oninput=="function"}v4=b4}else v4=!1;h9=v4&&(!document.documentMode||9<document.documentMode)}function p9(){Qo&&(Qo.detachEvent("onpropertychange",m9),zf=Qo=null)}function m9(o){if(o.propertyName==="value"&&L1(zf)){var c=[];Ru(c,zf,o,o0(o)),_1(sQ,c)}}function oQ(o,c,f){o==="focusin"?(p9(),Qo=c,zf=f,Qo.attachEvent("onpropertychange",m9)):o==="focusout"&&p9()}function lQ(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return L1(zf)}function cQ(o,c){if(o==="click")return L1(c)}function uQ(o,c){if(o==="input"||o==="change")return L1(c)}function dQ(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Ha=typeof Object.is=="function"?Object.is:dQ;function $f(o,c){if(Ha(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),g=Object.keys(c);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var x=f[g];if(!at.call(c,x)||!Ha(o[x],c[x]))return!1}return!0}function g9(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function y9(o,c){var f=g9(o);o=0;for(var g;f;){if(f.nodeType===3){if(g=o+f.textContent.length,o<=c&&g>=c)return{node:f,offset:c-o};o=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=g9(f)}}function v9(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?v9(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function b9(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=ct(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=ct(o.document)}return c}function x4(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var hQ=qs&&"documentMode"in document&&11>=document.documentMode,h0=null,w4=null,Vf=null,_4=!1;function x9(o,c,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;_4||h0==null||h0!==ct(g)||(g=h0,"selectionStart"in g&&x4(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Vf&&$f(Vf,g)||(Vf=g,g=Ay(w4,"onSelect"),0<g.length&&(c=new ju("onSelect","select",null,c,f),o.push({event:c,listeners:g}),c.target=h0)))}function Mu(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var f0={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionrun:Mu("Transition","TransitionRun"),transitionstart:Mu("Transition","TransitionStart"),transitioncancel:Mu("Transition","TransitionCancel"),transitionend:Mu("Transition","TransitionEnd")},S4={},w9={};qs&&(w9=document.createElement("div").style,"AnimationEvent"in window||(delete f0.animationend.animation,delete f0.animationiteration.animation,delete f0.animationstart.animation),"TransitionEvent"in window||delete f0.transitionend.transition);function Pu(o){if(S4[o])return S4[o];if(!f0[o])return o;var c=f0[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in w9)return S4[o]=c[f];return o}var _9=Pu("animationend"),S9=Pu("animationiteration"),T9=Pu("animationstart"),fQ=Pu("transitionrun"),pQ=Pu("transitionstart"),mQ=Pu("transitioncancel"),A9=Pu("transitionend"),E9=new Map,T4="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");T4.push("scrollEnd");function Hs(o,c){E9.set(o,c),on(c,[o])}var B1=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},ps=[],p0=0,A4=0;function U1(){for(var o=p0,c=A4=p0=0;c<o;){var f=ps[c];ps[c++]=null;var g=ps[c];ps[c++]=null;var x=ps[c];ps[c++]=null;var _=ps[c];if(ps[c++]=null,g!==null&&x!==null){var z=g.pending;z===null?x.next=x:(x.next=z.next,z.next=x),g.pending=x}_!==0&&N9(f,x,_)}}function z1(o,c,f,g){ps[p0++]=o,ps[p0++]=c,ps[p0++]=f,ps[p0++]=g,A4|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function E4(o,c,f,g){return z1(o,c,f,g),$1(o)}function Du(o,c){return z1(o,null,null,c),$1(o)}function N9(o,c,f){o.lanes|=f;var g=o.alternate;g!==null&&(g.lanes|=f);for(var x=!1,_=o.return;_!==null;)_.childLanes|=f,g=_.alternate,g!==null&&(g.childLanes|=f),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(x=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,x&&c!==null&&(x=31-Ht(f),o=_.hiddenUpdates,g=o[x],g===null?o[x]=[c]:g.push(c),c.lane=f|536870912),_):null}function $1(o){if(50<up)throw up=0,Pw=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var m0={};function gQ(o,c,f,g){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ga(o,c,f,g){return new gQ(o,c,f,g)}function N4(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Yo(o,c){var f=o.alternate;return f===null?(f=Ga(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function C9(o,c){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function V1(o,c,f,g,x,_){var z=0;if(g=o,typeof o=="function")N4(o)&&(z=1);else if(typeof o=="string")z=wY(o,f,oe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case R:return o=Ga(31,f,c,x),o.elementType=R,o.lanes=_,o;case S:return Lu(f.children,x,_,c);case w:z=8,x|=24;break;case N:return o=Ga(12,f,c,x|2),o.elementType=N,o.lanes=_,o;case I:return o=Ga(13,f,c,x),o.elementType=I,o.lanes=_,o;case L:return o=Ga(19,f,c,x),o.elementType=L,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case j:z=10;break e;case k:z=9;break e;case $:z=11;break e;case E:z=14;break e;case A:z=16,g=null;break e}z=29,f=Error(n(130,o===null?"null":typeof o,"")),g=null}return c=Ga(z,f,c,x),c.elementType=o,c.type=g,c.lanes=_,c}function Lu(o,c,f,g){return o=Ga(7,o,g,c),o.lanes=f,o}function C4(o,c,f){return o=Ga(6,o,null,c),o.lanes=f,o}function j9(o){var c=Ga(18,null,null,0);return c.stateNode=o,c}function j4(o,c,f){return c=Ga(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var k9=new WeakMap;function ms(o,c){if(typeof o=="object"&&o!==null){var f=k9.get(o);return f!==void 0?f:(c={value:o,source:c,stack:Oe(c)},k9.set(o,c),c)}return{value:o,source:c,stack:Oe(c)}}var g0=[],y0=0,F1=null,Ff=0,gs=[],ys=0,cc=null,yo=1,vo="";function Zo(o,c){g0[y0++]=Ff,g0[y0++]=F1,F1=o,Ff=c}function O9(o,c,f){gs[ys++]=yo,gs[ys++]=vo,gs[ys++]=cc,cc=o;var g=yo;o=vo;var x=32-Ht(g)-1;g&=~(1<<x),f+=1;var _=32-Ht(c)+x;if(30<_){var z=x-x%5;_=(g&(1<<z)-1).toString(32),g>>=z,x-=z,yo=1<<32-Ht(c)+x|f<<x|g,vo=_+o}else yo=1<<_|f<<x|g,vo=o}function k4(o){o.return!==null&&(Zo(o,1),O9(o,1,0))}function O4(o){for(;o===F1;)F1=g0[--y0],g0[y0]=null,Ff=g0[--y0],g0[y0]=null;for(;o===cc;)cc=gs[--ys],gs[ys]=null,vo=gs[--ys],gs[ys]=null,yo=gs[--ys],gs[ys]=null}function I9(o,c){gs[ys++]=yo,gs[ys++]=vo,gs[ys++]=cc,yo=c.id,vo=c.overflow,cc=o}var Pi=null,hn=null,dr=!1,uc=null,vs=!1,I4=Error(n(519));function dc(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qf(ms(c,o)),I4}function R9(o){var c=o.stateNode,f=o.type,g=o.memoizedProps;switch(c[Ir]=o,c[an]=g,f){case"dialog":sr("cancel",c),sr("close",c);break;case"iframe":case"object":case"embed":sr("load",c);break;case"video":case"audio":for(f=0;f<hp.length;f++)sr(hp[f],c);break;case"source":sr("error",c);break;case"img":case"image":case"link":sr("error",c),sr("load",c);break;case"details":sr("toggle",c);break;case"input":sr("invalid",c),Un(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":sr("invalid",c);break;case"textarea":sr("invalid",c),fs(c,g.value,g.defaultValue,g.children)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||g.suppressHydrationWarning===!0||Qj(c.textContent,f)?(g.popover!=null&&(sr("beforetoggle",c),sr("toggle",c)),g.onScroll!=null&&sr("scroll",c),g.onScrollEnd!=null&&sr("scrollend",c),g.onClick!=null&&(c.onclick=_i),c=!0):c=!1,c||dc(o,!0)}function M9(o){for(Pi=o.return;Pi;)switch(Pi.tag){case 5:case 31:case 13:vs=!1;return;case 27:case 3:vs=!0;return;default:Pi=Pi.return}}function v0(o){if(o!==Pi)return!1;if(!dr)return M9(o),dr=!0,!1;var c=o.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||Qw(o.type,o.memoizedProps)),f=!f),f&&hn&&dc(o),M9(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));hn=ak(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));hn=ak(o)}else c===27?(c=hn,Ac(o.type)?(o=t5,t5=null,hn=o):hn=c):hn=Pi?xs(o.stateNode.nextSibling):null;return!0}function Bu(){hn=Pi=null,dr=!1}function R4(){var o=uc;return o!==null&&(ja===null?ja=o:ja.push.apply(ja,o),uc=null),o}function qf(o){uc===null?uc=[o]:uc.push(o)}var M4=X(null),Uu=null,Jo=null;function hc(o,c,f){ue(M4,c._currentValue),c._currentValue=f}function el(o){o._currentValue=M4.current,te(M4)}function P4(o,c,f){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===f)break;o=o.return}}function D4(o,c,f,g){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var _=x.dependencies;if(_!==null){var z=x.child;_=_.firstContext;e:for(;_!==null;){var H=_;_=x;for(var se=0;se<c.length;se++)if(H.context===c[se]){_.lanes|=f,H=_.alternate,H!==null&&(H.lanes|=f),P4(_.return,f,o),g||(z=null);break e}_=H.next}}else if(x.tag===18){if(z=x.return,z===null)throw Error(n(341));z.lanes|=f,_=z.alternate,_!==null&&(_.lanes|=f),P4(z,f,o),z=null}else z=x.child;if(z!==null)z.return=x;else for(z=x;z!==null;){if(z===o){z=null;break}if(x=z.sibling,x!==null){x.return=z.return,z=x;break}z=z.return}x=z}}function b0(o,c,f,g){o=null;for(var x=c,_=!1;x!==null;){if(!_){if((x.flags&524288)!==0)_=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var z=x.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var H=x.type;Ha(x.pendingProps.value,z.value)||(o!==null?o.push(H):o=[H])}}else if(x===ye.current){if(z=x.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(yp):o=[yp])}x=x.return}o!==null&&D4(c,o,f,g),c.flags|=262144}function q1(o){for(o=o.firstContext;o!==null;){if(!Ha(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function zu(o){Uu=o,Jo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Di(o){return P9(Uu,o)}function H1(o,c){return Uu===null&&zu(o),P9(o,c)}function P9(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Jo===null){if(o===null)throw Error(n(308));Jo=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Jo=Jo.next=c;return f}var yQ=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},vQ=t.unstable_scheduleCallback,bQ=t.unstable_NormalPriority,Qn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function L4(){return{controller:new yQ,data:new Map,refCount:0}}function Hf(o){o.refCount--,o.refCount===0&&vQ(bQ,function(){o.controller.abort()})}var Gf=null,B4=0,x0=0,w0=null;function xQ(o,c){if(Gf===null){var f=Gf=[];B4=0,x0=$w(),w0={status:"pending",value:void 0,then:function(g){f.push(g)}}}return B4++,c.then(D9,D9),c}function D9(){if(--B4===0&&Gf!==null){w0!==null&&(w0.status="fulfilled");var o=Gf;Gf=null,x0=0,w0=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function wQ(o,c){var f=[],g={status:"pending",value:null,reason:null,then:function(x){f.push(x)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var x=0;x<f.length;x++)(0,f[x])(c)},function(x){for(g.status="rejected",g.reason=x,x=0;x<f.length;x++)(0,f[x])(void 0)}),g}var L9=W.S;W.S=function(o,c){xj=De(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&xQ(o,c),L9!==null&&L9(o,c)};var $u=X(null);function U4(){var o=$u.current;return o!==null?o:Qr.pooledCache}function G1(o,c){c===null?ue($u,$u.current):ue($u,c.pool)}function B9(){var o=U4();return o===null?null:{parent:Qn._currentValue,pool:o}}var _0=Error(n(460)),z4=Error(n(474)),K1=Error(n(542)),W1={then:function(){}};function U9(o){return o=o.status,o==="fulfilled"||o==="rejected"}function z9(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(_i,_i),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,V9(o),o;default:if(typeof c.status=="string")c.then(_i,_i);else{if(o=Qr,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var x=c;x.status="fulfilled",x.value=g}},function(g){if(c.status==="pending"){var x=c;x.status="rejected",x.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,V9(o),o}throw Fu=c,_0}}function Vu(o){try{var c=o._init;return c(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Fu=f,_0):f}}var Fu=null;function $9(){if(Fu===null)throw Error(n(459));var o=Fu;return Fu=null,o}function V9(o){if(o===_0||o===K1)throw Error(n(483))}var S0=null,Kf=0;function X1(o){var c=Kf;return Kf+=1,S0===null&&(S0=[]),z9(S0,o,c)}function Wf(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Q1(o,c){throw c.$$typeof===y?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function F9(o){function c(be,fe){if(o){var _e=be.deletions;_e===null?(be.deletions=[fe],be.flags|=16):_e.push(fe)}}function f(be,fe){if(!o)return null;for(;fe!==null;)c(be,fe),fe=fe.sibling;return null}function g(be){for(var fe=new Map;be!==null;)be.key!==null?fe.set(be.key,be):fe.set(be.index,be),be=be.sibling;return fe}function x(be,fe){return be=Yo(be,fe),be.index=0,be.sibling=null,be}function _(be,fe,_e){return be.index=_e,o?(_e=be.alternate,_e!==null?(_e=_e.index,_e<fe?(be.flags|=67108866,fe):_e):(be.flags|=67108866,fe)):(be.flags|=1048576,fe)}function z(be){return o&&be.alternate===null&&(be.flags|=67108866),be}function H(be,fe,_e,Le){return fe===null||fe.tag!==6?(fe=C4(_e,be.mode,Le),fe.return=be,fe):(fe=x(fe,_e),fe.return=be,fe)}function se(be,fe,_e,Le){var Nt=_e.type;return Nt===S?Me(be,fe,_e.props.children,Le,_e.key):fe!==null&&(fe.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===A&&Vu(Nt)===fe.type)?(fe=x(fe,_e.props),Wf(fe,_e),fe.return=be,fe):(fe=V1(_e.type,_e.key,_e.props,null,be.mode,Le),Wf(fe,_e),fe.return=be,fe)}function Te(be,fe,_e,Le){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==_e.containerInfo||fe.stateNode.implementation!==_e.implementation?(fe=j4(_e,be.mode,Le),fe.return=be,fe):(fe=x(fe,_e.children||[]),fe.return=be,fe)}function Me(be,fe,_e,Le,Nt){return fe===null||fe.tag!==7?(fe=Lu(_e,be.mode,Le,Nt),fe.return=be,fe):(fe=x(fe,_e),fe.return=be,fe)}function Be(be,fe,_e){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=C4(""+fe,be.mode,_e),fe.return=be,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return _e=V1(fe.type,fe.key,fe.props,null,be.mode,_e),Wf(_e,fe),_e.return=be,_e;case T:return fe=j4(fe,be.mode,_e),fe.return=be,fe;case A:return fe=Vu(fe),Be(be,fe,_e)}if(Z(fe)||B(fe))return fe=Lu(fe,be.mode,_e,null),fe.return=be,fe;if(typeof fe.then=="function")return Be(be,X1(fe),_e);if(fe.$$typeof===j)return Be(be,H1(be,fe),_e);Q1(be,fe)}return null}function Ee(be,fe,_e,Le){var Nt=fe!==null?fe.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return Nt!==null?null:H(be,fe,""+_e,Le);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case b:return _e.key===Nt?se(be,fe,_e,Le):null;case T:return _e.key===Nt?Te(be,fe,_e,Le):null;case A:return _e=Vu(_e),Ee(be,fe,_e,Le)}if(Z(_e)||B(_e))return Nt!==null?null:Me(be,fe,_e,Le,null);if(typeof _e.then=="function")return Ee(be,fe,X1(_e),Le);if(_e.$$typeof===j)return Ee(be,fe,H1(be,_e),Le);Q1(be,_e)}return null}function Ce(be,fe,_e,Le,Nt){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return be=be.get(_e)||null,H(fe,be,""+Le,Nt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case b:return be=be.get(Le.key===null?_e:Le.key)||null,se(fe,be,Le,Nt);case T:return be=be.get(Le.key===null?_e:Le.key)||null,Te(fe,be,Le,Nt);case A:return Le=Vu(Le),Ce(be,fe,_e,Le,Nt)}if(Z(Le)||B(Le))return be=be.get(_e)||null,Me(fe,be,Le,Nt,null);if(typeof Le.then=="function")return Ce(be,fe,_e,X1(Le),Nt);if(Le.$$typeof===j)return Ce(be,fe,_e,H1(fe,Le),Nt);Q1(fe,Le)}return null}function xt(be,fe,_e,Le){for(var Nt=null,yr=null,Tt=fe,Yt=fe=0,lr=null;Tt!==null&&Yt<_e.length;Yt++){Tt.index>Yt?(lr=Tt,Tt=null):lr=Tt.sibling;var vr=Ee(be,Tt,_e[Yt],Le);if(vr===null){Tt===null&&(Tt=lr);break}o&&Tt&&vr.alternate===null&&c(be,Tt),fe=_(vr,fe,Yt),yr===null?Nt=vr:yr.sibling=vr,yr=vr,Tt=lr}if(Yt===_e.length)return f(be,Tt),dr&&Zo(be,Yt),Nt;if(Tt===null){for(;Yt<_e.length;Yt++)Tt=Be(be,_e[Yt],Le),Tt!==null&&(fe=_(Tt,fe,Yt),yr===null?Nt=Tt:yr.sibling=Tt,yr=Tt);return dr&&Zo(be,Yt),Nt}for(Tt=g(Tt);Yt<_e.length;Yt++)lr=Ce(Tt,be,Yt,_e[Yt],Le),lr!==null&&(o&&lr.alternate!==null&&Tt.delete(lr.key===null?Yt:lr.key),fe=_(lr,fe,Yt),yr===null?Nt=lr:yr.sibling=lr,yr=lr);return o&&Tt.forEach(function(kc){return c(be,kc)}),dr&&Zo(be,Yt),Nt}function Ot(be,fe,_e,Le){if(_e==null)throw Error(n(151));for(var Nt=null,yr=null,Tt=fe,Yt=fe=0,lr=null,vr=_e.next();Tt!==null&&!vr.done;Yt++,vr=_e.next()){Tt.index>Yt?(lr=Tt,Tt=null):lr=Tt.sibling;var kc=Ee(be,Tt,vr.value,Le);if(kc===null){Tt===null&&(Tt=lr);break}o&&Tt&&kc.alternate===null&&c(be,Tt),fe=_(kc,fe,Yt),yr===null?Nt=kc:yr.sibling=kc,yr=kc,Tt=lr}if(vr.done)return f(be,Tt),dr&&Zo(be,Yt),Nt;if(Tt===null){for(;!vr.done;Yt++,vr=_e.next())vr=Be(be,vr.value,Le),vr!==null&&(fe=_(vr,fe,Yt),yr===null?Nt=vr:yr.sibling=vr,yr=vr);return dr&&Zo(be,Yt),Nt}for(Tt=g(Tt);!vr.done;Yt++,vr=_e.next())vr=Ce(Tt,be,Yt,vr.value,Le),vr!==null&&(o&&vr.alternate!==null&&Tt.delete(vr.key===null?Yt:vr.key),fe=_(vr,fe,Yt),yr===null?Nt=vr:yr.sibling=vr,yr=vr);return o&&Tt.forEach(function(IY){return c(be,IY)}),dr&&Zo(be,Yt),Nt}function Fr(be,fe,_e,Le){if(typeof _e=="object"&&_e!==null&&_e.type===S&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case b:e:{for(var Nt=_e.key;fe!==null;){if(fe.key===Nt){if(Nt=_e.type,Nt===S){if(fe.tag===7){f(be,fe.sibling),Le=x(fe,_e.props.children),Le.return=be,be=Le;break e}}else if(fe.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===A&&Vu(Nt)===fe.type){f(be,fe.sibling),Le=x(fe,_e.props),Wf(Le,_e),Le.return=be,be=Le;break e}f(be,fe);break}else c(be,fe);fe=fe.sibling}_e.type===S?(Le=Lu(_e.props.children,be.mode,Le,_e.key),Le.return=be,be=Le):(Le=V1(_e.type,_e.key,_e.props,null,be.mode,Le),Wf(Le,_e),Le.return=be,be=Le)}return z(be);case T:e:{for(Nt=_e.key;fe!==null;){if(fe.key===Nt)if(fe.tag===4&&fe.stateNode.containerInfo===_e.containerInfo&&fe.stateNode.implementation===_e.implementation){f(be,fe.sibling),Le=x(fe,_e.children||[]),Le.return=be,be=Le;break e}else{f(be,fe);break}else c(be,fe);fe=fe.sibling}Le=j4(_e,be.mode,Le),Le.return=be,be=Le}return z(be);case A:return _e=Vu(_e),Fr(be,fe,_e,Le)}if(Z(_e))return xt(be,fe,_e,Le);if(B(_e)){if(Nt=B(_e),typeof Nt!="function")throw Error(n(150));return _e=Nt.call(_e),Ot(be,fe,_e,Le)}if(typeof _e.then=="function")return Fr(be,fe,X1(_e),Le);if(_e.$$typeof===j)return Fr(be,fe,H1(be,_e),Le);Q1(be,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,fe!==null&&fe.tag===6?(f(be,fe.sibling),Le=x(fe,_e),Le.return=be,be=Le):(f(be,fe),Le=C4(_e,be.mode,Le),Le.return=be,be=Le),z(be)):f(be,fe)}return function(be,fe,_e,Le){try{Kf=0;var Nt=Fr(be,fe,_e,Le);return S0=null,Nt}catch(Tt){if(Tt===_0||Tt===K1)throw Tt;var yr=Ga(29,Tt,null,be.mode);return yr.lanes=Le,yr.return=be,yr}finally{}}}var qu=F9(!0),q9=F9(!1),fc=!1;function $4(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function V4(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function pc(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function mc(o,c,f){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Sr&2)!==0){var x=g.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),g.pending=c,c=$1(o),N9(o,null,f),c}return z1(o,g,c,f),$1(o)}function Xf(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,f|=g,c.lanes=f,Xr(o,f)}}function F4(o,c){var f=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var x=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var z={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};_===null?x=_=z:_=_.next=z,f=f.next}while(f!==null);_===null?x=_=c:_=_.next=c}else x=_=c;f={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:g.shared,callbacks:g.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var q4=!1;function Qf(){if(q4){var o=w0;if(o!==null)throw o}}function Yf(o,c,f,g){q4=!1;var x=o.updateQueue;fc=!1;var _=x.firstBaseUpdate,z=x.lastBaseUpdate,H=x.shared.pending;if(H!==null){x.shared.pending=null;var se=H,Te=se.next;se.next=null,z===null?_=Te:z.next=Te,z=se;var Me=o.alternate;Me!==null&&(Me=Me.updateQueue,H=Me.lastBaseUpdate,H!==z&&(H===null?Me.firstBaseUpdate=Te:H.next=Te,Me.lastBaseUpdate=se))}if(_!==null){var Be=x.baseState;z=0,Me=Te=se=null,H=_;do{var Ee=H.lane&-536870913,Ce=Ee!==H.lane;if(Ce?(or&Ee)===Ee:(g&Ee)===Ee){Ee!==0&&Ee===x0&&(q4=!0),Me!==null&&(Me=Me.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var xt=o,Ot=H;Ee=c;var Fr=f;switch(Ot.tag){case 1:if(xt=Ot.payload,typeof xt=="function"){Be=xt.call(Fr,Be,Ee);break e}Be=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Ot.payload,Ee=typeof xt=="function"?xt.call(Fr,Be,Ee):xt,Ee==null)break e;Be=m({},Be,Ee);break e;case 2:fc=!0}}Ee=H.callback,Ee!==null&&(o.flags|=64,Ce&&(o.flags|=8192),Ce=x.callbacks,Ce===null?x.callbacks=[Ee]:Ce.push(Ee))}else Ce={lane:Ee,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Me===null?(Te=Me=Ce,se=Be):Me=Me.next=Ce,z|=Ee;if(H=H.next,H===null){if(H=x.shared.pending,H===null)break;Ce=H,H=Ce.next,Ce.next=null,x.lastBaseUpdate=Ce,x.shared.pending=null}}while(!0);Me===null&&(se=Be),x.baseState=se,x.firstBaseUpdate=Te,x.lastBaseUpdate=Me,_===null&&(x.shared.lanes=0),xc|=z,o.lanes=z,o.memoizedState=Be}}function H9(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function G9(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)H9(f[o],c)}var T0=X(null),Y1=X(0);function K9(o,c){o=cl,ue(Y1,o),ue(T0,c),cl=o|c.baseLanes}function H4(){ue(Y1,cl),ue(T0,T0.current)}function G4(){cl=Y1.current,te(T0),te(Y1)}var Ka=X(null),bs=null;function gc(o){var c=o.alternate;ue(zn,zn.current&1),ue(Ka,o),bs===null&&(c===null||T0.current!==null||c.memoizedState!==null)&&(bs=o)}function K4(o){ue(zn,zn.current),ue(Ka,o),bs===null&&(bs=o)}function W9(o){o.tag===22?(ue(zn,zn.current),ue(Ka,o),bs===null&&(bs=o)):yc()}function yc(){ue(zn,zn.current),ue(Ka,Ka.current)}function Wa(o){te(Ka),bs===o&&(bs=null),te(zn)}var zn=X(0);function Z1(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Jw(f)||e5(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var tl=0,Wt=null,$r=null,Yn=null,J1=!1,A0=!1,Hu=!1,ey=0,Zf=0,E0=null,_Q=0;function On(){throw Error(n(321))}function W4(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!Ha(o[f],c[f]))return!1;return!0}function X4(o,c,f,g,x,_){return tl=_,Wt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,W.H=o===null||o.memoizedState===null?OC:uw,Hu=!1,_=f(g,x),Hu=!1,A0&&(_=Q9(c,f,g,x)),X9(o),_}function X9(o){W.H=tp;var c=$r!==null&&$r.next!==null;if(tl=0,Yn=$r=Wt=null,J1=!1,Zf=0,E0=null,c)throw Error(n(300));o===null||Zn||(o=o.dependencies,o!==null&&q1(o)&&(Zn=!0))}function Q9(o,c,f,g){Wt=o;var x=0;do{if(A0&&(E0=null),Zf=0,A0=!1,25<=x)throw Error(n(301));if(x+=1,Yn=$r=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}W.H=IC,_=c(f,g)}while(A0);return _}function SQ(){var o=W.H,c=o.useState()[0];return c=typeof c.then=="function"?Jf(c):c,o=o.useState()[0],($r!==null?$r.memoizedState:null)!==o&&(Wt.flags|=1024),c}function Q4(){var o=ey!==0;return ey=0,o}function Y4(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function Z4(o){if(J1){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}J1=!1}tl=0,Yn=$r=Wt=null,A0=!1,Zf=ey=0,E0=null}function ca(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?Wt.memoizedState=Yn=o:Yn=Yn.next=o,Yn}function $n(){if($r===null){var o=Wt.alternate;o=o!==null?o.memoizedState:null}else o=$r.next;var c=Yn===null?Wt.memoizedState:Yn.next;if(c!==null)Yn=c,$r=o;else{if(o===null)throw Wt.alternate===null?Error(n(467)):Error(n(310));$r=o,o={memoizedState:$r.memoizedState,baseState:$r.baseState,baseQueue:$r.baseQueue,queue:$r.queue,next:null},Yn===null?Wt.memoizedState=Yn=o:Yn=Yn.next=o}return Yn}function ty(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jf(o){var c=Zf;return Zf+=1,E0===null&&(E0=[]),o=z9(E0,o,c),c=Wt,(Yn===null?c.memoizedState:Yn.next)===null&&(c=c.alternate,W.H=c===null||c.memoizedState===null?OC:uw),o}function ry(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Jf(o);if(o.$$typeof===j)return Di(o)}throw Error(n(438,String(o)))}function J4(o){var c=null,f=Wt.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var g=Wt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(x){return x.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=ty(),Wt.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),g=0;g<o;g++)f[g]=F;return c.index++,f}function rl(o,c){return typeof c=="function"?c(o):c}function ny(o){var c=$n();return ew(c,$r,o)}function ew(o,c,f){var g=o.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=f;var x=o.baseQueue,_=g.pending;if(_!==null){if(x!==null){var z=x.next;x.next=_.next,_.next=z}c.baseQueue=x=_,g.pending=null}if(_=o.baseState,x===null)o.memoizedState=_;else{c=x.next;var H=z=null,se=null,Te=c,Me=!1;do{var Be=Te.lane&-536870913;if(Be!==Te.lane?(or&Be)===Be:(tl&Be)===Be){var Ee=Te.revertLane;if(Ee===0)se!==null&&(se=se.next={lane:0,revertLane:0,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),Be===x0&&(Me=!0);else if((tl&Ee)===Ee){Te=Te.next,Ee===x0&&(Me=!0);continue}else Be={lane:0,revertLane:Te.revertLane,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},se===null?(H=se=Be,z=_):se=se.next=Be,Wt.lanes|=Ee,xc|=Ee;Be=Te.action,Hu&&f(_,Be),_=Te.hasEagerState?Te.eagerState:f(_,Be)}else Ee={lane:Be,revertLane:Te.revertLane,gesture:Te.gesture,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},se===null?(H=se=Ee,z=_):se=se.next=Ee,Wt.lanes|=Be,xc|=Be;Te=Te.next}while(Te!==null&&Te!==c);if(se===null?z=_:se.next=H,!Ha(_,o.memoizedState)&&(Zn=!0,Me&&(f=w0,f!==null)))throw f;o.memoizedState=_,o.baseState=z,o.baseQueue=se,g.lastRenderedState=_}return x===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function tw(o){var c=$n(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var g=f.dispatch,x=f.pending,_=c.memoizedState;if(x!==null){f.pending=null;var z=x=x.next;do _=o(_,z.action),z=z.next;while(z!==x);Ha(_,c.memoizedState)||(Zn=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),f.lastRenderedState=_}return[_,g]}function Y9(o,c,f){var g=Wt,x=$n(),_=dr;if(_){if(f===void 0)throw Error(n(407));f=f()}else f=c();var z=!Ha(($r||x).memoizedState,f);if(z&&(x.memoizedState=f,Zn=!0),x=x.queue,iw(eC.bind(null,g,x,o),[o]),x.getSnapshot!==c||z||Yn!==null&&Yn.memoizedState.tag&1){if(g.flags|=2048,N0(9,{destroy:void 0},J9.bind(null,g,x,f,c),null),Qr===null)throw Error(n(349));_||(tl&127)!==0||Z9(g,c,f)}return f}function Z9(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=Wt.updateQueue,c===null?(c=ty(),Wt.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function J9(o,c,f,g){c.value=f,c.getSnapshot=g,tC(c)&&rC(o)}function eC(o,c,f){return f(function(){tC(c)&&rC(o)})}function tC(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!Ha(o,f)}catch{return!0}}function rC(o){var c=Du(o,2);c!==null&&ka(c,o,2)}function rw(o){var c=ca();if(typeof o=="function"){var f=o;if(o=f(),Hu){qt(!0);try{f()}finally{qt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:o},c}function nC(o,c,f,g){return o.baseState=f,ew(o,$r,typeof g=="function"?g:rl)}function TQ(o,c,f,g,x){if(sy(o))throw Error(n(485));if(o=c.action,o!==null){var _={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){_.listeners.push(z)}};W.T!==null?f(!0):_.isTransition=!1,g(_),f=c.pending,f===null?(_.next=c.pending=_,iC(c,_)):(_.next=f.next,c.pending=f.next=_)}}function iC(o,c){var f=c.action,g=c.payload,x=o.state;if(c.isTransition){var _=W.T,z={};W.T=z;try{var H=f(x,g),se=W.S;se!==null&&se(z,H),aC(o,c,H)}catch(Te){nw(o,c,Te)}finally{_!==null&&z.types!==null&&(_.types=z.types),W.T=_}}else try{_=f(x,g),aC(o,c,_)}catch(Te){nw(o,c,Te)}}function aC(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){sC(o,c,g)},function(g){return nw(o,c,g)}):sC(o,c,f)}function sC(o,c,f){c.status="fulfilled",c.value=f,oC(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,iC(o,f)))}function nw(o,c,f){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=f,oC(c),c=c.next;while(c!==g)}o.action=null}function oC(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function lC(o,c){return c}function cC(o,c){if(dr){var f=Qr.formState;if(f!==null){e:{var g=Wt;if(dr){if(hn){t:{for(var x=hn,_=vs;x.nodeType!==8;){if(!_){x=null;break t}if(x=xs(x.nextSibling),x===null){x=null;break t}}_=x.data,x=_==="F!"||_==="F"?x:null}if(x){hn=xs(x.nextSibling),g=x.data==="F!";break e}}dc(g)}g=!1}g&&(c=f[0])}}return f=ca(),f.memoizedState=f.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lC,lastRenderedState:c},f.queue=g,f=CC.bind(null,Wt,g),g.dispatch=f,g=rw(!1),_=cw.bind(null,Wt,!1,g.queue),g=ca(),x={state:c,dispatch:null,action:o,pending:null},g.queue=x,f=TQ.bind(null,Wt,x,_,f),x.dispatch=f,g.memoizedState=o,[c,f,!1]}function uC(o){var c=$n();return dC(c,$r,o)}function dC(o,c,f){if(c=ew(o,c,lC)[0],o=ny(rl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=Jf(c)}catch(z){throw z===_0?K1:z}else g=c;c=$n();var x=c.queue,_=x.dispatch;return f!==c.memoizedState&&(Wt.flags|=2048,N0(9,{destroy:void 0},AQ.bind(null,x,f),null)),[g,_,o]}function AQ(o,c){o.action=c}function hC(o){var c=$n(),f=$r;if(f!==null)return dC(c,f,o);$n(),c=c.memoizedState,f=$n();var g=f.queue.dispatch;return f.memoizedState=o,[c,g,!1]}function N0(o,c,f,g){return o={tag:o,create:f,deps:g,inst:c,next:null},c=Wt.updateQueue,c===null&&(c=ty(),Wt.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(g=f.next,f.next=o,o.next=g,c.lastEffect=o),o}function fC(){return $n().memoizedState}function iy(o,c,f,g){var x=ca();Wt.flags|=o,x.memoizedState=N0(1|c,{destroy:void 0},f,g===void 0?null:g)}function ay(o,c,f,g){var x=$n();g=g===void 0?null:g;var _=x.memoizedState.inst;$r!==null&&g!==null&&W4(g,$r.memoizedState.deps)?x.memoizedState=N0(c,_,f,g):(Wt.flags|=o,x.memoizedState=N0(1|c,_,f,g))}function pC(o,c){iy(8390656,8,o,c)}function iw(o,c){ay(2048,8,o,c)}function EQ(o){Wt.flags|=4;var c=Wt.updateQueue;if(c===null)c=ty(),Wt.updateQueue=c,c.events=[o];else{var f=c.events;f===null?c.events=[o]:f.push(o)}}function mC(o){var c=$n().memoizedState;return EQ({ref:c,nextImpl:o}),function(){if((Sr&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function gC(o,c){return ay(4,2,o,c)}function yC(o,c){return ay(4,4,o,c)}function vC(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function bC(o,c,f){f=f!=null?f.concat([o]):null,ay(4,4,vC.bind(null,c,o),f)}function aw(){}function xC(o,c){var f=$n();c=c===void 0?null:c;var g=f.memoizedState;return c!==null&&W4(c,g[1])?g[0]:(f.memoizedState=[o,c],o)}function wC(o,c){var f=$n();c=c===void 0?null:c;var g=f.memoizedState;if(c!==null&&W4(c,g[1]))return g[0];if(g=o(),Hu){qt(!0);try{o()}finally{qt(!1)}}return f.memoizedState=[g,c],g}function sw(o,c,f){return f===void 0||(tl&1073741824)!==0&&(or&261930)===0?o.memoizedState=c:(o.memoizedState=f,o=_j(),Wt.lanes|=o,xc|=o,f)}function _C(o,c,f,g){return Ha(f,c)?f:T0.current!==null?(o=sw(o,f,g),Ha(o,c)||(Zn=!0),o):(tl&42)===0||(tl&1073741824)!==0&&(or&261930)===0?(Zn=!0,o.memoizedState=f):(o=_j(),Wt.lanes|=o,xc|=o,c)}function SC(o,c,f,g,x){var _=J.p;J.p=_!==0&&8>_?_:8;var z=W.T,H={};W.T=H,cw(o,!1,c,f);try{var se=x(),Te=W.S;if(Te!==null&&Te(H,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var Me=wQ(se,g);ep(o,c,Me,Ya(o))}else ep(o,c,g,Ya(o))}catch(Be){ep(o,c,{then:function(){},status:"rejected",reason:Be},Ya())}finally{J.p=_,z!==null&&H.types!==null&&(z.types=H.types),W.T=z}}function NQ(){}function ow(o,c,f,g){if(o.tag!==5)throw Error(n(476));var x=TC(o).queue;SC(o,x,c,Y,f===null?NQ:function(){return AC(o),f(g)})}function TC(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:Y},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function AC(o){var c=TC(o);c.next===null&&(c=o.alternate.memoizedState),ep(o,c.next.queue,{},Ya())}function lw(){return Di(yp)}function EC(){return $n().memoizedState}function NC(){return $n().memoizedState}function CQ(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=Ya();o=pc(f);var g=mc(c,o,f);g!==null&&(ka(g,c,f),Xf(g,c,f)),c={cache:L4()},o.payload=c;return}c=c.return}}function jQ(o,c,f){var g=Ya();f={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},sy(o)?jC(c,f):(f=E4(o,c,f,g),f!==null&&(ka(f,o,g),kC(f,c,g)))}function CC(o,c,f){var g=Ya();ep(o,c,f,g)}function ep(o,c,f,g){var x={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(sy(o))jC(c,x);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var z=c.lastRenderedState,H=_(z,f);if(x.hasEagerState=!0,x.eagerState=H,Ha(H,z))return z1(o,c,x,0),Qr===null&&U1(),!1}catch{}finally{}if(f=E4(o,c,x,g),f!==null)return ka(f,o,g),kC(f,c,g),!0}return!1}function cw(o,c,f,g){if(g={lane:2,revertLane:$w(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},sy(o)){if(c)throw Error(n(479))}else c=E4(o,f,g,2),c!==null&&ka(c,o,2)}function sy(o){var c=o.alternate;return o===Wt||c!==null&&c===Wt}function jC(o,c){A0=J1=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function kC(o,c,f){if((f&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,f|=g,c.lanes=f,Xr(o,f)}}var tp={readContext:Di,use:ry,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useInsertionEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useSyncExternalStore:On,useId:On,useHostTransitionStatus:On,useFormState:On,useActionState:On,useOptimistic:On,useMemoCache:On,useCacheRefresh:On};tp.useEffectEvent=On;var OC={readContext:Di,use:ry,useCallback:function(o,c){return ca().memoizedState=[o,c===void 0?null:c],o},useContext:Di,useEffect:pC,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,iy(4194308,4,vC.bind(null,c,o),f)},useLayoutEffect:function(o,c){return iy(4194308,4,o,c)},useInsertionEffect:function(o,c){iy(4,2,o,c)},useMemo:function(o,c){var f=ca();c=c===void 0?null:c;var g=o();if(Hu){qt(!0);try{o()}finally{qt(!1)}}return f.memoizedState=[g,c],g},useReducer:function(o,c,f){var g=ca();if(f!==void 0){var x=f(c);if(Hu){qt(!0);try{f(c)}finally{qt(!1)}}}else x=c;return g.memoizedState=g.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},g.queue=o,o=o.dispatch=jQ.bind(null,Wt,o),[g.memoizedState,o]},useRef:function(o){var c=ca();return o={current:o},c.memoizedState=o},useState:function(o){o=rw(o);var c=o.queue,f=CC.bind(null,Wt,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:aw,useDeferredValue:function(o,c){var f=ca();return sw(f,o,c)},useTransition:function(){var o=rw(!1);return o=SC.bind(null,Wt,o.queue,!0,!1),ca().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var g=Wt,x=ca();if(dr){if(f===void 0)throw Error(n(407));f=f()}else{if(f=c(),Qr===null)throw Error(n(349));(or&127)!==0||Z9(g,c,f)}x.memoizedState=f;var _={value:f,getSnapshot:c};return x.queue=_,pC(eC.bind(null,g,_,o),[o]),g.flags|=2048,N0(9,{destroy:void 0},J9.bind(null,g,_,f,c),null),f},useId:function(){var o=ca(),c=Qr.identifierPrefix;if(dr){var f=vo,g=yo;f=(g&~(1<<32-Ht(g)-1)).toString(32)+f,c="_"+c+"R_"+f,f=ey++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=_Q++,c="_"+c+"r_"+f.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:lw,useFormState:cC,useActionState:cC,useOptimistic:function(o){var c=ca();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=cw.bind(null,Wt,!0,f),f.dispatch=c,[o,c]},useMemoCache:J4,useCacheRefresh:function(){return ca().memoizedState=CQ.bind(null,Wt)},useEffectEvent:function(o){var c=ca(),f={impl:o};return c.memoizedState=f,function(){if((Sr&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}},uw={readContext:Di,use:ry,useCallback:xC,useContext:Di,useEffect:iw,useImperativeHandle:bC,useInsertionEffect:gC,useLayoutEffect:yC,useMemo:wC,useReducer:ny,useRef:fC,useState:function(){return ny(rl)},useDebugValue:aw,useDeferredValue:function(o,c){var f=$n();return _C(f,$r.memoizedState,o,c)},useTransition:function(){var o=ny(rl)[0],c=$n().memoizedState;return[typeof o=="boolean"?o:Jf(o),c]},useSyncExternalStore:Y9,useId:EC,useHostTransitionStatus:lw,useFormState:uC,useActionState:uC,useOptimistic:function(o,c){var f=$n();return nC(f,$r,o,c)},useMemoCache:J4,useCacheRefresh:NC};uw.useEffectEvent=mC;var IC={readContext:Di,use:ry,useCallback:xC,useContext:Di,useEffect:iw,useImperativeHandle:bC,useInsertionEffect:gC,useLayoutEffect:yC,useMemo:wC,useReducer:tw,useRef:fC,useState:function(){return tw(rl)},useDebugValue:aw,useDeferredValue:function(o,c){var f=$n();return $r===null?sw(f,o,c):_C(f,$r.memoizedState,o,c)},useTransition:function(){var o=tw(rl)[0],c=$n().memoizedState;return[typeof o=="boolean"?o:Jf(o),c]},useSyncExternalStore:Y9,useId:EC,useHostTransitionStatus:lw,useFormState:hC,useActionState:hC,useOptimistic:function(o,c){var f=$n();return $r!==null?nC(f,$r,o,c):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:J4,useCacheRefresh:NC};IC.useEffectEvent=mC;function dw(o,c,f,g){c=o.memoizedState,f=f(g,c),f=f==null?c:m({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var hw={enqueueSetState:function(o,c,f){o=o._reactInternals;var g=Ya(),x=pc(g);x.payload=c,f!=null&&(x.callback=f),c=mc(o,x,g),c!==null&&(ka(c,o,g),Xf(c,o,g))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var g=Ya(),x=pc(g);x.tag=1,x.payload=c,f!=null&&(x.callback=f),c=mc(o,x,g),c!==null&&(ka(c,o,g),Xf(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=Ya(),g=pc(f);g.tag=2,c!=null&&(g.callback=c),c=mc(o,g,f),c!==null&&(ka(c,o,f),Xf(c,o,f))}};function RC(o,c,f,g,x,_,z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,_,z):c.prototype&&c.prototype.isPureReactComponent?!$f(f,g)||!$f(x,_):!0}function MC(o,c,f,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,g),c.state!==o&&hw.enqueueReplaceState(c,c.state,null)}function Gu(o,c){var f=c;if("ref"in c){f={};for(var g in c)g!=="ref"&&(f[g]=c[g])}if(o=o.defaultProps){f===c&&(f=m({},f));for(var x in o)f[x]===void 0&&(f[x]=o[x])}return f}function PC(o){B1(o)}function DC(o){console.error(o)}function LC(o){B1(o)}function oy(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function BC(o,c,f){try{var g=o.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function fw(o,c,f){return f=pc(f),f.tag=3,f.payload={element:null},f.callback=function(){oy(o,c)},f}function UC(o){return o=pc(o),o.tag=3,o}function zC(o,c,f,g){var x=f.type.getDerivedStateFromError;if(typeof x=="function"){var _=g.value;o.payload=function(){return x(_)},o.callback=function(){BC(c,f,g)}}var z=f.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(o.callback=function(){BC(c,f,g),typeof x!="function"&&(wc===null?wc=new Set([this]):wc.add(this));var H=g.stack;this.componentDidCatch(g.value,{componentStack:H!==null?H:""})})}function kQ(o,c,f,g,x){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=f.alternate,c!==null&&b0(c,f,x,!0),f=Ka.current,f!==null){switch(f.tag){case 31:case 13:return bs===null?by():f.alternate===null&&In===0&&(In=3),f.flags&=-257,f.flags|=65536,f.lanes=x,g===W1?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([g]):c.add(g),Bw(o,g,x)),!1;case 22:return f.flags|=65536,g===W1?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([g]):f.add(g)),Bw(o,g,x)),!1}throw Error(n(435,f.tag))}return Bw(o,g,x),by(),!1}if(dr)return c=Ka.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=x,g!==I4&&(o=Error(n(422),{cause:g}),qf(ms(o,f)))):(g!==I4&&(c=Error(n(423),{cause:g}),qf(ms(c,f))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,g=ms(g,f),x=fw(o.stateNode,g,x),F4(o,x),In!==4&&(In=2)),!1;var _=Error(n(520),{cause:g});if(_=ms(_,f),cp===null?cp=[_]:cp.push(_),In!==4&&(In=2),c===null)return!0;g=ms(g,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=x&-x,f.lanes|=o,o=fw(f.stateNode,g,o),F4(f,o),!1;case 1:if(c=f.type,_=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wc===null||!wc.has(_))))return f.flags|=65536,x&=-x,f.lanes|=x,x=UC(x),zC(x,o,f,g),F4(f,x),!1}f=f.return}while(f!==null);return!1}var pw=Error(n(461)),Zn=!1;function Li(o,c,f,g){c.child=o===null?q9(c,null,f,g):qu(c,o.child,f,g)}function $C(o,c,f,g,x){f=f.render;var _=c.ref;if("ref"in g){var z={};for(var H in g)H!=="ref"&&(z[H]=g[H])}else z=g;return zu(c),g=X4(o,c,f,z,_,x),H=Q4(),o!==null&&!Zn?(Y4(o,c,x),nl(o,c,x)):(dr&&H&&k4(c),c.flags|=1,Li(o,c,g,x),c.child)}function VC(o,c,f,g,x){if(o===null){var _=f.type;return typeof _=="function"&&!N4(_)&&_.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=_,FC(o,c,_,g,x)):(o=V1(f.type,null,g,c,c.mode,x),o.ref=c.ref,o.return=c,c.child=o)}if(_=o.child,!_w(o,x)){var z=_.memoizedProps;if(f=f.compare,f=f!==null?f:$f,f(z,g)&&o.ref===c.ref)return nl(o,c,x)}return c.flags|=1,o=Yo(_,g),o.ref=c.ref,o.return=c,c.child=o}function FC(o,c,f,g,x){if(o!==null){var _=o.memoizedProps;if($f(_,g)&&o.ref===c.ref)if(Zn=!1,c.pendingProps=g=_,_w(o,x))(o.flags&131072)!==0&&(Zn=!0);else return c.lanes=o.lanes,nl(o,c,x)}return mw(o,c,f,g,x)}function qC(o,c,f,g){var x=g.children,_=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(_=_!==null?_.baseLanes|f:f,o!==null){for(g=c.child=o.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;g=x&~_}else g=0,c.child=null;return HC(o,c,_,f,g)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&G1(c,_!==null?_.cachePool:null),_!==null?K9(c,_):H4(),W9(c);else return g=c.lanes=536870912,HC(o,c,_!==null?_.baseLanes|f:f,f,g)}else _!==null?(G1(c,_.cachePool),K9(c,_),yc(),c.memoizedState=null):(o!==null&&G1(c,null),H4(),yc());return Li(o,c,x,f),c.child}function rp(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function HC(o,c,f,g,x){var _=U4();return _=_===null?null:{parent:Qn._currentValue,pool:_},c.memoizedState={baseLanes:f,cachePool:_},o!==null&&G1(c,null),H4(),W9(c),o!==null&&b0(o,c,g,!0),c.childLanes=x,null}function ly(o,c){return c=uy({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function GC(o,c,f){return qu(c,o.child,null,f),o=ly(c,c.pendingProps),o.flags|=2,Wa(c),c.memoizedState=null,o}function OQ(o,c,f){var g=c.pendingProps,x=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(dr){if(g.mode==="hidden")return o=ly(c,g),c.lanes=536870912,rp(null,o);if(K4(c),(o=hn)?(o=ik(o,vs),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:cc!==null?{id:yo,overflow:vo}:null,retryLane:536870912,hydrationErrors:null},f=j9(o),f.return=c,c.child=f,Pi=c,hn=null)):o=null,o===null)throw dc(c);return c.lanes=536870912,null}return ly(c,g)}var _=o.memoizedState;if(_!==null){var z=_.dehydrated;if(K4(c),x)if(c.flags&256)c.flags&=-257,c=GC(o,c,f);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(Zn||b0(o,c,f,!1),x=(f&o.childLanes)!==0,Zn||x){if(g=Qr,g!==null&&(z=yn(g,f),z!==0&&z!==_.retryLane))throw _.retryLane=z,Du(o,z),ka(g,o,z),pw;by(),c=GC(o,c,f)}else o=_.treeContext,hn=xs(z.nextSibling),Pi=c,dr=!0,uc=null,vs=!1,o!==null&&I9(c,o),c=ly(c,g),c.flags|=4096;return c}return o=Yo(o.child,{mode:g.mode,children:g.children}),o.ref=c.ref,c.child=o,o.return=c,o}function cy(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(n(284));(o===null||o.ref!==f)&&(c.flags|=4194816)}}function mw(o,c,f,g,x){return zu(c),f=X4(o,c,f,g,void 0,x),g=Q4(),o!==null&&!Zn?(Y4(o,c,x),nl(o,c,x)):(dr&&g&&k4(c),c.flags|=1,Li(o,c,f,x),c.child)}function KC(o,c,f,g,x,_){return zu(c),c.updateQueue=null,f=Q9(c,g,f,x),X9(o),g=Q4(),o!==null&&!Zn?(Y4(o,c,_),nl(o,c,_)):(dr&&g&&k4(c),c.flags|=1,Li(o,c,f,_),c.child)}function WC(o,c,f,g,x){if(zu(c),c.stateNode===null){var _=m0,z=f.contextType;typeof z=="object"&&z!==null&&(_=Di(z)),_=new f(g,_),c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=hw,c.stateNode=_,_._reactInternals=c,_=c.stateNode,_.props=g,_.state=c.memoizedState,_.refs={},$4(c),z=f.contextType,_.context=typeof z=="object"&&z!==null?Di(z):m0,_.state=c.memoizedState,z=f.getDerivedStateFromProps,typeof z=="function"&&(dw(c,f,z,g),_.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(z=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),z!==_.state&&hw.enqueueReplaceState(_,_.state,null),Yf(c,g,_,x),Qf(),_.state=c.memoizedState),typeof _.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){_=c.stateNode;var H=c.memoizedProps,se=Gu(f,H);_.props=se;var Te=_.context,Me=f.contextType;z=m0,typeof Me=="object"&&Me!==null&&(z=Di(Me));var Be=f.getDerivedStateFromProps;Me=typeof Be=="function"||typeof _.getSnapshotBeforeUpdate=="function",H=c.pendingProps!==H,Me||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(H||Te!==z)&&MC(c,_,g,z),fc=!1;var Ee=c.memoizedState;_.state=Ee,Yf(c,g,_,x),Qf(),Te=c.memoizedState,H||Ee!==Te||fc?(typeof Be=="function"&&(dw(c,f,Be,g),Te=c.memoizedState),(se=fc||RC(c,f,se,g,Ee,Te,z))?(Me||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(c.flags|=4194308)):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=Te),_.props=g,_.state=Te,_.context=z,g=se):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{_=c.stateNode,V4(o,c),z=c.memoizedProps,Me=Gu(f,z),_.props=Me,Be=c.pendingProps,Ee=_.context,Te=f.contextType,se=m0,typeof Te=="object"&&Te!==null&&(se=Di(Te)),H=f.getDerivedStateFromProps,(Te=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(z!==Be||Ee!==se)&&MC(c,_,g,se),fc=!1,Ee=c.memoizedState,_.state=Ee,Yf(c,g,_,x),Qf();var Ce=c.memoizedState;z!==Be||Ee!==Ce||fc||o!==null&&o.dependencies!==null&&q1(o.dependencies)?(typeof H=="function"&&(dw(c,f,H,g),Ce=c.memoizedState),(Me=fc||RC(c,f,Me,g,Ee,Ce,se)||o!==null&&o.dependencies!==null&&q1(o.dependencies))?(Te||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,Ce,se),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,Ce,se)),typeof _.componentDidUpdate=="function"&&(c.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof _.componentDidUpdate!="function"||z===o.memoizedProps&&Ee===o.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Ee===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Ce),_.props=g,_.state=Ce,_.context=se,g=Me):(typeof _.componentDidUpdate!="function"||z===o.memoizedProps&&Ee===o.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Ee===o.memoizedState||(c.flags|=1024),g=!1)}return _=g,cy(o,c),g=(c.flags&128)!==0,_||g?(_=c.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:_.render(),c.flags|=1,o!==null&&g?(c.child=qu(c,o.child,null,x),c.child=qu(c,null,f,x)):Li(o,c,f,x),c.memoizedState=_.state,o=c.child):o=nl(o,c,x),o}function XC(o,c,f,g){return Bu(),c.flags|=256,Li(o,c,f,g),c.child}var gw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yw(o){return{baseLanes:o,cachePool:B9()}}function vw(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=Qa),o}function QC(o,c,f){var g=c.pendingProps,x=!1,_=(c.flags&128)!==0,z;if((z=_)||(z=o!==null&&o.memoizedState===null?!1:(zn.current&2)!==0),z&&(x=!0,c.flags&=-129),z=(c.flags&32)!==0,c.flags&=-33,o===null){if(dr){if(x?gc(c):yc(),(o=hn)?(o=ik(o,vs),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:cc!==null?{id:yo,overflow:vo}:null,retryLane:536870912,hydrationErrors:null},f=j9(o),f.return=c,c.child=f,Pi=c,hn=null)):o=null,o===null)throw dc(c);return e5(o)?c.lanes=32:c.lanes=536870912,null}var H=g.children;return g=g.fallback,x?(yc(),x=c.mode,H=uy({mode:"hidden",children:H},x),g=Lu(g,x,f,null),H.return=c,g.return=c,H.sibling=g,c.child=H,g=c.child,g.memoizedState=yw(f),g.childLanes=vw(o,z,f),c.memoizedState=gw,rp(null,g)):(gc(c),bw(c,H))}var se=o.memoizedState;if(se!==null&&(H=se.dehydrated,H!==null)){if(_)c.flags&256?(gc(c),c.flags&=-257,c=xw(o,c,f)):c.memoizedState!==null?(yc(),c.child=o.child,c.flags|=128,c=null):(yc(),H=g.fallback,x=c.mode,g=uy({mode:"visible",children:g.children},x),H=Lu(H,x,f,null),H.flags|=2,g.return=c,H.return=c,g.sibling=H,c.child=g,qu(c,o.child,null,f),g=c.child,g.memoizedState=yw(f),g.childLanes=vw(o,z,f),c.memoizedState=gw,c=rp(null,g));else if(gc(c),e5(H)){if(z=H.nextSibling&&H.nextSibling.dataset,z)var Te=z.dgst;z=Te,g=Error(n(419)),g.stack="",g.digest=z,qf({value:g,source:null,stack:null}),c=xw(o,c,f)}else if(Zn||b0(o,c,f,!1),z=(f&o.childLanes)!==0,Zn||z){if(z=Qr,z!==null&&(g=yn(z,f),g!==0&&g!==se.retryLane))throw se.retryLane=g,Du(o,g),ka(z,o,g),pw;Jw(H)||by(),c=xw(o,c,f)}else Jw(H)?(c.flags|=192,c.child=o.child,c=null):(o=se.treeContext,hn=xs(H.nextSibling),Pi=c,dr=!0,uc=null,vs=!1,o!==null&&I9(c,o),c=bw(c,g.children),c.flags|=4096);return c}return x?(yc(),H=g.fallback,x=c.mode,se=o.child,Te=se.sibling,g=Yo(se,{mode:"hidden",children:g.children}),g.subtreeFlags=se.subtreeFlags&65011712,Te!==null?H=Yo(Te,H):(H=Lu(H,x,f,null),H.flags|=2),H.return=c,g.return=c,g.sibling=H,c.child=g,rp(null,g),g=c.child,H=o.child.memoizedState,H===null?H=yw(f):(x=H.cachePool,x!==null?(se=Qn._currentValue,x=x.parent!==se?{parent:se,pool:se}:x):x=B9(),H={baseLanes:H.baseLanes|f,cachePool:x}),g.memoizedState=H,g.childLanes=vw(o,z,f),c.memoizedState=gw,rp(o.child,g)):(gc(c),f=o.child,o=f.sibling,f=Yo(f,{mode:"visible",children:g.children}),f.return=c,f.sibling=null,o!==null&&(z=c.deletions,z===null?(c.deletions=[o],c.flags|=16):z.push(o)),c.child=f,c.memoizedState=null,f)}function bw(o,c){return c=uy({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function uy(o,c){return o=Ga(22,o,null,c),o.lanes=0,o}function xw(o,c,f){return qu(c,o.child,null,f),o=bw(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function YC(o,c,f){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),P4(o.return,c,f)}function ww(o,c,f,g,x,_){var z=o.memoizedState;z===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:x,treeForkCount:_}:(z.isBackwards=c,z.rendering=null,z.renderingStartTime=0,z.last=g,z.tail=f,z.tailMode=x,z.treeForkCount=_)}function ZC(o,c,f){var g=c.pendingProps,x=g.revealOrder,_=g.tail;g=g.children;var z=zn.current,H=(z&2)!==0;if(H?(z=z&1|2,c.flags|=128):z&=1,ue(zn,z),Li(o,c,g,f),g=dr?Ff:0,!H&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&YC(o,f,c);else if(o.tag===19)YC(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(f=c.child,x=null;f!==null;)o=f.alternate,o!==null&&Z1(o)===null&&(x=f),f=f.sibling;f=x,f===null?(x=c.child,c.child=null):(x=f.sibling,f.sibling=null),ww(c,!1,x,f,_,g);break;case"backwards":case"unstable_legacy-backwards":for(f=null,x=c.child,c.child=null;x!==null;){if(o=x.alternate,o!==null&&Z1(o)===null){c.child=x;break}o=x.sibling,x.sibling=f,f=x,x=o}ww(c,!0,f,null,_,g);break;case"together":ww(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function nl(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),xc|=c.lanes,(f&c.childLanes)===0)if(o!==null){if(b0(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,f=Yo(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=Yo(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function _w(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&q1(o)))}function IQ(o,c,f){switch(c.tag){case 3:Xe(c,c.stateNode.containerInfo),hc(c,Qn,o.memoizedState.cache),Bu();break;case 27:case 5:le(c);break;case 4:Xe(c,c.stateNode.containerInfo);break;case 10:hc(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,K4(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(gc(c),c.flags|=128,null):(f&c.child.childLanes)!==0?QC(o,c,f):(gc(c),o=nl(o,c,f),o!==null?o.sibling:null);gc(c);break;case 19:var x=(o.flags&128)!==0;if(g=(f&c.childLanes)!==0,g||(b0(o,c,f,!1),g=(f&c.childLanes)!==0),x){if(g)return ZC(o,c,f);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ue(zn,zn.current),g)break;return null;case 22:return c.lanes=0,qC(o,c,f,c.pendingProps);case 24:hc(c,Qn,o.memoizedState.cache)}return nl(o,c,f)}function JC(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)Zn=!0;else{if(!_w(o,f)&&(c.flags&128)===0)return Zn=!1,IQ(o,c,f);Zn=(o.flags&131072)!==0}else Zn=!1,dr&&(c.flags&1048576)!==0&&O9(c,Ff,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(o=Vu(c.elementType),c.type=o,typeof o=="function")N4(o)?(g=Gu(o,g),c.tag=1,c=WC(null,c,o,g,f)):(c.tag=0,c=mw(null,c,o,g,f));else{if(o!=null){var x=o.$$typeof;if(x===$){c.tag=11,c=$C(null,c,o,g,f);break e}else if(x===E){c.tag=14,c=VC(null,c,o,g,f);break e}}throw c=Q(o)||o,Error(n(306,c,""))}}return c;case 0:return mw(o,c,c.type,c.pendingProps,f);case 1:return g=c.type,x=Gu(g,c.pendingProps),WC(o,c,g,x,f);case 3:e:{if(Xe(c,c.stateNode.containerInfo),o===null)throw Error(n(387));g=c.pendingProps;var _=c.memoizedState;x=_.element,V4(o,c),Yf(c,g,null,f);var z=c.memoizedState;if(g=z.cache,hc(c,Qn,g),g!==_.cache&&D4(c,[Qn],f,!0),Qf(),g=z.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:z.cache},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){c=XC(o,c,g,f);break e}else if(g!==x){x=ms(Error(n(424)),c),qf(x),c=XC(o,c,g,f);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(hn=xs(o.firstChild),Pi=c,dr=!0,uc=null,vs=!0,f=q9(c,null,g,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Bu(),g===x){c=nl(o,c,f);break e}Li(o,c,g,f)}c=c.child}return c;case 26:return cy(o,c),o===null?(f=uk(c.type,null,c.pendingProps,null))?c.memoizedState=f:dr||(f=c.type,o=c.pendingProps,g=Ey(pe.current).createElement(f),g[Ir]=c,g[an]=o,Bi(g,f,o),tr(g),c.stateNode=g):c.memoizedState=uk(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return le(c),o===null&&dr&&(g=c.stateNode=ok(c.type,c.pendingProps,pe.current),Pi=c,vs=!0,x=hn,Ac(c.type)?(t5=x,hn=xs(g.firstChild)):hn=x),Li(o,c,c.pendingProps.children,f),cy(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&dr&&((x=g=hn)&&(g=lY(g,c.type,c.pendingProps,vs),g!==null?(c.stateNode=g,Pi=c,hn=xs(g.firstChild),vs=!1,x=!0):x=!1),x||dc(c)),le(c),x=c.type,_=c.pendingProps,z=o!==null?o.memoizedProps:null,g=_.children,Qw(x,_)?g=null:z!==null&&Qw(x,z)&&(c.flags|=32),c.memoizedState!==null&&(x=X4(o,c,SQ,null,null,f),yp._currentValue=x),cy(o,c),Li(o,c,g,f),c.child;case 6:return o===null&&dr&&((o=f=hn)&&(f=cY(f,c.pendingProps,vs),f!==null?(c.stateNode=f,Pi=c,hn=null,o=!0):o=!1),o||dc(c)),null;case 13:return QC(o,c,f);case 4:return Xe(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=qu(c,null,g,f):Li(o,c,g,f),c.child;case 11:return $C(o,c,c.type,c.pendingProps,f);case 7:return Li(o,c,c.pendingProps,f),c.child;case 8:return Li(o,c,c.pendingProps.children,f),c.child;case 12:return Li(o,c,c.pendingProps.children,f),c.child;case 10:return g=c.pendingProps,hc(c,c.type,g.value),Li(o,c,g.children,f),c.child;case 9:return x=c.type._context,g=c.pendingProps.children,zu(c),x=Di(x),g=g(x),c.flags|=1,Li(o,c,g,f),c.child;case 14:return VC(o,c,c.type,c.pendingProps,f);case 15:return FC(o,c,c.type,c.pendingProps,f);case 19:return ZC(o,c,f);case 31:return OQ(o,c,f);case 22:return qC(o,c,f,c.pendingProps);case 24:return zu(c),g=Di(Qn),o===null?(x=U4(),x===null&&(x=Qr,_=L4(),x.pooledCache=_,_.refCount++,_!==null&&(x.pooledCacheLanes|=f),x=_),c.memoizedState={parent:g,cache:x},$4(c),hc(c,Qn,x)):((o.lanes&f)!==0&&(V4(o,c),Yf(c,null,null,f),Qf()),x=o.memoizedState,_=c.memoizedState,x.parent!==g?(x={parent:g,cache:g},c.memoizedState=x,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=x),hc(c,Qn,g)):(g=_.cache,hc(c,Qn,g),g!==x.cache&&D4(c,[Qn],f,!0))),Li(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function il(o){o.flags|=4}function Sw(o,c,f,g,x){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(Ej())o.flags|=8192;else throw Fu=W1,z4}else o.flags&=-16777217}function ej(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!mk(c))if(Ej())o.flags|=8192;else throw Fu=W1,z4}function dy(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?gn():536870912,o.lanes|=c,O0|=c)}function np(o,c){if(!dr)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function fn(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,g=0;if(c)for(var x=o.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=g,o.childLanes=f,c}function RQ(o,c,f){var g=c.pendingProps;switch(O4(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(c),null;case 1:return fn(c),null;case 3:return f=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),el(Qn),Ne(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(v0(c)?il(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,R4())),fn(c),null;case 26:var x=c.type,_=c.memoizedState;return o===null?(il(c),_!==null?(fn(c),ej(c,_)):(fn(c),Sw(c,x,null,g,f))):_?_!==o.memoizedState?(il(c),fn(c),ej(c,_)):(fn(c),c.flags&=-16777217):(o=o.memoizedProps,o!==g&&il(c),fn(c),Sw(c,x,o,g,f)),null;case 27:if(je(c),f=pe.current,x=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&il(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return fn(c),null}o=oe.current,v0(c)?R9(c):(o=ok(x,g,f),c.stateNode=o,il(c))}return fn(c),null;case 5:if(je(c),x=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&il(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return fn(c),null}if(_=oe.current,v0(c))R9(c);else{var z=Ey(pe.current);switch(_){case 1:_=z.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:_=z.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":_=z.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":_=z.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":_=z.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof g.is=="string"?z.createElement("select",{is:g.is}):z.createElement("select"),g.multiple?_.multiple=!0:g.size&&(_.size=g.size);break;default:_=typeof g.is=="string"?z.createElement(x,{is:g.is}):z.createElement(x)}}_[Ir]=c,_[an]=g;e:for(z=c.child;z!==null;){if(z.tag===5||z.tag===6)_.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===c)break e;for(;z.sibling===null;){if(z.return===null||z.return===c)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}c.stateNode=_;e:switch(Bi(_,x,g),x){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&il(c)}}return fn(c),Sw(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,f),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&il(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(o=pe.current,v0(c)){if(o=c.stateNode,f=c.memoizedProps,g=null,x=Pi,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}o[Ir]=c,o=!!(o.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||Qj(o.nodeValue,f)),o||dc(c,!0)}else o=Ey(o).createTextNode(g),o[Ir]=c,c.stateNode=o}return fn(c),null;case 31:if(f=c.memoizedState,o===null||o.memoizedState!==null){if(g=v0(c),f!==null){if(o===null){if(!g)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[Ir]=c}else Bu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;fn(c),o=!1}else f=R4(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return c.flags&256?(Wa(c),c):(Wa(c),null);if((c.flags&128)!==0)throw Error(n(558))}return fn(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=v0(c),g!==null&&g.dehydrated!==null){if(o===null){if(!x)throw Error(n(318));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Ir]=c}else Bu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;fn(c),x=!1}else x=R4(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return c.flags&256?(Wa(c),c):(Wa(c),null)}return Wa(c),(c.flags&128)!==0?(c.lanes=f,c):(f=g!==null,o=o!==null&&o.memoizedState!==null,f&&(g=c.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool),_=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(_=g.memoizedState.cachePool.pool),_!==x&&(g.flags|=2048)),f!==o&&f&&(c.child.flags|=8192),dy(c,c.updateQueue),fn(c),null);case 4:return Ne(),o===null&&Hw(c.stateNode.containerInfo),fn(c),null;case 10:return el(c.type),fn(c),null;case 19:if(te(zn),g=c.memoizedState,g===null)return fn(c),null;if(x=(c.flags&128)!==0,_=g.rendering,_===null)if(x)np(g,!1);else{if(In!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(_=Z1(o),_!==null){for(c.flags|=128,np(g,!1),o=_.updateQueue,c.updateQueue=o,dy(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)C9(f,o),f=f.sibling;return ue(zn,zn.current&1|2),dr&&Zo(c,g.treeForkCount),c.child}o=o.sibling}g.tail!==null&&De()>gy&&(c.flags|=128,x=!0,np(g,!1),c.lanes=4194304)}else{if(!x)if(o=Z1(_),o!==null){if(c.flags|=128,x=!0,o=o.updateQueue,c.updateQueue=o,dy(c,o),np(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!dr)return fn(c),null}else 2*De()-g.renderingStartTime>gy&&f!==536870912&&(c.flags|=128,x=!0,np(g,!1),c.lanes=4194304);g.isBackwards?(_.sibling=c.child,c.child=_):(o=g.last,o!==null?o.sibling=_:c.child=_,g.last=_)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=De(),o.sibling=null,f=zn.current,ue(zn,x?f&1|2:f&1),dr&&Zo(c,g.treeForkCount),o):(fn(c),null);case 22:case 23:return Wa(c),G4(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(f&536870912)!==0&&(c.flags&128)===0&&(fn(c),c.subtreeFlags&6&&(c.flags|=8192)):fn(c),f=c.updateQueue,f!==null&&dy(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048),o!==null&&te($u),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),el(Qn),fn(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function MQ(o,c){switch(O4(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return el(Qn),Ne(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return je(c),null;case 31:if(c.memoizedState!==null){if(Wa(c),c.alternate===null)throw Error(n(340));Bu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Wa(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Bu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return te(zn),null;case 4:return Ne(),null;case 10:return el(c.type),null;case 22:case 23:return Wa(c),G4(),o!==null&&te($u),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return el(Qn),null;case 25:return null;default:return null}}function tj(o,c){switch(O4(c),c.tag){case 3:el(Qn),Ne();break;case 26:case 27:case 5:je(c);break;case 4:Ne();break;case 31:c.memoizedState!==null&&Wa(c);break;case 13:Wa(c);break;case 19:te(zn);break;case 10:el(c.type);break;case 22:case 23:Wa(c),G4(),o!==null&&te($u);break;case 24:el(Qn)}}function ip(o,c){try{var f=c.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var x=g.next;f=x;do{if((f.tag&o)===o){g=void 0;var _=f.create,z=f.inst;g=_(),z.destroy=g}f=f.next}while(f!==x)}}catch(H){Pr(c,c.return,H)}}function vc(o,c,f){try{var g=c.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var _=x.next;g=_;do{if((g.tag&o)===o){var z=g.inst,H=z.destroy;if(H!==void 0){z.destroy=void 0,x=c;var se=f,Te=H;try{Te()}catch(Me){Pr(x,se,Me)}}}g=g.next}while(g!==_)}}catch(Me){Pr(c,c.return,Me)}}function rj(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{G9(c,f)}catch(g){Pr(o,o.return,g)}}}function nj(o,c,f){f.props=Gu(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(g){Pr(o,c,g)}}function ap(o,c){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof f=="function"?o.refCleanup=f(g):f.current=g}}catch(x){Pr(o,c,x)}}function bo(o,c){var f=o.ref,g=o.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(x){Pr(o,c,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(x){Pr(o,c,x)}else f.current=null}function ij(o){var c=o.type,f=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(x){Pr(o,o.return,x)}}function Tw(o,c,f){try{var g=o.stateNode;rY(g,o.type,f,c),g[an]=c}catch(x){Pr(o,o.return,x)}}function aj(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ac(o.type)||o.tag===4}function Aw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||aj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ac(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ew(o,c,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(o),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=_i));else if(g!==4&&(g===27&&Ac(o.type)&&(f=o.stateNode,c=null),o=o.child,o!==null))for(Ew(o,c,f),o=o.sibling;o!==null;)Ew(o,c,f),o=o.sibling}function hy(o,c,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(g!==4&&(g===27&&Ac(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(hy(o,c,f),o=o.sibling;o!==null;)hy(o,c,f),o=o.sibling}function sj(o){var c=o.stateNode,f=o.memoizedProps;try{for(var g=o.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);Bi(c,g,f),c[Ir]=o,c[an]=f}catch(_){Pr(o,o.return,_)}}var al=!1,Jn=!1,Nw=!1,oj=typeof WeakSet=="function"?WeakSet:Set,Ai=null;function PQ(o,c){if(o=o.containerInfo,Ww=Ry,o=b9(o),x4(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var x=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var z=0,H=-1,se=-1,Te=0,Me=0,Be=o,Ee=null;t:for(;;){for(var Ce;Be!==f||x!==0&&Be.nodeType!==3||(H=z+x),Be!==_||g!==0&&Be.nodeType!==3||(se=z+g),Be.nodeType===3&&(z+=Be.nodeValue.length),(Ce=Be.firstChild)!==null;)Ee=Be,Be=Ce;for(;;){if(Be===o)break t;if(Ee===f&&++Te===x&&(H=z),Ee===_&&++Me===g&&(se=z),(Ce=Be.nextSibling)!==null)break;Be=Ee,Ee=Be.parentNode}Be=Ce}f=H===-1||se===-1?null:{start:H,end:se}}else f=null}f=f||{start:0,end:0}}else f=null;for(Xw={focusedElem:o,selectionRange:f},Ry=!1,Ai=c;Ai!==null;)if(c=Ai,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Ai=o;else for(;Ai!==null;){switch(c=Ai,_=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)x=o[f],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,f=c,x=_.memoizedProps,_=_.memoizedState,g=f.stateNode;try{var xt=Gu(f.type,x);o=g.getSnapshotBeforeUpdate(xt,_),g.__reactInternalSnapshotBeforeUpdate=o}catch(Ot){Pr(f,f.return,Ot)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)Zw(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Zw(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,Ai=o;break}Ai=c.return}}function lj(o,c,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:ol(o,f),g&4&&ip(5,f);break;case 1:if(ol(o,f),g&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(z){Pr(f,f.return,z)}else{var x=Gu(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(x,c,o.__reactInternalSnapshotBeforeUpdate)}catch(z){Pr(f,f.return,z)}}g&64&&rj(f),g&512&&ap(f,f.return);break;case 3:if(ol(o,f),g&64&&(o=f.updateQueue,o!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{G9(o,c)}catch(z){Pr(f,f.return,z)}}break;case 27:c===null&&g&4&&sj(f);case 26:case 5:ol(o,f),c===null&&g&4&&ij(f),g&512&&ap(f,f.return);break;case 12:ol(o,f);break;case 31:ol(o,f),g&4&&dj(o,f);break;case 13:ol(o,f),g&4&&hj(o,f),g&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=qQ.bind(null,f),uY(o,f))));break;case 22:if(g=f.memoizedState!==null||al,!g){c=c!==null&&c.memoizedState!==null||Jn,x=al;var _=Jn;al=g,(Jn=c)&&!_?ll(o,f,(f.subtreeFlags&8772)!==0):ol(o,f),al=x,Jn=_}break;case 30:break;default:ol(o,f)}}function cj(o){var c=o.alternate;c!==null&&(o.alternate=null,cj(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&yt(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var vn=null,Ea=!1;function sl(o,c,f){for(f=f.child;f!==null;)uj(o,c,f),f=f.sibling}function uj(o,c,f){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Sn,f)}catch{}switch(f.tag){case 26:Jn||bo(f,c),sl(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Jn||bo(f,c);var g=vn,x=Ea;Ac(f.type)&&(vn=f.stateNode,Ea=!1),sl(o,c,f),pp(f.stateNode),vn=g,Ea=x;break;case 5:Jn||bo(f,c);case 6:if(g=vn,x=Ea,vn=null,sl(o,c,f),vn=g,Ea=x,vn!==null)if(Ea)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(f.stateNode)}catch(_){Pr(f,c,_)}else try{vn.removeChild(f.stateNode)}catch(_){Pr(f,c,_)}break;case 18:vn!==null&&(Ea?(o=vn,rk(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),U0(o)):rk(vn,f.stateNode));break;case 4:g=vn,x=Ea,vn=f.stateNode.containerInfo,Ea=!0,sl(o,c,f),vn=g,Ea=x;break;case 0:case 11:case 14:case 15:vc(2,f,c),Jn||vc(4,f,c),sl(o,c,f);break;case 1:Jn||(bo(f,c),g=f.stateNode,typeof g.componentWillUnmount=="function"&&nj(f,c,g)),sl(o,c,f);break;case 21:sl(o,c,f);break;case 22:Jn=(g=Jn)||f.memoizedState!==null,sl(o,c,f),Jn=g;break;default:sl(o,c,f)}}function dj(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{U0(o)}catch(f){Pr(c,c.return,f)}}}function hj(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{U0(o)}catch(f){Pr(c,c.return,f)}}function DQ(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new oj),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new oj),c;default:throw Error(n(435,o.tag))}}function fy(o,c){var f=DQ(o);c.forEach(function(g){if(!f.has(g)){f.add(g);var x=HQ.bind(null,o,g);g.then(x,x)}})}function Na(o,c){var f=c.deletions;if(f!==null)for(var g=0;g<f.length;g++){var x=f[g],_=o,z=c,H=z;e:for(;H!==null;){switch(H.tag){case 27:if(Ac(H.type)){vn=H.stateNode,Ea=!1;break e}break;case 5:vn=H.stateNode,Ea=!1;break e;case 3:case 4:vn=H.stateNode.containerInfo,Ea=!0;break e}H=H.return}if(vn===null)throw Error(n(160));uj(_,z,x),vn=null,Ea=!1,_=x.alternate,_!==null&&(_.return=null),x.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)fj(c,o),c=c.sibling}var Gs=null;function fj(o,c){var f=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Na(c,o),Ca(o),g&4&&(vc(3,o,o.return),ip(3,o),vc(5,o,o.return));break;case 1:Na(c,o),Ca(o),g&512&&(Jn||f===null||bo(f,f.return)),g&64&&al&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var x=Gs;if(Na(c,o),Ca(o),g&512&&(Jn||f===null||bo(f,f.return)),g&4){var _=f!==null?f.memoizedState:null;if(g=o.memoizedState,f===null)if(g===null)if(o.stateNode===null){e:{g=o.type,f=o.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":_=x.getElementsByTagName("title")[0],(!_||_[Sa]||_[Ir]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=x.createElement(g),x.head.insertBefore(_,x.querySelector("head > title"))),Bi(_,g,f),_[Ir]=o,tr(_),g=_;break e;case"link":var z=fk("link","href",x).get(g+(f.href||""));if(z){for(var H=0;H<z.length;H++)if(_=z[H],_.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&_.getAttribute("rel")===(f.rel==null?null:f.rel)&&_.getAttribute("title")===(f.title==null?null:f.title)&&_.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){z.splice(H,1);break t}}_=x.createElement(g),Bi(_,g,f),x.head.appendChild(_);break;case"meta":if(z=fk("meta","content",x).get(g+(f.content||""))){for(H=0;H<z.length;H++)if(_=z[H],_.getAttribute("content")===(f.content==null?null:""+f.content)&&_.getAttribute("name")===(f.name==null?null:f.name)&&_.getAttribute("property")===(f.property==null?null:f.property)&&_.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&_.getAttribute("charset")===(f.charSet==null?null:f.charSet)){z.splice(H,1);break t}}_=x.createElement(g),Bi(_,g,f),x.head.appendChild(_);break;default:throw Error(n(468,g))}_[Ir]=o,tr(_),g=_}o.stateNode=g}else pk(x,o.type,o.stateNode);else o.stateNode=hk(x,g,o.memoizedProps);else _!==g?(_===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):_.count--,g===null?pk(x,o.type,o.stateNode):hk(x,g,o.memoizedProps)):g===null&&o.stateNode!==null&&Tw(o,o.memoizedProps,f.memoizedProps)}break;case 27:Na(c,o),Ca(o),g&512&&(Jn||f===null||bo(f,f.return)),f!==null&&g&4&&Tw(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Na(c,o),Ca(o),g&512&&(Jn||f===null||bo(f,f.return)),o.flags&32){x=o.stateNode;try{Xi(x,"")}catch(xt){Pr(o,o.return,xt)}}g&4&&o.stateNode!=null&&(x=o.memoizedProps,Tw(o,x,f!==null?f.memoizedProps:x)),g&1024&&(Nw=!0);break;case 6:if(Na(c,o),Ca(o),g&4){if(o.stateNode===null)throw Error(n(162));g=o.memoizedProps,f=o.stateNode;try{f.nodeValue=g}catch(xt){Pr(o,o.return,xt)}}break;case 3:if(jy=null,x=Gs,Gs=Ny(c.containerInfo),Na(c,o),Gs=x,Ca(o),g&4&&f!==null&&f.memoizedState.isDehydrated)try{U0(c.containerInfo)}catch(xt){Pr(o,o.return,xt)}Nw&&(Nw=!1,pj(o));break;case 4:g=Gs,Gs=Ny(o.stateNode.containerInfo),Na(c,o),Ca(o),Gs=g;break;case 12:Na(c,o),Ca(o);break;case 31:Na(c,o),Ca(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,fy(o,g)));break;case 13:Na(c,o),Ca(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(my=De()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,fy(o,g)));break;case 22:x=o.memoizedState!==null;var se=f!==null&&f.memoizedState!==null,Te=al,Me=Jn;if(al=Te||x,Jn=Me||se,Na(c,o),Jn=Me,al=Te,Ca(o),g&8192)e:for(c=o.stateNode,c._visibility=x?c._visibility&-2:c._visibility|1,x&&(f===null||se||al||Jn||Ku(o)),f=null,c=o;;){if(c.tag===5||c.tag===26){if(f===null){se=f=c;try{if(_=se.stateNode,x)z=_.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{H=se.stateNode;var Be=se.memoizedProps.style,Ee=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;H.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(xt){Pr(se,se.return,xt)}}}else if(c.tag===6){if(f===null){se=c;try{se.stateNode.nodeValue=x?"":se.memoizedProps}catch(xt){Pr(se,se.return,xt)}}}else if(c.tag===18){if(f===null){se=c;try{var Ce=se.stateNode;x?nk(Ce,!0):nk(se.stateNode,!1)}catch(xt){Pr(se,se.return,xt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,fy(o,f))));break;case 19:Na(c,o),Ca(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,fy(o,g)));break;case 30:break;case 21:break;default:Na(c,o),Ca(o)}}function Ca(o){var c=o.flags;if(c&2){try{for(var f,g=o.return;g!==null;){if(aj(g)){f=g;break}g=g.return}if(f==null)throw Error(n(160));switch(f.tag){case 27:var x=f.stateNode,_=Aw(o);hy(o,_,x);break;case 5:var z=f.stateNode;f.flags&32&&(Xi(z,""),f.flags&=-33);var H=Aw(o);hy(o,H,z);break;case 3:case 4:var se=f.stateNode.containerInfo,Te=Aw(o);Ew(o,Te,se);break;default:throw Error(n(161))}}catch(Me){Pr(o,o.return,Me)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function pj(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;pj(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function ol(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)lj(o,c.alternate,c),c=c.sibling}function Ku(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:vc(4,c,c.return),Ku(c);break;case 1:bo(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&nj(c,c.return,f),Ku(c);break;case 27:pp(c.stateNode);case 26:case 5:bo(c,c.return),Ku(c);break;case 22:c.memoizedState===null&&Ku(c);break;case 30:Ku(c);break;default:Ku(c)}o=o.sibling}}function ll(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,x=o,_=c,z=_.flags;switch(_.tag){case 0:case 11:case 15:ll(x,_,f),ip(4,_);break;case 1:if(ll(x,_,f),g=_,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Te){Pr(g,g.return,Te)}if(g=_,x=g.updateQueue,x!==null){var H=g.stateNode;try{var se=x.shared.hiddenCallbacks;if(se!==null)for(x.shared.hiddenCallbacks=null,x=0;x<se.length;x++)H9(se[x],H)}catch(Te){Pr(g,g.return,Te)}}f&&z&64&&rj(_),ap(_,_.return);break;case 27:sj(_);case 26:case 5:ll(x,_,f),f&&g===null&&z&4&&ij(_),ap(_,_.return);break;case 12:ll(x,_,f);break;case 31:ll(x,_,f),f&&z&4&&dj(x,_);break;case 13:ll(x,_,f),f&&z&4&&hj(x,_);break;case 22:_.memoizedState===null&&ll(x,_,f),ap(_,_.return);break;case 30:break;default:ll(x,_,f)}c=c.sibling}}function Cw(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Hf(f))}function jw(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Hf(o))}function Ks(o,c,f,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)mj(o,c,f,g),c=c.sibling}function mj(o,c,f,g){var x=c.flags;switch(c.tag){case 0:case 11:case 15:Ks(o,c,f,g),x&2048&&ip(9,c);break;case 1:Ks(o,c,f,g);break;case 3:Ks(o,c,f,g),x&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Hf(o)));break;case 12:if(x&2048){Ks(o,c,f,g),o=c.stateNode;try{var _=c.memoizedProps,z=_.id,H=_.onPostCommit;typeof H=="function"&&H(z,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(se){Pr(c,c.return,se)}}else Ks(o,c,f,g);break;case 31:Ks(o,c,f,g);break;case 13:Ks(o,c,f,g);break;case 23:break;case 22:_=c.stateNode,z=c.alternate,c.memoizedState!==null?_._visibility&2?Ks(o,c,f,g):sp(o,c):_._visibility&2?Ks(o,c,f,g):(_._visibility|=2,C0(o,c,f,g,(c.subtreeFlags&10256)!==0||!1)),x&2048&&Cw(z,c);break;case 24:Ks(o,c,f,g),x&2048&&jw(c.alternate,c);break;default:Ks(o,c,f,g)}}function C0(o,c,f,g,x){for(x=x&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var _=o,z=c,H=f,se=g,Te=z.flags;switch(z.tag){case 0:case 11:case 15:C0(_,z,H,se,x),ip(8,z);break;case 23:break;case 22:var Me=z.stateNode;z.memoizedState!==null?Me._visibility&2?C0(_,z,H,se,x):sp(_,z):(Me._visibility|=2,C0(_,z,H,se,x)),x&&Te&2048&&Cw(z.alternate,z);break;case 24:C0(_,z,H,se,x),x&&Te&2048&&jw(z.alternate,z);break;default:C0(_,z,H,se,x)}c=c.sibling}}function sp(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,g=c,x=g.flags;switch(g.tag){case 22:sp(f,g),x&2048&&Cw(g.alternate,g);break;case 24:sp(f,g),x&2048&&jw(g.alternate,g);break;default:sp(f,g)}c=c.sibling}}var op=8192;function j0(o,c,f){if(o.subtreeFlags&op)for(o=o.child;o!==null;)gj(o,c,f),o=o.sibling}function gj(o,c,f){switch(o.tag){case 26:j0(o,c,f),o.flags&op&&o.memoizedState!==null&&_Y(f,Gs,o.memoizedState,o.memoizedProps);break;case 5:j0(o,c,f);break;case 3:case 4:var g=Gs;Gs=Ny(o.stateNode.containerInfo),j0(o,c,f),Gs=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=op,op=16777216,j0(o,c,f),op=g):j0(o,c,f));break;default:j0(o,c,f)}}function yj(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function lp(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];Ai=g,bj(g,o)}yj(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)vj(o),o=o.sibling}function vj(o){switch(o.tag){case 0:case 11:case 15:lp(o),o.flags&2048&&vc(9,o,o.return);break;case 3:lp(o);break;case 12:lp(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,py(o)):lp(o);break;default:lp(o)}}function py(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];Ai=g,bj(g,o)}yj(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:vc(8,c,c.return),py(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,py(c));break;default:py(c)}o=o.sibling}}function bj(o,c){for(;Ai!==null;){var f=Ai;switch(f.tag){case 0:case 11:case 15:vc(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Hf(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,Ai=g;else e:for(f=o;Ai!==null;){g=Ai;var x=g.sibling,_=g.return;if(cj(g),g===f){Ai=null;break e}if(x!==null){x.return=_,Ai=x;break e}Ai=_}}}var LQ={getCacheForType:function(o){var c=Di(Qn),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f},cacheSignal:function(){return Di(Qn).controller.signal}},BQ=typeof WeakMap=="function"?WeakMap:Map,Sr=0,Qr=null,ar=null,or=0,Mr=0,Xa=null,bc=!1,k0=!1,kw=!1,cl=0,In=0,xc=0,Wu=0,Ow=0,Qa=0,O0=0,cp=null,ja=null,Iw=!1,my=0,xj=0,gy=1/0,yy=null,wc=null,ci=0,_c=null,I0=null,ul=0,Rw=0,Mw=null,wj=null,up=0,Pw=null;function Ya(){return(Sr&2)!==0&&or!==0?or&-or:W.T!==null?$w():nn()}function _j(){if(Qa===0)if((or&536870912)===0||dr){var o=jr;jr<<=1,(jr&3932160)===0&&(jr=262144),Qa=o}else Qa=536870912;return o=Ka.current,o!==null&&(o.flags|=32),Qa}function ka(o,c,f){(o===Qr&&(Mr===2||Mr===9)||o.cancelPendingCommit!==null)&&(R0(o,0),Sc(o,or,Qa,!1)),zr(o,f),((Sr&2)===0||o!==Qr)&&(o===Qr&&((Sr&2)===0&&(Wu|=f),In===4&&Sc(o,or,Qa,!1)),xo(o))}function Sj(o,c,f){if((Sr&6)!==0)throw Error(n(327));var g=!f&&(c&127)===0&&(c&o.expiredLanes)===0||tn(o,c),x=g?$Q(o,c):Lw(o,c,!0),_=g;do{if(x===0){k0&&!g&&Sc(o,c,0,!1);break}else{if(f=o.current.alternate,_&&!UQ(f)){x=Lw(o,c,!1),_=!1;continue}if(x===2){if(_=c,o.errorRecoveryDisabledLanes&_)var z=0;else z=o.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){c=z;e:{var H=o;x=cp;var se=H.current.memoizedState.isDehydrated;if(se&&(R0(H,z).flags|=256),z=Lw(H,z,!1),z!==2){if(kw&&!se){H.errorRecoveryDisabledLanes|=_,Wu|=_,x=4;break e}_=ja,ja=x,_!==null&&(ja===null?ja=_:ja.push.apply(ja,_))}x=z}if(_=!1,x!==2)continue}}if(x===1){R0(o,0),Sc(o,c,0,!0);break}e:{switch(g=o,_=x,_){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Sc(g,c,Qa,!bc);break e;case 2:ja=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(x=my+300-De(),10<x)){if(Sc(g,c,Qa,!bc),Mt(g,0,!0)!==0)break e;ul=c,g.timeoutHandle=ek(Tj.bind(null,g,f,ja,yy,Iw,c,Qa,Wu,O0,bc,_,"Throttled",-0,0),x);break e}Tj(g,f,ja,yy,Iw,c,Qa,Wu,O0,bc,_,null,-0,0)}}break}while(!0);xo(o)}function Tj(o,c,f,g,x,_,z,H,se,Te,Me,Be,Ee,Ce){if(o.timeoutHandle=-1,Be=c.subtreeFlags,Be&8192||(Be&16785408)===16785408){Be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},gj(c,_,Be);var xt=(_&62914560)===_?my-De():(_&4194048)===_?xj-De():0;if(xt=SY(Be,xt),xt!==null){ul=_,o.cancelPendingCommit=xt(Ij.bind(null,o,c,_,f,g,x,z,H,se,Me,Be,null,Ee,Ce)),Sc(o,_,z,!Te);return}}Ij(o,c,_,f,g,x,z,H,se)}function UQ(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var x=f[g],_=x.getSnapshot;x=x.value;try{if(!Ha(_(),x))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Sc(o,c,f,g){c&=~Ow,c&=~Wu,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var x=c;0<x;){var _=31-Ht(x),z=1<<_;g[_]=-1,x&=~z}f!==0&&bi(o,f,c)}function vy(){return(Sr&6)===0?(dp(0),!1):!0}function Dw(){if(ar!==null){if(Mr===0)var o=ar.return;else o=ar,Jo=Uu=null,Z4(o),S0=null,Kf=0,o=ar;for(;o!==null;)tj(o.alternate,o),o=o.return;ar=null}}function R0(o,c){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,aY(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),ul=0,Dw(),Qr=o,ar=f=Yo(o.current,null),or=c,Mr=0,Xa=null,bc=!1,k0=tn(o,c),kw=!1,O0=Qa=Ow=Wu=xc=In=0,ja=cp=null,Iw=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var x=31-Ht(g),_=1<<x;c|=o[x],g&=~_}return cl=c,U1(),f}function Aj(o,c){Wt=null,W.H=tp,c===_0||c===K1?(c=$9(),Mr=3):c===z4?(c=$9(),Mr=4):Mr=c===pw?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Xa=c,ar===null&&(In=1,oy(o,ms(c,o.current)))}function Ej(){var o=Ka.current;return o===null?!0:(or&4194048)===or?bs===null:(or&62914560)===or||(or&536870912)!==0?o===bs:!1}function Nj(){var o=W.H;return W.H=tp,o===null?tp:o}function Cj(){var o=W.A;return W.A=LQ,o}function by(){In=4,bc||(or&4194048)!==or&&Ka.current!==null||(k0=!0),(xc&134217727)===0&&(Wu&134217727)===0||Qr===null||Sc(Qr,or,Qa,!1)}function Lw(o,c,f){var g=Sr;Sr|=2;var x=Nj(),_=Cj();(Qr!==o||or!==c)&&(yy=null,R0(o,c)),c=!1;var z=In;e:do try{if(Mr!==0&&ar!==null){var H=ar,se=Xa;switch(Mr){case 8:Dw(),z=6;break e;case 3:case 2:case 9:case 6:Ka.current===null&&(c=!0);var Te=Mr;if(Mr=0,Xa=null,M0(o,H,se,Te),f&&k0){z=0;break e}break;default:Te=Mr,Mr=0,Xa=null,M0(o,H,se,Te)}}zQ(),z=In;break}catch(Me){Aj(o,Me)}while(!0);return c&&o.shellSuspendCounter++,Jo=Uu=null,Sr=g,W.H=x,W.A=_,ar===null&&(Qr=null,or=0,U1()),z}function zQ(){for(;ar!==null;)jj(ar)}function $Q(o,c){var f=Sr;Sr|=2;var g=Nj(),x=Cj();Qr!==o||or!==c?(yy=null,gy=De()+500,R0(o,c)):k0=tn(o,c);e:do try{if(Mr!==0&&ar!==null){c=ar;var _=Xa;t:switch(Mr){case 1:Mr=0,Xa=null,M0(o,c,_,1);break;case 2:case 9:if(U9(_)){Mr=0,Xa=null,kj(c);break}c=function(){Mr!==2&&Mr!==9||Qr!==o||(Mr=7),xo(o)},_.then(c,c);break e;case 3:Mr=7;break e;case 4:Mr=5;break e;case 7:U9(_)?(Mr=0,Xa=null,kj(c)):(Mr=0,Xa=null,M0(o,c,_,7));break;case 5:var z=null;switch(ar.tag){case 26:z=ar.memoizedState;case 5:case 27:var H=ar;if(z?mk(z):H.stateNode.complete){Mr=0,Xa=null;var se=H.sibling;if(se!==null)ar=se;else{var Te=H.return;Te!==null?(ar=Te,xy(Te)):ar=null}break t}}Mr=0,Xa=null,M0(o,c,_,5);break;case 6:Mr=0,Xa=null,M0(o,c,_,6);break;case 8:Dw(),In=6;break e;default:throw Error(n(462))}}VQ();break}catch(Me){Aj(o,Me)}while(!0);return Jo=Uu=null,W.H=g,W.A=x,Sr=f,ar!==null?0:(Qr=null,or=0,U1(),In)}function VQ(){for(;ar!==null&&!Ue();)jj(ar)}function jj(o){var c=JC(o.alternate,o,cl);o.memoizedProps=o.pendingProps,c===null?xy(o):ar=c}function kj(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=KC(f,c,c.pendingProps,c.type,void 0,or);break;case 11:c=KC(f,c,c.pendingProps,c.type.render,c.ref,or);break;case 5:Z4(c);default:tj(f,c),c=ar=C9(c,cl),c=JC(f,c,cl)}o.memoizedProps=o.pendingProps,c===null?xy(o):ar=c}function M0(o,c,f,g){Jo=Uu=null,Z4(c),S0=null,Kf=0;var x=c.return;try{if(kQ(o,x,c,f,or)){In=1,oy(o,ms(f,o.current)),ar=null;return}}catch(_){if(x!==null)throw ar=x,_;In=1,oy(o,ms(f,o.current)),ar=null;return}c.flags&32768?(dr||g===1?o=!0:k0||(or&536870912)!==0?o=!1:(bc=o=!0,(g===2||g===9||g===3||g===6)&&(g=Ka.current,g!==null&&g.tag===13&&(g.flags|=16384))),Oj(c,o)):xy(c)}function xy(o){var c=o;do{if((c.flags&32768)!==0){Oj(c,bc);return}o=c.return;var f=RQ(c.alternate,c,cl);if(f!==null){ar=f;return}if(c=c.sibling,c!==null){ar=c;return}ar=c=o}while(c!==null);In===0&&(In=5)}function Oj(o,c){do{var f=MQ(o.alternate,o);if(f!==null){f.flags&=32767,ar=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){ar=o;return}ar=o=f}while(o!==null);In=6,ar=null}function Ij(o,c,f,g,x,_,z,H,se){o.cancelPendingCommit=null;do wy();while(ci!==0);if((Sr&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(_=c.lanes|c.childLanes,_|=A4,Xt(o,f,_,z,H,se),o===Qr&&(ar=Qr=null,or=0),I0=c,_c=o,ul=f,Rw=_,Mw=x,wj=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,GQ(Fe,function(){return Lj(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=W.T,W.T=null,x=J.p,J.p=2,z=Sr,Sr|=4;try{PQ(o,c,f)}finally{Sr=z,J.p=x,W.T=g}}ci=1,Rj(),Mj(),Pj()}}function Rj(){if(ci===1){ci=0;var o=_c,c=I0,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=W.T,W.T=null;var g=J.p;J.p=2;var x=Sr;Sr|=4;try{fj(c,o);var _=Xw,z=b9(o.containerInfo),H=_.focusedElem,se=_.selectionRange;if(z!==H&&H&&H.ownerDocument&&v9(H.ownerDocument.documentElement,H)){if(se!==null&&x4(H)){var Te=se.start,Me=se.end;if(Me===void 0&&(Me=Te),"selectionStart"in H)H.selectionStart=Te,H.selectionEnd=Math.min(Me,H.value.length);else{var Be=H.ownerDocument||document,Ee=Be&&Be.defaultView||window;if(Ee.getSelection){var Ce=Ee.getSelection(),xt=H.textContent.length,Ot=Math.min(se.start,xt),Fr=se.end===void 0?Ot:Math.min(se.end,xt);!Ce.extend&&Ot>Fr&&(z=Fr,Fr=Ot,Ot=z);var be=y9(H,Ot),fe=y9(H,Fr);if(be&&fe&&(Ce.rangeCount!==1||Ce.anchorNode!==be.node||Ce.anchorOffset!==be.offset||Ce.focusNode!==fe.node||Ce.focusOffset!==fe.offset)){var _e=Be.createRange();_e.setStart(be.node,be.offset),Ce.removeAllRanges(),Ot>Fr?(Ce.addRange(_e),Ce.extend(fe.node,fe.offset)):(_e.setEnd(fe.node,fe.offset),Ce.addRange(_e))}}}}for(Be=[],Ce=H;Ce=Ce.parentNode;)Ce.nodeType===1&&Be.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Be.length;H++){var Le=Be[H];Le.element.scrollLeft=Le.left,Le.element.scrollTop=Le.top}}Ry=!!Ww,Xw=Ww=null}finally{Sr=x,J.p=g,W.T=f}}o.current=c,ci=2}}function Mj(){if(ci===2){ci=0;var o=_c,c=I0,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=W.T,W.T=null;var g=J.p;J.p=2;var x=Sr;Sr|=4;try{lj(o,c.alternate,c)}finally{Sr=x,J.p=g,W.T=f}}ci=3}}function Pj(){if(ci===4||ci===3){ci=0,ne();var o=_c,c=I0,f=ul,g=wj;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ci=5:(ci=0,I0=_c=null,Dj(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(wc=null),Or(f),c=c.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Sn,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=W.T,x=J.p,J.p=2,W.T=null;try{for(var _=o.onRecoverableError,z=0;z<g.length;z++){var H=g[z];_(H.value,{componentStack:H.stack})}}finally{W.T=c,J.p=x}}(ul&3)!==0&&wy(),xo(o),x=o.pendingLanes,(f&261930)!==0&&(x&42)!==0?o===Pw?up++:(up=0,Pw=o):up=0,dp(0)}}function Dj(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Hf(c)))}function wy(){return Rj(),Mj(),Pj(),Lj()}function Lj(){if(ci!==5)return!1;var o=_c,c=Rw;Rw=0;var f=Or(ul),g=W.T,x=J.p;try{J.p=32>f?32:f,W.T=null,f=Mw,Mw=null;var _=_c,z=ul;if(ci=0,I0=_c=null,ul=0,(Sr&6)!==0)throw Error(n(331));var H=Sr;if(Sr|=4,vj(_.current),mj(_,_.current,z,f),Sr=H,dp(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Sn,_)}catch{}return!0}finally{J.p=x,W.T=g,Dj(o,c)}}function Bj(o,c,f){c=ms(f,c),c=fw(o.stateNode,c,2),o=mc(o,c,2),o!==null&&(zr(o,2),xo(o))}function Pr(o,c,f){if(o.tag===3)Bj(o,o,f);else for(;c!==null;){if(c.tag===3){Bj(c,o,f);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(wc===null||!wc.has(g))){o=ms(f,o),f=UC(2),g=mc(c,f,2),g!==null&&(zC(f,g,c,o),zr(g,2),xo(g));break}}c=c.return}}function Bw(o,c,f){var g=o.pingCache;if(g===null){g=o.pingCache=new BQ;var x=new Set;g.set(c,x)}else x=g.get(c),x===void 0&&(x=new Set,g.set(c,x));x.has(f)||(kw=!0,x.add(f),o=FQ.bind(null,o,c,f),c.then(o,o))}function FQ(o,c,f){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Qr===o&&(or&f)===f&&(In===4||In===3&&(or&62914560)===or&&300>De()-my?(Sr&2)===0&&R0(o,0):Ow|=f,O0===or&&(O0=0)),xo(o)}function Uj(o,c){c===0&&(c=gn()),o=Du(o,c),o!==null&&(zr(o,c),xo(o))}function qQ(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),Uj(o,f)}function HQ(o,c){var f=0;switch(o.tag){case 31:case 13:var g=o.stateNode,x=o.memoizedState;x!==null&&(f=x.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),Uj(o,f)}function GQ(o,c){return ht(o,c)}var _y=null,P0=null,Uw=!1,Sy=!1,zw=!1,Tc=0;function xo(o){o!==P0&&o.next===null&&(P0===null?_y=P0=o:P0=P0.next=o),Sy=!0,Uw||(Uw=!0,WQ())}function dp(o,c){if(!zw&&Sy){zw=!0;do for(var f=!1,g=_y;g!==null;){if(o!==0){var x=g.pendingLanes;if(x===0)var _=0;else{var z=g.suspendedLanes,H=g.pingedLanes;_=(1<<31-Ht(42|o)+1)-1,_&=x&~(z&~H),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(f=!0,Fj(g,_))}else _=or,_=Mt(g,g===Qr?_:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(_&3)===0||tn(g,_)||(f=!0,Fj(g,_));g=g.next}while(f);zw=!1}}function KQ(){zj()}function zj(){Sy=Uw=!1;var o=0;Tc!==0&&iY()&&(o=Tc);for(var c=De(),f=null,g=_y;g!==null;){var x=g.next,_=$j(g,c);_===0?(g.next=null,f===null?_y=x:f.next=x,x===null&&(P0=f)):(f=g,(o!==0||(_&3)!==0)&&(Sy=!0)),g=x}ci!==0&&ci!==5||dp(o),Tc!==0&&(Tc=0)}function $j(o,c){for(var f=o.suspendedLanes,g=o.pingedLanes,x=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var z=31-Ht(_),H=1<<z,se=x[z];se===-1?((H&f)===0||(H&g)!==0)&&(x[z]=Tn(H,c)):se<=c&&(o.expiredLanes|=H),_&=~H}if(c=Qr,f=or,f=Mt(o,o===c?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,f===0||o===c&&(Mr===2||Mr===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&de(g),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||tn(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(g!==null&&de(g),Or(f)){case 2:case 8:f=Qe;break;case 32:f=Fe;break;case 268435456:f=_t;break;default:f=Fe}return g=Vj.bind(null,o),f=ht(f,g),o.callbackPriority=c,o.callbackNode=f,c}return g!==null&&g!==null&&de(g),o.callbackPriority=2,o.callbackNode=null,2}function Vj(o,c){if(ci!==0&&ci!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(wy()&&o.callbackNode!==f)return null;var g=or;return g=Mt(o,o===Qr?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(Sj(o,g,c),$j(o,De()),o.callbackNode!=null&&o.callbackNode===f?Vj.bind(null,o):null)}function Fj(o,c){if(wy())return null;Sj(o,c,!0)}function WQ(){sY(function(){(Sr&6)!==0?ht(et,KQ):zj()})}function $w(){if(Tc===0){var o=x0;o===0&&(o=Mi,Mi<<=1,(Mi&261888)===0&&(Mi=256)),Tc=o}return Tc}function qj(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:po(""+o)}function Hj(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function XQ(o,c,f,g,x){if(c==="submit"&&f&&f.stateNode===x){var _=qj((x[an]||null).action),z=g.submitter;z&&(c=(c=z[an]||null)?qj(c.formAction):z.getAttribute("formAction"),c!==null&&(_=c,z=null));var H=new ju("action","action",null,g,x);o.push({event:H,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Tc!==0){var se=z?Hj(x,z):new FormData(x);ow(f,{pending:!0,data:se,method:x.method,action:_},null,se)}}else typeof _=="function"&&(H.preventDefault(),se=z?Hj(x,z):new FormData(x),ow(f,{pending:!0,data:se,method:x.method,action:_},_,se))},currentTarget:x}]})}}for(var Vw=0;Vw<T4.length;Vw++){var Fw=T4[Vw],QQ=Fw.toLowerCase(),YQ=Fw[0].toUpperCase()+Fw.slice(1);Hs(QQ,"on"+YQ)}Hs(_9,"onAnimationEnd"),Hs(S9,"onAnimationIteration"),Hs(T9,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs(fQ,"onTransitionRun"),Hs(pQ,"onTransitionStart"),Hs(mQ,"onTransitionCancel"),Hs(A9,"onTransitionEnd"),fr("onMouseEnter",["mouseout","mouseover"]),fr("onMouseLeave",["mouseout","mouseover"]),fr("onPointerEnter",["pointerout","pointerover"]),fr("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hp));function Gj(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var g=o[f],x=g.event;g=g.listeners;e:{var _=void 0;if(c)for(var z=g.length-1;0<=z;z--){var H=g[z],se=H.instance,Te=H.currentTarget;if(H=H.listener,se!==_&&x.isPropagationStopped())break e;_=H,x.currentTarget=Te;try{_(x)}catch(Me){B1(Me)}x.currentTarget=null,_=se}else for(z=0;z<g.length;z++){if(H=g[z],se=H.instance,Te=H.currentTarget,H=H.listener,se!==_&&x.isPropagationStopped())break e;_=H,x.currentTarget=Te;try{_(x)}catch(Me){B1(Me)}x.currentTarget=null,_=se}}}}function sr(o,c){var f=c[_a];f===void 0&&(f=c[_a]=new Set);var g=o+"__bubble";f.has(g)||(Kj(c,o,2,!1),f.add(g))}function qw(o,c,f){var g=0;c&&(g|=4),Kj(f,o,g,c)}var Ty="_reactListening"+Math.random().toString(36).slice(2);function Hw(o){if(!o[Ty]){o[Ty]=!0,sn.forEach(function(f){f!=="selectionchange"&&(ZQ.has(f)||qw(f,!1,o),qw(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Ty]||(c[Ty]=!0,qw("selectionchange",!1,c))}}function Kj(o,c,f,g){switch(_k(c)){case 2:var x=EY;break;case 8:x=NY;break;default:x=s5}f=x.bind(null,c,f,o),x=void 0,!Mf||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),g?x!==void 0?o.addEventListener(c,f,{capture:!0,passive:x}):o.addEventListener(c,f,!0):x!==void 0?o.addEventListener(c,f,{passive:x}):o.addEventListener(c,f,!1)}function Gw(o,c,f,g,x){var _=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var z=g.tag;if(z===3||z===4){var H=g.stateNode.containerInfo;if(H===x)break;if(z===4)for(z=g.return;z!==null;){var se=z.tag;if((se===3||se===4)&&z.stateNode.containerInfo===x)return;z=z.return}for(;H!==null;){if(z=he(H),z===null)return;if(se=z.tag,se===5||se===6||se===26||se===27){g=_=z;continue e}H=H.parentNode}}g=g.return}_1(function(){var Te=_,Me=o0(f),Be=[];e:{var Ee=E9.get(o);if(Ee!==void 0){var Ce=ju,xt=o;switch(o){case"keypress":if(Cu(f)===0)break e;case"keydown":case"keyup":Ce=O1;break;case"focusin":xt="focus",Ce=ac;break;case"focusout":xt="blur",Ce=ac;break;case"beforeblur":case"afterblur":Ce=ac;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=T1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=A1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=R1;break;case _9:case S9:case T9:Ce=u0;break;case A9:Ce=d0;break;case"scroll":case"scrollend":Ce=S1;break;case"wheel":Ce=P1;break;case"copy":case"cut":case"paste":Ce=N1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Uf;break;case"toggle":case"beforetoggle":Ce=oc}var Ot=(c&4)!==0,Fr=!Ot&&(o==="scroll"||o==="scrollend"),be=Ot?Ee!==null?Ee+"Capture":null:Ee;Ot=[];for(var fe=Te,_e;fe!==null;){var Le=fe;if(_e=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||_e===null||be===null||(Le=Ta(fe,be),Le!=null&&Ot.push(fp(fe,Le,_e))),Fr)break;fe=fe.return}0<Ot.length&&(Ee=new Ce(Ee,xt,null,f,Me),Be.push({event:Ee,listeners:Ot}))}}if((c&7)===0){e:{if(Ee=o==="mouseover"||o==="pointerover",Ce=o==="mouseout"||o==="pointerout",Ee&&f!==s0&&(xt=f.relatedTarget||f.fromElement)&&(he(xt)||xt[An]))break e;if((Ce||Ee)&&(Ee=Me.window===Me?Me:(Ee=Me.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Ce?(xt=f.relatedTarget||f.toElement,Ce=Te,xt=xt?he(xt):null,xt!==null&&(Fr=a(xt),Ot=xt.tag,xt!==Fr||Ot!==5&&Ot!==27&&Ot!==6)&&(xt=null)):(Ce=null,xt=Te),Ce!==xt)){if(Ot=T1,Le="onMouseLeave",be="onMouseEnter",fe="mouse",(o==="pointerout"||o==="pointerover")&&(Ot=Uf,Le="onPointerLeave",be="onPointerEnter",fe="pointer"),Fr=Ce==null?Ee:rt(Ce),_e=xt==null?Ee:rt(xt),Ee=new Ot(Le,fe+"leave",Ce,f,Me),Ee.target=Fr,Ee.relatedTarget=_e,Le=null,he(Me)===Te&&(Ot=new Ot(be,fe+"enter",xt,f,Me),Ot.target=_e,Ot.relatedTarget=Fr,Le=Ot),Fr=Le,Ce&&xt)t:{for(Ot=JQ,be=Ce,fe=xt,_e=0,Le=be;Le;Le=Ot(Le))_e++;Le=0;for(var Nt=fe;Nt;Nt=Ot(Nt))Le++;for(;0<_e-Le;)be=Ot(be),_e--;for(;0<Le-_e;)fe=Ot(fe),Le--;for(;_e--;){if(be===fe||fe!==null&&be===fe.alternate){Ot=be;break t}be=Ot(be),fe=Ot(fe)}Ot=null}else Ot=null;Ce!==null&&Wj(Be,Ee,Ce,Ot,!1),xt!==null&&Fr!==null&&Wj(Be,Fr,xt,Ot,!0)}}e:{if(Ee=Te?rt(Te):window,Ce=Ee.nodeName&&Ee.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&Ee.type==="file")var yr=d9;else if(Aa(Ee))if(h9)yr=uQ;else{yr=lQ;var Tt=oQ}else Ce=Ee.nodeName,!Ce||Ce.toLowerCase()!=="input"||Ee.type!=="checkbox"&&Ee.type!=="radio"?Te&&If(Te.elementType)&&(yr=d9):yr=cQ;if(yr&&(yr=yr(o,Te))){Ru(Be,yr,f,Me);break e}Tt&&Tt(o,Ee,Te),o==="focusout"&&Te&&Ee.type==="number"&&Te.memoizedProps.value!=null&&wi(Ee,"number",Ee.value)}switch(Tt=Te?rt(Te):window,o){case"focusin":(Aa(Tt)||Tt.contentEditable==="true")&&(h0=Tt,w4=Te,Vf=null);break;case"focusout":Vf=w4=h0=null;break;case"mousedown":_4=!0;break;case"contextmenu":case"mouseup":case"dragend":_4=!1,x9(Be,f,Me);break;case"selectionchange":if(hQ)break;case"keydown":case"keyup":x9(Be,f,Me)}var Yt;if(O)e:{switch(o){case"compositionstart":var lr="onCompositionStart";break e;case"compositionend":lr="onCompositionEnd";break e;case"compositionupdate":lr="onCompositionUpdate";break e}lr=void 0}else rr?Er(o,f)&&(lr="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(lr="onCompositionStart");lr&&(xe&&f.locale!=="ko"&&(rr||lr!=="onCompositionStart"?lr==="onCompositionEnd"&&rr&&(Yt=tc()):(qa=Me,l0="value"in qa?qa.value:qa.textContent,rr=!0)),Tt=Ay(Te,lr),0<Tt.length&&(lr=new Df(lr,o,null,f,Me),Be.push({event:lr,listeners:Tt}),Yt?lr.data=Yt:(Yt=Xn(f),Yt!==null&&(lr.data=Yt)))),(Yt=K?Si(o,f):Ti(o,f))&&(lr=Ay(Te,"onBeforeInput"),0<lr.length&&(Tt=new Df("onBeforeInput","beforeinput",null,f,Me),Be.push({event:Tt,listeners:lr}),Tt.data=Yt)),XQ(Be,o,Te,f,Me)}Gj(Be,c)})}function fp(o,c,f){return{instance:o,listener:c,currentTarget:f}}function Ay(o,c){for(var f=c+"Capture",g=[];o!==null;){var x=o,_=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||_===null||(x=Ta(o,f),x!=null&&g.unshift(fp(o,x,_)),x=Ta(o,c),x!=null&&g.push(fp(o,x,_))),o.tag===3)return g;o=o.return}return[]}function JQ(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Wj(o,c,f,g,x){for(var _=c._reactName,z=[];f!==null&&f!==g;){var H=f,se=H.alternate,Te=H.stateNode;if(H=H.tag,se!==null&&se===g)break;H!==5&&H!==26&&H!==27||Te===null||(se=Te,x?(Te=Ta(f,_),Te!=null&&z.unshift(fp(f,Te,se))):x||(Te=Ta(f,_),Te!=null&&z.push(fp(f,Te,se)))),f=f.return}z.length!==0&&o.push({event:c,listeners:z})}var eY=/\r\n?/g,tY=/\u0000|\uFFFD/g;function Xj(o){return(typeof o=="string"?o:""+o).replace(eY,`
`).replace(tY,"")}function Qj(o,c){return c=Xj(c),Xj(o)===c}function Vr(o,c,f,g,x,_){switch(f){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||Xi(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&Xi(o,""+g);break;case"className":Vs(o,"class",g);break;case"tabIndex":Vs(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Vs(o,f,g);break;case"style":Nu(o,g,_);break;case"data":if(c!=="object"){Vs(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(f);break}g=po(""+g),o.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(f==="formAction"?(c!=="input"&&Vr(o,c,"name",x.name,x,null),Vr(o,c,"formEncType",x.formEncType,x,null),Vr(o,c,"formMethod",x.formMethod,x,null),Vr(o,c,"formTarget",x.formTarget,x,null)):(Vr(o,c,"encType",x.encType,x,null),Vr(o,c,"method",x.method,x,null),Vr(o,c,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(f);break}g=po(""+g),o.setAttribute(f,g);break;case"onClick":g!=null&&(o.onclick=_i);break;case"onScroll":g!=null&&sr("scroll",o);break;case"onScrollEnd":g!=null&&sr("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(f=g.__html,f!=null){if(x.children!=null)throw Error(n(60));o.innerHTML=f}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}f=po(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,""+g):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":g===!0?o.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,g):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(f,g):o.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(f):o.setAttribute(f,g);break;case"popover":sr("beforetoggle",o),sr("toggle",o),$s(o,"popover",g);break;case"xlinkActuate":sa(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":sa(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":sa(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":sa(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":sa(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":sa(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":sa(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":sa(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":sa(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":$s(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=m4.get(f)||f,$s(o,f,g))}}function Kw(o,c,f,g,x,_){switch(f){case"style":Nu(o,g,_);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(f=g.__html,f!=null){if(x.children!=null)throw Error(n(60));o.innerHTML=f}}break;case"children":typeof g=="string"?Xi(o,g):(typeof g=="number"||typeof g=="bigint")&&Xi(o,""+g);break;case"onScroll":g!=null&&sr("scroll",o);break;case"onScrollEnd":g!=null&&sr("scrollend",o);break;case"onClick":g!=null&&(o.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rr.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(x=f.endsWith("Capture"),c=f.slice(2,x?f.length-7:void 0),_=o[an]||null,_=_!=null?_[f]:null,typeof _=="function"&&o.removeEventListener(c,_,x),typeof g=="function")){typeof _!="function"&&_!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,g,x);break e}f in o?o[f]=g:g===!0?o.setAttribute(f,""):$s(o,f,g)}}}function Bi(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sr("error",o),sr("load",o);var g=!1,x=!1,_;for(_ in f)if(f.hasOwnProperty(_)){var z=f[_];if(z!=null)switch(_){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Vr(o,c,_,z,f,null)}}x&&Vr(o,c,"srcSet",f.srcSet,f,null),g&&Vr(o,c,"src",f.src,f,null);return;case"input":sr("invalid",o);var H=_=z=x=null,se=null,Te=null;for(g in f)if(f.hasOwnProperty(g)){var Me=f[g];if(Me!=null)switch(g){case"name":x=Me;break;case"type":z=Me;break;case"checked":se=Me;break;case"defaultChecked":Te=Me;break;case"value":_=Me;break;case"defaultValue":H=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(n(137,c));break;default:Vr(o,c,g,Me,f,null)}}Un(o,_,H,se,Te,z,x,!1);return;case"select":sr("invalid",o),g=z=_=null;for(x in f)if(f.hasOwnProperty(x)&&(H=f[x],H!=null))switch(x){case"value":_=H;break;case"defaultValue":z=H;break;case"multiple":g=H;default:Vr(o,c,x,H,f,null)}c=_,f=z,o.multiple=!!g,c!=null?Qt(o,!!g,c,!1):f!=null&&Qt(o,!!g,f,!0);return;case"textarea":sr("invalid",o),_=x=g=null;for(z in f)if(f.hasOwnProperty(z)&&(H=f[z],H!=null))switch(z){case"value":g=H;break;case"defaultValue":x=H;break;case"children":_=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:Vr(o,c,z,H,f,null)}fs(o,g,x,_);return;case"option":for(se in f)if(f.hasOwnProperty(se)&&(g=f[se],g!=null))switch(se){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Vr(o,c,se,g,f,null)}return;case"dialog":sr("beforetoggle",o),sr("toggle",o),sr("cancel",o),sr("close",o);break;case"iframe":case"object":sr("load",o);break;case"video":case"audio":for(g=0;g<hp.length;g++)sr(hp[g],o);break;case"image":sr("error",o),sr("load",o);break;case"details":sr("toggle",o);break;case"embed":case"source":case"link":sr("error",o),sr("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in f)if(f.hasOwnProperty(Te)&&(g=f[Te],g!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Vr(o,c,Te,g,f,null)}return;default:if(If(c)){for(Me in f)f.hasOwnProperty(Me)&&(g=f[Me],g!==void 0&&Kw(o,c,Me,g,f,void 0));return}}for(H in f)f.hasOwnProperty(H)&&(g=f[H],g!=null&&Vr(o,c,H,g,f,null))}function rY(o,c,f,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,_=null,z=null,H=null,se=null,Te=null,Me=null;for(Ce in f){var Be=f[Ce];if(f.hasOwnProperty(Ce)&&Be!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":se=Be;default:g.hasOwnProperty(Ce)||Vr(o,c,Ce,null,g,Be)}}for(var Ee in g){var Ce=g[Ee];if(Be=f[Ee],g.hasOwnProperty(Ee)&&(Ce!=null||Be!=null))switch(Ee){case"type":_=Ce;break;case"name":x=Ce;break;case"checked":Te=Ce;break;case"defaultChecked":Me=Ce;break;case"value":z=Ce;break;case"defaultValue":H=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,c));break;default:Ce!==Be&&Vr(o,c,Ee,Ce,g,Be)}}mr(o,z,H,se,Te,Me,_,x);return;case"select":Ce=z=H=Ee=null;for(_ in f)if(se=f[_],f.hasOwnProperty(_)&&se!=null)switch(_){case"value":break;case"multiple":Ce=se;default:g.hasOwnProperty(_)||Vr(o,c,_,null,g,se)}for(x in g)if(_=g[x],se=f[x],g.hasOwnProperty(x)&&(_!=null||se!=null))switch(x){case"value":Ee=_;break;case"defaultValue":H=_;break;case"multiple":z=_;default:_!==se&&Vr(o,c,x,_,g,se)}c=H,f=z,g=Ce,Ee!=null?Qt(o,!!f,Ee,!1):!!g!=!!f&&(c!=null?Qt(o,!!f,c,!0):Qt(o,!!f,f?[]:"",!1));return;case"textarea":Ce=Ee=null;for(H in f)if(x=f[H],f.hasOwnProperty(H)&&x!=null&&!g.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Vr(o,c,H,null,g,x)}for(z in g)if(x=g[z],_=f[z],g.hasOwnProperty(z)&&(x!=null||_!=null))switch(z){case"value":Ee=x;break;case"defaultValue":Ce=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==_&&Vr(o,c,z,x,g,_)}Fs(o,Ee,Ce);return;case"option":for(var xt in f)if(Ee=f[xt],f.hasOwnProperty(xt)&&Ee!=null&&!g.hasOwnProperty(xt))switch(xt){case"selected":o.selected=!1;break;default:Vr(o,c,xt,null,g,Ee)}for(se in g)if(Ee=g[se],Ce=f[se],g.hasOwnProperty(se)&&Ee!==Ce&&(Ee!=null||Ce!=null))switch(se){case"selected":o.selected=Ee&&typeof Ee!="function"&&typeof Ee!="symbol";break;default:Vr(o,c,se,Ee,g,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in f)Ee=f[Ot],f.hasOwnProperty(Ot)&&Ee!=null&&!g.hasOwnProperty(Ot)&&Vr(o,c,Ot,null,g,Ee);for(Te in g)if(Ee=g[Te],Ce=f[Te],g.hasOwnProperty(Te)&&Ee!==Ce&&(Ee!=null||Ce!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(n(137,c));break;default:Vr(o,c,Te,Ee,g,Ce)}return;default:if(If(c)){for(var Fr in f)Ee=f[Fr],f.hasOwnProperty(Fr)&&Ee!==void 0&&!g.hasOwnProperty(Fr)&&Kw(o,c,Fr,void 0,g,Ee);for(Me in g)Ee=g[Me],Ce=f[Me],!g.hasOwnProperty(Me)||Ee===Ce||Ee===void 0&&Ce===void 0||Kw(o,c,Me,Ee,g,Ce);return}}for(var be in f)Ee=f[be],f.hasOwnProperty(be)&&Ee!=null&&!g.hasOwnProperty(be)&&Vr(o,c,be,null,g,Ee);for(Be in g)Ee=g[Be],Ce=f[Be],!g.hasOwnProperty(Be)||Ee===Ce||Ee==null&&Ce==null||Vr(o,c,Be,Ee,g,Ce)}function Yj(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nY(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,f=performance.getEntriesByType("resource"),g=0;g<f.length;g++){var x=f[g],_=x.transferSize,z=x.initiatorType,H=x.duration;if(_&&H&&Yj(z)){for(z=0,H=x.responseEnd,g+=1;g<f.length;g++){var se=f[g],Te=se.startTime;if(Te>H)break;var Me=se.transferSize,Be=se.initiatorType;Me&&Yj(Be)&&(se=se.responseEnd,z+=Me*(se<H?1:(H-Te)/(se-Te)))}if(--g,c+=8*(_+z)/(x.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Ww=null,Xw=null;function Ey(o){return o.nodeType===9?o:o.ownerDocument}function Zj(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jj(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Qw(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Yw=null;function iY(){var o=window.event;return o&&o.type==="popstate"?o===Yw?!1:(Yw=o,!0):(Yw=null,!1)}var ek=typeof setTimeout=="function"?setTimeout:void 0,aY=typeof clearTimeout=="function"?clearTimeout:void 0,tk=typeof Promise=="function"?Promise:void 0,sY=typeof queueMicrotask=="function"?queueMicrotask:typeof tk<"u"?function(o){return tk.resolve(null).then(o).catch(oY)}:ek;function oY(o){setTimeout(function(){throw o})}function Ac(o){return o==="head"}function rk(o,c){var f=c,g=0;do{var x=f.nextSibling;if(o.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"||f==="/&"){if(g===0){o.removeChild(x),U0(c);return}g--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")g++;else if(f==="html")pp(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,pp(f);for(var _=f.firstChild;_;){var z=_.nextSibling,H=_.nodeName;_[Sa]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&_.rel.toLowerCase()==="stylesheet"||f.removeChild(_),_=z}}else f==="body"&&pp(o.ownerDocument.body);f=x}while(f);U0(c)}function nk(o,c){var f=o;o=0;do{var g=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),g&&g.nodeType===8)if(f=g.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=g}while(f)}function Zw(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Zw(f),yt(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function lY(o,c,f,g){for(;o.nodeType===1;){var x=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[Sa])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var _=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=xs(o.nextSibling),o===null)break}return null}function cY(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=xs(o.nextSibling),o===null))return null;return o}function ik(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=xs(o.nextSibling),o===null))return null;return o}function Jw(o){return o.data==="$?"||o.data==="$~"}function e5(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function uY(o,c){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||f.readyState!=="loading")c();else{var g=function(){c(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function xs(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var t5=null;function ak(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(c===0)return xs(o.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}o=o.nextSibling}return null}function sk(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return o;c--}else f!=="/$"&&f!=="/&"||c++}o=o.previousSibling}return null}function ok(o,c,f){switch(c=Ey(f),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function pp(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);yt(o)}var ws=new Map,lk=new Set;function Ny(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var dl=J.d;J.d={f:dY,r:hY,D:fY,C:pY,L:mY,m:gY,X:vY,S:yY,M:bY};function dY(){var o=dl.f(),c=vy();return o||c}function hY(o){var c=qe(o);c!==null&&c.tag===5&&c.type==="form"?AC(c):dl.r(o)}var D0=typeof document>"u"?null:document;function ck(o,c,f){var g=D0;if(g&&typeof c=="string"&&c){var x=$t(c);x='link[rel="'+o+'"][href="'+x+'"]',typeof f=="string"&&(x+='[crossorigin="'+f+'"]'),lk.has(x)||(lk.add(x),o={rel:o,crossOrigin:f,href:c},g.querySelector(x)===null&&(c=g.createElement("link"),Bi(c,"link",o),tr(c),g.head.appendChild(c)))}}function fY(o){dl.D(o),ck("dns-prefetch",o,null)}function pY(o,c){dl.C(o,c),ck("preconnect",o,c)}function mY(o,c,f){dl.L(o,c,f);var g=D0;if(g&&o&&c){var x='link[rel="preload"][as="'+$t(c)+'"]';c==="image"&&f&&f.imageSrcSet?(x+='[imagesrcset="'+$t(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(x+='[imagesizes="'+$t(f.imageSizes)+'"]')):x+='[href="'+$t(o)+'"]';var _=x;switch(c){case"style":_=L0(o);break;case"script":_=B0(o)}ws.has(_)||(o=m({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),ws.set(_,o),g.querySelector(x)!==null||c==="style"&&g.querySelector(mp(_))||c==="script"&&g.querySelector(gp(_))||(c=g.createElement("link"),Bi(c,"link",o),tr(c),g.head.appendChild(c)))}}function gY(o,c){dl.m(o,c);var f=D0;if(f&&o){var g=c&&typeof c.as=="string"?c.as:"script",x='link[rel="modulepreload"][as="'+$t(g)+'"][href="'+$t(o)+'"]',_=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=B0(o)}if(!ws.has(_)&&(o=m({rel:"modulepreload",href:o},c),ws.set(_,o),f.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(gp(_)))return}g=f.createElement("link"),Bi(g,"link",o),tr(g),f.head.appendChild(g)}}}function yY(o,c,f){dl.S(o,c,f);var g=D0;if(g&&o){var x=Bt(g).hoistableStyles,_=L0(o);c=c||"default";var z=x.get(_);if(!z){var H={loading:0,preload:null};if(z=g.querySelector(mp(_)))H.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},f),(f=ws.get(_))&&r5(o,f);var se=z=g.createElement("link");tr(se),Bi(se,"link",o),se._p=new Promise(function(Te,Me){se.onload=Te,se.onerror=Me}),se.addEventListener("load",function(){H.loading|=1}),se.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Cy(z,c,g)}z={type:"stylesheet",instance:z,count:1,state:H},x.set(_,z)}}}function vY(o,c){dl.X(o,c);var f=D0;if(f&&o){var g=Bt(f).hoistableScripts,x=B0(o),_=g.get(x);_||(_=f.querySelector(gp(x)),_||(o=m({src:o,async:!0},c),(c=ws.get(x))&&n5(o,c),_=f.createElement("script"),tr(_),Bi(_,"link",o),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(x,_))}}function bY(o,c){dl.M(o,c);var f=D0;if(f&&o){var g=Bt(f).hoistableScripts,x=B0(o),_=g.get(x);_||(_=f.querySelector(gp(x)),_||(o=m({src:o,async:!0,type:"module"},c),(c=ws.get(x))&&n5(o,c),_=f.createElement("script"),tr(_),Bi(_,"link",o),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(x,_))}}function uk(o,c,f,g){var x=(x=pe.current)?Ny(x):null;if(!x)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=L0(f.href),f=Bt(x).hoistableStyles,g=f.get(c),g||(g={type:"style",instance:null,count:0,state:null},f.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=L0(f.href);var _=Bt(x).hoistableStyles,z=_.get(o);if(z||(x=x.ownerDocument||x,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,z),(_=x.querySelector(mp(o)))&&!_._p&&(z.instance=_,z.state.loading=5),ws.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},ws.set(o,f),_||xY(x,o,f,z.state))),c&&g===null)throw Error(n(528,""));return z}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=B0(f),f=Bt(x).hoistableScripts,g=f.get(c),g||(g={type:"script",instance:null,count:0,state:null},f.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function L0(o){return'href="'+$t(o)+'"'}function mp(o){return'link[rel="stylesheet"]['+o+"]"}function dk(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function xY(o,c,f,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Bi(c,"link",f),tr(c),o.head.appendChild(c))}function B0(o){return'[src="'+$t(o)+'"]'}function gp(o){return"script[async]"+o}function hk(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+$t(f.href)+'"]');if(g)return c.instance=g,tr(g),g;var x=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),tr(g),Bi(g,"style",x),Cy(g,f.precedence,o),c.instance=g;case"stylesheet":x=L0(f.href);var _=o.querySelector(mp(x));if(_)return c.state.loading|=4,c.instance=_,tr(_),_;g=dk(f),(x=ws.get(x))&&r5(g,x),_=(o.ownerDocument||o).createElement("link"),tr(_);var z=_;return z._p=new Promise(function(H,se){z.onload=H,z.onerror=se}),Bi(_,"link",g),c.state.loading|=4,Cy(_,f.precedence,o),c.instance=_;case"script":return _=B0(f.src),(x=o.querySelector(gp(_)))?(c.instance=x,tr(x),x):(g=f,(x=ws.get(_))&&(g=m({},f),n5(g,x)),o=o.ownerDocument||o,x=o.createElement("script"),tr(x),Bi(x,"link",g),o.head.appendChild(x),c.instance=x);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Cy(g,f.precedence,o));return c.instance}function Cy(o,c,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,_=x,z=0;z<g.length;z++){var H=g[z];if(H.dataset.precedence===c)_=H;else if(_!==x)break}_?_.parentNode.insertBefore(o,_.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function r5(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function n5(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var jy=null;function fk(o,c,f){if(jy===null){var g=new Map,x=jy=new Map;x.set(f,g)}else x=jy,g=x.get(f),g||(g=new Map,x.set(f,g));if(g.has(o))return g;for(g.set(o,null),f=f.getElementsByTagName(o),x=0;x<f.length;x++){var _=f[x];if(!(_[Sa]||_[Ir]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var z=_.getAttribute(c)||"";z=o+z;var H=g.get(z);H?H.push(_):g.set(z,[_])}}return g}function pk(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function wY(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function mk(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function _Y(o,c,f,g){if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var x=L0(g.href),_=c.querySelector(mp(x));if(_){c=_._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=ky.bind(o),c.then(o,o)),f.state.loading|=4,f.instance=_,tr(_);return}_=c.ownerDocument||c,g=dk(g),(x=ws.get(x))&&r5(g,x),_=_.createElement("link"),tr(_);var z=_;z._p=new Promise(function(H,se){z.onload=H,z.onerror=se}),Bi(_,"link",g),f.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=ky.bind(o),c.addEventListener("load",f),c.addEventListener("error",f))}}var i5=0;function SY(o,c){return o.stylesheets&&o.count===0&&Iy(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var g=setTimeout(function(){if(o.stylesheets&&Iy(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4+c);0<o.imgBytes&&i5===0&&(i5=62500*nY());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Iy(o,o.stylesheets),o.unsuspend)){var _=o.unsuspend;o.unsuspend=null,_()}},(o.imgBytes>i5?50:800)+c);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(x)}}:null}function ky(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iy(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Oy=null;function Iy(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Oy=new Map,c.forEach(TY,o),Oy=null,ky.call(o))}function TY(o,c){if(!(c.state.loading&4)){var f=Oy.get(o);if(f)var g=f.get(null);else{f=new Map,Oy.set(o,f);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<x.length;_++){var z=x[_];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(f.set(z.dataset.precedence,z),g=z)}g&&f.set(null,g)}x=c.instance,z=x.getAttribute("data-precedence"),_=f.get(z)||g,_===g&&f.set(null,x),f.set(z,x),this.count++,g=ky.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),_?_.parentNode.insertBefore(x,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),c.state.loading|=4}}var yp={$$typeof:j,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function AY(o,c,f,g,x,_,z,H,se){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rn(0),this.hiddenUpdates=rn(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=_,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function gk(o,c,f,g,x,_,z,H,se,Te,Me,Be){return o=new AY(o,c,f,z,se,Te,Me,Be,H),c=1,_===!0&&(c|=24),_=Ga(3,null,null,c),o.current=_,_.stateNode=o,c=L4(),c.refCount++,o.pooledCache=c,c.refCount++,_.memoizedState={element:g,isDehydrated:f,cache:c},$4(_),o}function yk(o){return o?(o=m0,o):m0}function vk(o,c,f,g,x,_){x=yk(x),g.context===null?g.context=x:g.pendingContext=x,g=pc(c),g.payload={element:f},_=_===void 0?null:_,_!==null&&(g.callback=_),f=mc(o,g,c),f!==null&&(ka(f,o,c),Xf(f,o,c))}function bk(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function a5(o,c){bk(o,c),(o=o.alternate)&&bk(o,c)}function xk(o){if(o.tag===13||o.tag===31){var c=Du(o,67108864);c!==null&&ka(c,o,67108864),a5(o,67108864)}}function wk(o){if(o.tag===13||o.tag===31){var c=Ya();c=aa(c);var f=Du(o,c);f!==null&&ka(f,o,c),a5(o,c)}}var Ry=!0;function EY(o,c,f,g){var x=W.T;W.T=null;var _=J.p;try{J.p=2,s5(o,c,f,g)}finally{J.p=_,W.T=x}}function NY(o,c,f,g){var x=W.T;W.T=null;var _=J.p;try{J.p=8,s5(o,c,f,g)}finally{J.p=_,W.T=x}}function s5(o,c,f,g){if(Ry){var x=o5(g);if(x===null)Gw(o,c,g,My,f),Sk(o,g);else if(jY(x,o,c,f,g))g.stopPropagation();else if(Sk(o,g),c&4&&-1<CY.indexOf(o)){for(;x!==null;){var _=qe(x);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var z=Ar(_.pendingLanes);if(z!==0){var H=_;for(H.pendingLanes|=2,H.entangledLanes|=2;z;){var se=1<<31-Ht(z);H.entanglements[1]|=se,z&=~se}xo(_),(Sr&6)===0&&(gy=De()+500,dp(0))}}break;case 31:case 13:H=Du(_,2),H!==null&&ka(H,_,2),vy(),a5(_,2)}if(_=o5(g),_===null&&Gw(o,c,g,My,f),_===x)break;x=_}x!==null&&g.stopPropagation()}else Gw(o,c,g,null,f)}}function o5(o){return o=o0(o),l5(o)}var My=null;function l5(o){if(My=null,o=he(o),o!==null){var c=a(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=s(c),o!==null)return o;o=null}else if(f===31){if(o=l(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return My=o,null}function _k(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case et:return 2;case Qe:return 8;case Fe:case mt:return 32;case _t:return 268435456;default:return 32}default:return 32}}var c5=!1,Ec=null,Nc=null,Cc=null,vp=new Map,bp=new Map,jc=[],CY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sk(o,c){switch(o){case"focusin":case"focusout":Ec=null;break;case"dragenter":case"dragleave":Nc=null;break;case"mouseover":case"mouseout":Cc=null;break;case"pointerover":case"pointerout":vp.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":bp.delete(c.pointerId)}}function xp(o,c,f,g,x,_){return o===null||o.nativeEvent!==_?(o={blockedOn:c,domEventName:f,eventSystemFlags:g,nativeEvent:_,targetContainers:[x]},c!==null&&(c=qe(c),c!==null&&xk(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),o)}function jY(o,c,f,g,x){switch(c){case"focusin":return Ec=xp(Ec,o,c,f,g,x),!0;case"dragenter":return Nc=xp(Nc,o,c,f,g,x),!0;case"mouseover":return Cc=xp(Cc,o,c,f,g,x),!0;case"pointerover":var _=x.pointerId;return vp.set(_,xp(vp.get(_)||null,o,c,f,g,x)),!0;case"gotpointercapture":return _=x.pointerId,bp.set(_,xp(bp.get(_)||null,o,c,f,g,x)),!0}return!1}function Tk(o){var c=he(o.target);if(c!==null){var f=a(c);if(f!==null){if(c=f.tag,c===13){if(c=s(f),c!==null){o.blockedOn=c,Ki(o.priority,function(){wk(f)});return}}else if(c===31){if(c=l(f),c!==null){o.blockedOn=c,Ki(o.priority,function(){wk(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Py(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=o5(o.nativeEvent);if(f===null){f=o.nativeEvent;var g=new f.constructor(f.type,f);s0=g,f.target.dispatchEvent(g),s0=null}else return c=qe(f),c!==null&&xk(c),o.blockedOn=f,!1;c.shift()}return!0}function Ak(o,c,f){Py(o)&&f.delete(c)}function kY(){c5=!1,Ec!==null&&Py(Ec)&&(Ec=null),Nc!==null&&Py(Nc)&&(Nc=null),Cc!==null&&Py(Cc)&&(Cc=null),vp.forEach(Ak),bp.forEach(Ak)}function Dy(o,c){o.blockedOn===c&&(o.blockedOn=null,c5||(c5=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kY)))}var Ly=null;function Ek(o){Ly!==o&&(Ly=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ly===o&&(Ly=null);for(var c=0;c<o.length;c+=3){var f=o[c],g=o[c+1],x=o[c+2];if(typeof g!="function"){if(l5(g||f)===null)continue;break}var _=qe(f);_!==null&&(o.splice(c,3),c-=3,ow(_,{pending:!0,data:x,method:f.method,action:g},g,x))}}))}function U0(o){function c(se){return Dy(se,o)}Ec!==null&&Dy(Ec,o),Nc!==null&&Dy(Nc,o),Cc!==null&&Dy(Cc,o),vp.forEach(c),bp.forEach(c);for(var f=0;f<jc.length;f++){var g=jc[f];g.blockedOn===o&&(g.blockedOn=null)}for(;0<jc.length&&(f=jc[0],f.blockedOn===null);)Tk(f),f.blockedOn===null&&jc.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var x=f[g],_=f[g+1],z=x[an]||null;if(typeof _=="function")z||Ek(f);else if(z){var H=null;if(_&&_.hasAttribute("formAction")){if(x=_,z=_[an]||null)H=z.formAction;else if(l5(x)!==null)continue}else H=z.action;typeof H=="function"?f[g+1]=H:(f.splice(g,3),g-=3),Ek(f)}}}function Nk(){function o(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(z){return x=z})},focusReset:"manual",scroll:"manual"})}function c(){x!==null&&(x(),x=null),g||setTimeout(f,20)}function f(){if(!g&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),x!==null&&(x(),x=null)}}}function u5(o){this._internalRoot=o}By.prototype.render=u5.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var f=c.current,g=Ya();vk(f,g,o,c,null,null)},By.prototype.unmount=u5.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;vk(o.current,2,null,o,null,null),vy(),c[An]=null}};function By(o){this._internalRoot=o}By.prototype.unstable_scheduleHydration=function(o){if(o){var c=nn();o={blockedOn:null,target:o,priority:c};for(var f=0;f<jc.length&&c!==0&&c<jc[f].priority;f++);jc.splice(f,0,o),f===0&&Tk(o)}};var Ck=e.version;if(Ck!=="19.2.4")throw Error(n(527,Ck,"19.2.4"));J.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=h(c),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var OY={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uy.isDisabled&&Uy.supportsFiber)try{Sn=Uy.inject(OY),Kt=Uy}catch{}}return _p.createRoot=function(o,c){if(!i(o))throw Error(n(299));var f=!1,g="",x=PC,_=DC,z=LC;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError)),c=gk(o,1,!1,null,null,f,g,null,x,_,z,Nk),o[An]=c.current,Hw(o),new u5(c)},_p.hydrateRoot=function(o,c,f){if(!i(o))throw Error(n(299));var g=!1,x="",_=PC,z=DC,H=LC,se=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(_=f.onUncaughtError),f.onCaughtError!==void 0&&(z=f.onCaughtError),f.onRecoverableError!==void 0&&(H=f.onRecoverableError),f.formState!==void 0&&(se=f.formState)),c=gk(o,1,!0,c,f??null,g,x,se,_,z,H,Nk),c.context=yk(null),f=c.current,g=Ya(),g=aa(g),x=pc(g),x.callback=null,mc(f,x,g),f=g,c.current.lanes=f,zr(c,f),xo(c),o[An]=c.current,Hw(o),new By(c)},_p.version="19.2.4",_p}var Uk;function FY(){if(Uk)return f5.exports;Uk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),f5.exports=VY(),f5.exports}var qY=FY();const HY=Tr(qY);var Ji=(t=>(t.ADMIN="ADMIN",t.STUDENT="STUDENT",t))(Ji||{});const Dr={AP_PHYSICS:"AP Physics",HONORS_PHYSICS:"Honors Physics",FORENSICS:"Forensic Science",UNCATEGORIZED:"Uncategorized"};var ml=(t=>(t.ACTIVE="ACTIVE",t.ARCHIVED="ARCHIVED",t.DRAFT="DRAFT",t))(ml||{}),zk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},GY=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],l=t[r++],d=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},x$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,p=a>>2,m=(a&3)<<4|l>>4;let y=(l&15)<<2|h>>6,b=h&63;d||(b=64,s||(y=64)),n.push(r[p],r[m],r[y],r[b])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(b$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const h=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||h==null||m==null)throw new KY;const y=a<<2|l>>4;if(n.push(y),h!==64){const b=l<<4&240|h>>2;if(n.push(b),m!==64){const T=h<<6&192|m;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WY=function(t){const e=b$(t);return x$.encodeByteArray(e,!0)},Hv=function(t){return WY(t).replace(/\./g,"")},w$=function(t){try{return x$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY=()=>XY().__FIREBASE_DEFAULTS__,YY=()=>{if(typeof process>"u"||typeof zk>"u")return;const t=zk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&w$(t[1]);return e&&JSON.parse(e)},Ux=()=>{try{return QY()||YY()||ZY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_$=t=>{var e,r;return(r=(e=Ux())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},S$=t=>{const e=_$(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},T$=()=>{var t;return(t=Ux())===null||t===void 0?void 0:t.config},A$=t=>{var e;return(e=Ux())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eZ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hv(JSON.stringify(r)),Hv(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mi())}function rZ(){var t;const e=(t=Ux())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nZ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iZ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aZ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sZ(){const t=mi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E$(){return!rZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N$(){try{return typeof indexedDB=="object"}catch{return!1}}function oZ(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lZ="FirebaseError";class lo extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=lZ,Object.setPrototypeOf(this,lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pg.prototype.create)}}class Pg{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?cZ(a,n):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new lo(i,l,n)}}function cZ(t,e){return t.replace(uZ,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const uZ=/\{\$([^}]+)}/g;function dZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xh(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if($k(a)&&$k(s)){if(!xh(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function $k(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function hZ(t,e){const r=new fZ(t,e);return r.subscribe.bind(r)}class fZ{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");pZ(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=y5),i.error===void 0&&(i.error=y5),i.complete===void 0&&(i.complete=y5);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pZ(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function y5(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){return t&&t._delegate?t._delegate:t}class Pl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new JY;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yZ(e))try{this.getOrInitializeService({instanceIdentifier:id})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=id){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=id){return this.instances.has(e)}getOptions(e=id){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:gZ(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=id){return this.component?this.component.multipleInstances?e:id:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gZ(t){return t===id?void 0:t}function yZ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new mZ(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(cr||(cr={}));const bZ={debug:cr.DEBUG,verbose:cr.VERBOSE,info:cr.INFO,warn:cr.WARN,error:cr.ERROR,silent:cr.SILENT},xZ=cr.INFO,wZ={[cr.DEBUG]:"log",[cr.VERBOSE]:"log",[cr.INFO]:"info",[cr.WARN]:"warn",[cr.ERROR]:"error"},_Z=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=wZ[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Y8{constructor(e){this.name=e,this._logLevel=xZ,this._logHandler=_Z,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in cr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,cr.DEBUG,...e),this._logHandler(this,cr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,cr.VERBOSE,...e),this._logHandler(this,cr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,cr.INFO,...e),this._logHandler(this,cr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,cr.WARN,...e),this._logHandler(this,cr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,cr.ERROR,...e),this._logHandler(this,cr.ERROR,...e)}}const SZ=(t,e)=>e.some(r=>t instanceof r);let Vk,Fk;function TZ(){return Vk||(Vk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AZ(){return Fk||(Fk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C$=new WeakMap,ST=new WeakMap,j$=new WeakMap,v5=new WeakMap,Z8=new WeakMap;function EZ(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(eu(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&C$.set(r,t)}).catch(()=>{}),Z8.set(e,t),e}function NZ(t){if(ST.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});ST.set(t,e)}let TT={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return ST.get(t);if(e==="objectStoreNames")return t.objectStoreNames||j$.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return eu(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CZ(t){TT=t(TT)}function jZ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(b5(this),e,...r);return j$.set(n,e.sort?e.sort():[e]),eu(n)}:AZ().includes(t)?function(...e){return t.apply(b5(this),e),eu(C$.get(this))}:function(...e){return eu(t.apply(b5(this),e))}}function kZ(t){return typeof t=="function"?jZ(t):(t instanceof IDBTransaction&&NZ(t),SZ(t,TZ())?new Proxy(t,TT):t)}function eu(t){if(t instanceof IDBRequest)return EZ(t);if(v5.has(t))return v5.get(t);const e=kZ(t);return e!==t&&(v5.set(t,e),Z8.set(e,t)),e}const b5=t=>Z8.get(t);function OZ(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=eu(s);return n&&s.addEventListener("upgradeneeded",d=>{n(eu(s.result),d.oldVersion,d.newVersion,eu(s.transaction),d)}),r&&s.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),l.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const IZ=["get","getKey","getAll","getAllKeys","count"],RZ=["put","add","delete","clear"],x5=new Map;function qk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(x5.get(e))return x5.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=RZ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||IZ.includes(r)))return;const a=async function(s,...l){const d=this.transaction(s,i?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(l.shift())),(await Promise.all([h[r](...l),i&&d.done]))[0]};return x5.set(e,a),a}CZ(t=>({...t,get:(e,r,n)=>qk(e,r)||t.get(e,r,n),has:(e,r)=>!!qk(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(PZ(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function PZ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const AT="@firebase/app",Hk="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new Y8("@firebase/app"),DZ="@firebase/app-compat",LZ="@firebase/analytics-compat",BZ="@firebase/analytics",UZ="@firebase/app-check-compat",zZ="@firebase/app-check",$Z="@firebase/auth",VZ="@firebase/auth-compat",FZ="@firebase/database",qZ="@firebase/data-connect",HZ="@firebase/database-compat",GZ="@firebase/functions",KZ="@firebase/functions-compat",WZ="@firebase/installations",XZ="@firebase/installations-compat",QZ="@firebase/messaging",YZ="@firebase/messaging-compat",ZZ="@firebase/performance",JZ="@firebase/performance-compat",eJ="@firebase/remote-config",tJ="@firebase/remote-config-compat",rJ="@firebase/storage",nJ="@firebase/storage-compat",iJ="@firebase/firestore",aJ="@firebase/vertexai-preview",sJ="@firebase/firestore-compat",oJ="firebase",lJ="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="[DEFAULT]",cJ={[AT]:"fire-core",[DZ]:"fire-core-compat",[BZ]:"fire-analytics",[LZ]:"fire-analytics-compat",[zZ]:"fire-app-check",[UZ]:"fire-app-check-compat",[$Z]:"fire-auth",[VZ]:"fire-auth-compat",[FZ]:"fire-rtdb",[qZ]:"fire-data-connect",[HZ]:"fire-rtdb-compat",[GZ]:"fire-fn",[KZ]:"fire-fn-compat",[WZ]:"fire-iid",[XZ]:"fire-iid-compat",[QZ]:"fire-fcm",[YZ]:"fire-fcm-compat",[ZZ]:"fire-perf",[JZ]:"fire-perf-compat",[eJ]:"fire-rc",[tJ]:"fire-rc-compat",[rJ]:"fire-gcs",[nJ]:"fire-gcs-compat",[iJ]:"fire-fst",[sJ]:"fire-fst-compat",[aJ]:"fire-vertex","fire-js":"fire-js",[oJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=new Map,uJ=new Map,NT=new Map;function Gk(t,e){try{t.container.addComponent(e)}catch(r){Dl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function su(t){const e=t.name;if(NT.has(e))return Dl.debug(`There were multiple attempts to register component ${e}.`),!1;NT.set(e,t);for(const r of Gv.values())Gk(r,t);for(const r of uJ.values())Gk(r,t);return!0}function Lg(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function xl(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tu=new Pg("app","Firebase",dJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hJ{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=lJ;function k$(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:ET,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw tu.create("bad-app-name",{appName:String(i)});if(r||(r=T$()),!r)throw tu.create("no-options");const a=Gv.get(i);if(a){if(xh(r,a.options)&&xh(n,a.config))return a;throw tu.create("duplicate-app",{appName:i})}const s=new vZ(i);for(const d of NT.values())s.addComponent(d);const l=new hJ(r,n,s);return Gv.set(i,l),l}function J8(t=ET){const e=Gv.get(t);if(!e&&t===ET&&T$())return k$();if(!e)throw tu.create("no-app",{appName:t});return e}function js(t,e,r){var n;let i=(n=cJ[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dl.warn(l.join(" "));return}su(new Pl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fJ="firebase-heartbeat-database",pJ=1,Sm="firebase-heartbeat-store";let w5=null;function O$(){return w5||(w5=OZ(fJ,pJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sm)}catch(r){console.warn(r)}}}}).catch(t=>{throw tu.create("idb-open",{originalErrorMessage:t.message})})),w5}async function mJ(t){try{const r=(await O$()).transaction(Sm),n=await r.objectStore(Sm).get(I$(t));return await r.done,n}catch(e){if(e instanceof lo)Dl.warn(e.message);else{const r=tu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dl.warn(r.message)}}}async function Kk(t,e){try{const n=(await O$()).transaction(Sm,"readwrite");await n.objectStore(Sm).put(e,I$(t)),await n.done}catch(r){if(r instanceof lo)Dl.warn(r.message);else{const n=tu.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Dl.warn(n.message)}}}function I$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ=1024,yJ=720*60*60*1e3;class vJ{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new xJ(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Wk();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=yJ}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Dl.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Wk(),{heartbeatsToSend:n,unsentEntries:i}=bJ(this._heartbeatsCache.heartbeats),a=Hv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Dl.warn(r),""}}}function Wk(){return new Date().toISOString().substring(0,10)}function bJ(t,e=gJ){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),Xk(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Xk(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class xJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N$()?oZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await mJ(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kk(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kk(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xk(t){return Hv(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wJ(t){su(new Pl("platform-logger",e=>new MZ(e),"PRIVATE")),su(new Pl("heartbeat",e=>new vJ(e),"PRIVATE")),js(AT,Hk,t),js(AT,Hk,"esm2017"),js("fire-js","")}wJ("");var _J="firebase",SJ="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(_J,SJ,"app");function e7(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function R$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TJ=R$,M$=new Pg("auth","Firebase",R$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new Y8("@firebase/auth");function AJ(t,...e){Kv.logLevel<=cr.WARN&&Kv.warn(`Auth (${Qd}): ${t}`,...e)}function Av(t,...e){Kv.logLevel<=cr.ERROR&&Kv.error(`Auth (${Qd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,...e){throw r7(t,...e)}function io(t,...e){return r7(t,...e)}function t7(t,e,r){const n=Object.assign(Object.assign({},TJ()),{[e]:r});return new Pg("auth","Firebase",n).create(e,{appName:t.name})}function _d(t){return t7(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EJ(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Io(t,"argument-error"),t7(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function r7(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return M$.create(t,...e)}function zt(t,e,...r){if(!t)throw r7(e,...r)}function wl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Av(e),new Error(e)}function Ll(t,e){t||wl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NJ(){return Qk()==="http:"||Qk()==="https:"}function Qk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NJ()||iZ()||"connection"in navigator)?navigator.onLine:!0}function jJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ll(r>e,"Short delay should be less than long delay!"),this.isMobile=tZ()||aZ()}get(){return CJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(t,e){Ll(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OJ=new Bg(3e4,6e4);function i7(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function df(t,e,r,n,i={}){return D$(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const l=Dg(Object.assign({key:t.config.apiKey},s)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},a);return nZ()||(h.referrerPolicy="no-referrer"),P$.fetch()(L$(t,t.config.apiHost,r,l),h)})}async function D$(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},kJ),e);try{const i=new RJ(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw $y(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[d,h]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw $y(t,"credential-already-in-use",s);if(d==="EMAIL_EXISTS")throw $y(t,"email-already-in-use",s);if(d==="USER_DISABLED")throw $y(t,"user-disabled",s);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw t7(t,p,h);Io(t,p)}}catch(i){if(i instanceof lo)throw i;Io(t,"network-request-failed",{message:String(i)})}}async function IJ(t,e,r,n,i={}){const a=await df(t,e,r,n,i);return"mfaPendingCredential"in a&&Io(t,"multi-factor-auth-required",{_serverResponse:a}),a}function L$(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?n7(t.config,i):`${t.config.apiScheme}://${i}`}class RJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(io(this.auth,"network-request-failed")),OJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $y(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=io(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MJ(t,e){return df(t,"POST","/v1/accounts:delete",e)}async function B$(t,e){return df(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PJ(t,e=!1){const r=Wr(t),n=await r.getIdToken(e),i=a7(n);zt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:em(_5(i.auth_time)),issuedAtTime:em(_5(i.iat)),expirationTime:em(_5(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function _5(t){return Number(t)*1e3}function a7(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Av("JWT malformed, contained fewer than 3 sections"),null;try{const i=w$(r);return i?JSON.parse(i):(Av("Failed to decode base64 JWT payload"),null)}catch(i){return Av("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Yk(t){const e=a7(t);return zt(e,"internal-error"),zt(typeof e.exp<"u","internal-error"),zt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tm(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof lo&&DJ(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function DJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=em(this.lastLoginAt),this.creationTime=em(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wv(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Tm(t,B$(r,{idToken:n}));zt(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?U$(a.providerUserInfo):[],l=UJ(t.providerData,s),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),p=d?h:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new jT(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function BJ(t){const e=Wr(t);await Wv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UJ(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function U$(t){return t.map(e=>{var{providerId:r}=e,n=e7(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zJ(t,e){const r=await D$(t,{},async()=>{const n=Dg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=L$(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",P$.fetch()(s,{method:"POST",headers:l,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function $J(t,e){return df(t,"POST","/v2/accounts:revokeToken",i7(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){zt(e.idToken,"internal-error"),zt(typeof e.idToken<"u","internal-error"),zt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){zt(e.length!==0,"internal-error");const r=Yk(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(zt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await zJ(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new oh;return n&&(zt(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(zt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(zt(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oh,this.toJSON())}_performRefresh(){return wl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e){zt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _l{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=e7(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new jT(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Tm(this,this.stsTokenManager.getToken(this.auth,e));return zt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return PJ(this,e)}reload(){return BJ(this)}_assign(e){this!==e&&(zt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new _l(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Wv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xl(this.auth.app))return Promise.reject(_d(this.auth));const e=await this.getIdToken();return await Tm(this,MJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,l,d,h,p;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,b=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,T=(s=r.photoURL)!==null&&s!==void 0?s:void 0,S=(l=r.tenantId)!==null&&l!==void 0?l:void 0,w=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,N=(h=r.createdAt)!==null&&h!==void 0?h:void 0,k=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:j,emailVerified:$,isAnonymous:I,providerData:L,stsTokenManager:E}=r;zt(j&&E,e,"internal-error");const A=oh.fromJSON(this.name,E);zt(typeof j=="string",e,"internal-error"),Oc(m,e.name),Oc(y,e.name),zt(typeof $=="boolean",e,"internal-error"),zt(typeof I=="boolean",e,"internal-error"),Oc(b,e.name),Oc(T,e.name),Oc(S,e.name),Oc(w,e.name),Oc(N,e.name),Oc(k,e.name);const R=new _l({uid:j,auth:e,email:y,emailVerified:$,displayName:m,isAnonymous:I,photoURL:T,phoneNumber:b,tenantId:S,stsTokenManager:A,createdAt:N,lastLoginAt:k});return L&&Array.isArray(L)&&(R.providerData=L.map(F=>Object.assign({},F))),w&&(R._redirectEventId=w),R}static async _fromIdTokenResponse(e,r,n=!1){const i=new oh;i.updateFromServerResponse(r);const a=new _l({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Wv(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];zt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?U$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new oh;l.updateFromIdToken(n);const d=new _l({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new jT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=new Map;function Sl(t){Ll(t instanceof Function,"Expected a class definition");let e=Zk.get(t);return e?(Ll(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}z$.type="NONE";const Jk=z$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e,r){return`firebase:${t}:${e}:${r}`}class lh{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Ev(this.userKey,i.apiKey,a),this.fullPersistenceKey=Ev("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_l._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new lh(Sl(Jk),e,n);const i=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Sl(Jk);const s=Ev(n,e.config.apiKey,e.name);let l=null;for(const h of r)try{const p=await h._get(s);if(p){const m=_l._fromJSON(e,p);h!==a&&(l=m),a=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new lh(a,e,n):(a=d[0],l&&await a._set(s,l.toJSON()),await Promise.all(r.map(async h=>{if(h!==a)try{await h._remove(s)}catch{}})),new lh(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(q$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G$(e))return"Blackberry";if(K$(e))return"Webos";if(V$(e))return"Safari";if((e.includes("chrome/")||F$(e))&&!e.includes("edge/"))return"Chrome";if(H$(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function $$(t=mi()){return/firefox\//i.test(t)}function V$(t=mi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F$(t=mi()){return/crios\//i.test(t)}function q$(t=mi()){return/iemobile/i.test(t)}function H$(t=mi()){return/android/i.test(t)}function G$(t=mi()){return/blackberry/i.test(t)}function K$(t=mi()){return/webos/i.test(t)}function s7(t=mi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VJ(t=mi()){var e;return s7(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FJ(){return sZ()&&document.documentMode===10}function W$(t=mi()){return s7(t)||H$(t)||K$(t)||G$(t)||/windows phone/i.test(t)||q$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(t,e=[]){let r;switch(t){case"Browser":r=eO(mi());break;case"Worker":r=`${eO(mi())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Qd}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,l)=>{try{const d=e(a);s(d)}catch(d){l(d)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HJ(t,e={}){return df(t,"GET","/v2/passwordPolicy",i7(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ=6;class KJ{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:GJ,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,l;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(s=d.containsNumericCharacter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tO(this),this.idTokenSubscription=new tO(this),this.beforeStateQueue=new qJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Sl(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await lh.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await B$(this,{idToken:e}),n=await _l._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(xl(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!s||s===l)&&(d!=null&&d.user)&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Wv(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xl(this.app))return Promise.reject(_d(this));const r=e?Wr(e):null;return r&&zt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&zt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xl(this.app)?Promise.reject(_d(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xl(this.app)?Promise.reject(_d(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HJ(this),r=new KJ(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pg("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await $J(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Sl(e)||this._popupRedirectResolver;zt(r,this,"argument-error"),this.redirectPersistenceManager=await lh.create(this,[Sl(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(zt(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,i);return()=>{s=!0,d()}}else{const d=e.addObserver(r);return()=>{s=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&AJ(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function zx(t){return Wr(t)}class tO{constructor(e){this.auth=e,this.observer=null,this.addObserver=hZ(r=>this.observer=r)}get next(){return zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o7={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XJ(t){o7=t}function QJ(t){return o7.loadJS(t)}function YJ(){return o7.gapiScript}function ZJ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JJ(t,e){const r=Lg(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(xh(a,e??{}))return i;Io(i,"already-initialized")}return r.initialize({options:e})}function eee(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Sl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function tee(t,e,r){const n=zx(t);zt(n._canInitEmulator,n,"emulator-config-failed"),zt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=Q$(e),{host:s,port:l}=ree(e),d=l===null?"":`:${l}`;n.config.emulator={url:`${a}//${s}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),nee()}function Q$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ree(t){const e=Q$(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:rO(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:rO(s)}}}function rO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nee(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return wl("not implemented")}_getIdTokenResponse(e){return wl("not implemented")}_linkToIdToken(e,r){return wl("not implemented")}_getReauthenticationResolver(e){return wl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(t,e){return IJ(t,"POST","/v1/accounts:signInWithIdp",i7(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee="http://localhost";class Cd extends Y${constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Cd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Io("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=e7(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Cd(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return ch(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,ch(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,ch(e,r)}buildRequest(){const e={requestUri:iee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Dg(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends l7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Ug{constructor(){super("facebook.com")}static credential(e){return Cd._fromParams({providerId:Uc.PROVIDER_ID,signInMethod:Uc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uc.credentialFromTaggedObject(e)}static credentialFromError(e){return Uc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uc.credential(e.oauthAccessToken)}catch{return null}}}Uc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Ug{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Cd._fromParams({providerId:vl.PROVIDER_ID,signInMethod:vl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return vl.credentialFromTaggedObject(e)}static credentialFromError(e){return vl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return vl.credential(r,n)}catch{return null}}}vl.GOOGLE_SIGN_IN_METHOD="google.com";vl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Ug{constructor(){super("github.com")}static credential(e){return Cd._fromParams({providerId:zc.PROVIDER_ID,signInMethod:zc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zc.credentialFromTaggedObject(e)}static credentialFromError(e){return zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zc.credential(e.oauthAccessToken)}catch{return null}}}zc.GITHUB_SIGN_IN_METHOD="github.com";zc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Ug{constructor(){super("twitter.com")}static credential(e,r){return Cd._fromParams({providerId:$c.PROVIDER_ID,signInMethod:$c.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return $c.credentialFromTaggedObject(e)}static credentialFromError(e){return $c.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return $c.credential(r,n)}catch{return null}}}$c.TWITTER_SIGN_IN_METHOD="twitter.com";$c.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await _l._fromIdTokenResponse(e,n,i),s=nO(n);return new wh({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=nO(n);return new wh({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function nO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends lo{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Xv.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Xv(e,r,n,i)}}function Z$(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Xv._fromErrorAndOperation(t,a,e,n):a})}async function aee(t,e,r=!1){const n=await Tm(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return wh._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function see(t,e,r=!1){const{auth:n}=t;if(xl(n.app))return Promise.reject(_d(n));const i="reauthenticate";try{const a=await Tm(t,Z$(n,i,e,t),r);zt(a.idToken,n,"internal-error");const s=a7(a.idToken);zt(s,n,"internal-error");const{sub:l}=s;return zt(t.uid===l,n,"user-mismatch"),wh._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Io(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oee(t,e,r=!1){if(xl(t.app))return Promise.reject(_d(t));const n="signIn",i=await Z$(t,n,e),a=await wh._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}function lee(t,e,r,n){return Wr(t).onIdTokenChanged(e,r,n)}function cee(t,e,r){return Wr(t).beforeAuthStateChanged(e,r)}function uee(t,e,r,n){return Wr(t).onAuthStateChanged(e,r,n)}function dee(t){return Wr(t).signOut()}const Qv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Qv,"1"),this.storage.removeItem(Qv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hee=1e3,fee=10;class eV extends J${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,l,d)=>{this.notifyListeners(s,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);FJ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fee):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},hee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}eV.type="LOCAL";const pee=eV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV extends J${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}tV.type="SESSION";const rV=tV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new $x(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(s).map(async h=>h(r.origin,a)),d=await mee(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$x.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,d)=>{const h=c7("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(y.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(){return window}function yee(t){jo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(){return typeof jo().WorkerGlobalScope<"u"&&typeof jo().importScripts=="function"}async function vee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xee(){return nV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV="firebaseLocalStorageDb",wee=1,Yv="firebaseLocalStorage",aV="fbase_key";class zg{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Vx(t,e){return t.transaction([Yv],e?"readwrite":"readonly").objectStore(Yv)}function _ee(){const t=indexedDB.deleteDatabase(iV);return new zg(t).toPromise()}function kT(){const t=indexedDB.open(iV,wee);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Yv,{keyPath:aV})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Yv)?e(n):(n.close(),await _ee(),e(await kT()))})})}async function iO(t,e,r){const n=Vx(t,!0).put({[aV]:e,value:r});return new zg(n).toPromise()}async function See(t,e){const r=Vx(t,!1).get(e),n=await new zg(r).toPromise();return n===void 0?null:n.value}function aO(t,e){const r=Vx(t,!0).delete(e);return new zg(r).toPromise()}const Tee=800,Aee=3;class sV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kT(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Aee)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$x._getInstance(xee()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await vee(),!this.activeServiceWorker)return;this.sender=new gee(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kT();return await iO(e,Qv,"1"),await aO(e,Qv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>iO(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>See(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>aO(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Vx(i,!1).getAll();return new zg(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sV.type="LOCAL";const Eee=sV;new Bg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t,e){return e?Sl(e):(zt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7 extends Y${constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ch(e,this._buildIdpRequest())}_linkToIdToken(e,r){return ch(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return ch(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Nee(t){return oee(t.auth,new u7(t),t.bypassAuthState)}function Cee(t){const{auth:e,user:r}=t;return zt(r,e,"internal-error"),see(r,new u7(t),t.bypassAuthState)}async function jee(t){const{auth:e,user:r}=t;return zt(r,e,"internal-error"),aee(r,new u7(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nee;case"linkViaPopup":case"linkViaRedirect":return jee;case"reauthViaPopup":case"reauthViaRedirect":return Cee;default:Io(this.auth,"internal-error")}}resolve(e){Ll(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ll(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kee=new Bg(2e3,1e4);async function Oee(t,e,r){if(xl(t.app))return Promise.reject(io(t,"operation-not-supported-in-this-environment"));const n=zx(t);EJ(t,e,l7);const i=oV(n,r);return new pd(n,"signInViaPopup",e,i).executeNotNull()}class pd extends lV{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,pd.currentPopupAction&&pd.currentPopupAction.cancel(),pd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return zt(e,this.auth,"internal-error"),e}async onExecution(){Ll(this.filter.length===1,"Popup operations only handle one event");const e=c7();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(io(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(io(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(io(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kee.get())};e()}}pd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iee="pendingRedirect",Nv=new Map;class Ree extends lV{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Nv.get(this.auth._key());if(!e){try{const n=await Mee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Nv.set(this.auth._key(),e)}return this.bypassAuthState||Nv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mee(t,e){const r=Lee(e),n=Dee(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Pee(t,e){Nv.set(t._key(),e)}function Dee(t){return Sl(t._redirectPersistence)}function Lee(t){return Ev(Iee,t.config.apiKey,t.name)}async function Bee(t,e,r=!1){if(xl(t.app))return Promise.reject(_d(t));const n=zx(t),i=oV(n,e),s=await new Ree(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uee=600*1e3;class zee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$ee(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!cV(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(io(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Uee&&this.cachedEventUids.clear(),this.cachedEventUids.has(sO(e))}saveEventToCache(e){this.cachedEventUids.add(sO(e)),this.lastProcessedEventTime=Date.now()}}function sO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $ee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vee(t,e={}){return df(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qee=/^https?/;async function Hee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Vee(t);for(const r of e)try{if(Gee(r))return}catch{}Io(t,"unauthorized-domain")}function Gee(t){const e=CT(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!qee.test(r))return!1;if(Fee.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kee=new Bg(3e4,6e4);function oO(){const t=jo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Wee(t){return new Promise((e,r)=>{var n,i,a;function s(){oO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oO(),r(io(t,"network-request-failed"))},timeout:Kee.get()})}if(!((i=(n=jo().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=jo().gapi)===null||a===void 0)&&a.load)s();else{const l=ZJ("iframefcb");return jo()[l]=()=>{gapi.load?s():r(io(t,"network-request-failed"))},QJ(`${YJ()}?onload=${l}`).catch(d=>r(d))}}).catch(e=>{throw Cv=null,e})}let Cv=null;function Xee(t){return Cv=Cv||Wee(t),Cv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee=new Bg(5e3,15e3),Yee="__/auth/iframe",Zee="emulator/auth/iframe",Jee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ete=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tte(t){const e=t.config;zt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?n7(e,Zee):`https://${t.config.authDomain}/${Yee}`,n={apiKey:e.apiKey,appName:t.name,v:Qd},i=ete.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Dg(n).slice(1)}`}async function rte(t){const e=await Xee(t),r=jo().gapi;return zt(r,t,"internal-error"),e.open({where:document.body,url:tte(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jee,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=io(t,"network-request-failed"),l=jo().setTimeout(()=>{a(s)},Qee.get());function d(){jo().clearTimeout(l),i(n)}n.ping(d).then(d,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ite=500,ate=600,ste="_blank",ote="http://localhost";class lO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lte(t,e,r,n=ite,i=ate){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const d=Object.assign(Object.assign({},nte),{width:n.toString(),height:i.toString(),top:a,left:s}),h=mi().toLowerCase();r&&(l=F$(h)?ste:r),$$(h)&&(e=e||ote,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[b,T])=>`${y}${b}=${T},`,"");if(VJ(h)&&l!=="_self")return cte(e||"",l),new lO(null);const m=window.open(e||"",l,p);zt(m,t,"popup-blocked");try{m.focus()}catch{}return new lO(m)}function cte(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ute="__/auth/handler",dte="emulator/auth/handler",hte=encodeURIComponent("fac");async function cO(t,e,r,n,i,a){zt(t.config.authDomain,t,"auth-domain-config-required"),zt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Qd,eventId:i};if(e instanceof l7){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",dZ(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))s[p]=m}if(e instanceof Ug){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(s.scopes=p.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const d=await t._getAppCheckToken(),h=d?`#${hte}=${encodeURIComponent(d)}`:"";return`${fte(t)}?${Dg(l).slice(1)}${h}`}function fte({config:t}){return t.emulator?n7(t,dte):`https://${t.authDomain}/${ute}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="webStorageSupport";class pte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rV,this._completeRedirectFn=Bee,this._overrideRedirectResult=Pee}async _openPopup(e,r,n,i){var a;Ll((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await cO(e,r,n,CT(),i);return lte(e,s,c7())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await cO(e,r,n,CT(),i);return yee(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ll(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await rte(e),n=new zee(e);return r.register("authEvent",i=>(zt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(S5,{type:S5},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[S5];s!==void 0&&r(!!s),Io(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Hee(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return W$()||V$()||s7()}}const mte=pte;var uO="@firebase/auth",dO="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vte(t){su(new Pl("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=n.options;zt(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X$(t)},h=new WJ(n,i,a,d);return eee(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),su(new Pl("auth-internal",e=>{const r=zx(e.getProvider("auth").getImmediate());return(n=>new gte(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(uO,dO,yte(t)),js(uO,dO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte=300,xte=A$("authIdTokenMaxAge")||bte;let hO=null;const wte=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>xte)return;const i=r==null?void 0:r.token;hO!==i&&(hO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uV(t=J8()){const e=Lg(t,"auth");if(e.isInitialized())return e.getImmediate();const r=JJ(t,{popupRedirectResolver:mte,persistence:[Eee,pee,rV]}),n=A$("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=wte(a.toString());cee(r,s,()=>s(r.currentUser)),lee(r,l=>s(l))}}const i=_$("auth");return i&&tee(r,`http://${i}`),r}function _te(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XJ({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=io("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",_te().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vte("Browser");var fO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sd,dV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,A){function R(){}R.prototype=A.prototype,E.D=A.prototype,E.prototype=new R,E.prototype.constructor=E,E.C=function(F,D,B){for(var M=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)M[Q-2]=arguments[Q];return A.prototype[D].apply(F,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,A,R){R||(R=0);var F=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)F[D]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(D=0;16>D;++D)F[D]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=E.g[0],R=E.g[1],D=E.g[2];var B=E.g[3],M=A+(B^R&(D^B))+F[0]+3614090360&4294967295;A=R+(M<<7&4294967295|M>>>25),M=B+(D^A&(R^D))+F[1]+3905402710&4294967295,B=A+(M<<12&4294967295|M>>>20),M=D+(R^B&(A^R))+F[2]+606105819&4294967295,D=B+(M<<17&4294967295|M>>>15),M=R+(A^D&(B^A))+F[3]+3250441966&4294967295,R=D+(M<<22&4294967295|M>>>10),M=A+(B^R&(D^B))+F[4]+4118548399&4294967295,A=R+(M<<7&4294967295|M>>>25),M=B+(D^A&(R^D))+F[5]+1200080426&4294967295,B=A+(M<<12&4294967295|M>>>20),M=D+(R^B&(A^R))+F[6]+2821735955&4294967295,D=B+(M<<17&4294967295|M>>>15),M=R+(A^D&(B^A))+F[7]+4249261313&4294967295,R=D+(M<<22&4294967295|M>>>10),M=A+(B^R&(D^B))+F[8]+1770035416&4294967295,A=R+(M<<7&4294967295|M>>>25),M=B+(D^A&(R^D))+F[9]+2336552879&4294967295,B=A+(M<<12&4294967295|M>>>20),M=D+(R^B&(A^R))+F[10]+4294925233&4294967295,D=B+(M<<17&4294967295|M>>>15),M=R+(A^D&(B^A))+F[11]+2304563134&4294967295,R=D+(M<<22&4294967295|M>>>10),M=A+(B^R&(D^B))+F[12]+1804603682&4294967295,A=R+(M<<7&4294967295|M>>>25),M=B+(D^A&(R^D))+F[13]+4254626195&4294967295,B=A+(M<<12&4294967295|M>>>20),M=D+(R^B&(A^R))+F[14]+2792965006&4294967295,D=B+(M<<17&4294967295|M>>>15),M=R+(A^D&(B^A))+F[15]+1236535329&4294967295,R=D+(M<<22&4294967295|M>>>10),M=A+(D^B&(R^D))+F[1]+4129170786&4294967295,A=R+(M<<5&4294967295|M>>>27),M=B+(R^D&(A^R))+F[6]+3225465664&4294967295,B=A+(M<<9&4294967295|M>>>23),M=D+(A^R&(B^A))+F[11]+643717713&4294967295,D=B+(M<<14&4294967295|M>>>18),M=R+(B^A&(D^B))+F[0]+3921069994&4294967295,R=D+(M<<20&4294967295|M>>>12),M=A+(D^B&(R^D))+F[5]+3593408605&4294967295,A=R+(M<<5&4294967295|M>>>27),M=B+(R^D&(A^R))+F[10]+38016083&4294967295,B=A+(M<<9&4294967295|M>>>23),M=D+(A^R&(B^A))+F[15]+3634488961&4294967295,D=B+(M<<14&4294967295|M>>>18),M=R+(B^A&(D^B))+F[4]+3889429448&4294967295,R=D+(M<<20&4294967295|M>>>12),M=A+(D^B&(R^D))+F[9]+568446438&4294967295,A=R+(M<<5&4294967295|M>>>27),M=B+(R^D&(A^R))+F[14]+3275163606&4294967295,B=A+(M<<9&4294967295|M>>>23),M=D+(A^R&(B^A))+F[3]+4107603335&4294967295,D=B+(M<<14&4294967295|M>>>18),M=R+(B^A&(D^B))+F[8]+1163531501&4294967295,R=D+(M<<20&4294967295|M>>>12),M=A+(D^B&(R^D))+F[13]+2850285829&4294967295,A=R+(M<<5&4294967295|M>>>27),M=B+(R^D&(A^R))+F[2]+4243563512&4294967295,B=A+(M<<9&4294967295|M>>>23),M=D+(A^R&(B^A))+F[7]+1735328473&4294967295,D=B+(M<<14&4294967295|M>>>18),M=R+(B^A&(D^B))+F[12]+2368359562&4294967295,R=D+(M<<20&4294967295|M>>>12),M=A+(R^D^B)+F[5]+4294588738&4294967295,A=R+(M<<4&4294967295|M>>>28),M=B+(A^R^D)+F[8]+2272392833&4294967295,B=A+(M<<11&4294967295|M>>>21),M=D+(B^A^R)+F[11]+1839030562&4294967295,D=B+(M<<16&4294967295|M>>>16),M=R+(D^B^A)+F[14]+4259657740&4294967295,R=D+(M<<23&4294967295|M>>>9),M=A+(R^D^B)+F[1]+2763975236&4294967295,A=R+(M<<4&4294967295|M>>>28),M=B+(A^R^D)+F[4]+1272893353&4294967295,B=A+(M<<11&4294967295|M>>>21),M=D+(B^A^R)+F[7]+4139469664&4294967295,D=B+(M<<16&4294967295|M>>>16),M=R+(D^B^A)+F[10]+3200236656&4294967295,R=D+(M<<23&4294967295|M>>>9),M=A+(R^D^B)+F[13]+681279174&4294967295,A=R+(M<<4&4294967295|M>>>28),M=B+(A^R^D)+F[0]+3936430074&4294967295,B=A+(M<<11&4294967295|M>>>21),M=D+(B^A^R)+F[3]+3572445317&4294967295,D=B+(M<<16&4294967295|M>>>16),M=R+(D^B^A)+F[6]+76029189&4294967295,R=D+(M<<23&4294967295|M>>>9),M=A+(R^D^B)+F[9]+3654602809&4294967295,A=R+(M<<4&4294967295|M>>>28),M=B+(A^R^D)+F[12]+3873151461&4294967295,B=A+(M<<11&4294967295|M>>>21),M=D+(B^A^R)+F[15]+530742520&4294967295,D=B+(M<<16&4294967295|M>>>16),M=R+(D^B^A)+F[2]+3299628645&4294967295,R=D+(M<<23&4294967295|M>>>9),M=A+(D^(R|~B))+F[0]+4096336452&4294967295,A=R+(M<<6&4294967295|M>>>26),M=B+(R^(A|~D))+F[7]+1126891415&4294967295,B=A+(M<<10&4294967295|M>>>22),M=D+(A^(B|~R))+F[14]+2878612391&4294967295,D=B+(M<<15&4294967295|M>>>17),M=R+(B^(D|~A))+F[5]+4237533241&4294967295,R=D+(M<<21&4294967295|M>>>11),M=A+(D^(R|~B))+F[12]+1700485571&4294967295,A=R+(M<<6&4294967295|M>>>26),M=B+(R^(A|~D))+F[3]+2399980690&4294967295,B=A+(M<<10&4294967295|M>>>22),M=D+(A^(B|~R))+F[10]+4293915773&4294967295,D=B+(M<<15&4294967295|M>>>17),M=R+(B^(D|~A))+F[1]+2240044497&4294967295,R=D+(M<<21&4294967295|M>>>11),M=A+(D^(R|~B))+F[8]+1873313359&4294967295,A=R+(M<<6&4294967295|M>>>26),M=B+(R^(A|~D))+F[15]+4264355552&4294967295,B=A+(M<<10&4294967295|M>>>22),M=D+(A^(B|~R))+F[6]+2734768916&4294967295,D=B+(M<<15&4294967295|M>>>17),M=R+(B^(D|~A))+F[13]+1309151649&4294967295,R=D+(M<<21&4294967295|M>>>11),M=A+(D^(R|~B))+F[4]+4149444226&4294967295,A=R+(M<<6&4294967295|M>>>26),M=B+(R^(A|~D))+F[11]+3174756917&4294967295,B=A+(M<<10&4294967295|M>>>22),M=D+(A^(B|~R))+F[2]+718787259&4294967295,D=B+(M<<15&4294967295|M>>>17),M=R+(B^(D|~A))+F[9]+3951481745&4294967295,E.g[0]=E.g[0]+A&4294967295,E.g[1]=E.g[1]+(D+(M<<21&4294967295|M>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+B&4294967295}n.prototype.u=function(E,A){A===void 0&&(A=E.length);for(var R=A-this.blockSize,F=this.B,D=this.h,B=0;B<A;){if(D==0)for(;B<=R;)i(this,E,B),B+=this.blockSize;if(typeof E=="string"){for(;B<A;)if(F[D++]=E.charCodeAt(B++),D==this.blockSize){i(this,F),D=0;break}}else for(;B<A;)if(F[D++]=E[B++],D==this.blockSize){i(this,F),D=0;break}}this.h=D,this.o+=A},n.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var A=1;A<E.length-8;++A)E[A]=0;var R=8*this.o;for(A=E.length-8;A<E.length;++A)E[A]=R&255,R/=256;for(this.u(E),E=Array(16),A=R=0;4>A;++A)for(var F=0;32>F;F+=8)E[R++]=this.g[A]>>>F&255;return E};function a(E,A){var R=l;return Object.prototype.hasOwnProperty.call(R,E)?R[E]:R[E]=A(E)}function s(E,A){this.h=A;for(var R=[],F=!0,D=E.length-1;0<=D;D--){var B=E[D]|0;F&&B==A||(R[D]=B,F=!1)}this.g=R}var l={};function d(E){return-128<=E&&128>E?a(E,function(A){return new s([A|0],0>A?-1:0)}):new s([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return m;if(0>E)return w(h(-E));for(var A=[],R=1,F=0;E>=R;F++)A[F]=E/R|0,R*=4294967296;return new s(A,0)}function p(E,A){if(E.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E.charAt(0)=="-")return w(p(E.substring(1),A));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=h(Math.pow(A,8)),F=m,D=0;D<E.length;D+=8){var B=Math.min(8,E.length-D),M=parseInt(E.substring(D,D+B),A);8>B?(B=h(Math.pow(A,B)),F=F.j(B).add(h(M))):(F=F.j(R),F=F.add(h(M)))}return F}var m=d(0),y=d(1),b=d(16777216);t=s.prototype,t.m=function(){if(S(this))return-w(this).m();for(var E=0,A=1,R=0;R<this.g.length;R++){var F=this.i(R);E+=(0<=F?F:4294967296+F)*A,A*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T(this))return"0";if(S(this))return"-"+w(this).toString(E);for(var A=h(Math.pow(E,6)),R=this,F="";;){var D=$(R,A).g;R=N(R,D.j(A));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(E);if(R=D,T(R))return B+F;for(;6>B.length;)B="0"+B;F=B+F}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function T(E){if(E.h!=0)return!1;for(var A=0;A<E.g.length;A++)if(E.g[A]!=0)return!1;return!0}function S(E){return E.h==-1}t.l=function(E){return E=N(this,E),S(E)?-1:T(E)?0:1};function w(E){for(var A=E.g.length,R=[],F=0;F<A;F++)R[F]=~E.g[F];return new s(R,~E.h).add(y)}t.abs=function(){return S(this)?w(this):this},t.add=function(E){for(var A=Math.max(this.g.length,E.g.length),R=[],F=0,D=0;D<=A;D++){var B=F+(this.i(D)&65535)+(E.i(D)&65535),M=(B>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);F=M>>>16,B&=65535,M&=65535,R[D]=M<<16|B}return new s(R,R[R.length-1]&-2147483648?-1:0)};function N(E,A){return E.add(w(A))}t.j=function(E){if(T(this)||T(E))return m;if(S(this))return S(E)?w(this).j(w(E)):w(w(this).j(E));if(S(E))return w(this.j(w(E)));if(0>this.l(b)&&0>E.l(b))return h(this.m()*E.m());for(var A=this.g.length+E.g.length,R=[],F=0;F<2*A;F++)R[F]=0;for(F=0;F<this.g.length;F++)for(var D=0;D<E.g.length;D++){var B=this.i(F)>>>16,M=this.i(F)&65535,Q=E.i(D)>>>16,Z=E.i(D)&65535;R[2*F+2*D]+=M*Z,k(R,2*F+2*D),R[2*F+2*D+1]+=B*Z,k(R,2*F+2*D+1),R[2*F+2*D+1]+=M*Q,k(R,2*F+2*D+1),R[2*F+2*D+2]+=B*Q,k(R,2*F+2*D+2)}for(F=0;F<A;F++)R[F]=R[2*F+1]<<16|R[2*F];for(F=A;F<2*A;F++)R[F]=0;return new s(R,0)};function k(E,A){for(;(E[A]&65535)!=E[A];)E[A+1]+=E[A]>>>16,E[A]&=65535,A++}function j(E,A){this.g=E,this.h=A}function $(E,A){if(T(A))throw Error("division by zero");if(T(E))return new j(m,m);if(S(E))return A=$(w(E),A),new j(w(A.g),w(A.h));if(S(A))return A=$(E,w(A)),new j(w(A.g),A.h);if(30<E.g.length){if(S(E)||S(A))throw Error("slowDivide_ only works with positive integers.");for(var R=y,F=A;0>=F.l(E);)R=I(R),F=I(F);var D=L(R,1),B=L(F,1);for(F=L(F,2),R=L(R,2);!T(F);){var M=B.add(F);0>=M.l(E)&&(D=D.add(R),B=M),F=L(F,1),R=L(R,1)}return A=N(E,D.j(A)),new j(D,A)}for(D=m;0<=E.l(A);){for(R=Math.max(1,Math.floor(E.m()/A.m())),F=Math.ceil(Math.log(R)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),B=h(R),M=B.j(A);S(M)||0<M.l(E);)R-=F,B=h(R),M=B.j(A);T(B)&&(B=y),D=D.add(B),E=N(E,M)}return new j(D,E)}t.A=function(E){return $(this,E).h},t.and=function(E){for(var A=Math.max(this.g.length,E.g.length),R=[],F=0;F<A;F++)R[F]=this.i(F)&E.i(F);return new s(R,this.h&E.h)},t.or=function(E){for(var A=Math.max(this.g.length,E.g.length),R=[],F=0;F<A;F++)R[F]=this.i(F)|E.i(F);return new s(R,this.h|E.h)},t.xor=function(E){for(var A=Math.max(this.g.length,E.g.length),R=[],F=0;F<A;F++)R[F]=this.i(F)^E.i(F);return new s(R,this.h^E.h)};function I(E){for(var A=E.g.length+1,R=[],F=0;F<A;F++)R[F]=E.i(F)<<1|E.i(F-1)>>>31;return new s(R,E.h)}function L(E,A){var R=A>>5;A%=32;for(var F=E.g.length-R,D=[],B=0;B<F;B++)D[B]=0<A?E.i(B+R)>>>A|E.i(B+R+1)<<32-A:E.i(B+R);return new s(D,E.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,dV=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=p,Sd=s}).apply(typeof fO<"u"?fO:typeof self<"u"?self:typeof window<"u"?window:{});var Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hV,Hp,fV,jv,OT,pV,mV,gV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,O,V){return v==Array.prototype||v==Object.prototype||(v[O]=V.value),v};function r(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vy=="object"&&Vy];for(var O=0;O<v.length;++O){var V=v[O];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var n=r(this);function i(v,O){if(O)e:{var V=n;v=v.split(".");for(var K=0;K<v.length-1;K++){var xe=v[K];if(!(xe in V))break e;V=V[xe]}v=v[v.length-1],K=V[v],O=O(K),O!=K&&O!=null&&e(V,v,{configurable:!0,writable:!0,value:O})}}function a(v,O){v instanceof String&&(v+="");var V=0,K=!1,xe={next:function(){if(!K&&V<v.length){var ke=V++;return{value:O(ke,v[ke]),done:!1}}return K=!0,{done:!0,value:void 0}}};return xe[Symbol.iterator]=function(){return xe},xe}i("Array.prototype.values",function(v){return v||function(){return a(this,function(O,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function d(v){var O=typeof v;return O=O!="object"?O:v?Array.isArray(v)?"array":O:"null",O=="array"||O=="object"&&typeof v.length=="number"}function h(v){var O=typeof v;return O=="object"&&v!=null||O=="function"}function p(v,O,V){return v.call.apply(v.bind,arguments)}function m(v,O,V){if(!v)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var xe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xe,K),v.apply(O,xe)}}return function(){return v.apply(O,arguments)}}function y(v,O,V){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function b(v,O){var V=Array.prototype.slice.call(arguments,1);return function(){var K=V.slice();return K.push.apply(K,arguments),v.apply(this,K)}}function T(v,O){function V(){}V.prototype=O.prototype,v.aa=O.prototype,v.prototype=new V,v.prototype.constructor=v,v.Qb=function(K,xe,ke){for(var nt=Array(arguments.length-2),Er=2;Er<arguments.length;Er++)nt[Er-2]=arguments[Er];return O.prototype[xe].apply(K,nt)}}function S(v){const O=v.length;if(0<O){const V=Array(O);for(let K=0;K<O;K++)V[K]=v[K];return V}return[]}function w(v,O){for(let V=1;V<arguments.length;V++){const K=arguments[V];if(d(K)){const xe=v.length||0,ke=K.length||0;v.length=xe+ke;for(let nt=0;nt<ke;nt++)v[xe+nt]=K[nt]}else v.push(K)}}class N{constructor(O,V){this.i=O,this.j=V,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function k(v){return/^[\s\xa0]*$/.test(v)}function j(){var v=l.navigator;return v&&(v=v.userAgent)?v:""}function $(v){return $[" "](v),v}$[" "]=function(){};var I=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function L(v,O,V){for(const K in v)O.call(V,v[K],K,v)}function E(v,O){for(const V in v)O.call(void 0,v[V],V,v)}function A(v){const O={};for(const V in v)O[V]=v[V];return O}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(v,O){let V,K;for(let xe=1;xe<arguments.length;xe++){K=arguments[xe];for(V in K)v[V]=K[V];for(let ke=0;ke<R.length;ke++)V=R[ke],Object.prototype.hasOwnProperty.call(K,V)&&(v[V]=K[V])}}function D(v){var O=1;v=v.split(":");const V=[];for(;0<O&&v.length;)V.push(v.shift()),O--;return v.length&&V.push(v.join(":")),V}function B(v){l.setTimeout(()=>{throw v},0)}function M(){var v=ge;let O=null;return v.g&&(O=v.g,v.g=v.g.next,v.g||(v.h=null),O.next=null),O}class Q{constructor(){this.h=this.g=null}add(O,V){const K=Z.get();K.set(O,V),this.h?this.h.next=K:this.g=K,this.h=K}}var Z=new N(()=>new W,v=>v.reset());class W{constructor(){this.next=this.g=this.h=null}set(O,V){this.h=O,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let J,Y=!1,ge=new Q,ce=()=>{const v=l.Promise.resolve(void 0);J=()=>{v.then(X)}};var X=()=>{for(var v;v=M();){try{v.h.call(v.g)}catch(V){B(V)}var O=Z;O.j(v),100>O.h&&(O.h++,v.next=O.g,O.g=v)}Y=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(v,O){this.type=v,this.g=this.target=O,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var oe=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,O=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const V=()=>{};l.addEventListener("test",V,O),l.removeEventListener("test",V,O)}catch{}return v})();function ae(v,O){if(ue.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var V=this.type=v.type,K=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=O,O=v.relatedTarget){if(I){e:{try{$(O.nodeName);var xe=!0;break e}catch{}xe=!1}xe||(O=null)}}else V=="mouseover"?O=v.fromElement:V=="mouseout"&&(O=v.toElement);this.relatedTarget=O,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:pe[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&ae.aa.h.call(this)}}T(ae,ue);var pe={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Ne(v,O,V,K,xe){this.listener=v,this.proxy=null,this.src=O,this.type=V,this.capture=!!K,this.ha=xe,this.key=++Xe,this.da=this.fa=!1}function le(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function je(v){this.src=v,this.g={},this.h=0}je.prototype.add=function(v,O,V,K,xe){var ke=v.toString();v=this.g[ke],v||(v=this.g[ke]=[],this.h++);var nt=ut(v,O,K,xe);return-1<nt?(O=v[nt],V||(O.fa=!1)):(O=new Ne(O,this.src,ke,!!K,xe),O.fa=V,v.push(O)),O};function we(v,O){var V=O.type;if(V in v.g){var K=v.g[V],xe=Array.prototype.indexOf.call(K,O,void 0),ke;(ke=0<=xe)&&Array.prototype.splice.call(K,xe,1),ke&&(le(O),v.g[V].length==0&&(delete v.g[V],v.h--))}}function ut(v,O,V,K){for(var xe=0;xe<v.length;++xe){var ke=v[xe];if(!ke.da&&ke.listener==O&&ke.capture==!!V&&ke.ha==K)return xe}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),lt={};function it(v,O,V,K,xe){if(Array.isArray(O)){for(var ke=0;ke<O.length;ke++)it(v,O[ke],V,K,xe);return null}return V=Ye(V),v&&v[ye]?v.K(O,V,h(K)?!!K.capture:!1,xe):Rt(v,O,V,!1,K,xe)}function Rt(v,O,V,K,xe,ke){if(!O)throw Error("Invalid event type");var nt=h(xe)?!!xe.capture:!!xe,Er=ne(v);if(Er||(v[Ge]=Er=new je(v)),V=Er.add(O,V,K,nt,ke),V.proxy)return V;if(K=Oe(),V.proxy=K,K.src=v,K.listener=V,v.addEventListener)oe||(xe=nt),xe===void 0&&(xe=!1),v.addEventListener(O.toString(),K,xe);else if(v.attachEvent)v.attachEvent(de(O.toString()),K);else if(v.addListener&&v.removeListener)v.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Oe(){function v(V){return O.call(v.src,v.listener,V)}const O=Ue;return v}function at(v,O,V,K,xe){if(Array.isArray(O))for(var ke=0;ke<O.length;ke++)at(v,O[ke],V,K,xe);else K=h(K)?!!K.capture:!!K,V=Ye(V),v&&v[ye]?(v=v.i,O=String(O).toString(),O in v.g&&(ke=v.g[O],V=ut(ke,V,K,xe),-1<V&&(le(ke[V]),Array.prototype.splice.call(ke,V,1),ke.length==0&&(delete v.g[O],v.h--)))):v&&(v=ne(v))&&(O=v.g[O.toString()],v=-1,O&&(v=ut(O,V,K,xe)),(V=-1<v?O[v]:null)&&ht(V))}function ht(v){if(typeof v!="number"&&v&&!v.da){var O=v.src;if(O&&O[ye])we(O.i,v);else{var V=v.type,K=v.proxy;O.removeEventListener?O.removeEventListener(V,K,v.capture):O.detachEvent?O.detachEvent(de(V),K):O.addListener&&O.removeListener&&O.removeListener(K),(V=ne(O))?(we(V,v),V.h==0&&(V.src=null,O[Ge]=null)):le(v)}}}function de(v){return v in lt?lt[v]:lt[v]="on"+v}function Ue(v,O){if(v.da)v=!0;else{O=new ae(O,this);var V=v.listener,K=v.ha||v.src;v.fa&&ht(v),v=V.call(K,O)}return v}function ne(v){return v=v[Ge],v instanceof je?v:null}var De="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ye(v){return typeof v=="function"?v:(v[De]||(v[De]=function(O){return v.handleEvent(O)}),v[De])}function et(){te.call(this),this.i=new je(this),this.M=this,this.F=null}T(et,te),et.prototype[ye]=!0,et.prototype.removeEventListener=function(v,O,V,K){at(this,v,O,V,K)};function Qe(v,O){var V,K=v.F;if(K)for(V=[];K;K=K.F)V.push(K);if(v=v.M,K=O.type||O,typeof O=="string")O=new ue(O,v);else if(O instanceof ue)O.target=O.target||v;else{var xe=O;O=new ue(K,v),F(O,xe)}if(xe=!0,V)for(var ke=V.length-1;0<=ke;ke--){var nt=O.g=V[ke];xe=Fe(nt,K,!0,O)&&xe}if(nt=O.g=v,xe=Fe(nt,K,!0,O)&&xe,xe=Fe(nt,K,!1,O)&&xe,V)for(ke=0;ke<V.length;ke++)nt=O.g=V[ke],xe=Fe(nt,K,!1,O)&&xe}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var v=this.i,O;for(O in v.g){for(var V=v.g[O],K=0;K<V.length;K++)le(V[K]);delete v.g[O],v.h--}}this.F=null},et.prototype.K=function(v,O,V,K){return this.i.add(String(v),O,!1,V,K)},et.prototype.L=function(v,O,V,K){return this.i.add(String(v),O,!0,V,K)};function Fe(v,O,V,K){if(O=v.i.g[String(O)],!O)return!0;O=O.concat();for(var xe=!0,ke=0;ke<O.length;++ke){var nt=O[ke];if(nt&&!nt.da&&nt.capture==V){var Er=nt.listener,Xn=nt.ha||nt.src;nt.fa&&we(v.i,nt),xe=Er.call(Xn,K)!==!1&&xe}}return xe&&!K.defaultPrevented}function mt(v,O,V){if(typeof v=="function")V&&(v=y(v,V));else if(v&&typeof v.handleEvent=="function")v=y(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:l.setTimeout(v,O||0)}function _t(v){v.g=mt(()=>{v.g=null,v.i&&(v.i=!1,_t(v))},v.l);const O=v.h;v.h=null,v.m.apply(null,O)}class en extends te{constructor(O,V){super(),this.m=O,this.l=V,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(v){te.call(this),this.h=v,this.g={}}T(mn,te);var Sn=[];function Kt(v){L(v.g,function(O,V){this.g.hasOwnProperty(V)&&ht(O)},v),v.g={}}mn.prototype.N=function(){mn.aa.N.call(this),Kt(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qt=l.JSON.stringify,Ht=l.JSON.parse,oi=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function li(){}li.prototype.h=null;function wa(v){return v.h||(v.h=v.i())}function Mi(){}var jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){ue.call(this,"d")}T(kr,ue);function Ar(){ue.call(this,"c")}T(Ar,ue);var Mt={},tn=null;function Tn(){return tn=tn||new et}Mt.La="serverreachability";function gn(v){ue.call(this,Mt.La,v)}T(gn,ue);function rn(v){const O=Tn();Qe(O,new gn(O))}Mt.STAT_EVENT="statevent";function zr(v,O){ue.call(this,Mt.STAT_EVENT,v),this.stat=O}T(zr,ue);function Xt(v){const O=Tn();Qe(O,new zr(O,v))}Mt.Ma="timingevent";function bi(v,O){ue.call(this,Mt.Ma,v),this.size=O}T(bi,ue);function Xr(v,O){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},O)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function aa(v,O,V,K,xe,ke){v.info(function(){if(v.g)if(ke)for(var nt="",Er=ke.split("&"),Xn=0;Xn<Er.length;Xn++){var rr=Er[Xn].split("=");if(1<rr.length){var Si=rr[0];rr=rr[1];var Ti=Si.split("_");nt=2<=Ti.length&&Ti[1]=="type"?nt+(Si+"="+rr+"&"):nt+(Si+"=redacted&")}}else nt=null;else nt=ke;return"XMLHTTP REQ ("+K+") [attempt "+xe+"]: "+O+`
`+V+`
`+nt})}function Or(v,O,V,K,xe,ke,nt){v.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+xe+"]: "+O+`
`+V+`
`+ke+" "+nt})}function nn(v,O,V,K){v.info(function(){return"XMLHTTP TEXT ("+O+"): "+Wn(v,V)+(K?" "+K:"")})}function Ki(v,O){v.info(function(){return"TIMEOUT: "+O})}yn.prototype.info=function(){};function Wn(v,O){if(!v.g)return O;if(!O)return null;try{var V=JSON.parse(O);if(V){for(v=0;v<V.length;v++)if(Array.isArray(V[v])){var K=V[v];if(!(2>K.length)){var xe=K[1];if(Array.isArray(xe)&&!(1>xe.length)){var ke=xe[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(var nt=1;nt<xe.length;nt++)xe[nt]=""}}}}return qt(V)}catch{return O}}var Ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},an={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},An;function _a(){}T(_a,li),_a.prototype.g=function(){return new XMLHttpRequest},_a.prototype.i=function(){return{}},An=new _a;function Wi(v,O,V,K){this.j=v,this.i=O,this.l=V,this.R=K||1,this.U=new mn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ho}function ho(){this.i=null,this.g="",this.h=!1}var Us={},Sa={};function yt(v,O,V){v.L=1,v.v=Fs($t(O)),v.m=V,v.P=!0,he(v,null)}function he(v,O){v.F=Date.now(),Bt(v),v.A=$t(v.v);var V=v.A,K=v.R;Array.isArray(K)||(K=[String(K)]),Ko(V.i,"t",K),v.C=0,V=v.j.J,v.h=new ho,v.g=R1(v.j,V?O:null,!v.m),0<v.O&&(v.M=new en(y(v.Y,v,v.g),v.O)),O=v.U,V=v.g,K=v.ca;var xe="readystatechange";Array.isArray(xe)||(xe&&(Sn[0]=xe.toString()),xe=Sn);for(var ke=0;ke<xe.length;ke++){var nt=it(V,xe[ke],K||O.handleEvent,!1,O.h||O);if(!nt)break;O.g[nt.key]=nt}O=v.H?A(v.H):{},v.m?(v.u||(v.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,O)):(v.u="GET",v.g.ea(v.A,v.u,null,O)),rn(),aa(v.i,v.u,v.A,v.l,v.R,v.m)}Wi.prototype.ca=function(v){v=v.target;const O=this.M;O&&oa(v)==3?O.j():this.Y(v)},Wi.prototype.Y=function(v){try{if(v==this.g)e:{const Ti=oa(this.g);var O=this.g.Ba();const lc=this.g.Z();if(!(3>Ti)&&(Ti!=3||this.g&&(this.h.h||this.g.oa()||ku(this.g)))){this.J||Ti!=4||O==7||(O==8||0>=lc?rn(3):rn(2)),sn(this);var V=this.g.Z();this.X=V;t:if(qe(this)){var K=ku(this.g);v="";var xe=K.length,ke=oa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),Rr(this);var nt="";break t}this.h.i=new l.TextDecoder}for(O=0;O<xe;O++)this.h.h=!0,v+=this.h.i.decode(K[O],{stream:!(ke&&O==xe-1)});K.length=0,this.h.g+=v,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=V==200,Or(this.i,this.u,this.A,this.l,this.R,Ti,V),this.o){if(this.T&&!this.K){t:{if(this.g){var Er,Xn=this.g;if((Er=Xn.g?Xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Er)){var rr=Er;break t}}rr=null}if(V=rr)nn(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fr(this,V);else{this.o=!1,this.s=3,Xt(12),on(this),Rr(this);break e}}if(this.P){V=!0;let Aa;for(;!this.J&&this.C<nt.length;)if(Aa=rt(this,nt),Aa==Sa){Ti==4&&(this.s=4,Xt(14),V=!1),nn(this.i,this.l,null,"[Incomplete Response]");break}else if(Aa==Us){this.s=4,Xt(15),nn(this.i,this.l,nt,"[Invalid Chunk]"),V=!1;break}else nn(this.i,this.l,Aa,null),fr(this,Aa);if(qe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ti!=4||nt.length!=0||this.h.h||(this.s=1,Xt(16),V=!1),this.o=this.o&&V,!V)nn(this.i,this.l,nt,"[Invalid Chunked Response]"),on(this),Rr(this);else if(0<nt.length&&!this.W){this.W=!0;var Si=this.j;Si.g==this&&Si.ba&&!Si.M&&(Si.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Bf(Si),Si.M=!0,Xt(11))}}else nn(this.i,this.l,nt,null),fr(this,nt);Ti==4&&on(this),this.o&&!this.J&&(Ti==4?k1(this.j,this):(this.o=!1,Bt(this)))}else T1(this.g),V==400&&0<nt.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),on(this),Rr(this)}}}catch{}finally{}};function qe(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function rt(v,O){var V=v.C,K=O.indexOf(`
`,V);return K==-1?Sa:(V=Number(O.substring(V,K)),isNaN(V)?Us:(K+=1,K+V>O.length?Sa:(O=O.slice(K,K+V),v.C=K+V,O)))}Wi.prototype.cancel=function(){this.J=!0,on(this)};function Bt(v){v.S=Date.now()+v.I,tr(v,v.I)}function tr(v,O){if(v.B!=null)throw Error("WatchDog timer not null");v.B=Xr(y(v.ba,v),O)}function sn(v){v.B&&(l.clearTimeout(v.B),v.B=null)}Wi.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(Ki(this.i,this.A),this.L!=2&&(rn(),Xt(17)),on(this),this.s=2,Rr(this)):tr(this,this.S-v)};function Rr(v){v.j.G==0||v.J||k1(v.j,v)}function on(v){sn(v);var O=v.M;O&&typeof O.ma=="function"&&O.ma(),v.M=null,Kt(v.U),v.g&&(O=v.g,v.g=null,O.abort(),O.ma())}function fr(v,O){try{var V=v.j;if(V.G!=0&&(V.g==v||$s(V.h,v))){if(!v.K&&$s(V.h,v)&&V.G==3){try{var K=V.Da.g.parse(O)}catch{K=null}if(Array.isArray(K)&&K.length==3){var xe=K;if(xe[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<v.F)sc(V),ac(V);else break e;Lf(V),Xt(18)}}else V.za=xe[1],0<V.za-V.T&&37500>xe[2]&&V.F&&V.v==0&&!V.C&&(V.C=Xr(y(V.Za,V),6e3));if(1>=Au(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else Xo(V,11)}else if((v.K||V.g==v)&&sc(V),!k(O))for(xe=V.Da.g.parse(O),O=0;O<xe.length;O++){let rr=xe[O];if(V.T=rr[0],rr=rr[1],V.G==2)if(rr[0]=="c"){V.K=rr[1],V.ia=rr[2];const Si=rr[3];Si!=null&&(V.la=Si,V.j.info("VER="+V.la));const Ti=rr[4];Ti!=null&&(V.Aa=Ti,V.j.info("SVER="+V.Aa));const lc=rr[5];lc!=null&&typeof lc=="number"&&0<lc&&(K=1.5*lc,V.L=K,V.j.info("backChannelRequestTimeoutMs_="+K)),K=V;const Aa=v.g;if(Aa){const Ru=Aa.g?Aa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ru){var ke=K.h;ke.g||Ru.indexOf("spdy")==-1&&Ru.indexOf("quic")==-1&&Ru.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(Vs(ke,ke.h),ke.h=null))}if(K.D){const Qo=Aa.g?Aa.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(K.ya=Qo,Qt(K.I,K.D,Qo))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-v.F,V.j.info("Handshake RTT: "+V.R+"ms")),K=V;var nt=v;if(K.qa=I1(K,K.J?K.ia:null,K.W),nt.K){sa(K.h,nt);var Er=nt,Xn=K.L;Xn&&(Er.I=Xn),Er.B&&(sn(Er),Bt(Er)),K.g=nt}else C1(K);0<V.i.length&&u0(V)}else rr[0]!="stop"&&rr[0]!="close"||Xo(V,7);else V.G==3&&(rr[0]=="stop"||rr[0]=="close"?rr[0]=="stop"?Xo(V,7):Pf(V):rr[0]!="noop"&&V.l&&V.l.ta(rr),V.v=0)}}rn(4)}catch{}}var fo=class{constructor(v,O){this.g=v,this.map=O}};function zs(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ho(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Au(v){return v.h?1:v.g?v.g.size:0}function $s(v,O){return v.h?v.h==O:v.g?v.g.has(O):!1}function Vs(v,O){v.g?v.g.add(O):v.h=O}function sa(v,O){v.h&&v.h==O?v.h=null:v.g&&v.g.has(O)&&v.g.delete(O)}zs.prototype.cancel=function(){if(this.i=xi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function xi(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let O=v.i;for(const V of v.g.values())O=O.concat(V.D);return O}return S(v.i)}function Eu(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(d(v)){for(var O=[],V=v.length,K=0;K<V;K++)O.push(v[K]);return O}O=[],V=0;for(K in v)O[V++]=v[K];return O}function ve(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(d(v)||typeof v=="string"){var O=[];v=v.length;for(var V=0;V<v;V++)O.push(V);return O}O=[],V=0;for(const K in v)O[V++]=K;return O}}}function Ie(v,O){if(v.forEach&&typeof v.forEach=="function")v.forEach(O,void 0);else if(d(v)||typeof v=="string")Array.prototype.forEach.call(v,O,void 0);else for(var V=ve(v),K=Eu(v),xe=K.length,ke=0;ke<xe;ke++)O.call(void 0,K[ke],V&&V[ke],v)}var We=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ct(v,O){if(v){v=v.split("&");for(var V=0;V<v.length;V++){var K=v[V].indexOf("="),xe=null;if(0<=K){var ke=v[V].substring(0,K);xe=v[V].substring(K+1)}else ke=v[V];O(ke,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function Et(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Et){this.h=v.h,mr(this,v.j),this.o=v.o,this.g=v.g,Un(this,v.s),this.l=v.l;var O=v.i,V=new po;V.i=O.i,O.g&&(V.g=new Map(O.g),V.h=O.h),wi(this,V),this.m=v.m}else v&&(O=String(v).match(We))?(this.h=!1,mr(this,O[1]||"",!0),this.o=fs(O[2]||""),this.g=fs(O[3]||"",!0),Un(this,O[4]),this.l=fs(O[5]||"",!0),wi(this,O[6]||"",!0),this.m=fs(O[7]||"")):(this.h=!1,this.i=new po(null,this.h))}Et.prototype.toString=function(){var v=[],O=this.j;O&&v.push(Xi(O,Go,!0),":");var V=this.g;return(V||O=="file")&&(v.push("//"),(O=this.o)&&v.push(Xi(O,Go,!0),"@"),v.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&v.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&v.push("/"),v.push(Xi(V,V.charAt(0)=="/"?If:Nu,!0))),(V=this.i.toString())&&v.push("?",V),(V=this.m)&&v.push("#",Xi(V,g4)),v.join("")};function $t(v){return new Et(v)}function mr(v,O,V){v.j=V?fs(O,!0):O,v.j&&(v.j=v.j.replace(/:$/,""))}function Un(v,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);v.s=O}else v.s=null}function wi(v,O,V){O instanceof po?(v.i=O,w1(v.i,v.h)):(V||(O=Xi(O,m4)),v.i=new po(O,v.h))}function Qt(v,O,V){v.i.set(O,V)}function Fs(v){return Qt(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function fs(v,O){return v?O?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Xi(v,O,V){return typeof v=="string"?(v=encodeURI(v).replace(O,gr),V&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function gr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Go=/[#\/\?@]/g,Nu=/[#\?:]/g,If=/[#\?]/g,m4=/[#\?@]/g,g4=/#/g;function po(v,O){this.h=this.g=null,this.i=v||null,this.j=!!O}function _i(v){v.g||(v.g=new Map,v.h=0,v.i&&ct(v.i,function(O,V){v.add(decodeURIComponent(O.replace(/\+/g," ")),V)}))}t=po.prototype,t.add=function(v,O){_i(this),this.i=null,v=Fa(this,v);var V=this.g.get(v);return V||this.g.set(v,V=[]),V.push(O),this.h+=1,this};function s0(v,O){_i(v),O=Fa(v,O),v.g.has(O)&&(v.i=null,v.h-=v.g.get(O).length,v.g.delete(O))}function o0(v,O){return _i(v),O=Fa(v,O),v.g.has(O)}t.forEach=function(v,O){_i(this),this.g.forEach(function(V,K){V.forEach(function(xe){v.call(O,xe,K,this)},this)},this)},t.na=function(){_i(this);const v=Array.from(this.g.values()),O=Array.from(this.g.keys()),V=[];for(let K=0;K<O.length;K++){const xe=v[K];for(let ke=0;ke<xe.length;ke++)V.push(O[K])}return V},t.V=function(v){_i(this);let O=[];if(typeof v=="string")o0(this,v)&&(O=O.concat(this.g.get(Fa(this,v))));else{v=Array.from(this.g.values());for(let V=0;V<v.length;V++)O=O.concat(v[V])}return O},t.set=function(v,O){return _i(this),this.i=null,v=Fa(this,v),o0(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[O]),this.h+=1,this},t.get=function(v,O){return v?(v=this.V(v),0<v.length?String(v[0]):O):O};function Ko(v,O,V){s0(v,O),0<V.length&&(v.i=null,v.g.set(Fa(v,O),S(V)),v.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],O=Array.from(this.g.keys());for(var V=0;V<O.length;V++){var K=O[V];const ke=encodeURIComponent(String(K)),nt=this.V(K);for(K=0;K<nt.length;K++){var xe=ke;nt[K]!==""&&(xe+="="+encodeURIComponent(String(nt[K]))),v.push(xe)}}return this.i=v.join("&")};function Fa(v,O){return O=String(O),v.j&&(O=O.toLowerCase()),O}function w1(v,O){O&&!v.j&&(_i(v),v.i=null,v.g.forEach(function(V,K){var xe=K.toLowerCase();K!=xe&&(s0(this,K),Ko(this,xe,V))},v)),v.j=O}function Rf(v,O){const V=new yn;if(l.Image){const K=new Image;K.onload=b(Ta,V,"TestLoadImage: loaded",!0,O,K),K.onerror=b(Ta,V,"TestLoadImage: error",!1,O,K),K.onabort=b(Ta,V,"TestLoadImage: abort",!1,O,K),K.ontimeout=b(Ta,V,"TestLoadImage: timeout",!1,O,K),l.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=v}else O(!1)}function _1(v,O){const V=new yn,K=new AbortController,xe=setTimeout(()=>{K.abort(),Ta(V,"TestPingServer: timeout",!1,O)},1e4);fetch(v,{signal:K.signal}).then(ke=>{clearTimeout(xe),ke.ok?Ta(V,"TestPingServer: ok",!0,O):Ta(V,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(xe),Ta(V,"TestPingServer: error",!1,O)})}function Ta(v,O,V,K,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),K(V)}catch{}}function qs(){this.g=new oi}function Mf(v,O,V){const K=V||"";try{Ie(v,function(xe,ke){let nt=xe;h(xe)&&(nt=qt(xe)),O.push(K+ke+"="+encodeURIComponent(nt))})}catch(xe){throw O.push(K+"type="+encodeURIComponent("_badmap")),xe}}function mo(v){this.l=v.Ub||null,this.j=v.eb||!1}T(mo,li),mo.prototype.g=function(){return new qa(this.l,this.j)},mo.prototype.i=(function(v){return function(){return v}})({});function qa(v,O){et.call(this),this.D=v,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(qa,et),t=qa.prototype,t.open=function(v,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=O,this.readyState=1,tc(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(O.body=v),(this.D||l).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,go(this)),this.readyState=0},t.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,tc(this)),this.g&&(this.readyState=3,tc(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;l0(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function l0(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}t.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var O=v.value?v.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!v.done}))&&(this.response=this.responseText+=O)}v.done?go(this):tc(this),this.readyState==3&&l0(this)}},t.Ra=function(v){this.g&&(this.response=this.responseText=v,go(this))},t.Qa=function(v){this.g&&(this.response=v,go(this))},t.ga=function(){this.g&&go(this)};function go(v){v.readyState=4,v.l=null,v.j=null,v.v=null,tc(v)}t.setRequestHeader=function(v,O){this.u.append(v,O)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],O=this.h.entries();for(var V=O.next();!V.done;)V=V.value,v.push(V[0]+": "+V[1]),V=O.next();return v.join(`\r
`)};function tc(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Cu(v){let O="";return L(v,function(V,K){O+=K,O+=":",O+=V,O+=`\r
`}),O}function rc(v,O,V){e:{for(K in V){var K=!1;break e}K=!0}K||(V=Cu(V),typeof v=="string"?V!=null&&encodeURIComponent(String(V)):Qt(v,O,V))}function dn(v){et.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(dn,et);var Qi=/^https?$/i,Wo=["POST","PUT"];t=dn.prototype,t.Ha=function(v){this.J=v},t.ea=function(v,O,V,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);O=O?O.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():An.g(),this.v=this.o?wa(this.o):wa(An),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(O,String(v),!0),this.B=!1}catch(ke){ju(this,ke);return}if(v=V||"",V=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var xe in K)V.set(xe,K[xe]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const ke of K.keys())V.set(ke,K.get(ke));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(V.keys()).find(ke=>ke.toLowerCase()=="content-type"),xe=l.FormData&&v instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Wo,O,void 0))||K||xe||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,nt]of V)this.g.setRequestHeader(ke,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{c0(this),this.u=!0,this.g.send(v),this.u=!1}catch(ke){ju(this,ke)}};function ju(v,O){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=O,v.m=5,nc(v),ic(v)}function nc(v){v.A||(v.A=!0,Qe(v,"complete"),Qe(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Qe(this,"complete"),Qe(this,"abort"),ic(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ic(this,!0)),dn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?S1(this):this.bb())},t.bb=function(){S1(this)};function S1(v){if(v.h&&typeof s<"u"&&(!v.v[1]||oa(v)!=4||v.Z()!=2)){if(v.u&&oa(v)==4)mt(v.Ea,0,v);else if(Qe(v,"readystatechange"),oa(v)==4){v.h=!1;try{const nt=v.Z();e:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var V;if(!(V=O)){var K;if(K=nt===0){var xe=String(v.D).match(We)[1]||null;!xe&&l.self&&l.self.location&&(xe=l.self.location.protocol.slice(0,-1)),K=!Qi.test(xe?xe.toLowerCase():"")}V=K}if(V)Qe(v,"complete"),Qe(v,"success");else{v.m=6;try{var ke=2<oa(v)?v.g.statusText:""}catch{ke=""}v.l=ke+" ["+v.Z()+"]",nc(v)}}finally{ic(v)}}}}function ic(v,O){if(v.g){c0(v);const V=v.g,K=v.v[0]?()=>{}:null;v.g=null,v.v=null,O||Qe(v,"ready");try{V.onreadystatechange=K}catch{}}}function c0(v){v.I&&(l.clearTimeout(v.I),v.I=null)}t.isActive=function(){return!!this.g};function oa(v){return v.g?v.g.readyState:0}t.Z=function(){try{return 2<oa(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(v){if(this.g){var O=this.g.responseText;return v&&O.indexOf(v)==0&&(O=O.substring(v.length)),Ht(O)}};function ku(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function T1(v){const O={};v=(v.g&&2<=oa(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<v.length;K++){if(k(v[K]))continue;var V=D(v[K]);const xe=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const ke=O[xe]||[];O[xe]=ke,ke.push(V)}E(O,function(K){return K.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ou(v,O,V){return V&&V.internalChannelParams&&V.internalChannelParams[v]||O}function A1(v){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ou("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ou("baseRetryDelayMs",5e3,v),this.cb=Ou("retryDelaySeedMs",1e4,v),this.Wa=Ou("forwardChannelMaxRetries",2,v),this.wa=Ou("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new zs(v&&v.concurrentRequestLimit),this.Da=new qs,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=A1.prototype,t.la=8,t.G=1,t.connect=function(v,O,V,K){Xt(0),this.W=v,this.H=O||{},V&&K!==void 0&&(this.H.OSID=V,this.H.OAID=K),this.F=this.X,this.I=I1(this,null,this.W),u0(this)};function Pf(v){if(E1(v),v.G==3){var O=v.U++,V=$t(v.I);if(Qt(V,"SID",v.K),Qt(V,"RID",O),Qt(V,"TYPE","terminate"),Iu(v,V),O=new Wi(v,v.j,O),O.L=2,O.v=Fs($t(V)),V=!1,l.navigator&&l.navigator.sendBeacon)try{V=l.navigator.sendBeacon(O.v.toString(),"")}catch{}!V&&l.Image&&(new Image().src=O.v,V=!0),V||(O.g=R1(O.j,null),O.g.ea(O.v)),O.F=Date.now(),Bt(O)}Uf(v)}function ac(v){v.g&&(Bf(v),v.g.cancel(),v.g=null)}function E1(v){ac(v),v.u&&(l.clearTimeout(v.u),v.u=null),sc(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&l.clearTimeout(v.s),v.s=null)}function u0(v){if(!Ho(v.h)&&!v.s){v.s=!0;var O=v.Ga;J||ce(),Y||(J(),Y=!0),ge.add(O,v),v.B=0}}function y4(v,O){return Au(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=O.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=Xr(y(v.Ga,v,O),O1(v,v.B)),v.B++,!0)}t.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const xe=new Wi(this,this.j,v);let ke=this.o;if(this.S&&(ke?(ke=A(ke),F(ke,this.S)):ke=this.S),this.m!==null||this.O||(xe.H=ke,ke=null),this.P)e:{for(var O=0,V=0;V<this.i.length;V++){t:{var K=this.i[V];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(O+=K,4096<O){O=V;break e}if(O===4096||V===this.i.length-1){O=V+1;break e}}O=1e3}else O=1e3;O=Df(this,xe,O),V=$t(this.I),Qt(V,"RID",v),Qt(V,"CVER",22),this.D&&Qt(V,"X-HTTP-Session-Id",this.D),Iu(this,V),ke&&(this.O?O="headers="+encodeURIComponent(String(Cu(ke)))+"&"+O:this.m&&rc(V,this.m,ke)),Vs(this.h,xe),this.Ua&&Qt(V,"TYPE","init"),this.P?(Qt(V,"$req",O),Qt(V,"SID","null"),xe.T=!0,yt(xe,V,null)):yt(xe,V,O),this.G=2}}else this.G==3&&(v?N1(this,v):this.i.length==0||Ho(this.h)||N1(this))};function N1(v,O){var V;O?V=O.l:V=v.U++;const K=$t(v.I);Qt(K,"SID",v.K),Qt(K,"RID",V),Qt(K,"AID",v.T),Iu(v,K),v.m&&v.o&&rc(K,v.m,v.o),V=new Wi(v,v.j,V,v.B+1),v.m===null&&(V.H=v.o),O&&(v.i=O.D.concat(v.i)),O=Df(v,V,1e3),V.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Vs(v.h,V),yt(V,K,O)}function Iu(v,O){v.H&&L(v.H,function(V,K){Qt(O,K,V)}),v.l&&Ie({},function(V,K){Qt(O,K,V)})}function Df(v,O,V){V=Math.min(v.i.length,V);var K=v.l?y(v.l.Na,v.l,v):null;e:{var xe=v.i;let ke=-1;for(;;){const nt=["count="+V];ke==-1?0<V?(ke=xe[0].g,nt.push("ofs="+ke)):ke=0:nt.push("ofs="+ke);let Er=!0;for(let Xn=0;Xn<V;Xn++){let rr=xe[Xn].g;const Si=xe[Xn].map;if(rr-=ke,0>rr)ke=Math.max(0,xe[Xn].g-100),Er=!1;else try{Mf(Si,nt,"req"+rr+"_")}catch{K&&K(Si)}}if(Er){K=nt.join("&");break e}}}return v=v.i.splice(0,V),O.D=v,K}function C1(v){if(!v.g&&!v.u){v.Y=1;var O=v.Fa;J||ce(),Y||(J(),Y=!0),ge.add(O,v),v.v=0}}function Lf(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=Xr(y(v.Fa,v),O1(v,v.v)),v.v++,!0)}t.Fa=function(){if(this.u=null,j1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Xr(y(this.ab,this),v)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),ac(this),j1(this))};function Bf(v){v.A!=null&&(l.clearTimeout(v.A),v.A=null)}function j1(v){v.g=new Wi(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var O=$t(v.qa);Qt(O,"RID","rpc"),Qt(O,"SID",v.K),Qt(O,"AID",v.T),Qt(O,"CI",v.F?"0":"1"),!v.F&&v.ja&&Qt(O,"TO",v.ja),Qt(O,"TYPE","xmlhttp"),Iu(v,O),v.m&&v.o&&rc(O,v.m,v.o),v.L&&(v.g.I=v.L);var V=v.g;v=v.ia,V.L=1,V.v=Fs($t(O)),V.m=null,V.P=!0,he(V,v)}t.Za=function(){this.C!=null&&(this.C=null,ac(this),Lf(this),Xt(19))};function sc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function k1(v,O){var V=null;if(v.g==O){sc(v),Bf(v),v.g=null;var K=2}else if($s(v.h,O))V=O.D,sa(v.h,O),K=1;else return;if(v.G!=0){if(O.o)if(K==1){V=O.m?O.m.length:0,O=Date.now()-O.F;var xe=v.B;K=Tn(),Qe(K,new bi(K,V)),u0(v)}else C1(v);else if(xe=O.s,xe==3||xe==0&&0<O.X||!(K==1&&y4(v,O)||K==2&&Lf(v)))switch(V&&0<V.length&&(O=v.h,O.i=O.i.concat(V)),xe){case 1:Xo(v,5);break;case 4:Xo(v,10);break;case 3:Xo(v,6);break;default:Xo(v,2)}}}function O1(v,O){let V=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(V*=2),V*O}function Xo(v,O){if(v.j.info("Error code "+O),O==2){var V=y(v.fb,v),K=v.Xa;const xe=!K;K=new Et(K||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||mr(K,"https"),Fs(K),xe?Rf(K.toString(),V):_1(K.toString(),V)}else Xt(2);v.G=0,v.l&&v.l.sa(O),Uf(v),E1(v)}t.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function Uf(v){if(v.G=0,v.ka=[],v.l){const O=xi(v.h);(O.length!=0||v.i.length!=0)&&(w(v.ka,O),w(v.ka,v.i),v.h.i.length=0,S(v.i),v.i.length=0),v.l.ra()}}function I1(v,O,V){var K=V instanceof Et?$t(V):new Et(V);if(K.g!="")O&&(K.g=O+"."+K.g),Un(K,K.s);else{var xe=l.location;K=xe.protocol,O=O?O+"."+xe.hostname:xe.hostname,xe=+xe.port;var ke=new Et(null);K&&mr(ke,K),O&&(ke.g=O),xe&&Un(ke,xe),V&&(ke.l=V),K=ke}return V=v.D,O=v.ya,V&&O&&Qt(K,V,O),Qt(K,"VER",v.la),Iu(v,K),K}function R1(v,O,V){if(O&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=v.Ca&&!v.pa?new dn(new mo({eb:V})):new dn(v.pa),O.Ha(v.J),O}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function M1(){}t=M1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function d0(){}d0.prototype.g=function(v,O){return new la(v,O)};function la(v,O){et.call(this),this.g=new A1(O),this.l=v,this.h=O&&O.messageUrlParams||null,v=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(v?v["X-WebChannel-Content-Type"]=O.messageContentType:v={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(v?v["X-WebChannel-Client-Profile"]=O.va:v={"X-WebChannel-Client-Profile":O.va}),this.g.S=v,(v=O&&O.Sb)&&!k(v)&&(this.g.m=v),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!k(O)&&(this.g.D=O,v=this.h,v!==null&&O in v&&(v=this.h,O in v&&delete v[O])),this.j=new oc(this)}T(la,et),la.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},la.prototype.close=function(){Pf(this.g)},la.prototype.o=function(v){var O=this.g;if(typeof v=="string"){var V={};V.__data__=v,v=V}else this.u&&(V={},V.__data__=qt(v),v=V);O.i.push(new fo(O.Ya++,v)),O.G==3&&u0(O)},la.prototype.N=function(){this.g.l=null,delete this.j,Pf(this.g),delete this.g,la.aa.N.call(this)};function P1(v){kr.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var O=v.__sm__;if(O){e:{for(const V in O){v=V;break e}v=void 0}(this.i=v)&&(v=this.i,O=O!==null&&v in O?O[v]:void 0),this.data=O}else this.data=v}T(P1,kr);function D1(){Ar.call(this),this.status=1}T(D1,Ar);function oc(v){this.g=v}T(oc,M1),oc.prototype.ua=function(){Qe(this.g,"a")},oc.prototype.ta=function(v){Qe(this.g,new P1(v))},oc.prototype.sa=function(v){Qe(this.g,new D1)},oc.prototype.ra=function(){Qe(this.g,"b")},d0.prototype.createWebChannel=d0.prototype.g,la.prototype.send=la.prototype.o,la.prototype.open=la.prototype.m,la.prototype.close=la.prototype.close,gV=function(){return new d0},mV=function(){return Tn()},pV=Mt,OT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,jv=Ir,an.COMPLETE="complete",fV=an,Mi.EventType=jr,jr.OPEN="a",jr.CLOSE="b",jr.ERROR="c",jr.MESSAGE="d",et.prototype.listen=et.prototype.K,Hp=Mi,dn.prototype.listenOnce=dn.prototype.L,dn.prototype.getLastError=dn.prototype.Ka,dn.prototype.getLastErrorCode=dn.prototype.Ba,dn.prototype.getStatus=dn.prototype.Z,dn.prototype.getResponseJson=dn.prototype.Oa,dn.prototype.getResponseText=dn.prototype.oa,dn.prototype.send=dn.prototype.ea,dn.prototype.setWithCredentials=dn.prototype.Ha,hV=dn}).apply(typeof Vy<"u"?Vy:typeof self<"u"?self:typeof window<"u"?window:{});const pO="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ta.UNAUTHENTICATED=new ta(null),ta.GOOGLE_CREDENTIALS=new ta("google-credentials-uid"),ta.FIRST_PARTY=new ta("first-party-uid"),ta.MOCK_USER=new ta("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Y8("@firebase/firestore");function Y0(){return jd.logLevel}function Ke(t,...e){if(jd.logLevel<=cr.DEBUG){const r=e.map(d7);jd.debug(`Firestore (${hf}): ${t}`,...r)}}function Fn(t,...e){if(jd.logLevel<=cr.ERROR){const r=e.map(d7);jd.error(`Firestore (${hf}): ${t}`,...r)}}function Am(t,...e){if(jd.logLevel<=cr.WARN){const r=e.map(d7);jd.warn(`Firestore (${hf}): ${t}`,...r)}}function d7(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t="Unexpected state"){const e=`FIRESTORE (${hf}) INTERNAL ASSERTION FAILED: `+t;throw Fn(e),new Error(e)}function St(t,e){t||vt()}function wt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends lo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(ta.UNAUTHENTICATED)))}shutdown(){}}class Ate{constructor(e){this.t=e,this.currentUser=ta.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){St(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let a=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ao,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},l=d=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((d=>l(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?l(d):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ao)}}),0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(St(typeof n.accessToken=="string"),new Ste(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new ta(e)}}class Ete{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=ta.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Nte{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new Ete(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(ta.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cte{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jte{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){St(this.o===void 0);const n=a=>{a.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Ke("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(St(typeof r.token=="string"),this.R=r.token,new Cte(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=kte(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Ft(t,e){return t<e?-1:t>e?1:0}function _h(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}function vV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new tt(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new tt(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new tt(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kn.fromMillis(Date.now())}static fromDate(e){return kn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new kn(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new kn(0,0))}static max(){return new At(new kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,r,n){r===void 0?r=0:r>e.length&&vt(),n===void 0?n=e.length-r:n>e.length-r&&vt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Em.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Em?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class br extends Em{construct(e,r,n){return new br(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new tt(Re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new br(r)}static emptyPath(){return new br([])}}const Ote=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends Em{construct(e,r,n){return new jn(e,r,n)}static isValidIdentifier(e){return Ote.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jn(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new tt(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new tt(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new tt(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(n+=l,i++):(a(),i++)}if(a(),s)throw new tt(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(r)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(br.fromString(e))}static fromName(e){return new dt(br.fromString(e).popFirst(5))}static empty(){return new dt(br.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&br.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return br.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new br(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function IT(t){return t.fields.find((e=>e.kind===2))}function ad(t){return t.fields.filter((e=>e.kind!==2))}Zv.UNKNOWN_ID=-1;class kv{constructor(e,r){this.fieldPath=e,this.kind=r}}class Nm{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Nm(0,us.min())}}function bV(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=At.fromTimestamp(n===1e9?new kn(r+1,0):new kn(r,n));return new us(i,dt.empty(),e)}function xV(t){return new us(t.readTime,t.key,-1)}class us{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new us(At.min(),dt.empty(),-1)}static max(){return new us(At.max(),dt.empty(),-1)}}function h7(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=dt.comparator(t.documentKey,e.documentKey),r!==0?r:Ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _V{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(t){if(t.code!==Re.FAILED_PRECONDITION||t.message!==wV)throw t;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ae(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Ae?r:Ae.resolve(r)}catch(r){return Ae.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Ae.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Ae.reject(r)}static resolve(e){return new Ae(((r,n)=>{r(e)}))}static reject(e){return new Ae(((r,n)=>{n(e)}))}static waitFor(e){return new Ae(((r,n)=>{let i=0,a=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++a,s&&a===i&&r()}),(d=>n(d)))})),s=!0,a===i&&r()}))}static or(e){let r=Ae.resolve(!1);for(const n of e)r=r.next((i=>i?Ae.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new Ae(((n,i)=>{const a=e.length,s=new Array(a);let l=0;for(let d=0;d<a;d++){const h=d;r(e[h]).next((p=>{s[h]=p,++l,l===a&&n(s)}),(p=>i(p)))}}))}static doWhile(e,r){return new Ae(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new ao,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new tm(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=f7(n.target.error);this.V.reject(new tm(e,i))}}static open(e,r,n,i){try{return new Fx(r,e.transaction(i,n))}catch(a){throw new tm(r,a)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Rte(r)}}class ru{constructor(e,r,n){this.name=e,this.version=r,this.p=n,ru.S(mi())===12.2&&Fn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ke("SimpleDb","Removing database:",e),cd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!N$())return!1;if(ru.v())return!0;const e=mi(),r=ru.S(e),n=0<r&&r<10,i=SV(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||a)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Ke("SimpleDb","Opening database:",this.name),this.db=await new Promise(((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const s=a.target.result;r(s)},i.onblocked=()=>{n(new tm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const s=a.target.error;s.name==="VersionError"?n(new tt(Re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?n(new tt(Re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):n(new tm(e,s))},i.onupgradeneeded=a=>{Ke("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const s=a.target.result;this.p.O(s,i.transaction,a.oldVersion,this.version).next((()=>{Ke("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const a=r==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const l=Fx.open(this.db,e,a?"readonly":"readwrite",n),d=i(l).next((h=>(l.g(),h))).catch((h=>(l.abort(h),Ae.reject(h)))).toPromise();return d.catch((()=>{})),await l.m,d}catch(l){const d=l,h=d.name!=="FirebaseError"&&s<3;if(Ke("SimpleDb","Transaction failed with error:",d.message,"Retrying:",h),this.close(),!h)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function SV(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Ite{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return cd(this.B.delete())}}class tm extends tt{constructor(e,r){super(Re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function mu(t){return t.name==="IndexedDbTransactionError"}class Rte{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(Ke("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),cd(n)}add(e){return Ke("SimpleDb","ADD",this.store.name,e,e),cd(this.store.add(e))}get(e){return cd(this.store.get(e)).next((r=>(r===void 0&&(r=null),Ke("SimpleDb","GET",this.store.name,e,r),r)))}delete(e){return Ke("SimpleDb","DELETE",this.store.name,e),cd(this.store.delete(e))}count(){return Ke("SimpleDb","COUNT",this.store.name),cd(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(n.range);return new Ae(((s,l)=>{a.onerror=d=>{l(d.target.error)},a.onsuccess=d=>{s(d.target.result)}}))}{const a=this.cursor(n),s=[];return this.W(a,((l,d)=>{s.push(d)})).next((()=>s))}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new Ae(((i,a)=>{n.onerror=s=>{a(s.target.error)},n.onsuccess=s=>{i(s.target.result)}}))}j(e,r){Ke("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,((a,s,l)=>l.delete()))}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new Ae(((n,i)=>{r.onerror=a=>{const s=f7(a.target.error);i(s)},r.onsuccess=a=>{const s=a.target.result;s?e(s.primaryKey,s.value).next((l=>{l?s.continue():n()})):n()}}))}W(e,r){const n=[];return new Ae(((i,a)=>{e.onerror=s=>{a(s.target.error)},e.onsuccess=s=>{const l=s.target.result;if(!l)return void i();const d=new Ite(l),h=r(l.primaryKey,l.value,d);if(h instanceof Ae){const p=h.catch((m=>(d.done(),Ae.reject(m))));n.push(p)}d.isDone?i():d.K===null?l.continue():l.continue(d.K)}})).next((()=>Ae.waitFor(n)))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function cd(t){return new Ae(((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=f7(n.target.error);r(i)}}))}let mO=!1;function f7(t){const e=ru.S(mi());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mO||(mO=!0,setTimeout((()=>{throw n}),0)),n}}return t}class Mte{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Ke("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Ke("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){mu(r)?Ke("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await pu(r)}await this.X(6e4)}))}}class Pte{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(r=>this.te(r,e)))}te(e,r){const n=new Set;let i=r,a=!0;return Ae.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((s=>{if(s!==null&&!n.has(s))return Ke("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next((l=>{i-=l,n.add(s)}));a=!1})))).next((()=>r-i))}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next((i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next((a=>{const s=a.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next((()=>this.re(i,a))).next((l=>(Ke("IndexBackfiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,r,l)))).next((()=>s.size))}))))}re(e,r){let n=e;return r.changes.forEach(((i,a)=>{const s=xV(a);h7(s,n)>0&&(n=s)})),new us(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Da.oe=-1;function $g(t){return t==null}function Cm(t){return t===0&&1/t==-1/0}function TV(t){return typeof t=="number"&&Number.isInteger(t)&&!Cm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=gO(e)),e=Dte(t.get(r),e);return gO(e)}function Dte(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case"":r+="";break;default:r+=a}}return r}function gO(t){return t+""}function So(t){const e=t.length;if(St(e>=2),e===2)return St(t.charAt(0)===""&&t.charAt(1)===""),br.emptyPath();const r=e-2,n=[];let i="";for(let a=0;a<e;){const s=t.indexOf("",a);switch((s<0||s>r)&&vt(),t.charAt(s+1)){case"":const l=t.substring(a,s);let d;i.length===0?d=l:(i+=l,d=i,i=""),n.push(d);break;case"":i+=t.substring(a,s),i+="\0";break;case"":i+=t.substring(a,s+1);break;default:vt()}a=s+2}return new br(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t,e){return[t,ya(e)]}function AV(t,e,r){return[t,ya(e),r]}const Lte={},Bte=["prefixPath","collectionGroup","readTime","documentId"],Ute=["prefixPath","collectionGroup","documentId"],zte=["collectionGroup","readTime","prefixPath","documentId"],$te=["canonicalId","targetId"],Vte=["targetId","path"],Fte=["path","targetId"],qte=["collectionId","parent"],Hte=["indexId","uid"],Gte=["uid","sequenceNumber"],Kte=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Wte=["indexId","uid","orderedDocumentKey"],Xte=["userId","collectionPath","documentId"],Qte=["userId","collectionPath","largestBatchId"],Yte=["userId","collectionGroup","largestBatchId"],EV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zte=[...EV,"documentOverlays"],NV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CV=NV,p7=[...CV,"indexConfiguration","indexState","indexEntries"],Jte=p7,ere=[...p7,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends _V{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function yi(t,e){const r=wt(t);return ru.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Yd(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function jV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,r){this.comparator=e,this.root=r||$i.EMPTY}insert(e,r){return new un(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$i.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fy(this.root,e,this.comparator,!0)}}class Fy{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $i{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??$i.RED,this.left=i??$i.EMPTY,this.right=a??$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new $i(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return $i.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1;$i.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(e,r,n,i,a){return this}insert(e,r,n){return new $i(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new bO(this.data.getIterator())}getIteratorFrom(e){return new bO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Kr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Kr(this.comparator);return r.data=e,r}}class bO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function z0(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new La([])}unionWith(e){let r=new Kr(jn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new La(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return _h(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new kV("Invalid base64 string: "+a):a}})(e);return new Kn(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Kn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const tre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bl(t){if(St(!!t),typeof t=="string"){let e=0;const r=tre.exec(t);if(St(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:bn(t.seconds),nanos:bn(t.nanos)}}function bn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ou(t){return typeof t=="string"?Kn.fromBase64String(t):Kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function g7(t){const e=t.mapValue.fields.__previous_value__;return m7(e)?g7(e):e}function jm(t){const e=Bl(t.mapValue.fields.__local_write_time__.timestampValue);return new kn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(e,r,n,i,a,s,l,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=h}}class kd{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new kd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Iv={nullValue:"NULL_VALUE"};function Od(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m7(t)?4:OV(t)?9007199254740991:qx(t)?10:11:vt()}function Ro(t,e){if(t===e)return!0;const r=Od(t);if(r!==Od(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jm(t).isEqual(jm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Bl(i.timestampValue),l=Bl(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ou(i.bytesValue).isEqual(ou(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return bn(i.geoPointValue.latitude)===bn(a.geoPointValue.latitude)&&bn(i.geoPointValue.longitude)===bn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return bn(i.integerValue)===bn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=bn(i.doubleValue),l=bn(a.doubleValue);return s===l?Cm(s)===Cm(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return _h(t.arrayValue.values||[],e.arrayValue.values||[],Ro);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(vO(s)!==vO(l))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(l[d]===void 0||!Ro(s[d],l[d])))return!1;return!0})(t,e);default:return vt()}}function km(t,e){return(t.values||[]).find((r=>Ro(r,e)))!==void 0}function lu(t,e){if(t===e)return 0;const r=Od(t),n=Od(e);if(r!==n)return Ft(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ft(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const l=bn(a.integerValue||a.doubleValue),d=bn(s.integerValue||s.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1})(t,e);case 3:return xO(t.timestampValue,e.timestampValue);case 4:return xO(jm(t),jm(e));case 5:return Ft(t.stringValue,e.stringValue);case 6:return(function(a,s){const l=ou(a),d=ou(s);return l.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const l=a.split("/"),d=s.split("/");for(let h=0;h<l.length&&h<d.length;h++){const p=Ft(l[h],d[h]);if(p!==0)return p}return Ft(l.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const l=Ft(bn(a.latitude),bn(s.latitude));return l!==0?l:Ft(bn(a.longitude),bn(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return wO(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var l,d,h,p;const m=a.fields||{},y=s.fields||{},b=(l=m.value)===null||l===void 0?void 0:l.arrayValue,T=(d=y.value)===null||d===void 0?void 0:d.arrayValue,S=Ft(((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:wO(b,T)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===Gc.mapValue&&s===Gc.mapValue)return 0;if(a===Gc.mapValue)return 1;if(s===Gc.mapValue)return-1;const l=a.fields||{},d=Object.keys(l),h=s.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let m=0;m<d.length&&m<p.length;++m){const y=Ft(d[m],p[m]);if(y!==0)return y;const b=lu(l[d[m]],h[p[m]]);if(b!==0)return b}return Ft(d.length,p.length)})(t.mapValue,e.mapValue);default:throw vt()}}function xO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ft(t,e);const r=Bl(t),n=Bl(e),i=Ft(r.seconds,n.seconds);return i!==0?i:Ft(r.nanos,n.nanos)}function wO(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=lu(r[i],n[i]);if(a)return a}return Ft(r.length,n.length)}function Sh(t){return MT(t)}function MT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Bl(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return ou(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return dt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=MT(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${MT(r.fields[s])}`;return i+"}"})(t.mapValue):vt()}function Om(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function PT(t){return!!t&&"integerValue"in t}function Im(t){return!!t&&"arrayValue"in t}function _O(t){return!!t&&"nullValue"in t}function SO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rv(t){return!!t&&"mapValue"in t}function qx(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function rm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yd(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=rm(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=rm(t.arrayValue.values[r]);return e}return Object.assign({},t)}function OV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const IV={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function nre(t){return"nullValue"in t?Iv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Om(kd.empty(),dt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?qx(t)?IV:{mapValue:{}}:vt()}function ire(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Om(kd.empty(),dt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?IV:"mapValue"in t?qx(t)?{mapValue:{}}:Gc:vt()}function TO(t,e){const r=lu(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function AO(t,e){const r=lu(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.value=e}static empty(){return new qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Rv(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=rm(r)}setAll(e){let r=jn.emptyPath(),n={},i=[];e.forEach(((s,l)=>{if(!r.isImmediateParentOf(l)){const d=this.getFieldsMap(r);this.applyChanges(d,n,i),n={},i=[],r=l.popLast()}s?n[l.lastSegment()]=rm(s):i.push(l.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Rv(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ro(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Rv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Yd(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new qi(rm(this.value))}}function RV(t){const e=[];return Yd(t.fields,((r,n)=>{const i=new jn([r]);if(Rv(n)){const a=RV(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new La(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,r,n,i,a,s,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new xn(e,0,At.min(),At.min(),At.min(),qi.empty(),0)}static newFoundDocument(e,r,n,i){return new xn(e,1,r,At.min(),n,i,0)}static newNoDocument(e,r){return new xn(e,2,r,At.min(),At.min(),qi.empty(),0)}static newUnknownDocument(e,r){return new xn(e,3,r,At.min(),At.min(),qi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,r){this.position=e,this.inclusive=r}}function EO(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=dt.comparator(dt.fromName(s.referenceValue),r.key):n=lu(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function NO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ro(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,r="asc"){this.field=e,this.dir=r}}function are(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MV=class{};class ur extends MV{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new sre(e,r,n):r==="array-contains"?new cre(e,n):r==="in"?new zV(e,n):r==="not-in"?new ure(e,n):r==="array-contains-any"?new dre(e,n):new ur(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new ore(e,n):new lre(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(lu(r,this.value)):r!==null&&Od(this.value)===Od(r)&&this.matchesComparison(lu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends MV{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Lr(e,r)}matches(e){return Ah(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ah(t){return t.op==="and"}function DT(t){return t.op==="or"}function y7(t){return PV(t)&&Ah(t)}function PV(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function LT(t){if(t instanceof ur)return t.field.canonicalString()+t.op.toString()+Sh(t.value);if(y7(t))return t.filters.map((e=>LT(e))).join(",");{const e=t.filters.map((r=>LT(r))).join(",");return`${t.op}(${e})`}}function DV(t,e){return t instanceof ur?(function(n,i){return i instanceof ur&&n.op===i.op&&n.field.isEqual(i.field)&&Ro(n.value,i.value)})(t,e):t instanceof Lr?(function(n,i){return i instanceof Lr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,s,l)=>a&&DV(s,i.filters[l])),!0):!1})(t,e):void vt()}function LV(t,e){const r=t.filters.concat(e);return Lr.create(r,t.op)}function BV(t){return t instanceof ur?(function(r){return`${r.field.canonicalString()} ${r.op} ${Sh(r.value)}`})(t):t instanceof Lr?(function(r){return r.op.toString()+" {"+r.getFilters().map(BV).join(" ,")+"}"})(t):"Filter"}class sre extends ur{constructor(e,r,n){super(e,r,n),this.key=dt.fromName(n.referenceValue)}matches(e){const r=dt.comparator(e.key,this.key);return this.matchesComparison(r)}}class ore extends ur{constructor(e,r){super(e,"in",r),this.keys=UV("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class lre extends ur{constructor(e,r){super(e,"not-in",r),this.keys=UV("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function UV(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>dt.fromName(n.referenceValue)))}class cre extends ur{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Im(r)&&km(r.arrayValue,this.value)}}class zV extends ur{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&km(this.value.arrayValue,r)}}class ure extends ur{constructor(e,r){super(e,"not-in",r)}matches(e){if(km(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!km(this.value.arrayValue,r)}}class dre extends ur{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Im(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>km(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hre{constructor(e,r=null,n=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.ue=null}}function BT(t,e=null,r=[],n=[],i=null,a=null,s=null){return new hre(t,e,r,n,i,a,s)}function Id(t){const e=wt(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>LT(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),$g(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Sh(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Sh(n))).join(",")),e.ue=r}return e.ue}function Vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!are(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!DV(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NO(t.startAt,e.startAt)&&NO(t.endAt,e.endAt)}function Jv(t){return dt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function eb(t,e){return t.filters.filter((r=>r instanceof ur&&r.field.isEqual(e)))}function CO(t,e,r){let n=Iv,i=!0;for(const a of eb(t,e)){let s=Iv,l=!0;switch(a.op){case"<":case"<=":s=nre(a.value);break;case"==":case"in":case">=":s=a.value;break;case">":s=a.value,l=!1;break;case"!=":case"not-in":s=Iv}TO({value:n,inclusive:i},{value:s,inclusive:l})<0&&(n=s,i=l)}if(r!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=r.position[a];TO({value:n,inclusive:i},{value:s,inclusive:r.inclusive})<0&&(n=s,i=r.inclusive);break}}return{value:n,inclusive:i}}function jO(t,e,r){let n=Gc,i=!0;for(const a of eb(t,e)){let s=Gc,l=!0;switch(a.op){case">=":case">":s=ire(a.value),l=!1;break;case"==":case"in":case"<=":s=a.value;break;case"<":s=a.value,l=!1;break;case"!=":case"not-in":s=Gc}AO({value:n,inclusive:i},{value:s,inclusive:l})>0&&(n=s,i=l)}if(r!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=r.position[a];AO({value:n,inclusive:i},{value:s,inclusive:r.inclusive})>0&&(n=s,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,r=null,n=[],i=[],a=null,s="F",l=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $V(t,e,r,n,i,a,s,l){return new ff(t,e,r,n,i,a,s,l)}function Fg(t){return new ff(t)}function kO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VV(t){return t.collectionGroup!==null}function nm(t){const e=wt(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Kr(jn.comparator);return s.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Rm(a,n))})),r.has(jn.keyField().canonicalString())||e.ce.push(new Rm(jn.keyField(),n))}return e.ce}function ss(t){const e=wt(t);return e.le||(e.le=fre(e,nm(t))),e.le}function fre(t,e){if(t.limitType==="F")return BT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Rm(i.field,a)}));const r=t.endAt?new Th(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Th(t.startAt.position,t.startAt.inclusive):null;return BT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function UT(t,e){const r=t.filters.concat([e]);return new ff(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function tb(t,e,r){return new ff(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Hx(t,e){return Vg(ss(t),ss(e))&&t.limitType===e.limitType}function FV(t){return`${Id(ss(t))}|lt:${t.limitType}`}function Z0(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>BV(i))).join(", ")}]`),$g(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>Sh(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>Sh(i))).join(",")),`Target(${n})`})(ss(t))}; limitType=${t.limitType})`}function qg(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):dt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of nm(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(s,l,d){const h=EO(s,l,d);return s.inclusive?h<=0:h<0})(n.startAt,nm(n),i)||n.endAt&&!(function(s,l,d){const h=EO(s,l,d);return s.inclusive?h>=0:h>0})(n.endAt,nm(n),i))})(t,e)}function qV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HV(t){return(e,r)=>{let n=!1;for(const i of nm(t)){const a=pre(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function pre(t,e,r){const n=t.field.isKeyField()?dt.comparator(e.key,r.key):(function(a,s,l){const d=s.data.field(a),h=l.data.field(a);return d!==null&&h!==null?lu(d,h):vt()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yd(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return jV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mre=new un(dt.comparator);function ns(){return mre}const GV=new un(dt.comparator);function Gp(...t){let e=GV;for(const r of t)e=e.insert(r.key,r);return e}function KV(t){let e=GV;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function To(){return im()}function WV(){return im()}function im(){return new gu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const gre=new un(dt.comparator),yre=new Kr(dt.comparator);function ir(...t){let e=yre;for(const r of t)e=e.add(r);return e}const vre=new Kr(Ft);function v7(){return vre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cm(e)?"-0":e}}function XV(t){return{integerValue:""+t}}function bre(t,e){return TV(e)?XV(e):b7(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this._=void 0}}function xre(t,e,r){return t instanceof Mm?(function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&m7(a)&&(a=g7(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}})(r,e):t instanceof Rd?YV(t,e):t instanceof Eh?ZV(t,e):(function(i,a){const s=QV(i,a),l=OO(s)+OO(i.Pe);return PT(s)&&PT(i.Pe)?XV(l):b7(i.serializer,l)})(t,e)}function wre(t,e,r){return t instanceof Rd?YV(t,e):t instanceof Eh?ZV(t,e):r}function QV(t,e){return t instanceof Pm?(function(n){return PT(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class Mm extends Gx{}class Rd extends Gx{constructor(e){super(),this.elements=e}}function YV(t,e){const r=JV(e);for(const n of t.elements)r.some((i=>Ro(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Eh extends Gx{constructor(e){super(),this.elements=e}}function ZV(t,e){let r=JV(e);for(const n of t.elements)r=r.filter((i=>!Ro(i,n)));return{arrayValue:{values:r}}}class Pm extends Gx{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function OO(t){return bn(t.integerValue||t.doubleValue)}function JV(t){return Im(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,r){this.field=e,this.transform=r}}function _re(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Rd&&i instanceof Rd||n instanceof Eh&&i instanceof Eh?_h(n.elements,i.elements,Ro):n instanceof Pm&&i instanceof Pm?Ro(n.Pe,i.Pe):n instanceof Mm&&i instanceof Mm})(t.transform,e.transform)}class Sre{constructor(e,r){this.version=e,this.transformResults=r}}class qn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kx{}function tF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hg(t.key,qn.none()):new pf(t.key,t.data,qn.none());{const r=t.data,n=qi.empty();let i=new Kr(jn.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Xl(t.key,n,new La(i.toArray()),qn.none())}}function Tre(t,e,r){t instanceof pf?(function(i,a,s){const l=i.value.clone(),d=RO(i.fieldTransforms,a,s.transformResults);l.setAll(d),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,r):t instanceof Xl?(function(i,a,s){if(!Mv(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=RO(i.fieldTransforms,a,s.transformResults),d=a.data;d.setAll(rF(i)),d.setAll(l),a.convertToFoundDocument(s.version,d).setHasCommittedMutations()})(t,e,r):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,r)}function am(t,e,r,n){return t instanceof pf?(function(a,s,l,d){if(!Mv(a.precondition,s))return l;const h=a.value.clone(),p=MO(a.fieldTransforms,d,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null})(t,e,r,n):t instanceof Xl?(function(a,s,l,d){if(!Mv(a.precondition,s))return l;const h=MO(a.fieldTransforms,d,s),p=s.data;return p.setAll(rF(a)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(t,e,r,n):(function(a,s,l){return Mv(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,r)}function Are(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=QV(n.transform,i||null);a!=null&&(r===null&&(r=qi.empty()),r.set(n.field,a))}return r||null}function IO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&_h(n,i,((a,s)=>_re(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pf extends Kx{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xl extends Kx{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rF(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function RO(t,e,r){const n=new Map;St(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);n.set(a.field,wre(s,l,r[i]))}return n}function MO(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,xre(a,s,e))}return n}class Hg extends Kx{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x7 extends Kx{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Tre(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=am(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=am(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=WV();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=r.has(i.key)?null:l;const d=tF(s,l);d!==null&&n.set(i.key,d),s.isValidDocument()||s.convertToNoDocument(At.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),ir())}isEqual(e){return this.batchId===e.batchId&&_h(this.mutations,e.mutations,((r,n)=>IO(r,n)))&&_h(this.baseMutations,e.baseMutations,((r,n)=>IO(r,n)))}}class _7{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){St(e.mutations.length===n.length);let i=(function(){return gre})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new _7(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ere{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti,hr;function nF(t){switch(t){default:return vt();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0}}function iF(t){if(t===void 0)return Fn("GRPC error has no .code"),Re.UNKNOWN;switch(t){case ti.OK:return Re.OK;case ti.CANCELLED:return Re.CANCELLED;case ti.UNKNOWN:return Re.UNKNOWN;case ti.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case ti.INTERNAL:return Re.INTERNAL;case ti.UNAVAILABLE:return Re.UNAVAILABLE;case ti.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case ti.NOT_FOUND:return Re.NOT_FOUND;case ti.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case ti.ABORTED:return Re.ABORTED;case ti.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case ti.DATA_LOSS:return Re.DATA_LOSS;default:return vt()}}(hr=ti||(ti={}))[hr.OK=0]="OK",hr[hr.CANCELLED=1]="CANCELLED",hr[hr.UNKNOWN=2]="UNKNOWN",hr[hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hr[hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hr[hr.NOT_FOUND=5]="NOT_FOUND",hr[hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",hr[hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",hr[hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",hr[hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hr[hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hr[hr.ABORTED=10]="ABORTED",hr[hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",hr[hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",hr[hr.INTERNAL=13]="INTERNAL",hr[hr.UNAVAILABLE=14]="UNAVAILABLE",hr[hr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nre(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cre=new Sd([4294967295,4294967295],0);function PO(t){const e=Nre().encode(t),r=new dV;return r.update(e),new Uint8Array(r.digest())}function DO(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Sd([r,n],0),new Sd([i,a],0)]}class T7{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Kp(`Invalid padding: ${r}`);if(n<0)throw new Kp(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Kp(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Kp(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Sd.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Sd.fromNumber(n)));return i.compare(Cre)===1&&(i=new Sd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=PO(e),[n,i]=DO(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new T7(a,i,r);return n.forEach((l=>s.insert(l))),s}insert(e){if(this.Ie===0)return;const r=PO(e),[n,i]=DO(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Kp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Kg.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Gg(At.min(),i,new un(Ft),ns(),ir())}}class Kg{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Kg(n,r,ir(),ir(),ir())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class aF{constructor(e,r){this.targetId=e,this.me=r}}class sF{constructor(e,r,n=Kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class LO{constructor(){this.fe=0,this.ge=UO(),this.pe=Kn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ir(),r=ir(),n=ir();return this.ge.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:vt()}})),new Kg(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=UO()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,St(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jre{constructor(e){this.Le=e,this.Be=new Map,this.ke=ns(),this.qe=BO(),this.Qe=new un(Ft)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,(r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:vt()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach(((n,i)=>{this.ze(i)&&r(i)}))}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(Jv(a))if(n===0){const s=new dt(a.path);this.Ue(r,s,xn.newNoDocument(s,At.min()))}else St(n===1);else{const s=this.Ye(r);if(s!==n){const l=this.Ze(e),d=l?this.Xe(l,e,s):1;if(d!==0){this.je(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,h)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,l;try{s=ou(n).toUint8Array()}catch(d){if(d instanceof kV)return Am("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new T7(s,i,a)}catch(d){return Am(d instanceof Kp?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.Ie===0?null:l}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Ue(r,a,null),i++)})),i}rt(e){const r=new Map;this.Be.forEach(((a,s)=>{const l=this.Je(s);if(l){if(a.current&&Jv(l.target)){const d=new dt(l.target.path);this.ke.get(d)!==null||this.it(s,d)||this.Ue(s,d,xn.newNoDocument(d,e))}a.be&&(r.set(s,a.ve()),a.Ce())}}));let n=ir();this.qe.forEach(((a,s)=>{let l=!0;s.forEachWhile((d=>{const h=this.Je(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(a))})),this.ke.forEach(((a,s)=>s.setReadTime(e)));const i=new Gg(e,r,this.Qe,this.ke,n);return this.ke=ns(),this.qe=BO(),this.Qe=new un(Ft),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new LO,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Kr(Ft),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ke("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new LO),this.Le.getRemoteKeysForTarget(e).forEach((r=>{this.Ue(e,r,null)}))}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function BO(){return new un(dt.comparator)}function UO(){return new un(dt.comparator)}const kre={asc:"ASCENDING",desc:"DESCENDING"},Ore={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ire={and:"AND",or:"OR"};class Rre{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function zT(t,e){return t.useProto3Json||$g(e)?e:{value:e}}function Nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Mre(t,e){return Nh(t,e.toTimestamp())}function ki(t){return St(!!t),At.fromTimestamp((function(r){const n=Bl(r);return new kn(n.seconds,n.nanos)})(t))}function A7(t,e){return $T(t,e).canonicalString()}function $T(t,e){const r=(function(i){return new br(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function lF(t){const e=br.fromString(t);return St(yF(e)),e}function Dm(t,e){return A7(t.databaseId,e.path)}function Cl(t,e){const r=lF(e);if(r.get(1)!==t.databaseId.projectId)throw new tt(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new tt(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new dt(dF(r))}function cF(t,e){return A7(t.databaseId,e)}function uF(t){const e=lF(t);return e.length===4?br.emptyPath():dF(e)}function VT(t){return new br(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dF(t){return St(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zO(t,e,r){return{name:Dm(t,e),fields:r.value.mapValue.fields}}function Pre(t,e,r){const n=Cl(t,e.name),i=ki(e.updateTime),a=e.createTime?ki(e.createTime):At.min(),s=new qi({mapValue:{fields:e.fields}}),l=xn.newFoundDocument(n,i,a,s);return r&&l.setHasCommittedMutations(),r?l.setHasCommittedMutations():l}function Dre(t,e){return"found"in e?(function(n,i){St(!!i.found),i.found.name,i.found.updateTime;const a=Cl(n,i.found.name),s=ki(i.found.updateTime),l=i.found.createTime?ki(i.found.createTime):At.min(),d=new qi({mapValue:{fields:i.found.fields}});return xn.newFoundDocument(a,s,l,d)})(t,e):"missing"in e?(function(n,i){St(!!i.missing),St(!!i.readTime);const a=Cl(n,i.missing),s=ki(i.readTime);return xn.newNoDocument(a,s)})(t,e):vt()}function Lre(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:vt()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,p){return h.useProto3Json?(St(p===void 0||typeof p=="string"),Kn.fromBase64String(p||"")):(St(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Kn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(h){const p=h.code===void 0?Re.UNKNOWN:iF(h.code);return new tt(p,h.message||"")})(s);r=new sF(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Cl(t,n.document.name),a=ki(n.document.updateTime),s=n.document.createTime?ki(n.document.createTime):At.min(),l=new qi({mapValue:{fields:n.document.fields}}),d=xn.newFoundDocument(i,a,s,l),h=n.targetIds||[],p=n.removedTargetIds||[];r=new Pv(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Cl(t,n.document),a=n.readTime?ki(n.readTime):At.min(),s=xn.newNoDocument(i,a),l=n.removedTargetIds||[];r=new Pv([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Cl(t,n.document),a=n.removedTargetIds||[];r=new Pv([],a,i,null)}else{if(!("filter"in e))return vt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new Ere(i,a),l=n.targetId;r=new aF(l,s)}}return r}function Lm(t,e){let r;if(e instanceof pf)r={update:zO(t,e.key,e.value)};else if(e instanceof Hg)r={delete:Dm(t,e.key)};else if(e instanceof Xl)r={update:zO(t,e.key,e.data),updateMask:Fre(e.fieldMask)};else{if(!(e instanceof x7))return vt();r={verify:Dm(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,s){const l=s.transform;if(l instanceof Mm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Rd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Eh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Pm)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw vt()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Mre(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:vt()})(t,e.precondition)),r}function FT(t,e){const r=e.currentDocument?(function(a){return a.updateTime!==void 0?qn.updateTime(ki(a.updateTime)):a.exists!==void 0?qn.exists(a.exists):qn.none()})(e.currentDocument):qn.none(),n=e.updateTransforms?e.updateTransforms.map((i=>(function(s,l){let d=null;if("setToServerValue"in l)St(l.setToServerValue==="REQUEST_TIME"),d=new Mm;else if("appendMissingElements"in l){const p=l.appendMissingElements.values||[];d=new Rd(p)}else if("removeAllFromArray"in l){const p=l.removeAllFromArray.values||[];d=new Eh(p)}else"increment"in l?d=new Pm(s,l.increment):vt();const h=jn.fromServerFormat(l.fieldPath);return new eF(h,d)})(t,i))):[];if(e.update){e.update.name;const i=Cl(t,e.update.name),a=new qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=(function(d){const h=d.fieldPaths||[];return new La(h.map((p=>jn.fromServerFormat(p))))})(e.updateMask);return new Xl(i,a,s,r,n)}return new pf(i,a,r,n)}if(e.delete){const i=Cl(t,e.delete);return new Hg(i,r)}if(e.verify){const i=Cl(t,e.verify);return new x7(i,r)}return vt()}function Bre(t,e){return t&&t.length>0?(St(e!==void 0),t.map((r=>(function(i,a){let s=i.updateTime?ki(i.updateTime):ki(a);return s.isEqual(At.min())&&(s=ki(a)),new Sre(s,i.transformResults||[])})(r,e)))):[]}function hF(t,e){return{documents:[cF(t,e.path)]}}function fF(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=cF(t,i);const a=(function(h){if(h.length!==0)return gF(Lr.create(h,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const s=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:J0(y.field),direction:zre(y.dir)}})(p)))})(e.orderBy);s&&(r.structuredQuery.orderBy=s);const l=zT(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{_t:r,parent:i}}function pF(t){let e=uF(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){St(n===1);const p=r.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=(function(m){const y=mF(m);return y instanceof Lr&&y7(y)?y.getFilters():[y]})(r.where));let s=[];r.orderBy&&(s=(function(m){return m.map((y=>(function(T){return new Rm(eh(T.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(y)))})(r.orderBy));let l=null;r.limit&&(l=(function(m){let y;return y=typeof m=="object"?m.value:m,$g(y)?null:y})(r.limit));let d=null;r.startAt&&(d=(function(m){const y=!!m.before,b=m.values||[];return new Th(b,y)})(r.startAt));let h=null;return r.endAt&&(h=(function(m){const y=!m.before,b=m.values||[];return new Th(b,y)})(r.endAt)),$V(e,i,s,a,l,"F",d,h)}function Ure(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function mF(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=eh(r.unaryFilter.field);return ur.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=eh(r.unaryFilter.field);return ur.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=eh(r.unaryFilter.field);return ur.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=eh(r.unaryFilter.field);return ur.create(s,"!=",{nullValue:"NULL_VALUE"});default:return vt()}})(t):t.fieldFilter!==void 0?(function(r){return ur.create(eh(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Lr.create(r.compositeFilter.filters.map((n=>mF(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return vt()}})(r.compositeFilter.op))})(t):vt()}function zre(t){return kre[t]}function $re(t){return Ore[t]}function Vre(t){return Ire[t]}function J0(t){return{fieldPath:t.canonicalString()}}function eh(t){return jn.fromServerFormat(t.fieldPath)}function gF(t){return t instanceof ur?(function(r){if(r.op==="=="){if(SO(r.value))return{unaryFilter:{field:J0(r.field),op:"IS_NAN"}};if(_O(r.value))return{unaryFilter:{field:J0(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(SO(r.value))return{unaryFilter:{field:J0(r.field),op:"IS_NOT_NAN"}};if(_O(r.value))return{unaryFilter:{field:J0(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:J0(r.field),op:$re(r.op),value:r.value}}})(t):t instanceof Lr?(function(r){const n=r.getFilters().map((i=>gF(i)));return n.length===1?n[0]:{compositeFilter:{op:Vre(r.op),filters:n}}})(t):vt()}function Fre(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function yF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,r,n,i,a=At.min(),s=At.min(),l=Kn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new Tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Tl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.ct=e}}function qre(t,e){let r;if(e.document)r=Pre(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=dt.fromSegments(e.noDocument.path),i=Pd(e.noDocument.readTime);r=xn.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return vt();{const n=dt.fromSegments(e.unknownDocument.path),i=Pd(e.unknownDocument.version);r=xn.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime((function(i){const a=new kn(i[0],i[1]);return At.fromTimestamp(a)})(e.readTime)),r}function $O(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:rb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=(function(a,s){return{name:Dm(a,s.key),fields:s.data.value.mapValue.fields,updateTime:Nh(a,s.version.toTimestamp()),createTime:Nh(a,s.createTime.toTimestamp())}})(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:Md(e.version)};else{if(!e.isUnknownDocument())return vt();n.unknownDocument={path:r.path.toArray(),version:Md(e.version)}}return n}function rb(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Md(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pd(t){const e=new kn(t.seconds,t.nanoseconds);return At.fromTimestamp(e)}function ud(t,e){const r=(e.baseMutations||[]).map((a=>FT(t.ct,a)));for(let a=0;a<e.mutations.length-1;++a){const s=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const l=e.mutations[a+1];s.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const n=e.mutations.map((a=>FT(t.ct,a))),i=kn.fromMillis(e.localWriteTimeMs);return new w7(e.batchId,i,r,n)}function Wp(t){const e=Pd(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?Pd(t.lastLimboFreeSnapshotVersion):At.min();let n;return n=(function(a){return a.documents!==void 0})(t.query)?(function(a){return St(a.documents.length===1),ss(Fg(uF(a.documents[0])))})(t.query):(function(a){return ss(pF(a))})(t.query),new Tl(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Kn.fromBase64String(t.resumeToken))}function bF(t,e){const r=Md(e.snapshotVersion),n=Md(e.lastLimboFreeSnapshotVersion);let i;i=Jv(e.target)?hF(t.ct,e.target):fF(t.ct,e.target)._t;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Id(e.target),readTime:r,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function xF(t){const e=pF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tb(e,e.limit,"L"):e}function T5(t,e){return new S7(e.largestBatchId,FT(t.ct,e.overlayMutation))}function VO(t,e){const r=e.path.lastSegment();return[t,ya(e.path.popLast()),r]}function FO(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:Md(n.readTime),documentKey:ya(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{getBundleMetadata(e,r){return qO(e).get(r).next((n=>{if(n)return(function(a){return{id:a.bundleId,createTime:Pd(a.createTime),version:a.version}})(n)}))}saveBundleMetadata(e,r){return qO(e).put((function(i){return{bundleId:i.id,createTime:Md(ki(i.createTime)),version:i.version}})(r))}getNamedQuery(e,r){return HO(e).get(r).next((n=>{if(n)return(function(a){return{name:a.name,query:xF(a.bundledQuery),readTime:Pd(a.readTime)}})(n)}))}saveNamedQuery(e,r){return HO(e).put((function(i){return{name:i.name,readTime:Md(ki(i.readTime)),bundledQuery:i.bundledQuery}})(r))}}function qO(t){return yi(t,"bundles")}function HO(t){return yi(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new Wx(e,n)}getOverlay(e,r){return Sp(e).get(VO(this.userId,r)).next((n=>n?T5(this.serializer,n):null))}getOverlays(e,r){const n=To();return Ae.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){const i=[];return n.forEach(((a,s)=>{const l=new S7(r,s);i.push(this.ht(e,l))})),Ae.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach((s=>i.add(ya(s.getCollectionPath()))));const a=[];return i.forEach((s=>{const l=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,n+1],!1,!0);a.push(Sp(e).j("collectionPathOverlayIndex",l))})),Ae.waitFor(a)}getOverlaysForCollection(e,r,n){const i=To(),a=ya(r),s=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Sp(e).U("collectionPathOverlayIndex",s).next((l=>{for(const d of l){const h=T5(this.serializer,d);i.set(h.getKey(),h)}return i}))}getOverlaysForCollectionGroup(e,r,n,i){const a=To();let s;const l=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Sp(e).J({index:"collectionGroupOverlayIndex",range:l},((d,h,p)=>{const m=T5(this.serializer,h);a.size()<i||m.largestBatchId===s?(a.set(m.getKey(),m),s=m.largestBatchId):p.done()})).next((()=>a))}ht(e,r){return Sp(e).put((function(i,a,s){const[l,d,h]=VO(a,s.mutation.key);return{userId:a,collectionPath:d,documentId:h,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Lm(i.ct,s.mutation)}})(this.serializer,this.userId,r))}}function Sp(t){return yi(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{Pt(e){return yi(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((r=>{const n=r==null?void 0:r.value;return n?Kn.fromUint8Array(n):Kn.EMPTY_BYTE_STRING}))}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(bn(e.integerValue));else if("doubleValue"in e){const n=bn(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),Cm(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=Bl(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(ou(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?OV(e)?this.dt(r,Number.MAX_SAFE_INTEGER):qx(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):vt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const a=e.fields||{};this.dt(r,53);const s="value",l=((i=(n=a[s].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(bn(l)),this.Vt(s,r),this.Tt(a[s],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),dt.fromName(e).path.forEach((n=>{this.dt(r,60),this.Dt(n,r)}))}dt(e,r){e.At(r)}ft(e){e.At(2)}}dd.vt=new dd;function Kre(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function GO(t){const e=64-(function(n){let i=0;for(let a=0;a<8;++a){const s=Kre(255&n[a]);if(i+=s,s!==8)break}return i})(t);return Math.ceil(e/8)}class Wre{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=GO(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=GO(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=(function(a){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,a,!1),new Uint8Array(s.buffer)})(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class Xre{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Qre{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Tp{constructor(){this.jt=new Wre,this.Ht=new Xre(this.jt),this.Jt=new Qre(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new hd(this.indexId,this.documentKey,this.arrayValue,n)}}function Ic(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=KO(t.arrayValue,e.arrayValue),r!==0?r:(r=KO(t.directionalValue,e.directionalValue),r!==0?r:dt.comparator(t.documentKey,e.documentKey)))}function KO(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.Xt=new Kr(((r,n)=>jn.comparator(r.field,n.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(St(e.collectionGroup===this.collectionId),this.nn)return!1;const r=IT(e);if(r!==void 0&&!this.sn(r))return!1;const n=ad(e);let i=new Set,a=0,s=0;for(;a<n.length&&this.sn(n[a]);++a)i=i.add(n[a].fieldPath.canonicalString());if(a===n.length)return!0;if(this.Xt.size>0){const l=this.Xt.getIterator().getNext();if(!i.has(l.field.canonicalString())){const d=n[a];if(!this.on(l,d)||!this._n(this.en[s++],d))return!1}++a}for(;a<n.length;++a){const l=n[a];if(s>=this.en.length||!this._n(this.en[s++],l))return!1}return!0}an(){if(this.nn)return null;let e=new Kr(jn.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new kv(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new kv(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new kv(n.field,n.dir==="asc"?0:1)));return new Zv(Zv.UNKNOWN_ID,this.collectionId,r,Nm.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t){var e,r;if(St(t instanceof ur||t instanceof Lr),t instanceof ur){if(t instanceof zV){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map((a=>ur.create(t.field,"==",a))))||[];return Lr.create(i,"or")}return t}const n=t.filters.map((i=>wF(i)));return Lr.create(n,t.op)}function Yre(t){if(t.getFilters().length===0)return[];const e=GT(wF(t));return St(_F(e)),qT(e)||HT(e)?[e]:e.getFilters()}function qT(t){return t instanceof ur}function HT(t){return t instanceof Lr&&y7(t)}function _F(t){return qT(t)||HT(t)||(function(r){if(r instanceof Lr&&DT(r)){for(const n of r.getFilters())if(!qT(n)&&!HT(n))return!1;return!0}return!1})(t)}function GT(t){if(St(t instanceof ur||t instanceof Lr),t instanceof ur)return t;if(t.filters.length===1)return GT(t.filters[0]);const e=t.filters.map((n=>GT(n)));let r=Lr.create(e,t.op);return r=nb(r),_F(r)?r:(St(r instanceof Lr),St(Ah(r)),St(r.filters.length>1),r.filters.reduce(((n,i)=>E7(n,i))))}function E7(t,e){let r;return St(t instanceof ur||t instanceof Lr),St(e instanceof ur||e instanceof Lr),r=t instanceof ur?e instanceof ur?(function(i,a){return Lr.create([i,a],"and")})(t,e):XO(t,e):e instanceof ur?XO(e,t):(function(i,a){if(St(i.filters.length>0&&a.filters.length>0),Ah(i)&&Ah(a))return LV(i,a.getFilters());const s=DT(i)?i:a,l=DT(i)?a:i,d=s.filters.map((h=>E7(h,l)));return Lr.create(d,"or")})(t,e),nb(r)}function XO(t,e){if(Ah(e))return LV(e,t.getFilters());{const r=e.filters.map((n=>E7(t,n)));return Lr.create(r,"or")}}function nb(t){if(St(t instanceof ur||t instanceof Lr),t instanceof ur)return t;const e=t.getFilters();if(e.length===1)return nb(e[0]);if(PV(t))return t;const r=e.map((i=>nb(i))),n=[];return r.forEach((i=>{i instanceof ur?n.push(i):i instanceof Lr&&(i.op===t.op?n.push(...i.filters):n.push(i))})),n.length===1?n[0]:Lr.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zre{constructor(){this.un=new N7}addToCollectionParentIndex(e,r){return this.un.add(r),Ae.resolve()}getCollectionParents(e,r){return Ae.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Ae.resolve()}deleteFieldIndex(e,r){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,r){return Ae.resolve()}getDocumentsMatchingTarget(e,r){return Ae.resolve(null)}getIndexType(e,r){return Ae.resolve(0)}getFieldIndexes(e,r){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,r){return Ae.resolve(us.min())}getMinOffsetFromCollectionGroup(e,r){return Ae.resolve(us.min())}updateCollectionGroup(e,r,n){return Ae.resolve()}updateIndexEntries(e,r){return Ae.resolve()}}class N7{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Kr(br.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Kr(br.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=new Uint8Array(0);class Jre{constructor(e,r){this.databaseId=r,this.cn=new N7,this.ln=new gu((n=>Id(n)),((n,i)=>Vg(n,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener((()=>{this.cn.add(r)}));const a={collectionId:n,parent:ya(i)};return QO(e).put(a)}return Ae.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[vV(r),""],!1,!0);return QO(e).U(i).next((a=>{for(const s of a){if(s.collectionId!==r)break;n.push(So(s.parent))}return n}))}addFieldIndex(e,r){const n=Ap(e),i=(function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(r);delete i.indexId;const a=n.add(i);if(r.indexState){const s=V0(e);return a.next((l=>{s.put(FO(l,this.uid,r.indexState.sequenceNumber,r.indexState.offset))}))}return a.next()}deleteFieldIndex(e,r){const n=Ap(e),i=V0(e),a=$0(e);return n.delete(r.indexId).next((()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const r=Ap(e),n=$0(e),i=V0(e);return r.j().next((()=>n.j())).next((()=>i.j()))}createTargetIndexes(e,r){return Ae.forEach(this.hn(r),(n=>this.getIndexType(e,n).next((i=>{if(i===0||i===1){const a=new WO(n).an();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,r){const n=$0(e);let i=!0;const a=new Map;return Ae.forEach(this.hn(r),(s=>this.Pn(e,s).next((l=>{i&&(i=!!l),a.set(s,l)})))).next((()=>{if(i){let s=ir();const l=[];return Ae.forEach(a,((d,h)=>{Ke("IndexedDbIndexManager",`Using index ${(function(j){return`id=${j.indexId}|cg=${j.collectionGroup}|f=${j.fields.map(($=>`${$.fieldPath}:${$.kind}`)).join(",")}`})(d)} to execute ${Id(r)}`);const p=(function(j,$){const I=IT($);if(I===void 0)return null;for(const L of eb(j,I.fieldPath))switch(L.op){case"array-contains-any":return L.value.arrayValue.values||[];case"array-contains":return[L.value]}return null})(h,d),m=(function(j,$){const I=new Map;for(const L of ad($))for(const E of eb(j,L.fieldPath))switch(E.op){case"==":case"in":I.set(L.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return I.set(L.fieldPath.canonicalString(),E.value),Array.from(I.values())}return null})(h,d),y=(function(j,$){const I=[];let L=!0;for(const E of ad($)){const A=E.kind===0?CO(j,E.fieldPath,j.startAt):jO(j,E.fieldPath,j.startAt);I.push(A.value),L&&(L=A.inclusive)}return new Th(I,L)})(h,d),b=(function(j,$){const I=[];let L=!0;for(const E of ad($)){const A=E.kind===0?jO(j,E.fieldPath,j.endAt):CO(j,E.fieldPath,j.endAt);I.push(A.value),L&&(L=A.inclusive)}return new Th(I,L)})(h,d),T=this.In(d,h,y),S=this.In(d,h,b),w=this.Tn(d,h,m),N=this.En(d.indexId,p,T,y.inclusive,S,b.inclusive,w);return Ae.forEach(N,(k=>n.G(k,r.limit).next((j=>{j.forEach(($=>{const I=dt.fromSegments($.documentKey);s.has(I)||(s=s.add(I),l.push(I))}))}))))})).next((()=>l))}return Ae.resolve(null)}))}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=Yre(Lr.create(e.filters,"and")).map((n=>BT(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt))),this.ln.set(e,r),r)}En(e,r,n,i,a,s,l){const d=(r!=null?r.length:1)*Math.max(n.length,a.length),h=d/(r!=null?r.length:1),p=[];for(let m=0;m<d;++m){const y=r?this.dn(r[m/h]):qy,b=this.An(e,y,n[m%h],i),T=this.Rn(e,y,a[m%h],s),S=l.map((w=>this.An(e,y,w,!0)));p.push(...this.createRange(b,T,S))}return p}An(e,r,n,i){const a=new hd(e,dt.empty(),r,n);return i?a:a.Zt()}Rn(e,r,n,i){const a=new hd(e,dt.empty(),r,n);return i?a.Zt():a}Pn(e,r){const n=new WO(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let s=null;for(const l of a)n.rn(l)&&(!s||l.fields.length>s.fields.length)&&(s=l);return s}))}getIndexType(e,r){let n=2;const i=this.hn(r);return Ae.forEach(i,(a=>this.Pn(e,a).next((s=>{s?n!==0&&s.fields.length<(function(d){let h=new Kr(jn.comparator),p=!1;for(const m of d.filters)for(const y of m.getFlattenedFilters())y.field.isKeyField()||(y.op==="array-contains"||y.op==="array-contains-any"?p=!0:h=h.add(y.field));for(const m of d.orderBy)m.field.isKeyField()||(h=h.add(m.field));return h.size+(p?1:0)})(a)&&(n=1):n=0})))).next((()=>(function(s){return s.limit!==null})(r)&&i.length>1&&n===2?1:n))}Vn(e,r){const n=new Tp;for(const i of ad(e)){const a=r.data.field(i.fieldPath);if(a==null)return null;const s=n.Yt(i.kind);dd.vt.It(a,s)}return n.zt()}dn(e){const r=new Tp;return dd.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new Tp;return dd.vt.It(Om(this.databaseId,r),n.Yt((function(a){const s=ad(a);return s.length===0?0:s[s.length-1].kind})(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new Tp);let a=0;for(const s of ad(e)){const l=n[a++];for(const d of i)if(this.fn(r,s.fieldPath)&&Im(l))i=this.gn(i,s,l);else{const h=d.Yt(s.kind);dd.vt.It(l,h)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],a=[];for(const s of n.arrayValue.values||[])for(const l of i){const d=new Tp;d.seed(l.zt()),dd.vt.It(s,d.Yt(r.kind)),a.push(d)}return a}fn(e,r){return!!e.filters.find((n=>n instanceof ur&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in")))}getFieldIndexes(e,r){const n=Ap(e),i=V0(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next((a=>{const s=[];return Ae.forEach(a,(l=>i.get([l.indexId,this.uid]).next((d=>{s.push((function(p,m){const y=m?new Nm(m.sequenceNumber,new us(Pd(m.readTime),new dt(So(m.documentKey)),m.largestBatchId)):Nm.empty(),b=p.fields.map((([T,S])=>new kv(jn.fromServerFormat(T),S)));return new Zv(p.indexId,p.collectionGroup,b,y)})(l,d))})))).next((()=>s))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((r=>r.length===0?null:(r.sort(((n,i)=>{const a=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Ft(n.collectionGroup,i.collectionGroup)})),r[0].collectionGroup)))}updateCollectionGroup(e,r,n){const i=Ap(e),a=V0(e);return this.yn(e).next((s=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next((l=>Ae.forEach(l,(d=>a.put(FO(d.indexId,this.uid,s,n))))))))}updateIndexEntries(e,r){const n=new Map;return Ae.forEach(r,((i,a)=>{const s=n.get(i.collectionGroup);return(s?Ae.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next((l=>(n.set(i.collectionGroup,l),Ae.forEach(l,(d=>this.wn(e,i,d).next((h=>{const p=this.Sn(a,d);return h.isEqual(p)?Ae.resolve():this.bn(e,a,d,h,p)})))))))}))}Dn(e,r,n,i){return $0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return $0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=$0(e);let a=new Kr(Ic);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},((s,l)=>{a=a.add(new hd(n.indexId,r,l.arrayValue,l.directionalValue))})).next((()=>a))}Sn(e,r){let n=new Kr(Ic);const i=this.Vn(r,e);if(i==null)return n;const a=IT(r);if(a!=null){const s=e.data.field(a.fieldPath);if(Im(s))for(const l of s.arrayValue.values||[])n=n.add(new hd(r.indexId,e.key,this.dn(l),i))}else n=n.add(new hd(r.indexId,e.key,qy,i));return n}bn(e,r,n,i,a){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const s=[];return(function(d,h,p,m,y){const b=d.getIterator(),T=h.getIterator();let S=z0(b),w=z0(T);for(;S||w;){let N=!1,k=!1;if(S&&w){const j=p(S,w);j<0?k=!0:j>0&&(N=!0)}else S!=null?k=!0:N=!0;N?(m(w),w=z0(T)):k?(y(S),S=z0(b)):(S=z0(b),w=z0(T))}})(i,a,Ic,(l=>{s.push(this.Dn(e,r,n,l))}),(l=>{s.push(this.vn(e,r,n,l))})),Ae.waitFor(s)}yn(e){let r=1;return V0(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((n,i,a)=>{a.done(),r=i.sequenceNumber+1})).next((()=>r))}createRange(e,r,n){n=n.sort(((s,l)=>Ic(s,l))).filter(((s,l,d)=>!l||Ic(s,d[l-1])!==0));const i=[];i.push(e);for(const s of n){const l=Ic(s,e),d=Ic(s,r);if(l===0)i[0]=e.Zt();else if(l>0&&d<0)i.push(s),i.push(s.Zt());else if(d>0)break}i.push(r);const a=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];const l=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,qy,[]],d=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,qy,[]];a.push(IDBKeyRange.bound(l,d))}return a}Cn(e,r){return Ic(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(YO)}getMinOffset(e,r){return Ae.mapArray(this.hn(r),(n=>this.Pn(e,n).next((i=>i||vt())))).next(YO)}}function QO(t){return yi(t,"collectionParents")}function $0(t){return yi(t,"indexEntries")}function Ap(t){return yi(t,"indexConfiguration")}function V0(t){return yi(t,"indexState")}function YO(t){St(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;h7(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new us(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ia{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ia(e,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),a=[],s=IDBKeyRange.only(r.batchId);let l=0;const d=n.J({range:s},((p,m,y)=>(l++,y.delete())));a.push(d.next((()=>{St(l===1)})));const h=[];for(const p of r.mutations){const m=AV(e,p.key.path,r.batchId);a.push(i.delete(m)),h.push(p.key)}return Ae.waitFor(a).next((()=>h))}function ib(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw vt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ia.DEFAULT_COLLECTION_PERCENTILE=10,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ia.DEFAULT=new Ia(41943040,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ia.DISABLED=new Ia(-1,0,0);class Xx{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){St(e.uid!=="");const a=e.isAuthenticated()?e.uid:"";return new Xx(a,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rc(e).J({index:"userMutationsIndex",range:n},((i,a,s)=>{r=!1,s.done()})).next((()=>r))}addMutationBatch(e,r,n,i){const a=th(e),s=Rc(e);return s.add({}).next((l=>{St(typeof l=="number");const d=new w7(l,r,n,i),h=(function(b,T,S){const w=S.baseMutations.map((k=>Lm(b.ct,k))),N=S.mutations.map((k=>Lm(b.ct,k)));return{userId:T,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:w,mutations:N}})(this.serializer,this.userId,d),p=[];let m=new Kr(((y,b)=>Ft(y.canonicalString(),b.canonicalString())));for(const y of i){const b=AV(this.userId,y.key.path,l);m=m.add(y.key.path.popLast()),p.push(s.put(h)),p.push(a.put(b,Lte))}return m.forEach((y=>{p.push(this.indexManager.addToCollectionParentIndex(e,y))})),e.addOnCommittedListener((()=>{this.Fn[l]=d.keys()})),Ae.waitFor(p).next((()=>d))}))}lookupMutationBatch(e,r){return Rc(e).get(r).next((n=>n?(St(n.userId===this.userId),ud(this.serializer,n)):null))}Mn(e,r){return this.Fn[r]?Ae.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next((n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let a=null;return Rc(e).J({index:"userMutationsIndex",range:i},((s,l,d)=>{l.userId===this.userId&&(St(l.batchId>=n),a=ud(this.serializer,l)),d.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Rc(e).J({index:"userMutationsIndex",range:r,reverse:!0},((i,a,s)=>{n=a.batchId,s.done()})).next((()=>n))}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rc(e).U("userMutationsIndex",r).next((n=>n.map((i=>ud(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=Ov(this.userId,r.path),i=IDBKeyRange.lowerBound(n),a=[];return th(e).J({range:i},((s,l,d)=>{const[h,p,m]=s,y=So(p);if(h===this.userId&&r.path.isEqual(y))return Rc(e).get(m).next((b=>{if(!b)throw vt();St(b.userId===this.userId),a.push(ud(this.serializer,b))}));d.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Kr(Ft);const i=[];return r.forEach((a=>{const s=Ov(this.userId,a.path),l=IDBKeyRange.lowerBound(s),d=th(e).J({range:l},((h,p,m)=>{const[y,b,T]=h,S=So(b);y===this.userId&&a.path.isEqual(S)?n=n.add(T):m.done()}));i.push(d)})),Ae.waitFor(i).next((()=>this.xn(e,n)))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,a=Ov(this.userId,n),s=IDBKeyRange.lowerBound(a);let l=new Kr(Ft);return th(e).J({range:s},((d,h,p)=>{const[m,y,b]=d,T=So(y);m===this.userId&&n.isPrefixOf(T)?T.length===i&&(l=l.add(b)):p.done()})).next((()=>this.xn(e,l)))}xn(e,r){const n=[],i=[];return r.forEach((a=>{i.push(Rc(e).get(a).next((s=>{if(s===null)throw vt();St(s.userId===this.userId),n.push(ud(this.serializer,s))})))})),Ae.waitFor(i).next((()=>n))}removeMutationBatch(e,r){return SF(e._e,this.userId,r).next((n=>(e.addOnCommittedListener((()=>{this.On(r.batchId)})),Ae.forEach(n,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((r=>{if(!r)return Ae.resolve();const n=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),i=[];return th(e).J({range:n},((a,s,l)=>{if(a[0]===this.userId){const d=So(a[1]);i.push(d)}else l.done()})).next((()=>{St(i.length===0)}))}))}containsKey(e,r){return TF(e,this.userId,r)}Nn(e){return AF(e).get(this.userId).next((r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function TF(t,e,r){const n=Ov(e,r.path),i=n[1],a=IDBKeyRange.lowerBound(n);let s=!1;return th(t).J({range:a,H:!0},((l,d,h)=>{const[p,m,y]=l;p===e&&m===i&&(s=!0),h.done()})).next((()=>s))}function Rc(t){return yi(t,"mutations")}function th(t){return yi(t,"documentMutations")}function AF(t){return yi(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Dd(0)}static kn(){return new Dd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next((r=>{const n=new Dd(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next((()=>r.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.qn(e).next((r=>At.fromTimestamp(new kn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.qn(e).next((r=>r.highestListenSequenceNumber))}setTargetsMetadata(e,r,n){return this.qn(e).next((i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i))))}addTargetData(e,r){return this.Kn(e,r).next((()=>this.qn(e).next((n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next((()=>F0(e).delete(r.targetId))).next((()=>this.qn(e))).next((n=>(St(n.targetCount>0),n.targetCount-=1,this.Qn(e,n))))}removeTargets(e,r,n){let i=0;const a=[];return F0(e).J(((s,l)=>{const d=Wp(l);d.sequenceNumber<=r&&n.get(d.targetId)===null&&(i++,a.push(this.removeTargetData(e,d)))})).next((()=>Ae.waitFor(a))).next((()=>i))}forEachTarget(e,r){return F0(e).J(((n,i)=>{const a=Wp(i);r(a)}))}qn(e){return JO(e).get("targetGlobalKey").next((r=>(St(r!==null),r)))}Qn(e,r){return JO(e).put("targetGlobalKey",r)}Kn(e,r){return F0(e).put(bF(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next((r=>r.targetCount))}getTargetData(e,r){const n=Id(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let a=null;return F0(e).J({range:i,index:"queryTargetsIndex"},((s,l,d)=>{const h=Wp(l);Vg(r,h.target)&&(a=h,d.done())})).next((()=>a))}addMatchingKeys(e,r,n){const i=[],a=Vc(e);return r.forEach((s=>{const l=ya(s.path);i.push(a.put({targetId:n,path:l})),i.push(this.referenceDelegate.addReference(e,n,s))})),Ae.waitFor(i)}removeMatchingKeys(e,r,n){const i=Vc(e);return Ae.forEach(r,(a=>{const s=ya(a.path);return Ae.waitFor([i.delete([n,s]),this.referenceDelegate.removeReference(e,n,a)])}))}removeMatchingKeysForTargetId(e,r){const n=Vc(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=Vc(e);let a=ir();return i.J({range:n,H:!0},((s,l,d)=>{const h=So(s[1]),p=new dt(h);a=a.add(p)})).next((()=>a))}containsKey(e,r){const n=ya(r.path),i=IDBKeyRange.bound([n],[vV(n)],!1,!0);let a=0;return Vc(e).J({index:"documentTargetsIndex",H:!0,range:i},(([s,l],d,h)=>{s!==0&&(a++,h.done())})).next((()=>a>0))}ot(e,r){return F0(e).get(r).next((n=>n?Wp(n):null))}}function F0(t){return yi(t,"targets")}function JO(t){return yi(t,"targetGlobal")}function Vc(t){return yi(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI([t,e],[r,n]){const i=Ft(t,r);return i===0?Ft(e,n):i}class tne{constructor(e){this.Un=e,this.buffer=new Kr(eI),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();eI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class rne{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){mu(r)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await pu(r)}await this.Hn(3e5)}))}}class nne{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return Ae.resolve(Da.oe);const n=new tne(r);return this.Jn.forEachTarget(e,(i=>n.zn(i.sequenceNumber))).next((()=>this.Jn.Zn(e,(i=>n.zn(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(ZO)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZO):this.Xn(e,r)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,a,s,l,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(n=m,l=Date.now(),this.removeTargets(e,n,r)))).next((m=>(a=m,d=Date.now(),this.removeOrphanedDocuments(e,n)))).next((m=>(h=Date.now(),Y0()<=cr.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-p}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(d-l)+`ms
	Removed ${m} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m}))))}}function ine(t,e){return new nne(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ane{constructor(e,r){this.db=e,this.garbageCollector=ine(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}er(e){let r=0;return this.Zn(e,(n=>{r++})).next((()=>r))}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,((n,i)=>r(i)))}addReference(e,r,n){return Hy(e,n)}removeReference(e,r,n){return Hy(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return Hy(e,r)}nr(e,r){return(function(i,a){let s=!1;return AF(i).Y((l=>TF(i,l,a).next((d=>(d&&(s=!0),Ae.resolve(!d)))))).next((()=>s))})(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.tr(e,((s,l)=>{if(l<=r){const d=this.nr(e,s).next((h=>{if(!h)return a++,n.getEntry(e,s).next((()=>(n.removeEntry(s,At.min()),Vc(e).delete((function(m){return[0,ya(m.path)]})(s)))))}));i.push(d)}})).next((()=>Ae.waitFor(i))).next((()=>n.apply(e))).next((()=>a))}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return Hy(e,r)}tr(e,r){const n=Vc(e);let i,a=Da.oe;return n.J({index:"documentTargetsIndex"},(([s,l],{path:d,sequenceNumber:h})=>{s===0?(a!==Da.oe&&r(new dt(So(i)),a),a=h,i=d):a=Da.oe})).next((()=>{a!==Da.oe&&r(new dt(So(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hy(t,e){return Vc(t).put((function(n,i){return{targetId:0,path:ya(n.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.changes=new gu((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ae.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return Xu(e).put(n)}removeEntry(e,r,n){return Xu(e).delete((function(a,s){const l=a.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],rb(s),l[l.length-1]]})(r,n))}updateMetadata(e,r){return this.getMetadata(e).next((n=>(n.byteSize+=r,this.rr(e,n))))}getEntry(e,r){let n=xn.newInvalidDocument(r);return Xu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ep(r))},((i,a)=>{n=this.ir(r,a)})).next((()=>n))}sr(e,r){let n={size:0,document:xn.newInvalidDocument(r)};return Xu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ep(r))},((i,a)=>{n={document:this.ir(r,a),size:ib(a)}})).next((()=>n))}getEntries(e,r){let n=ns();return this._r(e,r,((i,a)=>{const s=this.ir(i,a);n=n.insert(i,s)})).next((()=>n))}ar(e,r){let n=ns(),i=new un(dt.comparator);return this._r(e,r,((a,s)=>{const l=this.ir(a,s);n=n.insert(a,l),i=i.insert(a,ib(s))})).next((()=>({documents:n,ur:i})))}_r(e,r,n){if(r.isEmpty())return Ae.resolve();let i=new Kr(nI);r.forEach((d=>i=i.add(d)));const a=IDBKeyRange.bound(Ep(i.first()),Ep(i.last())),s=i.getIterator();let l=s.getNext();return Xu(e).J({index:"documentKeyIndex",range:a},((d,h,p)=>{const m=dt.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;l&&nI(l,m)<0;)n(l,null),l=s.getNext();l&&l.isEqual(m)&&(n(l,h),l=s.hasNext()?s.getNext():null),l?p.$(Ep(l)):p.done()})).next((()=>{for(;l;)n(l,null),l=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,r,n,i,a){const s=r.path,l=[s.popLast().toArray(),s.lastSegment(),rb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],d=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xu(e).U(IDBKeyRange.bound(l,d,!0)).next((h=>{a==null||a.incrementDocumentReadCount(h.length);let p=ns();for(const m of h){const y=this.ir(dt.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);y.isFoundDocument()&&(qg(r,y)||i.has(y.key))&&(p=p.insert(y.key,y))}return p}))}getAllFromCollectionGroup(e,r,n,i){let a=ns();const s=rI(r,n),l=rI(r,us.max());return Xu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,l,!0)},((d,h,p)=>{const m=this.ir(dt.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);a=a.insert(m.key,m),a.size===i&&p.done()})).next((()=>a))}newChangeBuffer(e){return new one(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((r=>r.byteSize))}getMetadata(e){return tI(e).get("remoteDocumentGlobalKey").next((r=>(St(!!r),r)))}rr(e,r){return tI(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=qre(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(At.min())))return n}return xn.newInvalidDocument(e)}}function NF(t){return new sne(t)}class one extends EF{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new gu((n=>n.toString()),((n,i)=>n.isEqual(i)))}applyChanges(e){const r=[];let n=0,i=new Kr(((a,s)=>Ft(a.canonicalString(),s.canonicalString())));return this.changes.forEach(((a,s)=>{const l=this.lr.get(a);if(r.push(this.cr.removeEntry(e,a,l.readTime)),s.isValidDocument()){const d=$O(this.cr.serializer,s);i=i.add(a.path.popLast());const h=ib(d);n+=h-l.size,r.push(this.cr.addEntry(e,a,d))}else if(n-=l.size,this.trackRemovals){const d=$O(this.cr.serializer,s.convertToNoDocument(At.min()));r.push(this.cr.addEntry(e,a,d))}})),i.forEach((a=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,a))})),r.push(this.cr.updateMetadata(e,n)),Ae.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next((n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document)))}getAllFromCache(e,r){return this.cr.ar(e,r).next((({documents:n,ur:i})=>(i.forEach(((a,s)=>{this.lr.set(a,{size:s,readTime:n.get(a).readTime})})),n)))}}function tI(t){return yi(t,"remoteDocumentGlobal")}function Xu(t){return yi(t,"remoteDocumentsV14")}function Ep(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function rI(t,e){const r=e.documentKey.path.toArray();return[t,rb(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function nI(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let a=0;a<r.length-2&&a<n.length-2;++a)if(i=Ft(r[a],n[a]),i)return i;return i=Ft(r.length,n.length),i||(i=Ft(r[r.length-2],n[n.length-2]),i||Ft(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&am(n.mutation,i,La.empty(),kn.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,ir()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=ir()){const i=To();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let s=Gp();return a.forEach(((l,d)=>{s=s.insert(l,d.overlayedDocument)})),s}))))}getOverlayedDocuments(e,r){const n=To();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,ir())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,l)=>{r.set(s,l)}))}))}computeViews(e,r,n,i){let a=ns();const s=im(),l=(function(){return im()})();return r.forEach(((d,h)=>{const p=n.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Xl)?a=a.insert(h.key,h):p!==void 0?(s.set(h.key,p.mutation.getFieldMask()),am(p.mutation,h,p.mutation.getFieldMask(),kn.now())):s.set(h.key,La.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((h,p)=>s.set(h,p))),r.forEach(((h,p)=>{var m;return l.set(h,new lne(p,(m=s.get(h))!==null&&m!==void 0?m:null))})),l)))}recalculateAndSaveOverlays(e,r){const n=im();let i=new un(((s,l)=>s-l)),a=ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((s=>{for(const l of s)l.keys().forEach((d=>{const h=r.get(d);if(h===null)return;let p=n.get(d)||La.empty();p=l.applyToLocalView(h,p),n.set(d,p);const m=(i.get(l.batchId)||ir()).add(d);i=i.insert(l.batchId,m)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const d=l.getNext(),h=d.key,p=d.value,m=WV();p.forEach((y=>{if(!a.has(y)){const b=tF(r.get(y),n.get(y));b!==null&&m.set(y,b),a=a.add(y)}})),s.push(this.documentOverlayCache.saveOverlays(e,h,m))}return Ae.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):VV(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):Ae.resolve(To());let l=-1,d=a;return s.next((h=>Ae.forEach(h,((p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(p)?Ae.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{d=d.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,d,h,ir()))).next((p=>({batchId:l,changes:KV(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new dt(r)).next((n=>{let i=Gp();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=Gp();return this.indexManager.getCollectionParents(e,a).next((l=>Ae.forEach(l,(d=>{const h=(function(m,y){return new ff(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(r,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next((p=>{p.forEach(((m,y)=>{s=s.insert(m,y)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((s=>{a.forEach(((d,h)=>{const p=h.getKey();s.get(p)===null&&(s=s.insert(p,xn.newInvalidDocument(p)))}));let l=Gp();return s.forEach(((d,h)=>{const p=a.get(d);p!==void 0&&am(p.mutation,h,La.empty(),kn.now()),qg(r,h)&&(l=l.insert(d,h))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Ae.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:ki(i.createTime)}})(r)),Ae.resolve()}getNamedQuery(e,r){return Ae.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,(function(i){return{name:i.name,query:xF(i.bundledQuery),readTime:ki(i.readTime)}})(r)),Ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(){this.overlays=new un(dt.comparator),this.Ir=new Map}getOverlay(e,r){return Ae.resolve(this.overlays.get(r))}getOverlays(e,r){const n=To();return Ae.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.ht(e,r,a)})),Ae.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(n)),Ae.resolve()}getOverlaysForCollection(e,r,n){const i=To(),a=r.length+1,s=new dt(r.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const d=l.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>n&&i.set(d.getKey(),d)}return Ae.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new un(((h,p)=>h-p));const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=a.get(h.largestBatchId);p===null&&(p=To(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const l=To(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,p)=>l.set(h,p))),!(l.size()>=i)););return Ae.resolve(l)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new S7(r,n));let a=this.Ir.get(r);a===void 0&&(a=ir(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dne{constructor(){this.sessionToken=Kn.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(){this.Tr=new Kr(Ei.Er),this.dr=new Kr(Ei.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Ei(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Vr(new Ei(e,r))}mr(e,r){e.forEach((n=>this.removeReference(n,r)))}gr(e){const r=new dt(new br([])),n=new Ei(r,e),i=new Ei(r,e+1),a=[];return this.dr.forEachInRange([n,i],(s=>{this.Vr(s),a.push(s.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new dt(new br([])),n=new Ei(r,e),i=new Ei(r,e+1);let a=ir();return this.dr.forEachInRange([n,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const r=new Ei(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ei{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return dt.comparator(e.key,r.key)||Ft(e.wr,r.wr)}static Ar(e,r){return Ft(e.wr,r.wr)||dt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Kr(Ei.Er)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new w7(a,r,n,i);this.mutationQueue.push(s);for(const l of i)this.br=this.br.add(new Ei(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ae.resolve(s)}lookupMutationBatch(e,r){return Ae.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return Ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ei(r,0),i=new Ei(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],(s=>{const l=this.Dr(s.wr);a.push(l)})),Ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Kr(Ft);return r.forEach((i=>{const a=new Ei(i,0),s=new Ei(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],(l=>{n=n.add(l.wr)}))})),Ae.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;dt.isDocumentKey(a)||(a=a.child(""));const s=new Ei(new dt(a),0);let l=new Kr(Ft);return this.br.forEachWhile((d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(l=l.add(d.wr)),!0)}),s),Ae.resolve(this.Cr(l))}Cr(e){const r=[];return e.forEach((n=>{const i=this.Dr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){St(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Ae.forEach(r.mutations,(i=>{const a=new Ei(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,r){const n=new Ei(r,0),i=this.br.firstAfterOrEqual(n);return Ae.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(e){this.Mr=e,this.docs=(function(){return new un(dt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ae.resolve(n?n.document.mutableCopy():xn.newInvalidDocument(r))}getEntries(e,r){let n=ns();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():xn.newInvalidDocument(i))})),Ae.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=ns();const s=r.path,l=new dt(s.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||h7(xV(p),n)<=0||(i.has(p.key)||qg(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return Ae.resolve(a)}getAllFromCollectionGroup(e,r,n,i){vt()}Or(e,r){return Ae.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new pne(this)}getSize(e){return Ae.resolve(this.size)}}class pne extends EF{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)})),Ae.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{constructor(e){this.persistence=e,this.Nr=new gu((r=>Id(r)),Vg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Lr=0,this.Br=new C7,this.targetCount=0,this.kr=Dd.Bn()}forEachTarget(e,r){return this.Nr.forEach(((n,i)=>r(i))),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Ae.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Dd(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Ae.resolve()}updateTargetData(e,r){return this.Kn(r),Ae.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach(((s,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Ae.waitFor(a).next((()=>i))}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Ae.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Ae.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),Ae.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Ae.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Ae.resolve(n)}containsKey(e,r){return Ae.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Da(0),this.Kr=!1,this.Kr=!0,this.$r=new dne,this.referenceDelegate=e(this),this.Ur=new mne(this),this.indexManager=new Zre,this.remoteDocumentCache=(function(i){return new fne(i)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new vF(r),this.Gr=new cne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new une,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new hne(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ke("MemoryPersistence","Starting transaction:",e);const i=new gne(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((a=>this.referenceDelegate.jr(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Hr(e,r){return Ae.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,r))))}}class gne extends _V{constructor(e){super(),this.currentSequenceNumber=e}}class Qx{constructor(e){this.persistence=e,this.Jr=new C7,this.Yr=null}static Zr(e){return new Qx(e)}get Xr(){if(this.Yr)return this.Yr;throw vt()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Ae.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Ae.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Ae.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach((i=>this.Xr.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.Xr.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.Xr,(n=>{const i=dt.fromPath(n);return this.ei(e,i).next((a=>{a||r.removeEntry(i,At.min())}))})).next((()=>(this.Yr=null,r.apply(e))))}updateLimboDocument(e,r){return this.ei(e,r).next((n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())}))}Wr(e){return 0}ei(e,r){return Ae.or([()=>Ae.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne{constructor(e){this.serializer=e}O(e,r,n,i){const a=new Fx("createOrUpgrade",r);n<1&&i>=1&&((function(d){d.createObjectStore("owner")})(e),(function(d){d.createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yO,{unique:!0}),d.createObjectStore("documentMutations")})(e),iI(e),(function(d){d.createObjectStore("remoteDocuments")})(e));let s=Ae.resolve();return n<3&&i>=3&&(n!==0&&((function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")})(e),iI(e)),s=s.next((()=>(function(d){const h=d.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",p)})(a)))),n<4&&i>=4&&(n!==0&&(s=s.next((()=>(function(d,h){return h.store("mutations").U().next((p=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yO,{unique:!0});const m=h.store("mutations"),y=p.map((b=>m.put(b)));return Ae.waitFor(y)}))})(e,a)))),s=s.next((()=>{(function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)}))),n<5&&i>=5&&(s=s.next((()=>this.ni(a)))),n<6&&i>=6&&(s=s.next((()=>((function(d){d.createObjectStore("remoteDocumentGlobal")})(e),this.ri(a))))),n<7&&i>=7&&(s=s.next((()=>this.ii(a)))),n<8&&i>=8&&(s=s.next((()=>this.si(e,a)))),n<9&&i>=9&&(s=s.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),n<10&&i>=10&&(s=s.next((()=>this.oi(a)))),n<11&&i>=11&&(s=s.next((()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),(function(d){d.createObjectStore("namedQueries",{keyPath:"name"})})(e)}))),n<12&&i>=12&&(s=s.next((()=>{(function(d){const h=d.createObjectStore("documentOverlays",{keyPath:Xte});h.createIndex("collectionPathOverlayIndex",Qte,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",Yte,{unique:!1})})(e)}))),n<13&&i>=13&&(s=s.next((()=>(function(d){const h=d.createObjectStore("remoteDocumentsV14",{keyPath:Bte});h.createIndex("documentKeyIndex",Ute),h.createIndex("collectionGroupIndex",zte)})(e))).next((()=>this._i(e,a))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&i>=14&&(s=s.next((()=>this.ai(e,a)))),n<15&&i>=15&&(s=s.next((()=>(function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:Hte}).createIndex("sequenceNumberIndex",Gte,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:Kte}).createIndex("documentKeyIndex",Wte,{unique:!1})})(e)))),n<16&&i>=16&&(s=s.next((()=>{r.objectStore("indexState").clear()})).next((()=>{r.objectStore("indexEntries").clear()}))),n<17&&i>=17&&(s=s.next((()=>{(function(d){d.createObjectStore("globals",{keyPath:"name"})})(e)}))),s}ri(e){let r=0;return e.store("remoteDocuments").J(((n,i)=>{r+=ib(i)})).next((()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next((i=>Ae.forEach(i,(a=>{const s=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",s).next((l=>Ae.forEach(l,(d=>{St(d.userId===a.userId);const h=ud(this.serializer,d);return SF(e,a.userId,h).next((()=>{}))}))))}))))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((i=>{const a=[];return n.J(((s,l)=>{const d=new br(s),h=(function(m){return[0,ya(m)]})(d);a.push(r.get(h).next((p=>p?Ae.resolve():(m=>r.put({targetId:0,path:ya(m),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>Ae.waitFor(a)))}))}si(e,r){e.createObjectStore("collectionParents",{keyPath:qte});const n=r.store("collectionParents"),i=new N7,a=s=>{if(i.add(s)){const l=s.lastSegment(),d=s.popLast();return n.put({collectionId:l,parent:ya(d)})}};return r.store("remoteDocuments").J({H:!0},((s,l)=>{const d=new br(s);return a(d.popLast())})).next((()=>r.store("documentMutations").J({H:!0},(([s,l,d],h)=>{const p=So(l);return a(p.popLast())}))))}oi(e){const r=e.store("targets");return r.J(((n,i)=>{const a=Wp(i),s=bF(this.serializer,a);return r.put(s)}))}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J(((a,s)=>{const l=r.store("remoteDocumentsV14"),d=(function(m){return m.document?new dt(br.fromString(m.document.name).popFirst(5)):m.noDocument?dt.fromSegments(m.noDocument.path):m.unknownDocument?dt.fromSegments(m.unknownDocument.path):vt()})(s).path.toArray(),h={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(l.put(h))})).next((()=>Ae.waitFor(i)))}ai(e,r){const n=r.store("mutations"),i=NF(this.serializer),a=new jF(Qx.Zr,this.serializer.ct);return n.U().next((s=>{const l=new Map;return s.forEach((d=>{var h;let p=(h=l.get(d.userId))!==null&&h!==void 0?h:ir();ud(this.serializer,d).keys().forEach((m=>p=p.add(m))),l.set(d.userId,p)})),Ae.forEach(l,((d,h)=>{const p=new ta(h),m=Wx.lt(this.serializer,p),y=a.getIndexManager(p),b=Xx.lt(p,this.serializer,y,a.referenceDelegate);return new CF(i,b,m,y).recalculateAndSaveOverlaysForDocumentKeys(new RT(r,Da.oe),d).next()}))}))}}function iI(t){t.createObjectStore("targetDocuments",{keyPath:Vte}).createIndex("documentTargetsIndex",Fte,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$te,{unique:!0}),t.createObjectStore("targetGlobal")}const A5="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class j7{constructor(e,r,n,i,a,s,l,d,h,p,m=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=a,this.window=s,this.document=l,this.ci=h,this.li=p,this.hi=m,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=y=>Promise.resolve(),!j7.D())throw new tt(Re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ane(this,i),this.Ai=r+"main",this.serializer=new vF(d),this.Ri=new ru(this.Ai,this.hi,new yne(this.serializer)),this.$r=new Gre,this.Ur=new ene(this.referenceDelegate,this.serializer),this.remoteDocumentCache=NF(this.serializer),this.Gr=new Hre,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,p===!1&&Fn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(Re.FAILED_PRECONDITION,A5);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ur.getHighestSequenceNumber(e)))})).then((e=>{this.Qr=new Da(e,this.ci)})).then((()=>{this.Kr=!0})).catch((e=>(this.Ri&&this.Ri.close(),Promise.reject(e))))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L((async r=>{r.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Gy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.wi(e).next((r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))))}))})).next((()=>this.Si(e))).next((r=>this.isPrimary&&!r?this.bi(e).next((()=>!1)):!!r&&this.Di(e).next((()=>!0)))))).catch((e=>{if(mu(e))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ui.enqueueRetryable((()=>this.di(e))),this.isPrimary=e}))}wi(e){return Np(e).get("owner").next((r=>Ae.resolve(this.vi(r))))}Ci(e){return Gy(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(r=>{const n=yi(r,"clientMetadata");return n.U().next((i=>{const a=this.xi(i,18e5),s=i.filter((l=>a.indexOf(l)===-1));return Ae.forEach(s,(l=>n.delete(l.clientId))).next((()=>s))}))})).catch((()=>[]));if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.Fi())).then((()=>this.pi()))))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Ae.resolve(!0):Np(e).get("owner").next((r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new tt(Re.FAILED_PRECONDITION,A5);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gy(e).U().next((n=>this.xi(n,5e3).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(a||s&&l)return!0}return!1}))===void 0))})).next((r=>(this.isPrimary!==r&&Ke("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r)))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const r=new RT(e,Da.oe);return this.bi(r).next((()=>this.Ci(r)))})),this.Ri.close(),this.qi()}xi(e,r){return e.filter((n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId)))}Qi(){return this.runTransaction("getActiveClients","readonly",(e=>Gy(e).U().next((r=>this.xi(r,18e5).map((n=>n.clientId))))))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return Xx.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Jre(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Wx.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ke("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",a=(function(d){return d===17?ere:d===16?Jte:d===15?p7:d===14?CV:d===13?NV:d===12?Zte:d===11?EV:void vt()})(this.hi);let s;return this.Ri.runTransaction(e,i,a,(l=>(s=new RT(l,this.Qr?this.Qr.next():Da.oe),r==="readwrite-primary"?this.wi(s).next((d=>!!d||this.Si(s))).next((d=>{if(!d)throw Fn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))),new tt(Re.FAILED_PRECONDITION,wV);return n(s)})).next((d=>this.Di(s).next((()=>d)))):this.Ki(s).next((()=>n(s)))))).then((l=>(s.raiseOnCommittedEvent(),l)))}Ki(e){return Np(e).get("owner").next((r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new tt(Re.FAILED_PRECONDITION,A5)}))}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Np(e).put("owner",r)}static D(){return ru.D()}bi(e){const r=Np(e);return r.get("owner").next((n=>this.vi(n)?(Ke("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Ae.resolve()))}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Fn(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.mi())))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;E$()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return Ke("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Fn("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Fn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Np(t){return yi(t,"owner")}function Gy(t){return yi(t,"clientMetadata")}function kF(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=ir(),i=ir();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new k7(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return E$()?8:SV(mi())>0?6:4})()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.Zi(e,r,i,n).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new vne;return this.Xi(e,r,s).next((l=>{if(a.result=l,this.zi)return this.es(e,r,s,l.size)}))})).next((()=>a.result))}es(e,r,n,i){return n.documentReadCount<this.ji?(Y0()<=cr.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",Z0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ae.resolve()):(Y0()<=cr.DEBUG&&Ke("QueryEngine","Query:",Z0(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Y0()<=cr.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",Z0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ss(r))):Ae.resolve())}Yi(e,r){if(kO(r))return Ae.resolve(null);let n=ss(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=tb(r,null,"F"),n=ss(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const s=ir(...a);return this.Ji.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,n).next((d=>{const h=this.ts(r,l);return this.ns(r,h,s,d.readTime)?this.Yi(e,tb(r,null,"F")):this.rs(e,h,r,d)}))))})))))}Zi(e,r,n,i){return kO(r)||i.isEqual(At.min())?Ae.resolve(null):this.Ji.getDocuments(e,n).next((a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?Ae.resolve(null):(Y0()<=cr.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Z0(r)),this.rs(e,s,r,bV(i,-1)).next((l=>l)))}))}ts(e,r){let n=new Kr(HV(e));return r.forEach(((i,a)=>{qg(e,a)&&(n=n.add(a))})),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Y0()<=cr.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",Z0(r)),this.Ji.getDocumentsMatchingQuery(e,r,us.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bne{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new un(Ft),this._s=new gu((a=>Id(a)),Vg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.os)))}}function IF(t,e,r,n){return new bne(t,e,r,n)}async function RF(t,e){const r=wt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const s=[],l=[];let d=ir();for(const h of i){s.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of a){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next((h=>({hs:h,removedBatchIds:s,addedBatchIds:l})))}))}))}function xne(t,e){const r=wt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return(function(l,d,h,p){const m=h.batch,y=m.keys();let b=Ae.resolve();return y.forEach((T=>{b=b.next((()=>p.getEntry(d,T))).next((S=>{const w=h.docVersions.get(T);St(w!==null),S.version.compareTo(w)<0&&(m.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),p.addEntry(S)))}))})),b.next((()=>l.mutationQueue.removeMutationBatch(d,m)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let d=ir();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(d=d.add(l.batch.mutations[h].key));return d})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function MF(t){const e=wt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Ur.getLastRemoteSnapshotVersion(r)))}function wne(t,e){const r=wt(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const l=[];e.targetChanges.forEach(((p,m)=>{const y=i.get(m);if(!y)return;l.push(r.Ur.removeMatchingKeys(a,p.removedDocuments,m).next((()=>r.Ur.addMatchingKeys(a,p.addedDocuments,m))));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(Kn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,n)),i=i.insert(m,b),(function(S,w,N){return S.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(y,b,p)&&l.push(r.Ur.updateTargetData(a,b))}));let d=ns(),h=ir();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))})),l.push(_ne(a,s,e.documentUpdates).next((p=>{d=p.Ps,h=p.Is}))),!n.isEqual(At.min())){const p=r.Ur.getLastRemoteSnapshotVersion(a).next((m=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n)));l.push(p)}return Ae.waitFor(l).next((()=>s.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,d,h))).next((()=>d))})).then((a=>(r.os=i,a)))}function _ne(t,e,r){let n=ir(),i=ir();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let s=ns();return r.forEach(((l,d)=>{const h=a.get(l);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),d.isNoDocument()&&d.version.isEqual(At.min())?(e.removeEntry(l,d.readTime),s=s.insert(l,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),s=s.insert(l,d)):Ke("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",d.version)})),{Ps:s,Is:i}}))}function Sne(t,e){const r=wt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function ab(t,e){const r=wt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Ur.getTargetData(n,e).next((a=>a?(i=a,Ae.resolve(i)):r.Ur.allocateTargetId(n).next((s=>(i=new Tl(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n}))}async function Ch(t,e,r){const n=wt(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!mu(s))throw s;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function KT(t,e,r){const n=wt(t);let i=At.min(),a=ir();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(d,h,p){const m=wt(d),y=m._s.get(p);return y!==void 0?Ae.resolve(m.os.get(y)):m.Ur.getTargetData(h,p)})(n,s,ss(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,l.targetId).next((d=>{a=d}))})).next((()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:At.min(),r?a:ir()))).next((l=>(LF(n,qV(e),l),{documents:l,Ts:a})))))}function PF(t,e){const r=wt(t),n=wt(r.Ur),i=r.os.get(e);return i?Promise.resolve(i.target):r.persistence.runTransaction("Get target data","readonly",(a=>n.ot(a,e).next((s=>s?s.target:null))))}function DF(t,e){const r=wt(t),n=r.us.get(e)||At.min();return r.persistence.runTransaction("Get new document changes","readonly",(i=>r.cs.getAllFromCollectionGroup(i,e,bV(n,-1),Number.MAX_SAFE_INTEGER))).then((i=>(LF(r,e,i),i)))}function LF(t,e,r){let n=t.us.get(e)||At.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.us.set(e,n)}function aI(t,e){return`firestore_clients_${t}_${e}`}function sI(t,e,r){let n=`firestore_mutations_${t}_${r}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}function E5(t,e){return`firestore_targets_${t}_${e}`}class sb{constructor(e,r,n,i){this.user=e,this.batchId=r,this.state=n,this.error=i}static Rs(e,r,n){const i=JSON.parse(n);let a,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(a=new tt(i.error.code,i.error.message))),s?new sb(e,r,i.state,a):(Fn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sm{constructor(e,r,n){this.targetId=e,this.state=r,this.error=n}static Rs(e,r){const n=JSON.parse(r);let i,a=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return a&&n.error&&(a=typeof n.error.message=="string"&&typeof n.error.code=="string",a&&(i=new tt(n.error.code,n.error.message))),a?new sm(e,n.state,i):(Fn("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ob{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const n=JSON.parse(r);let i=typeof n=="object"&&n.activeTargetIds instanceof Array,a=v7();for(let s=0;i&&s<n.activeTargetIds.length;++s)i=TV(n.activeTargetIds[s]),a=a.add(n.activeTargetIds[s]);return i?new ob(e,a):(Fn("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class O7{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return typeof r=="object"&&["Unknown","Online","Offline"].indexOf(r.onlineState)!==-1&&typeof r.clientId=="string"?new O7(r.clientId,r.onlineState):(Fn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class WT{constructor(){this.activeTargetIds=v7()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N5{constructor(e,r,n,i,a){this.window=e,this.ui=r,this.persistenceKey=n,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new un(Ft),this.started=!1,this.bs=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Ds=aI(this.persistenceKey,this.ps),this.vs=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new WT),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this.Os=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const n of e){if(n===this.ps)continue;const i=this.getItem(aI(this.persistenceKey,n));if(i){const a=ob.Rs(n,i);a&&(this.Ss=this.Ss.insert(a.clientId,a))}}this.Ns();const r=this.storage.getItem(this.xs);if(r){const n=this.Ls(r);n&&this.Bs(n)}for(const n of this.bs)this.ws(n);this.bs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach(((n,i)=>{i.activeTargetIds.has(e)&&(r=!0)})),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,n){this.qs(e,r,n),this.Qs(e)}addLocalQueryTarget(e,r=!0){let n="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(E5(this.persistenceKey,e));if(i){const a=sm.Rs(e,i);a&&(n=a.state)}}return r&&this.Ks.fs(e),this.Ns(),n}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(E5(this.persistenceKey,e))}updateQueryState(e,r,n){this.$s(e,r,n)}handleUserChange(e,r,n){r.forEach((i=>{this.Qs(i)})),this.currentUser=e,n.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ke("SharedClientState","READ",e,r),r}setItem(e,r){Ke("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const r=e;if(r.storageArea===this.storage){if(Ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ds)return void Fn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((async()=>{if(this.started){if(r.key!==null){if(this.Cs.test(r.key)){if(r.newValue==null){const n=this.Gs(r.key);return this.zs(n,null)}{const n=this.js(r.key,r.newValue);if(n)return this.zs(n.clientId,n)}}else if(this.Fs.test(r.key)){if(r.newValue!==null){const n=this.Hs(r.key,r.newValue);if(n)return this.Js(n)}}else if(this.Ms.test(r.key)){if(r.newValue!==null){const n=this.Ys(r.key,r.newValue);if(n)return this.Zs(n)}}else if(r.key===this.xs){if(r.newValue!==null){const n=this.Ls(r.newValue);if(n)return this.Bs(n)}}else if(r.key===this.vs){const n=(function(a){let s=Da.oe;if(a!=null)try{const l=JSON.parse(a);St(typeof l=="number"),s=l}catch(l){Fn("SharedClientState","Failed to read sequence number from WebStorage",l)}return s})(r.newValue);n!==Da.oe&&this.sequenceNumberHandler(n)}else if(r.key===this.Os){const n=this.Xs(r.newValue);await Promise.all(n.map((i=>this.syncEngine.eo(i))))}}}else this.bs.push(r)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,n){const i=new sb(this.currentUser,e,r,n),a=sI(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Vs())}Qs(e){const r=sI(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){const r={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(r))}$s(e,r,n){const i=E5(this.persistenceKey,e),a=new sm(e,r,n);this.setItem(i,a.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const n=this.Gs(e);return ob.Rs(n,r)}Hs(e,r){const n=this.Fs.exec(e),i=Number(n[1]),a=n[2]!==void 0?n[2]:null;return sb.Rs(new ta(a),i,r)}Ys(e,r){const n=this.Ms.exec(e),i=Number(n[1]);return sm.Rs(i,r)}Ls(e){return O7.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const n=r?this.Ss.insert(e,r):this.Ss.remove(e),i=this.ks(this.Ss),a=this.ks(n),s=[],l=[];return a.forEach((d=>{i.has(d)||s.push(d)})),i.forEach((d=>{a.has(d)||l.push(d)})),this.syncEngine.io(s,l).then((()=>{this.Ss=n}))}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=v7();return e.forEach(((n,i)=>{r=r.unionWith(i.activeTargetIds)})),r}}class BF{constructor(){this.so=new WT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new WT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tne{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ky=null;function C5(){return Ky===null?Ky=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ky++,"0x"+Ky.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ane={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ene{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="WebChannelConnection";class Nne extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const l=C5(),d=this.xo(r,n.toUriEncodedString());Ke("RestConnection",`Sending RPC '${r}' ${l}:`,d,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,a,s),this.No(r,d,h,i).then((p=>(Ke("RestConnection",`Received RPC '${r}' ${l}: `,p),p)),(p=>{throw Am("RestConnection",`RPC '${r}' ${l} failed with error: `,p,"url: ",d,"request:",i),p}))}Lo(r,n,i,a,s,l){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hf})(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>r[s]=a)),i&&i.headers.forEach(((a,s)=>r[s]=a))}xo(r,n){const i=Ane[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=C5();return new Promise(((s,l)=>{const d=new hV;d.setWithCredentials(!0),d.listenOnce(fV.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case jv.NO_ERROR:const p=d.getResponseJson();Ke(Zi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),s(p);break;case jv.TIMEOUT:Ke(Zi,`RPC '${e}' ${a} timed out`),l(new tt(Re.DEADLINE_EXCEEDED,"Request time out"));break;case jv.HTTP_ERROR:const m=d.getStatus();if(Ke(Zi,`RPC '${e}' ${a} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const T=(function(w){const N=w.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(N)>=0?N:Re.UNKNOWN})(b.status);l(new tt(T,b.message))}else l(new tt(Re.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new tt(Re.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{Ke(Zi,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(i);Ke(Zi,`RPC '${e}' ${a} sending request:`,i),d.send(r,"POST",h,n,15)}))}Bo(e,r,n){const i=C5(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gV(),l=mV(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=a.join("");Ke(Zi,`Creating RPC '${e}' stream ${i}: ${p}`,d);const m=s.createWebChannel(p,d);let y=!1,b=!1;const T=new Ene({Io:w=>{b?Ke(Zi,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(y||(Ke(Zi,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),Ke(Zi,`RPC '${e}' stream ${i} sending:`,w),m.send(w))},To:()=>m.close()}),S=(w,N,k)=>{w.listen(N,(j=>{try{k(j)}catch($){setTimeout((()=>{throw $}),0)}}))};return S(m,Hp.EventType.OPEN,(()=>{b||(Ke(Zi,`RPC '${e}' stream ${i} transport opened.`),T.yo())})),S(m,Hp.EventType.CLOSE,(()=>{b||(b=!0,Ke(Zi,`RPC '${e}' stream ${i} transport closed`),T.So())})),S(m,Hp.EventType.ERROR,(w=>{b||(b=!0,Am(Zi,`RPC '${e}' stream ${i} transport errored:`,w),T.So(new tt(Re.UNAVAILABLE,"The operation could not be completed")))})),S(m,Hp.EventType.MESSAGE,(w=>{var N;if(!b){const k=w.data[0];St(!!k);const j=k,$=j.error||((N=j[0])===null||N===void 0?void 0:N.error);if($){Ke(Zi,`RPC '${e}' stream ${i} received error:`,$);const I=$.status;let L=(function(R){const F=ti[R];if(F!==void 0)return iF(F)})(I),E=$.message;L===void 0&&(L=Re.INTERNAL,E="Unknown error status: "+I+" with message "+$.message),b=!0,T.So(new tt(L,E)),m.close()}else Ke(Zi,`RPC '${e}' stream ${i} received:`,k),T.bo(k)}})),S(l,pV.STAT_EVENT,(w=>{w.stat===OT.PROXY?Ke(Zi,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===OT.NOPROXY&&Ke(Zi,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.wo()}),0),T}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(){return typeof window<"u"?window:null}function Dv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){return new Rre(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,r,n,i,a,s,l,d){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new I7(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Re.RESOURCE_EXHAUSTED?(Fn(r.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.Yo===r&&this.P_(n,i)}),(n=>{e((()=>{const i=new tt(Re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)}))}))}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{n((()=>this.I_(i)))})),this.stream.onMessage((i=>{n((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget((()=>this.Yo===e?r():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Cne extends zF{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=Lre(this.serializer,e),n=(function(a){if(!("targetChange"in a))return At.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?At.min():s.readTime?ki(s.readTime):At.min()})(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=VT(this.serializer),r.addTarget=(function(a,s){let l;const d=s.target;if(l=Jv(d)?{documents:hF(a,d)}:{query:fF(a,d)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=oF(a,s.resumeToken);const h=zT(a,s.expectedCount);h!==null&&(l.expectedCount=h)}else if(s.snapshotVersion.compareTo(At.min())>0){l.readTime=Nh(a,s.snapshotVersion.toTimestamp());const h=zT(a,s.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,e);const n=Ure(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=VT(this.serializer),r.removeTarget=e,this.a_(r)}}class jne extends zF{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=Bre(e.writeResults,e.commitTime),n=ki(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=VT(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>Lm(this.serializer,n)))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new tt(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Mo(e,$T(r,n),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(Re.UNKNOWN,a.toString())}))}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Lo(e,$T(r,n),i,s,l,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new tt(Re.UNKNOWN,s.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class One{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Fn(r),this.D_=!1):Ke("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((s=>{n.enqueueAndForget((async()=>{Zd(this)&&(Ke("RemoteStore","Restarting streams for network reachability change."),await(async function(d){const h=wt(d);h.L_.add(4),await Wg(h),h.q_.set("Unknown"),h.L_.delete(4),await Zx(h)})(this))}))})),this.q_=new One(n,i)}}async function Zx(t){if(Zd(t))for(const e of t.B_)await e(!0)}async function Wg(t){for(const e of t.B_)await e(!1)}function Jx(t,e){const r=wt(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),P7(r)?M7(r):gf(r).r_()&&R7(r,e))}function jh(t,e){const r=wt(t),n=gf(r);r.N_.delete(e),n.r_()&&$F(r,e),r.N_.size===0&&(n.r_()?n.o_():Zd(r)&&r.q_.set("Unknown"))}function R7(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}gf(t).A_(e)}function $F(t,e){t.Q_.xe(e),gf(t).R_(e)}function M7(t){t.Q_=new jre({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),gf(t).start(),t.q_.v_()}function P7(t){return Zd(t)&&!gf(t).n_()&&t.N_.size>0}function Zd(t){return wt(t).L_.size===0}function VF(t){t.Q_=void 0}async function Rne(t){t.q_.set("Online")}async function Mne(t){t.N_.forEach(((e,r)=>{R7(t,e)}))}async function Pne(t,e){VF(t),P7(t)?(t.q_.M_(e),M7(t)):t.q_.set("Unknown")}async function Dne(t,e,r){if(t.q_.set("Online"),e instanceof sF&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const l of a.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.N_.delete(l),i.Q_.removeTarget(l))})(t,e)}catch(n){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await lb(t,n)}else if(e instanceof Pv?t.Q_.Ke(e):e instanceof aF?t.Q_.He(e):t.Q_.We(e),!r.isEqual(At.min()))try{const n=await MF(t.localStore);r.compareTo(n)>=0&&await(function(a,s){const l=a.Q_.rt(s);return l.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.N_.get(h);p&&a.N_.set(h,p.withResumeToken(d.resumeToken,s))}})),l.targetMismatches.forEach(((d,h)=>{const p=a.N_.get(d);if(!p)return;a.N_.set(d,p.withResumeToken(Kn.EMPTY_BYTE_STRING,p.snapshotVersion)),$F(a,d);const m=new Tl(p.target,d,h,p.sequenceNumber);R7(a,m)})),a.remoteSyncer.applyRemoteEvent(l)})(t,r)}catch(n){Ke("RemoteStore","Failed to raise snapshot:",n),await lb(t,n)}}async function lb(t,e,r){if(!mu(e))throw e;t.L_.add(1),await Wg(t),t.q_.set("Offline"),r||(r=()=>MF(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ke("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Zx(t)}))}function FF(t,e){return e().catch((r=>lb(t,r,e)))}async function mf(t){const e=wt(t),r=cu(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Lne(e);)try{const i=await Sne(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,Bne(e,i)}catch(i){await lb(e,i)}qF(e)&&HF(e)}function Lne(t){return Zd(t)&&t.O_.length<10}function Bne(t,e){t.O_.push(e);const r=cu(t);r.r_()&&r.V_&&r.m_(e.mutations)}function qF(t){return Zd(t)&&!cu(t).n_()&&t.O_.length>0}function HF(t){cu(t).start()}async function Une(t){cu(t).p_()}async function zne(t){const e=cu(t);for(const r of t.O_)e.m_(r.mutations)}async function $ne(t,e,r){const n=t.O_.shift(),i=_7.from(n,e,r);await FF(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await mf(t)}async function Vne(t,e){e&&cu(t).V_&&await(async function(n,i){if((function(s){return nF(s)&&s!==Re.ABORTED})(i.code)){const a=n.O_.shift();cu(n).s_(),await FF(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await mf(n)}})(t,e),qF(t)&&HF(t)}async function lI(t,e){const r=wt(t);r.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const n=Zd(r);r.L_.add(3),await Wg(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Zx(r)}async function XT(t,e){const r=wt(t);e?(r.L_.delete(2),await Zx(r)):e||(r.L_.add(2),await Wg(r),r.q_.set("Unknown"))}function gf(t){return t.K_||(t.K_=(function(r,n,i){const a=wt(r);return a.w_(),new Cne(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:Rne.bind(null,t),Ro:Mne.bind(null,t),mo:Pne.bind(null,t),d_:Dne.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),P7(t)?M7(t):t.q_.set("Unknown")):(await t.K_.stop(),VF(t))}))),t.K_}function cu(t){return t.U_||(t.U_=(function(r,n,i){const a=wt(r);return a.w_(),new jne(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Une.bind(null,t),mo:Vne.bind(null,t),f_:zne.bind(null,t),g_:$ne.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await mf(t)):(await t.U_.stop(),t.O_.length>0&&(Ke("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,l=new D7(e,r,s,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new tt(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function L7(t,e){if(Fn("AsyncQueue",`${e}: ${t}`),mu(t))return new tt(Re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.comparator=e?(r,n)=>e(r,n)||dt.comparator(r.key,n.key):(r,n)=>dt.comparator(r.key,n.key),this.keyedMap=Gp(),this.sortedSet=new un(this.comparator)}static emptySet(e){return new uh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof uh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new uh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.W_=new un(dt.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):vt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class kh{constructor(e,r,n,i,a,s,l,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach((l=>{s.push({type:0,doc:l})})),new kh(e,r,uh.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class qne{constructor(){this.queries=uI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=wt(r),a=i.queries;i.queries=uI(),a.forEach(((s,l)=>{for(const d of l.j_)d.onError(n)}))})(this,new tt(Re.ABORTED,"Firestore shutting down"))}}function uI(){return new gu((t=>FV(t)),Hx)}async function B7(t,e){const r=wt(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new Fne,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const l=L7(s,`Initialization of query '${Z0(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&z7(r)}async function U7(t,e){const r=wt(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Hne(t,e){const r=wt(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const l of s.j_)l.X_(i)&&(n=!0);s.z_=i}}n&&z7(r)}function Gne(t,e,r){const n=wt(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function z7(t){t.Y_.forEach((e=>{e.next()}))}var QT,dI;(dI=QT||(QT={})).ea="default",dI.Cache="cache";class $7{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new kh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=kh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==QT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.key=e}}class KF{constructor(e){this.key=e}}class Kne{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ir(),this.mutatedKeys=ir(),this.Aa=HV(e),this.Ra=new uh(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new cI,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,l=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const y=i.get(p),b=qg(this.query,m)?m:null,T=!!y&&this.mutatedKeys.has(y.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let w=!1;y&&b?y.data.isEqual(b.data)?T!==S&&(n.track({type:3,doc:b}),w=!0):this.ga(y,b)||(n.track({type:2,doc:b}),w=!0,(d&&this.Aa(b,d)>0||h&&this.Aa(b,h)<0)&&(l=!0)):!y&&b?(n.track({type:0,doc:b}),w=!0):y&&!b&&(n.track({type:1,doc:y}),w=!0,(d||h)&&(l=!0)),w&&(b?(s=s.add(b),a=S?a.add(p):a.delete(p)):(s=s.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{Ra:s,fa:n,ns:l,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((p,m)=>(function(b,T){const S=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return S(b)-S(T)})(p.type,m.type)||this.Aa(p.doc,m.doc))),this.pa(n),i=i!=null&&i;const l=r&&!i?this.ya():[],d=this.da.size===0&&this.current&&!i?1:0,h=d!==this.Ea;return this.Ea=d,s.length!==0||h?{snapshot:new kh(this.query,e.Ra,a,s,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new cI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((r=>this.Ta=this.Ta.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ta=this.Ta.delete(r))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ir(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const r=[];return e.forEach((n=>{this.da.has(n)||r.push(new KF(n))})),this.da.forEach((n=>{e.has(n)||r.push(new GF(n))})),r}ba(e){this.Ta=e.Ts,this.da=ir();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return kh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Wne{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Xne{constructor(e){this.key=e,this.va=!1}}class Qne{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new gu((l=>FV(l)),Hx),this.Ma=new Map,this.xa=new Set,this.Oa=new un(dt.comparator),this.Na=new Map,this.La=new C7,this.Ba={},this.ka=new Map,this.qa=Dd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Yne(t,e,r=!0){const n=e2(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await WF(n,e,r,!0),i}async function Zne(t,e){const r=e2(t);await WF(r,e,!0,!1)}async function WF(t,e,r,n){const i=await ab(t.localStore,ss(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await V7(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&Jx(t.remoteStore,i),l}async function V7(t,e,r,n,i){t.Ka=(m,y,b)=>(async function(S,w,N,k){let j=w.view.ma(N);j.ns&&(j=await KT(S.localStore,w.query,!1).then((({documents:E})=>w.view.ma(E,j))));const $=k&&k.targetChanges.get(w.targetId),I=k&&k.targetMismatches.get(w.targetId)!=null,L=w.view.applyChanges(j,S.isPrimaryClient,$,I);return YT(S,w.targetId,L.wa),L.snapshot})(t,m,y,b);const a=await KT(t.localStore,e,!0),s=new Kne(e,a.Ts),l=s.ma(a.documents),d=Kg.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),h=s.applyChanges(l,t.isPrimaryClient,d);YT(t,r,h.wa);const p=new Wne(e,r,s);return t.Fa.set(e,p),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),h.snapshot}async function Jne(t,e,r){const n=wt(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter((s=>!Hx(s,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ch(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&jh(n.remoteStore,i.targetId),Oh(n,i.targetId)})).catch(pu)):(Oh(n,i.targetId),await Ch(n.localStore,i.targetId,!0))}async function eie(t,e){const r=wt(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),jh(r.remoteStore,n.targetId))}async function tie(t,e,r){const n=G7(t);try{const i=await(function(s,l){const d=wt(s),h=kn.now(),p=l.reduce(((b,T)=>b.add(T.key)),ir());let m,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let T=ns(),S=ir();return d.cs.getEntries(b,p).next((w=>{T=w,T.forEach(((N,k)=>{k.isValidDocument()||(S=S.add(N))}))})).next((()=>d.localDocuments.getOverlayedDocuments(b,T))).next((w=>{m=w;const N=[];for(const k of l){const j=Are(k,m.get(k.key).overlayedDocument);j!=null&&N.push(new Xl(k.key,j,RV(j.value.mapValue),qn.exists(!0)))}return d.mutationQueue.addMutationBatch(b,h,N,l)})).next((w=>{y=w;const N=w.applyToLocalDocumentSet(m,S);return d.documentOverlayCache.saveOverlays(b,w.batchId,N)}))})).then((()=>({batchId:y.batchId,changes:KV(m)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(s,l,d){let h=s.Ba[s.currentUser.toKey()];h||(h=new un(Ft)),h=h.insert(l,d),s.Ba[s.currentUser.toKey()]=h})(n,i.batchId,r),await yu(n,i.changes),await mf(n.remoteStore)}catch(i){const a=L7(i,"Failed to persist write");r.reject(a)}}async function XF(t,e){const r=wt(t);try{const n=await wne(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=r.Na.get(a);s&&(St(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?St(s.va):i.removedDocuments.size>0&&(St(s.va),s.va=!1))})),await yu(r,n,e)}catch(n){await pu(n)}}function hI(t,e,r){const n=wt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach(((a,s)=>{const l=s.view.Z_(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const d=wt(s);d.onlineState=l;let h=!1;d.queries.forEach(((p,m)=>{for(const y of m.j_)y.Z_(l)&&(h=!0)})),h&&z7(d)})(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function rie(t,e,r){const n=wt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let s=new un(dt.comparator);s=s.insert(a,xn.newNoDocument(a,At.min()));const l=ir().add(a),d=new Gg(At.min(),new Map,new un(Ft),s,l);await XF(n,d),n.Oa=n.Oa.remove(a),n.Na.delete(e),H7(n)}else await Ch(n.localStore,e,!1).then((()=>Oh(n,e,r))).catch(pu)}async function nie(t,e){const r=wt(t),n=e.batch.batchId;try{const i=await xne(r.localStore,e);q7(r,n,null),F7(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await yu(r,i)}catch(i){await pu(i)}}async function iie(t,e,r){const n=wt(t);try{const i=await(function(s,l){const d=wt(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return d.mutationQueue.lookupMutationBatch(h,l).next((m=>(St(m!==null),p=m.keys(),d.mutationQueue.removeMutationBatch(h,m)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,l))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>d.localDocuments.getDocuments(h,p)))}))})(n.localStore,e);q7(n,e,r),F7(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await yu(n,i)}catch(i){await pu(i)}}function F7(t,e){(t.ka.get(e)||[]).forEach((r=>{r.resolve()})),t.ka.delete(e)}function q7(t,e,r){const n=wt(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Oh(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((n=>{t.La.containsKey(n)||QF(t,n)}))}function QF(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(jh(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),H7(t))}function YT(t,e,r){for(const n of r)n instanceof GF?(t.La.addReference(n.key,e),aie(t,n)):n instanceof KF?(Ke("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||QF(t,n.key)):vt()}function aie(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ke("SyncEngine","New document in limbo: "+r),t.xa.add(n),H7(t))}function H7(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new dt(br.fromString(e)),n=t.qa.next();t.Na.set(n,new Xne(r)),t.Oa=t.Oa.insert(r,n),Jx(t.remoteStore,new Tl(ss(Fg(r.path)),n,"TargetPurposeLimboResolution",Da.oe))}}async function yu(t,e,r){const n=wt(t),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach(((l,d)=>{s.push(n.Ka(d,e,r).then((h=>{var p;if((h||r)&&n.isPrimaryClient){const m=h?!h.fromCache:(p=r==null?void 0:r.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){i.push(h);const m=k7.Wi(d.targetId,h);a.push(m)}})))})),await Promise.all(s),n.Ca.d_(i),await(async function(d,h){const p=wt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Ae.forEach(h,(y=>Ae.forEach(y.$i,(b=>p.persistence.referenceDelegate.addReference(m,y.targetId,b))).next((()=>Ae.forEach(y.Ui,(b=>p.persistence.referenceDelegate.removeReference(m,y.targetId,b)))))))))}catch(m){if(!mu(m))throw m;Ke("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const b=p.os.get(y),T=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(T);p.os=p.os.insert(y,S)}}})(n.localStore,a))}async function sie(t,e){const r=wt(t);if(!r.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const n=await RF(r.localStore,e);r.currentUser=e,(function(a,s){a.ka.forEach((l=>{l.forEach((d=>{d.reject(new tt(Re.CANCELLED,s))}))})),a.ka.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await yu(r,n.hs)}}function oie(t,e){const r=wt(t),n=r.Na.get(e);if(n&&n.va)return ir().add(n.key);{let i=ir();const a=r.Ma.get(e);if(!a)return i;for(const s of a){const l=r.Fa.get(s);i=i.unionWith(l.view.Va)}return i}}async function lie(t,e){const r=wt(t),n=await KT(r.localStore,e.query,!0),i=e.view.ba(n);return r.isPrimaryClient&&YT(r,e.targetId,i.wa),i}async function cie(t,e){const r=wt(t);return DF(r.localStore,e).then((n=>yu(r,n)))}async function uie(t,e,r,n){const i=wt(t),a=await(function(l,d){const h=wt(l),p=wt(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",(m=>p.Mn(m,d).next((y=>y?h.localDocuments.getDocuments(m,y):Ae.resolve(null)))))})(i.localStore,e);a!==null?(r==="pending"?await mf(i.remoteStore):r==="acknowledged"||r==="rejected"?(q7(i,e,n||null),F7(i,e),(function(l,d){wt(wt(l).mutationQueue).On(d)})(i.localStore,e)):vt(),await yu(i,a)):Ke("SyncEngine","Cannot apply mutation batch with id: "+e)}async function die(t,e){const r=wt(t);if(e2(r),G7(r),e===!0&&r.Qa!==!0){const n=r.sharedClientState.getAllActiveQueryTargets(),i=await fI(r,n.toArray());r.Qa=!0,await XT(r.remoteStore,!0);for(const a of i)Jx(r.remoteStore,a)}else if(e===!1&&r.Qa!==!1){const n=[];let i=Promise.resolve();r.Ma.forEach(((a,s)=>{r.sharedClientState.isLocalQueryTarget(s)?n.push(s):i=i.then((()=>(Oh(r,s),Ch(r.localStore,s,!0)))),jh(r.remoteStore,s)})),await i,await fI(r,n),(function(s){const l=wt(s);l.Na.forEach(((d,h)=>{jh(l.remoteStore,h)})),l.La.pr(),l.Na=new Map,l.Oa=new un(dt.comparator)})(r),r.Qa=!1,await XT(r.remoteStore,!1)}}async function fI(t,e,r){const n=wt(t),i=[],a=[];for(const s of e){let l;const d=n.Ma.get(s);if(d&&d.length!==0){l=await ab(n.localStore,ss(d[0]));for(const h of d){const p=n.Fa.get(h),m=await lie(n,p);m.snapshot&&a.push(m.snapshot)}}else{const h=await PF(n.localStore,s);l=await ab(n.localStore,h),await V7(n,YF(h),s,!1,l.resumeToken)}i.push(l)}return n.Ca.d_(a),i}function YF(t){return $V(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function hie(t){return(function(r){return wt(wt(r).persistence).Qi()})(wt(t).localStore)}async function fie(t,e,r,n){const i=wt(t);if(i.Qa)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const a=i.Ma.get(e);if(a&&a.length>0)switch(r){case"current":case"not-current":{const s=await DF(i.localStore,qV(a[0])),l=Gg.createSynthesizedRemoteEventForCurrentChange(e,r==="current",Kn.EMPTY_BYTE_STRING);await yu(i,s,l);break}case"rejected":await Ch(i.localStore,e,!0),Oh(i,e,n);break;default:vt()}}async function pie(t,e,r){const n=e2(t);if(n.Qa){for(const i of e){if(n.Ma.has(i)&&n.sharedClientState.isActiveQueryTarget(i)){Ke("SyncEngine","Adding an already active target "+i);continue}const a=await PF(n.localStore,i),s=await ab(n.localStore,a);await V7(n,YF(a),s.targetId,!1,s.resumeToken),Jx(n.remoteStore,s)}for(const i of r)n.Ma.has(i)&&await Ch(n.localStore,i,!1).then((()=>{jh(n.remoteStore,i),Oh(n,i)})).catch(pu)}}function e2(t){const e=wt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rie.bind(null,e),e.Ca.d_=Hne.bind(null,e.eventManager),e.Ca.$a=Gne.bind(null,e.eventManager),e}function G7(t){const e=wt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iie.bind(null,e),e}class Bm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yx(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return IF(this.persistence,new OF,e.initialUser,this.serializer)}Ga(e){return new jF(Qx.Zr,this.serializer)}Wa(e){return new BF}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bm.provider={build:()=>new Bm};class ZF extends Bm{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await G7(this.Ja.syncEngine),await mf(this.Ja.remoteStore),await this.persistence.yi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}za(e){return IF(this.persistence,new OF,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new rne(n,e.asyncQueue,r)}Ha(e,r){const n=new Pte(r,this.persistence);return new Mte(e.asyncQueue,n)}Ga(e){const r=kF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?Ia.withCacheSize(this.cacheSizeBytes):Ia.DEFAULT;return new j7(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,UF(),Dv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new BF}}class mie extends ZF{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const r=this.Ja.syncEngine;this.sharedClientState instanceof N5&&(this.sharedClientState.syncEngine={no:uie.bind(null,r),ro:fie.bind(null,r),io:pie.bind(null,r),Qi:hie.bind(null,r),eo:cie.bind(null,r)},await this.sharedClientState.start()),await this.persistence.yi((async n=>{await die(this.Ja.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())}))}Wa(e){const r=UF();if(!N5.D(r))throw new tt(Re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=kF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new N5(r,e.asyncQueue,n,e.clientId,e.initialUser)}}class Um{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>hI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=sie.bind(null,this.syncEngine),await XT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qne})()}createDatastore(e){const r=Yx(e.databaseInfo.databaseId),n=(function(a){return new Nne(a)})(e.databaseInfo);return(function(a,s,l,d){return new kne(a,s,l,d)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,s,l){return new Ine(n,i,a,s,l)})(this.localStore,this.datastore,e.asyncQueue,(r=>hI(this.syncEngine,r,0)),(function(){return oI.D()?new oI:new Tne})())}createSyncEngine(e,r){return(function(i,a,s,l,d,h,p){const m=new Qne(i,a,s,l,d,h);return p&&(m.Qa=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const a=wt(i);Ke("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Wg(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Fn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new tt(Re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await(async function(i,a){const s=wt(i),l={documents:a.map((m=>Dm(s.serializer,m)))},d=await s.Lo("BatchGetDocuments",s.serializer.databaseId,br.emptyPath(),l,a.length),h=new Map;d.forEach((m=>{const y=Dre(s.serializer,m);h.set(y.key.toString(),y)}));const p=[];return a.forEach((m=>{const y=h.get(m.toString());St(!!y),p.push(y)})),p})(this.datastore,e);return r.forEach((n=>this.recordVersion(n))),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((r=>{e.delete(r.key.toString())})),e.forEach(((r,n)=>{const i=dt.fromPath(n);this.mutations.push(new x7(i,this.precondition(i)))})),await(async function(n,i){const a=wt(n),s={writes:i.map((l=>Lm(a.serializer,l)))};await a.Mo("Commit",a.serializer.databaseId,br.emptyPath(),s)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw vt();r=At.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new tt(Re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(At.min())?qn.exists(!1):qn.updateTime(r):qn.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(At.min()))throw new tt(Re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qn.updateTime(r)}return qn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yie{constructor(e,r,n,i,a){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=i,this.deferred=a,this._u=n.maxAttempts,this.t_=new I7(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new gie(this.datastore),r=this.cu(e);r&&r.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((i=>{this.lu(i)}))))})).catch((n=>{this.lu(n)}))}))}cu(e){try{const r=this.updateFunction(e);return!$g(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!nF(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ta.UNAUTHENTICATED,this.clientId=yV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async s=>{Ke("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(Ke("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=L7(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function j5(t,e){t.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await RF(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function pI(t,e){t.asyncQueue.verifyOperationInProgress();const r=await bie(t);Ke("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>lI(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>lI(e.remoteStore,i))),t._onlineComponents=e}async function bie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await j5(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Re.FAILED_PRECONDITION||i.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;Am("Error using user provided cache. Falling back to memory cache: "+r),await j5(t,new Bm)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),await j5(t,new Bm);return t._offlineComponents}async function W7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),await pI(t,t._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),await pI(t,new Um))),t._onlineComponents}function xie(t){return W7(t).then((e=>e.syncEngine))}function wie(t){return W7(t).then((e=>e.datastore))}async function cb(t){const e=await W7(t),r=e.eventManager;return r.onListen=Yne.bind(null,e.syncEngine),r.onUnlisten=Jne.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Zne.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=eie.bind(null,e.syncEngine),r}function _ie(t,e,r={}){const n=new ao;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,d,h){const p=new K7({next:y=>{p.Za(),s.enqueueAndForget((()=>U7(a,m)));const b=y.docs.has(l);!b&&y.fromCache?h.reject(new tt(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&d&&d.source==="server"?h.reject(new tt(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new $7(Fg(l.path),p,{includeMetadataChanges:!0,_a:!0});return B7(a,m)})(await cb(t),t.asyncQueue,e,r,n))),n.promise}function Sie(t,e,r={}){const n=new ao;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,d,h){const p=new K7({next:y=>{p.Za(),s.enqueueAndForget((()=>U7(a,m))),y.fromCache&&d.source==="server"?h.reject(new tt(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new $7(l,p,{includeMetadataChanges:!0,_a:!0});return B7(a,m)})(await cb(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eq(t,e,r){if(!r)throw new tt(Re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Tie(t,e,r,n){if(e===!0&&n===!0)throw new tt(Re.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function gI(t){if(!dt.isDocumentKey(t))throw new tt(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yI(t){if(dt.isDocumentKey(t))throw new tt(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function t2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":vt()}function Ua(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new tt(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=t2(t);throw new tt(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function Aie(t,e){if(e<=0)throw new tt(Re.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new tt(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new tt(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JF((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new tt(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new tt(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new tt(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class X7{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tt(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new tt(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vI(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Tte;switch(n.type){case"firstParty":return new Nte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new tt(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=mI.get(r);n&&(Ke("ComponentProvider","Removing Datastore"),mI.delete(r),n.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ql(this.firestore,e,this._query)}}class Hi{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hi(this.firestore,e,this._key)}}class nu extends Ql{constructor(e,r,n){super(e,r,Fg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hi(this.firestore,null,new dt(e))}withConverter(e){return new nu(this.firestore,e,this._path)}}function nr(t,e,...r){if(t=Wr(t),eq("collection","path",e),t instanceof X7){const n=br.fromString(e,...r);return yI(n),new nu(t,null,n)}{if(!(t instanceof Hi||t instanceof nu))throw new tt(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(br.fromString(e,...r));return yI(n),new nu(t.firestore,null,n)}}function pt(t,e,...r){if(t=Wr(t),arguments.length===1&&(e=yV.newId()),eq("doc","path",e),t instanceof X7){const n=br.fromString(e,...r);return gI(n),new Hi(t,null,new dt(n))}{if(!(t instanceof Hi||t instanceof nu))throw new tt(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(br.fromString(e,...r));return gI(n),new Hi(t.firestore,t instanceof nu?t.converter:null,new dt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new I7(this,"async_queue_retry"),this.Vu=()=>{const n=Dv();n&&Ke("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Dv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Dv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const r=new ao;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!mu(e))throw e;Ke("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const r=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const i=(function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l})(n);throw Fn("INTERNAL UNHANDLED ERROR: ",i),n})).then((n=>(this.du=!1,n))))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=D7.createAndSchedule(this,e,r,n,(a=>this.yu(a)));return this.Tu.push(i),i}fu(){this.Eu&&vt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function xI(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Mo extends X7{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new bI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bI(e),this._firestoreClient=void 0,await e}}}function Eie(t,e,r){r||(r="(default)");const n=Lg(t,"firestore");if(n.isInitialized(r)){const i=n.getImmediate({identifier:r}),a=n.getOptions(r);if(xh(a,e))return i;throw new tt(Re.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new tt(Re.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new tt(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:e,instanceIdentifier:r})}function Xg(t){if(t._terminated)throw new tt(Re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Nie(t),t._firestoreClient}function Nie(t){var e,r,n;const i=t._freezeSettings(),a=(function(l,d,h,p){return new rre(l,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,JF(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new vie(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(l){const d=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ld(Kn.fromBase64String(e))}catch(r){throw new tt(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ld(Kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new tt(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new tt(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new tt(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cie=/^__.*__$/;class jie{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Xl(e,this.data,this.fieldMask,r,this.fieldTransforms):new pf(e,this.data,r,this.fieldTransforms)}}class tq{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Xl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function rq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class n2{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ub(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(rq(this.Cu)&&Cie.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class kie{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Yx(e)}Qu(e,r,n,i=!1){return new n2({Cu:e,methodName:r,qu:n,path:jn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yg(t){const e=t._freezeSettings(),r=Yx(t._databaseId);return new kie(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Z7(t,e,r,n,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);eE("Data must be an object, but it was:",s,n);const l=aq(n,s);let d,h;if(a.merge)d=new La(s.fieldMask),h=s.fieldTransforms;else if(a.mergeFields){const p=[];for(const m of a.mergeFields){const y=ZT(e,m,r);if(!s.contains(y))throw new tt(Re.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);oq(p,y)||p.push(y)}d=new La(p),h=s.fieldTransforms.filter((m=>d.covers(m.field)))}else d=null,h=s.fieldTransforms;return new jie(new qi(l),d,h)}class i2 extends r2{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof i2}}function Oie(t,e,r){return new n2({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class J7 extends r2{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Oie(this,e,!0),n=this.Ku.map((a=>yf(a,r))),i=new Rd(n);return new eF(e.path,i)}isEqual(e){return e instanceof J7&&xh(this.Ku,e.Ku)}}function nq(t,e,r,n){const i=t.Qu(1,e,r);eE("Data must be an object, but it was:",i,n);const a=[],s=qi.empty();Yd(n,((d,h)=>{const p=tE(e,d,r);h=Wr(h);const m=i.Nu(p);if(h instanceof i2)a.push(p);else{const y=yf(h,m);y!=null&&(a.push(p),s.set(p,y))}}));const l=new La(a);return new tq(s,l,i.fieldTransforms)}function iq(t,e,r,n,i,a){const s=t.Qu(1,e,r),l=[ZT(e,n,r)],d=[i];if(a.length%2!=0)throw new tt(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)l.push(ZT(e,a[y])),d.push(a[y+1]);const h=[],p=qi.empty();for(let y=l.length-1;y>=0;--y)if(!oq(h,l[y])){const b=l[y];let T=d[y];T=Wr(T);const S=s.Nu(b);if(T instanceof i2)h.push(b);else{const w=yf(T,S);w!=null&&(h.push(b),p.set(b,w))}}const m=new La(h);return new tq(p,m,s.fieldTransforms)}function Iie(t,e,r,n=!1){return yf(r,t.Qu(n?4:3,e))}function yf(t,e){if(sq(t=Wr(t)))return eE("Unsupported field value:",e,t),aq(t,e);if(t instanceof r2)return(function(n,i){if(!rq(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,i){const a=[];let s=0;for(const l of n){let d=yf(l,i.Lu(s));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),s++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=Wr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return bre(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=kn.fromDate(n);return{timestampValue:Nh(i.serializer,a)}}if(n instanceof kn){const a=new kn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Nh(i.serializer,a)}}if(n instanceof Q7)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ld)return{bytesValue:oF(i.serializer,n._byteString)};if(n instanceof Hi){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:A7(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Y7)return(function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map((d=>{if(typeof d!="number")throw l.Bu("VectorValues must only contain numeric values.");return b7(l.serializer,d)}))}}}}}})(n,i);throw i.Bu(`Unsupported field value: ${t2(n)}`)})(t,e)}function aq(t,e){const r={};return jV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yd(t,((n,i)=>{const a=yf(i,e.Mu(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function sq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kn||t instanceof Q7||t instanceof Ld||t instanceof Hi||t instanceof r2||t instanceof Y7)}function eE(t,e,r){if(!sq(r)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(r)){const n=t2(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function ZT(t,e,r){if((e=Wr(e))instanceof Qg)return e._internalPath;if(typeof e=="string")return tE(t,e);throw ub("Field path arguments must be of type string or ",t,!1,void 0,r)}const Rie=new RegExp("[~\\*/\\[\\]]");function tE(t,e,r){if(e.search(Rie)>=0)throw ub(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Qg(...e.split("."))._internalPath}catch{throw ub(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function ub(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(a||s)&&(d+=" (found",a&&(d+=` in field ${n}`),s&&(d+=` in document ${i}`),d+=")"),new tt(Re.INVALID_ARGUMENT,l+t+d)}function oq(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Hi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Mie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(a2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Mie extends db{data(){return super.data()}}function a2(t,e){return typeof e=="string"?tE(t,e):e instanceof Qg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new tt(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rE{}class nE extends rE{}function En(t,e,...r){let n=[];e instanceof rE&&n.push(e),n=n.concat(r),(function(a){const s=a.filter((d=>d instanceof iE)).length,l=a.filter((d=>d instanceof s2)).length;if(s>1||s>0&&l>0)throw new tt(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class s2 extends nE{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new s2(e,r,n)}_apply(e){const r=this._parse(e);return cq(e._query,r),new Ql(e.firestore,e.converter,UT(e._query,r))}_parse(e){const r=Yg(e.firestore);return(function(a,s,l,d,h,p,m){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new tt(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){_I(m,p);const b=[];for(const T of m)b.push(wI(d,a,T));y={arrayValue:{values:b}}}else y=wI(d,a,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||_I(m,p),y=Iie(l,s,m,p==="in"||p==="not-in");return ur.create(h,p,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Rn(t,e,r){const n=e,i=a2("where",t);return s2._create(i,n,r)}class iE extends rE{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new iE(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Lr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let s=i;const l=a.getFlattenedFilters();for(const d of l)cq(s,d),s=UT(s,d)})(e._query,r),new Ql(e.firestore,e.converter,UT(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class aE extends nE{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new aE(e,r)}_apply(e){const r=(function(i,a,s){if(i.startAt!==null)throw new tt(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new tt(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rm(a,s)})(e._query,this._field,this._direction);return new Ql(e.firestore,e.converter,(function(i,a){const s=i.explicitOrderBy.concat([a]);return new ff(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function Cp(t,e="asc"){const r=e,n=a2("orderBy",t);return aE._create(n,r)}class sE extends nE{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new sE(e,r,n)}_apply(e){return new Ql(e.firestore,e.converter,tb(e._query,this._limit,this._limitType))}}function Qu(t){return Aie("limit",t),sE._create("limit",t,"F")}function wI(t,e,r){if(typeof(r=Wr(r))=="string"){if(r==="")throw new tt(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VV(e)&&r.indexOf("/")!==-1)throw new tt(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(br.fromString(r));if(!dt.isDocumentKey(n))throw new tt(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Om(t,new dt(n))}if(r instanceof Hi)return Om(t,r._key);throw new tt(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${t2(r)}.`)}function _I(t,e){if(!Array.isArray(t)||t.length===0)throw new tt(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cq(t,e){const r=(function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new tt(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new tt(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class uq{convertValue(e,r="none"){switch(Od(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ou(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw vt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Yd(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((s=>bn(s.doubleValue)));return new Y7(a)}convertGeoPoint(e){return new Q7(bn(e.latitude),bn(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=g7(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(jm(e));default:return null}}convertTimestamp(e){const r=Bl(e);return new kn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=br.fromString(e);St(yF(n));const i=new kd(n.get(1),n.get(3)),a=new dt(n.popFirst(5));return i.isEqual(r)||Fn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Pie extends uq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ld(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Hi(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lE extends db{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Lv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(a2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Lv extends lE{data(e={}){return super.data(e)}}class dq{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new rh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Lv(this._firestore,this._userDataWriter,n.key,n,new rh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new tt(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const d=new Lv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new rh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const d=new Lv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new rh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return l.type!==0&&(h=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),p=s.indexOf(l.doc.key)),{type:Die(l.type),doc:d,oldIndex:h,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Die(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t){t=Ua(t,Hi);const e=Ua(t.firestore,Mo);return _ie(Xg(e),t._key).then((r=>hq(e,t,r)))}class o2 extends uq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ld(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Hi(this.firestore,null,r)}}function jp(t){t=Ua(t,Ql);const e=Ua(t.firestore,Mo),r=Xg(e),n=new o2(e);return lq(t._query),Sie(r,t._query).then((i=>new dq(e,n,t,i)))}function fa(t,e,r){t=Ua(t,Hi);const n=Ua(t.firestore,Mo),i=oE(t.converter,e,r);return l2(n,[Z7(Yg(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,qn.none())])}function qr(t,e,r,...n){t=Ua(t,Hi);const i=Ua(t.firestore,Mo),a=Yg(i);let s;return s=typeof(e=Wr(e))=="string"||e instanceof Qg?iq(a,"updateDoc",t._key,e,r,n):nq(a,"updateDoc",t._key,e),l2(i,[s.toMutation(t._key,qn.exists(!0))])}function Za(t){return l2(Ua(t.firestore,Mo),[new Hg(t._key,qn.none())])}function q0(t,e){const r=Ua(t.firestore,Mo),n=pt(t),i=oE(t.converter,e);return l2(r,[Z7(Yg(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,qn.exists(!1))]).then((()=>n))}function ei(t,...e){var r,n,i;t=Wr(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||xI(e[s])||(a=e[s],s++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(xI(e[s])){const m=e[s];e[s]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[s+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let d,h,p;if(t instanceof Hi)h=Ua(t.firestore,Mo),p=Fg(t._key.path),d={next:m=>{e[s]&&e[s](hq(h,t,m))},error:e[s+1],complete:e[s+2]};else{const m=Ua(t,Ql);h=Ua(m.firestore,Mo),p=m._query;const y=new o2(h);d={next:b=>{e[s]&&e[s](new dq(h,y,m,b))},error:e[s+1],complete:e[s+2]},lq(t._query)}return(function(y,b,T,S){const w=new K7(S),N=new $7(b,w,T);return y.asyncQueue.enqueueAndForget((async()=>B7(await cb(y),N))),()=>{w.Za(),y.asyncQueue.enqueueAndForget((async()=>U7(await cb(y),N)))}})(Xg(h),p,l,d)}function l2(t,e){return(function(n,i){const a=new ao;return n.asyncQueue.enqueueAndForget((async()=>tie(await xie(n),i,a))),a.promise})(Xg(t),e)}function hq(t,e,r){const n=r.docs.get(e._key),i=new o2(t);return new lE(t,i,e._key,n,new rh(r.hasPendingWrites,r.fromCache),e.converter)}class Lie{constructor(e){let r;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),r=e.tabManager):(r=$ie(),r._initialize(e)),this._onlineComponentProvider=r._onlineComponentProvider,this._offlineComponentProvider=r._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function Bie(t){return new Lie(t)}class Uie{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Um.provider,this._offlineComponentProvider={build:r=>new ZF(r,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class zie{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Um.provider,this._offlineComponentProvider={build:r=>new mie(r,e==null?void 0:e.cacheSizeBytes)}}}function $ie(t){return new Uie(void 0)}function Vie(){return new zie}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fie={maxAttempts:5};function kp(t,e){if((t=Wr(t)).firestore!==e)throw new tt(Re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qie extends class{constructor(r,n){this._firestore=r,this._transaction=n,this._dataReader=Yg(r)}get(r){const n=kp(r,this._firestore),i=new Pie(this._firestore);return this._transaction.lookup([n._key]).then((a=>{if(!a||a.length!==1)return vt();const s=a[0];if(s.isFoundDocument())return new db(this._firestore,i,s.key,s,n.converter);if(s.isNoDocument())return new db(this._firestore,i,n._key,null,n.converter);throw vt()}))}set(r,n,i){const a=kp(r,this._firestore),s=oE(a.converter,n,i),l=Z7(this._dataReader,"Transaction.set",a._key,s,a.converter!==null,i);return this._transaction.set(a._key,l),this}update(r,n,i,...a){const s=kp(r,this._firestore);let l;return l=typeof(n=Wr(n))=="string"||n instanceof Qg?iq(this._dataReader,"Transaction.update",s._key,n,i,a):nq(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,l),this}delete(r){const n=kp(r,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=kp(e,this._firestore),n=new o2(this._firestore);return super.get(e).then((i=>new lE(this._firestore,n,r._key,i._document,new rh(!1,!1),r.converter)))}}function k5(t,e,r){t=Ua(t,Mo);const n=Object.assign(Object.assign({},Fie),r);return(function(a){if(a.maxAttempts<1)throw new tt(Re.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(a,s,l){const d=new ao;return a.asyncQueue.enqueueAndForget((async()=>{const h=await wie(a);new yie(a.asyncQueue,h,l,s,d).au()})),d.promise})(Xg(t),(i=>e(new qie(t,i))),n)}function Hie(...t){return new J7("arrayUnion",t)}(function(e,r=!0){(function(i){hf=i})(Qd),su(new Pl("firestore",((n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),l=new Mo(new Ate(n.getProvider("auth-internal")),new jte(n.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new tt(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kd(h.options.projectId,p)})(s,i),s);return a=Object.assign({useFetchStreams:r},a),l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),js(pO,"4.7.3",e),js(pO,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq="firebasestorage.googleapis.com",pq="storageBucket",Gie=120*1e3,Kie=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends lo{constructor(e,r,n=0){super(O5(e),`Firebase Storage: ${r} (${O5(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return O5(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ln;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ln||(Ln={}));function O5(t){return"storage/"+t}function cE(){const t="An unknown error occurred, please check the error payload for server response.";return new Bn(Ln.UNKNOWN,t)}function Wie(t){return new Bn(Ln.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Xie(t){return new Bn(Ln.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Qie(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bn(Ln.UNAUTHENTICATED,t)}function Yie(){return new Bn(Ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Zie(t){return new Bn(Ln.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Jie(){return new Bn(Ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eae(){return new Bn(Ln.CANCELED,"User canceled the upload/download.")}function tae(t){return new Bn(Ln.INVALID_URL,"Invalid URL '"+t+"'.")}function rae(t){return new Bn(Ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nae(){return new Bn(Ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pq+"' property when initializing the app?")}function iae(){return new Bn(Ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aae(){return new Bn(Ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sae(t){return new Bn(Ln.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function JT(t){return new Bn(Ln.INVALID_ARGUMENT,t)}function mq(){return new Bn(Ln.APP_DELETED,"The Firebase app was deleted.")}function oae(t){return new Bn(Ln.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function om(t,e){return new Bn(Ln.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Op(t){throw new Bn(Ln.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=is.makeFromUrl(e,r)}catch{return new is(e,"")}if(n.path==="")return n;throw rae(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),d={bucket:1,path:3};function h($){$.path_=decodeURIComponent($.path)}const p="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${m}/${p}/b/${i}/o${y}`,"i"),T={bucket:1,path:3},S=r===fq?"(?:storage.googleapis.com|storage.cloud.google.com)":r,w="([^?#]*)",N=new RegExp(`^https?://${S}/${i}/${w}`,"i"),j=[{regex:l,indices:d,postModify:a},{regex:b,indices:T,postModify:h},{regex:N,indices:{bucket:1,path:2},postModify:h}];for(let $=0;$<j.length;$++){const I=j[$],L=I.regex.exec(e);if(L){const E=L[I.indices.bucket];let A=L[I.indices.path];A||(A=""),n=new is(E,A),I.postModify(n);break}}if(n==null)throw tae(e);return n}}class lae{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cae(t,e,r){let n=1,i=null,a=null,s=!1,l=0;function d(){return l===2}let h=!1;function p(...w){h||(h=!0,e.apply(null,w))}function m(w){i=setTimeout(()=>{i=null,t(b,d())},w)}function y(){a&&clearTimeout(a)}function b(w,...N){if(h){y();return}if(w){y(),p.call(null,w,...N);return}if(d()||s){y(),p.call(null,w,...N);return}n<64&&(n*=2);let j;l===1?(l=2,j=0):j=(n+Math.random())*1e3,m(j)}let T=!1;function S(w){T||(T=!0,y(),!h&&(i!==null?(w||(l=2),clearTimeout(i),m(0)):w||(l=1)))}return m(0),a=setTimeout(()=>{s=!0,S(!0)},r),S}function uae(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dae(t){return t!==void 0}function hae(t){return typeof t=="object"&&!Array.isArray(t)}function uE(t){return typeof t=="string"||t instanceof String}function SI(t){return dE()&&t instanceof Blob}function dE(){return typeof Blob<"u"}function TI(t,e,r,n){if(n<e)throw JT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw JT(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function gq(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Td;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Td||(Td={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fae(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pae{constructor(e,r,n,i,a,s,l,d,h,p,m,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,T)=>{this.resolve_=b,this.reject_=T,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Wy(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=l=>{const d=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const l=a.getErrorCode()===Td.NO_ERROR,d=a.getStatus();if(!l||fae(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===Td.ABORT;n(!1,new Wy(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new Wy(h,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(l,l.getResponse());dae(d)?a(d):a()}catch(d){s(d)}else if(l!==null){const d=cE();d.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,d)):s(d)}else if(i.canceled){const d=this.appDelete_?mq():eae();s(d)}else{const d=Jie();s(d)}};this.canceled_?r(!1,new Wy(!1,null,!0)):this.backoffId_=cae(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uae(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wy{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function mae(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gae(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yae(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vae(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function bae(t,e,r,n,i,a,s=!0){const l=gq(t.urlParams),d=t.url+l,h=Object.assign({},t.headers);return yae(h,e),mae(h,r),gae(h,a),vae(h,n),new pae(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xae(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wae(...t){const e=xae();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(dE())return new Blob(t);throw new Bn(Ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _ae(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sae(t){if(typeof atob>"u")throw sae("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class I5{constructor(e,r){this.data=e,this.contentType=r||null}}function Tae(t,e){switch(t){case Ao.RAW:return new I5(yq(e));case Ao.BASE64:case Ao.BASE64URL:return new I5(vq(t,e));case Ao.DATA_URL:return new I5(Eae(e),Nae(e))}throw cE()}function yq(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,s=t.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Aae(t){let e;try{e=decodeURIComponent(t)}catch{throw om(Ao.DATA_URL,"Malformed data URL.")}return yq(e)}function vq(t,e){switch(t){case Ao.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw om(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ao.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw om(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Sae(e)}catch(i){throw i.message.includes("polyfill")?i:om(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class bq{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw om(Ao.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Cae(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function Eae(t){const e=new bq(t);return e.base64?vq(Ao.BASE64,e.rest):Aae(e.rest)}function Nae(t){return new bq(t).contentType}function Cae(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,r){let n=0,i="";SI(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(SI(this.data_)){const n=this.data_,i=_ae(n,e,r);return i===null?null:new Fc(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Fc(n,!0)}}static getBlob(...e){if(dE()){const r=e.map(n=>n instanceof Fc?n.data_:n);return new Fc(wae.apply(null,r))}else{const r=e.map(s=>uE(s)?Tae(Ao.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let l=0;l<s.length;l++)i[a++]=s[l]}),new Fc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(t){let e;try{e=JSON.parse(t)}catch{return null}return hae(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jae(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kae(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function wq(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oae(t,e){return e}class ua{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||Oae}}let Xy=null;function Iae(t){return!uE(t)||t.length<2?t:wq(t)}function _q(){if(Xy)return Xy;const t=[];t.push(new ua("bucket")),t.push(new ua("generation")),t.push(new ua("metageneration")),t.push(new ua("name","fullPath",!0));function e(a,s){return Iae(s)}const r=new ua("name");r.xform=e,t.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new ua("size");return i.xform=n,t.push(i),t.push(new ua("timeCreated")),t.push(new ua("updated")),t.push(new ua("md5Hash",null,!0)),t.push(new ua("cacheControl",null,!0)),t.push(new ua("contentDisposition",null,!0)),t.push(new ua("contentEncoding",null,!0)),t.push(new ua("contentLanguage",null,!0)),t.push(new ua("contentType",null,!0)),t.push(new ua("metadata","customMetadata",!0)),Xy=t,Xy}function Rae(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new is(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function Mae(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,e[s.server])}return Rae(n,t),n}function Sq(t,e,r){const n=xq(e);return n===null?null:Mae(t,n,r)}function Pae(t,e,r,n){const i=xq(e);if(i===null||!uE(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(h=>{const p=t.bucket,m=t.fullPath,y="/b/"+s(p)+"/o/"+s(m),b=c2(y,r,n),T=gq({alt:"media",token:h});return b+T})[0]}function Dae(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class hE{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(t){if(!t)throw cE()}function Lae(t,e){function r(n,i){const a=Sq(t,i,e);return Tq(a!==null),a}return r}function Bae(t,e){function r(n,i){const a=Sq(t,i,e);return Tq(a!==null),Pae(a,i,t.host,t._protocol)}return r}function Aq(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=Yie():i=Qie():r.getStatus()===402?i=Xie(t.bucket):r.getStatus()===403?i=Zie(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function Eq(t){const e=Aq(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=Wie(t.path)),a.serverResponse=i.serverResponse,a}return r}function Uae(t,e,r){const n=e.fullServerUrl(),i=c2(n,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,l=new hE(i,a,Bae(t,r),s);return l.errorHandler=Eq(e),l}function zae(t,e){const r=e.fullServerUrl(),n=c2(r,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function s(d,h){}const l=new hE(n,i,s,a);return l.successCodes=[200,204],l.errorHandler=Eq(e),l}function $ae(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Vae(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=$ae(null,e)),n}function Fae(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let j="";for(let $=0;$<2;$++)j=j+Math.random().toString().slice(2);return j}const d=l();s["Content-Type"]="multipart/related; boundary="+d;const h=Vae(e,n,i),p=Dae(h,r),m="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,y=`\r
--`+d+"--",b=Fc.getBlob(m,n,y);if(b===null)throw iae();const T={name:h.fullPath},S=c2(a,t.host,t._protocol),w="POST",N=t.maxUploadRetryTime,k=new hE(S,w,Lae(t,r),N);return k.urlParams=T,k.headers=s,k.body=b.uploadData(),k.errorHandler=Aq(e),k}class qae{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Td.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Td.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Td.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Op("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Op("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Op("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Op("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Op("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Hae extends qae{initXhr(){this.xhr_.responseType="text"}}function fE(){return new Hae}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,r){this._service=e,r instanceof is?this._location=r:this._location=is.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Bd(e,r)}get root(){const e=new is(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wq(this._location.path)}get storage(){return this._service}get parent(){const e=jae(this._location.path);if(e===null)return null;const r=new is(this._location.bucket,e);return new Bd(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw oae(e)}}function Gae(t,e,r){t._throwIfRoot("uploadBytes");const n=Fae(t.storage,t._location,_q(),new Fc(e,!0),r);return t.storage.makeRequestWithTokens(n,fE).then(i=>({metadata:i,ref:t}))}function Kae(t){t._throwIfRoot("getDownloadURL");const e=Uae(t.storage,t._location,_q());return t.storage.makeRequestWithTokens(e,fE).then(r=>{if(r===null)throw aae();return r})}function Wae(t){t._throwIfRoot("deleteObject");const e=zae(t.storage,t._location);return t.storage.makeRequestWithTokens(e,fE)}function Xae(t,e){const r=kae(t._location.path,e),n=new is(t._location.bucket,r);return new Bd(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qae(t){return/^[A-Za-z]+:\/\//.test(t)}function Yae(t,e){return new Bd(t,e)}function Nq(t,e){if(t instanceof pE){const r=t;if(r._bucket==null)throw nae();const n=new Bd(r,r._bucket);return e!=null?Nq(n,e):n}else return e!==void 0?Xae(t,e):t}function Zae(t,e){if(e&&Qae(e)){if(t instanceof pE)return Yae(t,e);throw JT("To use ref(service, url), the first argument must be a Storage instance.")}else return Nq(t,e)}function AI(t,e){const r=e==null?void 0:e[pq];return r==null?null:is.makeFromBucketSpec(r,t)}function Jae(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:eZ(i,t.app.options.projectId))}class pE{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=fq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Gie,this._maxUploadRetryTime=Kie,this._requests=new Set,i!=null?this._bucket=is.makeFromBucketSpec(i,this._host):this._bucket=AI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=is.makeFromBucketSpec(this._url,e):this._bucket=AI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bd(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new lae(mq());{const s=bae(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const EI="@firebase/storage",NI="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq="storage";function eA(t,e,r){return t=Wr(t),Gae(t,e,r)}function hb(t){return t=Wr(t),Kae(t)}function ese(t){return t=Wr(t),Wae(t)}function lm(t,e){return t=Wr(t),Zae(t,e)}function tse(t=J8(),e){t=Wr(t);const n=Lg(t,Cq).getImmediate({identifier:e}),i=S$("storage");return i&&rse(n,...i),n}function rse(t,e,r,n={}){Jae(t,e,r,n)}function nse(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new pE(r,n,i,e,Qd)}function ise(){su(new Pl(Cq,nse,"PUBLIC").setMultipleInstances(!0)),js(EI,NI,""),js(EI,NI,"esm2017")}ise();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ase="type.googleapis.com/google.protobuf.Int64Value",sse="type.googleapis.com/google.protobuf.UInt64Value";function jq(t,e){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function tA(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>tA(e));if(typeof t=="function"||typeof t=="object")return jq(t,e=>tA(e));throw new Error("Data cannot be encoded in JSON: "+t)}function fb(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case ase:case sse:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>fb(e)):typeof t=="function"||typeof t=="object"?jq(t,e=>fb(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dh extends lo{constructor(e,r,n){super(`${mE}/${e}`,r||""),this.details=n}}function ose(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function lse(t,e){let r=ose(t),n=r,i;try{const a=e&&e.error;if(a){const s=a.status;if(typeof s=="string"){if(!CI[s])return new dh("internal","internal");r=CI[s],n=s}const l=a.message;typeof l=="string"&&(n=l),i=a.details,i!==void 0&&(i=fb(i))}}catch{}return r==="ok"?null:new dh(r,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||n.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="us-central1";function use(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new dh("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class dse{constructor(e,r,n,i,a=rA,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new cse(r,n,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(a);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=rA}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function hse(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}function fse(t,e,r){return(n=>mse(t,e,n,{}))}async function pse(t,e,r,n){r["Content-Type"]="application/json";let i;try{i=await n(t,{method:"POST",body:JSON.stringify(e),headers:r})}catch{return{status:0,json:null}}let a=null;try{a=await i.json()}catch{}return{status:i.status,json:a}}function mse(t,e,r,n){const i=t._url(e);return gse(t,i,r,n)}async function gse(t,e,r,n){r=tA(r);const i={data:r},a={},s=await t.contextProvider.getContext(n.limitedUseAppCheckTokens);s.authToken&&(a.Authorization="Bearer "+s.authToken),s.messagingToken&&(a["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=s.appCheckToken);const l=n.timeout||7e4,d=use(l),h=await Promise.race([pse(e,i,a,t.fetchImpl),d.promise,t.cancelAllRequests]);if(d.cancel(),!h)throw new dh("cancelled","Firebase Functions instance was deleted.");const p=lse(h.status,h.json);if(p)throw p;if(!h.json)throw new dh("internal","Response is not valid JSON object.");let m=h.json.data;if(typeof m>"u"&&(m=h.json.result),typeof m>"u")throw new dh("internal","Response is missing data field.");return{data:fb(m)}}const jI="@firebase/functions",kI="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yse="auth-internal",vse="app-check-internal",bse="messaging-internal";function xse(t,e){const r=(n,{instanceIdentifier:i})=>{const a=n.getProvider("app").getImmediate(),s=n.getProvider(yse),l=n.getProvider(bse),d=n.getProvider(vse);return new dse(a,s,l,d,i,t)};su(new Pl(mE,r,"PUBLIC").setMultipleInstances(!0)),js(jI,kI,e),js(jI,kI,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wse(t=J8(),e=rA){const n=Lg(Wr(t),mE).getImmediate({identifier:e}),i=S$("functions");return i&&_se(n,...i),n}function _se(t,e,r){hse(Wr(t),e,r)}function Br(t,e,r){return fse(Wr(t),e)}xse(fetch.bind(self));const kq={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},Sse=["apiKey","authDomain","projectId","storageBucket","appId"];for(const t of Sse)if(!kq[t])throw new Error(`Missing required Firebase config: ${t}. Check your .env.local file.`);const u2=k$(kq),nA=uV(u2),Tse=new vl,Ve=Eie(u2,{localCache:Bie({tabManager:Vie()})}),cm=tse(u2),Ur=wse(u2),Ase=Br(Ur,"awardXP"),Ese=Br(Ur,"acceptQuest"),Nse=Br(Ur,"deployMission"),Cse=Br(Ur,"resolveQuest"),jse=Br(Ur,"equipItem"),kse=Br(Ur,"unequipItem"),Ose=Br(Ur,"disenchantItem"),Ise=Br(Ur,"craftItem"),Rse=Br(Ur,"adminUpdateInventory"),Mse=Br(Ur,"adminUpdateEquipped"),Pse=Br(Ur,"submitEngagement"),Dse=Br(Ur,"sendClassMessage");Br(Ur,"uploadQuestionBank");const Oq=Br(Ur,"awardQuestionXP"),Lse=Br(Ur,"updateStreak"),Bse=Br(Ur,"claimDailyLogin"),Use=Br(Ur,"spinFortuneWheel"),zse=Br(Ur,"unlockSkill"),$se=Br(Ur,"addSocket"),Vse=Br(Ur,"socketGem"),Fse=Br(Ur,"dealBossDamage"),qse=Br(Ur,"answerBossQuiz"),Hse=Br(Ur,"createParty"),Gse=Br(Ur,"joinParty"),Kse=Br(Ur,"completeTutoring"),Wse=Br(Ur,"claimKnowledgeLoot"),Xse=Br(Ur,"purchaseCosmetic"),Qse=Br(Ur,"claimDailyChallenge"),Yse=Br(Ur,"dismissAlert"),pb=()=>({pasteCount:0,engagementTime:0,keystrokes:0,clickCount:0,startTime:Date.now(),lastActive:Date.now()}),sd={THRIVING:{label:"Thriving",description:"Consistently high engagement with strong original work.",color:"text-emerald-400",bgColor:"bg-emerald-500/15",borderColor:"border-emerald-500/30",icon:"star"},ON_TRACK:{label:"On Track",description:"Meeting expectations with steady engagement.",color:"text-blue-400",bgColor:"bg-blue-500/15",borderColor:"border-blue-500/30",icon:"check"},COASTING:{label:"Coasting",description:"Below-average engagement  doing the minimum.",color:"text-yellow-400",bgColor:"bg-yellow-500/15",borderColor:"border-yellow-500/30",icon:"minus"},SPRINTING:{label:"Sprinting",description:"Inconsistent: high bursts of activity with gaps between.",color:"text-orange-400",bgColor:"bg-orange-500/15",borderColor:"border-orange-500/30",icon:"zap"},STRUGGLING:{label:"Struggling",description:"Putting in effort but achieving low results  may need support.",color:"text-purple-400",bgColor:"bg-purple-500/15",borderColor:"border-purple-500/30",icon:"help"},DISENGAGING:{label:"Disengaging",description:"Activity is declining  was active but now trailing off.",color:"text-red-400",bgColor:"bg-red-500/15",borderColor:"border-red-500/30",icon:"trending-down"},INACTIVE:{label:"Inactive",description:"No meaningful activity detected in the analysis window.",color:"text-gray-400",bgColor:"bg-gray-500/15",borderColor:"border-gray-500/30",icon:"x"},COPYING:{label:"Copying",description:"High paste-to-keystroke ratio  may indicate copy-paste behavior.",color:"text-rose-400",bgColor:"bg-rose-500/15",borderColor:"border-rose-500/30",icon:"clipboard"}};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Iq=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eoe=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...l},d)=>P.createElement("svg",{ref:d,...Jse,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Iq("lucide",i),...l},[...s.map(([h,p])=>P.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(t,e)=>{const r=P.forwardRef(({className:n,...i},a)=>P.createElement(eoe,{ref:a,iconNode:e,className:Iq(`lucide-${Zse(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=ze("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=ze("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=ze("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=ze("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=ze("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=ze("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=ze("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=ze("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=ze("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=ze("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=ze("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=ze("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=ze("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=ze("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=ze("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=ze("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=ze("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=ze("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=ze("Dice5",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=ze("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=ze("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=ze("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=ze("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=ze("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=ze("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=ze("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=ze("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=ze("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=ze("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=ze("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=ze("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=ze("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=ze("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=ze("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=ze("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=ze("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=ze("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=ze("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=ze("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=ze("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=ze("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=ze("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=ze("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=ze("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=ze("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=ze("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=ze("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=ze("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=ze("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=ze("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=ze("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=ze("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=ze("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=ze("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=ze("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=ze("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=ze("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=ze("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=ze("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=ze("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=ze("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=ze("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=ze("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=ze("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=ze("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=ze("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=ze("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=ze("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=ze("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=ze("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=ze("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Koe="kellporter2@paps.net",Hq="Mr. Porter",Woe=[{name:"Dashboard",icon:u.jsx(Toe,{className:"w-5 h-5"}),role:"ADMIN"},{name:"Admin Panel",icon:u.jsx(h2,{className:"w-5 h-5"}),role:"ADMIN"},{name:"User Management",icon:u.jsx(uu,{className:"w-5 h-5"}),role:"ADMIN"},{name:"XP Command",icon:u.jsx(Po,{className:"w-5 h-5"}),role:"ADMIN"},{name:"Resources",icon:u.jsx(xE,{className:"w-5 h-5"}),role:"STUDENT"},{name:"Agent Loadout",icon:u.jsx(mb,{className:"w-5 h-5"}),role:"STUDENT"},{name:"Missions",icon:u.jsx(Po,{className:"w-5 h-5"}),role:"STUDENT"},{name:"Badges",icon:u.jsx(Ud,{className:"w-5 h-5"}),role:"STUDENT"},{name:"Skills",icon:u.jsx(voe,{className:"w-5 h-5"}),role:"STUDENT"},{name:"Fortune",icon:u.jsx(hoe,{className:"w-5 h-5"}),role:"STUDENT"},{name:"Tutoring",icon:u.jsx(Rh,{className:"w-5 h-5"}),role:"STUDENT"}],$I=new Set,Ws=(t,e,r)=>$I.has(t)?()=>{}:ei(e,r,n=>{console.warn(`[guardedSnapshot] ${t} blocked:`,(n==null?void 0:n.code)||n),((n==null?void 0:n.code)==="permission-denied"||(n==null?void 0:n.code)==="failed-precondition")&&$I.add(t)}),$e={getWeekId:()=>{const t=new Date,e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const r=new Date(Date.UTC(e.getUTCFullYear(),0,1)),n=Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7);return`${e.getUTCFullYear()}-W${n.toString().padStart(2,"0")}`},subscribeToXPEvents:t=>Ws("xp_events",nr(Ve,"xp_events"),e=>{t(e.docs.map(r=>({id:r.id,...r.data()})))}),saveXPEvent:async t=>{await fa(pt(Ve,"xp_events",t.id),t)},deleteXPEvent:async t=>{await Za(pt(Ve,"xp_events",t))},subscribeToQuests:t=>Ws("quests",nr(Ve,"quests"),e=>{t(e.docs.map(r=>({id:r.id,...r.data()})))}),saveQuest:async t=>{await fa(pt(Ve,"quests",t.id),t)},deleteQuest:async t=>{await Za(pt(Ve,"quests",t))},acceptQuest:async(t,e)=>{await Ese({questId:e})},deployMission:async(t,e)=>{await Nse({questId:e.id})},resolveQuest:async(t,e,r,n)=>{await Cse({userId:t,questId:e.id,success:r,classType:n})},adjustUserXP:async(t,e,r)=>{await $e.awardXP(t,e,r)},equipItem:async(t,e,r)=>{await jse({itemId:e.id,classType:r})},unequipItem:async(t,e,r)=>{await kse({slot:e,classType:r})},disenchantItem:async(t,e,r)=>{await Ose({itemId:e.id,classType:r})},craftItem:async(t,e,r,n)=>{await Ise({itemId:e.id,action:r,classType:n})},adminUpdateInventory:async(t,e,r,n)=>{await Rse({userId:t,inventory:e,currency:r,classType:n})},adminUpdateEquipped:async(t,e,r)=>{await Mse({userId:t,equipped:e,classType:r})},updateUserAppearance:async(t,e,r)=>{try{const n=pt(Ve,"users",t);r?await qr(n,{[`gamification.classProfiles.${r}.appearance`]:e}):await qr(n,{"gamification.appearance":e})}catch(n){throw console.error("Error updating appearance:",n),n}},sendMessage:async(t,e,r,n)=>{try{if(t.mutedUntil){const i=new Date(t.mutedUntil);if(i>new Date)throw new Error(`You are muted until ${i.toLocaleTimeString()}.`)}await Dse({content:e,channelId:r,classType:n})}catch(i){throw console.error("Error sending message:",i),i}},toggleReaction:async(t,e,r)=>{const n=pt(Ve,"class_messages",t);await k5(Ve,async i=>{const a=await i.get(n);if(!a.exists())return;const l={...a.data().reactions||{}},d=(l[e]||[]).includes(r);Object.keys(l).forEach(h=>{l[h]=(l[h]||[]).filter(p=>p!==r),l[h].length===0&&delete l[h]}),d||(l[e]||(l[e]=[]),l[e].push(r)),i.update(n,{reactions:l})})},togglePersonalPin:async(t,e)=>{const r=pt(Ve,"class_messages",t);await k5(Ve,async n=>{const i=await n.get(r);if(!i.exists())return;const s=[...i.data().pinnedBy||[]];s.includes(e)?n.update(r,{pinnedBy:s.filter(l=>l!==e)}):n.update(r,{pinnedBy:[...s,e]})})},toggleGlobalPin:async(t,e)=>{const r=pt(Ve,"class_messages",t);await qr(r,{isGlobalPinned:e})},deleteMessage:async t=>{try{await Za(pt(Ve,"class_messages",t))}catch(e){throw console.error("Error deleting message:",e),e}},subscribeToFlaggedMessages:t=>{const e=En(nr(Ve,"class_messages"),Rn("isFlagged","==",!0),Qu(50));return ei(e,r=>{const n=r.docs.map(i=>({id:i.id,...i.data()}));n.sort((i,a)=>new Date(a.timestamp).getTime()-new Date(i.timestamp).getTime()),t(n)},r=>{console.error("Subscribe Flagged Messages Error:",r)})},unflagMessage:async t=>{try{const e=pt(Ve,"class_messages",t);await qr(e,{isFlagged:!1,systemNote:""})}catch(e){throw console.error("Error unflagging message:",e),e}},INDEFINITE_MUTE:-2,muteUser:async(t,e)=>{try{let r=null;e===$e.INDEFINITE_MUTE?r=new Date("9999-12-31").toISOString():e>0&&(r=new Date(Date.now()+e*6e4).toISOString()),await qr(pt(Ve,"users",t),{mutedUntil:r})}catch(r){throw console.error("Error muting user:",r),r}},subscribeToChannelMessages:(t,e)=>{const r=En(nr(Ve,"class_messages"),Rn("channelId","==",t),Qu(100));return ei(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));i.sort((a,s)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime()),e(i)},n=>{console.error("Subscribe Messages Error:",n)})},subscribeToAllConversations:t=>{const e=En(nr(Ve,"conversations"),Cp("lastMessageAt","desc"));return ei(e,r=>{t(r.docs.map(n=>({id:n.id,...n.data()})))},r=>console.error("Conversations subscription error:",r))},subscribeToChatMessages:(t,e)=>{const r=En(nr(Ve,`conversations/${t}/messages`),Cp("timestamp","asc"));return ei(r,n=>{e(n.docs.map(i=>({id:i.id,...i.data()})))},n=>console.error("Chat messages subscription error:",n))},sendChatMessage:async(t,e,r)=>{const n={senderId:e.id,senderName:e.role===Ji.ADMIN?Hq:e.name,content:r,timestamp:new Date().toISOString()};await q0(nr(Ve,`conversations/${t}/messages`),n),await qr(pt(Ve,"conversations",t),{lastMessage:r,lastMessageAt:new Date().toISOString()})},toggleConversationDisable:async(t,e)=>{await qr(pt(Ve,"conversations",t),{adminDisabled:e})},subscribeToChatFlags:t=>{const e=En(nr(Ve,"chat_flags"),Rn("isResolved","==",!1));return ei(e,r=>{const n=r.docs.map(i=>({id:i.id,...i.data()}));n.sort((i,a)=>new Date(a.timestamp).getTime()-new Date(i.timestamp).getTime()),t(n)},r=>{console.error("Subscribe Flags Error:",r)})},resolveFlag:async t=>{await qr(pt(Ve,"chat_flags",t),{isResolved:!0})},resolveFlagByMessageId:async t=>{try{const e=En(nr(Ve,"chat_flags"),Rn("messageId","==",t),Rn("isResolved","==",!1)),n=(await jp(e)).docs.map(i=>qr(i.ref,{isResolved:!0}));await Promise.all(n)}catch(e){console.error("Error resolving flag by messageId:",e)}},subscribeToEvidence:(t,e,r)=>{const n=En(nr(Ve,"evidence"),Rn("studentId","==",t),Rn("weekId","==",e));return ei(n,i=>{const a=i.docs.map(s=>({id:s.id,...s.data()}));r(a)},i=>console.error("Evidence subscription error:",i))},uploadEvidence:async t=>{await fa(pt(Ve,"evidence",t.id),t,{merge:!0})},deleteWeeklyEvidence:async t=>{try{const e=t.map(n=>{if(!n.imageUrl)return Promise.resolve();const i=lm(cm,n.imageUrl);return ese(i).catch(a=>console.warn("File missing:",a))});await Promise.all(e);const r=t.map(n=>Za(pt(Ve,"evidence",n.id)));await Promise.all(r)}catch(e){throw console.error("Error clearing weekly evidence:",e),new Error("Failed to clear evidence log.")}},saveLabReport:async t=>{await fa(pt(Ve,"lab_reports",t.id),t,{merge:!0})},updateUserSettings:async(t,e)=>{try{const r=pt(Ve,"users",t);await qr(r,{settings:e})}catch(r){console.error("Error updating settings:",r)}},updateUserLastLevelSeen:async(t,e)=>{await qr(pt(Ve,"users",t),{"gamification.lastLevelSeen":e})},generateCodename:async t=>{const e=["Neon","Quantum","Dark","Atomic","Silent","Lunar","Iron","Plasma","Forensic"],r=["Quark","Proton","Trace","Nova","Pulse","Specter","Vertex","Agent","Observer"],n=`${e[Math.floor(Math.random()*e.length)]} ${r[Math.floor(Math.random()*r.length)]}`;await qr(pt(Ve,"users",t),{"gamification.codename":n})},subscribeToUsers:t=>{const e=nr(Ve,"users");return ei(e,r=>{const n=r.docs.map(i=>{const a=i.data();return{id:i.id,...a}});t(n)},r=>console.error("Users subscription error:",r))},subscribeToAssignments:t=>{const e=nr(Ve,"assignments");return ei(e,r=>{const n=r.docs.map(i=>{const a=i.data();return{id:i.id,title:a.title,description:a.description,classType:a.classType,status:a.status,unit:a.unit||"Unassigned Unit",category:a.category||"Supplemental",htmlContent:a.htmlContent,contentUrl:a.contentUrl,resources:a.resources||[],publicComments:(a.publicComments||[]).sort((s,l)=>new Date(l.timestamp).getTime()-new Date(s.timestamp).getTime()),dueDate:a.dueDate}});t(n)},r=>console.error("Assignments subscription error:",r))},subscribeToSubmissions:t=>{const e=En(nr(Ve,"submissions"),Cp("submittedAt","desc"),Qu(200));return ei(e,r=>{const n=r.docs.map(i=>{const a=i.data();return{id:i.id,userId:a.userId,userName:a.userName,assignmentId:a.assignmentId,assignmentTitle:a.assignmentTitle,metrics:a.metrics||pb(),submittedAt:a.submittedAt,status:a.status,score:a.score,hasUnreadAdmin:a.hasUnreadAdmin||!1,hasUnreadStudent:a.hasUnreadStudent||!1,isPinned:a.isPinned||!1,isArchived:a.isArchived||!1,privateComments:(a.privateComments||[]).sort((s,l)=>new Date(l.timestamp).getTime()-new Date(s.timestamp).getTime())}});t(n)},r=>console.error("Submissions subscription error:",r))},subscribeToUserSubmissions:(t,e)=>{const r=En(nr(Ve,"submissions"),Rn("userId","==",t),Qu(50));return ei(r,n=>{const i=n.docs.map(a=>{const s=a.data();return{id:a.id,userId:s.userId,userName:s.userName,assignmentId:s.assignmentId,assignmentTitle:s.assignmentTitle,metrics:s.metrics||pb(),submittedAt:s.submittedAt,status:s.status,score:s.score,hasUnreadAdmin:s.hasUnreadAdmin||!1,hasUnreadStudent:s.hasUnreadStudent||!1,isPinned:s.isPinned||!1,isArchived:s.isArchived||!1,privateComments:(s.privateComments||[]).sort((l,d)=>new Date(d.timestamp).getTime()-new Date(l.timestamp).getTime())}}).sort((a,s)=>new Date(s.submittedAt||"").getTime()-new Date(a.submittedAt||"").getTime());e(i)},n=>console.error("User submissions subscription error:",n))},subscribeToWhitelist:t=>{const e=nr(Ve,"allowed_emails");return ei(e,r=>{const n=r.docs.map(i=>({email:i.id,classType:i.data().classType,classTypes:i.data().classTypes||[i.data().classType].filter(Boolean)}));t(n)},r=>console.error("Whitelist subscription error:",r))},subscribeToClassConfigs:t=>{const e=nr(Ve,"class_configs");return ei(e,r=>{const n=r.docs.map(i=>({id:i.id,...i.data()}));t(n)},r=>console.error("ClassConfigs subscription error:",r))},addAssignment:async t=>{try{const e={title:t.title,description:t.description,classType:t.classType,status:t.status,unit:t.unit||"Unassigned Unit",category:t.category||"Textbook",htmlContent:t.htmlContent||"",contentUrl:t.contentUrl||null,resources:t.resources||[],publicComments:t.publicComments||[],dueDate:t.dueDate||null};t.id?await fa(pt(Ve,"assignments",t.id),e,{merge:!0}):await q0(nr(Ve,"assignments"),e)}catch(e){throw console.error(e),e}},updateAssignmentStatus:async(t,e)=>{try{await qr(pt(Ve,"assignments",t),{status:e})}catch(r){console.error(r)}},deleteAssignment:async t=>{try{await Za(pt(Ve,"assignments",t))}catch(e){console.error(e)}},addToWhitelist:async(t,e)=>{try{const r=pt(Ve,"allowed_emails",t),n=await Vi(r),i=n.exists()?n.data().classTypes||[n.data().classType].filter(Boolean):[],a=Array.from(new Set([...i,e]));await fa(r,{classType:e,classTypes:a});const s=En(nr(Ve,"users"),Rn("email","==",t)),l=await jp(s);await Promise.all(l.docs.map(async d=>{const h=d.data(),p=h.enrolledClasses||(h.classType?[h.classType]:[]),m=Array.from(new Set([...p,e]));await qr(pt(Ve,"users",d.id),{isWhitelisted:!0,classType:e,enrolledClasses:m})}))}catch(r){console.error(r)}},updateWhitelistSection:async(t,e)=>{try{await qr(pt(Ve,"allowed_emails",t),{section:e});const r=En(nr(Ve,"users"),Rn("email","==",t)),n=await jp(r);await Promise.all(n.docs.map(async i=>{await qr(pt(Ve,"users",i.id),{section:e})}))}catch(r){console.error(r)}},removeFromWhitelist:async t=>{try{await Za(pt(Ve,"allowed_emails",t));const e=En(nr(Ve,"users"),Rn("email","==",t)),r=await jp(e);await Promise.all(r.docs.map(async n=>{await qr(pt(Ve,"users",n.id),{isWhitelisted:!1,enrolledClasses:[],classType:"Uncategorized"})}))}catch(e){console.error(e)}},approveUser:async(t,e)=>{try{const r=pt(Ve,"users",t),n=await Vi(r);if(n.exists()){const i=n.data(),a=i.enrolledClasses||(i.classType?[i.classType]:[]),s=Array.from(new Set([...a,e]));await qr(r,{isWhitelisted:!0,classType:e,enrolledClasses:s});const l=i.email;if(l){const d=await Vi(pt(Ve,"allowed_emails",l)),h=d.exists()?d.data().classTypes||[d.data().classType].filter(Boolean):[],p=Array.from(new Set([...h,e]));await fa(pt(Ve,"allowed_emails",l),{classType:e,classTypes:p})}}}catch(r){console.error(r)}},removeUser:async t=>{try{const e=await Vi(pt(Ve,"users",t));if(e.exists()){const r=e.data().email;await Za(pt(Ve,"allowed_emails",r))}await Za(pt(Ve,"users",t))}catch(e){console.error(e)}},submitAssignment:async t=>{try{const e=`${t.userId}_${t.assignmentId}`;await fa(pt(Ve,"submissions",e),{userId:t.userId,userName:t.userName,assignmentId:t.assignmentId,assignmentTitle:t.assignmentTitle,metrics:t.metrics,status:t.status,score:t.score,submittedAt:new Date().toISOString()},{merge:!0})}catch(e){console.error(e)}},updateUserEnrolledClasses:async(t,e)=>{try{const r=pt(Ve,"users",t),n=await Vi(r);if(!n.exists())return;const a=n.data().email,s={enrolledClasses:e,classType:e.length>0?e[0]:"Uncategorized"};e.length===0?(s.isWhitelisted=!1,a&&await Za(pt(Ve,"allowed_emails",a))):(s.isWhitelisted=!0,a&&await fa(pt(Ve,"allowed_emails",a),{classType:e[0],classTypes:e})),await qr(r,s)}catch(r){console.error("Error updating user classes:",r)}},updateUserClass:async(t,e)=>{try{const r=pt(Ve,"users",t),n=await Vi(r);if(n.exists()){const i=n.data().enrolledClasses||[],a=Array.from(new Set([...i,e]));await qr(r,{classType:e,enrolledClasses:a,isWhitelisted:!0});const s=n.data().email;s&&await fa(pt(Ve,"allowed_emails",s),{classType:e})}}catch(r){console.error(r)}},switchUserView:async(t,e)=>{try{await qr(pt(Ve,"users",t),{classType:e})}catch(r){console.error("Error switching view:",r)}},awardXP:async(t,e,r)=>{await Ase({targetUserId:t,amount:e,classType:r})},submitEngagement:async(t,e,r,n,i,a)=>(await Pse({assignmentId:r,assignmentTitle:n,userName:e,metrics:i,classType:a})).data,subscribeToLeaderboard:t=>{const e=En(nr(Ve,"users"),Rn("role","==","STUDENT"));return ei(e,r=>{t(r.docs.map(n=>({id:n.id,...n.data()})))},r=>console.error("Leaderboard subscription error:",r))},saveClassConfig:async t=>{try{await fa(pt(Ve,"class_configs",t.className),t)}catch(e){throw console.error("Error saving class config:",e),e}},deleteClassConfig:async t=>{try{await Za(pt(Ve,"class_configs",t))}catch(e){throw console.error("Error deleting class config:",e),e}},uploadResource:async t=>{const e=Math.random().toString(36).substring(2,9),r=lm(cm,`resources/${e}_${t.name}`);return await eA(r,t),await hb(r)},uploadHtmlResource:async t=>{const e=Math.random().toString(36).substring(2,9),r=lm(cm,`resources/html/${e}_${t.name}`);return await eA(r,t),await hb(r)},subscribeToAnnouncements:t=>{const e=En(nr(Ve,"announcements"),Cp("createdAt","desc"),Qu(20));return Ws("announcements",e,r=>{const n=new Date,i=r.docs.map(a=>({id:a.id,...a.data()})).filter(a=>!a.expiresAt||new Date(a.expiresAt)>n);t(i)})},createAnnouncement:async t=>{await q0(nr(Ve,"announcements"),t)},deleteAnnouncement:async t=>{await Za(pt(Ve,"announcements",t))},dismissAnnouncement:async(t,e)=>{await qr(pt(Ve,"users",t),{"gamification.dismissedAnnouncements":Hie(e)})},subscribeToNotifications:(t,e)=>{const r=En(nr(Ve,"notifications"),Rn("userId","==",t),Cp("timestamp","desc"),Qu(50));return ei(r,n=>{e(n.docs.map(i=>({id:i.id,...i.data()})))},n=>console.error("Notifications subscription error:",n))},markNotificationRead:async t=>{await qr(pt(Ve,"notifications",t),{isRead:!0})},markAllNotificationsRead:async t=>{const e=En(nr(Ve,"notifications"),Rn("userId","==",t),Rn("isRead","==",!1)),n=(await jp(e)).docs.map(i=>qr(i.ref,{isRead:!0}));await Promise.all(n)},createNotification:async t=>{await q0(nr(Ve,"notifications"),t)},notifyUsers:async(t,e,r,n,i)=>{const a=t.map(s=>q0(nr(Ve,"notifications"),{userId:s,type:e,title:r,message:n,timestamp:new Date().toISOString(),isRead:!1,meta:i||{}}));await Promise.all(a)},updateCodename:async(t,e)=>{await qr(pt(Ve,"users",t),{"gamification.codename":e})},updateEngagementStreak:async()=>(await Lse({})).data,claimDailyLogin:async()=>(await Bse({})).data,spinFortuneWheel:async t=>(await Use({classType:t})).data,unlockSkill:async(t,e)=>(await zse({skillId:t,specialization:e})).data,addSocket:async(t,e)=>(await $se({itemId:t,classType:e})).data,socketGem:async(t,e,r)=>(await Vse({itemId:t,gemId:e,classType:r})).data,subscribeToBossEncounters:t=>{const e=En(nr(Ve,"boss_encounters"),Rn("isActive","==",!0));return Ws("boss_encounters",e,r=>{t(r.docs.map(n=>({id:n.id,...n.data()})))})},subscribeToBossShards:(t,e)=>{const r=nr(Ve,`boss_encounters/${t}/shards`);return ei(r,n=>{let i=0;n.forEach(a=>{i+=a.data().damageDealt||0}),e(i)},()=>{})},subscribeToBossDamageLog:(t,e)=>{const r=nr(Ve,`boss_encounters/${t}/damage_log`);return ei(r,n=>{const i=n.docs.map(a=>a.data());e(i)},()=>{})},dealBossDamage:async(t,e,r)=>(await Fse({bossId:t,damage:e,userName:r})).data,subscribeToBossQuizzes:(t,e)=>{const r=En(nr(Ve,"boss_quizzes"),Rn("isActive","==",!0));return Ws("boss_quizzes",r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()})).filter(a=>a.classType===t||a.classType==="GLOBAL");e(i)})},subscribeToBossQuizShards:(t,e)=>{const r=nr(Ve,`boss_quizzes/${t}/shards`);return ei(r,n=>{let i=0;n.forEach(a=>{i+=a.data().damageDealt||0}),e(i)},()=>{})},answerBossQuiz:async(t,e,r)=>(await qse({quizId:t,questionId:e,answer:r})).data,createParty:async(t,e)=>(await Hse({questId:t,userName:e})).data,joinParty:async(t,e)=>(await Gse({partyId:t,userName:e})).data,subscribeToParty:(t,e)=>ei(pt(Ve,"parties",t),r=>{r.exists()?e({id:r.id,...r.data()}):e(null)},r=>console.error("Party subscription error:",r)),createTutoringRequest:async(t,e,r,n)=>{await q0(nr(Ve,"tutoring_sessions"),{requesterId:t,requesterName:e,topic:r,classType:n,status:"OPEN",createdAt:new Date().toISOString(),xpReward:75,fluxReward:25})},claimTutorRole:async(t,e,r)=>{await qr(pt(Ve,"tutoring_sessions",t),{tutorId:e,tutorName:r,status:"MATCHED"})},subscribeToTutoringSessions:(t,e)=>{const r=En(nr(Ve,"tutoring_sessions"),Rn("classType","==",t),Qu(50));return Ws("tutoring_sessions",r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));i.sort((a,s)=>new Date(s.createdAt).getTime()-new Date(a.createdAt).getTime()),e(i)})},completeTutoring:async(t,e)=>(await Kse({sessionId:t,tutorId:e})).data,subscribeToKnowledgeGates:t=>{const e=En(nr(Ve,"knowledge_gates"),Rn("isActive","==",!0));return Ws("knowledge_gates",e,r=>{t(r.docs.map(n=>({id:n.id,...n.data()})))})},claimKnowledgeLoot:async(t,e)=>(await Wse({gateId:t,classType:e})).data,subscribeToSeasonalCosmetics:t=>{const e=En(nr(Ve,"seasonal_cosmetics"),Rn("isAvailable","==",!0));return Ws("seasonal_cosmetics",e,r=>{t(r.docs.map(n=>({id:n.id,...n.data()})))})},purchaseCosmetic:async t=>(await Xse({cosmeticId:t})).data,equipCosmetic:async(t,e)=>{await qr(pt(Ve,"users",t),{"gamification.activeCosmetic":e})},subscribeToDailyChallenges:t=>{const e=new Date().toISOString().split("T")[0],r=En(nr(Ve,"daily_challenges"),Rn("date","==",e));return Ws("daily_challenges",r,n=>{t(n.docs.map(i=>({id:i.id,...i.data()})))})},claimDailyChallenge:async(t,e)=>(await Qse({challengeId:t,classType:e})).data,updateDailyChallengeProgress:async(t,e,r,n)=>{const i=pt(Ve,"users",t);await k5(Ve,async a=>{var h;const s=await a.get(i);if(!s.exists())return;const l=((h=s.data().gamification)==null?void 0:h.activeDailyChallenges)||[];if(l.find(p=>p.challengeId===e)){const p=l.map(m=>m.challengeId===e?{...m,progress:r,completed:n}:m);a.update(i,{"gamification.activeDailyChallenges":p})}else a.update(i,{"gamification.activeDailyChallenges":[...l,{challengeId:e,progress:r,completed:n}]})})},getPublicProfile:async t=>{const e=await Vi(pt(Ve,"users",t));return e.exists()?{id:e.id,...e.data()}:null},subscribeToStudentAlerts:t=>{const e=En(nr(Ve,"student_alerts"),Rn("isDismissed","==",!1));return Ws("student_alerts",e,r=>{const n=r.docs.map(i=>({id:i.id,...i.data()}));n.sort((i,a)=>{const s={CRITICAL:4,HIGH:3,MODERATE:2,LOW:1};return(s[a.riskLevel]||0)-(s[i.riskLevel]||0)}),t(n)})},dismissAlert:async t=>{await Yse({alertId:t})},subscribeToStudentBuckets:t=>Ws("student_buckets",nr(Ve,"student_buckets"),e=>{const r=e.docs.map(n=>({id:n.id,...n.data()}));t(r)})},Gq=P.createContext(null),ia=()=>{const t=P.useContext(Gq);if(!t)throw new Error("useToast must be used within ToastProvider");return t},Xoe={success:u.jsx(fi,{className:"w-5 h-5 text-green-400 shrink-0"}),error:u.jsx(Is,{className:"w-5 h-5 text-red-400 shrink-0"}),info:u.jsx(Pq,{className:"w-5 h-5 text-blue-400 shrink-0"})},Qoe={success:"border-green-500/30 bg-green-950/80",error:"border-red-500/30 bg-red-950/80",info:"border-blue-500/30 bg-blue-950/80"},Yoe=({children:t})=>{const[e,r]=P.useState([]),n=P.useCallback((s,l)=>{const d=Math.random().toString(36).substring(2,8);r(h=>[...h,{id:d,message:s,type:l}]),setTimeout(()=>{r(h=>h.filter(p=>p.id!==d))},4e3)},[]),i=P.useCallback(s=>{r(l=>l.filter(d=>d.id!==s))},[]),a={success:s=>n(s,"success"),error:s=>n(s,"error"),info:s=>n(s,"info")};return u.jsxs(Gq.Provider,{value:a,children:[t,u.jsx("div",{className:"fixed bottom-6 left-6 z-[9999] flex flex-col gap-3 pointer-events-none max-w-sm",children:e.map(s=>u.jsxs("div",{className:`pointer-events-auto flex items-start gap-3 px-4 py-3 rounded-xl border backdrop-blur-xl shadow-2xl animate-in slide-in-from-left-5 fade-in duration-300 ${Qoe[s.type]}`,children:[Xoe[s.type],u.jsx("span",{className:"text-sm text-white font-medium leading-snug flex-1",children:s.message}),u.jsx("button",{onClick:()=>i(s.id),className:"text-gray-500 hover:text-white transition shrink-0",children:u.jsx(ds,{className:"w-4 h-4"})})]},s.id))})]})},Zoe=()=>{const[t,e]=P.useState(navigator.onLine),[r,n]=P.useState(!1);return P.useEffect(()=>{const i=()=>{e(!0),n(!0),setTimeout(()=>n(!1),3e3)},a=()=>{e(!1),n(!1)};return window.addEventListener("online",i),window.addEventListener("offline",a),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",a)}},[]),t&&!r?null:u.jsx("div",{className:`fixed top-0 left-0 right-0 z-[9999] flex items-center justify-center gap-2 py-2 text-sm font-bold transition-all duration-300 ${t?"bg-green-600/90 text-white":"bg-red-600/90 text-white"}`,children:t?u.jsxs(u.Fragment,{children:[u.jsx(Goe,{className:"w-4 h-4"}),"Connection restored"]}):u.jsxs(u.Fragment,{children:[u.jsx(Hoe,{className:"w-4 h-4"}),"You are offline  changes will sync when reconnected"]})})},os=({isOpen:t,onClose:e,title:r,children:n,maxWidth:i="max-w-md"})=>(P.useEffect(()=>{const a=s=>{s.key==="Escape"&&e()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e]),t?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:u.jsxs("div",{className:`bg-[#0f0720]/95 backdrop-blur-xl border border-white/10 rounded-3xl shadow-[0_0_50px_rgba(0,0,0,0.5)] w-full ${i} overflow-hidden flex flex-col max-h-[95vh] animate-in zoom-in-95 duration-200`,children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/5 bg-white/5",children:[u.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:r}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition text-gray-400 hover:text-white",children:u.jsx(ds,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:n})]})}):null),Joe="/favicon.svg";function vf(){return typeof window<"u"&&"Notification"in window}function Bv(){return vf()?Notification.permission:"unsupported"}async function Kq(){return vf()?await Notification.requestPermission():"unsupported"}function ele(t,e,r){if(!(!vf()||Notification.permission!=="granted"))try{const n=new Notification(t,{body:e,icon:Joe,tag:r||`pp-${Date.now()}`,silent:!1});setTimeout(()=>n.close(),6e3),n.onclick=()=>{window.focus(),n.close()}}catch{}}function tle(t,e){const r=P.useRef(new Set),n=P.useRef(!0),i=P.useCallback(a=>{if(n.current){n.current=!1,r.current=new Set(a.map(l=>l.id));return}if(!e||Notification.permission!=="granted")return;if(!document.hidden){r.current=new Set(a.map(l=>l.id));return}const s=a.filter(l=>!l.isRead&&!r.current.has(l.id));for(const l of s.slice(0,3))ele(l.title,l.message,`pp-${l.id}`);r.current=new Set(a.map(l=>l.id))},[e]);P.useEffect(()=>{if(!t||!e||!vf())return;n.current=!0,r.current=new Set;const a=$e.subscribeToNotifications(t,i);return()=>a()},[t,e,i])}const rle=({isOpen:t,onClose:e,user:r,onSaveSettings:n})=>{var T;const[i,a]=ee.useState(r.settings||{liveBackground:!0,performanceMode:!1,privacyMode:!1,compactView:!1,soundEffects:!0}),[s,l]=ee.useState(((T=r.gamification)==null?void 0:T.codename)||""),[d,h]=ee.useState(!1),p=ia(),m=S=>{a(w=>({...w,[S]:!w[S]}))},y=async()=>{var S;h(!0);try{await n(i),s!==(((S=r.gamification)==null?void 0:S.codename)||"")&&await $e.updateCodename(r.id,s.trim().slice(0,24)),e()}catch(w){console.error(w),p.error("Failed to save settings.")}finally{h(!1)}},b=({icon:S,title:w,description:N,value:k,onToggle:j})=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-2xl border border-white/10 hover:border-purple-500/30 transition",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`p-2 rounded-xl ${k?"bg-purple-500/20 text-purple-400":"bg-white/10 text-gray-500"}`,children:u.jsx(S,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-white text-sm",children:w}),u.jsx("p",{className:"text-xs text-gray-500 leading-tight mt-0.5",children:N})]})]}),u.jsx("button",{onClick:j,className:`relative shrink-0 h-6 w-11 rounded-full transition-colors duration-200 focus:outline-none ${k?"bg-purple-600":"bg-white/20"}`,children:u.jsx("span",{className:`absolute top-1 left-1 h-4 w-4 rounded-full bg-white shadow-sm transition-transform duration-200 ${k?"translate-x-5":"translate-x-0"}`})})]});return u.jsx(os,{isOpen:t,onClose:e,title:"User Control Center",maxWidth:"max-w-md",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 px-1",children:"Visuals & Performance"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(b,{icon:koe,title:"Live Neon Background",description:"Toggle the video loop background. Disable to save GPU.",value:i.liveBackground,onToggle:()=>m("liveBackground")}),u.jsx(b,{icon:uoe,title:"Performance Mode",description:"Disable blurs and heavy animations for older hardware.",value:i.performanceMode,onToggle:()=>m("performanceMode")})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 px-1",children:"Privacy & Identity"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(b,{icon:zl,title:"Privacy Codename",description:"Hide real name on leaderboards and use your operative codename.",value:i.privacyMode,onToggle:()=>m("privacyMode")}),i.privacyMode&&u.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/10",children:[u.jsx("label",{className:"text-xs font-bold text-gray-300 block mb-2",children:"Operative Codename"}),u.jsx("input",{type:"text",value:s,onChange:S=>l(S.target.value.slice(0,24)),placeholder:"Enter codename...",className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white focus:outline-none focus:border-purple-500 transition",maxLength:24}),u.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[s.length,"/24 characters"]})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 px-1",children:"Interface"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(b,{icon:Ioe,title:"Compact View",description:"Reduce sidebar and dashboard padding for power users.",value:i.compactView,onToggle:()=>m("compactView")}),u.jsx(b,{icon:qoe,title:"Sound Effects",description:"Play audio feedback for XP gains, level ups, and actions.",value:i.soundEffects!==!1,onToggle:()=>a(S=>({...S,soundEffects:S.soundEffects===!1}))})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 px-1",children:"Notifications"}),u.jsx("div",{className:"space-y-2",children:vf()?u.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-2xl border border-white/10 hover:border-purple-500/30 transition",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`p-2 rounded-xl ${i.pushNotifications?"bg-purple-500/20 text-purple-400":"bg-white/10 text-gray-500"}`,children:u.jsx(Rq,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-white text-sm",children:"Push Notifications"}),u.jsx("p",{className:"text-xs text-gray-500 leading-tight mt-0.5",children:Bv()==="denied"?"Blocked by your browser. Allow notifications in browser settings to enable.":"Get desktop alerts for quests, loot drops, and announcements when the tab is in the background."})]})]}),u.jsx("button",{onClick:async()=>{if(i.pushNotifications)a(S=>({...S,pushNotifications:!1}));else{const S=await Kq();S==="granted"?(a(w=>({...w,pushNotifications:!0})),p.success("Push notifications enabled!")):S==="denied"&&p.error("Notifications blocked by browser. Check your browser settings.")}},disabled:Bv()==="denied",className:`relative shrink-0 h-6 w-11 rounded-full transition-colors duration-200 focus:outline-none ${Bv()==="denied"?"bg-white/10 opacity-50 cursor-not-allowed":i.pushNotifications?"bg-purple-600":"bg-white/20"}`,children:u.jsx("span",{className:`absolute top-1 left-1 h-4 w-4 rounded-full bg-white shadow-sm transition-transform duration-200 ${i.pushNotifications?"translate-x-5":"translate-x-0"}`})})]}):u.jsx("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/10 text-xs text-gray-500",children:"Push notifications are not supported in this browser."})})]}),u.jsxs("button",{onClick:y,disabled:d,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-2xl font-bold transition shadow-lg shadow-purple-900/30 flex items-center justify-center gap-2",children:[d?u.jsx(as,{className:"w-5 h-5 animate-spin"}):u.jsx(Vq,{className:"w-5 h-5"}),"Apply Changes"]})]})})};let P5=null,Wq=!0;function nle(t){Wq=t}function ile(){if(!P5){const t=window.AudioContext||window.webkitAudioContext;P5=new t}return P5}function Lt(t,e,r="sine",n=.15){if(Wq)try{const i=ile(),a=i.createOscillator(),s=i.createGain();a.type=r,a.frequency.setValueAtTime(t,i.currentTime),s.gain.setValueAtTime(n,i.currentTime),s.gain.exponentialRampToValueAtTime(.001,i.currentTime+e),a.connect(s),s.connect(i.destination),a.start(i.currentTime),a.stop(i.currentTime+e)}catch{}}const Ci={xpGain:()=>{Lt(600,.1,"sine",.1),setTimeout(()=>Lt(900,.15,"sine",.08),80)},levelUp:()=>{[523,659,784,1047].forEach((e,r)=>{setTimeout(()=>Lt(e,.3,"triangle",.12),r*120)})},lootDrop:()=>{Lt(1200,.15,"sine",.08),setTimeout(()=>Lt(1500,.12,"sine",.06),100),setTimeout(()=>Lt(1800,.2,"triangle",.05),180)},questAccept:()=>{Lt(440,.15,"square",.06),setTimeout(()=>Lt(660,.2,"square",.06),120)},questDeploy:()=>{Lt(880,.12,"sawtooth",.05),setTimeout(()=>Lt(660,.12,"sawtooth",.05),100),setTimeout(()=>Lt(550,.2,"sawtooth",.04),200)},equip:()=>{Lt(200,.05,"square",.1),setTimeout(()=>Lt(400,.08,"sine",.08),50)},salvage:()=>{Lt(300,.15,"sawtooth",.06),setTimeout(()=>Lt(200,.2,"sawtooth",.04),100),setTimeout(()=>Lt(100,.3,"sawtooth",.03),200)},craft:()=>{Lt(150,.08,"square",.1),setTimeout(()=>Lt(800,.2,"triangle",.08),60)},error:()=>{Lt(200,.15,"square",.08),setTimeout(()=>Lt(150,.2,"square",.06),120)},messageSend:()=>{Lt(500,.06,"sine",.05)},notification:()=>{Lt(800,.1,"sine",.06),setTimeout(()=>Lt(1e3,.12,"sine",.04),120)},achievement:()=>{[440,554,659,880,1047].forEach((e,r)=>{setTimeout(()=>Lt(e,.25,"triangle",.1),r*100)})},dailyReward:()=>{Lt(523,.12,"sine",.08),setTimeout(()=>Lt(659,.12,"sine",.07),100),setTimeout(()=>Lt(784,.2,"triangle",.06),200)},wheelSpin:()=>{for(let t=0;t<8;t++)setTimeout(()=>Lt(400+t*50,.04,"square",.04),t*60)},wheelPrize:()=>{Lt(523,.15,"triangle",.1),setTimeout(()=>Lt(784,.15,"triangle",.1),120),setTimeout(()=>Lt(1047,.3,"sine",.12),240)},skillUnlock:()=>{Lt(300,.1,"sawtooth",.06),setTimeout(()=>Lt(600,.1,"sawtooth",.06),80),setTimeout(()=>Lt(900,.15,"sine",.08),160)},bossHit:()=>{Lt(100,.1,"square",.12),setTimeout(()=>Lt(80,.15,"sawtooth",.08),50)},bossDefeated:()=>{[262,330,392,523,659,784,1047].forEach((e,r)=>{setTimeout(()=>Lt(e,.3,"triangle",.08),r*90)})},gemSocket:()=>{Lt(1200,.08,"sine",.08),setTimeout(()=>Lt(1600,.1,"sine",.06),60),setTimeout(()=>Lt(2e3,.15,"triangle",.04),120)},partyJoin:()=>{Lt(440,.1,"sine",.06),setTimeout(()=>Lt(554,.1,"sine",.06),80),setTimeout(()=>Lt(659,.15,"sine",.05),160)},chestOpen:()=>{Lt(200,.15,"square",.06),setTimeout(()=>Lt(300,.1,"square",.05),100),setTimeout(()=>Lt(500,.1,"triangle",.06),200),setTimeout(()=>Lt(800,.2,"sine",.08),350)}},ale={QUEST_APPROVED:u.jsx(hh,{className:"w-4 h-4 text-green-400"}),QUEST_REJECTED:u.jsx(hh,{className:"w-4 h-4 text-red-400"}),LOOT_DROP:u.jsx(oA,{className:"w-4 h-4 text-yellow-400"}),NEW_MISSION:u.jsx(hh,{className:"w-4 h-4 text-blue-400"}),NEW_RESOURCE:u.jsx($q,{className:"w-4 h-4 text-purple-400"}),LEVEL_UP:u.jsx(ioe,{className:"w-4 h-4 text-amber-400"}),ANNOUNCEMENT:u.jsx(yb,{className:"w-4 h-4 text-orange-400"}),XP_EVENT:u.jsx(Ii,{className:"w-4 h-4 text-cyan-400"})},VI=({userId:t,settings:e,onUpdateSettings:r})=>{const[n,i]=P.useState([]),[a,s]=P.useState(!1),[l,d]=P.useState(!1),h=P.useRef(null),p=P.useRef(0);P.useEffect(()=>{a&&vf()&&Bv()==="default"&&(e==null?void 0:e.pushNotifications)===void 0&&d(!0)},[a,e==null?void 0:e.pushNotifications]),P.useEffect(()=>{const S=$e.subscribeToNotifications(t,w=>{const N=w.filter(k=>!k.isRead).length;N>p.current&&p.current>=0&&Ci.notification(),p.current=N,i(w)});return()=>S()},[t]),P.useEffect(()=>{const S=w=>{h.current&&!h.current.contains(w.target)&&s(!1)};return a&&document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[a]);const m=n.filter(S=>!S.isRead).length,y=async()=>{await $e.markAllNotificationsRead(t)},b=async S=>{S.isRead||await $e.markNotificationRead(S.id)},T=S=>{const w=Date.now()-new Date(S).getTime();return w<6e4?"just now":w<36e5?`${Math.floor(w/6e4)}m ago`:w<864e5?`${Math.floor(w/36e5)}h ago`:`${Math.floor(w/864e5)}d ago`};return u.jsxs("div",{className:"relative",ref:h,children:[u.jsxs("button",{onClick:()=>s(!a),className:"relative p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition",children:[u.jsx(R5,{className:"w-5 h-5"}),m>0&&u.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-5 h-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center animate-pulse",children:m>9?"9+":m})]}),a&&u.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 max-h-[420px] bg-[#1a1b26]/98 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl overflow-hidden z-50 animate-in slide-in-from-top-2 fade-in duration-200",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-white/5",children:[u.jsx("h4",{className:"text-sm font-bold text-white",children:"Notifications"}),m>0&&u.jsxs("button",{onClick:y,className:"flex items-center gap-1 text-[10px] text-purple-400 hover:text-purple-300 font-bold uppercase tracking-widest transition",children:[u.jsx(ooe,{className:"w-3 h-3"})," Mark all read"]})]}),l&&u.jsx("div",{className:"p-3 bg-purple-500/10 border-b border-purple-500/20",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Rq,{className:"w-4 h-4 text-purple-400 mt-0.5 shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-[11px] text-gray-300 leading-tight",children:"Get desktop alerts for quests, loot, and announcements?"}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("button",{onClick:async()=>{await Kq()==="granted"&&r&&e&&await r({...e,pushNotifications:!0}),d(!1)},className:"px-2 py-1 bg-purple-600 text-white text-[10px] font-bold rounded-lg hover:bg-purple-500 transition",children:"Enable"}),u.jsx("button",{onClick:()=>d(!1),className:"px-2 py-1 bg-white/5 text-gray-400 text-[10px] font-bold rounded-lg hover:bg-white/10 transition",children:"Not now"})]})]})]})}),u.jsx("div",{className:"overflow-y-auto max-h-[360px] custom-scrollbar",children:n.length===0?u.jsxs("div",{className:"p-8 text-center text-gray-500",children:[u.jsx(R5,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),u.jsx("p",{className:"text-xs",children:"No notifications yet"})]}):n.slice(0,30).map(S=>u.jsxs("div",{onClick:()=>b(S),className:`flex gap-3 p-3 border-b border-white/5 cursor-pointer transition ${S.isRead?"opacity-50 hover:opacity-70":"bg-purple-500/5 hover:bg-white/5"}`,children:[u.jsx("div",{className:"mt-0.5 shrink-0",children:ale[S.type]||u.jsx(R5,{className:"w-4 h-4 text-gray-400"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-bold text-white truncate",children:S.title}),u.jsx("p",{className:"text-[11px] text-gray-400 leading-tight mt-0.5 line-clamp-2",children:S.message}),u.jsx("p",{className:"text-[9px] text-gray-600 mt-1",children:T(S.timestamp)})]}),!S.isRead&&u.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 mt-1.5 shrink-0"})]},S.id))})]})]})},sle=({user:t,onLogout:e,activeTab:r,setActiveTab:n,children:i})=>{var T,S;const[a,s]=P.useState(""),[l,d]=P.useState(!1),[h,p]=P.useState(!1),m=t.settings||{liveBackground:!0,performanceMode:!1,privacyMode:!1,compactView:!1};P.useEffect(()=>{if(!m.liveBackground){s("");return}(async()=>{try{const N=lm(cm,"public/background.mp4"),k=await hb(N);s(k)}catch{console.warn("Firebase background not found, using local fallback."),s("/background.mp4")}})()},[m.liveBackground]);const y=async w=>{await $e.updateUserSettings(t.id,w)},b=()=>{const w=Woe.filter(N=>!(N.role==="ADMIN"&&t.role!==Ji.ADMIN||N.role==="STUDENT"&&t.role!==Ji.STUDENT));return u.jsx(u.Fragment,{children:w.map(N=>u.jsxs("button",{onClick:()=>{n(N.name),p(!1)},className:`w-full flex items-center gap-4 px-6 rounded-xl transition-all group ${m.compactView?"py-2.5":"py-3"} ${r===N.name?"bg-purple-600/80 text-white shadow-lg border border-purple-500/50":"text-gray-400 hover:bg-white/5 hover:text-white hover:pl-7"}`,children:[u.jsx("span",{className:`${r===N.name?"text-white":"text-gray-500 group-hover:text-purple-400"}`,children:N.icon}),u.jsx("span",{className:"font-medium text-sm",children:N.name})]},N.name))})};return u.jsxs("div",{className:`flex flex-col md:flex-row h-screen overflow-hidden text-gray-100 relative ${m.performanceMode?"perf-mode":""}`,children:[u.jsx("div",{className:"fixed inset-0 z-[-3] bg-[#0f0720] static-purple-bg"}),m.liveBackground&&a&&u.jsx("div",{className:"fixed inset-0 pointer-events-none z-[-2] overflow-hidden",children:u.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-105",children:u.jsx("source",{src:a,type:"video/mp4"})},a)}),u.jsx("div",{className:`fixed inset-0 pointer-events-none z-[-1] transition-opacity duration-700 ${m.liveBackground?"bg-[#0f0720]/70":"bg-[#0f0720]/40"} ${m.performanceMode?"":"backdrop-blur-[3px]"}`}),u.jsxs("header",{className:"md:hidden flex items-center justify-between p-4 bg-black/40 backdrop-blur-md border-b border-white/10 z-30",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-purple-600 p-2 rounded-lg",children:u.jsx(Rh,{className:"w-5 h-5 text-white"})}),u.jsx("h1",{className:"font-bold text-white text-lg",children:"Porter Portal"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(VI,{userId:t.id,settings:m,onUpdateSettings:y}),u.jsx("button",{onClick:()=>p(!0),className:"p-2 text-white hover:bg-white/10 rounded-lg transition","aria-label":"Open navigation menu",children:u.jsx(Eoe,{className:"w-6 h-6"})})]})]}),h&&u.jsxs("div",{className:"fixed inset-0 z-50 md:hidden flex",children:[u.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm animate-in fade-in",onClick:()=>p(!1)}),u.jsxs("div",{className:"relative w-4/5 max-w-xs bg-[#1a1b26] border-r border-white/10 h-full flex flex-col p-6 animate-in slide-in-from-left duration-300 shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-sm font-bold shadow-inner border border-white/20",children:t.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-bold text-white",children:m.privacyMode?((T=t.gamification)==null?void 0:T.codename)||"Agent":t.name}),u.jsx("p",{className:"text-[10px] text-gray-500",children:t.role})]})]}),u.jsx("button",{onClick:()=>p(!1),className:"p-2 text-gray-400 hover:text-white",children:u.jsx(ds,{className:"w-6 h-6"})})]}),u.jsx("nav",{className:"flex-1 space-y-2 overflow-y-auto",children:u.jsx(b,{})}),u.jsxs("div",{className:"pt-6 border-t border-white/10 space-y-3",children:[u.jsxs("button",{onClick:()=>{d(!0),p(!1)},className:"w-full flex items-center gap-3 p-3 text-gray-400 hover:text-white hover:bg-white/5 rounded-xl transition",children:[u.jsx(Fm,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"Settings"})]}),u.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 p-3 text-red-400 hover:bg-red-500/10 rounded-xl transition",children:[u.jsx(PI,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})]})]}),u.jsx("aside",{className:`p-4 hidden md:flex flex-col z-10 transition-all ${m.compactView?"w-60":"w-72"}`,children:u.jsxs("div",{className:`h-full bg-white/5 border border-white/10 rounded-3xl flex flex-col shadow-2xl animate-glass-turn ${m.performanceMode?"":"backdrop-blur-2xl"}`,children:[u.jsxs("div",{className:"p-8 flex items-center gap-4 border-b border-white/5",children:[u.jsx("div",{className:"bg-purple-600 shadow-[0_0_15px_rgba(147,51,234,0.5)] p-3 rounded-xl",children:u.jsx(Rh,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"font-bold text-lg tracking-tight text-white",children:"Porter Portal"}),u.jsx("p",{className:"text-xs text-purple-300 font-medium tracking-widest uppercase",children:t.role===Ji.ADMIN?"Admin System":"Operative Terminal"})]})]}),u.jsx("nav",{className:"flex-1 p-4 space-y-2 mt-4 overflow-y-auto custom-scrollbar",children:u.jsx(b,{})}),u.jsxs("div",{className:"p-6 border-t border-white/5 bg-black/10 rounded-b-3xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-sm font-bold shadow-inner border border-white/20",children:t.name.charAt(0)}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-sm font-semibold truncate text-white",children:m.privacyMode?((S=t.gamification)==null?void 0:S.codename)||"Agent":t.name}),u.jsx("p",{className:"text-[10px] text-gray-500 truncate",children:t.email})]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(VI,{userId:t.id,settings:m,onUpdateSettings:y}),u.jsx("button",{onClick:()=>d(!0),className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition",children:u.jsx(Fm,{className:"w-4 h-4"})})]})]}),u.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:text-red-300 transition-all text-sm font-medium",children:[u.jsx(PI,{className:"w-4 h-4"}),"Sign Out"]})]})]})}),u.jsx("main",{className:`flex-1 overflow-y-auto p-4 md:p-8 animate-fade-in z-10 ${m.performanceMode?"no-anim":"animate-slide-up"}`,children:u.jsx("div",{className:"max-w-7xl mx-auto h-full",children:i})}),u.jsx(rle,{isOpen:l,onClose:()=>d(!1),user:t,onSaveSettings:y})]})};class Ra{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new Ra(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class ls{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new ls(r,Ra.range(this,e))}}class Je{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,i,a,s=r&&r.loc;if(s&&s.start<=s.end){var l=s.lexer.input;i=s.start,a=s.end,i===l.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var d=l.slice(i,a).replace(/[^]/g,"$&"),h;i>15?h=""+l.slice(i-15,i):h=l.slice(0,i);var p;a+15<l.length?p=l.slice(a,a+15)+"":p=l.slice(a),n+=h+d+p}var m=new Error(n);return m.name="ParseError",m.__proto__=Je.prototype,m.position=i,i!=null&&a!=null&&(m.length=a-i),m.rawMessage=e,m}}Je.prototype.__proto__=Error.prototype;var ole=function(e,r){return e===void 0?r:e},lle=/([A-Z])/g,cle=function(e){return e.replace(lle,"-$1").toLowerCase()},ule={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},dle=/[&><"']/g;function hle(t){return String(t).replace(dle,e=>ule[e])}var Xq=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},fle=function(e){var r=Xq(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},ple=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},mle=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},wr={deflt:ole,escape:hle,hyphenate:cle,getBaseElem:Xq,isCharacterBox:fle,protocolFromUrl:mle},Uv={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function gle(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class SE{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in Uv)if(Uv.hasOwnProperty(r)){var n=Uv[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:gle(n)}}reportNonstrict(e,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Je("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,n){var i=this.strict;if(typeof i=="function")try{i=i(e,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=wr.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}class Mc{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return _o[yle[this.id]]}sub(){return _o[vle[this.id]]}fracNum(){return _o[ble[this.id]]}fracDen(){return _o[xle[this.id]]}cramp(){return _o[wle[this.id]]}text(){return _o[_le[this.id]]}isTight(){return this.size>=2}}var TE=0,xb=1,fh=2,jl=3,Hm=4,Ns=5,Mh=6,ma=7,_o=[new Mc(TE,0,!1),new Mc(xb,0,!0),new Mc(fh,1,!1),new Mc(jl,1,!0),new Mc(Hm,2,!1),new Mc(Ns,2,!0),new Mc(Mh,3,!1),new Mc(ma,3,!0)],yle=[Hm,Ns,Hm,Ns,Mh,ma,Mh,ma],vle=[Ns,Ns,Ns,Ns,ma,ma,ma,ma],ble=[fh,jl,Hm,Ns,Mh,ma,Mh,ma],xle=[jl,jl,Ns,Ns,ma,ma,ma,ma],wle=[xb,xb,jl,jl,Ns,Ns,ma,ma],_le=[TE,xb,fh,jl,fh,jl,fh,jl],kt={DISPLAY:_o[TE],TEXT:_o[fh],SCRIPT:_o[Hm],SCRIPTSCRIPT:_o[Mh]},lA=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Sle(t){for(var e=0;e<lA.length;e++)for(var r=lA[e],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(t>=i[0]&&t<=i[1])return r.name}return null}var zv=[];lA.forEach(t=>t.blocks.forEach(e=>zv.push(...e)));function Qq(t){for(var e=0;e<zv.length;e+=2)if(t>=zv[e]&&t<=zv[e+1])return!0;return!1}var H0=80,Tle=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Ale=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Ele=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Nle=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},Cle=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},jle=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},kle=function(e,r,n){var i=n-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},Ole=function(e,r,n){r=1e3*r;var i="";switch(e){case"sqrtMain":i=Tle(r,H0);break;case"sqrtSize1":i=Ale(r,H0);break;case"sqrtSize2":i=Ele(r,H0);break;case"sqrtSize3":i=Nle(r,H0);break;case"sqrtSize4":i=Cle(r,H0);break;case"sqrtTall":i=kle(r,H0,n)}return i},Ile=function(e,r){switch(e){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},FI={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Rle=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Jg{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var Eo={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Yy={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},qI={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Mle(t,e){Eo[t]=e}function AE(t,e,r){if(!Eo[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),i=Eo[e][n];if(!i&&t[0]in qI&&(n=qI[t[0]].charCodeAt(0),i=Eo[e][n]),!i&&r==="text"&&Qq(n)&&(i=Eo[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var D5={};function Ple(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!D5[e]){var r=D5[e]={cssEmPerMu:Yy.quad[e]/18};for(var n in Yy)Yy.hasOwnProperty(n)&&(r[n]=Yy[n][e])}return D5[e]}var Dle=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],HI=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],GI=function(e,r){return r.size<2?e:Dle[e-1][r.size-1]};class yl{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||yl.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=HI[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new yl(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:GI(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:HI[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=GI(yl.BASESIZE,e);return this.size===r&&this.textSize===yl.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==yl.BASESIZE?["sizing","reset-size"+this.size,"size"+yl.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Ple(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}yl.BASESIZE=6;var cA={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Lle={ex:!0,em:!0,mu:!0},Yq=function(e){return typeof e!="string"&&(e=e.unit),e in cA||e in Lle||e==="ex"},Cn=function(e,r){var n;if(e.unit in cA)n=cA[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new Je("Invalid unit: '"+e.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*n,r.maxSize)},st=function(e){return+e.toFixed(4)+"em"},du=function(e){return e.filter(r=>r).join(" ")},Zq=function(e,r,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},Jq=function(e){var r=document.createElement(e);r.className=du(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r},Ble=/[\s"'>/=\x00-\x1f]/,eH=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+wr.escape(du(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=wr.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+wr.escape(n)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(Ble.test(a))throw new Je("Invalid attribute name '"+a+"'");r+=" "+a+'="'+wr.escape(this.attributes[a])+'"'}r+=">";for(var s=0;s<this.children.length;s++)r+=this.children[s].toMarkup();return r+="</"+e+">",r};class e1{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Zq.call(this,e,n,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return Jq.call(this,"span")}toMarkup(){return eH.call(this,"span")}}class EE{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Zq.call(this,r,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return Jq.call(this,"a")}toMarkup(){return eH.call(this,"a")}}class Ule{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+wr.escape(this.src)+'"'+(' alt="'+wr.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=wr.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+wr.escape(r)+'"'),e+="'/>",e}}var zle={:"",:"",:"",:""};class Rs{constructor(e,r,n,i,a,s,l,d){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=l||[],this.style=d||{},this.maxFontSize=0;var h=Sle(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[]/.test(this.text)&&(this.text=zle[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=st(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=du(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=wr.escape(du(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=wr.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,r+=' style="'+wr.escape(n)+'"');var a=wr.escape(this.text);return e?(r+=">",r+=a,r+="</span>",r):a}}class $l{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+wr.escape(this.attributes[r])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class hu{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",FI[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+wr.escape(this.alternate)+'"/>':'<path d="'+wr.escape(FI[this.pathName])+'"/>'}}class uA{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+wr.escape(this.attributes[r])+'"');return e+="/>",e}}function KI(t){if(t instanceof Rs)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function $le(t){if(t instanceof e1)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var Vle={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Fle={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},cn={math:{},text:{}};function C(t,e,r,n,i,a){cn[t][i]={font:e,group:r,replace:n},a&&n&&(cn[t][n]=cn[t][i])}var U="math",He="text",q="main",re="ams",_n="accent-token",gt="bin",ba="close",bf="inner",jt="mathord",si="op-token",hs="open",f2="punct",ie="rel",Yl="spacing",me="textord";C(U,q,ie,"","\\equiv",!0);C(U,q,ie,"","\\prec",!0);C(U,q,ie,"","\\succ",!0);C(U,q,ie,"","\\sim",!0);C(U,q,ie,"","\\perp");C(U,q,ie,"","\\preceq",!0);C(U,q,ie,"","\\succeq",!0);C(U,q,ie,"","\\simeq",!0);C(U,q,ie,"","\\mid",!0);C(U,q,ie,"","\\ll",!0);C(U,q,ie,"","\\gg",!0);C(U,q,ie,"","\\asymp",!0);C(U,q,ie,"","\\parallel");C(U,q,ie,"","\\bowtie",!0);C(U,q,ie,"","\\smile",!0);C(U,q,ie,"","\\sqsubseteq",!0);C(U,q,ie,"","\\sqsupseteq",!0);C(U,q,ie,"","\\doteq",!0);C(U,q,ie,"","\\frown",!0);C(U,q,ie,"","\\ni",!0);C(U,q,ie,"","\\propto",!0);C(U,q,ie,"","\\vdash",!0);C(U,q,ie,"","\\dashv",!0);C(U,q,ie,"","\\owns");C(U,q,f2,".","\\ldotp");C(U,q,f2,"","\\cdotp");C(U,q,me,"#","\\#");C(He,q,me,"#","\\#");C(U,q,me,"&","\\&");C(He,q,me,"&","\\&");C(U,q,me,"","\\aleph",!0);C(U,q,me,"","\\forall",!0);C(U,q,me,"","\\hbar",!0);C(U,q,me,"","\\exists",!0);C(U,q,me,"","\\nabla",!0);C(U,q,me,"","\\flat",!0);C(U,q,me,"","\\ell",!0);C(U,q,me,"","\\natural",!0);C(U,q,me,"","\\clubsuit",!0);C(U,q,me,"","\\wp",!0);C(U,q,me,"","\\sharp",!0);C(U,q,me,"","\\diamondsuit",!0);C(U,q,me,"","\\Re",!0);C(U,q,me,"","\\heartsuit",!0);C(U,q,me,"","\\Im",!0);C(U,q,me,"","\\spadesuit",!0);C(U,q,me,"","\\S",!0);C(He,q,me,"","\\S");C(U,q,me,"","\\P",!0);C(He,q,me,"","\\P");C(U,q,me,"","\\dag");C(He,q,me,"","\\dag");C(He,q,me,"","\\textdagger");C(U,q,me,"","\\ddag");C(He,q,me,"","\\ddag");C(He,q,me,"","\\textdaggerdbl");C(U,q,ba,"","\\rmoustache",!0);C(U,q,hs,"","\\lmoustache",!0);C(U,q,ba,"","\\rgroup",!0);C(U,q,hs,"","\\lgroup",!0);C(U,q,gt,"","\\mp",!0);C(U,q,gt,"","\\ominus",!0);C(U,q,gt,"","\\uplus",!0);C(U,q,gt,"","\\sqcap",!0);C(U,q,gt,"","\\ast");C(U,q,gt,"","\\sqcup",!0);C(U,q,gt,"","\\bigcirc",!0);C(U,q,gt,"","\\bullet",!0);C(U,q,gt,"","\\ddagger");C(U,q,gt,"","\\wr",!0);C(U,q,gt,"","\\amalg");C(U,q,gt,"&","\\And");C(U,q,ie,"","\\longleftarrow",!0);C(U,q,ie,"","\\Leftarrow",!0);C(U,q,ie,"","\\Longleftarrow",!0);C(U,q,ie,"","\\longrightarrow",!0);C(U,q,ie,"","\\Rightarrow",!0);C(U,q,ie,"","\\Longrightarrow",!0);C(U,q,ie,"","\\leftrightarrow",!0);C(U,q,ie,"","\\longleftrightarrow",!0);C(U,q,ie,"","\\Leftrightarrow",!0);C(U,q,ie,"","\\Longleftrightarrow",!0);C(U,q,ie,"","\\mapsto",!0);C(U,q,ie,"","\\longmapsto",!0);C(U,q,ie,"","\\nearrow",!0);C(U,q,ie,"","\\hookleftarrow",!0);C(U,q,ie,"","\\hookrightarrow",!0);C(U,q,ie,"","\\searrow",!0);C(U,q,ie,"","\\leftharpoonup",!0);C(U,q,ie,"","\\rightharpoonup",!0);C(U,q,ie,"","\\swarrow",!0);C(U,q,ie,"","\\leftharpoondown",!0);C(U,q,ie,"","\\rightharpoondown",!0);C(U,q,ie,"","\\nwarrow",!0);C(U,q,ie,"","\\rightleftharpoons",!0);C(U,re,ie,"","\\nless",!0);C(U,re,ie,"","\\@nleqslant");C(U,re,ie,"","\\@nleqq");C(U,re,ie,"","\\lneq",!0);C(U,re,ie,"","\\lneqq",!0);C(U,re,ie,"","\\@lvertneqq");C(U,re,ie,"","\\lnsim",!0);C(U,re,ie,"","\\lnapprox",!0);C(U,re,ie,"","\\nprec",!0);C(U,re,ie,"","\\npreceq",!0);C(U,re,ie,"","\\precnsim",!0);C(U,re,ie,"","\\precnapprox",!0);C(U,re,ie,"","\\nsim",!0);C(U,re,ie,"","\\@nshortmid");C(U,re,ie,"","\\nmid",!0);C(U,re,ie,"","\\nvdash",!0);C(U,re,ie,"","\\nvDash",!0);C(U,re,ie,"","\\ntriangleleft");C(U,re,ie,"","\\ntrianglelefteq",!0);C(U,re,ie,"","\\subsetneq",!0);C(U,re,ie,"","\\@varsubsetneq");C(U,re,ie,"","\\subsetneqq",!0);C(U,re,ie,"","\\@varsubsetneqq");C(U,re,ie,"","\\ngtr",!0);C(U,re,ie,"","\\@ngeqslant");C(U,re,ie,"","\\@ngeqq");C(U,re,ie,"","\\gneq",!0);C(U,re,ie,"","\\gneqq",!0);C(U,re,ie,"","\\@gvertneqq");C(U,re,ie,"","\\gnsim",!0);C(U,re,ie,"","\\gnapprox",!0);C(U,re,ie,"","\\nsucc",!0);C(U,re,ie,"","\\nsucceq",!0);C(U,re,ie,"","\\succnsim",!0);C(U,re,ie,"","\\succnapprox",!0);C(U,re,ie,"","\\ncong",!0);C(U,re,ie,"","\\@nshortparallel");C(U,re,ie,"","\\nparallel",!0);C(U,re,ie,"","\\nVDash",!0);C(U,re,ie,"","\\ntriangleright");C(U,re,ie,"","\\ntrianglerighteq",!0);C(U,re,ie,"","\\@nsupseteqq");C(U,re,ie,"","\\supsetneq",!0);C(U,re,ie,"","\\@varsupsetneq");C(U,re,ie,"","\\supsetneqq",!0);C(U,re,ie,"","\\@varsupsetneqq");C(U,re,ie,"","\\nVdash",!0);C(U,re,ie,"","\\precneqq",!0);C(U,re,ie,"","\\succneqq",!0);C(U,re,ie,"","\\@nsubseteqq");C(U,re,gt,"","\\unlhd");C(U,re,gt,"","\\unrhd");C(U,re,ie,"","\\nleftarrow",!0);C(U,re,ie,"","\\nrightarrow",!0);C(U,re,ie,"","\\nLeftarrow",!0);C(U,re,ie,"","\\nRightarrow",!0);C(U,re,ie,"","\\nleftrightarrow",!0);C(U,re,ie,"","\\nLeftrightarrow",!0);C(U,re,ie,"","\\vartriangle");C(U,re,me,"","\\hslash");C(U,re,me,"","\\triangledown");C(U,re,me,"","\\lozenge");C(U,re,me,"","\\circledS");C(U,re,me,"","\\circledR");C(He,re,me,"","\\circledR");C(U,re,me,"","\\measuredangle",!0);C(U,re,me,"","\\nexists");C(U,re,me,"","\\mho");C(U,re,me,"","\\Finv",!0);C(U,re,me,"","\\Game",!0);C(U,re,me,"","\\backprime");C(U,re,me,"","\\blacktriangle");C(U,re,me,"","\\blacktriangledown");C(U,re,me,"","\\blacksquare");C(U,re,me,"","\\blacklozenge");C(U,re,me,"","\\bigstar");C(U,re,me,"","\\sphericalangle",!0);C(U,re,me,"","\\complement",!0);C(U,re,me,"","\\eth",!0);C(He,q,me,"","");C(U,re,me,"","\\diagup");C(U,re,me,"","\\diagdown");C(U,re,me,"","\\square");C(U,re,me,"","\\Box");C(U,re,me,"","\\Diamond");C(U,re,me,"","\\yen",!0);C(He,re,me,"","\\yen",!0);C(U,re,me,"","\\checkmark",!0);C(He,re,me,"","\\checkmark");C(U,re,me,"","\\beth",!0);C(U,re,me,"","\\daleth",!0);C(U,re,me,"","\\gimel",!0);C(U,re,me,"","\\digamma",!0);C(U,re,me,"","\\varkappa");C(U,re,hs,"","\\@ulcorner",!0);C(U,re,ba,"","\\@urcorner",!0);C(U,re,hs,"","\\@llcorner",!0);C(U,re,ba,"","\\@lrcorner",!0);C(U,re,ie,"","\\leqq",!0);C(U,re,ie,"","\\leqslant",!0);C(U,re,ie,"","\\eqslantless",!0);C(U,re,ie,"","\\lesssim",!0);C(U,re,ie,"","\\lessapprox",!0);C(U,re,ie,"","\\approxeq",!0);C(U,re,gt,"","\\lessdot");C(U,re,ie,"","\\lll",!0);C(U,re,ie,"","\\lessgtr",!0);C(U,re,ie,"","\\lesseqgtr",!0);C(U,re,ie,"","\\lesseqqgtr",!0);C(U,re,ie,"","\\doteqdot");C(U,re,ie,"","\\risingdotseq",!0);C(U,re,ie,"","\\fallingdotseq",!0);C(U,re,ie,"","\\backsim",!0);C(U,re,ie,"","\\backsimeq",!0);C(U,re,ie,"","\\subseteqq",!0);C(U,re,ie,"","\\Subset",!0);C(U,re,ie,"","\\sqsubset",!0);C(U,re,ie,"","\\preccurlyeq",!0);C(U,re,ie,"","\\curlyeqprec",!0);C(U,re,ie,"","\\precsim",!0);C(U,re,ie,"","\\precapprox",!0);C(U,re,ie,"","\\vartriangleleft");C(U,re,ie,"","\\trianglelefteq");C(U,re,ie,"","\\vDash",!0);C(U,re,ie,"","\\Vvdash",!0);C(U,re,ie,"","\\smallsmile");C(U,re,ie,"","\\smallfrown");C(U,re,ie,"","\\bumpeq",!0);C(U,re,ie,"","\\Bumpeq",!0);C(U,re,ie,"","\\geqq",!0);C(U,re,ie,"","\\geqslant",!0);C(U,re,ie,"","\\eqslantgtr",!0);C(U,re,ie,"","\\gtrsim",!0);C(U,re,ie,"","\\gtrapprox",!0);C(U,re,gt,"","\\gtrdot");C(U,re,ie,"","\\ggg",!0);C(U,re,ie,"","\\gtrless",!0);C(U,re,ie,"","\\gtreqless",!0);C(U,re,ie,"","\\gtreqqless",!0);C(U,re,ie,"","\\eqcirc",!0);C(U,re,ie,"","\\circeq",!0);C(U,re,ie,"","\\triangleq",!0);C(U,re,ie,"","\\thicksim");C(U,re,ie,"","\\thickapprox");C(U,re,ie,"","\\supseteqq",!0);C(U,re,ie,"","\\Supset",!0);C(U,re,ie,"","\\sqsupset",!0);C(U,re,ie,"","\\succcurlyeq",!0);C(U,re,ie,"","\\curlyeqsucc",!0);C(U,re,ie,"","\\succsim",!0);C(U,re,ie,"","\\succapprox",!0);C(U,re,ie,"","\\vartriangleright");C(U,re,ie,"","\\trianglerighteq");C(U,re,ie,"","\\Vdash",!0);C(U,re,ie,"","\\shortmid");C(U,re,ie,"","\\shortparallel");C(U,re,ie,"","\\between",!0);C(U,re,ie,"","\\pitchfork",!0);C(U,re,ie,"","\\varpropto");C(U,re,ie,"","\\blacktriangleleft");C(U,re,ie,"","\\therefore",!0);C(U,re,ie,"","\\backepsilon");C(U,re,ie,"","\\blacktriangleright");C(U,re,ie,"","\\because",!0);C(U,re,ie,"","\\llless");C(U,re,ie,"","\\gggtr");C(U,re,gt,"","\\lhd");C(U,re,gt,"","\\rhd");C(U,re,ie,"","\\eqsim",!0);C(U,q,ie,"","\\Join");C(U,re,ie,"","\\Doteq",!0);C(U,re,gt,"","\\dotplus",!0);C(U,re,gt,"","\\smallsetminus");C(U,re,gt,"","\\Cap",!0);C(U,re,gt,"","\\Cup",!0);C(U,re,gt,"","\\doublebarwedge",!0);C(U,re,gt,"","\\boxminus",!0);C(U,re,gt,"","\\boxplus",!0);C(U,re,gt,"","\\divideontimes",!0);C(U,re,gt,"","\\ltimes",!0);C(U,re,gt,"","\\rtimes",!0);C(U,re,gt,"","\\leftthreetimes",!0);C(U,re,gt,"","\\rightthreetimes",!0);C(U,re,gt,"","\\curlywedge",!0);C(U,re,gt,"","\\curlyvee",!0);C(U,re,gt,"","\\circleddash",!0);C(U,re,gt,"","\\circledast",!0);C(U,re,gt,"","\\centerdot");C(U,re,gt,"","\\intercal",!0);C(U,re,gt,"","\\doublecap");C(U,re,gt,"","\\doublecup");C(U,re,gt,"","\\boxtimes",!0);C(U,re,ie,"","\\dashrightarrow",!0);C(U,re,ie,"","\\dashleftarrow",!0);C(U,re,ie,"","\\leftleftarrows",!0);C(U,re,ie,"","\\leftrightarrows",!0);C(U,re,ie,"","\\Lleftarrow",!0);C(U,re,ie,"","\\twoheadleftarrow",!0);C(U,re,ie,"","\\leftarrowtail",!0);C(U,re,ie,"","\\looparrowleft",!0);C(U,re,ie,"","\\leftrightharpoons",!0);C(U,re,ie,"","\\curvearrowleft",!0);C(U,re,ie,"","\\circlearrowleft",!0);C(U,re,ie,"","\\Lsh",!0);C(U,re,ie,"","\\upuparrows",!0);C(U,re,ie,"","\\upharpoonleft",!0);C(U,re,ie,"","\\downharpoonleft",!0);C(U,q,ie,"","\\origof",!0);C(U,q,ie,"","\\imageof",!0);C(U,re,ie,"","\\multimap",!0);C(U,re,ie,"","\\leftrightsquigarrow",!0);C(U,re,ie,"","\\rightrightarrows",!0);C(U,re,ie,"","\\rightleftarrows",!0);C(U,re,ie,"","\\twoheadrightarrow",!0);C(U,re,ie,"","\\rightarrowtail",!0);C(U,re,ie,"","\\looparrowright",!0);C(U,re,ie,"","\\curvearrowright",!0);C(U,re,ie,"","\\circlearrowright",!0);C(U,re,ie,"","\\Rsh",!0);C(U,re,ie,"","\\downdownarrows",!0);C(U,re,ie,"","\\upharpoonright",!0);C(U,re,ie,"","\\downharpoonright",!0);C(U,re,ie,"","\\rightsquigarrow",!0);C(U,re,ie,"","\\leadsto");C(U,re,ie,"","\\Rrightarrow",!0);C(U,re,ie,"","\\restriction");C(U,q,me,"","`");C(U,q,me,"$","\\$");C(He,q,me,"$","\\$");C(He,q,me,"$","\\textdollar");C(U,q,me,"%","\\%");C(He,q,me,"%","\\%");C(U,q,me,"_","\\_");C(He,q,me,"_","\\_");C(He,q,me,"_","\\textunderscore");C(U,q,me,"","\\angle",!0);C(U,q,me,"","\\infty",!0);C(U,q,me,"","\\prime");C(U,q,me,"","\\triangle");C(U,q,me,"","\\Gamma",!0);C(U,q,me,"","\\Delta",!0);C(U,q,me,"","\\Theta",!0);C(U,q,me,"","\\Lambda",!0);C(U,q,me,"","\\Xi",!0);C(U,q,me,"","\\Pi",!0);C(U,q,me,"","\\Sigma",!0);C(U,q,me,"","\\Upsilon",!0);C(U,q,me,"","\\Phi",!0);C(U,q,me,"","\\Psi",!0);C(U,q,me,"","\\Omega",!0);C(U,q,me,"A","");C(U,q,me,"B","");C(U,q,me,"E","");C(U,q,me,"Z","");C(U,q,me,"H","");C(U,q,me,"I","");C(U,q,me,"K","");C(U,q,me,"M","");C(U,q,me,"N","");C(U,q,me,"O","");C(U,q,me,"P","");C(U,q,me,"T","");C(U,q,me,"X","");C(U,q,me,"","\\neg",!0);C(U,q,me,"","\\lnot");C(U,q,me,"","\\top");C(U,q,me,"","\\bot");C(U,q,me,"","\\emptyset");C(U,re,me,"","\\varnothing");C(U,q,jt,"","\\alpha",!0);C(U,q,jt,"","\\beta",!0);C(U,q,jt,"","\\gamma",!0);C(U,q,jt,"","\\delta",!0);C(U,q,jt,"","\\epsilon",!0);C(U,q,jt,"","\\zeta",!0);C(U,q,jt,"","\\eta",!0);C(U,q,jt,"","\\theta",!0);C(U,q,jt,"","\\iota",!0);C(U,q,jt,"","\\kappa",!0);C(U,q,jt,"","\\lambda",!0);C(U,q,jt,"","\\mu",!0);C(U,q,jt,"","\\nu",!0);C(U,q,jt,"","\\xi",!0);C(U,q,jt,"","\\omicron",!0);C(U,q,jt,"","\\pi",!0);C(U,q,jt,"","\\rho",!0);C(U,q,jt,"","\\sigma",!0);C(U,q,jt,"","\\tau",!0);C(U,q,jt,"","\\upsilon",!0);C(U,q,jt,"","\\phi",!0);C(U,q,jt,"","\\chi",!0);C(U,q,jt,"","\\psi",!0);C(U,q,jt,"","\\omega",!0);C(U,q,jt,"","\\varepsilon",!0);C(U,q,jt,"","\\vartheta",!0);C(U,q,jt,"","\\varpi",!0);C(U,q,jt,"","\\varrho",!0);C(U,q,jt,"","\\varsigma",!0);C(U,q,jt,"","\\varphi",!0);C(U,q,gt,"","*",!0);C(U,q,gt,"+","+");C(U,q,gt,"","-",!0);C(U,q,gt,"","\\cdot",!0);C(U,q,gt,"","\\circ",!0);C(U,q,gt,"","\\div",!0);C(U,q,gt,"","\\pm",!0);C(U,q,gt,"","\\times",!0);C(U,q,gt,"","\\cap",!0);C(U,q,gt,"","\\cup",!0);C(U,q,gt,"","\\setminus",!0);C(U,q,gt,"","\\land");C(U,q,gt,"","\\lor");C(U,q,gt,"","\\wedge",!0);C(U,q,gt,"","\\vee",!0);C(U,q,me,"","\\surd");C(U,q,hs,"","\\langle",!0);C(U,q,hs,"","\\lvert");C(U,q,hs,"","\\lVert");C(U,q,ba,"?","?");C(U,q,ba,"!","!");C(U,q,ba,"","\\rangle",!0);C(U,q,ba,"","\\rvert");C(U,q,ba,"","\\rVert");C(U,q,ie,"=","=");C(U,q,ie,":",":");C(U,q,ie,"","\\approx",!0);C(U,q,ie,"","\\cong",!0);C(U,q,ie,"","\\ge");C(U,q,ie,"","\\geq",!0);C(U,q,ie,"","\\gets");C(U,q,ie,">","\\gt",!0);C(U,q,ie,"","\\in",!0);C(U,q,ie,"","\\@not");C(U,q,ie,"","\\subset",!0);C(U,q,ie,"","\\supset",!0);C(U,q,ie,"","\\subseteq",!0);C(U,q,ie,"","\\supseteq",!0);C(U,re,ie,"","\\nsubseteq",!0);C(U,re,ie,"","\\nsupseteq",!0);C(U,q,ie,"","\\models");C(U,q,ie,"","\\leftarrow",!0);C(U,q,ie,"","\\le");C(U,q,ie,"","\\leq",!0);C(U,q,ie,"<","\\lt",!0);C(U,q,ie,"","\\rightarrow",!0);C(U,q,ie,"","\\to");C(U,re,ie,"","\\ngeq",!0);C(U,re,ie,"","\\nleq",!0);C(U,q,Yl,"","\\ ");C(U,q,Yl,"","\\space");C(U,q,Yl,"","\\nobreakspace");C(He,q,Yl,"","\\ ");C(He,q,Yl,""," ");C(He,q,Yl,"","\\space");C(He,q,Yl,"","\\nobreakspace");C(U,q,Yl,null,"\\nobreak");C(U,q,Yl,null,"\\allowbreak");C(U,q,f2,",",",");C(U,q,f2,";",";");C(U,re,gt,"","\\barwedge",!0);C(U,re,gt,"","\\veebar",!0);C(U,q,gt,"","\\odot",!0);C(U,q,gt,"","\\oplus",!0);C(U,q,gt,"","\\otimes",!0);C(U,q,me,"","\\partial",!0);C(U,q,gt,"","\\oslash",!0);C(U,re,gt,"","\\circledcirc",!0);C(U,re,gt,"","\\boxdot",!0);C(U,q,gt,"","\\bigtriangleup");C(U,q,gt,"","\\bigtriangledown");C(U,q,gt,"","\\dagger");C(U,q,gt,"","\\diamond");C(U,q,gt,"","\\star");C(U,q,gt,"","\\triangleleft");C(U,q,gt,"","\\triangleright");C(U,q,hs,"{","\\{");C(He,q,me,"{","\\{");C(He,q,me,"{","\\textbraceleft");C(U,q,ba,"}","\\}");C(He,q,me,"}","\\}");C(He,q,me,"}","\\textbraceright");C(U,q,hs,"{","\\lbrace");C(U,q,ba,"}","\\rbrace");C(U,q,hs,"[","\\lbrack",!0);C(He,q,me,"[","\\lbrack",!0);C(U,q,ba,"]","\\rbrack",!0);C(He,q,me,"]","\\rbrack",!0);C(U,q,hs,"(","\\lparen",!0);C(U,q,ba,")","\\rparen",!0);C(He,q,me,"<","\\textless",!0);C(He,q,me,">","\\textgreater",!0);C(U,q,hs,"","\\lfloor",!0);C(U,q,ba,"","\\rfloor",!0);C(U,q,hs,"","\\lceil",!0);C(U,q,ba,"","\\rceil",!0);C(U,q,me,"\\","\\backslash");C(U,q,me,"","|");C(U,q,me,"","\\vert");C(He,q,me,"|","\\textbar",!0);C(U,q,me,"","\\|");C(U,q,me,"","\\Vert");C(He,q,me,"","\\textbardbl");C(He,q,me,"~","\\textasciitilde");C(He,q,me,"\\","\\textbackslash");C(He,q,me,"^","\\textasciicircum");C(U,q,ie,"","\\uparrow",!0);C(U,q,ie,"","\\Uparrow",!0);C(U,q,ie,"","\\downarrow",!0);C(U,q,ie,"","\\Downarrow",!0);C(U,q,ie,"","\\updownarrow",!0);C(U,q,ie,"","\\Updownarrow",!0);C(U,q,si,"","\\coprod");C(U,q,si,"","\\bigvee");C(U,q,si,"","\\bigwedge");C(U,q,si,"","\\biguplus");C(U,q,si,"","\\bigcap");C(U,q,si,"","\\bigcup");C(U,q,si,"","\\int");C(U,q,si,"","\\intop");C(U,q,si,"","\\iint");C(U,q,si,"","\\iiint");C(U,q,si,"","\\prod");C(U,q,si,"","\\sum");C(U,q,si,"","\\bigotimes");C(U,q,si,"","\\bigoplus");C(U,q,si,"","\\bigodot");C(U,q,si,"","\\oint");C(U,q,si,"","\\oiint");C(U,q,si,"","\\oiiint");C(U,q,si,"","\\bigsqcup");C(U,q,si,"","\\smallint");C(He,q,bf,"","\\textellipsis");C(U,q,bf,"","\\mathellipsis");C(He,q,bf,"","\\ldots",!0);C(U,q,bf,"","\\ldots",!0);C(U,q,bf,"","\\@cdots",!0);C(U,q,bf,"","\\ddots",!0);C(U,q,me,"","\\varvdots");C(He,q,me,"","\\varvdots");C(U,q,_n,"","\\acute");C(U,q,_n,"","\\grave");C(U,q,_n,"","\\ddot");C(U,q,_n,"~","\\tilde");C(U,q,_n,"","\\bar");C(U,q,_n,"","\\breve");C(U,q,_n,"","\\check");C(U,q,_n,"^","\\hat");C(U,q,_n,"","\\vec");C(U,q,_n,"","\\dot");C(U,q,_n,"","\\mathring");C(U,q,jt,"","\\@imath");C(U,q,jt,"","\\@jmath");C(U,q,me,"","");C(U,q,me,"","");C(He,q,me,"","\\i",!0);C(He,q,me,"","\\j",!0);C(He,q,me,"","\\ss",!0);C(He,q,me,"","\\ae",!0);C(He,q,me,"","\\oe",!0);C(He,q,me,"","\\o",!0);C(He,q,me,"","\\AE",!0);C(He,q,me,"","\\OE",!0);C(He,q,me,"","\\O",!0);C(He,q,_n,"","\\'");C(He,q,_n,"","\\`");C(He,q,_n,"","\\^");C(He,q,_n,"","\\~");C(He,q,_n,"","\\=");C(He,q,_n,"","\\u");C(He,q,_n,"","\\.");C(He,q,_n,"","\\c");C(He,q,_n,"","\\r");C(He,q,_n,"","\\v");C(He,q,_n,"",'\\"');C(He,q,_n,"","\\H");C(He,q,_n,"","\\textcircled");var tH={"--":!0,"---":!0,"``":!0,"''":!0};C(He,q,me,"","--",!0);C(He,q,me,"","\\textendash");C(He,q,me,"","---",!0);C(He,q,me,"","\\textemdash");C(He,q,me,"","`",!0);C(He,q,me,"","\\textquoteleft");C(He,q,me,"","'",!0);C(He,q,me,"","\\textquoteright");C(He,q,me,"","``",!0);C(He,q,me,"","\\textquotedblleft");C(He,q,me,"","''",!0);C(He,q,me,"","\\textquotedblright");C(U,q,me,"","\\degree",!0);C(He,q,me,"","\\degree");C(He,q,me,"","\\textdegree",!0);C(U,q,me,"","\\pounds");C(U,q,me,"","\\mathsterling",!0);C(He,q,me,"","\\pounds");C(He,q,me,"","\\textsterling",!0);C(U,re,me,"","\\maltese");C(He,re,me,"","\\maltese");var WI='0123456789/@."';for(var L5=0;L5<WI.length;L5++){var XI=WI.charAt(L5);C(U,q,me,XI,XI)}var QI='0123456789!@*()-=+";:?/.,';for(var B5=0;B5<QI.length;B5++){var YI=QI.charAt(B5);C(He,q,me,YI,YI)}var wb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var U5=0;U5<wb.length;U5++){var Zy=wb.charAt(U5);C(U,q,jt,Zy,Zy),C(He,q,me,Zy,Zy)}C(U,re,me,"C","");C(He,re,me,"C","");C(U,re,me,"H","");C(He,re,me,"H","");C(U,re,me,"N","");C(He,re,me,"N","");C(U,re,me,"P","");C(He,re,me,"P","");C(U,re,me,"Q","");C(He,re,me,"Q","");C(U,re,me,"R","");C(He,re,me,"R","");C(U,re,me,"Z","");C(He,re,me,"Z","");C(U,q,jt,"h","");C(He,q,jt,"h","");var Pt="";for(var da=0;da<wb.length;da++){var Mn=wb.charAt(da);Pt=String.fromCharCode(55349,56320+da),C(U,q,jt,Mn,Pt),C(He,q,me,Mn,Pt),Pt=String.fromCharCode(55349,56372+da),C(U,q,jt,Mn,Pt),C(He,q,me,Mn,Pt),Pt=String.fromCharCode(55349,56424+da),C(U,q,jt,Mn,Pt),C(He,q,me,Mn,Pt),Pt=String.fromCharCode(55349,56580+da),C(U,q,jt,Mn,Pt),C(He,q,me,Mn,Pt),Pt=String.fromCharCode(55349,56684+da),C(U,q,jt,Mn,Pt),C(He,q,me,Mn,Pt),Pt=String.fromCharCode(55349,56736+da),C(U,q,jt,Mn,Pt),C(He,q,me,Mn,Pt),Pt=String.fromCharCode(55349,56788+da),C(U,q,jt,Mn,Pt),C(He,q,me,Mn,Pt),Pt=String.fromCharCode(55349,56840+da),C(U,q,jt,Mn,Pt),C(He,q,me,Mn,Pt),Pt=String.fromCharCode(55349,56944+da),C(U,q,jt,Mn,Pt),C(He,q,me,Mn,Pt),da<26&&(Pt=String.fromCharCode(55349,56632+da),C(U,q,jt,Mn,Pt),C(He,q,me,Mn,Pt),Pt=String.fromCharCode(55349,56476+da),C(U,q,jt,Mn,Pt),C(He,q,me,Mn,Pt))}Pt="";C(U,q,jt,"k",Pt);C(He,q,me,"k",Pt);for(var Yu=0;Yu<10;Yu++){var Pc=Yu.toString();Pt=String.fromCharCode(55349,57294+Yu),C(U,q,jt,Pc,Pt),C(He,q,me,Pc,Pt),Pt=String.fromCharCode(55349,57314+Yu),C(U,q,jt,Pc,Pt),C(He,q,me,Pc,Pt),Pt=String.fromCharCode(55349,57324+Yu),C(U,q,jt,Pc,Pt),C(He,q,me,Pc,Pt),Pt=String.fromCharCode(55349,57334+Yu),C(U,q,jt,Pc,Pt),C(He,q,me,Pc,Pt)}var dA="";for(var z5=0;z5<dA.length;z5++){var Jy=dA.charAt(z5);C(U,q,jt,Jy,Jy),C(He,q,me,Jy,Jy)}var ev=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],ZI=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],qle=function(e,r){var n=e.charCodeAt(0),i=e.charCodeAt(1),a=(n-55296)*1024+(i-56320)+65536,s=r==="math"?0:1;if(119808<=a&&a<120484){var l=Math.floor((a-119808)/26);return[ev[l][2],ev[l][s]]}else if(120782<=a&&a<=120831){var d=Math.floor((a-120782)/10);return[ZI[d][2],ZI[d][s]]}else{if(a===120485||a===120486)return[ev[0][2],ev[0][s]];if(120486<a&&a<120782)return["",""];throw new Je("Unsupported character: "+e)}},p2=function(e,r,n){return cn[n][e]&&cn[n][e].replace&&(e=cn[n][e].replace),{value:e,metrics:AE(e,r,n)}},Zs=function(e,r,n,i,a){var s=p2(e,r,n),l=s.metrics;e=s.value;var d;if(l){var h=l.italic;(n==="text"||i&&i.font==="mathit")&&(h=0),d=new Rs(e,l.height,l.depth,h,l.skew,l.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+n+"'")),d=new Rs(e,0,0,0,0,0,a);if(i){d.maxFontSize=i.sizeMultiplier,i.style.isTight()&&d.classes.push("mtight");var p=i.getColor();p&&(d.style.color=p)}return d},Hle=function(e,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&p2(e,"Main-Bold",r).metrics?Zs(e,"Main-Bold",r,n,i.concat(["mathbf"])):e==="\\"||cn[r][e].font==="main"?Zs(e,"Main-Regular",r,n,i):Zs(e,"AMS-Regular",r,n,i.concat(["amsrm"]))},Gle=function(e,r,n,i,a){return a!=="textord"&&p2(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Kle=function(e,r,n){var i=e.mode,a=e.text,s=["mord"],l=i==="math"||i==="text"&&r.font,d=l?r.font:r.fontFamily,h="",p="";if(a.charCodeAt(0)===55349&&([h,p]=qle(a,i)),h.length>0)return Zs(a,h,i,r,s.concat(p));if(d){var m,y;if(d==="boldsymbol"){var b=Gle(a,i,r,s,n);m=b.fontName,y=[b.fontClass]}else l?(m=iH[d].fontName,y=[d]):(m=tv(d,r.fontWeight,r.fontShape),y=[d,r.fontWeight,r.fontShape]);if(p2(a,m,i).metrics)return Zs(a,m,i,r,s.concat(y));if(tH.hasOwnProperty(a)&&m.slice(0,10)==="Typewriter"){for(var T=[],S=0;S<a.length;S++)T.push(Zs(a[S],m,i,r,s.concat(y)));return nH(T)}}if(n==="mathord")return Zs(a,"Math-Italic",i,r,s.concat(["mathnormal"]));if(n==="textord"){var w=cn[i][a]&&cn[i][a].font;if(w==="ams"){var N=tv("amsrm",r.fontWeight,r.fontShape);return Zs(a,N,i,r,s.concat("amsrm",r.fontWeight,r.fontShape))}else if(w==="main"||!w){var k=tv("textrm",r.fontWeight,r.fontShape);return Zs(a,k,i,r,s.concat(r.fontWeight,r.fontShape))}else{var j=tv(w,r.fontWeight,r.fontShape);return Zs(a,j,i,r,s.concat(j,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},Wle=(t,e)=>{if(du(t.classes)!==du(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},Xle=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof Rs&&n instanceof Rs&&Wle(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t},NE=function(e){for(var r=0,n=0,i=0,a=0;a<e.children.length;a++){var s=e.children[a];s.height>r&&(r=s.height),s.depth>n&&(n=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}e.height=r,e.depth=n,e.maxFontSize=i},Oa=function(e,r,n,i){var a=new e1(e,r,n,i);return NE(a),a},rH=(t,e,r,n)=>new e1(t,e,r,n),Qle=function(e,r,n){var i=Oa([e],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=st(i.height),i.maxFontSize=1,i},Yle=function(e,r,n,i){var a=new EE(e,r,n,i);return NE(a),a},nH=function(e){var r=new Jg(e);return NE(r),r},Zle=function(e,r){return e instanceof Jg?Oa([],[e],r):e},Jle=function(e){if(e.positionType==="individualShift"){for(var r=e.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,a=i,s=1;s<r.length;s++){var l=-r[s].shift-a-r[s].elem.depth,d=l-(r[s-1].elem.height+r[s-1].elem.depth);a=a+l,n.push({type:"kern",size:d}),n.push(r[s])}return{children:n,depth:i}}var h;if(e.positionType==="top"){for(var p=e.positionData,m=0;m<e.children.length;m++){var y=e.children[m];p-=y.type==="kern"?y.size:y.elem.height+y.elem.depth}h=p}else if(e.positionType==="bottom")h=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")h=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")h=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:h}},ece=function(e,r){for(var{children:n,depth:i}=Jle(e),a=0,s=0;s<n.length;s++){var l=n[s];if(l.type==="elem"){var d=l.elem;a=Math.max(a,d.maxFontSize,d.height)}}a+=2;var h=Oa(["pstrut"],[]);h.style.height=st(a);for(var p=[],m=i,y=i,b=i,T=0;T<n.length;T++){var S=n[T];if(S.type==="kern")b+=S.size;else{var w=S.elem,N=S.wrapperClasses||[],k=S.wrapperStyle||{},j=Oa(N,[h,w],void 0,k);j.style.top=st(-a-b-w.depth),S.marginLeft&&(j.style.marginLeft=S.marginLeft),S.marginRight&&(j.style.marginRight=S.marginRight),p.push(j),b+=w.height+w.depth}m=Math.min(m,b),y=Math.max(y,b)}var $=Oa(["vlist"],p);$.style.height=st(y);var I;if(m<0){var L=Oa([],[]),E=Oa(["vlist"],[L]);E.style.height=st(-m);var A=Oa(["vlist-s"],[new Rs("")]);I=[Oa(["vlist-r"],[$,A]),Oa(["vlist-r"],[E])]}else I=[Oa(["vlist-r"],[$])];var R=Oa(["vlist-t"],I);return I.length===2&&R.classes.push("vlist-t2"),R.height=y,R.depth=-m,R},tce=(t,e)=>{var r=Oa(["mspace"],[],e),n=Cn(t,e);return r.style.marginRight=st(n),r},tv=function(e,r,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var a;return r==="textbf"&&n==="textit"?a="BoldItalic":r==="textbf"?a="Bold":r==="textit"?a="Italic":a="Regular",i+"-"+a},iH={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},aH={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},rce=function(e,r){var[n,i,a]=aH[e],s=new hu(n),l=new $l([s],{width:st(i),height:st(a),style:"width:"+st(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),d=rH(["overlay"],[l],r);return d.height=a,d.style.height=st(a),d.style.width=st(i),d},Se={fontMap:iH,makeSymbol:Zs,mathsym:Hle,makeSpan:Oa,makeSvgSpan:rH,makeLineSpan:Qle,makeAnchor:Yle,makeFragment:nH,wrapFragment:Zle,makeVList:ece,makeOrd:Kle,makeGlue:tce,staticSvg:rce,svgData:aH,tryCombineChars:Xle},Nn={number:3,unit:"mu"},Zu={number:4,unit:"mu"},hl={number:5,unit:"mu"},nce={mord:{mop:Nn,mbin:Zu,mrel:hl,minner:Nn},mop:{mord:Nn,mop:Nn,mrel:hl,minner:Nn},mbin:{mord:Zu,mop:Zu,mopen:Zu,minner:Zu},mrel:{mord:hl,mop:hl,mopen:hl,minner:hl},mopen:{},mclose:{mop:Nn,mbin:Zu,mrel:hl,minner:Nn},mpunct:{mord:Nn,mop:Nn,mrel:hl,mopen:Nn,mclose:Nn,mpunct:Nn,minner:Nn},minner:{mord:Nn,mop:Nn,mbin:Zu,mrel:hl,mopen:Nn,mpunct:Nn,minner:Nn}},ice={mord:{mop:Nn},mop:{mord:Nn,mop:Nn},mbin:{},mrel:{},mopen:{},mclose:{mop:Nn},mpunct:{},minner:{mop:Nn}},sH={},_b={},Sb={};function ft(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,l={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},d=0;d<r.length;++d)sH[r[d]]=l;e&&(a&&(_b[e]=a),s&&(Sb[e]=s))}function Jd(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;ft({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var Tb=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Hn=function(e){return e.type==="ordgroup"?e.body:[e]},Vl=Se.makeSpan,ace=["leftmost","mbin","mopen","mrel","mop","mpunct"],sce=["rightmost","mrel","mclose","mpunct"],oce={display:kt.DISPLAY,text:kt.TEXT,script:kt.SCRIPT,scriptscript:kt.SCRIPTSCRIPT},lce={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},gi=function(e,r,n,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<e.length;s++){var l=pr(e[s],r);if(l instanceof Jg){var d=l.children;a.push(...d)}else a.push(l)}if(Se.tryCombineChars(a),!n)return a;var h=r;if(e.length===1){var p=e[0];p.type==="sizing"?h=r.havingSize(p.size):p.type==="styling"&&(h=r.havingStyle(oce[p.style]))}var m=Vl([i[0]||"leftmost"],[],r),y=Vl([i[1]||"rightmost"],[],r),b=n==="root";return JI(a,(T,S)=>{var w=S.classes[0],N=T.classes[0];w==="mbin"&&sce.includes(N)?S.classes[0]="mord":N==="mbin"&&ace.includes(w)&&(T.classes[0]="mord")},{node:m},y,b),JI(a,(T,S)=>{var w=hA(S),N=hA(T),k=w&&N?T.hasClass("mtight")?ice[w][N]:nce[w][N]:null;if(k)return Se.makeGlue(k,h)},{node:m},y,b),a},JI=function t(e,r,n,i,a){i&&e.push(i);for(var s=0;s<e.length;s++){var l=e[s],d=oH(l);if(d){t(d.children,r,n,null,a);continue}var h=!l.hasClass("mspace");if(h){var p=r(l,n.node);p&&(n.insertAfter?n.insertAfter(p):(e.unshift(p),s++))}h?n.node=l:a&&l.hasClass("newline")&&(n.node=Vl(["leftmost"])),n.insertAfter=(m=>y=>{e.splice(m+1,0,y),s++})(s)}i&&e.pop()},oH=function(e){return e instanceof Jg||e instanceof EE||e instanceof e1&&e.hasClass("enclosing")?e:null},cce=function t(e,r){var n=oH(e);if(n){var i=n.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},hA=function(e,r){return e?(r&&(e=cce(e,r)),lce[e.classes[0]]||null):null},Gm=function(e,r){var n=["nulldelimiter"].concat(e.baseSizingClasses());return Vl(r.concat(n))},pr=function(e,r,n){if(!e)return Vl();if(_b[e.type]){var i=_b[e.type](e,r);if(n&&r.size!==n.size){i=Vl(r.sizingClasses(n),[i],r);var a=r.sizeMultiplier/n.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new Je("Got group of unknown type: '"+e.type+"'")};function rv(t,e){var r=Vl(["base"],t,e),n=Vl(["strut"]);return n.style.height=st(r.height+r.depth),r.depth&&(n.style.verticalAlign=st(-r.depth)),r.children.unshift(n),r}function fA(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n=gi(t,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var a=[],s=[],l=0;l<n.length;l++)if(s.push(n[l]),n[l].hasClass("mbin")||n[l].hasClass("mrel")||n[l].hasClass("allowbreak")){for(var d=!1;l<n.length-1&&n[l+1].hasClass("mspace")&&!n[l+1].hasClass("newline");)l++,s.push(n[l]),n[l].hasClass("nobreak")&&(d=!0);d||(a.push(rv(s,e)),s=[])}else n[l].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(rv(s,e)),s=[]),a.push(n[l]));s.length>0&&a.push(rv(s,e));var h;r?(h=rv(gi(r,e,!0)),h.classes=["tag"],a.push(h)):i&&a.push(i);var p=Vl(["katex-html"],a);if(p.setAttribute("aria-hidden","true"),h){var m=h.children[0];m.style.height=st(p.height+p.depth),p.depth&&(m.style.verticalAlign=st(-p.depth))}return p}function lH(t){return new Jg(t)}class ts{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=du(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof No&&this.children[n+1]instanceof No){for(var i=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof No;)i+=this.children[++n].toText();e.appendChild(new No(i).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=wr.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+wr.escape(du(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class No{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return wr.escape(this.toText())}toText(){return this.text}}class uce{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",st(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+st(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ze={MathNode:ts,TextNode:No,SpaceNode:uce,newDocumentFragment:lH},Ms=function(e,r,n){return cn[r][e]&&cn[r][e].replace&&e.charCodeAt(0)!==55349&&!(tH.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=cn[r][e].replace),new Ze.TextNode(e)},CE=function(e){return e.length===1?e[0]:new Ze.MathNode("mrow",e)},jE=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;cn[i][a]&&cn[i][a].replace&&(a=cn[i][a].replace);var s=Se.fontMap[n].fontName;return AE(a,s,i)?Se.fontMap[n].variant:null};function $5(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof No&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof No&&r.text===","}else return!1}var $a=function(e,r,n){if(e.length===1){var i=Jr(e[0],r);return n&&i instanceof ts&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,l=0;l<e.length;l++){var d=Jr(e[l],r);if(d instanceof ts&&s instanceof ts){if(d.type==="mtext"&&s.type==="mtext"&&d.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...d.children);continue}else if(d.type==="mn"&&s.type==="mn"){s.children.push(...d.children);continue}else if($5(d)&&s.type==="mn"){s.children.push(...d.children);continue}else if(d.type==="mn"&&$5(s))d.children=[...s.children,...d.children],a.pop();else if((d.type==="msup"||d.type==="msub")&&d.children.length>=1&&(s.type==="mn"||$5(s))){var h=d.children[0];h instanceof ts&&h.type==="mn"&&(h.children=[...s.children,...h.children],a.pop())}else if(s.type==="mi"&&s.children.length===1){var p=s.children[0];if(p instanceof No&&p.text===""&&(d.type==="mo"||d.type==="mi"||d.type==="mn")){var m=d.children[0];m instanceof No&&m.text.length>0&&(m.text=m.text.slice(0,1)+""+m.text.slice(1),a.pop())}}}a.push(d),s=d}return a},fu=function(e,r,n){return CE($a(e,r,n))},Jr=function(e,r){if(!e)return new Ze.MathNode("mrow");if(Sb[e.type]){var n=Sb[e.type](e,r);return n}else throw new Je("Got group of unknown type: '"+e.type+"'")};function eR(t,e,r,n,i){var a=$a(t,r),s;a.length===1&&a[0]instanceof ts&&["mrow","mtable"].includes(a[0].type)?s=a[0]:s=new Ze.MathNode("mrow",a);var l=new Ze.MathNode("annotation",[new Ze.TextNode(e)]);l.setAttribute("encoding","application/x-tex");var d=new Ze.MathNode("semantics",[s,l]),h=new Ze.MathNode("math",[d]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&h.setAttribute("display","block");var p=i?"katex":"katex-mathml";return Se.makeSpan([p],[h])}var cH=function(e){return new yl({style:e.displayMode?kt.DISPLAY:kt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},uH=function(e,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),e=Se.makeSpan(n,[e])}return e},dce=function(e,r,n){var i=cH(n),a;if(n.output==="mathml")return eR(e,r,i,n.displayMode,!0);if(n.output==="html"){var s=fA(e,i);a=Se.makeSpan(["katex"],[s])}else{var l=eR(e,r,i,n.displayMode,!1),d=fA(e,i);a=Se.makeSpan(["katex"],[l,d])}return uH(a,n)},hce=function(e,r,n){var i=cH(n),a=fA(e,i),s=Se.makeSpan(["katex"],[a]);return uH(s,n)},fce={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},pce=function(e){var r=new Ze.MathNode("mo",[new Ze.TextNode(fce[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},mce={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},gce=function(e){return e.type==="ordgroup"?e.body.length:1},yce=function(e,r){function n(){var l=4e5,d=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(d)){var h=e,p=gce(h.base),m,y,b;if(p>5)d==="widehat"||d==="widecheck"?(m=420,l=2364,b=.42,y=d+"4"):(m=312,l=2340,b=.34,y="tilde4");else{var T=[1,1,2,2,3,3][p];d==="widehat"||d==="widecheck"?(l=[0,1062,2364,2364,2364][T],m=[0,239,300,360,420][T],b=[0,.24,.3,.3,.36,.42][T],y=d+T):(l=[0,600,1033,2339,2340][T],m=[0,260,286,306,312][T],b=[0,.26,.286,.3,.306,.34][T],y="tilde"+T)}var S=new hu(y),w=new $l([S],{width:"100%",height:st(b),viewBox:"0 0 "+l+" "+m,preserveAspectRatio:"none"});return{span:Se.makeSvgSpan([],[w],r),minWidth:0,height:b}}else{var N=[],k=mce[d],[j,$,I]=k,L=I/1e3,E=j.length,A,R;if(E===1){var F=k[3];A=["hide-tail"],R=[F]}else if(E===2)A=["halfarrow-left","halfarrow-right"],R=["xMinYMin","xMaxYMin"];else if(E===3)A=["brace-left","brace-center","brace-right"],R=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+E+" children.");for(var D=0;D<E;D++){var B=new hu(j[D]),M=new $l([B],{width:"400em",height:st(L),viewBox:"0 0 "+l+" "+I,preserveAspectRatio:R[D]+" slice"}),Q=Se.makeSvgSpan([A[D]],[M],r);if(E===1)return{span:Q,minWidth:$,height:L};Q.style.height=st(L),N.push(Q)}return{span:Se.makeSpan(["stretchy"],N,r),minWidth:$,height:L}}}var{span:i,minWidth:a,height:s}=n();return i.height=s,i.style.height=st(s),a>0&&(i.style.minWidth=st(a)),i},vce=function(e,r,n,i,a){var s,l=e.height+e.depth+n+i;if(/fbox|color|angl/.test(r)){if(s=Se.makeSpan(["stretchy",r],[],a),r==="fbox"){var d=a.color&&a.getColor();d&&(s.style.borderColor=d)}}else{var h=[];/^[bx]cancel$/.test(r)&&h.push(new uA({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&h.push(new uA({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var p=new $l(h,{width:"100%",height:st(l)});s=Se.makeSvgSpan([],[p],a)}return s.height=l,s.style.height=st(l),s},Fl={encloseSpan:vce,mathMLnode:pce,svgSpan:yce};function Jt(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function kE(t){var e=m2(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function m2(t){return t&&(t.type==="atom"||Fle.hasOwnProperty(t.type))?t:null}var OE=(t,e)=>{var r,n,i;t&&t.type==="supsub"?(n=Jt(t.base,"accent"),r=n.base,t.base=r,i=$le(pr(t,e)),t.base=n):(n=Jt(t,"accent"),r=n.base);var a=pr(r,e.havingCrampedStyle()),s=n.isShifty&&wr.isCharacterBox(r),l=0;if(s){var d=wr.getBaseElem(r),h=pr(d,e.havingCrampedStyle());l=KI(h).skew}var p=n.label==="\\c",m=p?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),y;if(n.isStretchy)y=Fl.svgSpan(n,e),y=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:y,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+st(2*l)+")",marginLeft:st(2*l)}:void 0}]},e);else{var b,T;n.label==="\\vec"?(b=Se.staticSvg("vec",e),T=Se.svgData.vec[1]):(b=Se.makeOrd({mode:n.mode,text:n.label},e,"textord"),b=KI(b),b.italic=0,T=b.width,p&&(m+=b.depth)),y=Se.makeSpan(["accent-body"],[b]);var S=n.label==="\\textcircled";S&&(y.classes.push("accent-full"),m=a.height);var w=l;S||(w-=T/2),y.style.left=st(w),n.label==="\\textcircled"&&(y.style.top=".2em"),y=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-m},{type:"elem",elem:y}]},e)}var N=Se.makeSpan(["mord","accent"],[y],e);return i?(i.children[0]=N,i.height=Math.max(N.height,i.height),i.classes[0]="mord",i):N},dH=(t,e)=>{var r=t.isStretchy?Fl.mathMLnode(t.label):new Ze.MathNode("mo",[Ms(t.label,t.mode)]),n=new Ze.MathNode("mover",[Jr(t.base,e),r]);return n.setAttribute("accent","true"),n},bce=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ft({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=Tb(e[0]),n=!bce.test(t.funcName),i=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:OE,mathmlBuilder:dH});ft({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:OE,mathmlBuilder:dH});ft({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(t,e)=>{var r=pr(t.base,e),n=Fl.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,a=Se.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return Se.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var r=Fl.mathMLnode(t.label),n=new Ze.MathNode("munder",[Jr(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var nv=t=>{var e=new Ze.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ft({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:i}=t;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,n=e.havingStyle(r.sup()),i=Se.wrapFragment(pr(t.body,n,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;t.below&&(n=e.havingStyle(r.sub()),s=Se.wrapFragment(pr(t.below,n,e),e),s.classes.push(a+"-arrow-pad"));var l=Fl.svgSpan(t,e),d=-e.fontMetrics().axisHeight+.5*l.height,h=-e.fontMetrics().axisHeight-.5*l.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(h-=i.depth);var p;if(s){var m=-e.fontMetrics().axisHeight+s.height+.5*l.height+.111;p=Se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:h},{type:"elem",elem:l,shift:d},{type:"elem",elem:s,shift:m}]},e)}else p=Se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:h},{type:"elem",elem:l,shift:d}]},e);return p.children[0].children[0].children[1].classes.push("svg-align"),Se.makeSpan(["mrel","x-arrow"],[p],e)},mathmlBuilder(t,e){var r=Fl.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var i=nv(Jr(t.body,e));if(t.below){var a=nv(Jr(t.below,e));n=new Ze.MathNode("munderover",[r,a,i])}else n=new Ze.MathNode("mover",[r,i])}else if(t.below){var s=nv(Jr(t.below,e));n=new Ze.MathNode("munder",[r,s])}else n=nv(),n=new Ze.MathNode("mover",[r,n]);return n}});var xce=Se.makeSpan;function hH(t,e){var r=gi(t.body,e,!0);return xce([t.mclass],r,e)}function fH(t,e){var r,n=$a(t.body,e);return t.mclass==="minner"?r=new Ze.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0],r.type="mi"):r=new Ze.MathNode("mi",n):(t.isCharacterBox?(r=n[0],r.type="mo"):r=new Ze.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}ft({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:Hn(i),isCharacterBox:wr.isCharacterBox(i)}},htmlBuilder:hH,mathmlBuilder:fH});var g2=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ft({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:g2(e[0]),body:Hn(e[1]),isCharacterBox:wr.isCharacterBox(e[1])}}});ft({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:n}=t,i=e[1],a=e[0],s;n!=="\\stackrel"?s=g2(i):s="mrel";var l={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:Hn(i)},d={type:"supsub",mode:a.mode,base:l,sup:n==="\\underset"?null:a,sub:n==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:s,body:[d],isCharacterBox:wr.isCharacterBox(d)}},htmlBuilder:hH,mathmlBuilder:fH});ft({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:g2(e[0]),body:Hn(e[0])}},htmlBuilder(t,e){var r=gi(t.body,e,!0),n=Se.makeSpan([t.mclass],r,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(t,e){var r=$a(t.body,e),n=new Ze.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var wce={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},tR=()=>({type:"styling",body:[],mode:"math",style:"display"}),rR=t=>t.type==="textord"&&t.text==="@",_ce=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function Sce(t,e,r){var n=wce[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:n,mode:"math",family:"rel"},s=r.callFunction("\\Big",[a],[]),l=r.callFunction("\\\\cdright",[e[1]],[]),d={type:"ordgroup",mode:"math",body:[i,s,l]};return r.callFunction("\\\\cdparent",[d],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Tce(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Je("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],i=[n],a=0;a<e.length;a++){for(var s=e[a],l=tR(),d=0;d<s.length;d++)if(!rR(s[d]))l.body.push(s[d]);else{n.push(l),d+=1;var h=kE(s[d]).text,p=new Array(2);if(p[0]={type:"ordgroup",mode:"math",body:[]},p[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var m=0;m<2;m++){for(var y=!0,b=d+1;b<s.length;b++){if(_ce(s[b],h)){y=!1,d=b;break}if(rR(s[b]))throw new Je("Missing a "+h+" character to complete a CD arrow.",s[b]);p[m].body.push(s[b])}if(y)throw new Je("Missing a "+h+" character to complete a CD arrow.",s[d])}else throw new Je('Expected one of "<>AV=|." after @',s[d]);var T=Sce(h,p,t),S={type:"styling",body:[T],mode:"math",style:"display"};n.push(S),l=tR()}a%2===0?n.push(l):n.shift(),n=[],i.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var w=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:w,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}ft({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=Se.wrapFragment(pr(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=st(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new Ze.MathNode("mrow",[Jr(t.label,e)]);return r=new Ze.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new Ze.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});ft({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=Se.wrapFragment(pr(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new Ze.MathNode("mrow",[Jr(t.fragment,e)])}});ft({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=Jt(e[0],"ordgroup"),i=n.body,a="",s=0;s<i.length;s++){var l=Jt(i[s],"textord");a+=l.text}var d=parseInt(a),h;if(isNaN(d))throw new Je("\\@char has non-numeric argument "+a);if(d<0||d>=1114111)throw new Je("\\@char with invalid code point "+a);return d<=65535?h=String.fromCharCode(d):(d-=65536,h=String.fromCharCode((d>>10)+55296,(d&1023)+56320)),{type:"textord",mode:r.mode,text:h}}});var pH=(t,e)=>{var r=gi(t.body,e.withColor(t.color),!1);return Se.makeFragment(r)},mH=(t,e)=>{var r=$a(t.body,e.withColor(t.color)),n=new Ze.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};ft({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=Jt(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:n,body:Hn(i)}},htmlBuilder:pH,mathmlBuilder:mH});ft({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,i=Jt(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var a=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:a}},htmlBuilder:pH,mathmlBuilder:mH});ft({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:n}=t,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:i&&Jt(i,"size").value}},htmlBuilder(t,e){var r=Se.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=st(Cn(t.size,e)))),r},mathmlBuilder(t,e){var r=new Ze.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",st(Cn(t.size,e)))),r}});var pA={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},gH=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Je("Expected a control sequence",t);return e},Ace=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},yH=(t,e,r,n)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,n)};ft({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(pA[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=pA[n.text]),Jt(e.parseFunction(),"internal");throw new Je("Invalid token after macro prefix",n)}});ft({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Je("Expected a control sequence",n);for(var a=0,s,l=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),l[a].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new Je('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new Je('Argument number "'+n.text+'" out of order');a++,l.push([])}else{if(n.text==="EOF")throw new Je("Expected a macro definition");l[a].push(n.text)}var{tokens:d}=e.gullet.consumeArg();return s&&d.unshift(s),(r==="\\edef"||r==="\\xdef")&&(d=e.gullet.expandTokens(d),d.reverse()),e.gullet.macros.set(i,{tokens:d,numArgs:a,delimiters:l},r===pA[r]),{type:"internal",mode:e.mode}}});ft({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=gH(e.gullet.popToken());e.gullet.consumeSpaces();var i=Ace(e);return yH(e,n,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});ft({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=gH(e.gullet.popToken()),i=e.gullet.popToken(),a=e.gullet.popToken();return yH(e,n,a,r==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Xp=function(e,r,n){var i=cn.math[e]&&cn.math[e].replace,a=AE(i||e,r,n);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return a},IE=function(e,r,n,i){var a=n.havingBaseStyle(r),s=Se.makeSpan(i.concat(a.sizingClasses(n)),[e],n),l=a.sizeMultiplier/n.sizeMultiplier;return s.height*=l,s.depth*=l,s.maxFontSize=a.sizeMultiplier,s},vH=function(e,r,n){var i=r.havingBaseStyle(n),a=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=st(a),e.height-=a,e.depth+=a},Ece=function(e,r,n,i,a,s){var l=Se.makeSymbol(e,"Main-Regular",a,i),d=IE(l,r,i,s);return n&&vH(d,i,r),d},Nce=function(e,r,n,i){return Se.makeSymbol(e,"Size"+r+"-Regular",n,i)},bH=function(e,r,n,i,a,s){var l=Nce(e,r,a,i),d=IE(Se.makeSpan(["delimsizing","size"+r],[l],i),kt.TEXT,i,s);return n&&vH(d,i,kt.TEXT),d},V5=function(e,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=Se.makeSpan(["delimsizinginner",i],[Se.makeSpan([],[Se.makeSymbol(e,r,n)])]);return{type:"elem",elem:a}},F5=function(e,r,n){var i=Eo["Size4-Regular"][e.charCodeAt(0)]?Eo["Size4-Regular"][e.charCodeAt(0)][4]:Eo["Size1-Regular"][e.charCodeAt(0)][4],a=new hu("inner",Ile(e,Math.round(1e3*r))),s=new $l([a],{width:st(i),height:st(r),style:"width:"+st(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),l=Se.makeSvgSpan([],[s],n);return l.height=r,l.style.height=st(r),l.style.width=st(i),{type:"elem",elem:l}},mA=.008,iv={type:"kern",size:-1*mA},Cce=["|","\\lvert","\\rvert","\\vert"],jce=["\\|","\\lVert","\\rVert","\\Vert"],xH=function(e,r,n,i,a,s){var l,d,h,p,m="",y=0;l=h=p=e,d=null;var b="Size1-Regular";e==="\\uparrow"?h=p="":e==="\\Uparrow"?h=p="":e==="\\downarrow"?l=h="":e==="\\Downarrow"?l=h="":e==="\\updownarrow"?(l="\\uparrow",h="",p="\\downarrow"):e==="\\Updownarrow"?(l="\\Uparrow",h="",p="\\Downarrow"):Cce.includes(e)?(h="",m="vert",y=333):jce.includes(e)?(h="",m="doublevert",y=556):e==="["||e==="\\lbrack"?(l="",h="",p="",b="Size4-Regular",m="lbrack",y=667):e==="]"||e==="\\rbrack"?(l="",h="",p="",b="Size4-Regular",m="rbrack",y=667):e==="\\lfloor"||e===""?(h=l="",p="",b="Size4-Regular",m="lfloor",y=667):e==="\\lceil"||e===""?(l="",h=p="",b="Size4-Regular",m="lceil",y=667):e==="\\rfloor"||e===""?(h=l="",p="",b="Size4-Regular",m="rfloor",y=667):e==="\\rceil"||e===""?(l="",h=p="",b="Size4-Regular",m="rceil",y=667):e==="("||e==="\\lparen"?(l="",h="",p="",b="Size4-Regular",m="lparen",y=875):e===")"||e==="\\rparen"?(l="",h="",p="",b="Size4-Regular",m="rparen",y=875):e==="\\{"||e==="\\lbrace"?(l="",d="",p="",h="",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(l="",d="",p="",h="",b="Size4-Regular"):e==="\\lgroup"||e===""?(l="",p="",h="",b="Size4-Regular"):e==="\\rgroup"||e===""?(l="",p="",h="",b="Size4-Regular"):e==="\\lmoustache"||e===""?(l="",p="",h="",b="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(l="",p="",h="",b="Size4-Regular");var T=Xp(l,b,a),S=T.height+T.depth,w=Xp(h,b,a),N=w.height+w.depth,k=Xp(p,b,a),j=k.height+k.depth,$=0,I=1;if(d!==null){var L=Xp(d,b,a);$=L.height+L.depth,I=2}var E=S+j+$,A=Math.max(0,Math.ceil((r-E)/(I*N))),R=E+A*I*N,F=i.fontMetrics().axisHeight;n&&(F*=i.sizeMultiplier);var D=R/2-F,B=[];if(m.length>0){var M=R-S-j,Q=Math.round(R*1e3),Z=Rle(m,Math.round(M*1e3)),W=new hu(m,Z),J=(y/1e3).toFixed(3)+"em",Y=(Q/1e3).toFixed(3)+"em",ge=new $l([W],{width:J,height:Y,viewBox:"0 0 "+y+" "+Q}),ce=Se.makeSvgSpan([],[ge],i);ce.height=Q/1e3,ce.style.width=J,ce.style.height=Y,B.push({type:"elem",elem:ce})}else{if(B.push(V5(p,b,a)),B.push(iv),d===null){var X=R-S-j+2*mA;B.push(F5(h,X,i))}else{var te=(R-S-j-$)/2+2*mA;B.push(F5(h,te,i)),B.push(iv),B.push(V5(d,b,a)),B.push(iv),B.push(F5(h,te,i))}B.push(iv),B.push(V5(l,b,a))}var ue=i.havingBaseStyle(kt.TEXT),oe=Se.makeVList({positionType:"bottom",positionData:D,children:B},ue);return IE(Se.makeSpan(["delimsizing","mult"],[oe],ue),kt.TEXT,i,s)},q5=80,H5=.08,G5=function(e,r,n,i,a){var s=Ole(e,i,n),l=new hu(e,s),d=new $l([l],{width:"400em",height:st(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Se.makeSvgSpan(["hide-tail"],[d],a)},kce=function(e,r){var n=r.havingBaseSizing(),i=TH("\\surd",e*n.sizeMultiplier,SH,n),a=n.sizeMultiplier,s=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),l,d=0,h=0,p=0,m;return i.type==="small"?(p=1e3+1e3*s+q5,e<1?a=1:e<1.4&&(a=.7),d=(1+s+H5)/a,h=(1+s)/a,l=G5("sqrtMain",d,p,s,r),l.style.minWidth="0.853em",m=.833/a):i.type==="large"?(p=(1e3+q5)*um[i.size],h=(um[i.size]+s)/a,d=(um[i.size]+s+H5)/a,l=G5("sqrtSize"+i.size,d,p,s,r),l.style.minWidth="1.02em",m=1/a):(d=e+s+H5,h=e+s,p=Math.floor(1e3*e+s)+q5,l=G5("sqrtTall",d,p,s,r),l.style.minWidth="0.742em",m=1.056),l.height=h,l.style.height=st(d),{span:l,advanceWidth:m,ruleWidth:(r.fontMetrics().sqrtRuleThickness+s)*a}},wH=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Oce=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],_H=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],um=[0,1.2,1.8,2.4,3],Ice=function(e,r,n,i,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),wH.includes(e)||_H.includes(e))return bH(e,r,!1,n,i,a);if(Oce.includes(e))return xH(e,um[r],!1,n,i,a);throw new Je("Illegal delimiter: '"+e+"'")},Rce=[{type:"small",style:kt.SCRIPTSCRIPT},{type:"small",style:kt.SCRIPT},{type:"small",style:kt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Mce=[{type:"small",style:kt.SCRIPTSCRIPT},{type:"small",style:kt.SCRIPT},{type:"small",style:kt.TEXT},{type:"stack"}],SH=[{type:"small",style:kt.SCRIPTSCRIPT},{type:"small",style:kt.SCRIPT},{type:"small",style:kt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Pce=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},TH=function(e,r,n,i){for(var a=Math.min(2,3-i.style.size),s=a;s<n.length&&n[s].type!=="stack";s++){var l=Xp(e,Pce(n[s]),"math"),d=l.height+l.depth;if(n[s].type==="small"){var h=i.havingBaseStyle(n[s].style);d*=h.sizeMultiplier}if(d>r)return n[s]}return n[n.length-1]},AH=function(e,r,n,i,a,s){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var l;_H.includes(e)?l=Rce:wH.includes(e)?l=SH:l=Mce;var d=TH(e,r,l,i);return d.type==="small"?Ece(e,d.style,n,i,a,s):d.type==="large"?bH(e,d.size,n,i,a,s):xH(e,r,n,i,a,s)},Dce=function(e,r,n,i,a,s){var l=i.fontMetrics().axisHeight*i.sizeMultiplier,d=901,h=5/i.fontMetrics().ptPerEm,p=Math.max(r-l,n+l),m=Math.max(p/500*d,2*p-h);return AH(e,m,!0,i,a,s)},kl={sqrtImage:kce,sizedDelim:Ice,sizeToMaxHeight:um,customSizedDelim:AH,leftRightDelim:Dce},nR={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Lce=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function y2(t,e){var r=m2(t);if(r&&Lce.includes(r.text))return r;throw r?new Je("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new Je("Invalid delimiter type '"+t.type+"'",t)}ft({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=y2(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:nR[t.funcName].size,mclass:nR[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?Se.makeSpan([t.mclass]):kl.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Ms(t.delim,t.mode));var r=new Ze.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=st(kl.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function iR(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ft({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new Je("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:y2(e[0],t).text,color:r}}});ft({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=y2(e[0],t),n=t.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=Jt(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{iR(t);for(var r=gi(t.body,e,!0,["mopen","mclose"]),n=0,i=0,a=!1,s=0;s<r.length;s++)r[s].isMiddle?a=!0:(n=Math.max(r[s].height,n),i=Math.max(r[s].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var l;if(t.left==="."?l=Gm(e,["mopen"]):l=kl.leftRightDelim(t.left,n,i,e,t.mode,["mopen"]),r.unshift(l),a)for(var d=1;d<r.length;d++){var h=r[d],p=h.isMiddle;p&&(r[d]=kl.leftRightDelim(p.delim,n,i,p.options,t.mode,[]))}var m;if(t.right===".")m=Gm(e,["mclose"]);else{var y=t.rightColor?e.withColor(t.rightColor):e;m=kl.leftRightDelim(t.right,n,i,y,t.mode,["mclose"])}return r.push(m),Se.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{iR(t);var r=$a(t.body,e);if(t.left!=="."){var n=new Ze.MathNode("mo",[Ms(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var i=new Ze.MathNode("mo",[Ms(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return CE(r)}});ft({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=y2(e[0],t);if(!t.parser.leftrightDepth)throw new Je("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=Gm(e,[]);else{r=kl.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?Ms("|","text"):Ms(t.delim,t.mode),n=new Ze.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var RE=(t,e)=>{var r=Se.wrapFragment(pr(t.body,e),e),n=t.label.slice(1),i=e.sizeMultiplier,a,s=0,l=wr.isCharacterBox(t.body);if(n==="sout")a=Se.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/i,s=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var d=Cn({number:.6,unit:"pt"},e),h=Cn({number:.35,unit:"ex"},e),p=e.havingBaseSizing();i=i/p.sizeMultiplier;var m=r.height+r.depth+d+h;r.style.paddingLeft=st(m/2+d);var y=Math.floor(1e3*m*i),b=jle(y),T=new $l([new hu("phase",b)],{width:"400em",height:st(y/1e3),viewBox:"0 0 400000 "+y,preserveAspectRatio:"xMinYMin slice"});a=Se.makeSvgSpan(["hide-tail"],[T],e),a.style.height=st(m),s=r.depth+d+h}else{/cancel/.test(n)?l||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var S=0,w=0,N=0;/box/.test(n)?(N=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),S=e.fontMetrics().fboxsep+(n==="colorbox"?0:N),w=S):n==="angl"?(N=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),S=4*N,w=Math.max(0,.25-r.depth)):(S=l?.2:0,w=S),a=Fl.encloseSpan(r,n,S,w,e),/fbox|boxed|fcolorbox/.test(n)?(a.style.borderStyle="solid",a.style.borderWidth=st(N)):n==="angl"&&N!==.049&&(a.style.borderTopWidth=st(N),a.style.borderRightWidth=st(N)),s=r.depth+w,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var k;if(t.backgroundColor)k=Se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:r,shift:0}]},e);else{var j=/cancel|phase/.test(n)?["svg-align"]:[];k=Se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:j}]},e)}return/cancel/.test(n)&&(k.height=r.height,k.depth=r.depth),/cancel/.test(n)&&!l?Se.makeSpan(["mord","cancel-lap"],[k],e):Se.makeSpan(["mord"],[k],e)},ME=(t,e)=>{var r=0,n=new Ze.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Jr(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};ft({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,a=Jt(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:RE,mathmlBuilder:ME});ft({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,a=Jt(e[0],"color-token").color,s=Jt(e[1],"color-token").color,l=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,borderColor:a,body:l}},htmlBuilder:RE,mathmlBuilder:ME});ft({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});ft({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:RE,mathmlBuilder:ME});ft({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var EH={};function Uo(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,l={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},d=0;d<r.length;++d)EH[r[d]]=l;a&&(_b[e]=a),s&&(Sb[e]=s)}var NH={};function G(t,e){NH[t]=e}function aR(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var v2=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Je("{"+t.envName+"} can be used only in display mode.")};function PE(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function vu(t,e,r){var{hskipBeforeAndAfter:n,addJot:i,cols:a,arraystretch:s,colSeparationType:l,autoTag:d,singleRow:h,emptySingleRow:p,maxNumCols:m,leqno:y}=e;if(t.gullet.beginGroup(),h||t.gullet.macros.set("\\cr","\\\\\\relax"),!s){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)s=1;else if(s=parseFloat(b),!s||s<0)throw new Je("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var T=[],S=[T],w=[],N=[],k=d!=null?[]:void 0;function j(){d&&t.gullet.macros.set("\\@eqnsw","1",!0)}function $(){k&&(t.gullet.macros.get("\\df@tag")?(k.push(t.subparse([new ls("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):k.push(!!d&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(j(),N.push(aR(t));;){var I=t.parseExpression(!1,h?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),I={type:"ordgroup",mode:t.mode,body:I},r&&(I={type:"styling",mode:t.mode,style:r,body:[I]}),T.push(I);var L=t.fetch().text;if(L==="&"){if(m&&T.length===m){if(h||l)throw new Je("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(L==="\\end"){$(),T.length===1&&I.type==="styling"&&I.body[0].body.length===0&&(S.length>1||!p)&&S.pop(),N.length<S.length+1&&N.push([]);break}else if(L==="\\\\"){t.consume();var E=void 0;t.gullet.future().text!==" "&&(E=t.parseSizeGroup(!0)),w.push(E?E.value:null),$(),N.push(aR(t)),T=[],S.push(T),j()}else throw new Je("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:s,body:S,cols:a,rowGaps:w,hskipBeforeAndAfter:n,hLinesBeforeRow:N,colSeparationType:l,tags:k,leqno:y}}function DE(t){return t.slice(0,1)==="d"?"display":"text"}var zo=function(e,r){var n,i,a=e.body.length,s=e.hLinesBeforeRow,l=0,d=new Array(a),h=[],p=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),m=1/r.fontMetrics().ptPerEm,y=5*m;if(e.colSeparationType&&e.colSeparationType==="small"){var b=r.havingStyle(kt.SCRIPT).sizeMultiplier;y=.2778*(b/r.sizeMultiplier)}var T=e.colSeparationType==="CD"?Cn({number:3,unit:"ex"},r):12*m,S=3*m,w=e.arraystretch*T,N=.7*w,k=.3*w,j=0;function $(Oe){for(var at=0;at<Oe.length;++at)at>0&&(j+=.25),h.push({pos:j,isDashed:Oe[at]})}for($(s[0]),n=0;n<e.body.length;++n){var I=e.body[n],L=N,E=k;l<I.length&&(l=I.length);var A=new Array(I.length);for(i=0;i<I.length;++i){var R=pr(I[i],r);E<R.depth&&(E=R.depth),L<R.height&&(L=R.height),A[i]=R}var F=e.rowGaps[n],D=0;F&&(D=Cn(F,r),D>0&&(D+=k,E<D&&(E=D),D=0)),e.addJot&&(E+=S),A.height=L,A.depth=E,j+=L,A.pos=j,j+=E+D,d[n]=A,$(s[n+1])}var B=j/2+r.fontMetrics().axisHeight,M=e.cols||[],Q=[],Z,W,J=[];if(e.tags&&e.tags.some(Oe=>Oe))for(n=0;n<a;++n){var Y=d[n],ge=Y.pos-B,ce=e.tags[n],X=void 0;ce===!0?X=Se.makeSpan(["eqn-num"],[],r):ce===!1?X=Se.makeSpan([],[],r):X=Se.makeSpan([],gi(ce,r,!0),r),X.depth=Y.depth,X.height=Y.height,J.push({type:"elem",elem:X,shift:ge})}for(i=0,W=0;i<l||W<M.length;++i,++W){for(var te=M[W]||{},ue=!0;te.type==="separator";){if(ue||(Z=Se.makeSpan(["arraycolsep"],[]),Z.style.width=st(r.fontMetrics().doubleRuleSep),Q.push(Z)),te.separator==="|"||te.separator===":"){var oe=te.separator==="|"?"solid":"dashed",ae=Se.makeSpan(["vertical-separator"],[],r);ae.style.height=st(j),ae.style.borderRightWidth=st(p),ae.style.borderRightStyle=oe,ae.style.margin="0 "+st(-p/2);var pe=j-B;pe&&(ae.style.verticalAlign=st(-pe)),Q.push(ae)}else throw new Je("Invalid separator type: "+te.separator);W++,te=M[W]||{},ue=!1}if(!(i>=l)){var ye=void 0;(i>0||e.hskipBeforeAndAfter)&&(ye=wr.deflt(te.pregap,y),ye!==0&&(Z=Se.makeSpan(["arraycolsep"],[]),Z.style.width=st(ye),Q.push(Z)));var Xe=[];for(n=0;n<a;++n){var Ne=d[n],le=Ne[i];if(le){var je=Ne.pos-B;le.depth=Ne.depth,le.height=Ne.height,Xe.push({type:"elem",elem:le,shift:je})}}Xe=Se.makeVList({positionType:"individualShift",children:Xe},r),Xe=Se.makeSpan(["col-align-"+(te.align||"c")],[Xe]),Q.push(Xe),(i<l-1||e.hskipBeforeAndAfter)&&(ye=wr.deflt(te.postgap,y),ye!==0&&(Z=Se.makeSpan(["arraycolsep"],[]),Z.style.width=st(ye),Q.push(Z)))}}if(d=Se.makeSpan(["mtable"],Q),h.length>0){for(var we=Se.makeLineSpan("hline",r,p),ut=Se.makeLineSpan("hdashline",r,p),Ge=[{type:"elem",elem:d,shift:0}];h.length>0;){var lt=h.pop(),it=lt.pos-B;lt.isDashed?Ge.push({type:"elem",elem:ut,shift:it}):Ge.push({type:"elem",elem:we,shift:it})}d=Se.makeVList({positionType:"individualShift",children:Ge},r)}if(J.length===0)return Se.makeSpan(["mord"],[d],r);var Rt=Se.makeVList({positionType:"individualShift",children:J},r);return Rt=Se.makeSpan(["tag"],[Rt],r),Se.makeFragment([d,Rt])},Bce={c:"center ",l:"left ",r:"right "},$o=function(e,r){for(var n=[],i=new Ze.MathNode("mtd",[],["mtr-glue"]),a=new Ze.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var l=e.body[s],d=[],h=0;h<l.length;h++)d.push(new Ze.MathNode("mtd",[Jr(l[h],r)]));e.tags&&e.tags[s]&&(d.unshift(i),d.push(i),e.leqno?d.unshift(a):d.push(a)),n.push(new Ze.MathNode("mtr",d))}var p=new Ze.MathNode("mtable",n),m=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);p.setAttribute("rowspacing",st(m));var y="",b="";if(e.cols&&e.cols.length>0){var T=e.cols,S="",w=!1,N=0,k=T.length;T[0].type==="separator"&&(y+="top ",N=1),T[T.length-1].type==="separator"&&(y+="bottom ",k-=1);for(var j=N;j<k;j++)T[j].type==="align"?(b+=Bce[T[j].align],w&&(S+="none "),w=!0):T[j].type==="separator"&&w&&(S+=T[j].separator==="|"?"solid ":"dashed ",w=!1);p.setAttribute("columnalign",b.trim()),/[sd]/.test(S)&&p.setAttribute("columnlines",S.trim())}if(e.colSeparationType==="align"){for(var $=e.cols||[],I="",L=1;L<$.length;L++)I+=L%2?"0em ":"1em ";p.setAttribute("columnspacing",I.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?p.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?p.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?p.setAttribute("columnspacing","0.5em"):p.setAttribute("columnspacing","1em");var E="",A=e.hLinesBeforeRow;y+=A[0].length>0?"left ":"",y+=A[A.length-1].length>0?"right ":"";for(var R=1;R<A.length-1;R++)E+=A[R].length===0?"none ":A[R][0]?"dashed ":"solid ";return/[sd]/.test(E)&&p.setAttribute("rowlines",E.trim()),y!==""&&(p=new Ze.MathNode("menclose",[p]),p.setAttribute("notation",y.trim())),e.arraystretch&&e.arraystretch<1&&(p=new Ze.MathNode("mstyle",[p]),p.setAttribute("scriptlevel","1")),p},CH=function(e,r){e.envName.indexOf("ed")===-1&&v2(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=vu(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:PE(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),l,d=0,h={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var p="",m=0;m<r[0].body.length;m++){var y=Jt(r[0].body[m],"textord");p+=y.text}l=Number(p),d=l*2}var b=!d;s.body.forEach(function(N){for(var k=1;k<N.length;k+=2){var j=Jt(N[k],"styling"),$=Jt(j.body[0],"ordgroup");$.body.unshift(h)}if(b)d<N.length&&(d=N.length);else{var I=N.length/2;if(l<I)throw new Je("Too many math in a row: "+("expected "+l+", but got "+I),N[0])}});for(var T=0;T<d;++T){var S="r",w=0;T%2===1?S="l":T>0&&b&&(w=1),n[T]={type:"align",align:S,pregap:w,postgap:0}}return s.colSeparationType=b?"align":"alignat",s};Uo({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=m2(e[0]),n=r?[e[0]]:Jt(e[0],"ordgroup").body,i=n.map(function(s){var l=kE(s),d=l.text;if("lcr".indexOf(d)!==-1)return{type:"align",align:d};if(d==="|")return{type:"separator",separator:"|"};if(d===":")return{type:"separator",separator:":"};throw new Je("Unknown column alignment: "+d,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return vu(t.parser,a,DE(t.envName))},htmlBuilder:zo,mathmlBuilder:$o});Uo({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new Je("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var a=vu(t.parser,n,DE(t.envName)),s=Math.max(0,...a.body.map(l=>l.length));return a.cols=new Array(s).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:zo,mathmlBuilder:$o});Uo({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=vu(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:zo,mathmlBuilder:$o});Uo({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=m2(e[0]),n=r?[e[0]]:Jt(e[0],"ordgroup").body,i=n.map(function(s){var l=kE(s),d=l.text;if("lc".indexOf(d)!==-1)return{type:"align",align:d};throw new Je("Unknown column alignment: "+d,s)});if(i.length>1)throw new Je("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=vu(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new Je("{subarray} can contain only one column");return a},htmlBuilder:zo,mathmlBuilder:$o});Uo({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=vu(t.parser,e,DE(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:zo,mathmlBuilder:$o});Uo({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:CH,htmlBuilder:zo,mathmlBuilder:$o});Uo({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&v2(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:PE(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return vu(t.parser,e,"display")},htmlBuilder:zo,mathmlBuilder:$o});Uo({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:CH,htmlBuilder:zo,mathmlBuilder:$o});Uo({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){v2(t);var e={autoTag:PE(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return vu(t.parser,e,"display")},htmlBuilder:zo,mathmlBuilder:$o});Uo({type:"array",names:["CD"],props:{numArgs:0},handler(t){return v2(t),Tce(t.parser)},htmlBuilder:zo,mathmlBuilder:$o});G("\\nonumber","\\gdef\\@eqnsw{0}");G("\\notag","\\nonumber");ft({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Je(t.funcName+" valid only within array environment")}});var sR=EH;ft({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];if(i.type!=="ordgroup")throw new Je("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=Jt(i.body[s],"textord").text;if(n==="\\begin"){if(!sR.hasOwnProperty(a))throw new Je("No such environment: "+a,i);var l=sR[a],{args:d,optArgs:h}=r.parseArguments("\\begin{"+a+"}",l),p={mode:r.mode,envName:a,parser:r},m=l.handler(p,d,h);r.expect("\\end",!1);var y=r.nextToken,b=Jt(r.parseFunction(),"environment");if(b.name!==a)throw new Je("Mismatch: \\begin{"+a+"} matched by \\end{"+b.name+"}",y);return m}return{type:"environment",mode:r.mode,name:a,nameGroup:i}}});var jH=(t,e)=>{var r=t.font,n=e.withFont(r);return pr(t.body,n)},kH=(t,e)=>{var r=t.font,n=e.withFont(r);return Jr(t.body,n)},oR={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ft({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=Tb(e[0]),a=n;return a in oR&&(a=oR[a]),{type:"font",mode:r.mode,font:a.slice(1),body:i}},htmlBuilder:jH,mathmlBuilder:kH});ft({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],i=wr.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:g2(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});ft({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:i}=t,{mode:a}=r,s=r.parseExpression(!0,i),l="math"+n.slice(1);return{type:"font",mode:a,font:l,body:{type:"ordgroup",mode:r.mode,body:s}}},htmlBuilder:jH,mathmlBuilder:kH});var OH=(t,e)=>{var r=e;return t==="display"?r=r.id>=kt.SCRIPT.id?r.text():kt.DISPLAY:t==="text"&&r.size===kt.DISPLAY.size?r=kt.TEXT:t==="script"?r=kt.SCRIPT:t==="scriptscript"&&(r=kt.SCRIPTSCRIPT),r},LE=(t,e)=>{var r=OH(t.size,e.style),n=r.fracNum(),i=r.fracDen(),a;a=e.havingStyle(n);var s=pr(t.numer,a,e);if(t.continued){var l=8.5/e.fontMetrics().ptPerEm,d=3.5/e.fontMetrics().ptPerEm;s.height=s.height<l?l:s.height,s.depth=s.depth<d?d:s.depth}a=e.havingStyle(i);var h=pr(t.denom,a,e),p,m,y;t.hasBarLine?(t.barSize?(m=Cn(t.barSize,e),p=Se.makeLineSpan("frac-line",e,m)):p=Se.makeLineSpan("frac-line",e),m=p.height,y=p.height):(p=null,m=0,y=e.fontMetrics().defaultRuleThickness);var b,T,S;r.size===kt.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,m>0?T=3*y:T=7*y,S=e.fontMetrics().denom1):(m>0?(b=e.fontMetrics().num2,T=y):(b=e.fontMetrics().num3,T=3*y),S=e.fontMetrics().denom2);var w;if(p){var k=e.fontMetrics().axisHeight;b-s.depth-(k+.5*m)<T&&(b+=T-(b-s.depth-(k+.5*m))),k-.5*m-(h.height-S)<T&&(S+=T-(k-.5*m-(h.height-S)));var j=-(k-.5*m);w=Se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:S},{type:"elem",elem:p,shift:j},{type:"elem",elem:s,shift:-b}]},e)}else{var N=b-s.depth-(h.height-S);N<T&&(b+=.5*(T-N),S+=.5*(T-N)),w=Se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:S},{type:"elem",elem:s,shift:-b}]},e)}a=e.havingStyle(r),w.height*=a.sizeMultiplier/e.sizeMultiplier,w.depth*=a.sizeMultiplier/e.sizeMultiplier;var $;r.size===kt.DISPLAY.size?$=e.fontMetrics().delim1:r.size===kt.SCRIPTSCRIPT.size?$=e.havingStyle(kt.SCRIPT).fontMetrics().delim2:$=e.fontMetrics().delim2;var I,L;return t.leftDelim==null?I=Gm(e,["mopen"]):I=kl.customSizedDelim(t.leftDelim,$,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?L=Se.makeSpan([]):t.rightDelim==null?L=Gm(e,["mclose"]):L=kl.customSizedDelim(t.rightDelim,$,!0,e.havingStyle(r),t.mode,["mclose"]),Se.makeSpan(["mord"].concat(a.sizingClasses(e)),[I,Se.makeSpan(["mfrac"],[w]),L],e)},BE=(t,e)=>{var r=new Ze.MathNode("mfrac",[Jr(t.numer,e),Jr(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var n=Cn(t.barSize,e);r.setAttribute("linethickness",st(n))}var i=OH(t.size,e.style);if(i.size!==e.style.size){r=new Ze.MathNode("mstyle",[r]);var a=i.size===kt.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var s=[];if(t.leftDelim!=null){var l=new Ze.MathNode("mo",[new Ze.TextNode(t.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}if(s.push(r),t.rightDelim!=null){var d=new Ze.MathNode("mo",[new Ze.TextNode(t.rightDelim.replace("\\",""))]);d.setAttribute("fence","true"),s.push(d)}return CE(s)}return r};ft({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=e[1],s,l=null,d=null,h="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,l="(",d=")";break;case"\\\\bracefrac":s=!1,l="\\{",d="\\}";break;case"\\\\brackfrac":s=!1,l="[",d="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:l,rightDelim:d,size:h,barSize:null}},htmlBuilder:LE,mathmlBuilder:BE});ft({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ft({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:n}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var lR=["display","text","script","scriptscript"],cR=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};ft({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,n=e[4],i=e[5],a=Tb(e[0]),s=a.type==="atom"&&a.family==="open"?cR(a.text):null,l=Tb(e[1]),d=l.type==="atom"&&l.family==="close"?cR(l.text):null,h=Jt(e[2],"size"),p,m=null;h.isBlank?p=!0:(m=h.value,p=m.number>0);var y="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var T=Jt(b.body[0],"textord");y=lR[Number(T.text)]}}else b=Jt(b,"textord"),y=lR[Number(b.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:p,barSize:m,leftDelim:s,rightDelim:d,size:y}},htmlBuilder:LE,mathmlBuilder:BE});ft({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Jt(e[0],"size").value,token:i}}});ft({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=ple(Jt(e[1],"infix").size),s=e[2],l=a.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:s,continued:!1,hasBarLine:l,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:LE,mathmlBuilder:BE});var IH=(t,e)=>{var r=e.style,n,i;t.type==="supsub"?(n=t.sup?pr(t.sup,e.havingStyle(r.sup()),e):pr(t.sub,e.havingStyle(r.sub()),e),i=Jt(t.base,"horizBrace")):i=Jt(t,"horizBrace");var a=pr(i.base,e.havingBaseStyle(kt.DISPLAY)),s=Fl.svgSpan(i,e),l;if(i.isOver?(l=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),l.children[0].children[0].children[1].classes.push("svg-align")):(l=Se.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),l.children[0].children[0].children[0].classes.push("svg-align")),n){var d=Se.makeSpan(["mord",i.isOver?"mover":"munder"],[l],e);i.isOver?l=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d},{type:"kern",size:.2},{type:"elem",elem:n}]},e):l=Se.makeVList({positionType:"bottom",positionData:d.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:d}]},e)}return Se.makeSpan(["mord",i.isOver?"mover":"munder"],[l],e)},Uce=(t,e)=>{var r=Fl.mathMLnode(t.label);return new Ze.MathNode(t.isOver?"mover":"munder",[Jr(t.base,e),r])};ft({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:IH,mathmlBuilder:Uce});ft({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],i=Jt(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:Hn(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=gi(t.body,e,!1);return Se.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=fu(t.body,e);return r instanceof ts||(r=new ts("mrow",[r])),r.setAttribute("href",t.href),r}});ft({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=Jt(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var l={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:Hn(l)}}});ft({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:Hn(e[0])}},htmlBuilder(t,e){var r=gi(t.body,e,!1);return Se.makeFragment(r)},mathmlBuilder(t,e){return new Ze.MathNode("mrow",$a(t.body,e))}});ft({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,token:i}=t,a=Jt(e[0],"raw").string,s=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,d={};switch(n){case"\\htmlClass":d.class=a,l={command:"\\htmlClass",class:a};break;case"\\htmlId":d.id=a,l={command:"\\htmlId",id:a};break;case"\\htmlStyle":d.style=a,l={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var h=a.split(","),p=0;p<h.length;p++){var m=h[p],y=m.indexOf("=");if(y<0)throw new Je("\\htmlData key/value '"+m+"' missing equals sign");var b=m.slice(0,y),T=m.slice(y+1);d["data-"+b.trim()]=T}l={command:"\\htmlData",attributes:d};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(l)?{type:"html",mode:r.mode,attributes:d,body:Hn(s)}:r.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var r=gi(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var i=Se.makeSpan(n,r,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&i.setAttribute(a,t.attributes[a]);return i},mathmlBuilder:(t,e)=>fu(t.body,e)});ft({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:Hn(e[0]),mathml:Hn(e[1])}},htmlBuilder:(t,e)=>{var r=gi(t.html,e,!1);return Se.makeFragment(r)},mathmlBuilder:(t,e)=>fu(t.mathml,e)});var K5=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new Je("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!Yq(n))throw new Je("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};ft({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},l="";if(r[0])for(var d=Jt(r[0],"raw").string,h=d.split(","),p=0;p<h.length;p++){var m=h[p].split("=");if(m.length===2){var y=m[1].trim();switch(m[0].trim()){case"alt":l=y;break;case"width":i=K5(y);break;case"height":a=K5(y);break;case"totalheight":s=K5(y);break;default:throw new Je("Invalid key: '"+m[0]+"' in \\includegraphics.")}}}var b=Jt(e[0],"url").url;return l===""&&(l=b,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:n.mode,alt:l,width:i,height:a,totalheight:s,src:b}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=Cn(t.height,e),n=0;t.totalheight.number>0&&(n=Cn(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=Cn(t.width,e));var a={height:st(r+n)};i>0&&(a.width=st(i)),n>0&&(a.verticalAlign=st(-n));var s=new Ule(t.src,t.alt,a);return s.height=r,s.depth=n,s},mathmlBuilder:(t,e)=>{var r=new Ze.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=Cn(t.height,e),i=0;if(t.totalheight.number>0&&(i=Cn(t.totalheight,e)-n,r.setAttribute("valign",st(-i))),r.setAttribute("height",st(n+i)),t.width.number>0){var a=Cn(t.width,e);r.setAttribute("width",st(a))}return r.setAttribute("src",t.src),r}});ft({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=Jt(e[0],"size");if(r.settings.strict){var a=n[1]==="m",s=i.value.unit==="mu";a?(s||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):s&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return Se.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=Cn(t.dimension,e);return new Ze.SpaceNode(r)}});ft({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=Se.makeSpan([],[pr(t.body,e)]),r=Se.makeSpan(["inner"],[r],e)):r=Se.makeSpan(["inner"],[pr(t.body,e)]);var n=Se.makeSpan(["fix"],[]),i=Se.makeSpan([t.alignment],[r,n],e),a=Se.makeSpan(["strut"]);return a.style.height=st(i.height+i.depth),i.depth&&(a.style.verticalAlign=st(-i.depth)),i.children.unshift(a),i=Se.makeSpan(["thinbox"],[i],e),Se.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new Ze.MathNode("mpadded",[Jr(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});ft({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,i=n.mode;n.switchMode("math");var a=r==="\\("?"\\)":"$",s=n.parseExpression(!1,a);return n.expect(a),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:s}}});ft({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Je("Mismatched "+t.funcName)}});var uR=(t,e)=>{switch(e.style.size){case kt.DISPLAY.size:return t.display;case kt.TEXT.size:return t.text;case kt.SCRIPT.size:return t.script;case kt.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ft({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:Hn(e[0]),text:Hn(e[1]),script:Hn(e[2]),scriptscript:Hn(e[3])}},htmlBuilder:(t,e)=>{var r=uR(t,e),n=gi(r,e,!1);return Se.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=uR(t,e);return fu(r,e)}});var RH=(t,e,r,n,i,a,s)=>{t=Se.makeSpan([],[t]);var l=r&&wr.isCharacterBox(r),d,h;if(e){var p=pr(e,n.havingStyle(i.sup()),n);h={elem:p,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-p.depth)}}if(r){var m=pr(r,n.havingStyle(i.sub()),n);d={elem:m,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-m.height)}}var y;if(h&&d){var b=n.fontMetrics().bigOpSpacing5+d.elem.height+d.elem.depth+d.kern+t.depth+s;y=Se.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:st(-a)},{type:"kern",size:d.kern},{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:st(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(d){var T=t.height-s;y=Se.makeVList({positionType:"top",positionData:T,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:st(-a)},{type:"kern",size:d.kern},{type:"elem",elem:t}]},n)}else if(h){var S=t.depth+s;y=Se.makeVList({positionType:"bottom",positionData:S,children:[{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:st(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var w=[y];if(d&&a!==0&&!l){var N=Se.makeSpan(["mspace"],[],n);N.style.marginRight=st(a),w.unshift(N)}return Se.makeSpan(["mop","op-limits"],w,n)},MH=["\\smallint"],xf=(t,e)=>{var r,n,i=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=Jt(t.base,"op"),i=!0):a=Jt(t,"op");var s=e.style,l=!1;s.size===kt.DISPLAY.size&&a.symbol&&!MH.includes(a.name)&&(l=!0);var d;if(a.symbol){var h=l?"Size2-Regular":"Size1-Regular",p="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(p=a.name.slice(1),a.name=p==="oiint"?"\\iint":"\\iiint"),d=Se.makeSymbol(a.name,h,"math",e,["mop","op-symbol",l?"large-op":"small-op"]),p.length>0){var m=d.italic,y=Se.staticSvg(p+"Size"+(l?"2":"1"),e);d=Se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:0},{type:"elem",elem:y,shift:l?.08:0}]},e),a.name="\\"+p,d.classes.unshift("mop"),d.italic=m}}else if(a.body){var b=gi(a.body,e,!0);b.length===1&&b[0]instanceof Rs?(d=b[0],d.classes[0]="mop"):d=Se.makeSpan(["mop"],b,e)}else{for(var T=[],S=1;S<a.name.length;S++)T.push(Se.mathsym(a.name[S],a.mode,e));d=Se.makeSpan(["mop"],T,e)}var w=0,N=0;return(d instanceof Rs||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(w=(d.height-d.depth)/2-e.fontMetrics().axisHeight,N=d.italic),i?RH(d,r,n,e,s,N,w):(w&&(d.style.position="relative",d.style.top=st(w)),d)},t1=(t,e)=>{var r;if(t.symbol)r=new ts("mo",[Ms(t.name,t.mode)]),MH.includes(t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new ts("mo",$a(t.body,e));else{r=new ts("mi",[new No(t.name.slice(1))]);var n=new ts("mo",[Ms("","text")]);t.parentIsSupSub?r=new ts("mrow",[r,n]):r=lH([r,n])}return r},zce={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ft({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=n;return i.length===1&&(i=zce[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:xf,mathmlBuilder:t1});ft({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Hn(n)}},htmlBuilder:xf,mathmlBuilder:t1});var $ce={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ft({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:xf,mathmlBuilder:t1});ft({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:xf,mathmlBuilder:t1});ft({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=$ce[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:xf,mathmlBuilder:t1});var PH=(t,e)=>{var r,n,i=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=Jt(t.base,"operatorname"),i=!0):a=Jt(t,"operatorname");var s;if(a.body.length>0){for(var l=a.body.map(m=>{var y=m.text;return typeof y=="string"?{type:"textord",mode:m.mode,text:y}:m}),d=gi(l,e.withFont("mathrm"),!0),h=0;h<d.length;h++){var p=d[h];p instanceof Rs&&(p.text=p.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=Se.makeSpan(["mop"],d,e)}else s=Se.makeSpan(["mop"],[],e);return i?RH(s,r,n,e,e.style,0,0):s},Vce=(t,e)=>{for(var r=$a(t.body,e.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var a=r[i];if(!(a instanceof Ze.SpaceNode))if(a instanceof Ze.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof Ze.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var l=r.map(p=>p.toText()).join("");r=[new Ze.TextNode(l)]}var d=new Ze.MathNode("mi",r);d.setAttribute("mathvariant","normal");var h=new Ze.MathNode("mo",[Ms("","text")]);return t.parentIsSupSub?new Ze.MathNode("mrow",[d,h]):Ze.newDocumentFragment([d,h])};ft({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:Hn(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:PH,mathmlBuilder:Vce});G("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Jd({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?Se.makeFragment(gi(t.body,e,!1)):Se.makeSpan(["mord"],gi(t.body,e,!0),e)},mathmlBuilder(t,e){return fu(t.body,e,!0)}});ft({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=pr(t.body,e.havingCrampedStyle()),n=Se.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,a=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return Se.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var r=new Ze.MathNode("mo",[new Ze.TextNode("")]);r.setAttribute("stretchy","true");var n=new Ze.MathNode("mover",[Jr(t.body,e),r]);return n.setAttribute("accent","true"),n}});ft({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:Hn(n)}},htmlBuilder:(t,e)=>{var r=gi(t.body,e.withPhantom(),!1);return Se.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=$a(t.body,e);return new Ze.MathNode("mphantom",r)}});ft({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=Se.makeSpan([],[pr(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),Se.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=$a(Hn(t.body),e),n=new Ze.MathNode("mphantom",r),i=new Ze.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});ft({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=Se.makeSpan(["inner"],[pr(t.body,e.withPhantom())]),n=Se.makeSpan(["fix"],[]);return Se.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=$a(Hn(t.body),e),n=new Ze.MathNode("mphantom",r),i=new Ze.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});ft({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=Jt(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(t,e){var r=pr(t.body,e),n=Cn(t.dy,e);return Se.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new Ze.MathNode("mpadded",[Jr(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}});ft({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ft({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,i=r[0],a=Jt(e[0],"size"),s=Jt(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&Jt(i,"size").value,width:a.value,height:s.value}},htmlBuilder(t,e){var r=Se.makeSpan(["mord","rule"],[],e),n=Cn(t.width,e),i=Cn(t.height,e),a=t.shift?Cn(t.shift,e):0;return r.style.borderRightWidth=st(n),r.style.borderTopWidth=st(i),r.style.bottom=st(a),r.width=n,r.height=i+a,r.depth=-a,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=Cn(t.width,e),n=Cn(t.height,e),i=t.shift?Cn(t.shift,e):0,a=e.color&&e.getColor()||"black",s=new Ze.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",st(r)),s.setAttribute("height",st(n));var l=new Ze.MathNode("mpadded",[s]);return i>=0?l.setAttribute("height",st(i)):(l.setAttribute("height",st(i)),l.setAttribute("depth",st(-i))),l.setAttribute("voffset",st(i)),l}});function DH(t,e,r){for(var n=gi(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,a=0;a<n.length;a++){var s=n[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(n[a].classes,e.sizingClasses(r)):n[a].classes[s+1]==="reset-size"+e.size&&(n[a].classes[s+1]="reset-size"+r.size),n[a].height*=i,n[a].depth*=i}return Se.makeFragment(n)}var dR=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Fce=(t,e)=>{var r=e.havingSize(t.size);return DH(t.body,r,e)};ft({type:"sizing",names:dR,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:i}=t,a=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:dR.indexOf(n)+1,body:a}},htmlBuilder:Fce,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=$a(t.body,r),i=new Ze.MathNode("mstyle",n);return i.setAttribute("mathsize",st(r.sizeMultiplier)),i}});ft({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,i=!1,a=!1,s=r[0]&&Jt(r[0],"ordgroup");if(s)for(var l="",d=0;d<s.body.length;++d){var h=s.body[d];if(l=h.text,l==="t")i=!0;else if(l==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var p=e[0];return{type:"smash",mode:n.mode,body:p,smashHeight:i,smashDepth:a}},htmlBuilder:(t,e)=>{var r=Se.makeSpan([],[pr(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var a=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return Se.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var r=new Ze.MathNode("mpadded",[Jr(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});ft({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,i=r[0],a=e[0];return{type:"sqrt",mode:n.mode,body:a,index:i}},htmlBuilder(t,e){var r=pr(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=Se.wrapFragment(r,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,a=i;e.style.id<kt.TEXT.id&&(a=e.fontMetrics().xHeight);var s=i+a/4,l=r.height+r.depth+s+i,{span:d,ruleWidth:h,advanceWidth:p}=kl.sqrtImage(l,e),m=d.height-h;m>r.height+r.depth+s&&(s=(s+m-r.height-r.depth)/2);var y=d.height-r.height-s-h;r.style.paddingLeft=st(p);var b=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+y)},{type:"elem",elem:d},{type:"kern",size:h}]},e);if(t.index){var T=e.havingStyle(kt.SCRIPTSCRIPT),S=pr(t.index,T,e),w=.6*(b.height-b.depth),N=Se.makeVList({positionType:"shift",positionData:-w,children:[{type:"elem",elem:S}]},e),k=Se.makeSpan(["root"],[N]);return Se.makeSpan(["mord","sqrt"],[k,b],e)}else return Se.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new Ze.MathNode("mroot",[Jr(r,e),Jr(n,e)]):new Ze.MathNode("msqrt",[Jr(r,e)])}});var hR={display:kt.DISPLAY,text:kt.TEXT,script:kt.SCRIPT,scriptscript:kt.SCRIPTSCRIPT};ft({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:i}=t,a=i.parseExpression(!0,r),s=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(t,e){var r=hR[t.style],n=e.havingStyle(r).withFont("");return DH(t.body,n,e)},mathmlBuilder(t,e){var r=hR[t.style],n=e.havingStyle(r),i=$a(t.body,n),a=new Ze.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=s[t.style];return a.setAttribute("scriptlevel",l[0]),a.setAttribute("displaystyle",l[1]),a}});var qce=function(e,r){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===kt.DISPLAY.size||n.alwaysHandleSupSub);return i?xf:null}else if(n.type==="operatorname"){var a=n.alwaysHandleSupSub&&(r.style.size===kt.DISPLAY.size||n.limits);return a?PH:null}else{if(n.type==="accent")return wr.isCharacterBox(n.base)?OE:null;if(n.type==="horizBrace"){var s=!e.sub;return s===n.isOver?IH:null}else return null}else return null};Jd({type:"supsub",htmlBuilder(t,e){var r=qce(t,e);if(r)return r(t,e);var{base:n,sup:i,sub:a}=t,s=pr(n,e),l,d,h=e.fontMetrics(),p=0,m=0,y=n&&wr.isCharacterBox(n);if(i){var b=e.havingStyle(e.style.sup());l=pr(i,b,e),y||(p=s.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(a){var T=e.havingStyle(e.style.sub());d=pr(a,T,e),y||(m=s.depth+T.fontMetrics().subDrop*T.sizeMultiplier/e.sizeMultiplier)}var S;e.style===kt.DISPLAY?S=h.sup1:e.style.cramped?S=h.sup3:S=h.sup2;var w=e.sizeMultiplier,N=st(.5/h.ptPerEm/w),k=null;if(d){var j=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(s instanceof Rs||j)&&(k=st(-s.italic))}var $;if(l&&d){p=Math.max(p,S,l.depth+.25*h.xHeight),m=Math.max(m,h.sub2);var I=h.defaultRuleThickness,L=4*I;if(p-l.depth-(d.height-m)<L){m=L-(p-l.depth)+d.height;var E=.8*h.xHeight-(p-l.depth);E>0&&(p+=E,m-=E)}var A=[{type:"elem",elem:d,shift:m,marginRight:N,marginLeft:k},{type:"elem",elem:l,shift:-p,marginRight:N}];$=Se.makeVList({positionType:"individualShift",children:A},e)}else if(d){m=Math.max(m,h.sub1,d.height-.8*h.xHeight);var R=[{type:"elem",elem:d,marginLeft:k,marginRight:N}];$=Se.makeVList({positionType:"shift",positionData:m,children:R},e)}else if(l)p=Math.max(p,S,l.depth+.25*h.xHeight),$=Se.makeVList({positionType:"shift",positionData:-p,children:[{type:"elem",elem:l,marginRight:N}]},e);else throw new Error("supsub must have either sup or sub.");var F=hA(s,"right")||"mord";return Se.makeSpan([F],[s,Se.makeSpan(["msupsub"],[$])],e)},mathmlBuilder(t,e){var r=!1,n,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[Jr(t.base,e)];t.sub&&a.push(Jr(t.sub,e)),t.sup&&a.push(Jr(t.sup,e));var s;if(r)s=n?"mover":"munder";else if(t.sub)if(t.sup){var h=t.base;h&&h.type==="op"&&h.limits&&e.style===kt.DISPLAY||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(e.style===kt.DISPLAY||h.limits)?s="munderover":s="msubsup"}else{var d=t.base;d&&d.type==="op"&&d.limits&&(e.style===kt.DISPLAY||d.alwaysHandleSupSub)||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(d.limits||e.style===kt.DISPLAY)?s="munder":s="msub"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===kt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===kt.DISPLAY)?s="mover":s="msup"}return new Ze.MathNode(s,a)}});Jd({type:"atom",htmlBuilder(t,e){return Se.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new Ze.MathNode("mo",[Ms(t.text,t.mode)]);if(t.family==="bin"){var n=jE(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var LH={mi:"italic",mn:"normal",mtext:"normal"};Jd({type:"mathord",htmlBuilder(t,e){return Se.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new Ze.MathNode("mi",[Ms(t.text,t.mode,e)]),n=jE(t,e)||"italic";return n!==LH[r.type]&&r.setAttribute("mathvariant",n),r}});Jd({type:"textord",htmlBuilder(t,e){return Se.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=Ms(t.text,t.mode,e),n=jE(t,e)||"normal",i;return t.mode==="text"?i=new Ze.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new Ze.MathNode("mn",[r]):t.text==="\\prime"?i=new Ze.MathNode("mo",[r]):i=new Ze.MathNode("mi",[r]),n!==LH[i.type]&&i.setAttribute("mathvariant",n),i}});var W5={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},X5={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Jd({type:"spacing",htmlBuilder(t,e){if(X5.hasOwnProperty(t.text)){var r=X5[t.text].className||"";if(t.mode==="text"){var n=Se.makeOrd(t,e,"textord");return n.classes.push(r),n}else return Se.makeSpan(["mspace",r],[Se.mathsym(t.text,t.mode,e)],e)}else{if(W5.hasOwnProperty(t.text))return Se.makeSpan(["mspace",W5[t.text]],[],e);throw new Je('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(X5.hasOwnProperty(t.text))r=new Ze.MathNode("mtext",[new Ze.TextNode("")]);else{if(W5.hasOwnProperty(t.text))return new Ze.MathNode("mspace");throw new Je('Unknown type of space "'+t.text+'"')}return r}});var fR=()=>{var t=new Ze.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Jd({type:"tag",mathmlBuilder(t,e){var r=new Ze.MathNode("mtable",[new Ze.MathNode("mtr",[fR(),new Ze.MathNode("mtd",[fu(t.body,e)]),fR(),new Ze.MathNode("mtd",[fu(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var pR={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},mR={"\\textbf":"textbf","\\textmd":"textmd"},Hce={"\\textit":"textit","\\textup":"textup"},gR=(t,e)=>{var r=t.font;if(r){if(pR[r])return e.withTextFontFamily(pR[r]);if(mR[r])return e.withTextFontWeight(mR[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(Hce[r])};ft({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"text",mode:r.mode,body:Hn(i),font:n}},htmlBuilder(t,e){var r=gR(t,e),n=gi(t.body,r,!0);return Se.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=gR(t,e);return fu(t.body,r)}});ft({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=pr(t.body,e),n=Se.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,a=Se.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return Se.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var r=new Ze.MathNode("mo",[new Ze.TextNode("")]);r.setAttribute("stretchy","true");var n=new Ze.MathNode("munder",[Jr(t.body,e),r]);return n.setAttribute("accentunder","true"),n}});ft({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=pr(t.body,e),n=e.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return Se.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new Ze.MathNode("mpadded",[Jr(t.body,e)],["vcenter"])}});ft({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new Je("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=yR(t),n=[],i=e.havingStyle(e.style.text()),a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),n.push(Se.makeSymbol(s,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return Se.makeSpan(["mord","text"].concat(i.sizingClasses(e)),Se.tryCombineChars(n),i)},mathmlBuilder(t,e){var r=new Ze.TextNode(yR(t)),n=new Ze.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var yR=t=>t.body.replace(/ /g,t.star?"":""),Kc=sH,BH=`[ \r
	]`,Gce="\\\\[a-zA-Z@]+",Kce="\\\\[^\uD800-\uDFFF]",Wce="("+Gce+")"+BH+"*",Xce=`\\\\(
|[ \r	]+
?)[ \r	]*`,gA="[-]",Qce=new RegExp(gA+"+$"),Yce="("+BH+"+)|"+(Xce+"|")+"([!-\\[\\]---]"+(gA+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(gA+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Wce)+("|"+Kce+")");class vR{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(Yce,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new ls("EOF",new Ra(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new Je("Unexpected character: '"+e[r]+"'",new ls(e[r],new Ra(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new ls(i,new Ra(this,r,this.tokenRegex.lastIndex))}}class Zce{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Je("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var Jce=NH;G("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});G("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});G("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});G("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});G("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});G("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");G("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var bR={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};G("\\char",function(t){var e=t.popToken(),r,n="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Je("\\char` missing argument");n=e.text.charCodeAt(0)}else r=10;if(r){if(n=bR[e.text],n==null||n>=r)throw new Je("Invalid base-"+r+" digit "+e.text);for(var i;(i=bR[t.future().text])!=null&&i<r;)n*=r,n+=i,t.popToken()}return"\\@char{"+n+"}"});var UE=(t,e,r,n)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Je("\\newcommand's first argument must be a macro name");var a=i[0].text,s=t.isDefined(a);if(s&&!e)throw new Je("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!s&&!r)throw new Je("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var l=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var d="",h=t.expandNextToken();h.text!=="]"&&h.text!=="EOF";)d+=h.text,h=t.expandNextToken();if(!d.match(/^\s*[0-9]+\s*$/))throw new Je("Invalid number of arguments: "+d);l=parseInt(d),i=t.consumeArg().tokens}return s&&n||t.macros.set(a,{tokens:i,numArgs:l}),""};G("\\newcommand",t=>UE(t,!1,!0,!1));G("\\renewcommand",t=>UE(t,!0,!1,!1));G("\\providecommand",t=>UE(t,!0,!0,!0));G("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});G("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});G("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Kc[r],cn.math[r],cn.text[r]),""});G("\\bgroup","{");G("\\egroup","}");G("~","\\nobreakspace");G("\\lq","`");G("\\rq","'");G("\\aa","\\r a");G("\\AA","\\r A");G("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");G("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");G("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");G("","\\mathscr{B}");G("","\\mathscr{E}");G("","\\mathscr{F}");G("","\\mathscr{H}");G("","\\mathscr{I}");G("","\\mathscr{L}");G("","\\mathscr{M}");G("","\\mathscr{R}");G("","\\mathfrak{C}");G("","\\mathfrak{H}");G("","\\mathfrak{Z}");G("\\Bbbk","\\Bbb{k}");G("","\\cdotp");G("\\llap","\\mathllap{\\textrm{#1}}");G("\\rlap","\\mathrlap{\\textrm{#1}}");G("\\clap","\\mathclap{\\textrm{#1}}");G("\\mathstrut","\\vphantom{(}");G("\\underbar","\\underline{\\text{#1}}");G("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');G("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");G("\\ne","\\neq");G("","\\neq");G("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");G("","\\notin");G("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");G("","\\perp");G("","\\mathclose{!\\mkern-0.8mu!}");G("","\\notni");G("","\\ulcorner");G("","\\urcorner");G("","\\llcorner");G("","\\lrcorner");G("","\\copyright");G("","\\textregistered");G("","\\textregistered");G("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');G("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');G("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');G("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');G("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");G("","\\vdots");G("\\varGamma","\\mathit{\\Gamma}");G("\\varDelta","\\mathit{\\Delta}");G("\\varTheta","\\mathit{\\Theta}");G("\\varLambda","\\mathit{\\Lambda}");G("\\varXi","\\mathit{\\Xi}");G("\\varPi","\\mathit{\\Pi}");G("\\varSigma","\\mathit{\\Sigma}");G("\\varUpsilon","\\mathit{\\Upsilon}");G("\\varPhi","\\mathit{\\Phi}");G("\\varPsi","\\mathit{\\Psi}");G("\\varOmega","\\mathit{\\Omega}");G("\\substack","\\begin{subarray}{c}#1\\end{subarray}");G("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");G("\\boxed","\\fbox{$\\displaystyle{#1}$}");G("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");G("\\implies","\\DOTSB\\;\\Longrightarrow\\;");G("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");G("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");G("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var xR={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};G("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in xR?e=xR[r]:(r.slice(0,4)==="\\not"||r in cn.math&&["bin","rel"].includes(cn.math[r].group))&&(e="\\dotsb"),e});var zE={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};G("\\dotso",function(t){var e=t.future().text;return e in zE?"\\ldots\\,":"\\ldots"});G("\\dotsc",function(t){var e=t.future().text;return e in zE&&e!==","?"\\ldots\\,":"\\ldots"});G("\\cdots",function(t){var e=t.future().text;return e in zE?"\\@cdots\\,":"\\@cdots"});G("\\dotsb","\\cdots");G("\\dotsm","\\cdots");G("\\dotsi","\\!\\cdots");G("\\dotsx","\\ldots\\,");G("\\DOTSI","\\relax");G("\\DOTSB","\\relax");G("\\DOTSX","\\relax");G("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");G("\\,","\\tmspace+{3mu}{.1667em}");G("\\thinspace","\\,");G("\\>","\\mskip{4mu}");G("\\:","\\tmspace+{4mu}{.2222em}");G("\\medspace","\\:");G("\\;","\\tmspace+{5mu}{.2777em}");G("\\thickspace","\\;");G("\\!","\\tmspace-{3mu}{.1667em}");G("\\negthinspace","\\!");G("\\negmedspace","\\tmspace-{4mu}{.2222em}");G("\\negthickspace","\\tmspace-{5mu}{.277em}");G("\\enspace","\\kern.5em ");G("\\enskip","\\hskip.5em\\relax");G("\\quad","\\hskip1em\\relax");G("\\qquad","\\hskip2em\\relax");G("\\tag","\\@ifstar\\tag@literal\\tag@paren");G("\\tag@paren","\\tag@literal{({#1})}");G("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Je("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});G("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");G("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");G("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");G("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");G("\\newline","\\\\\\relax");G("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var UH=st(Eo["Main-Regular"][84][1]-.7*Eo["Main-Regular"][65][1]);G("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+UH+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");G("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+UH+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");G("\\hspace","\\@ifstar\\@hspacer\\@hspace");G("\\@hspace","\\hskip #1\\relax");G("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");G("\\ordinarycolon",":");G("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");G("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');G("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');G("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');G("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');G("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');G("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');G("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');G("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');G("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');G("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');G("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');G("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');G("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');G("","\\dblcolon");G("","\\eqcolon");G("","\\coloneqq");G("","\\eqqcolon");G("","\\Coloneqq");G("\\ratio","\\vcentcolon");G("\\coloncolon","\\dblcolon");G("\\colonequals","\\coloneqq");G("\\coloncolonequals","\\Coloneqq");G("\\equalscolon","\\eqqcolon");G("\\equalscoloncolon","\\Eqqcolon");G("\\colonminus","\\coloneq");G("\\coloncolonminus","\\Coloneq");G("\\minuscolon","\\eqcolon");G("\\minuscoloncolon","\\Eqcolon");G("\\coloncolonapprox","\\Colonapprox");G("\\coloncolonsim","\\Colonsim");G("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");G("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");G("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");G("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");G("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");G("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");G("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");G("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");G("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");G("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");G("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");G("\\ngeqq","\\html@mathml{\\@ngeqq}{}");G("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");G("\\nleqq","\\html@mathml{\\@nleqq}{}");G("\\nleqslant","\\html@mathml{\\@nleqslant}{}");G("\\nshortmid","\\html@mathml{\\@nshortmid}{}");G("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");G("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");G("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");G("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");G("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");G("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");G("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");G("\\imath","\\html@mathml{\\@imath}{}");G("\\jmath","\\html@mathml{\\@jmath}{}");G("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");G("","\\llbracket");G("","\\rrbracket");G("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");G("","\\lBrace");G("","\\rBrace");G("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");G("","\\minuso");G("\\darr","\\downarrow");G("\\dArr","\\Downarrow");G("\\Darr","\\Downarrow");G("\\lang","\\langle");G("\\rang","\\rangle");G("\\uarr","\\uparrow");G("\\uArr","\\Uparrow");G("\\Uarr","\\Uparrow");G("\\N","\\mathbb{N}");G("\\R","\\mathbb{R}");G("\\Z","\\mathbb{Z}");G("\\alef","\\aleph");G("\\alefsym","\\aleph");G("\\Alpha","\\mathrm{A}");G("\\Beta","\\mathrm{B}");G("\\bull","\\bullet");G("\\Chi","\\mathrm{X}");G("\\clubs","\\clubsuit");G("\\cnums","\\mathbb{C}");G("\\Complex","\\mathbb{C}");G("\\Dagger","\\ddagger");G("\\diamonds","\\diamondsuit");G("\\empty","\\emptyset");G("\\Epsilon","\\mathrm{E}");G("\\Eta","\\mathrm{H}");G("\\exist","\\exists");G("\\harr","\\leftrightarrow");G("\\hArr","\\Leftrightarrow");G("\\Harr","\\Leftrightarrow");G("\\hearts","\\heartsuit");G("\\image","\\Im");G("\\infin","\\infty");G("\\Iota","\\mathrm{I}");G("\\isin","\\in");G("\\Kappa","\\mathrm{K}");G("\\larr","\\leftarrow");G("\\lArr","\\Leftarrow");G("\\Larr","\\Leftarrow");G("\\lrarr","\\leftrightarrow");G("\\lrArr","\\Leftrightarrow");G("\\Lrarr","\\Leftrightarrow");G("\\Mu","\\mathrm{M}");G("\\natnums","\\mathbb{N}");G("\\Nu","\\mathrm{N}");G("\\Omicron","\\mathrm{O}");G("\\plusmn","\\pm");G("\\rarr","\\rightarrow");G("\\rArr","\\Rightarrow");G("\\Rarr","\\Rightarrow");G("\\real","\\Re");G("\\reals","\\mathbb{R}");G("\\Reals","\\mathbb{R}");G("\\Rho","\\mathrm{P}");G("\\sdot","\\cdot");G("\\sect","\\S");G("\\spades","\\spadesuit");G("\\sub","\\subset");G("\\sube","\\subseteq");G("\\supe","\\supseteq");G("\\Tau","\\mathrm{T}");G("\\thetasym","\\vartheta");G("\\weierp","\\wp");G("\\Zeta","\\mathrm{Z}");G("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");G("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");G("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");G("\\bra","\\mathinner{\\langle{#1}|}");G("\\ket","\\mathinner{|{#1}\\rangle}");G("\\braket","\\mathinner{\\langle{#1}\\rangle}");G("\\Bra","\\left\\langle#1\\right|");G("\\Ket","\\left|#1\\right\\rangle");var zH=t=>e=>{var r=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),l=e.macros.get("\\|");e.macros.beginGroup();var d=m=>y=>{t&&(y.macros.set("|",s),i.length&&y.macros.set("\\|",l));var b=m;if(!m&&i.length){var T=y.future();T.text==="|"&&(y.popToken(),b=!0)}return{tokens:b?i:n,numArgs:0}};e.macros.set("|",d(!1)),i.length&&e.macros.set("\\|",d(!0));var h=e.consumeArg().tokens,p=e.expandTokens([...a,...h,...r]);return e.macros.endGroup(),{tokens:p.reverse(),numArgs:0}};G("\\bra@ket",zH(!1));G("\\bra@set",zH(!0));G("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");G("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");G("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");G("\\angln","{\\angl n}");G("\\blue","\\textcolor{##6495ed}{#1}");G("\\orange","\\textcolor{##ffa500}{#1}");G("\\pink","\\textcolor{##ff00af}{#1}");G("\\red","\\textcolor{##df0030}{#1}");G("\\green","\\textcolor{##28ae7b}{#1}");G("\\gray","\\textcolor{gray}{#1}");G("\\purple","\\textcolor{##9d38bd}{#1}");G("\\blueA","\\textcolor{##ccfaff}{#1}");G("\\blueB","\\textcolor{##80f6ff}{#1}");G("\\blueC","\\textcolor{##63d9ea}{#1}");G("\\blueD","\\textcolor{##11accd}{#1}");G("\\blueE","\\textcolor{##0c7f99}{#1}");G("\\tealA","\\textcolor{##94fff5}{#1}");G("\\tealB","\\textcolor{##26edd5}{#1}");G("\\tealC","\\textcolor{##01d1c1}{#1}");G("\\tealD","\\textcolor{##01a995}{#1}");G("\\tealE","\\textcolor{##208170}{#1}");G("\\greenA","\\textcolor{##b6ffb0}{#1}");G("\\greenB","\\textcolor{##8af281}{#1}");G("\\greenC","\\textcolor{##74cf70}{#1}");G("\\greenD","\\textcolor{##1fab54}{#1}");G("\\greenE","\\textcolor{##0d923f}{#1}");G("\\goldA","\\textcolor{##ffd0a9}{#1}");G("\\goldB","\\textcolor{##ffbb71}{#1}");G("\\goldC","\\textcolor{##ff9c39}{#1}");G("\\goldD","\\textcolor{##e07d10}{#1}");G("\\goldE","\\textcolor{##a75a05}{#1}");G("\\redA","\\textcolor{##fca9a9}{#1}");G("\\redB","\\textcolor{##ff8482}{#1}");G("\\redC","\\textcolor{##f9685d}{#1}");G("\\redD","\\textcolor{##e84d39}{#1}");G("\\redE","\\textcolor{##bc2612}{#1}");G("\\maroonA","\\textcolor{##ffbde0}{#1}");G("\\maroonB","\\textcolor{##ff92c6}{#1}");G("\\maroonC","\\textcolor{##ed5fa6}{#1}");G("\\maroonD","\\textcolor{##ca337c}{#1}");G("\\maroonE","\\textcolor{##9e034e}{#1}");G("\\purpleA","\\textcolor{##ddd7ff}{#1}");G("\\purpleB","\\textcolor{##c6b9fc}{#1}");G("\\purpleC","\\textcolor{##aa87ff}{#1}");G("\\purpleD","\\textcolor{##7854ab}{#1}");G("\\purpleE","\\textcolor{##543b78}{#1}");G("\\mintA","\\textcolor{##f5f9e8}{#1}");G("\\mintB","\\textcolor{##edf2df}{#1}");G("\\mintC","\\textcolor{##e0e5cc}{#1}");G("\\grayA","\\textcolor{##f6f7f7}{#1}");G("\\grayB","\\textcolor{##f0f1f2}{#1}");G("\\grayC","\\textcolor{##e3e5e6}{#1}");G("\\grayD","\\textcolor{##d6d8da}{#1}");G("\\grayE","\\textcolor{##babec2}{#1}");G("\\grayF","\\textcolor{##888d93}{#1}");G("\\grayG","\\textcolor{##626569}{#1}");G("\\grayH","\\textcolor{##3b3e40}{#1}");G("\\grayI","\\textcolor{##21242c}{#1}");G("\\kaBlue","\\textcolor{##314453}{#1}");G("\\kaGreen","\\textcolor{##71B307}{#1}");var $H={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class eue{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new Zce(Jce,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new vR(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new ls("EOF",n.loc)),this.pushTokens(i),new ls("",Ra.range(r,n))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),a,s=0,l=0;do{if(a=this.popToken(),r.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new Je("Extra }",a)}else if(a.text==="EOF")throw new Je("Unexpected end of input in a macro argument, expected '"+(e&&n?e[l]:"}")+"'",a);if(e&&n)if((s===0||s===1&&e[l]==="{")&&a.text===e[l]){if(++l,l===e.length){r.splice(-l,l);break}}else l=0}while(s!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:a}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new Je("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var a=this.popToken();if(n[i]!==a.text)throw new Je("Use of the macro doesn't match its definition",a)}}for(var s=[],l=0;l<e;l++)s.push(this.consumeArg(r&&r[l+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Je("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new Je("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var l=a.length-1;l>=0;--l){var d=a[l];if(d.text==="#"){if(l===0)throw new Je("Incomplete placeholder at end of macro body",d);if(d=a[--l],d.text==="#")a.splice(l+1,1);else if(/^[1-9]$/.test(d.text))a.splice(l,2,...s[+d.text-1]);else throw new Je("Not a valid argument number",d)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new ls(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var l=new vR(i,this.settings),d=[],h=l.lex();h.text!=="EOF";)d.push(h),h=l.lex();d.reverse();var p={tokens:d,numArgs:a};return p}return i}isDefined(e){return this.macros.has(e)||Kc.hasOwnProperty(e)||cn.math.hasOwnProperty(e)||cn.text.hasOwnProperty(e)||$H.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Kc.hasOwnProperty(e)&&!Kc[e].primitive}}var wR=/^[]/,av=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Q5={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},_R={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class b2{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new eue(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new Je("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new ls("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(b2.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&Kc[i.text]&&Kc[i.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;n.push(a)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r=-1,n,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new Je("only one infix operator per group",e[i].token);r=i,n=e[i].replaceWith}if(r!==-1&&n){var a,s,l=e.slice(0,r),d=e.slice(r+1);l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l},d.length===1&&d[0].type==="ordgroup"?s=d[0]:s={type:"ordgroup",mode:this.mode,body:d};var h;return n==="\\\\abovefrac"?h=this.callFunction(n,[a,e[r],s],[]):h=this.callFunction(n,[a,s],[]),[h]}else return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i;do{var a;i=this.parseGroup(e)}while(((a=i)==null?void 0:a.type)==="internal");if(!i)throw new Je("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(e){var r=this.parseGroup("atom",e);if((r==null?void 0:r.type)==="internal"||this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var s=a.text==="\\limits";r.limits=s,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new Je("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(n)throw new Je("Double superscript",a);n=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new Je("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(n)throw new Je("Double superscript",a);var l={type:"textord",mode:this.mode,text:"\\prime"},d=[l];for(this.consume();this.fetch().text==="'";)d.push(l),this.consume();this.fetch().text==="^"&&d.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:d}}else if(av[a.text]){var h=wR.test(a.text),p=[];for(p.push(new ls(av[a.text])),this.consume();;){var m=this.fetch().text;if(!av[m]||wR.test(m)!==h)break;p.unshift(new ls(av[m])),this.consume()}var y=this.subparse(p);h?i={type:"ordgroup",mode:"math",body:y}:n={type:"ordgroup",mode:"math",body:y}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(e,r){var n=this.fetch(),i=n.text,a=Kc[i];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new Je("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!a.allowedInText)throw new Je("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&a.allowedInMath===!1)throw new Je("Can't use function '"+i+"' in math mode",n);var{args:s,optArgs:l}=this.parseArguments(i,a);return this.callFunction(i,s,l,n,e)}callFunction(e,r,n,i,a){var s={funcName:e,parser:this,token:i,breakOnTokenText:a},l=Kc[e];if(l&&l.handler)return l.handler(s,r,n);throw new Je("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<n;s++){var l=r.argTypes&&r.argTypes[s],d=s<r.numOptionalArgs;(r.primitive&&l==null||r.type==="sqrt"&&s===1&&a[0]==null)&&(l="primitive");var h=this.parseGroupOfType("argument to '"+e+"'",l,d);if(d)a.push(h);else if(h!=null)i.push(h);else throw new Je("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",n);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(n)throw new Je("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new Je("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new Je("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,r){for(var n=this.fetch(),i=n,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new Je("Invalid "+r+": '"+n.text+"'",n);return n.range(i,a)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new Je("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new Je("Invalid size: '"+r.text+"'",r);var a={number:+(i[1]+i[2]),unit:i[3]};if(!Yq(a))throw new Je("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:n.loc,body:a};return r&&this.switchMode(i),s}parseGroup(e,r){var n=this.fetch(),i=n.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,s),d=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:Ra.range(n,d),body:l,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,e)||this.parseSymbol(),a==null&&i[0]==="\\"&&!$H.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Je("Undefined control sequence: "+i,n);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var i=e[n],a=i.text;a==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:Ra.range(i,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:Ra.range(i,e[n+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&e[n+1].text===a&&(e.splice(n,2,{type:"textord",mode:"text",loc:Ra.range(i,e[n+1]),text:a+a}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new Je(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}_R.hasOwnProperty(r[0])&&!cn[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=_R[r[0]]+r.slice(1));var a=Qce.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="":r==="j"&&(r=""));var s;if(cn[this.mode][r]){this.settings.strict&&this.mode==="math"&&dA.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var l=cn[this.mode][r].group,d=Ra.range(e),h;if(Vle.hasOwnProperty(l)){var p=l;h={type:"atom",mode:this.mode,family:p,loc:d,text:r}}else h={type:l,mode:this.mode,loc:d,text:r};s=h}else if(r.charCodeAt(0)>=128)this.settings.strict&&(Qq(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:Ra.range(e),text:r};else return null;if(this.consume(),a)for(var m=0;m<a[0].length;m++){var y=a[0][m];if(!Q5[y])throw new Je("Unknown accent ' "+y+"'",e);var b=Q5[y][this.mode]||Q5[y].text;if(!b)throw new Je("Accent "+y+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:Ra.range(e),label:b,isStretchy:!1,isShifty:!0,base:s}}return s}}b2.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var $E=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new b2(e,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new Je("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new ls("\\df@tag")])}]}return i},VH=function(e,r,n){r.textContent="";var i=VE(e,n).toNode();r.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),VH=function(){throw new Je("KaTeX doesn't work in quirks mode.")});var tue=function(e,r){var n=VE(e,r).toMarkup();return n},rue=function(e,r){var n=new SE(r);return $E(e,n)},FH=function(e,r,n){if(n.throwOnError||!(e instanceof Je))throw e;var i=Se.makeSpan(["katex-error"],[new Rs(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},VE=function(e,r){var n=new SE(r);try{var i=$E(e,n);return dce(i,e,n)}catch(a){return FH(a,e,n)}},nue=function(e,r){var n=new SE(r);try{var i=$E(e,n);return hce(i,e,n)}catch(a){return FH(a,e,n)}},iue="0.16.28",aue={Span:e1,Anchor:EE,SymbolNode:Rs,SvgNode:$l,PathNode:hu,LineNode:uA},Ab={version:iue,render:VH,renderToString:tue,ParseError:Je,SETTINGS_SCHEMA:Uv,__parse:rue,__renderToDomTree:VE,__renderToHTMLTree:nue,__setFontMetrics:Mle,__defineSymbol:C,__defineFunction:ft,__defineMacro:G,__domTree:aue};/*! @license DOMPurify 2.5.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.8/LICENSE */function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function yA(t,e){return yA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},yA(t,e)}function sue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $v(t,e,r){return sue()?$v=Reflect.construct:$v=function(i,a,s){var l=[null];l.push.apply(l,a);var d=Function.bind.apply(i,l),h=new d;return s&&yA(h,s.prototype),h},$v.apply(null,arguments)}function Ys(t){return oue(t)||lue(t)||cue(t)||uue()}function oue(t){if(Array.isArray(t))return vA(t)}function lue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cue(t,e){if(t){if(typeof t=="string")return vA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vA(t,e)}}function vA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var due=Object.hasOwnProperty,SR=Object.setPrototypeOf,hue=Object.isFrozen,fue=Object.getPrototypeOf,pue=Object.getOwnPropertyDescriptor,va=Object.freeze,Ps=Object.seal,mue=Object.create,qH=typeof Reflect<"u"&&Reflect,Eb=qH.apply,bA=qH.construct;Eb||(Eb=function(e,r,n){return e.apply(r,n)});va||(va=function(e){return e});Ps||(Ps=function(e){return e});bA||(bA=function(e,r){return $v(e,Ys(r))});var gue=Ds(Array.prototype.forEach),TR=Ds(Array.prototype.pop),Ip=Ds(Array.prototype.push),Vv=Ds(String.prototype.toLowerCase),Y5=Ds(String.prototype.toString),AR=Ds(String.prototype.match),Xs=Ds(String.prototype.replace),yue=Ds(String.prototype.indexOf),vue=Ds(String.prototype.trim),Ui=Ds(RegExp.prototype.test),Z5=bue(TypeError);function Ds(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Eb(t,e,n)}}function bue(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return bA(t,r)}}function er(t,e,r){var n;r=(n=r)!==null&&n!==void 0?n:Vv,SR&&SR(t,null);for(var i=e.length;i--;){var a=e[i];if(typeof a=="string"){var s=r(a);s!==a&&(hue(e)||(e[i]=s),a=s)}t[a]=!0}return t}function Ju(t){var e=mue(null),r;for(r in t)Eb(due,t,[r])===!0&&(e[r]=t[r]);return e}function sv(t,e){for(;t!==null;){var r=pue(t,e);if(r){if(r.get)return Ds(r.get);if(typeof r.value=="function")return Ds(r.value)}t=fue(t)}function n(i){return console.warn("fallback value for",i),null}return n}var ER=va(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),J5=va(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),e3=va(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xue=va(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),t3=va(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),wue=va(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),NR=va(["#text"]),CR=va(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),r3=va(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),jR=va(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ov=va(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),_ue=Ps(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Sue=Ps(/<%[\w\W]*|[\w\W]*%>/gm),Tue=Ps(/\${[\w\W]*}/gm),Aue=Ps(/^data-[\-\w.\u00B7-\uFFFF]+$/),Eue=Ps(/^aria-[\-\w]+$/),Nue=Ps(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Cue=Ps(/^(?:\w+script|data):/i),jue=Ps(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),kue=Ps(/^html$/i),Oue=Ps(/^[a-z][.\w]*(-[.\w]+)+$/i),Iue=function(){return typeof window>"u"?null:window},Rue=function(e,r){if(qc(e)!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(i)&&(n=r.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(l){return l},createScriptURL:function(l){return l}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function HH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Iue(),e=function(he){return HH(he)};if(e.version="2.5.8",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var r=t.document,n=t.document,i=t.DocumentFragment,a=t.HTMLTemplateElement,s=t.Node,l=t.Element,d=t.NodeFilter,h=t.NamedNodeMap,p=h===void 0?t.NamedNodeMap||t.MozNamedAttrMap:h,m=t.HTMLFormElement,y=t.DOMParser,b=t.trustedTypes,T=l.prototype,S=sv(T,"cloneNode"),w=sv(T,"nextSibling"),N=sv(T,"childNodes"),k=sv(T,"parentNode");if(typeof a=="function"){var j=n.createElement("template");j.content&&j.content.ownerDocument&&(n=j.content.ownerDocument)}var $=Rue(b,r),I=$?$.createHTML(""):"",L=n,E=L.implementation,A=L.createNodeIterator,R=L.createDocumentFragment,F=L.getElementsByTagName,D=r.importNode,B={};try{B=Ju(n).documentMode?n.documentMode:{}}catch{}var M={};e.isSupported=typeof k=="function"&&E&&E.createHTMLDocument!==void 0&&B!==9;var Q=_ue,Z=Sue,W=Tue,J=Aue,Y=Eue,ge=Cue,ce=jue,X=Oue,te=Nue,ue=null,oe=er({},[].concat(Ys(ER),Ys(J5),Ys(e3),Ys(t3),Ys(NR))),ae=null,pe=er({},[].concat(Ys(CR),Ys(r3),Ys(jR),Ys(ov))),ye=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Xe=null,Ne=null,le=!0,je=!0,we=!1,ut=!0,Ge=!1,lt=!0,it=!1,Rt=!1,Oe=!1,at=!1,ht=!1,de=!1,Ue=!0,ne=!1,De="user-content-",Ye=!0,et=!1,Qe={},Fe=null,mt=er({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),_t=null,en=er({},["audio","video","img","source","image","track"]),mn=null,Sn=er({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Kt="http://www.w3.org/1998/Math/MathML",qt="http://www.w3.org/2000/svg",Ht="http://www.w3.org/1999/xhtml",oi=Ht,li=!1,wa=null,Mi=er({},[Kt,qt,Ht],Y5),jr,kr=["application/xhtml+xml","text/html"],Ar="text/html",Mt,tn=null,Tn=n.createElement("form"),gn=function(he){return he instanceof RegExp||he instanceof Function},rn=function(he){tn&&tn===he||((!he||qc(he)!=="object")&&(he={}),he=Ju(he),jr=kr.indexOf(he.PARSER_MEDIA_TYPE)===-1?jr=Ar:jr=he.PARSER_MEDIA_TYPE,Mt=jr==="application/xhtml+xml"?Y5:Vv,ue="ALLOWED_TAGS"in he?er({},he.ALLOWED_TAGS,Mt):oe,ae="ALLOWED_ATTR"in he?er({},he.ALLOWED_ATTR,Mt):pe,wa="ALLOWED_NAMESPACES"in he?er({},he.ALLOWED_NAMESPACES,Y5):Mi,mn="ADD_URI_SAFE_ATTR"in he?er(Ju(Sn),he.ADD_URI_SAFE_ATTR,Mt):Sn,_t="ADD_DATA_URI_TAGS"in he?er(Ju(en),he.ADD_DATA_URI_TAGS,Mt):en,Fe="FORBID_CONTENTS"in he?er({},he.FORBID_CONTENTS,Mt):mt,Xe="FORBID_TAGS"in he?er({},he.FORBID_TAGS,Mt):{},Ne="FORBID_ATTR"in he?er({},he.FORBID_ATTR,Mt):{},Qe="USE_PROFILES"in he?he.USE_PROFILES:!1,le=he.ALLOW_ARIA_ATTR!==!1,je=he.ALLOW_DATA_ATTR!==!1,we=he.ALLOW_UNKNOWN_PROTOCOLS||!1,ut=he.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ge=he.SAFE_FOR_TEMPLATES||!1,lt=he.SAFE_FOR_XML!==!1,it=he.WHOLE_DOCUMENT||!1,at=he.RETURN_DOM||!1,ht=he.RETURN_DOM_FRAGMENT||!1,de=he.RETURN_TRUSTED_TYPE||!1,Oe=he.FORCE_BODY||!1,Ue=he.SANITIZE_DOM!==!1,ne=he.SANITIZE_NAMED_PROPS||!1,Ye=he.KEEP_CONTENT!==!1,et=he.IN_PLACE||!1,te=he.ALLOWED_URI_REGEXP||te,oi=he.NAMESPACE||Ht,ye=he.CUSTOM_ELEMENT_HANDLING||{},he.CUSTOM_ELEMENT_HANDLING&&gn(he.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ye.tagNameCheck=he.CUSTOM_ELEMENT_HANDLING.tagNameCheck),he.CUSTOM_ELEMENT_HANDLING&&gn(he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ye.attributeNameCheck=he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),he.CUSTOM_ELEMENT_HANDLING&&typeof he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ye.allowCustomizedBuiltInElements=he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ge&&(je=!1),ht&&(at=!0),Qe&&(ue=er({},Ys(NR)),ae=[],Qe.html===!0&&(er(ue,ER),er(ae,CR)),Qe.svg===!0&&(er(ue,J5),er(ae,r3),er(ae,ov)),Qe.svgFilters===!0&&(er(ue,e3),er(ae,r3),er(ae,ov)),Qe.mathMl===!0&&(er(ue,t3),er(ae,jR),er(ae,ov))),he.ADD_TAGS&&(ue===oe&&(ue=Ju(ue)),er(ue,he.ADD_TAGS,Mt)),he.ADD_ATTR&&(ae===pe&&(ae=Ju(ae)),er(ae,he.ADD_ATTR,Mt)),he.ADD_URI_SAFE_ATTR&&er(mn,he.ADD_URI_SAFE_ATTR,Mt),he.FORBID_CONTENTS&&(Fe===mt&&(Fe=Ju(Fe)),er(Fe,he.FORBID_CONTENTS,Mt)),Ye&&(ue["#text"]=!0),it&&er(ue,["html","head","body"]),ue.table&&(er(ue,["tbody"]),delete Xe.tbody),va&&va(he),tn=he)},zr=er({},["mi","mo","mn","ms","mtext"]),Xt=er({},["annotation-xml"]),bi=er({},["title","style","font","a","script"]),Xr=er({},J5);er(Xr,e3),er(Xr,xue);var yn=er({},t3);er(yn,wue);var aa=function(he){var qe=k(he);(!qe||!qe.tagName)&&(qe={namespaceURI:oi,tagName:"template"});var rt=Vv(he.tagName),Bt=Vv(qe.tagName);return wa[he.namespaceURI]?he.namespaceURI===qt?qe.namespaceURI===Ht?rt==="svg":qe.namespaceURI===Kt?rt==="svg"&&(Bt==="annotation-xml"||zr[Bt]):!!Xr[rt]:he.namespaceURI===Kt?qe.namespaceURI===Ht?rt==="math":qe.namespaceURI===qt?rt==="math"&&Xt[Bt]:!!yn[rt]:he.namespaceURI===Ht?qe.namespaceURI===qt&&!Xt[Bt]||qe.namespaceURI===Kt&&!zr[Bt]?!1:!yn[rt]&&(bi[rt]||!Xr[rt]):!!(jr==="application/xhtml+xml"&&wa[he.namespaceURI]):!1},Or=function(he){Ip(e.removed,{element:he});try{he.parentNode.removeChild(he)}catch{try{he.outerHTML=I}catch{he.remove()}}},nn=function(he,qe){try{Ip(e.removed,{attribute:qe.getAttributeNode(he),from:qe})}catch{Ip(e.removed,{attribute:null,from:qe})}if(qe.removeAttribute(he),he==="is"&&!ae[he])if(at||ht)try{Or(qe)}catch{}else try{qe.setAttribute(he,"")}catch{}},Ki=function(he){var qe,rt;if(Oe)he="<remove></remove>"+he;else{var Bt=AR(he,/^[\r\n\t ]+/);rt=Bt&&Bt[0]}jr==="application/xhtml+xml"&&oi===Ht&&(he='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+he+"</body></html>");var tr=$?$.createHTML(he):he;if(oi===Ht)try{qe=new y().parseFromString(tr,jr)}catch{}if(!qe||!qe.documentElement){qe=E.createDocument(oi,"template",null);try{qe.documentElement.innerHTML=li?I:tr}catch{}}var sn=qe.body||qe.documentElement;return he&&rt&&sn.insertBefore(n.createTextNode(rt),sn.childNodes[0]||null),oi===Ht?F.call(qe,it?"html":"body")[0]:it?qe.documentElement:sn},Wn=function(he){return A.call(he.ownerDocument||he,he,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null,!1)},Ir=function(he){return he instanceof m&&(typeof he.nodeName!="string"||typeof he.textContent!="string"||typeof he.removeChild!="function"||!(he.attributes instanceof p)||typeof he.removeAttribute!="function"||typeof he.setAttribute!="function"||typeof he.namespaceURI!="string"||typeof he.insertBefore!="function"||typeof he.hasChildNodes!="function")},an=function(he){return qc(s)==="object"?he instanceof s:he&&qc(he)==="object"&&typeof he.nodeType=="number"&&typeof he.nodeName=="string"},An=function(he,qe,rt){M[he]&&gue(M[he],function(Bt){Bt.call(e,qe,rt,tn)})},_a=function(he){var qe;if(An("beforeSanitizeElements",he,null),Ir(he)||Ui(/[\u0080-\uFFFF]/,he.nodeName))return Or(he),!0;var rt=Mt(he.nodeName);if(An("uponSanitizeElement",he,{tagName:rt,allowedTags:ue}),he.hasChildNodes()&&!an(he.firstElementChild)&&(!an(he.content)||!an(he.content.firstElementChild))&&Ui(/<[/\w]/g,he.innerHTML)&&Ui(/<[/\w]/g,he.textContent)||rt==="select"&&Ui(/<template/i,he.innerHTML)||he.nodeType===7||lt&&he.nodeType===8&&Ui(/<[/\w]/g,he.data))return Or(he),!0;if(!ue[rt]||Xe[rt]){if(!Xe[rt]&&ho(rt)&&(ye.tagNameCheck instanceof RegExp&&Ui(ye.tagNameCheck,rt)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(rt)))return!1;if(Ye&&!Fe[rt]){var Bt=k(he)||he.parentNode,tr=N(he)||he.childNodes;if(tr&&Bt)for(var sn=tr.length,Rr=sn-1;Rr>=0;--Rr){var on=S(tr[Rr],!0);on.__removalCount=(he.__removalCount||0)+1,Bt.insertBefore(on,w(he))}}return Or(he),!0}return he instanceof l&&!aa(he)||(rt==="noscript"||rt==="noembed"||rt==="noframes")&&Ui(/<\/no(script|embed|frames)/i,he.innerHTML)?(Or(he),!0):(Ge&&he.nodeType===3&&(qe=he.textContent,qe=Xs(qe,Q," "),qe=Xs(qe,Z," "),qe=Xs(qe,W," "),he.textContent!==qe&&(Ip(e.removed,{element:he.cloneNode()}),he.textContent=qe)),An("afterSanitizeElements",he,null),!1)},Wi=function(he,qe,rt){if(Ue&&(qe==="id"||qe==="name")&&(rt in n||rt in Tn))return!1;if(!(je&&!Ne[qe]&&Ui(J,qe))){if(!(le&&Ui(Y,qe))){if(!ae[qe]||Ne[qe]){if(!(ho(he)&&(ye.tagNameCheck instanceof RegExp&&Ui(ye.tagNameCheck,he)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(he))&&(ye.attributeNameCheck instanceof RegExp&&Ui(ye.attributeNameCheck,qe)||ye.attributeNameCheck instanceof Function&&ye.attributeNameCheck(qe))||qe==="is"&&ye.allowCustomizedBuiltInElements&&(ye.tagNameCheck instanceof RegExp&&Ui(ye.tagNameCheck,rt)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(rt))))return!1}else if(!mn[qe]){if(!Ui(te,Xs(rt,ce,""))){if(!((qe==="src"||qe==="xlink:href"||qe==="href")&&he!=="script"&&yue(rt,"data:")===0&&_t[he])){if(!(we&&!Ui(ge,Xs(rt,ce,"")))){if(rt)return!1}}}}}}return!0},ho=function(he){return he!=="annotation-xml"&&AR(he,X)},Us=function(he){var qe,rt,Bt,tr;An("beforeSanitizeAttributes",he,null);var sn=he.attributes;if(!(!sn||Ir(he))){var Rr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ae};for(tr=sn.length;tr--;){qe=sn[tr];var on=qe,fr=on.name,fo=on.namespaceURI;if(rt=fr==="value"?qe.value:vue(qe.value),Bt=Mt(fr),Rr.attrName=Bt,Rr.attrValue=rt,Rr.keepAttr=!0,Rr.forceKeepAttr=void 0,An("uponSanitizeAttribute",he,Rr),rt=Rr.attrValue,!Rr.forceKeepAttr&&(nn(fr,he),!!Rr.keepAttr)){if(!ut&&Ui(/\/>/i,rt)){nn(fr,he);continue}Ge&&(rt=Xs(rt,Q," "),rt=Xs(rt,Z," "),rt=Xs(rt,W," "));var zs=Mt(he.nodeName);if(Wi(zs,Bt,rt)){if(ne&&(Bt==="id"||Bt==="name")&&(nn(fr,he),rt=De+rt),lt&&Ui(/((--!?|])>)|<\/(style|title)/i,rt)){nn(fr,he);continue}if($&&qc(b)==="object"&&typeof b.getAttributeType=="function"&&!fo)switch(b.getAttributeType(zs,Bt)){case"TrustedHTML":{rt=$.createHTML(rt);break}case"TrustedScriptURL":{rt=$.createScriptURL(rt);break}}try{fo?he.setAttributeNS(fo,fr,rt):he.setAttribute(fr,rt),Ir(he)?Or(he):TR(e.removed)}catch{}}}}An("afterSanitizeAttributes",he,null)}},Sa=function yt(he){var qe,rt=Wn(he);for(An("beforeSanitizeShadowDOM",he,null);qe=rt.nextNode();)An("uponSanitizeShadowNode",qe,null),_a(qe),Us(qe),qe.content instanceof i&&yt(qe.content);An("afterSanitizeShadowDOM",he,null)};return e.sanitize=function(yt){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qe,rt,Bt,tr,sn;if(li=!yt,li&&(yt="<!-->"),typeof yt!="string"&&!an(yt))if(typeof yt.toString=="function"){if(yt=yt.toString(),typeof yt!="string")throw Z5("dirty is not a string, aborting")}else throw Z5("toString is not a function");if(!e.isSupported){if(qc(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof yt=="string")return t.toStaticHTML(yt);if(an(yt))return t.toStaticHTML(yt.outerHTML)}return yt}if(Rt||rn(he),e.removed=[],typeof yt=="string"&&(et=!1),et){if(yt.nodeName){var Rr=Mt(yt.nodeName);if(!ue[Rr]||Xe[Rr])throw Z5("root node is forbidden and cannot be sanitized in-place")}}else if(yt instanceof s)qe=Ki("<!---->"),rt=qe.ownerDocument.importNode(yt,!0),rt.nodeType===1&&rt.nodeName==="BODY"||rt.nodeName==="HTML"?qe=rt:qe.appendChild(rt);else{if(!at&&!Ge&&!it&&yt.indexOf("<")===-1)return $&&de?$.createHTML(yt):yt;if(qe=Ki(yt),!qe)return at?null:de?I:""}qe&&Oe&&Or(qe.firstChild);for(var on=Wn(et?yt:qe);Bt=on.nextNode();)Bt.nodeType===3&&Bt===tr||(_a(Bt),Us(Bt),Bt.content instanceof i&&Sa(Bt.content),tr=Bt);if(tr=null,et)return yt;if(at){if(ht)for(sn=R.call(qe.ownerDocument);qe.firstChild;)sn.appendChild(qe.firstChild);else sn=qe;return(ae.shadowroot||ae.shadowrootmod)&&(sn=D.call(r,sn,!0)),sn}var fr=it?qe.outerHTML:qe.innerHTML;return it&&ue["!doctype"]&&qe.ownerDocument&&qe.ownerDocument.doctype&&qe.ownerDocument.doctype.name&&Ui(kue,qe.ownerDocument.doctype.name)&&(fr="<!DOCTYPE "+qe.ownerDocument.doctype.name+`>
`+fr),Ge&&(fr=Xs(fr,Q," "),fr=Xs(fr,Z," "),fr=Xs(fr,W," ")),$&&de?$.createHTML(fr):fr},e.setConfig=function(yt){rn(yt),Rt=!0},e.clearConfig=function(){tn=null,Rt=!1},e.isValidAttribute=function(yt,he,qe){tn||rn({});var rt=Mt(yt),Bt=Mt(he);return Wi(rt,Bt,qe)},e.addHook=function(yt,he){typeof he=="function"&&(M[yt]=M[yt]||[],Ip(M[yt],he))},e.removeHook=function(yt){if(M[yt])return TR(M[yt])},e.removeHooks=function(yt){M[yt]&&(M[yt]=[])},e.removeAllHooks=function(){M={}},e}var GH=HH();const Mue=({onComplete:t,contentUrl:e,htmlContent:r,userId:n,assignmentId:i,classType:a})=>{const s=P.useRef(pb()),l=P.useRef(Date.now()),d=P.useRef(t),[h,p]=P.useState(!0),[m,y]=P.useState(0),[b,T]=P.useState(!1),[S,w]=P.useState(null),[N,k]=P.useState(0),[j,$]=P.useState(0),I=P.useRef(null),L=P.useRef(null),E=P.useRef(null),A=P.useRef(new Set),[R,F]=P.useState(!1);P.useEffect(()=>{d.current=t},[t]);const D=P.useCallback(()=>{l.current=Date.now(),h||p(!0)},[h]);P.useEffect(()=>{const M=setInterval(()=>{Date.now()-l.current<6e4?(s.current.engagementTime+=1,y(s.current.engagementTime),h||p(!0)):h&&p(!1)},1e3);return()=>clearInterval(M)},[h]),P.useEffect(()=>{const M=["mousemove","keydown","scroll","click"];return M.forEach(Q=>window.addEventListener(Q,D)),()=>M.forEach(Q=>window.removeEventListener(Q,D))},[D]),P.useEffect(()=>()=>{d.current(s.current)},[]),P.useEffect(()=>{if(!n||!i)return;const M=async Q=>{var ge,ce,X,te,ue,oe,ae,pe;const Z=I.current;if(!Z)return;const W=Z.src?new URL(Z.src).origin:"";if(Q.origin!==window.location.origin&&Q.origin!==W)return;const J=Q.origin,Y=Q.data;if(!(!Y||typeof Y!="object"||!((ge=Y.type)!=null&&ge.startsWith("portal-"))))switch(D(),Y.type){case"portal-ready":{T(!0);try{const ye=await Vi(pt(Ve,"practice_progress",`${n}_${i}`)),Xe=ye.exists()?ye.data():null,Ne=Xe?{state:Xe.state||null,currentQuestion:Xe.currentQuestion??0}:null,le=(Xe==null?void 0:Xe.answeredQuestions)||[];le.forEach(je=>A.current.add(je)),k(le.length),(ce=Z.contentWindow)==null||ce.postMessage({type:"portal-init",payload:{userId:n,savedState:Ne}},J)}catch(ye){console.error("Bridge: Failed to load saved state",ye),(X=Z.contentWindow)==null||X.postMessage({type:"portal-init",payload:{userId:n,savedState:null}},J)}break}case"portal-save":{const{state:ye,currentQuestion:Xe}=Y.payload||{};if(!ye)break;try{await fa(pt(Ve,"practice_progress",`${n}_${i}`),{userId:n,assignmentId:i,state:ye,currentQuestion:Xe??0,answeredQuestions:Array.from(A.current),lastUpdated:new Date().toISOString()},{merge:!0}),(te=Z.contentWindow)==null||te.postMessage({type:"portal-save-ok"},J)}catch(Ne){console.error("Bridge: Save failed",Ne),(ue=Z.contentWindow)==null||ue.postMessage({type:"portal-save-error"},J)}break}case"portal-answer":{const{questionId:ye,correct:Xe,attempts:Ne}=Y.payload||{};if(!ye)break;if(Xe&&!A.current.has(ye)){A.current.add(ye),k(je=>je+1);const le=Ne===1?15:10;try{const we=(await Oq({assignmentId:i,questionId:ye,xpAmount:le,classType:a||"Uncategorized"})).data;if(we.awarded){const ut=we.serverXP||le;$(Ge=>Ge+ut),w({text:`+${ut} XP`,type:"success"}),Ci.xpGain(),setTimeout(()=>w(null),2e3)}(oe=Z.contentWindow)==null||oe.postMessage({type:"portal-xp-result",payload:{questionId:ye,awarded:we.awarded,xp:we.serverXP||le}},J)}catch(je){console.error("Bridge: XP award failed",je),(ae=Z.contentWindow)==null||ae.postMessage({type:"portal-xp-result",payload:{questionId:ye,awarded:!1,xp:0}},J)}}else Xe&&((pe=Z.contentWindow)==null||pe.postMessage({type:"portal-xp-result",payload:{questionId:ye,awarded:!1,xp:0}},J));break}}};return window.addEventListener("message",M),()=>window.removeEventListener("message",M)},[n,i,a,D]);const B=P.useCallback(()=>{const M=E.current;M&&(document.fullscreenElement?document.exitFullscreen():M.requestFullscreen().catch(()=>{F(Q=>!Q)}))},[]);return P.useEffect(()=>{const M=()=>F(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",M),()=>document.removeEventListener("fullscreenchange",M)},[]),P.useEffect(()=>{if(L.current&&r){const M=r.replace(/\$(.*?)\$/g,(Q,Z)=>{try{return Ab.renderToString(Z,{throwOnError:!1})}catch{return Z}});L.current.innerHTML=GH.sanitize(M,{ADD_TAGS:["annotation","semantics","mrow","mi","mn","mo","msup","msub","mfrac","mtext","math"],ADD_ATTR:["xmlns","encoding"]})}},[r]),u.jsxs("div",{className:"flex flex-col h-full bg-black/20 border border-white/10 rounded-2xl overflow-hidden relative",children:[u.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 flex justify-between items-center border-b border-white/5 z-20",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:`flex items-center gap-2 text-sm font-bold ${h?"text-green-400":"text-yellow-500"}`,children:[h?u.jsx(yE,{className:"w-4 h-4"}):u.jsx(Os,{className:"w-4 h-4 animate-pulse"}),h?"Active Session":"Away (Paused)"]}),u.jsxs("div",{className:"text-xs text-gray-400 font-mono bg-black/40 px-2 py-1 rounded",children:["TIME: ",Math.floor(m/60),"m ",m%60,"s"]}),b&&N>0&&u.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-purple-300 bg-purple-500/10 px-3 py-1 rounded-full border border-purple-500/20",children:[u.jsx(fi,{className:"w-3 h-3"})," ",N," answered"]}),b&&j>0&&u.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-amber-300 bg-amber-500/10 px-3 py-1 rounded-full border border-amber-500/20",children:[u.jsx(Ii,{className:"w-3 h-3"})," ",j," XP"]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[e&&u.jsxs("button",{onClick:B,className:"flex items-center gap-1.5 text-[10px] text-purple-300 bg-purple-500/10 hover:bg-purple-500/20 px-2.5 py-1 rounded-full border border-purple-500/20 uppercase font-bold tracking-widest transition-colors cursor-pointer",title:R?"Exit full screen (Esc)":"Full screen",children:[R?u.jsx(Lq,{className:"w-3 h-3"}):u.jsx(aA,{className:"w-3 h-3"}),R?"Exit Full Screen":"Full Screen"]}),b&&u.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-green-400 bg-green-500/10 px-2.5 py-1 rounded-full border border-green-500/20 uppercase font-bold tracking-widest",children:[u.jsx(Ii,{className:"w-3 h-3"})," XP Linked"]}),!h&&u.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-yellow-500 bg-yellow-500/10 px-3 py-1 rounded-full border border-yellow-500/20 uppercase font-bold tracking-widest",children:[u.jsx(Is,{className:"w-3 h-3"})," Resume movement for XP"]})]})]}),S&&u.jsx("div",{className:"absolute top-14 right-4 z-30 animate-in slide-in-from-right fade-in duration-300",children:u.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl shadow-lg font-bold text-sm ${S.type==="success"?"bg-green-600/90 text-white border border-green-400/30":"bg-blue-600/90 text-white border border-blue-400/30"}`,children:[S.type==="success"?u.jsx(fi,{className:"w-4 h-4"}):u.jsx(zm,{className:"w-4 h-4"}),S.text]})}),u.jsxs("div",{className:"flex-1 relative overflow-hidden flex flex-col",children:[e?u.jsx("div",{ref:E,className:"flex-1 flex flex-col bg-white",children:u.jsx("iframe",{ref:I,src:e,className:"w-full flex-1 border-none bg-white",title:"Resource Viewer",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals",onLoad:D})}):u.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-600 italic",children:u.jsxs("div",{className:"text-center",children:[u.jsx($m,{className:"w-12 h-12 mx-auto mb-2 opacity-10"}),u.jsx("p",{className:"font-mono text-sm uppercase",children:"No interactive link found."})]})}),r&&u.jsxs("div",{className:"h-1/3 bg-[#0f0720]/95 border-t border-white/10 overflow-y-auto p-6 text-gray-300 shadow-[0_-10px_30px_rgba(0,0,0,0.8)] z-10 custom-scrollbar",children:[u.jsxs("h3",{className:"text-white font-bold mb-3 text-xs uppercase tracking-widest flex items-center gap-2",children:[u.jsx(aA,{className:"w-4 h-4 text-purple-400"})," Operational Context"]}),u.jsx("div",{ref:L,className:"proctor-content text-sm leading-relaxed"})]})]})]})},Pue=()=>{const[t,e]=P.useState(!1),[r,n]=P.useState(null),i=async()=>{e(!0),n(null);try{await Oee(nA,Tse)}catch(s){console.error("Login Error:",s),n(s instanceof Error?s.message:"Login failed"),e(!1)}},a=r&&r.includes("api-key-not-valid");return u.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 p-6 relative overflow-hidden font-sans",children:[u.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-indigo-600/20 rounded-full blur-3xl"}),u.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-600/20 rounded-full blur-3xl"}),u.jsx("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl overflow-hidden z-10 animate-in fade-in zoom-in-95 duration-300",children:u.jsxs("div",{className:"p-10 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl mx-auto flex items-center justify-center mb-6 shadow-lg transform -rotate-3 transition hover:rotate-0",children:u.jsx("span",{className:"text-3xl",children:""})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),u.jsx("p",{className:"text-gray-500 mb-8",children:"Porter's Physics & Forensics Portal"}),r&&u.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm text-left animate-in slide-in-from-top-2",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Is,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"break-words",children:[u.jsx("strong",{children:"Login Failed:"})," ",r]})]}),a&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-red-200 text-red-700",children:[u.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[u.jsx(moe,{className:"w-4 h-4"}),"Action Required:"]}),u.jsxs("p",{className:"text-xs leading-relaxed",children:["The app is missing your Firebase API Key. Please open ",u.jsx("code",{children:"lib/firebase.ts"})," and replace",u.jsx("code",{children:'"INSERT_YOUR_API_KEY_HERE"'})," with your actual key from the Firebase Console."]})]})]}),u.jsx("button",{onClick:i,disabled:t,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-3 px-4 rounded-xl transition-all shadow-sm hover:shadow-md group disabled:opacity-70 disabled:cursor-not-allowed mb-6",children:t?u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-indigo-600"}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),u.jsx("span",{children:"Sign in with Google"})]})}),u.jsxs("div",{className:"flex items-center gap-4 justify-center text-xs text-gray-400",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})," Secure Connection"]}),u.jsx("span",{children:""}),u.jsx("span",{children:"Firebase Auth"})]})]})})]})},KH=P.createContext(null),bu=()=>{const t=P.useContext(KH);if(!t)throw new Error("useConfirm must be used within ConfirmProvider");return t},Due=({children:t})=>{const[e,r]=P.useState({isOpen:!1,options:{message:""}}),n=P.useRef(null),i=P.useRef(null),a=P.useCallback(p=>new Promise(m=>{n.current=m,r({isOpen:!0,options:p})}),[]),s=P.useCallback(()=>{var p;(p=n.current)==null||p.call(n,!0),n.current=null,r(m=>({...m,isOpen:!1}))},[]),l=P.useCallback(()=>{var p;(p=n.current)==null||p.call(n,!1),n.current=null,r(m=>({...m,isOpen:!1}))},[]);P.useEffect(()=>{if(e.isOpen){const p=setTimeout(()=>{var m;(m=i.current)==null||m.focus()},50);return()=>clearTimeout(p)}},[e.isOpen]),P.useEffect(()=>{if(!e.isOpen)return;const p=m=>{m.key==="Escape"&&l(),m.key==="Enter"&&s()};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[e.isOpen,l,s]);const{variant:d="danger"}=e.options,h={danger:{bg:"bg-red-600 hover:bg-red-500",icon:"text-red-400",border:"border-red-500/30"},warning:{bg:"bg-amber-600 hover:bg-amber-500",icon:"text-amber-400",border:"border-amber-500/30"},info:{bg:"bg-purple-600 hover:bg-purple-500",icon:"text-purple-400",border:"border-purple-500/30"}}[d];return u.jsxs(KH.Provider,{value:{confirm:a},children:[t,e.isOpen&&u.jsxs("div",{className:"fixed inset-0 flex items-center justify-center p-4",style:{zIndex:99999},role:"dialog","aria-modal":"true","aria-label":"Confirmation dialog",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:l}),u.jsxs("div",{className:`relative bg-gray-900 border ${h.border} rounded-2xl p-6 max-w-sm w-full shadow-2xl`,style:{animation:"confirmIn 150ms ease-out"},children:[u.jsxs("div",{className:"flex items-start gap-4 mb-5",children:[u.jsx("div",{className:`p-2 rounded-xl bg-white/5 ${h.icon} shrink-0`,children:u.jsx(Is,{className:"w-5 h-5"})}),u.jsxs("div",{children:[e.options.title&&u.jsx("h3",{className:"font-bold text-white text-sm mb-1",children:e.options.title}),u.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e.options.message})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:l,className:"flex-1 py-2.5 bg-white/5 border border-white/10 text-gray-300 rounded-xl text-sm font-bold hover:bg-white/10 transition",children:e.options.cancelLabel||"Cancel"}),u.jsx("button",{ref:i,onClick:s,className:`flex-1 py-2.5 ${h.bg} text-white rounded-xl text-sm font-bold transition`,children:e.options.confirmLabel||"Confirm"})]})]})]}),u.jsx("style",{children:`
                @keyframes confirmIn {
                    from { opacity: 0; transform: scale(0.95); }
                    to { opacity: 1; transform: scale(1); }
                }
            `})]})},kR={INFO:{bg:"bg-blue-500/10",border:"border-blue-500/30",text:"text-blue-400",icon:u.jsx(Pq,{className:"w-4 h-4"})},WARNING:{bg:"bg-yellow-500/10",border:"border-yellow-500/30",text:"text-yellow-400",icon:u.jsx(Is,{className:"w-4 h-4"})},URGENT:{bg:"bg-red-500/10",border:"border-red-500/30",text:"text-red-400",icon:u.jsx(Ooe,{className:"w-4 h-4"})}},Lue=({announcements:t,studentIds:e})=>{const{confirm:r}=bu(),n=ia(),[i,a]=P.useState(!1),[s,l]=P.useState(""),[d,h]=P.useState(""),[p,m]=P.useState("INFO"),[y,b]=P.useState("GLOBAL"),T=async()=>{if(!(!s.trim()||!d.trim()))try{await $e.createAnnouncement({title:s.trim(),content:d.trim(),classType:y,priority:p,createdAt:new Date().toISOString(),expiresAt:null,createdBy:"ADMIN"}),await $e.notifyUsers(e,"ANNOUNCEMENT",s.trim(),d.trim().slice(0,100)),l(""),h(""),a(!1),n.success("Announcement broadcast sent.")}catch{n.error("Failed to create announcement.")}},S=async w=>{await r({message:"Delete this announcement?",confirmLabel:"Delete"})&&await $e.deleteAnnouncement(w)};return u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[u.jsx(yb,{className:"w-5 h-5 text-orange-400"}),"Announcements"]}),u.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-1.5 px-3 py-1.5 bg-orange-600 hover:bg-orange-500 text-white rounded-xl text-xs font-bold transition",children:[u.jsx(Ul,{className:"w-3.5 h-3.5"})," Broadcast"]})]}),t.length===0?u.jsxs("div",{className:"text-center py-6 text-gray-500 italic",children:[u.jsx(yb,{className:"w-10 h-10 mx-auto mb-2 opacity-20"}),"No active announcements."]}):u.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto custom-scrollbar pr-1",children:t.map(w=>{const N=kR[w.priority]||kR.INFO;return u.jsxs("div",{className:`p-3 ${N.bg} border ${N.border} rounded-xl flex justify-between items-start`,children:[u.jsxs("div",{className:"flex gap-2 items-start",children:[u.jsx("div",{className:`mt-0.5 ${N.text}`,children:N.icon}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-bold text-white",children:w.title}),u.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:w.content}),u.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[w.classType==="GLOBAL"?"All Classes":w.classType,"  ",new Date(w.createdAt).toLocaleDateString()]})]})]}),u.jsx("button",{onClick:()=>S(w.id),className:"p-1 text-gray-500 hover:text-red-400 transition shrink-0",children:u.jsx(na,{className:"w-3.5 h-3.5"})})]},w.id)})}),u.jsx(os,{isOpen:i,onClose:()=>a(!1),title:"New Announcement",maxWidth:"max-w-md",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Title"}),u.jsx("input",{type:"text",value:s,onChange:w=>l(w.target.value),placeholder:"Quiz moved to Friday...",className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white focus:outline-none focus:border-purple-500 transition",maxLength:80})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Message"}),u.jsx("textarea",{value:d,onChange:w=>h(w.target.value),placeholder:"Details...",rows:3,className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white focus:outline-none focus:border-purple-500 transition resize-none",maxLength:300})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Priority"}),u.jsxs("select",{value:p,onChange:w=>m(w.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white",children:[u.jsx("option",{value:"INFO",children:"Info"}),u.jsx("option",{value:"WARNING",children:"Warning"}),u.jsx("option",{value:"URGENT",children:"Urgent"})]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Audience"}),u.jsxs("select",{value:y,onChange:w=>b(w.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl px-3 py-2 text-sm text-white",children:[u.jsx("option",{value:"GLOBAL",children:"All Classes"}),Object.values(Dr).filter(w=>w!=="Uncategorized").map(w=>u.jsx("option",{value:w,children:w},w))]})]})]}),u.jsx("button",{onClick:T,disabled:!s.trim()||!d.trim(),className:"w-full bg-orange-600 hover:bg-orange-500 disabled:opacity-40 disabled:cursor-not-allowed text-white py-3 rounded-2xl font-bold transition",children:"Broadcast Announcement"})]})})]})},OR=["Hydrogen","Helium","Lithium","Beryllium","Boron","Carbon","Nitrogen","Oxygen","Fluorine","Neon","Sodium","Magnesium","Aluminum","Silicon","Phosphorus","Sulfur","Chlorine","Argon","Potassium","Calcium","Scandium","Titanium","Vanadium","Chromium","Manganese","Iron","Cobalt","Nickel","Copper","Zinc","Gallium","Germanium","Arsenic","Selenium","Bromine","Krypton","Rubidium","Strontium","Yttrium","Zirconium"],Bue=["I","II","III","IV","V"],Uue=t=>[2,10,18,36,54,86].includes(t)?{color:"border-fuchsia-500 text-fuchsia-400",glow:"shadow-fuchsia-500/50"}:[9,17,35,53,85].includes(t)?{color:"border-yellow-400 text-yellow-400",glow:"shadow-yellow-400/40"}:[3,11,19,37,55,87].includes(t)?{color:"border-red-500 text-red-500",glow:"shadow-red-500/40"}:{color:"border-cyan-400 text-cyan-400",glow:"shadow-cyan-400/30"},Ph=t=>{const e=Math.floor((t-1)/5),r=(t-1)%5,n=Math.min(e,OR.length-1),i=OR[n]||"Unknownium",a=Bue[r],s=n+1,l=Uue(s);return{rankName:`${i} ${a}`,tierColor:l.color,tierGlow:l.glow}},ed={RECALIBRATE:5,REFORGE:25,OPTIMIZE:50},IR=t=>{const e=t.affixes.reduce((i,a)=>i+a.tier,0),r=t.affixes.length>0?e/t.affixes.length:1;let n=0;switch(t.rarity){case"COMMON":n=2;break;case"UNCOMMON":n=5;break;case"RARE":n=15;break;case"UNIQUE":n=50;break}return Math.floor(n*(1+r*.2))},FE=t=>{var i;const e={tech:10,focus:10,analysis:10,charisma:10};if(!((i=t.gamification)!=null&&i.equipped))return e;const r=t.gamification.equipped;return Object.values(r).filter(Boolean).forEach(a=>{a.stats&&Object.entries(a.stats).forEach(([s,l])=>{e[s]+=l})}),e},Dh=t=>{if(!t)return 0;let e=0;const r=Object.values(t).filter(Boolean);return r.length===0?0:(r.forEach(n=>{let i=n.affixes.map(l=>l.tier);n.rarity==="UNIQUE"&&i.length===0&&(i=[10]);const a=i.length>0?i.reduce((l,d)=>l+d,0)/i.length:1;let s=0;switch(n.rarity){case"COMMON":s=0;break;case"UNCOMMON":s=10;break;case"RARE":s=30;break;case"UNIQUE":s=60;break}e+=a*10+s}),Math.floor(e))},Vn=t=>{switch(t){case"COMMON":return{border:"border-slate-500",text:"text-slate-300",bg:"bg-slate-500/10",glow:"shadow-none",shimmer:""};case"UNCOMMON":return{border:"border-emerald-500",text:"text-emerald-400",bg:"bg-emerald-500/10",glow:"shadow-emerald-500/20",shimmer:"rarity-shimmer-uncommon"};case"RARE":return{border:"border-yellow-400",text:"text-yellow-300",bg:"bg-yellow-500/10",glow:"shadow-yellow-500/30",shimmer:"rarity-shimmer-rare"};case"UNIQUE":return{border:"border-orange-500",text:"text-orange-400",bg:"bg-orange-500/10",glow:"shadow-orange-500/40",shimmer:"rarity-shimmer-unique"};default:return{border:"border-slate-500",text:"text-slate-300",bg:"bg-slate-500/10",glow:"shadow-none",shimmer:""}}};function zd(t,e){var i;const r=t.gamification;if(!r)return{inventory:[],equipped:{},appearance:{bodyType:"A",hue:0}};const n=(i=r.classProfiles)==null?void 0:i[e];return n?{inventory:n.inventory||[],equipped:n.equipped||{},appearance:n.appearance||{bodyType:"A",hue:0}}:{inventory:r.inventory||[],equipped:r.equipped||{},appearance:r.appearance||{bodyType:"A",hue:0}}}const zue=({student:t,submissions:e,assignments:r,bucketProfiles:n=[],onClose:i})=>{var k,j,$,I,L,E,A,R,F,D;const a=((k=t.gamification)==null?void 0:k.level)||1,s=((j=t.gamification)==null?void 0:j.xp)||0,l=(($=t.gamification)==null?void 0:$.currency)||0,d=Ph(a),h=FE(t),p=t.enrolledClasses||(t.classType?[t.classType]:[]),m=((L=(I=t.gamification)==null?void 0:I.completedQuests)==null?void 0:L.length)||0,y=((A=(E=t.gamification)==null?void 0:E.activeQuests)==null?void 0:A.filter(B=>B.status==="ACCEPTED"||B.status==="DEPLOYED").length)||0,b=P.useMemo(()=>p.map(B=>{var ge,ce;const M=((ce=(ge=t.gamification)==null?void 0:ge.classXp)==null?void 0:ce[B])||0,Q=zd(t,B),Z=Dh(Q.equipped),W=Q.inventory.length,J=e.filter(X=>{const te=r.find(ue=>ue.id===X.assignmentId);return(te==null?void 0:te.classType)===B}),Y=Math.round(J.reduce((X,te)=>{var ue;return X+(((ue=te.metrics)==null?void 0:ue.engagementTime)||0)},0)/60);return{cls:B,classXp:M,gearScore:Z,inventoryCount:W,resourcesViewed:J.length,totalTime:Y}}),[t,e,r,p]),T=P.useMemo(()=>e.filter(B=>B.submittedAt).sort((B,M)=>new Date(M.submittedAt).getTime()-new Date(B.submittedAt).getTime()).slice(0,10).map(B=>{var M,Q;return{...B,assignmentTitle:((M=r.find(Z=>Z.id===B.assignmentId))==null?void 0:M.title)||B.assignmentTitle,classType:((Q=r.find(Z=>Z.id===B.assignmentId))==null?void 0:Q.classType)||"Unknown"}}),[e,r]),S=Math.round(e.reduce((B,M)=>{var Q;return B+(((Q=M.metrics)==null?void 0:Q.engagementTime)||0)},0)/60),w=P.useMemo(()=>{const B=new Set;e.forEach(Y=>{if(Y.submittedAt){const ge=new Date(Y.submittedAt),ce=ge.getFullYear(),X=new Date(ce,0,1),te=Math.ceil(((ge.getTime()-X.getTime())/864e5+X.getDay()+1)/7);B.add(`${ce}-W${te}`)}});const M=new Date,Q=M.getFullYear(),Z=new Date(Q,0,1),W=Math.ceil(((M.getTime()-Z.getTime())/864e5+Z.getDay()+1)/7);let J=0;for(let Y=W;Y>0&&B.has(`${Q}-W${Y}`);Y--)J++;return J},[e]),N=P.useMemo(()=>{const B=[],M=new Date;for(let ce=6;ce>=0;ce--){const X=new Date(M);X.setDate(X.getDate()-ce);const te=X.toISOString().split("T")[0],ue=e.filter(ae=>{var pe;return(pe=ae.submittedAt)==null?void 0:pe.startsWith(te)}),oe=ue.reduce((ae,pe)=>{var ye;return ae+(((ye=pe.metrics)==null?void 0:ye.engagementTime)||0)},0);B.push({label:X.toLocaleDateString([],{weekday:"short"}),time:Math.round(oe/60),subs:ue.length})}const Q=B.slice(4).reduce((ce,X)=>ce+X.time,0),Z=B.slice(0,4).reduce((ce,X)=>ce+X.time,0),W=Q/3,J=Z/4,Y=W>J*1.2?"up":W<J*.6?"down":"flat",ge=Math.max(1,...B.map(ce=>ce.time));return{days:B,trend:Y,maxTime:ge}},[e]);return u.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:i}),u.jsxs("div",{className:"relative w-full max-w-lg bg-[#12132a]/98 border-l border-white/10 h-full overflow-y-auto custom-scrollbar animate-in slide-in-from-right duration-300 shadow-2xl",children:[u.jsxs("div",{className:"sticky top-0 z-10 bg-[#12132a]/95 backdrop-blur-md border-b border-white/5 p-6 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`w-14 h-14 rounded-2xl p-0.5 bg-gradient-to-tr from-white/10 to-white/5 ${d.tierGlow} shadow-xl`,children:t.avatarUrl?u.jsx("img",{src:t.avatarUrl,alt:t.name,className:`w-full h-full rounded-2xl border-2 object-cover ${d.tierColor.split(" ")[0]}`}):u.jsx("div",{className:`w-full h-full rounded-2xl border-2 ${d.tierColor.split(" ")[0]} bg-purple-500/20 flex items-center justify-center text-xl font-bold text-white`,children:t.name.charAt(0)})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-bold text-white",children:t.name}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-[10px] font-mono uppercase font-bold tracking-widest ${d.tierColor.split(" ")[1]}`,children:d.rankName}),u.jsxs("span",{className:"text-[10px] text-gray-500",children:[" Lv.",a]})]}),((R=t.gamification)==null?void 0:R.codename)&&u.jsxs("div",{className:"text-[10px] text-purple-400 italic",children:['"',t.gamification.codename,'"']})]})]}),u.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-xl transition",children:u.jsx(ds,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[u.jsx(Ii,{className:"w-5 h-5 text-purple-400 mx-auto mb-1"}),u.jsx("div",{className:"text-lg font-bold text-white",children:s.toLocaleString()}),u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Total XP"})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[u.jsx(Os,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),u.jsxs("div",{className:"text-lg font-bold text-white",children:[S,"m"]}),u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Total Time"})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[u.jsx(so,{className:"w-5 h-5 text-emerald-400 mx-auto mb-1"}),u.jsx("div",{className:"text-lg font-bold text-white",children:e.length}),u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Resources"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[u.jsx(hh,{className:"w-5 h-5 text-orange-400 mx-auto mb-1"}),u.jsx("div",{className:"text-lg font-bold text-white",children:m}),u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Missions"})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[u.jsx(oA,{className:"w-5 h-5 text-yellow-400 mx-auto mb-1"}),u.jsx("div",{className:"text-lg font-bold text-white",children:l}),u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Cyber-Flux"})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[u.jsx(bE,{className:"w-5 h-5 text-red-400 mx-auto mb-1"}),u.jsxs("div",{className:"text-lg font-bold text-white",children:[w,"w"]}),u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest",children:"Streak"})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Operative Stats"}),u.jsx("div",{className:"space-y-2",children:Object.entries(h).map(([B,M])=>u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] text-gray-400 uppercase w-16 font-bold",children:B}),u.jsx("div",{className:"flex-1 h-2 bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-cyan-400 rounded-full transition-all",style:{width:`${Math.min(100,M)}%`}})}),u.jsx("span",{className:"text-xs text-white font-bold w-8 text-right",children:M})]},B))})]}),n.length>0&&(()=>{const B=n[0],M=sd[B.bucket];return M?u.jsxs("div",{className:`border rounded-2xl p-4 ${M.borderColor} ${M.bgColor}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Engagement Bucket"}),u.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${M.color} border ${M.borderColor}`,children:M.label})]}),u.jsx("p",{className:"text-xs text-gray-300 mb-3",children:M.description}),u.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-[10px] text-gray-400 mb-3",children:[u.jsxs("span",{children:["ES: ",B.engagementScore]}),u.jsxs("span",{children:["Subs: ",B.metrics.submissionCount]}),u.jsxs("span",{children:["Days Active: ",B.metrics.activityDays,"/7"]}),u.jsxs("span",{children:["Paste Ratio: ",Math.round(B.metrics.avgPasteRatio*100),"%"]}),u.jsxs("span",{children:["Time: ",Math.round(B.metrics.totalTime/60),"m"]})]}),u.jsxs("div",{className:"bg-black/20 rounded-xl p-3 border border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[u.jsx(Dq,{className:"w-3.5 h-3.5 text-amber-400"}),u.jsx("span",{className:"text-[10px] font-bold text-amber-400 uppercase tracking-widest",children:"Recommended Action"})]}),u.jsx("p",{className:"text-xs text-gray-300 mb-2",children:B.recommendation.action}),u.jsx("div",{className:"flex flex-wrap gap-1.5",children:B.recommendation.categories.map(Q=>u.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-bold bg-white/5 border border-white/10 text-gray-300",children:Q},Q))})]}),(()=>{const Q=r.filter(Z=>Z.classType===B.classType&&Z.status==="ACTIVE"&&B.recommendation.categories.includes(Z.category||"Supplemental")).slice(0,3);return Q.length===0?null:u.jsxs("div",{className:"mt-3",children:[u.jsx("div",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-widest mb-1.5",children:"Suggested Resources"}),u.jsx("div",{className:"space-y-1",children:Q.map(Z=>u.jsxs("div",{className:"flex items-center gap-2 py-1 text-xs",children:[u.jsx("span",{className:"px-1.5 py-0.5 rounded text-[8px] font-bold bg-white/5 text-gray-400",children:Z.category}),u.jsx("span",{className:"text-white truncate",children:Z.title})]},Z.id))})]})})()]}):null})(),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"7-Day Engagement"}),u.jsxs("div",{className:"flex items-center gap-1",children:[N.trend==="up"&&u.jsx(_E,{className:"w-3.5 h-3.5 text-green-400"}),N.trend==="down"&&u.jsx($oe,{className:"w-3.5 h-3.5 text-red-400"}),N.trend==="flat"&&u.jsx(Coe,{className:"w-3.5 h-3.5 text-gray-400"}),u.jsx("span",{className:`text-[10px] font-bold uppercase ${N.trend==="up"?"text-green-400":N.trend==="down"?"text-red-400":"text-gray-400"}`,children:N.trend==="up"?"Trending Up":N.trend==="down"?"Declining":"Stable"})]})]}),u.jsx("div",{className:"flex items-end gap-1 h-16",children:N.days.map((B,M)=>{const Q=N.maxTime>0?Math.max(2,B.time/N.maxTime*100):2,Z=M===N.days.length-1;return u.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1 group relative",children:[u.jsx("div",{className:`w-full rounded-t transition-all ${B.time>0?Z?"bg-purple-400":"bg-purple-500/60":"bg-white/5"}`,style:{height:`${Q}%`}}),u.jsx("span",{className:"text-[8px] text-gray-500",children:B.label}),u.jsxs("div",{className:"absolute bottom-full mb-1 hidden group-hover:block bg-black/90 border border-white/10 rounded px-2 py-1 text-[10px] text-white whitespace-nowrap z-10 pointer-events-none",children:[B.time,"m  ",B.subs," sub",B.subs!==1?"s":""]})]},M)})})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Class Performance"}),u.jsx("div",{className:"space-y-3",children:b.map(B=>u.jsxs("div",{className:"bg-black/20 rounded-xl p-3 border border-white/5",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-sm font-bold text-white",children:B.cls}),u.jsxs("span",{className:"text-xs text-purple-400 font-bold",children:[B.classXp.toLocaleString()," XP"]})]}),u.jsxs("div",{className:"flex gap-4 text-[10px] text-gray-400",children:[u.jsxs("span",{children:[u.jsx(zl,{className:"w-3 h-3 inline mr-0.5"}),B.gearScore," GS"]}),u.jsxs("span",{children:[u.jsx(oA,{className:"w-3 h-3 inline mr-0.5"}),B.inventoryCount," items"]}),u.jsxs("span",{children:[u.jsx(so,{className:"w-3 h-3 inline mr-0.5"}),B.resourcesViewed," viewed"]}),u.jsxs("span",{children:[u.jsx(Os,{className:"w-3 h-3 inline mr-0.5"}),B.totalTime,"m"]})]})]},B.cls))})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Recent Activity"}),T.length===0?u.jsx("p",{className:"text-xs text-gray-500 italic text-center py-4",children:"No recorded activity."}):u.jsx("div",{className:"space-y-2",children:T.map(B=>{var Q;const M=Math.round((((Q=B.metrics)==null?void 0:Q.engagementTime)||0)/60);return u.jsxs("div",{className:"flex items-center gap-3 py-2 border-b border-white/5 last:border-0",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${M>=5?"bg-green-500":M>=1?"bg-yellow-500":"bg-gray-500"}`}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-xs text-white font-bold truncate",children:B.assignmentTitle}),u.jsxs("div",{className:"text-[10px] text-gray-500",children:[B.classType,"  ",M,"m engaged"]})]}),u.jsx("div",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:B.submittedAt?new Date(B.submittedAt).toLocaleDateString([],{month:"short",day:"numeric"}):""})]},B.id)})})]}),y>0&&u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Active Missions"}),u.jsx("div",{className:"space-y-2",children:(D=(F=t.gamification)==null?void 0:F.activeQuests)==null?void 0:D.filter(B=>B.status==="ACCEPTED"||B.status==="DEPLOYED").map(B=>u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/5 last:border-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(hh,{className:`w-3.5 h-3.5 ${B.status==="DEPLOYED"?"text-yellow-400":"text-blue-400"}`}),u.jsx("span",{className:"text-xs text-white",children:B.questId})]}),u.jsx("span",{className:`text-[10px] font-bold uppercase ${B.status==="DEPLOYED"?"text-yellow-400":"text-blue-400"}`,children:B.status})]},B.questId))})]}),u.jsxs("div",{className:"text-[10px] text-gray-600 space-y-1 pb-4",children:[u.jsxs("div",{children:["Email: ",t.email]}),u.jsxs("div",{children:["Section: ",t.section||"Unassigned"]}),u.jsxs("div",{children:["Enrolled: ",p.join(", ")||"None"]}),u.jsxs("div",{children:["Last login: ",t.lastLoginAt?new Date(t.lastLoginAt).toLocaleString():"Never"]}),u.jsxs("div",{children:["Created: ",t.createdAt?new Date(t.createdAt).toLocaleDateString():""]}),t.mutedUntil&&new Date(t.mutedUntil)>new Date&&u.jsxs("div",{className:"text-orange-400 font-bold",children:[" Muted until ",new Date(t.mutedUntil).toLocaleString()]})]})]})]})]})},$ue=({users:t,assignments:e=[],submissions:r=[]})=>{const{confirm:n}=bu(),[i,a]=P.useState(null),[s,l]=P.useState([]),[d,h]=P.useState([]),[p,m]=P.useState([]),[y,b]=P.useState([]),[T,S]=P.useState(Date.now()),[w,N]=P.useState(null),[k,j]=P.useState("xp"),[$,I]=P.useState("desc"),L=oe=>{k===oe?I(ae=>ae==="asc"?"desc":"asc"):(j(oe),I("asc"))},E=({label:oe,col:ae,className:pe})=>u.jsx("th",{className:`cursor-pointer select-none group p-3 ${pe??""}`,onClick:()=>L(ae),children:u.jsxs("div",{className:`flex items-center gap-1 ${pe!=null&&pe.includes("text-center")?"justify-center":pe!=null&&pe.includes("text-right")?"justify-end":"justify-start"}`,children:[u.jsx("span",{children:oe}),u.jsxs("span",{className:"flex flex-col gap-px",children:[u.jsx(gE,{className:`w-2.5 h-2.5 -mb-0.5 ${k===ae&&$==="asc"?"text-purple-400":"text-gray-600 group-hover:text-gray-400"} transition`}),u.jsx(za,{className:`w-2.5 h-2.5 -mt-0.5 ${k===ae&&$==="desc"?"text-purple-400":"text-gray-600 group-hover:text-gray-400"} transition`})]})]})});P.useEffect(()=>{const oe=$e.subscribeToChatFlags(l),ae=$e.subscribeToAnnouncements(h),pe=$e.subscribeToStudentAlerts(m),ye=$e.subscribeToStudentBuckets(b),Xe=setInterval(()=>S(Date.now()),6e4);return()=>{oe(),ae(),pe(),ye(),clearInterval(Xe)}},[]);const A=t.filter(oe=>oe.role==="STUDENT"),R=P.useMemo(()=>{const oe=new Map;for(const ae of p){const pe=oe.get(ae.studentId),ye={CRITICAL:4,HIGH:3,MODERATE:2,LOW:1};(!pe||(ye[ae.riskLevel]||0)>(ye[pe.riskLevel]||0))&&oe.set(ae.studentId,ae)}return oe},[p]),F=P.useMemo(()=>{const oe=new Map;for(const ae of y)oe.has(ae.studentId)||oe.set(ae.studentId,ae);return oe},[y]),D=P.useMemo(()=>{const oe={THRIVING:0,ON_TRACK:0,COASTING:0,SPRINTING:0,STRUGGLING:0,DISENGAGING:0,INACTIVE:0,COPYING:0},ae=new Set;for(const pe of y)ae.has(pe.studentId)||(ae.add(pe.studentId),oe[pe.bucket]!==void 0&&oe[pe.bucket]++);return oe},[y]),B=A.length,M=Math.round(A.reduce((oe,ae)=>{var pe;return oe+(((pe=ae.stats)==null?void 0:pe.totalTime)||0)},0)/(B||1)),Q=A.reduce((oe,ae)=>{var pe;return oe+(((pe=ae.stats)==null?void 0:pe.problemsCompleted)||0)},0),Z=A.reduce((oe,ae)=>{var pe;return oe+(((pe=ae.gamification)==null?void 0:pe.xp)||0)},0),W=A.filter(oe=>oe.mutedUntil&&new Date(oe.mutedUntil).getTime()>T),J=async oe=>{await n({message:"Lift silence sanction for this operative?",confirmLabel:"Unmute",variant:"info"})&&await $e.muteUser(oe,0)},Y=[{label:"15 min",minutes:15},{label:"1 hour",minutes:60},{label:"24 hours",minutes:1440},{label:"Indefinite",minutes:$e.INDEFINITE_MUTE}],ge=async(oe,ae)=>{await $e.muteUser(oe,ae),N(null)},ce=async(oe,ae)=>{const pe=new Date(ae).getTime(),ye=new Date(Math.max(pe,Date.now())+3600*1e3),Xe=Math.ceil((ye.getTime()-Date.now())/6e4);await $e.muteUser(oe,Xe)},X=({label:oe,value:ae,icon:pe,color:ye})=>u.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-2xl relative overflow-hidden group hover:border-white/20 transition-all duration-300",children:[u.jsx("div",{className:`absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-40 transition-opacity ${ye}`,children:pe}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:ae}),u.jsx("div",{className:"text-sm font-medium text-gray-400 uppercase tracking-wider",children:oe})]}),u.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r ${ye}`})]}),te=oe=>{const pe=new Date(oe).getTime()-T;if(pe<=0)return"Expired";const ye=Math.ceil(pe/6e4);return ye>60?`${Math.ceil(ye/60)} hrs`:`${ye} mins`},ue=oe=>{if(!oe)return"Never";const ae=new Date(oe),pe=Date.now()-ae.getTime(),ye=Math.floor(pe/6e4);if(ye<1)return"Just now";if(ye<60)return`${ye}m ago`;const Xe=Math.floor(ye/60);return Xe<24?`${Xe}h ago`:ae.toLocaleDateString()};return u.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-10",children:[u.jsx("div",{className:"flex justify-between items-end",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Teacher Dashboard"}),u.jsx("p",{className:"text-gray-400",children:"Engagement analytics and operational overview."})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(X,{label:"Total Students",value:B,icon:u.jsx(uu,{className:"w-12 h-12"}),color:"from-blue-500 to-cyan-400"}),u.jsx(X,{label:"Total XP Awarded",value:Z.toLocaleString(),icon:u.jsx(Ii,{className:"w-12 h-12"}),color:"from-purple-500 to-pink-500"}),u.jsx(X,{label:"Resources Viewed",value:Q,icon:u.jsx(vE,{className:"w-12 h-12"}),color:"from-emerald-500 to-teal-400"}),u.jsx(X,{label:"Avg Active Time",value:`${M}m`,icon:u.jsx(Os,{className:"w-12 h-12"}),color:"from-amber-500 to-orange-400"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:`border rounded-3xl p-6 backdrop-blur-md transition-colors ${s.length>0?"bg-red-900/10 border-red-500/30":"bg-white/5 border-white/10"}`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("h3",{className:`text-xl font-bold flex items-center gap-2 ${s.length>0?"text-red-400":"text-white"}`,children:[s.length>0?u.jsx(Is,{className:"w-5 h-5"}):u.jsx(h2,{className:"w-5 h-5 text-gray-400"}),"Moderation Queue"]}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${s.length>0?"bg-red-500 text-white animate-pulse":"bg-green-500/20 text-green-400"}`,children:s.length>0?`${s.length} Issues`:"Secure"})]}),s.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500 italic",children:[u.jsx(gb,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),"No active alerts. Comms channels are clear."]}):u.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto custom-scrollbar pr-2",children:s.map(oe=>u.jsxs("div",{className:"bg-black/20 border border-red-500/20 p-3 rounded-xl",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-sm font-bold text-white",children:[oe.senderName," ",u.jsxs("span",{className:"text-xs text-gray-500 font-normal",children:["in ",oe.classType]})]}),u.jsxs("div",{className:"text-xs text-red-300 italic mt-1",children:['"',oe.content,'"']})]}),u.jsx("div",{className:"text-[10px] text-gray-500 whitespace-nowrap ml-2",children:new Date(oe.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsxs("button",{onClick:async()=>{await $e.resolveFlag(oe.id),oe.messageId&&await $e.unflagMessage(oe.messageId).catch(()=>{})},className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 bg-emerald-600/20 hover:bg-emerald-600/40 border border-emerald-500/30 text-emerald-400 rounded-lg text-[11px] font-bold transition",children:[u.jsx(Zg,{className:"w-3 h-3"})," Dismiss"]}),u.jsxs("button",{onClick:async()=>{await n({message:"Delete flagged message and resolve?",confirmLabel:"Delete"})&&(await $e.resolveFlag(oe.id),oe.messageId&&await $e.deleteMessage(oe.messageId).catch(()=>{}))},className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 bg-red-600/20 hover:bg-red-600/40 border border-red-500/30 text-red-400 rounded-lg text-[11px] font-bold transition",children:[u.jsx(na,{className:"w-3 h-3"})," Delete"]}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>N(w===oe.id?null:oe.id),className:"flex items-center justify-center gap-1 px-2 py-1.5 bg-orange-600/20 hover:bg-orange-600/40 border border-orange-500/30 text-orange-400 rounded-lg text-[11px] font-bold transition",title:"Mute",children:u.jsx(vb,{className:"w-3 h-3"})}),w===oe.id&&u.jsxs("div",{className:"absolute bottom-full mb-1 right-0 bg-black/95 border border-orange-500/30 rounded-xl p-1 shadow-2xl z-50 animate-in zoom-in-95 whitespace-nowrap",children:[u.jsxs("div",{className:"text-[9px] text-gray-500 px-2 py-1 font-bold uppercase",children:["Mute ",oe.senderName]}),Y.map(ae=>u.jsx("button",{onClick:()=>ge(oe.senderId,ae.minutes),className:"block w-full text-left px-3 py-1.5 text-xs text-orange-300 hover:bg-orange-500/20 rounded-lg transition",children:ae.label},ae.minutes))]})]})]})]},oe.id))})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-md",children:[u.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[u.jsx(vb,{className:"w-5 h-5 text-orange-400"}),"Silenced Operatives"]}),W.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500 italic",children:[u.jsx(uu,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),"No active silence sanctions."]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-white/10 text-[10px] uppercase font-bold text-gray-500",children:[u.jsx("th",{className:"pb-2",children:"Operative"}),u.jsx("th",{className:"pb-2",children:"Remaining"}),u.jsx("th",{className:"pb-2 text-right",children:"Protocol"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:W.map(oe=>u.jsxs("tr",{className:"group hover:bg-white/5 transition",children:[u.jsxs("td",{className:"py-3",children:[u.jsx("div",{className:"text-sm font-bold text-white",children:oe.name}),u.jsx("div",{className:"text-[10px] text-gray-500",children:oe.classType})]}),u.jsx("td",{className:"py-3",children:u.jsx("span",{className:"bg-orange-500/20 text-orange-300 px-2 py-1 rounded text-xs font-mono",children:te(oe.mutedUntil)})}),u.jsx("td",{className:"py-3 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>ce(oe.id,oe.mutedUntil),className:"p-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-gray-300 hover:text-white transition",title:"Extend +1hr",children:u.jsx(bb,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:()=>J(oe.id),className:"p-1.5 rounded-lg bg-green-500/20 hover:bg-green-500/30 text-green-400 transition",title:"Unmute",children:u.jsx(gb,{className:"w-3.5 h-3.5"})})]})})]},oe.id))})]})})]})]}),p.length>0&&u.jsxs("div",{className:"bg-amber-900/10 border border-amber-500/30 rounded-3xl p-6 backdrop-blur-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-amber-400 flex items-center gap-2",children:[u.jsx(OI,{className:"w-5 h-5"}),"Early Warning System"]}),u.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase bg-amber-500/20 text-amber-300",children:[p.length," Alert",p.length!==1?"s":""]})]}),u.jsx("div",{className:"space-y-3 max-h-72 overflow-y-auto custom-scrollbar pr-2",children:p.map(oe=>{const ae={CRITICAL:"border-red-500/40 bg-red-900/20",HIGH:"border-orange-500/30 bg-orange-900/10",MODERATE:"border-yellow-500/20 bg-yellow-900/10",LOW:"border-blue-500/20 bg-blue-900/10"},pe={CRITICAL:"bg-red-500 text-white",HIGH:"bg-orange-500 text-white",MODERATE:"bg-yellow-500/80 text-black",LOW:"bg-blue-500/60 text-white"},ye=oe.bucket?sd[oe.bucket]:null;return u.jsx("div",{className:`border p-4 rounded-xl ${ae[oe.riskLevel]||ae.LOW}`,children:u.jsxs("div",{className:"flex justify-between items-start gap-3",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[u.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${pe[oe.riskLevel]||pe.LOW}`,children:oe.riskLevel}),ye&&u.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${ye.bgColor} ${ye.color} ${ye.borderColor} border`,children:ye.label}),u.jsx("span",{className:"text-sm font-bold text-white truncate",children:oe.studentName}),u.jsx("span",{className:"text-[10px] text-gray-500",children:oe.classType})]}),u.jsx("p",{className:"text-xs text-gray-300 leading-relaxed",children:oe.message}),ye&&u.jsx("p",{className:"text-[10px] text-gray-400 mt-1 italic",children:ye.description}),u.jsxs("div",{className:"flex gap-4 mt-2 text-[10px] text-gray-500",children:[u.jsxs("span",{children:["ES: ",oe.engagementScore]}),u.jsxs("span",{children:["Class Avg: ",oe.classMean]}),u.jsx("span",{children:new Date(oe.createdAt).toLocaleDateString()})]})]}),u.jsxs("div",{className:"flex gap-2 shrink-0",children:[u.jsx("button",{onClick:()=>a(oe.studentId),className:"px-2 py-1.5 bg-white/5 hover:bg-white/10 border border-white/10 text-gray-300 hover:text-white rounded-lg text-[11px] font-bold transition",children:"View"}),u.jsx("button",{onClick:async()=>{await $e.dismissAlert(oe.id)},className:"px-2 py-1.5 bg-emerald-600/20 hover:bg-emerald-600/40 border border-emerald-500/30 text-emerald-400 rounded-lg text-[11px] font-bold transition",children:"Dismiss"})]})]})},oe.id)})})]}),y.length>0&&u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[u.jsx(OI,{className:"w-5 h-5 text-cyan-400"}),"Student Engagement Buckets"]}),u.jsxs("span",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest",children:[y.length," profile",y.length!==1?"s":""," across classes"]})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.keys(sd).map(oe=>{const ae=sd[oe],pe=D[oe];return u.jsxs("div",{className:`border rounded-xl p-3 ${ae.borderColor} ${ae.bgColor} transition hover:scale-[1.02]`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:`text-xs font-bold ${ae.color}`,children:ae.label}),u.jsx("span",{className:"text-lg font-bold text-white",children:pe})]}),u.jsx("p",{className:"text-[9px] text-gray-400 leading-tight",children:ae.description})]},oe)})}),(()=>{const oe=Object.values(D).reduce((ae,pe)=>ae+pe,0);return oe===0?null:u.jsx("div",{className:"mt-4 flex h-3 rounded-full overflow-hidden bg-white/5",children:Object.keys(sd).map(ae=>{const pe=D[ae]/oe*100;if(pe===0)return null;const ye={THRIVING:"bg-emerald-500",ON_TRACK:"bg-blue-500",COASTING:"bg-yellow-500",SPRINTING:"bg-orange-500",STRUGGLING:"bg-purple-500",DISENGAGING:"bg-red-500",INACTIVE:"bg-gray-500",COPYING:"bg-rose-500"};return u.jsx("div",{className:`${ye[ae]||"bg-gray-500"} transition-all`,style:{width:`${pe}%`},title:`${sd[ae].label}: ${D[ae]} (${Math.round(pe)}%)`},ae)})})})()]}),u.jsx("div",{className:"mt-8",children:u.jsx(Lue,{announcements:d,studentIds:A.map(oe=>oe.id)})}),u.jsxs("div",{className:"mt-8 bg-white/5 backdrop-blur-md border border-white/10 rounded-3xl p-8",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Student Engagement Ranking"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-white/10 text-gray-400 text-sm",children:[u.jsx(E,{label:"Student",col:"name"}),u.jsx(E,{label:"Class",col:"class"}),u.jsx(E,{label:"Last Seen",col:"lastSeen",className:"text-center"}),u.jsx(E,{label:"Total Time",col:"time",className:"text-center"}),u.jsx(E,{label:"Resources",col:"resources",className:"text-center"}),u.jsx(E,{label:"XP",col:"xp",className:"text-right"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:(()=>{const oe=[...A].sort((pe,ye)=>{var Xe,Ne,le,je,we,ut;switch(k){case"name":return $==="asc"?pe.name.localeCompare(ye.name):ye.name.localeCompare(pe.name);case"class":return $==="asc"?(pe.classType||"").localeCompare(ye.classType||""):(ye.classType||"").localeCompare(pe.classType||"");case"lastSeen":{const Ge=pe.lastLoginAt?new Date(pe.lastLoginAt).getTime():0,lt=ye.lastLoginAt?new Date(ye.lastLoginAt).getTime():0;return $==="asc"?Ge-lt:lt-Ge}case"time":{const Ge=((Xe=pe.stats)==null?void 0:Xe.totalTime)||0,lt=((Ne=ye.stats)==null?void 0:Ne.totalTime)||0;return $==="asc"?Ge-lt:lt-Ge}case"resources":{const Ge=((le=pe.stats)==null?void 0:le.problemsCompleted)||0,lt=((je=ye.stats)==null?void 0:je.problemsCompleted)||0;return $==="asc"?Ge-lt:lt-Ge}case"xp":default:{const Ge=((we=pe.gamification)==null?void 0:we.xp)||0,lt=((ut=ye.gamification)==null?void 0:ut.xp)||0;return $==="asc"?Ge-lt:lt-Ge}}}),ae=Math.max(1,...A.map(pe=>{var ye;return((ye=pe.gamification)==null?void 0:ye.xp)||0}));return oe.map(pe=>{var Rt,Oe,at;const ye=((Rt=pe.gamification)==null?void 0:Rt.xp)||0,Xe=Math.round(ye/ae*100),Ne=pe.lastLoginAt,le=Ne?Date.now()-new Date(Ne).getTime():1/0,je=le<36e5?"text-green-400":le<864e5?"text-yellow-400":le<1/0?"text-red-400":"text-gray-600",we=le<36e5?"bg-green-500":le<864e5?"bg-yellow-500":le<1/0?"bg-red-500":"bg-gray-600",ut=R.get(pe.id),Ge={CRITICAL:"bg-red-500 animate-pulse",HIGH:"bg-orange-500",MODERATE:"bg-yellow-500"},lt=F.get(pe.id),it=lt?sd[lt.bucket]:null;return u.jsxs("tr",{className:`hover:bg-white/5 transition cursor-pointer ${(ut==null?void 0:ut.riskLevel)==="CRITICAL"?"bg-red-900/5":""}`,onClick:()=>a(pe.id),children:[u.jsx("td",{className:"p-3 font-bold text-white",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",children:[pe.avatarUrl?u.jsx("img",{src:pe.avatarUrl,alt:pe.name,className:"w-8 h-8 rounded-full border border-white/10 object-cover"}):u.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500/20 flex items-center justify-center text-xs",children:pe.name.charAt(0)}),u.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 rounded-full border-2 border-[#0f0720] ${we}`})]}),u.jsx("span",{className:"truncate max-w-[120px]",children:pe.name}),ut&&Ge[ut.riskLevel]&&u.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${Ge[ut.riskLevel]}`,title:`${ut.riskLevel} risk: ${ut.reason}`}),it&&u.jsx("span",{className:`px-1.5 py-0.5 rounded text-[8px] font-bold ${it.bgColor} ${it.color} border ${it.borderColor}`,title:it.description,children:it.label})]})}),u.jsx("td",{className:"p-3 text-sm text-gray-400",children:pe.classType}),u.jsx("td",{className:`p-3 text-center text-xs font-mono ${je}`,children:ue(pe.lastLoginAt)}),u.jsxs("td",{className:"p-3 text-center text-white",children:[((Oe=pe.stats)==null?void 0:Oe.totalTime)||0,"m"]}),u.jsx("td",{className:"p-3 text-center text-white",children:((at=pe.stats)==null?void 0:at.problemsCompleted)||0}),u.jsx("td",{className:"p-3 text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("div",{className:"w-16 h-1.5 bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-cyan-400 rounded-full transition-all",style:{width:`${Xe}%`}})}),u.jsx("span",{className:"text-purple-400 font-bold text-sm min-w-[3rem] text-right",children:ye})]})})]},pe.id)})})()})]})})]}),i&&(()=>{const oe=A.find(ae=>ae.id===i);return oe?u.jsx(zue,{student:oe,submissions:r.filter(ae=>ae.userId===i),assignments:e,bucketProfiles:y.filter(ae=>ae.studentId===i),onClose:()=>a(null)}):null})()]})},Vue=({users:t,whitelistedEmails:e,classConfigs:r,onWhitelist:n})=>{const i=ia(),{confirm:a}=bu(),[s,l]=P.useState(new Set),[d,h]=P.useState(Dr.AP_PHYSICS),[p,m]=P.useState(!1),[y,b]=P.useState(!1),[T,S]=P.useState({}),w=(ne,De)=>{S(Ye=>{const et=Ye[ne]||{col:"name",dir:"asc"};return{...Ye,[ne]:{col:De,dir:et.col===De&&et.dir==="asc"?"desc":"asc"}}})},N=({label:ne,col:De,type:Ye,className:et})=>{const Qe=T[Ye]||{col:"name",dir:"asc"},Fe=Qe.col===De;return u.jsx("th",{className:`cursor-pointer select-none group p-4 ${et??""}`,onClick:()=>w(Ye,De),children:u.jsxs("div",{className:`flex items-center gap-1 ${et!=null&&et.includes("text-center")?"justify-center":"justify-start"}`,children:[u.jsx("span",{children:ne}),u.jsxs("span",{className:"flex flex-col gap-px",children:[u.jsx(gE,{className:`w-2.5 h-2.5 -mb-0.5 ${Fe&&Qe.dir==="asc"?"text-purple-400":"text-gray-600 group-hover:text-gray-400"} transition`}),u.jsx(za,{className:`w-2.5 h-2.5 -mt-0.5 ${Fe&&Qe.dir==="desc"?"text-purple-400":"text-gray-600 group-hover:text-gray-400"} transition`})]})]})})},[k,j]=P.useState(""),[$,I]=P.useState(Dr.AP_PHYSICS),[L,E]=P.useState(""),[A,R]=P.useState(""),[F,D]=P.useState(!1),[B,M]=P.useState(!1),[Q,Z]=P.useState({physicsLab:!0,evidenceLocker:!1,leaderboard:!0,physicsTools:!1,communications:!0}),[W,J]=P.useState(10),[Y,ge]=P.useState("single"),[ce,X]=P.useState([]),[te,ue]=P.useState(!1),oe=P.useRef(null),ae=t.filter(ne=>ne.role==="STUDENT"),pe=P.useMemo(()=>e.filter(ne=>!t.some(De=>De.email.toLowerCase()===ne.email.toLowerCase())),[e,t]),ye=P.useMemo(()=>[...Array.from(new Set([...Object.values(Dr).filter(De=>De!==Dr.UNCATEGORIZED),...r.map(De=>De.className)])).sort(),Dr.UNCATEGORIZED],[r]),Xe=ne=>{const De=ae.filter(Qe=>{var Fe,mt;return((Fe=Qe.enrolledClasses)==null?void 0:Fe.includes(ne))||ne===Dr.UNCATEGORIZED&&(((mt=Qe.enrolledClasses)==null?void 0:mt.length)===0||!Qe.enrolledClasses)}),Ye=De.every(Qe=>s.has(Qe.id)),et=new Set(s);De.forEach(Qe=>{Ye?et.delete(Qe.id):et.add(Qe.id)}),l(et)},Ne=ne=>{const De=new Set(s);De.has(ne)?De.delete(ne):De.add(ne),l(De)},le=async()=>{if(s.size>0){const ne=Array.from(s).map(async De=>{const Ye=t.find(et=>et.id===De);if(Ye){const et=Ye.enrolledClasses||[],Qe=Array.from(new Set([...et.filter(Fe=>Fe!==Dr.UNCATEGORIZED),d]));await $e.updateUserEnrolledClasses(De,Qe)}});await Promise.all(ne),l(new Set)}},je=async ne=>{if(s.size>0){if(!await a({message:`Remove ${s.size} students from ${ne}? Students with no remaining classes will lose system access.`,confirmLabel:"Remove"}))return;const De=Array.from(s).map(async Ye=>{const et=t.find(Qe=>Qe.id===Ye);if(et){const Fe=(et.enrolledClasses||[]).filter(mt=>mt!==ne);await $e.updateUserEnrolledClasses(Ye,Fe)}});await Promise.all(De),l(new Set)}},we=async(ne,De)=>{if(await a({message:`Remove ${ne.name} from ${De}? If this is their only class, their system access will be revoked.`,confirmLabel:"Remove"})){const et=(ne.enrolledClasses||[]).filter(Qe=>Qe!==De);await $e.updateUserEnrolledClasses(ne.id,et)}},ut=async(ne,De)=>{await a({title:"Permanent Deletion",message:`PERMANENTLY delete account for ${De}? This will remove all data and logs for this operative.`,confirmLabel:"Delete Forever"})&&await $e.removeUser(ne)},Ge=async ne=>{ne!==Dr.UNCATEGORIZED&&await a({message:`Delete group config ${ne}? Students will remain but the group settings will be lost.`,confirmLabel:"Delete Config"})&&$e.deleteClassConfig(ne)},lt=async ne=>{await a({message:`Cancel invite for ${ne}? Access will be revoked immediately.`,confirmLabel:"Revoke"})&&await $e.removeFromWhitelist(ne)},it=(ne,De)=>{ne!==Dr.UNCATEGORIZED&&(R(ne),D(!0),De?(Z(De.features),J(De.xpPerMinute||10)):(Z({physicsLab:!0,evidenceLocker:!1,leaderboard:!0,physicsTools:!1,communications:!0}),J(10)),b(!0))},Rt=ne=>{ne.preventDefault(),n(k,$),L.trim()&&$e.updateWhitelistSection(k,L.trim()),j(""),E(""),m(!1)},Oe=ne=>{var et;const De=(et=ne.target.files)==null?void 0:et[0];if(!De)return;const Ye=new FileReader;Ye.onload=Qe=>{var Kt,qt;const Fe=(Kt=Qe.target)==null?void 0:Kt.result;if(!Fe)return;const mt=Fe.split(/\r?\n/).filter(Ht=>Ht.trim()),_t=(qt=mt[0])!=null&&qt.toLowerCase().includes("email")?1:0,en=new Set(e.map(Ht=>Ht.email.toLowerCase())),mn=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Sn=mt.slice(_t).map(Ht=>{const oi=Ht.includes("	")?Ht.split("	"):Ht.split(","),li=(oi[0]||"").trim().toLowerCase(),wa=(oi[1]||"").trim()||Dr.AP_PHYSICS,Mi=(oi[2]||"").trim();let jr="pending";return mn.test(li)?en.has(li)&&(jr="duplicate"):jr="invalid",{email:li,classType:wa,section:Mi,status:jr}}).filter(Ht=>Ht.email.length>0);X(Sn)},Ye.readAsText(De),ne.target.value=""},at=async()=>{const ne=ce.filter(Ye=>Ye.status==="pending");if(ne.length===0)return;ue(!0);let De=0;for(const Ye of ne)try{await $e.addToWhitelist(Ye.email,Ye.classType),Ye.section&&await $e.updateWhitelistSection(Ye.email,Ye.section),Ye.status="success",De++}catch{Ye.status="invalid"}X([...ce]),ue(!1),i.success(`${De} operative${De!==1?"s":""} imported successfully.`),ce.every(Ye=>Ye.status==="success"||Ye.status==="duplicate")&&setTimeout(()=>{m(!1),X([]),ge("single")},1500)},ht=async ne=>{if(ne.preventDefault(),!!A){M(!0);try{await $e.saveClassConfig({id:A,className:A,features:Q,xpPerMinute:W}),R(""),b(!1),D(!1)}catch(De){console.error("Failed to save config:",De),i.error("Failed to save class configuration.")}finally{M(!1)}}},de=ne=>{if(!ne)return"Never";const De=new Date(ne),Ye=Date.now()-De.getTime(),et=Math.floor(Ye/6e4);if(et<60)return`${et}m ago`;const Qe=Math.floor(et/60);return Qe<24?`${Qe}h ago`:De.toLocaleDateString()},Ue=ne=>{const De=ne===Dr.UNCATEGORIZED,Ye=T[ne]||{col:"name",dir:"asc"},et=[...ae.filter(Fe=>{var mt;return((mt=Fe.enrolledClasses)==null?void 0:mt.includes(ne))||De&&(!Fe.enrolledClasses||Fe.enrolledClasses.length===0)})].sort((Fe,mt)=>{var _t,en,mn,Sn;switch(Ye.col){case"status":{const Kt=Fe.isWhitelisted?1:0,qt=mt.isWhitelisted?1:0;return Ye.dir==="asc"?Kt-qt:qt-Kt}case"lastSeen":{const Kt=Fe.lastLoginAt?new Date(Fe.lastLoginAt).getTime():0,qt=mt.lastLoginAt?new Date(mt.lastLoginAt).getTime():0;return Ye.dir==="asc"?Kt-qt:qt-Kt}case"xp":{const Kt=((en=(_t=Fe.gamification)==null?void 0:_t.classXp)==null?void 0:en[ne])||0,qt=((Sn=(mn=mt.gamification)==null?void 0:mn.classXp)==null?void 0:Sn[ne])||0;return Ye.dir==="asc"?Kt-qt:qt-Kt}case"name":default:return Ye.dir==="asc"?Fe.name.localeCompare(mt.name):mt.name.localeCompare(Fe.name)}}),Qe=r.find(Fe=>Fe.className===ne);return u.jsxs("div",{className:`mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500 ${De?"opacity-90":""}`,children:[u.jsxs("div",{className:`backdrop-blur-md border-t border-x border-white/10 p-4 rounded-t-2xl flex justify-between items-center ${De?"bg-orange-500/10":"bg-white/5"}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("h3",{className:`font-bold text-lg tracking-wide ${De?"text-orange-300":"text-white"}`,children:[De&&u.jsx(coe,{className:"w-5 h-5 inline mr-2 mb-1"}),ne]}),u.jsxs("span",{className:`border text-[10px] font-bold px-3 py-1 rounded-full ${De?"bg-orange-500/20 text-orange-200 border-orange-500/30":"bg-purple-500/20 text-purple-200 border-purple-500/30"}`,children:[et.length," Registered"]}),!De&&u.jsx("button",{onClick:()=>it(ne,Qe),className:"text-xs text-gray-300 hover:text-white p-1.5 rounded-lg hover:bg-white/10 transition",title:"Edit Class Configuration",children:u.jsx(Fm,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"flex gap-2",children:[s.size>0&&Array.from(s).some(Fe=>et.find(mt=>mt.id===Fe))&&u.jsxs("button",{onClick:()=>je(ne),className:"text-xs text-red-400 bg-red-500/10 px-3 py-1.5 rounded-lg hover:bg-red-500/20 transition flex items-center gap-2",children:[u.jsx(Voe,{className:"w-3 h-3"})," Remove Selected"]}),!De&&u.jsxs("button",{onClick:()=>Ge(ne),className:"text-xs text-gray-500 hover:text-red-400 px-3 py-1.5 rounded-lg hover:bg-white/5 transition flex items-center gap-2",children:[u.jsx(na,{className:"w-3 h-3"}),"Config"]})]})]}),u.jsx("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-b-2xl overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-black/20 border-b border-white/5 text-[10px] uppercase font-bold text-gray-400",children:[u.jsx("th",{className:"w-12 p-4 text-center",children:et.length>0&&u.jsx("button",{onClick:()=>Xe(ne),className:"hover:text-purple-400 transition",children:u.jsx(UI,{className:"w-4 h-4"})})}),u.jsx(N,{label:"Operative",col:"name",type:ne}),u.jsx(N,{label:"System Status",col:"status",type:ne,className:"text-center"}),u.jsx(N,{label:"Last Seen",col:"lastSeen",type:ne,className:"text-center"}),u.jsx(N,{label:"Class XP",col:"xp",type:ne,className:"text-center"}),u.jsx("th",{className:"text-center p-4 w-12",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:et.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500 italic text-sm",children:De?"No restricted operatives found.":"No students registered in this roster yet."})}):et.map(Fe=>{var _t,en,mn,Sn;const mt=((en=(_t=Fe.gamification)==null?void 0:_t.classXp)==null?void 0:en[ne])||0;return u.jsxs("tr",{className:`hover:bg-white/5 transition group ${s.has(Fe.id)?"bg-purple-500/10":""}`,children:[u.jsx("td",{className:"p-4 text-center",children:u.jsx("button",{onClick:()=>Ne(Fe.id),className:"text-gray-500 hover:text-purple-400 transition",children:s.has(Fe.id)?u.jsx(Boe,{className:"w-4 h-4 text-purple-500"}):u.jsx(UI,{className:"w-4 h-4 group-hover:text-gray-400"})})}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:Fe.avatarUrl,alt:Fe.name,className:"w-8 h-8 rounded-full border border-white/10"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-gray-200 text-sm",children:Fe.name}),u.jsxs("div",{className:"text-[10px] text-gray-500 font-mono",children:[Fe.email,Fe.section?`  ${Fe.section}`:""]})]})]})}),u.jsx("td",{className:"p-4 text-center",children:u.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-widest px-2 py-0.5 rounded-full border inline-flex items-center gap-1.5 ${Fe.isWhitelisted?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:[Fe.isWhitelisted?u.jsx(LI,{className:"w-3 h-3"}):u.jsx(h2,{className:"w-3 h-3"}),Fe.isWhitelisted?"Authorized":"Restricted"]})}),u.jsx("td",{className:"p-4 text-center",children:u.jsxs("span",{className:"text-xs text-gray-400 flex items-center justify-center gap-1.5",children:[u.jsx(Os,{className:"w-3 h-3"}),de(Fe.lastLoginAt)]})}),u.jsx("td",{className:"p-4 text-center",children:u.jsxs("div",{children:[u.jsx("span",{className:"font-bold text-lg text-purple-300",children:mt.toLocaleString()}),(((mn=Fe.enrolledClasses)==null?void 0:mn.length)||0)>1&&u.jsxs("details",{className:"mt-1",children:[u.jsx("summary",{className:"text-[9px] text-gray-500 cursor-pointer hover:text-purple-400 transition",children:"All classes"}),u.jsx("div",{className:"mt-1 space-y-0.5 text-left",children:(Sn=Fe.enrolledClasses)==null?void 0:Sn.map(Kt=>{var qt,Ht;return u.jsxs("div",{className:"flex items-center justify-between gap-2 text-[10px]",children:[u.jsx("span",{className:`truncate ${Kt===ne?"text-purple-400 font-bold":"text-gray-500"}`,children:Kt}),u.jsx("span",{className:"text-gray-400 font-mono",children:(((Ht=(qt=Fe.gamification)==null?void 0:qt.classXp)==null?void 0:Ht[Kt])||0).toLocaleString()})]},Kt)})})]})]})}),u.jsx("td",{className:"p-4 text-center",children:u.jsx("div",{className:"flex items-center justify-center gap-2",children:u.jsx("button",{onClick:()=>De?ut(Fe.id,Fe.name):we(Fe,ne),className:"text-gray-600 hover:text-red-400 transition p-2 rounded-lg hover:bg-white/5",title:De?"Permanently Delete":"Remove from this Class",children:u.jsx(ds,{className:"w-4 h-4"})})})})]},Fe.id)})})]})})]},ne)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"User Management"}),u.jsx("p",{className:"text-gray-400",children:"Manage rosters, permissions, and active invitations."})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[u.jsxs("button",{onClick:()=>{R(""),Z({physicsLab:!0,evidenceLocker:!1,leaderboard:!0,physicsTools:!1,communications:!0}),D(!1),b(!0)},className:"bg-white/10 hover:bg-white/20 text-white px-4 py-3 rounded-xl border border-white/10 transition font-bold flex items-center justify-center gap-2",children:[u.jsx(Fm,{className:"w-4 h-4"}),"Class Config"]}),u.jsxs("button",{onClick:()=>m(!0),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-3 rounded-xl shadow-[0_0_20px_rgba(147,51,234,0.3)] hover:shadow-[0_0_30px_rgba(147,51,234,0.5)] transition font-bold flex items-center justify-center gap-2",children:[u.jsx(zI,{className:"w-4 h-4"}),"Invite Student"]})]})]}),pe.length>0&&u.jsxs("div",{className:"bg-amber-900/10 border border-amber-500/30 rounded-2xl overflow-hidden animate-in zoom-in-95",children:[u.jsxs("div",{className:"bg-amber-500/20 px-6 py-3 flex items-center justify-between",children:[u.jsxs("h3",{className:"text-amber-200 font-bold text-sm uppercase tracking-widest flex items-center gap-2",children:[u.jsx(Aoe,{className:"w-4 h-4"})," Pending Class Invitations (",pe.length,")"]}),u.jsx("span",{className:"text-[10px] text-amber-400 font-bold italic",children:"Awaiting first login..."})]}),u.jsx("div",{className:"p-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:pe.map(ne=>u.jsxs("div",{className:"bg-black/40 p-3 rounded-xl flex items-center justify-between border border-white/5 group hover:border-amber-500/30 transition",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-gray-200 text-xs font-bold truncate",children:ne.email}),u.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[u.jsx(LI,{className:"w-3 h-3 text-amber-500"}),u.jsxs("span",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-tighter",children:[(ne.classTypes||[ne.classType]).join(", ")," Access"]})]})]}),u.jsx("button",{onClick:()=>lt(ne.email),className:"p-1.5 text-gray-600 hover:text-red-400 transition hover:bg-red-500/10 rounded-lg opacity-0 group-hover:opacity-100",title:"Cancel Invitation",children:u.jsx(na,{className:"w-3.5 h-3.5"})})]},ne.email))})]}),u.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 p-4 rounded-xl flex flex-col md:flex-row items-center justify-between sticky top-0 z-20 shadow-xl gap-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full md:w-auto",children:[u.jsx("span",{className:"font-bold text-gray-300 text-sm whitespace-nowrap hidden md:inline",children:"Bulk Enrollment:"}),u.jsxs("div",{className:"relative w-full sm:w-auto",children:[u.jsx("select",{value:d,onChange:ne=>h(ne.target.value),className:"w-full sm:w-auto appearance-none bg-black/40 border border-white/20 text-gray-200 py-2 pl-4 pr-10 rounded-lg text-sm font-medium focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 cursor-pointer",children:ye.filter(ne=>ne!==Dr.UNCATEGORIZED).map(ne=>u.jsxs("option",{value:ne,children:["Apply ",ne," Access"]},ne))}),u.jsx(za,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]}),u.jsxs("button",{onClick:le,disabled:s.size===0,className:"w-full sm:w-auto bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-lg text-sm font-bold shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 whitespace-nowrap",children:[u.jsx(Ul,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Grant Access to Selected"}),u.jsx("span",{className:"inline sm:hidden",children:"Grant Access"})]})]}),u.jsxs("div",{className:"text-xs text-gray-500 font-mono text-center md:text-right w-full md:w-auto",children:[s.size," SELECTION ACTIVE"]})]}),u.jsx("div",{className:"pb-12",children:ye.map(ne=>Ue(ne))}),u.jsxs(os,{isOpen:p,onClose:()=>{m(!1),X([]),ge("single")},title:"New Operative Invitation",maxWidth:"max-w-lg",children:[u.jsxs("div",{className:"flex gap-1 bg-black/30 rounded-xl p-1 mb-4 border border-white/5",children:[u.jsxs("button",{onClick:()=>{ge("single"),X([])},className:`flex-1 py-2 rounded-lg text-xs font-bold transition flex items-center justify-center gap-1.5 ${Y==="single"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:[u.jsx(zI,{className:"w-3.5 h-3.5"})," Single"]}),u.jsxs("button",{onClick:()=>ge("csv"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition flex items-center justify-center gap-1.5 ${Y==="csv"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:[u.jsx(qm,{className:"w-3.5 h-3.5"})," CSV Import"]})]}),Y==="single"?u.jsxs("form",{onSubmit:Rt,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 px-1",children:"Authorized Gmail"}),u.jsx("input",{type:"email",required:!0,className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all",value:k,onChange:ne=>j(ne.target.value),placeholder:"student@gmail.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 px-1",children:"Initial Class Assignment"}),u.jsx("select",{className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all appearance-none",value:$,onChange:ne=>I(ne.target.value),children:ye.filter(ne=>ne!==Dr.UNCATEGORIZED).map(ne=>u.jsx("option",{value:ne,children:ne},ne))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 px-1",children:"Section / Period (Optional)"}),u.jsx("input",{type:"text",className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all",value:L,onChange:ne=>E(ne.target.value),placeholder:"e.g. Period 3, Block A"})]}),u.jsx("p",{className:"text-[10px] text-gray-400 bg-black/30 p-3 rounded-lg border border-white/10",children:"Invitation puts the email on a secure whitelist. The student will be automatically placed in their class upon their first Google login."}),u.jsx("button",{type:"submit",className:"w-full bg-purple-600 text-white py-4 rounded-2xl font-bold hover:bg-purple-700 transition shadow-xl shadow-purple-200",children:"Whitelist Email"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-black/30 border border-dashed border-white/20 rounded-2xl p-6 text-center",children:[u.jsx("input",{type:"file",ref:oe,accept:".csv,.tsv,.txt",onChange:Oe,className:"hidden"}),ce.length===0?u.jsxs(u.Fragment,{children:[u.jsx(qm,{className:"w-10 h-10 text-gray-500 mx-auto mb-3"}),u.jsx("button",{onClick:()=>{var ne;return(ne=oe.current)==null?void 0:ne.click()},className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2.5 rounded-xl font-bold text-sm transition",children:"Select CSV File"}),u.jsxs("p",{className:"text-[10px] text-gray-500 mt-3",children:["Expected format: ",u.jsx("code",{className:"bg-black/40 px-1.5 py-0.5 rounded",children:"email, class, section"})]}),u.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Header row is auto-detected and skipped. Section column is optional."}),u.jsx("div",{className:"mt-3 bg-black/40 rounded-lg p-3 text-left",children:u.jsxs("p",{className:"text-[9px] text-gray-500 font-mono leading-relaxed",children:["email,class,section",u.jsx("br",{}),"john@gmail.com,AP Physics,Period 3",u.jsx("br",{}),"jane@gmail.com,Honors Physics,Period 1",u.jsx("br",{}),"alex@gmail.com,Forensic Science,"]})})]}):u.jsxs(u.Fragment,{children:[u.jsx(vE,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),u.jsxs("p",{className:"text-sm font-bold text-white",children:[ce.length," records parsed"]}),u.jsx("button",{onClick:()=>{X([])},className:"text-[10px] text-gray-500 hover:text-white transition mt-1 underline",children:"Clear & pick another file"})]})]}),ce.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar border border-white/10 rounded-xl",children:u.jsxs("table",{className:"w-full text-left text-xs",children:[u.jsx("thead",{className:"sticky top-0 bg-[#1a1b26]",children:u.jsxs("tr",{className:"border-b border-white/10 text-[10px] uppercase text-gray-500 font-bold",children:[u.jsx("th",{className:"p-2 pl-3",children:"Email"}),u.jsx("th",{className:"p-2",children:"Class"}),u.jsx("th",{className:"p-2",children:"Section"}),u.jsx("th",{className:"p-2 text-right pr-3",children:"Status"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:ce.map((ne,De)=>u.jsxs("tr",{className:ne.status==="invalid"?"bg-red-500/5":ne.status==="duplicate"?"bg-yellow-500/5":ne.status==="success"?"bg-green-500/5":"",children:[u.jsx("td",{className:"p-2 pl-3 text-gray-300 font-mono truncate max-w-[160px]",children:ne.email}),u.jsx("td",{className:"p-2 text-gray-400",children:ne.classType}),u.jsx("td",{className:"p-2 text-gray-500",children:ne.section||""}),u.jsx("td",{className:"p-2 pr-3 text-right",children:u.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${ne.status==="pending"?"bg-blue-500/20 text-blue-400":ne.status==="success"?"bg-green-500/20 text-green-400":ne.status==="duplicate"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:ne.status})})]},De))})]})}),u.jsx("div",{className:"flex items-center justify-between text-[10px] text-gray-500",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("span",{className:"text-blue-400",children:[ce.filter(ne=>ne.status==="pending").length," ready"]}),u.jsxs("span",{className:"text-yellow-400",children:[ce.filter(ne=>ne.status==="duplicate").length," duplicates"]}),u.jsxs("span",{className:"text-red-400",children:[ce.filter(ne=>ne.status==="invalid").length," invalid"]}),ce.some(ne=>ne.status==="success")&&u.jsxs("span",{className:"text-green-400",children:[ce.filter(ne=>ne.status==="success").length," imported"]})]})}),ce.filter(ne=>ne.status==="duplicate").length>0&&u.jsxs("div",{className:"flex items-start gap-2 text-[10px] text-yellow-400 bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-2.5",children:[u.jsx(Is,{className:"w-3.5 h-3.5 shrink-0 mt-0.5"}),"Duplicate emails are already on the whitelist and will be skipped."]}),u.jsx("button",{onClick:at,disabled:te||ce.filter(ne=>ne.status==="pending").length===0,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:opacity-40 disabled:cursor-not-allowed text-white py-4 rounded-2xl font-bold transition flex items-center justify-center gap-2",children:te?u.jsxs(u.Fragment,{children:[u.jsx(as,{className:"w-4 h-4 animate-spin"})," Importing..."]}):u.jsxs(u.Fragment,{children:["Import ",ce.filter(ne=>ne.status==="pending").length," Operatives"]})})]})]})]}),u.jsx(os,{isOpen:y,onClose:()=>b(!1),title:F?"Edit Class Node Config":"Initialize New Class Node",children:u.jsxs("form",{onSubmit:ht,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class Name"}),u.jsx("input",{type:"text",required:!0,className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white",value:A,onChange:ne=>R(ne.target.value),placeholder:"e.g. AP Physics Period 4"}),F&&u.jsx("p",{className:"text-[10px] text-orange-600 mt-2 font-bold uppercase",children:"System Note: Rename creates a new config branch."})]}),u.jsxs("div",{className:"border-t border-white/10 pt-4",children:[u.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Modular Feature Access"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:Q.physicsLab,onChange:ne=>Z({...Q,physicsLab:ne.target.checked})}),u.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Physics Lab (Simulations & Reports)"})]}),u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:Q.evidenceLocker,onChange:ne=>Z({...Q,evidenceLocker:ne.target.checked})}),u.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Evidence Log (Weekly Portfolio)"})]}),u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:Q.leaderboard,onChange:ne=>Z({...Q,leaderboard:ne.target.checked})}),u.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Global XP Leaderboards"})]}),u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:Q.physicsTools,onChange:ne=>Z({...Q,physicsTools:ne.target.checked})}),u.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Physics Computational Toolkit"})]}),u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500",checked:Q.communications,onChange:ne=>Z({...Q,communications:ne.target.checked})}),u.jsx("span",{className:"text-sm text-gray-700 font-medium group-hover:text-purple-600 transition",children:"Real-time Class Communications"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"XP Per Minute of Engagement"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"number",min:1,max:100,value:W,onChange:ne=>J(Math.max(1,Math.min(100,parseInt(ne.target.value)||10))),className:"w-24 p-3 border border-white/10 rounded-xl bg-black/30 text-white text-center font-bold"}),u.jsx("span",{className:"text-xs text-gray-500",children:"XP per minute (default: 10, max: 100)"})]})]}),u.jsx("button",{type:"submit",disabled:B,className:`w-full bg-green-600 text-white py-4 rounded-2xl font-bold hover:bg-green-700 transition flex items-center justify-center gap-2 ${B?"opacity-70 cursor-not-allowed":""}`,children:B?u.jsxs(u.Fragment,{children:[u.jsx(as,{className:"w-4 h-4 animate-spin"})," ESTABLISHING PROTOCOL..."]}):F?"Update Terminal Configuration":"Initialize Class Node"})]})})]})},Dc={1:{text:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/30"},2:{text:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/30"},3:{text:"text-purple-400",bg:"bg-purple-500/10",border:"border-purple-500/30"}},RR={multiple_choice:"MC",multiple_select:"Multi-Select",ranking:"Ranking",qualitative_reasoning:"Qualitative",linked_mc:"Linked MC",troubleshooting:"Troubleshoot",conflicting_contentions:"Conflicting",whats_wrong:"What's Wrong",working_backwards:"Backwards"},Fue=(t,e,r)=>`You are an expert educational assessment designer. I need you to generate a question bank of 150 questions for the following resource. I will attach the resource content below this prompt.

RESOURCE: ${t}
CLASS: ${e}
${r?`DESCRIPTION: ${r}`:""}

Generate questions organized into 3 Bloom's Taxonomy tiers. Use a MIXTURE of the following question formats across all tiers:

QUESTION FORMATS:
1. Multiple Choice  4 options, 1 correct
2. Multiple Select  4 options, 2-3 correct
3. Ranking Task  4 items to order correctly
4. Conflicting Contentions  Two students disagree, who is correct and why
5. Linked Multiple Choice  Two connected questions where part B depends on part A
6. Qualitative Reasoning  Conceptual MC requiring deep understanding
7. Troubleshooting Task  Identify the error in a scenario
8. What's Wrong Task  Find the flaw in given reasoning/solution
9. Working Backwards Task  Given the answer, determine what produced it

TIER DISTRIBUTION (50 questions each):
- TIER 1 (Remember & Understand)  50 questions, +10 XP each
- TIER 2 (Apply & Analyze)  50 questions, +25 XP each  
- TIER 3 (Evaluate & Create)  50 questions, +50 XP each

OUTPUT FORMAT  Respond with ONLY a valid JSON array. Each question object:
{
  "id": "t1q001" (tier + question number),
  "tier": 1, 2, or 3,
  "xp": 10, 25, or 50 (matching tier),
  "type": "multiple_choice" | "multiple_select" | "ranking" | "qualitative_reasoning" | "linked_mc" | "troubleshooting" | "conflicting_contentions" | "whats_wrong" | "working_backwards",
  "bloomsLevel": "Remember" | "Understand" | "Apply" | "Analyze" | "Evaluate" | "Create",
  "stem": "The question text",
  "context": "Optional scenario/context text" or null,
  "options": [{"id": "a", "text": "..."}, {"id": "b", "text": "..."}, {"id": "c", "text": "..."}, {"id": "d", "text": "..."}],
  "correctAnswer": "b" (for MC) OR ["a","c"] (for multiple_select) OR ["c","a","d","b"] (for ranking, in correct order),
  "explanation": "Why this is the correct answer",
  "linkedFollowUp": null OR (only for linked_mc) {"stem": "...", "options": [...], "correctAnswer": "...", "explanation": "..."}
}

IMPORTANT:
- All questions MUST be specific to the resource content I attached
- Distractors must be plausible and educational
- Vary question formats within each tier (use all 9 types)
- Output ONLY the JSON array  no markdown fences, no commentary
- Generate exactly 150 questions (50 per tier) if possible
- If you hit your output limit, end the JSON array cleanly with ] so I can parse what you generated.`,que=(t,e,r)=>`You are an expert educational content creator. I need you to create comprehensive study material for students who are working through a practice set. This reading material should teach the underlying concepts so students understand the material before or while working on practice problems. I will attach the practice set content below this prompt.

PRACTICE SET: ${t}
CLASS: ${e}
${r?`DESCRIPTION: ${r}`:""}

Create detailed reading material that covers all the concepts, formulas, principles, and background knowledge a student needs to succeed on this practice set.

OUTPUT FORMAT  Respond with ONLY a valid JSON object:
{
  "title": "Study Guide: ${t}",
  "description": "A brief 1-2 sentence overview of what this reading covers",
  "estimatedMinutes": 15,
  "sections": [
    {
      "title": "Section title",
      "content": "Detailed explanation text. Use clear language appropriate for the class level. Include definitions, examples, step-by-step explanations, key formulas, common misconceptions, and practical applications. Make it thorough but readable."
    }
  ]
}

GUIDELINES:
- Create 8-15 sections that logically progress through the material
- Each section should be 150-400 words  substantial enough to actually teach the concept
- Include worked examples where applicable
- Define key vocabulary and terminology
- Address common student misconceptions
- Use clear, direct language appropriate for the class level
- The total reading should take approximately 10-20 minutes
- CRITICAL: For ALL math expressions, you MUST use LaTeX notation wrapped in dollar signs. Examples: $W = Fd\\cos\\theta$, $K = \\frac{1}{2}mv^2$, $U_g = mgy$
- Use double dollar signs for display equations on their own line: $$E_i + W_{ext} = E_f$$
- NEVER write bare math like "K=frac12mv2" or "W=Fdcostheta"  always wrap in $...$
- Every variable, formula, and equation must be in LaTeX dollar-sign delimiters
- Use bullet points (* at line start) for lists
- Use **bold** for key terms on first introduction
- Output ONLY the JSON object  no markdown fences, no commentary`,Hue=({assignment:t,isOpen:e,onClose:r})=>{const n=ia(),i=P.useRef(null),[a,s]=P.useState([]),[l,d]=P.useState(!0),[h,p]=P.useState(!1),[m,y]=P.useState(t.category==="Practice Set"?"reading":"manage"),[b,T]=P.useState(null),[S,w]=P.useState(null),[N,k]=P.useState(""),[j,$]=P.useState(null),[I,L]=P.useState(!1),[E,A]=P.useState(null),[R,F]=P.useState({}),[D,B]=P.useState(null),[M,Q]=P.useState(!0),[Z,W]=P.useState(null),[J,Y]=P.useState(null),[ge,ce]=P.useState(null),[X,te]=P.useState(!1),ue=P.useRef(null),oe=t.category==="Practice Set";P.useEffect(()=>{if(!e)return;(async()=>{d(!0);try{const at=await Vi(pt(Ve,"question_banks",t.id));at.exists()?s(at.data().questions||[]):s([]);const ht=await Vi(pt(Ve,"reading_materials",t.id));ht.exists()?W(ht.data()):W(null)}catch(at){console.error("Failed to load bank:",at),s([])}finally{d(!1)}})()},[e,t.id]);const ae=async Oe=>{p(!0);try{await fa(pt(Ve,"question_banks",t.id),{assignmentId:t.id,title:t.title,classType:t.classType,questions:Oe,questionCount:Oe.length,updatedAt:new Date().toISOString()}),s(Oe)}catch(at){n.error("Failed to save: "+(at instanceof Error?at.message:"Unknown error"))}finally{p(!1)}},pe=async Oe=>{const at=a.filter(ht=>ht.id!==Oe);await ae(at),n.success("Question removed."),j===Oe&&$(null)},ye=async()=>{try{await Za(pt(Ve,"question_banks",t.id)),s([]),n.success("Question bank cleared.")}catch{n.error("Failed to clear bank.")}},Xe=()=>{navigator.clipboard.writeText(Fue(t.title,t.classType,t.description)),L(!0),setTimeout(()=>L(!1),2e3),n.success("Prompt copied!")},Ne=()=>{navigator.clipboard.writeText(que(t.title,t.classType,t.description)),te(!0),setTimeout(()=>te(!1),2e3),n.success("Reading prompt copied!")},le=async Oe=>{var ht;const at=(ht=Oe.target.files)==null?void 0:ht[0];if(at){ce(null),Y(null);try{let Ue=(await at.text()).replace(/```json\s*|```\s*/g,"").trim();Ue=Ue.replace(/[\x00-\x1F\x7F]/g,Ye=>Ye===`
`||Ye==="\r"||Ye==="	"?" ":"");let ne;try{ne=JSON.parse(Ue)}catch{const Ye=Ue.match(/\{[\s\S]*\}/);if(Ye)ne=JSON.parse(Ye[0]);else throw new Error("No JSON object found.")}if(!ne.title||!ne.sections||!Array.isArray(ne.sections))throw new Error("Missing required fields: title and sections array.");const De=ne.sections.filter(Ye=>!Ye.title||!Ye.content);if(De.length>0)throw new Error(`${De.length} section(s) missing title or content.`);Y(ne)}catch(de){ce(de instanceof Error?de.message:"Parse failed.")}ue.current&&(ue.current.value="")}},je=async()=>{if(J){p(!0);try{await fa(pt(Ve,"reading_materials",t.id),{...J,assignmentId:t.id,updatedAt:new Date().toISOString()}),W(J),Y(null),n.success(`Study material uploaded: ${J.sections.length} sections!`)}catch(Oe){n.error("Failed to save: "+(Oe instanceof Error?Oe.message:"Unknown error"))}finally{p(!1)}}},we=async()=>{p(!0);try{await Za(pt(Ve,"reading_materials",t.id)),W(null),n.success("Study material removed.")}catch{n.error("Failed to delete.")}finally{p(!1)}},ut=async Oe=>{var ht;const at=(ht=Oe.target.files)==null?void 0:ht[0];if(at){B(null),A(null);try{let Ue=(await at.text()).replace(/```json\s*|```\s*/g,"").trim();Ue=Ue.replace(/[\x00-\x1F\x7F]/g,Qe=>Qe===`
`||Qe==="\r"||Qe==="	"?" ":"");let ne;try{ne=JSON.parse(Ue)}catch{const Qe=Ue.match(/\[[\s\S]*\]/);if(Qe)try{ne=JSON.parse(Qe[0])}catch{const Fe=Qe[0];let mt=null;for(let _t=Fe.length-1;_t>0;_t--)if(Fe[_t]==="}")try{mt=JSON.parse(Fe.slice(0,_t+1)+"]");break}catch{}if(mt)ne=mt;else throw new Error("Could not recover any valid questions from truncated JSON.")}else{let Fe=null;const mt="["+Ue;for(let _t=mt.length-1;_t>0;_t--)if(mt[_t]==="}")try{Fe=JSON.parse(mt.slice(0,_t+1)+"]");break}catch{}if(Fe)ne=Fe;else throw new Error("No JSON array found in file.")}}if(!Array.isArray(ne)||ne.length===0)throw new Error("Must be a non-empty JSON array.");const De=ne.filter(Qe=>Qe.id&&Qe.tier&&Qe.type&&Qe.stem&&Qe.options&&Qe.correctAnswer),Ye=ne.length-De.length;if(De.length===0){B("All questions are missing required fields (id, tier, type, stem, options, correctAnswer).");return}const et={};De.forEach(Qe=>{const Fe=Qe.tier;et[Fe]=(et[Fe]||0)+1}),A(De),F(et),Ye>0&&n.success(`Parsed ${De.length} questions (${Ye} skipped  missing fields).`)}catch(de){B(de instanceof Error?de.message:"Parse failed.")}i.current&&(i.current.value="")}},Ge=async()=>{if(!E)return;let Oe;if(M&&a.length>0){const at=new Set(a.map(de=>de.id)),ht=E.map((de,Ue)=>({...de,id:at.has(de.id)?`${de.id}_${Date.now()}_${Ue}`:de.id}));Oe=[...a,...ht]}else Oe=E;await ae(Oe),n.success(`${M?"Added":"Replaced with"} ${E.length} questions. Total: ${Oe.length}`),A(null),y("manage")},lt=P.useMemo(()=>{let Oe=a;if(b&&(Oe=Oe.filter(at=>at.tier===b)),S&&(Oe=Oe.filter(at=>at.type===S)),N){const at=N.toLowerCase();Oe=Oe.filter(ht=>ht.stem.toLowerCase().includes(at)||ht.id.toLowerCase().includes(at))}return Oe},[a,b,S,N]),it=P.useMemo(()=>{const Oe={1:0,2:0,3:0};return a.forEach(at=>{Oe[at.tier]=(Oe[at.tier]||0)+1}),Oe},[a]),Rt=P.useMemo(()=>{const Oe={};return a.forEach(at=>{Oe[at.type]=(Oe[at.type]||0)+1}),Oe},[a]);return e?u.jsx(os,{isOpen:e,onClose:r,title:"Question Bank Manager",maxWidth:"max-w-3xl",children:u.jsxs("div",{className:"text-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-3 bg-black/30 border border-white/10 rounded-xl p-4 mb-4",children:[u.jsx(M5,{className:"w-5 h-5 text-purple-400 shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-white font-bold text-sm",children:t.title}),u.jsx("div",{className:"text-xs mt-1",children:l?u.jsx("span",{className:"text-gray-500",children:"Loading..."}):a.length>0?u.jsxs("span",{className:"text-emerald-400",children:[a.length," questions loaded"]}):u.jsx("span",{className:"text-yellow-400",children:"No question bank yet"})})]}),a.length>0&&!l&&u.jsx("div",{className:"flex gap-2",children:[1,2,3].map(Oe=>u.jsxs("div",{className:`text-center px-3 py-1.5 rounded-lg ${Dc[Oe].bg} ${Dc[Oe].border} border`,children:[u.jsx("div",{className:`text-sm font-bold ${Dc[Oe].text}`,children:it[Oe]}),u.jsxs("div",{className:"text-[8px] text-gray-500 uppercase font-bold",children:["T",Oe]})]},Oe))})]}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[!oe&&u.jsxs("button",{onClick:()=>y("manage"),className:`flex-1 py-2.5 rounded-xl text-xs font-bold transition ${m==="manage"?"bg-purple-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[u.jsx(M5,{className:"w-3.5 h-3.5 inline mr-1.5"}),"Manage Bank (",a.length,")"]}),!oe&&u.jsxs("button",{onClick:()=>y("add"),className:`flex-1 py-2.5 rounded-xl text-xs font-bold transition ${m==="add"?"bg-purple-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[u.jsx(Ul,{className:"w-3.5 h-3.5 inline mr-1.5"}),a.length>0?"Add More":"Create Bank"]}),u.jsxs("button",{onClick:()=>y("reading"),className:`flex-1 py-2.5 rounded-xl text-xs font-bold transition ${m==="reading"?"bg-emerald-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[u.jsx(so,{className:"w-3.5 h-3.5 inline mr-1.5"}),"Study Material ",Z?`(${Z.sections.length})`:""]})]}),m==="manage"&&u.jsx("div",{className:"space-y-3",children:l?u.jsx("div",{className:"py-12 text-center",children:u.jsx(as,{className:"w-6 h-6 text-purple-400 animate-spin mx-auto"})}):a.length===0?u.jsxs("div",{className:"py-12 text-center",children:[u.jsx(M5,{className:"w-10 h-10 text-gray-700 mx-auto mb-2"}),u.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"No questions yet"}),u.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"Switch to the Create Bank tab to get started."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[u.jsxs("div",{className:"relative flex-1 min-w-[150px]",children:[u.jsx(Fq,{className:"w-3.5 h-3.5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),u.jsx("input",{value:N,onChange:Oe=>k(Oe.target.value),placeholder:"Search questions...",className:"w-full pl-9 pr-3 py-2 bg-black/30 border border-white/10 rounded-lg text-xs text-white placeholder-gray-600 outline-none focus:border-purple-500/50"})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>T(null),className:`px-2.5 py-1.5 rounded-lg text-[10px] font-bold transition ${b?"text-gray-500 hover:text-gray-300":"bg-white/10 text-white"}`,children:"All"}),[1,2,3].map(Oe=>u.jsxs("button",{onClick:()=>T(b===Oe?null:Oe),className:`px-2.5 py-1.5 rounded-lg text-[10px] font-bold transition ${b===Oe?`${Dc[Oe].bg} ${Dc[Oe].text} ${Dc[Oe].border} border`:"text-gray-500 hover:text-gray-300"}`,children:["T",Oe," (",it[Oe],")"]},Oe))]})]}),Object.keys(Rt).length>1&&u.jsx("div",{className:"flex gap-1 flex-wrap",children:Object.entries(Rt).sort((Oe,at)=>at[1]-Oe[1]).map(([Oe,at])=>u.jsxs("button",{onClick:()=>w(S===Oe?null:Oe),className:`px-2 py-1 rounded-lg text-[9px] font-bold transition ${S===Oe?"bg-purple-500/20 text-purple-300 border border-purple-500/30":"bg-white/5 text-gray-500 hover:text-gray-300"}`,children:[RR[Oe]||Oe," (",at,")"]},Oe))}),u.jsx("div",{className:"max-h-[350px] overflow-y-auto custom-scrollbar space-y-2 pr-1",children:lt.length===0?u.jsx("p",{className:"text-gray-600 text-xs text-center py-8",children:"No questions match your filters."}):lt.map(Oe=>{const at=Dc[Oe.tier]||Dc[1],ht=j===Oe.id;return u.jsxs("div",{className:`rounded-xl border transition ${ht?`${at.border} ${at.bg}`:"border-white/5 bg-white/[0.02] hover:border-white/10"}`,children:[u.jsxs("div",{className:"flex items-start gap-2.5 p-3 cursor-pointer",onClick:()=>$(ht?null:Oe.id),children:[u.jsxs("div",{className:`w-6 h-6 rounded-md flex items-center justify-center shrink-0 text-[9px] font-black ${at.bg} ${at.text}`,children:["T",Oe.tier]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[u.jsx("span",{className:"text-[8px] text-gray-600 font-mono",children:Oe.id}),u.jsx("span",{className:"text-[8px] text-gray-600",children:""}),u.jsx("span",{className:"text-[8px] text-gray-500",children:RR[Oe.type]||Oe.type}),u.jsxs("span",{className:"text-[8px] text-yellow-500 font-bold ml-auto flex items-center gap-0.5",children:[u.jsx(Ii,{className:"w-2.5 h-2.5"}),Oe.xp]})]}),u.jsx("p",{className:"text-xs text-gray-300 leading-snug line-clamp-2",children:Oe.stem})]}),u.jsx(Ad,{className:`w-3.5 h-3.5 text-gray-600 shrink-0 mt-1 transition-transform ${ht?"rotate-90":""}`})]}),ht&&u.jsxs("div",{className:"px-3 pb-3 space-y-2",children:[Oe.context&&u.jsx("div",{className:"text-[10px] text-gray-500 italic bg-black/20 rounded-lg p-2",children:Oe.context}),u.jsx("div",{className:"space-y-1",children:Oe.options.map(de=>{const Ue=Array.isArray(Oe.correctAnswer)?Oe.correctAnswer.includes(de.id):Oe.correctAnswer===de.id;return u.jsxs("div",{className:`flex items-start gap-2 text-[11px] px-2 py-1.5 rounded-lg ${Ue?"bg-emerald-500/10 text-emerald-300":"text-gray-400"}`,children:[u.jsxs("span",{className:"font-mono font-bold text-[10px] mt-0.5 shrink-0",children:[de.id.toUpperCase(),"."]}),u.jsx("span",{children:de.text}),Ue&&u.jsx(fi,{className:"w-3 h-3 text-emerald-400 ml-auto shrink-0 mt-0.5"})]},de.id)})}),u.jsxs("div",{className:"text-[10px] text-gray-500 bg-black/20 rounded-lg p-2",children:[u.jsx("span",{className:"font-bold text-gray-400",children:"Explanation: "}),Oe.explanation]}),Oe.linkedFollowUp&&u.jsxs("div",{className:"text-[10px] text-blue-300/70 bg-blue-500/5 border border-blue-500/20 rounded-lg p-2",children:[u.jsx("span",{className:"font-bold",children:"Follow-up: "}),Oe.linkedFollowUp.stem]}),u.jsxs("button",{onClick:()=>pe(Oe.id),disabled:h,className:"flex items-center gap-1.5 text-[10px] font-bold text-red-400 hover:text-red-300 bg-red-500/10 hover:bg-red-500/20 px-3 py-1.5 rounded-lg transition",children:[u.jsx(na,{className:"w-3 h-3"})," Delete Question"]})]})]},Oe.id)})}),u.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-white/5",children:[u.jsxs("span",{className:"text-[10px] text-gray-600",children:["Showing ",lt.length," of ",a.length]}),u.jsxs("button",{onClick:ye,disabled:h,className:"text-[10px] font-bold text-red-400/60 hover:text-red-400 transition flex items-center gap-1",children:[u.jsx(na,{className:"w-3 h-3"})," Clear Entire Bank"]})]})]})}),m==="add"&&u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[u.jsx("span",{className:"w-5 h-5 rounded-full bg-purple-600 text-white text-[10px] font-bold flex items-center justify-center",children:"1"}),"Generate with AI"]}),u.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed",children:"Copy the prompt, paste into ChatGPT/Gemini/Claude with your resource content (PDF, notes, etc)."}),u.jsx("button",{onClick:Xe,className:`w-full py-2.5 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition ${I?"bg-emerald-600 text-white":"bg-purple-600 hover:bg-purple-500 text-white"}`,children:I?u.jsxs(u.Fragment,{children:[u.jsx(fi,{className:"w-4 h-4"})," Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx(iA,{className:"w-4 h-4"})," Copy AI Prompt"]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[u.jsx("span",{className:"w-5 h-5 rounded-full bg-purple-600 text-white text-[10px] font-bold flex items-center justify-center",children:"2"}),"Upload JSON"]}),u.jsxs("p",{className:"text-[11px] text-gray-500 leading-relaxed",children:["Save the AI output as ",u.jsx("code",{className:"bg-black/40 px-1 py-0.5 rounded text-purple-300 text-[10px]",children:".json"})," and upload here."]}),u.jsxs("label",{className:"flex items-center justify-center gap-3 py-3 border-2 border-dashed border-white/15 rounded-xl hover:border-purple-500/50 hover:bg-purple-500/5 transition cursor-pointer",children:[u.jsx(MI,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Choose .json file"}),u.jsx("input",{ref:i,type:"file",accept:".json,.txt",onChange:ut,className:"hidden"})]})]}),D&&u.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-3 flex items-start gap-2",children:[u.jsx(Is,{className:"w-4 h-4 text-red-400 shrink-0 mt-0.5"}),u.jsx("p",{className:"text-red-300/70 text-xs",children:D})]}),E&&u.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/30 rounded-xl p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fi,{className:"w-4 h-4 text-emerald-400"}),u.jsxs("span",{className:"text-emerald-400 font-bold text-sm",children:[E.length," questions parsed"]})]}),u.jsx("div",{className:"flex gap-3",children:[1,2,3].map(Oe=>u.jsxs("div",{className:"flex-1 bg-black/30 rounded-lg p-2 text-center",children:[u.jsx("div",{className:"text-base font-bold text-white",children:R[Oe]||0}),u.jsxs("div",{className:"text-[8px] text-gray-500 uppercase font-bold",children:["Tier ",Oe]})]},Oe))}),a.length>0&&u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>Q(!0),className:`flex-1 py-2 rounded-lg text-[10px] font-bold transition border ${M?"bg-purple-500/20 border-purple-500/30 text-purple-300":"border-white/10 text-gray-500 hover:text-gray-300"}`,children:[u.jsx(Ul,{className:"w-3 h-3 inline mr-1"}),"Append to existing (",a.length," + ",E.length,")"]}),u.jsxs("button",{onClick:()=>Q(!1),className:`flex-1 py-2 rounded-lg text-[10px] font-bold transition border ${M?"border-white/10 text-gray-500 hover:text-gray-300":"bg-red-500/20 border-red-500/30 text-red-300"}`,children:[u.jsx(zm,{className:"w-3 h-3 inline mr-1"}),"Replace all"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:Ge,disabled:h,className:"flex-1 py-2.5 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-700 text-white font-bold rounded-xl transition flex items-center justify-center gap-2 text-sm",children:[h?u.jsx(as,{className:"w-4 h-4 animate-spin"}):u.jsx(qm,{className:"w-4 h-4"}),h?"Saving...":`Upload ${E.length} Questions`]}),u.jsx("button",{onClick:()=>A(null),className:"px-4 py-2.5 bg-white/5 hover:bg-white/10 text-gray-400 rounded-xl transition",children:u.jsx(na,{className:"w-4 h-4"})})]})]})]}),m==="reading"&&u.jsxs("div",{className:"space-y-5",children:[Z?u.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/30 rounded-xl p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(so,{className:"w-4 h-4 text-emerald-400"}),u.jsx("span",{className:"text-emerald-400 font-bold text-sm",children:Z.title})]}),u.jsxs("button",{onClick:we,disabled:h,className:"text-[10px] font-bold text-red-400/60 hover:text-red-400 transition flex items-center gap-1",children:[u.jsx(na,{className:"w-3 h-3"})," Remove"]})]}),Z.description&&u.jsx("p",{className:"text-xs text-gray-400",children:Z.description}),u.jsxs("div",{className:"flex gap-2 text-[10px] text-gray-500",children:[u.jsxs("span",{children:[Z.sections.length," sections"]}),Z.estimatedMinutes&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:""}),u.jsxs("span",{children:["~",Z.estimatedMinutes," min read"]})]})]}),u.jsx("div",{className:"max-h-[200px] overflow-y-auto custom-scrollbar space-y-1.5 pr-1",children:Z.sections.map((Oe,at)=>u.jsxs("div",{className:"text-[11px] text-gray-400 bg-black/20 px-3 py-2 rounded-lg flex items-center gap-2",children:[u.jsx("span",{className:"w-5 h-5 rounded bg-emerald-500/10 text-emerald-400 text-[9px] font-bold flex items-center justify-center shrink-0",children:at+1}),u.jsx("span",{className:"truncate",children:Oe.title})]},at))})]}):u.jsxs("div",{className:"py-6 text-center",children:[u.jsx(so,{className:"w-10 h-10 text-gray-700 mx-auto mb-2"}),u.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"No study material yet"}),u.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"Upload reading material so students can study while working on this resource."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[u.jsx("span",{className:"w-5 h-5 rounded-full bg-emerald-600 text-white text-[10px] font-bold flex items-center justify-center",children:"1"}),"Generate with AI"]}),u.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed",children:"Copy the prompt, paste into ChatGPT/Gemini/Claude with your resource content. The AI will create reading material students can study for engagement XP."}),u.jsx("button",{onClick:Ne,className:`w-full py-2.5 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition ${X?"bg-emerald-600 text-white":"bg-emerald-600 hover:bg-emerald-500 text-white"}`,children:X?u.jsxs(u.Fragment,{children:[u.jsx(fi,{className:"w-4 h-4"})," Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx(iA,{className:"w-4 h-4"})," Copy Study Material Prompt"]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[u.jsx("span",{className:"w-5 h-5 rounded-full bg-emerald-600 text-white text-[10px] font-bold flex items-center justify-center",children:"2"}),"Upload Study Material JSON"]}),u.jsxs("label",{className:"flex items-center justify-center gap-3 py-3 border-2 border-dashed border-white/15 rounded-xl hover:border-emerald-500/50 hover:bg-emerald-500/5 transition cursor-pointer",children:[u.jsx(MI,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Choose .json file"}),u.jsx("input",{ref:ue,type:"file",accept:".json,.txt",onChange:le,className:"hidden"})]})]}),ge&&u.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-3 flex items-start gap-2",children:[u.jsx(Is,{className:"w-4 h-4 text-red-400 shrink-0 mt-0.5"}),u.jsx("p",{className:"text-red-300/70 text-xs",children:ge})]}),J&&u.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/30 rounded-xl p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fi,{className:"w-4 h-4 text-emerald-400"}),u.jsx("span",{className:"text-emerald-400 font-bold text-sm",children:J.title})]}),u.jsxs("p",{className:"text-xs text-gray-400",children:[J.sections.length," sections  ~",J.estimatedMinutes||"?"," min read"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:je,disabled:h,className:"flex-1 py-2.5 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-700 text-white font-bold rounded-xl transition flex items-center justify-center gap-2 text-sm",children:[h?u.jsx(as,{className:"w-4 h-4 animate-spin"}):u.jsx(qm,{className:"w-4 h-4"}),h?"Saving...":"Upload Study Material"]}),u.jsx("button",{onClick:()=>Y(null),className:"px-4 py-2.5 bg-white/5 hover:bg-white/10 text-gray-400 rounded-xl transition",children:u.jsx(na,{className:"w-4 h-4"})})]})]})]}),h&&u.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 text-xs text-purple-400",children:[u.jsx(as,{className:"w-3 h-3 animate-spin"})," Saving..."]})]})}):null},MR=["Textbook","Simulation","Lab Guide","Practice Set","Article","Video Lesson","Supplemental"],Gue={Textbook:u.jsx(so,{className:"w-4 h-4"}),Simulation:u.jsx(yE,{className:"w-4 h-4"}),"Lab Guide":u.jsx(d2,{className:"w-4 h-4"}),"Practice Set":u.jsx(Po,{className:"w-4 h-4"}),Article:u.jsx(Bq,{className:"w-4 h-4"}),"Video Lesson":u.jsx(qq,{className:"w-4 h-4"}),Supplemental:u.jsx(xE,{className:"w-4 h-4"})},Kue=({assignments:t,submissions:e,classConfigs:r,onCreateAssignment:n,onPreviewAssignment:i})=>{const a=ia(),{confirm:s}=bu(),[l,d]=P.useState(!1),[h,p]=P.useState(!1),[m,y]=P.useState(!1),[b,T]=P.useState("All Classes"),[S,w]=P.useState("All Categories"),[N,k]=P.useState(new Set),[j,$]=P.useState(null),[I,L]=P.useState({title:"",description:"",status:ml.ACTIVE,unit:"Unit 1: Overview",category:"Textbook",htmlContent:"",resources:[]}),[E,A]=P.useState(new Set([Dr.AP_PHYSICS])),[R,F]=P.useState(!1),D=P.useMemo(()=>{const Y=Object.values(Dr).filter(ce=>ce!==Dr.UNCATEGORIZED),ge=(r||[]).map(ce=>ce.className);return Array.from(new Set(["All Classes",...Y,...ge]))},[r]),B=P.useMemo(()=>t.filter(Y=>{const ge=b==="All Classes"||Y.classType===b,ce=S==="All Categories"||Y.category===S;return ge&&ce}),[t,b,S]),M=P.useMemo(()=>{const Y={};return B.forEach(ge=>{const ce=b==="All Classes"?`${ge.classType.toUpperCase()}  ${ge.unit||"Unassigned"}`:ge.unit||"Unassigned";Y[ce]||(Y[ce]=[]),Y[ce].push(ge)}),Object.keys(Y).sort().reduce((ge,ce)=>(ge[ce]=Y[ce],ge),{})},[B,b]),Q=async Y=>{if(Y.preventDefault(),E.size===0){a.error("Select a target class.");return}y(!0);try{h&&I.id?await n({...I,classType:Array.from(E)[0]}):await Promise.all(Array.from(E).map(ge=>n({...I,classType:ge}))),d(!1),p(!1)}catch(ge){console.error(ge)}finally{y(!1)}},Z=Y=>{L(Y),A(new Set([Y.classType])),p(!0),d(!0)},W=async Y=>{const ge=Y.status===ml.ACTIVE?ml.ARCHIVED:ml.ACTIVE;await $e.updateAssignmentStatus(Y.id,ge)},J=P.useMemo(()=>[...Array.isArray(e)?e:[]].sort((ge,ce)=>{const X=new Date(ge.submittedAt||0).getTime();return new Date(ce.submittedAt||0).getTime()-X}),[e]);return u.jsxs("div",{className:"space-y-8 pb-12",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"Admin System"}),u.jsx("p",{className:"text-gray-400",children:"Resource deployment and operational oversight."})]}),u.jsxs("button",{onClick:()=>{L({title:"",description:"",status:ml.ACTIVE,unit:"Unit 1: Overview",category:"Textbook",htmlContent:"",contentUrl:"",resources:[]}),p(!1),d(!0)},className:"bg-purple-600 hover:bg-purple-500 text-white px-8 py-3 rounded-2xl shadow-xl transition-all font-bold flex items-center gap-2",children:[u.jsx(Ul,{className:"w-5 h-5"})," Deploy Resource"]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[u.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-6",children:[u.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 flex flex-wrap items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:b,onChange:Y=>T(Y.target.value),className:"bg-black/20 text-white text-xs font-bold py-2 pl-3 pr-8 rounded-lg border border-white/10 appearance-none focus:outline-none",children:D.map(Y=>u.jsx("option",{value:Y,children:Y},Y))}),u.jsx(za,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-500 pointer-events-none"})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:S,onChange:Y=>w(Y.target.value),className:"bg-black/20 text-white text-xs font-bold py-2 pl-3 pr-8 rounded-lg border border-white/10 appearance-none focus:outline-none",children:[u.jsx("option",{value:"All Categories",children:"All Categories"}),MR.map(Y=>u.jsx("option",{value:Y,children:Y},Y))]}),u.jsx(za,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-500 pointer-events-none"})]})]}),u.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-3xl p-6 h-[600px] overflow-y-auto custom-scrollbar text-white",children:Object.entries(M).map(([Y,ge])=>u.jsxs("div",{className:"mb-6 last:mb-0",children:[u.jsxs("div",{className:"w-full flex items-center gap-3 py-2 mb-2 group",children:[u.jsx("button",{onClick:()=>{const ce=new Set(N);ce.has(Y)?ce.delete(Y):ce.add(Y),k(ce)},className:"text-gray-400 hover:text-white transition",children:N.has(Y)?u.jsx(za,{className:"w-4 h-4"}):u.jsx(Ad,{className:"w-4 h-4"})}),u.jsx("h3",{className:"text-[11px] font-bold uppercase tracking-[0.2em] text-gray-500 truncate",children:Y}),u.jsx("div",{className:"h-[1px] flex-1 bg-white/5 group-hover:bg-white/10 transition"})]}),!N.has(Y)&&u.jsx("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2 duration-300",children:ge.map(ce=>u.jsxs("div",{className:`p-4 rounded-2xl border transition group flex justify-between items-center ${ce.status===ml.ARCHIVED?"bg-white/2 border-white/5 opacity-60":"bg-white/5 border-white/10 hover:border-purple-500/50"}`,children:[u.jsxs("div",{className:"flex items-center gap-4 min-w-0 pr-4 flex-1",children:[u.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${ce.status===ml.ACTIVE?"bg-purple-500/20 text-purple-400":"bg-gray-500/20 text-gray-500"}`,children:Gue[ce.category||"Supplemental"]}),u.jsxs("div",{className:"truncate flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[u.jsx("h4",{className:"font-bold text-gray-200 text-sm truncate flex-1",children:ce.title}),u.jsx("span",{className:"text-[9px] text-gray-500 uppercase font-mono px-2 py-0.5 bg-black/40 rounded border border-white/5 flex-shrink-0 whitespace-nowrap",children:ce.classType})]}),u.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:ce.description})]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition duration-200 shrink-0",children:[u.jsx("button",{onClick:()=>$(ce),className:"p-2 text-purple-400 hover:bg-purple-500/20 rounded-lg transition",title:"Question Bank",children:u.jsx(Ih,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>i==null?void 0:i(ce.id),className:"p-2 text-indigo-400 hover:bg-indigo-500/20 rounded-lg transition",children:u.jsx(joe,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>Z(ce),className:"p-2 text-gray-300 hover:bg-white/10 rounded-lg transition",children:u.jsx(Roe,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>W(ce),className:"p-2 text-yellow-400 hover:bg-yellow-500/20 rounded-lg transition",children:ce.status===ml.ACTIVE?u.jsx(toe,{className:"w-4 h-4"}):u.jsx($m,{className:"w-4 h-4"})}),u.jsx("button",{onClick:async()=>{await s({message:"Delete this resource permanently?",confirmLabel:"Delete"})&&await $e.deleteAssignment(ce.id)},className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition",title:"Delete resource","aria-label":"Delete resource",children:u.jsx(na,{className:"w-4 h-4"})})]})]},ce.id))})]},Y))})]}),u.jsx("div",{className:"lg:col-span-4",children:u.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-3xl p-6 h-[710px] flex flex-col",children:[u.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-6",children:[u.jsx(Os,{className:"w-4 h-4 text-blue-400"})," Engagement Log"]}),u.jsxs("div",{className:"space-y-4 overflow-y-auto pr-2 custom-scrollbar flex-1",children:[J.length===0&&u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[u.jsx(Os,{className:"w-10 h-10 text-gray-700 mb-3"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"No engagement data yet"}),u.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"Activity will appear here as students complete resources."})]}),J.map(Y=>u.jsxs("div",{className:"bg-black/40 border border-white/5 p-4 rounded-2xl hover:bg-black/60 transition group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-bold text-gray-200 text-xs block truncate",children:Y.userName}),u.jsx("span",{className:"text-[10px] text-gray-500 font-medium uppercase tracking-tight line-clamp-1",children:Y.assignmentTitle})]}),u.jsxs("span",{className:"text-[10px] font-bold text-blue-400 bg-blue-900/30 px-2 py-1 rounded-full",children:[Math.round(Y.score)," XP"]})]}),u.jsxs("div",{className:"text-[9px] text-gray-600 mt-2 border-t border-white/5 pt-2 flex justify-between",children:[u.jsxs("span",{children:[Math.round(Y.metrics.engagementTime/60),"m active"]}),u.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition",children:new Date(Y.submittedAt||"").toLocaleDateString()})]})]},Y.id))]})]})})]}),u.jsx(os,{isOpen:l,onClose:()=>d(!1),title:h?"Modify Resource":"Configure Deployment",maxWidth:"max-w-3xl",children:u.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Title"}),u.jsx("input",{required:!0,className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white placeholder-gray-500",value:I.title,onChange:Y=>L({...I,title:Y.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Unit"}),u.jsx("input",{required:!0,className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white placeholder-gray-500",value:I.unit,onChange:Y=>L({...I,unit:Y.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Category"}),u.jsx("select",{value:I.category,onChange:Y=>L({...I,category:Y.target.value}),className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white placeholder-gray-500",children:MR.map(Y=>u.jsx("option",{value:Y,children:Y},Y))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Target Classes"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:D.filter(Y=>Y!=="All Classes").map(Y=>u.jsx("button",{type:"button",onClick:()=>{const ge=new Set(E);ge.has(Y)?ge.size>1&&ge.delete(Y):ge.add(Y),A(ge)},className:`px-4 py-2 rounded-xl border text-xs font-bold transition ${E.has(Y)?"bg-purple-600 border-purple-600 text-white":"bg-black/30 border-white/10 text-gray-400"}`,children:Y},Y))})]}),u.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 p-5 rounded-2xl",children:[u.jsx("label",{className:"block text-sm font-bold text-purple-300 mb-2",children:"HTML Interactive Upload"}),u.jsx("input",{type:"file",accept:".html,.htm",className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-600 file:text-white",onChange:async Y=>{var ge;if((ge=Y.target.files)!=null&&ge[0]){F(!0);try{const ce=await $e.uploadHtmlResource(Y.target.files[0]);L({...I,contentUrl:ce}),a.success("File uploaded!")}catch(ce){a.error("Upload failed: "+(ce instanceof Error?ce.message:"Unknown error"))}finally{F(!1)}}}}),R&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-purple-300 text-xs",children:[u.jsx(as,{className:"w-4 h-4 animate-spin"})," Uploading..."]}),!R&&I.contentUrl&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-emerald-400 text-xs",children:[u.jsx(gb,{className:"w-4 h-4"})," Resource uploaded"]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:["Description ",u.jsx("span",{className:"text-gray-600",children:"(optional)"})]}),u.jsx("textarea",{className:"w-full p-3 border border-white/10 rounded-xl bg-black/30 text-white placeholder-gray-500 resize-none h-20",placeholder:"Brief description for AI prompts and student context...",value:I.description,onChange:Y=>L({...I,description:Y.target.value})})]}),u.jsx("button",{type:"submit",disabled:m,className:"w-full bg-purple-600 text-white py-4 rounded-2xl font-bold shadow-xl flex items-center justify-center gap-2",children:m?u.jsx(as,{className:"w-5 h-5 animate-spin"}):"Commit Deployment"})]})}),j&&u.jsx(Hue,{assignment:j,isOpen:!!j,onClose:()=>$(null)})]})},Wue=["HEAD","CHEST","HANDS","FEET","BELT","AMULET","RING1","RING2"],Xue=({user:t,onClose:e,onDeleteItem:r,onUnequipItem:n,onGrantFlux:i})=>{var p,m;const[a,s]=P.useState(null),l=P.useMemo(()=>{var b;if(!t)return[];const y=Object.keys(((b=t.gamification)==null?void 0:b.classProfiles)||{});return y.length>0?y:["_legacy"]},[t]),d=a&&l.includes(a)?a:l[0]||"_legacy",h=P.useMemo(()=>{var b,T;if(!t)return{inventory:[],equipped:{}};if(d==="_legacy")return{inventory:((b=t.gamification)==null?void 0:b.inventory)||[],equipped:((T=t.gamification)==null?void 0:T.equipped)||{}};const y=zd(t,d);return{inventory:y.inventory,equipped:y.equipped}},[t,d]);return t?u.jsx(os,{isOpen:!!t,onClose:e,title:"Inventory Inspection",maxWidth:"max-w-2xl",children:u.jsxs("div",{className:"space-y-6 text-gray-100 p-2",children:[u.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-4 rounded-2xl border border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:t.avatarUrl,className:"w-14 h-14 rounded-2xl border border-white/10",alt:t.name}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-white text-lg",children:t.name}),u.jsxs("div",{className:"text-[10px] font-black text-purple-400 mt-1 uppercase tracking-tighter",children:["Level ",((p=t.gamification)==null?void 0:p.level)||1]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Cyber-Flux"}),u.jsx("div",{className:"text-xl font-black text-cyan-400",children:((m=t.gamification)==null?void 0:m.currency)||0})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>i(t,100),className:"p-2 bg-green-500/10 text-green-400 rounded-lg hover:bg-green-500/20",title:"+100 Flux",children:u.jsx(Ul,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>i(t,-100),className:"p-2 bg-red-500/10 text-red-400 rounded-lg hover:bg-red-500/20",title:"-100 Flux",children:u.jsx(ds,{className:"w-4 h-4"})})]})]})]}),l.length>1&&u.jsx("div",{className:"flex gap-1.5 bg-black/30 p-1.5 rounded-xl border border-white/5",children:l.map(y=>u.jsx("button",{onClick:()=>s(y),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold uppercase tracking-wide transition ${d===y?"bg-purple-600 text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:y==="_legacy"?"Global":y},y))}),u.jsxs("div",{className:"border-b border-white/5 pb-6",children:[u.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-3",children:["Active Loadout ",d!=="_legacy"&&u.jsxs("span",{className:"text-purple-400 ml-1",children:["(",d,")"]})]}),u.jsx("div",{className:"flex gap-2 flex-wrap",children:Wue.map(y=>{var T;const b=(T=h.equipped)==null?void 0:T[y];return u.jsx("div",{className:`w-16 h-16 rounded-xl border flex items-center justify-center relative group ${b?Vn(b.rarity).border+" "+Vn(b.rarity).bg:"border-white/10 bg-black/20"}`,children:b?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-[8px] text-center px-1 font-bold truncate w-full text-white/90",children:b.name}),u.jsx("button",{onClick:()=>n(t,y,d==="_legacy"?void 0:d),className:"absolute top-[-5px] right-[-5px] bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition shadow-md",children:u.jsx(ds,{className:"w-3 h-3"})})]}):u.jsx("span",{className:"text-[8px] text-gray-600",children:y})},y)})})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-3",children:"Stored Gear"}),u.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[h.inventory.map((y,b)=>u.jsxs("div",{className:`aspect-square rounded-xl border-2 flex flex-col items-center justify-center relative group p-1 bg-white/5 ${Vn(y.rarity).border}`,children:[u.jsx("div",{className:`text-[8px] font-bold ${Vn(y.rarity).text} text-center truncate w-full`,children:y.name}),u.jsx("div",{className:"text-[8px] text-gray-500",children:y.slot}),u.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center opacity-0 group-hover:opacity-100 transition rounded-xl",children:u.jsx("button",{onClick:()=>r(t,y,d==="_legacy"?void 0:d),className:"p-2 text-red-400 hover:text-red-200",children:u.jsx(na,{className:"w-4 h-4"})})})]},b)),h.inventory.length===0&&u.jsx("div",{className:"col-span-6 text-center py-8 text-gray-500 italic",children:"Inventory Empty"})]})]})]})}):null},Que=[10,50,100,-10,-50,-100],Yue=({user:t,onClose:e,onAdjust:r})=>{var s;const[n,i]=P.useState(50);if(!t)return null;const a=()=>{r(t,n),i(50)};return u.jsx(os,{isOpen:!!t,onClose:e,title:"Manual XP Adjustment",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4 bg-black/20 p-4 rounded-2xl border border-white/5",children:[u.jsx("img",{src:t.avatarUrl,className:"w-14 h-14 rounded-2xl border border-white/10",alt:t.name}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-white text-lg",children:t.name}),u.jsx("p",{className:"text-xs text-gray-500",children:t.email}),u.jsxs("div",{className:"text-[10px] font-black text-purple-400 mt-1 uppercase tracking-tighter",children:["Current: ",((s=t.gamification)==null?void 0:s.xp)||0," XP"]})]})]}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:Que.map(l=>u.jsx("button",{onClick:()=>i(l),className:`py-3 rounded-xl font-black transition-all border ${n===l?l>0?"bg-green-600 border-green-500 text-white":"bg-red-600 border-red-500 text-white":"bg-white/5 border-white/10 text-gray-400 hover:bg-white/10"}`,children:l>0?`+${l}`:l},l))}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest px-1",children:"Precise Adjustment"}),u.jsx("input",{type:"number",className:"w-full bg-black/40 border border-white/10 rounded-xl py-4 px-4 text-center text-2xl font-black text-white focus:outline-none focus:border-purple-500/50",value:n,onChange:l=>i(parseInt(l.target.value)||0)})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:e,className:"flex-1 py-4 bg-white/5 border border-white/10 text-gray-400 font-bold rounded-2xl hover:bg-white/10 transition",children:"Cancel"}),u.jsx("button",{onClick:a,className:"flex-1 py-4 bg-purple-600 text-white font-bold rounded-2xl hover:bg-purple-500 transition shadow-xl shadow-purple-900/20",children:"Apply Protocol"})]})]})})},Zue=({deployments:t,onResolveQuest:e,onRollForSalvation:r})=>u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4 px-2",children:"Active Field Deployments"}),t.length===0&&u.jsx("div",{className:"text-gray-500 italic text-center py-20 bg-black/20 rounded-3xl border border-white/5",children:"No active agents in the field."}),t.map((n,i)=>{const a=n.quest.type==="CUSTOM";return u.jsxs("div",{className:"bg-black/30 border border-white/10 rounded-2xl p-5 flex flex-col md:flex-row justify-between items-center gap-6 group hover:border-purple-500/30 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:n.user.avatarUrl,className:"w-12 h-12 rounded-xl border border-white/10 shadow-lg",alt:n.user.name}),u.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-black rounded-full shadow-lg"})]}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"font-bold text-white text-base truncate",children:n.user.name}),u.jsxs("div",{className:"text-[10px] text-purple-400 font-black uppercase tracking-tighter flex items-center gap-1.5",children:[u.jsx(Po,{className:"w-3 h-3"}),n.quest.title]})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-end gap-6 w-full md:w-auto",children:[u.jsxs("div",{className:"text-center md:text-right",children:[u.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-500 mb-1",children:"Status"}),u.jsx("div",{className:`text-xs font-black px-2 py-0.5 rounded border ${n.status==="DEPLOYED"?"text-yellow-400 bg-yellow-500/10 border-yellow-500/20":"text-gray-300 bg-white/5 border-white/10"}`,children:n.status})]}),n.status==="DEPLOYED"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-center px-4 border-l border-white/5",children:[u.jsx("div",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-widest mb-1",children:a?"Manual Review":"Auto-Check"}),u.jsx("div",{className:`font-black text-sm tracking-tighter ${n.roll===100?"text-green-400":"text-orange-400"}`,children:a?"PENDING_HQ_SIG":n.roll===100?"SUCCESS_VERIFIED":"FAILURE_DETECTED"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[!a&&n.roll===0&&u.jsx("button",{onClick:()=>r(n),className:"p-2.5 bg-purple-600/20 text-purple-400 border border-purple-500/30 rounded-xl hover:bg-purple-600 hover:text-white transition shadow-lg shadow-purple-900/20 group/btn",title:"Initiate Salvation Protocol (Die Roll)",children:u.jsx(doe,{className:"w-5 h-5 group-hover/btn:rotate-12 transition-transform"})}),u.jsx("div",{className:"h-8 w-px bg-white/5 mx-2"}),u.jsx("button",{onClick:()=>e(n.user.id,n.quest,!0,n.user.classType),className:"p-2.5 bg-green-600/20 text-green-400 border border-green-500/30 rounded-xl hover:bg-green-600 hover:text-white transition shadow-lg shadow-green-900/20",title:"Approve Submission",children:u.jsx(Zg,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>e(n.user.id,n.quest,!1,n.user.classType),className:"p-2.5 bg-red-600/20 text-red-400 border border-red-500/30 rounded-xl hover:bg-red-600 hover:text-white transition shadow-lg shadow-red-900/20",title:"Reject Submission",children:u.jsx(ds,{className:"w-5 h-5"})})]})]})]})]},i)})]}),PR={title:"",description:"",xpReward:250,fluxReward:50,type:"ENGAGEMENT",lootRarity:"",startsAt:"",durationHours:0,techReq:0,focusReq:0,analysisReq:0,charismaReq:0,dieSides:20,consequence:"",isGroup:!1,targetClass:""},Jue=({isOpen:t,onClose:e,form:r,setForm:n,onSubmit:i,isSubmitting:a})=>{const s=r.type==="SKILL_CHECK";return u.jsx(os,{isOpen:t,onClose:e,title:"Issue New Mission Objective",children:u.jsxs("form",{onSubmit:i,className:"space-y-4 text-gray-200 p-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Mission Codename"}),u.jsx("input",{value:r.title,onChange:l=>n({...r,title:l.target.value}),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold placeholder-gray-600 focus:border-purple-500 focus:outline-none",placeholder:"e.g. Operation Lab Rat"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Objective Briefing"}),u.jsx("textarea",{value:r.description,onChange:l=>n({...r,description:l.target.value}),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white placeholder-gray-600 resize-none h-20 focus:border-purple-500 focus:outline-none",placeholder:"Brief the operatives on their goal..."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Category"}),u.jsxs("select",{value:r.type,onChange:l=>n({...r,type:l.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold focus:border-purple-500 focus:outline-none",children:[u.jsx("option",{value:"ENGAGEMENT",children:"Resource Engagement"}),u.jsx("option",{value:"REVIEW_QUESTIONS",children:"Review Questions"}),u.jsx("option",{value:"STUDY_MATERIAL",children:"Study Material"}),u.jsx("option",{value:"SKILL_CHECK",children:"Skill Check"}),u.jsx("option",{value:"CUSTOM",children:"Manual Verification"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Target Class"}),u.jsxs("select",{value:r.targetClass,onChange:l=>n({...r,targetClass:l.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold focus:border-purple-500 focus:outline-none",children:[u.jsx("option",{value:"",children:"All Classes"}),Object.values(Dr).filter(l=>l!=="Uncategorized").map(l=>u.jsx("option",{value:l,children:l},l))]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:["Starts At ",u.jsx("span",{className:"text-gray-600 normal-case",children:"(optional)"})]}),u.jsx("input",{type:"datetime-local",value:r.startsAt,onChange:l=>n({...r,startsAt:l.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold focus:border-purple-500 focus:outline-none"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:["Duration ",u.jsx("span",{className:"text-gray-600 normal-case",children:"(hours, 0 = no limit)"})]}),u.jsx("input",{type:"number",value:r.durationHours||"",onChange:l=>n({...r,durationHours:parseInt(l.target.value)||0}),placeholder:"No time limit",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold focus:border-purple-500 focus:outline-none"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 bg-green-900/20 p-3 rounded-xl border border-green-500/30",children:[u.jsx("div",{className:"col-span-3 text-[10px] font-bold text-green-400 uppercase",children:"Rewards"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold",children:"XP"}),u.jsx("input",{type:"number",value:r.xpReward,onChange:l=>n({...r,xpReward:parseInt(l.target.value)}),className:"w-full p-2 rounded-lg bg-black/40 border border-white/10 text-white text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold",children:"Flux"}),u.jsx("input",{type:"number",value:r.fluxReward,onChange:l=>n({...r,fluxReward:parseInt(l.target.value)}),className:"w-full p-2 rounded-lg bg-black/40 border border-white/10 text-white text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold",children:"Loot Drop"}),u.jsxs("select",{value:r.lootRarity,onChange:l=>n({...r,lootRarity:l.target.value}),className:"w-full p-2 rounded-lg bg-black/40 border border-white/10 text-white text-sm appearance-none",children:[u.jsx("option",{value:"",children:"None"}),u.jsx("option",{value:"COMMON",children:"Common"}),u.jsx("option",{value:"UNCOMMON",children:"Uncommon"}),u.jsx("option",{value:"RARE",children:"Rare"}),u.jsx("option",{value:"UNIQUE",children:"Unique"})]})]})]}),u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:r.isGroup,onChange:l=>n({...r,isGroup:l.target.checked}),className:"rounded bg-black/40 border-white/10 text-purple-600"}),"Group Mission"]})}),s&&u.jsxs("div",{className:"border border-orange-500/30 bg-orange-900/10 rounded-xl p-4 space-y-3",children:[u.jsx("div",{className:"text-[10px] font-bold text-orange-400 uppercase",children:"Skill Check Parameters"}),u.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold text-center mb-1",children:"Tech"}),u.jsx("input",{type:"number",value:r.techReq||"",onChange:l=>n({...r,techReq:parseInt(l.target.value)||0}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-center text-sm text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold text-center mb-1",children:"Focus"}),u.jsx("input",{type:"number",value:r.focusReq||"",onChange:l=>n({...r,focusReq:parseInt(l.target.value)||0}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-center text-sm text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold text-center mb-1",children:"Analysis"}),u.jsx("input",{type:"number",value:r.analysisReq||"",onChange:l=>n({...r,analysisReq:parseInt(l.target.value)||0}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-center text-sm text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold text-center mb-1",children:"Charisma"}),u.jsx("input",{type:"number",value:r.charismaReq||"",onChange:l=>n({...r,charismaReq:parseInt(l.target.value)||0}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-center text-sm text-white"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold mb-1",children:"Salvation Die (D-X)"}),u.jsx("input",{type:"number",value:r.dieSides,onChange:l=>n({...r,dieSides:parseInt(l.target.value)}),className:"w-full p-2 bg-black/40 border border-white/10 rounded-lg text-white text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] text-gray-500 uppercase font-bold mb-1",children:"Failure Consequence"}),u.jsx("input",{type:"text",value:r.consequence,onChange:l=>n({...r,consequence:l.target.value}),placeholder:"e.g. detention",className:"w-full p-2 bg-black/40 border border-white/10 rounded-lg text-white text-sm"})]})]})]}),u.jsx("button",{type:"submit",disabled:a,className:"w-full bg-purple-600 text-white font-bold py-4 rounded-2xl shadow-xl transition-all hover:bg-purple-700 disabled:opacity-50",children:a?"Transmitting...":"Broadcast Mission"})]})})},ede=({users:t})=>{const e=ia(),{confirm:r}=bu(),[n,i]=P.useState("OPERATIVES"),[a,s]=P.useState(""),[l,d]=P.useState("All Classes"),[h,p]=P.useState("All Sections"),[m,y]=P.useState("xp"),[b,T]=P.useState("desc"),S=de=>{m===de?T(Ue=>Ue==="asc"?"desc":"asc"):(y(de),T("asc"))},w=({label:de,col:Ue,className:ne})=>u.jsx("th",{className:`cursor-pointer select-none group pb-4 ${ne??""}`,onClick:()=>S(Ue),children:u.jsxs("div",{className:`flex items-center gap-1 ${ne!=null&&ne.includes("text-center")?"justify-center":ne!=null&&ne.includes("text-right")?"justify-end":"justify-start"}`,children:[u.jsx("span",{children:de}),u.jsxs("span",{className:"flex flex-col gap-px",children:[u.jsx(gE,{className:`w-2.5 h-2.5 -mb-0.5 ${m===Ue&&b==="asc"?"text-purple-400":"text-gray-600 group-hover:text-gray-400"} transition`}),u.jsx(za,{className:`w-2.5 h-2.5 -mt-0.5 ${m===Ue&&b==="desc"?"text-purple-400":"text-gray-600 group-hover:text-gray-400"} transition`})]})]})}),[N,k]=P.useState([]),[j,$]=P.useState([]),[I,L]=P.useState(null),[E,A]=P.useState(null),[R,F]=P.useState(!1),[D,B]=P.useState(!1),[M,Q]=P.useState(PR),[Z,W]=P.useState(!1),[J,Y]=P.useState([]),[ge,ce]=P.useState(null),[X,te]=P.useState(""),[ue,oe]=P.useState({title:"",multiplier:2,type:"GLOBAL",targetClass:Dr.AP_PHYSICS});P.useEffect(()=>{const de=$e.subscribeToXPEvents(k),Ue=$e.subscribeToQuests($);return()=>{de(),Ue()}},[]),P.useEffect(()=>{const de=[];t.forEach(Ue=>{var ne,De;(De=(ne=Ue.gamification)==null?void 0:ne.activeQuests)==null||De.forEach(Ye=>{const et=j.find(Qe=>Qe.id===Ye.questId);et&&(Ye.status==="DEPLOYED"||Ye.status==="ACCEPTED")&&de.push({user:Ue,quest:et,status:Ye.status,roll:Ye.deploymentRoll,acceptedAt:Ye.acceptedAt})})}),Y(de)},[t,j,n]);const ae=P.useMemo(()=>t.filter(de=>de.role==="STUDENT"),[t]),pe=P.useMemo(()=>{const de=new Set;return ae.forEach(Ue=>{Ue.section&&de.add(Ue.section)}),Array.from(de).sort()},[ae]),ye=de=>{var ne,De;const Ue=(ne=de.gamification)==null?void 0:ne.classProfiles;return Ue&&Object.keys(Ue).length>0?Object.values(Ue).reduce((Ye,et)=>Ye+Dh(et.equipped),0):Dh((De=de.gamification)==null?void 0:De.equipped)},Xe=P.useMemo(()=>ae.filter(de=>{var Ye;const Ue=de.name.toLowerCase().includes(a.toLowerCase())||de.email.toLowerCase().includes(a.toLowerCase()),ne=l==="All Classes"||de.classType===l||((Ye=de.enrolledClasses)==null?void 0:Ye.includes(l)),De=h==="All Sections"||de.section===h;return Ue&&ne&&De}).sort((de,Ue)=>{var ne,De,Ye,et,Qe,Fe;switch(m){case"name":return b==="asc"?de.name.localeCompare(Ue.name):Ue.name.localeCompare(de.name);case"class":return b==="asc"?(de.classType||"").localeCompare(Ue.classType||""):(Ue.classType||"").localeCompare(de.classType||"");case"level":{const mt=((ne=de.gamification)==null?void 0:ne.level)||1,_t=((De=Ue.gamification)==null?void 0:De.level)||1;return b==="asc"?mt-_t:_t-mt}case"flux":{const mt=((Ye=de.gamification)==null?void 0:Ye.currency)||0,_t=((et=Ue.gamification)==null?void 0:et.currency)||0;return b==="asc"?mt-_t:_t-mt}case"gear":{const mt=ye(de),_t=ye(Ue);return b==="asc"?mt-_t:_t-mt}case"xp":default:{const mt=((Qe=de.gamification)==null?void 0:Qe.xp)||0,_t=((Fe=Ue.gamification)==null?void 0:Fe.xp)||0;return b==="asc"?mt-_t:_t-mt}}}),[ae,a,l,h,m,b]),Ne=async(de,Ue)=>{try{await $e.adjustUserXP(de.id,Ue,de.classType||Dr.UNCATEGORIZED),e.success(`${Ue>0?"+":""}${Ue} XP applied to ${de.name}.`)}catch{e.error("Failed to adjust XP.")}L(null)},le=async de=>{de.preventDefault();const Ue={id:Math.random().toString(36).substring(2,9),title:ue.title,multiplier:ue.multiplier,isActive:!0,type:ue.type};ue.type==="CLASS_SPECIFIC"&&(Ue.targetClass=ue.targetClass),await $e.saveXPEvent(Ue),F(!1),oe({title:"",multiplier:2,type:"GLOBAL",targetClass:Dr.AP_PHYSICS})},je=async de=>{de.preventDefault(),W(!0);try{const Ue={};M.techReq>0&&(Ue.tech=M.techReq),M.focusReq>0&&(Ue.focus=M.focusReq),M.analysisReq>0&&(Ue.analysis=M.analysisReq),M.charismaReq>0&&(Ue.charisma=M.charismaReq);const ne=new Date;ne.setHours(ne.getHours()+(M.durationHours||0));const De={id:Math.random().toString(36).substring(2,9),title:M.title,description:M.description,xpReward:M.xpReward,fluxReward:M.fluxReward,isActive:!0,type:M.type,statRequirements:Ue,startsAt:M.startsAt?new Date(M.startsAt).toISOString():null,expiresAt:M.durationHours>0?ne.toISOString():null,itemRewardRarity:M.lootRarity||null,rollDieSides:M.dieSides||20,consequenceText:M.consequence||null,isGroupQuest:M.isGroup,targetClass:M.targetClass||void 0};await $e.saveQuest(De),e.success(`Mission "${De.title}" deployed.`),Q(PR),B(!1)}catch(Ue){console.error("Failed to issue mission:",Ue),e.error("Failed to issue mission.")}finally{W(!1)}},we=async de=>{await $e.saveXPEvent({...de,isActive:!de.isActive})},ut=async de=>{const Ue={...de,isActive:!de.isActive};Ue.isActive&&(Ue.expiresAt=null),await $e.saveQuest(Ue)},Ge=async(de,Ue,ne)=>{var et,Qe;if(!await r({message:`Confiscate ${Ue.name} from ${de.name}? This cannot be undone.`,confirmLabel:"Confiscate"}))return;const Ye=(ne?zd(de,ne):{inventory:((et=de.gamification)==null?void 0:et.inventory)||[]}).inventory.filter(Fe=>Fe.id!==Ue.id);await $e.adminUpdateInventory(de.id,Ye,((Qe=de.gamification)==null?void 0:Qe.currency)||0,ne),A(Fe=>{var mt,_t;return Fe?ne&&((_t=(mt=Fe.gamification)==null?void 0:mt.classProfiles)!=null&&_t[ne])?{...Fe,gamification:{...Fe.gamification,classProfiles:{...Fe.gamification.classProfiles,[ne]:{...Fe.gamification.classProfiles[ne],inventory:Ye}}}}:{...Fe,gamification:{...Fe.gamification,inventory:Ye}}:null})},lt=async(de,Ue,ne)=>{var et;if(!await r({message:`Force unequip ${Ue} from ${de.name}?`,confirmLabel:"Unequip",variant:"warning"}))return;const Ye={...(ne?zd(de,ne):{equipped:{...(et=de.gamification)==null?void 0:et.equipped}}).equipped};delete Ye[Ue],await $e.adminUpdateEquipped(de.id,Ye,ne),A(Qe=>{var Fe,mt;return Qe?ne&&((mt=(Fe=Qe.gamification)==null?void 0:Fe.classProfiles)!=null&&mt[ne])?{...Qe,gamification:{...Qe.gamification,classProfiles:{...Qe.gamification.classProfiles,[ne]:{...Qe.gamification.classProfiles[ne],equipped:Ye}}}}:{...Qe,gamification:{...Qe.gamification,equipped:Ye}}:null})},it=async(de,Ue)=>{var De,Ye;const ne=Math.max(0,(((De=de.gamification)==null?void 0:De.currency)||0)+Ue);await $e.adminUpdateInventory(de.id,((Ye=de.gamification)==null?void 0:Ye.inventory)||[],ne),A(et=>et?{...et,gamification:{...et.gamification,currency:ne}}:null)},Rt=async(de,Ue,ne,De)=>{try{await $e.resolveQuest(de,Ue,ne,De),e.success(ne?`Mission "${Ue.title}" approved.`:`Mission "${Ue.title}" rejected.`)}catch{e.error("Failed to resolve mission.")}},Oe=async de=>{const Ue=de.quest.rollDieSides||20,ne=Math.floor(Math.random()*Ue)+1;e.info(`Rolled a ${ne} on a D${Ue}. ${ne===Ue?"CRITICAL SUCCESS!":"Failure confirmed."}`),await Rt(de.user.id,de.quest,ne===Ue,de.user.classType)},at=async de=>{try{await $e.updateCodename(de,X.trim().slice(0,24)),e.success("Code name updated.")}catch{e.error("Failed to update code name.")}ce(null)},ht=({id:de,label:Ue,icon:ne})=>u.jsxs("button",{onClick:()=>i(de),className:`px-6 py-4 flex items-center gap-2 border-b-2 font-bold transition-all ${n===de?"border-purple-500 text-purple-400 bg-purple-500/5":"border-transparent text-gray-500 hover:text-gray-300"}`,children:[u.jsx(ne,{className:"w-4 h-4"}),Ue]});return u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Gamification Command"}),u.jsx("p",{className:"text-gray-400",children:"Manage operative progression, rewards, and active engagement boosters."})]}),u.jsxs("div",{className:"flex gap-2",children:[n==="PROTOCOLS"&&u.jsxs("button",{onClick:()=>F(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-xl font-bold flex items-center gap-2 transition shadow-lg shadow-blue-900/20",children:[u.jsx(Poe,{className:"w-4 h-4"})," Deploy Protocol"]}),n==="MISSIONS"&&u.jsxs("button",{onClick:()=>B(!0),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-xl font-bold flex items-center gap-2 transition shadow-lg shadow-purple-900/20",children:[u.jsx(aoe,{className:"w-4 h-4"})," Issue Mission"]})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl overflow-hidden backdrop-blur-md",children:[u.jsxs("div",{className:"flex bg-black/20 border-b border-white/5 overflow-x-auto custom-scrollbar",children:[u.jsx(ht,{id:"OPERATIVES",label:"Operatives",icon:zl}),u.jsx(ht,{id:"PROTOCOLS",label:"XP Protocols",icon:Ii}),u.jsx(ht,{id:"MISSIONS",label:"Missions",icon:Po}),u.jsx(ht,{id:"MISSION_CONTROL",label:"Mission Control",icon:mb})]}),u.jsxs("div",{className:"p-6",children:[n==="OPERATIVES"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Fq,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),u.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"w-full bg-black/40 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white focus:outline-none focus:border-purple-500/50 transition",value:a,onChange:de=>s(de.target.value)})]}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsxs("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest whitespace-nowrap",children:[Xe.length," operatives"]}),u.jsxs("div",{className:"relative",children:[u.jsx(goe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-500"}),u.jsxs("select",{value:l,onChange:de=>d(de.target.value),className:"bg-black/40 border border-white/10 rounded-xl py-3 pl-10 pr-10 text-white text-sm font-bold appearance-none focus:outline-none focus:border-purple-500/50",children:[u.jsx("option",{children:"All Classes"}),Object.values(Dr).map(de=>u.jsx("option",{value:de,children:de},de))]}),u.jsx(za,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]}),pe.length>0&&u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:h,onChange:de=>p(de.target.value),className:"bg-black/40 border border-white/10 rounded-xl py-3 px-4 text-white text-sm font-bold appearance-none focus:outline-none focus:border-purple-500/50",children:[u.jsx("option",{children:"All Sections"}),pe.map(de=>u.jsx("option",{value:de,children:de},de))]}),u.jsx(za,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest border-b border-white/5",children:[u.jsx(w,{label:"Operative",col:"name",className:"pl-4"}),u.jsx(w,{label:"Class",col:"class"}),u.jsx(w,{label:"Level",col:"level",className:"text-center"}),u.jsx(w,{label:"XP",col:"xp",className:"text-center"}),u.jsx(w,{label:"Flux",col:"flux",className:"text-center"}),u.jsx(w,{label:"Gear",col:"gear",className:"text-center"}),u.jsx("th",{className:"pb-4 text-right pr-4",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:Xe.map(de=>{var Ye,et,Qe,Fe,mt;const Ue=((Ye=de.gamification)==null?void 0:Ye.level)||1,ne=((et=de.gamification)==null?void 0:et.currency)||0,De=de.enrolledClasses||(de.classType?[de.classType]:[]);return u.jsxs("tr",{className:"group hover:bg-white/5 transition-colors",children:[u.jsx("td",{className:"py-3 pl-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:de.avatarUrl,className:"w-9 h-9 rounded-lg border border-white/10",alt:de.name}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-sm text-gray-200",children:de.name}),ge===de.id?u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("input",{autoFocus:!0,value:X,onChange:_t=>te(_t.target.value),maxLength:24,onKeyDown:_t=>{_t.key==="Enter"&&at(de.id),_t.key==="Escape"&&ce(null)},className:"bg-black/60 border border-purple-500/30 rounded px-1.5 py-0.5 text-[10px] text-white font-mono w-28 focus:outline-none focus:border-purple-500"}),u.jsx("button",{onClick:()=>at(de.id),className:"text-green-400 hover:text-green-300",children:u.jsx(Zg,{className:"w-3 h-3"})}),u.jsx("button",{onClick:()=>ce(null),className:"text-gray-500 hover:text-gray-300",children:u.jsx(ds,{className:"w-3 h-3"})})]}):u.jsxs("button",{onClick:()=>{var _t;ce(de.id),te(((_t=de.gamification)==null?void 0:_t.codename)||"")},className:"text-[10px] font-mono text-gray-500 uppercase hover:text-purple-400 transition flex items-center gap-1 group/cn",children:[((Qe=de.gamification)==null?void 0:Qe.codename)||"UNASSIGNED",u.jsx(Moe,{className:"w-2.5 h-2.5 opacity-0 group-hover/cn:opacity-100 transition"})]})]})]})}),u.jsx("td",{className:"py-3",children:u.jsx("div",{className:"flex flex-wrap gap-1",children:De.map(_t=>u.jsx("span",{className:"text-[9px] bg-purple-500/10 text-purple-400 px-1.5 py-0.5 rounded border border-purple-500/20 font-bold",children:_t},_t))})}),u.jsx("td",{className:"py-3 text-center",children:u.jsx("span",{className:"text-lg font-black text-white",children:Ue})}),u.jsx("td",{className:"py-3 text-center",children:u.jsx("span",{className:"text-sm font-bold text-gray-300",children:((mt=(Fe=de.gamification)==null?void 0:Fe.xp)==null?void 0:mt.toLocaleString())||0})}),u.jsx("td",{className:"py-3 text-center",children:u.jsx("span",{className:"text-sm font-bold text-cyan-400",children:ne})}),u.jsx("td",{className:"py-3 text-center",children:u.jsx("span",{className:"text-sm font-bold text-yellow-400",children:ye(de)})}),u.jsx("td",{className:"py-3 text-right pr-4",children:u.jsxs("div",{className:"flex justify-end gap-1.5",children:[u.jsxs("button",{onClick:()=>A(de),className:"px-2.5 py-1.5 bg-blue-500/10 text-blue-400 rounded-lg hover:bg-blue-500/20 transition border border-blue-500/20 text-[10px] font-bold uppercase tracking-wide flex items-center gap-1",children:[u.jsx(mb,{className:"w-3 h-3"})," Inventory"]}),u.jsxs("button",{onClick:()=>L(de),className:"px-2.5 py-1.5 bg-green-500/10 text-green-400 rounded-lg hover:bg-green-500/20 transition border border-green-500/20 text-[10px] font-bold uppercase tracking-wide flex items-center gap-1",children:[u.jsx(Ul,{className:"w-3 h-3"})," XP"]})]})})]},de.id)})})]})})]}),n==="PROTOCOLS"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[N.map(de=>u.jsxs("div",{className:`p-6 rounded-3xl border transition-all relative overflow-hidden ${de.isActive?"bg-blue-600/10 border-blue-500/30 ring-1 ring-blue-500/20 shadow-lg shadow-blue-900/10":"bg-black/20 border-white/10 opacity-60"}`,children:[de.isActive&&u.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1.5 px-2 py-1 rounded bg-blue-500 text-white text-[9px] font-black uppercase tracking-widest animate-pulse",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"}),"LIVE"]}),u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${de.isActive?"bg-blue-500 text-white":"bg-gray-800 text-gray-400"}`,children:u.jsx(Ii,{className:"w-6 h-6"})}),u.jsx("button",{onClick:()=>$e.deleteXPEvent(de.id),className:"p-2 text-gray-600 hover:text-red-400 transition",children:u.jsx(na,{className:"w-4 h-4"})})]}),u.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:de.title}),u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsxs("span",{className:"text-3xl font-black text-blue-400",children:[de.multiplier,"x"]}),u.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest",children:"Multiplier"})]}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/5",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:de.type==="GLOBAL"?"Global Uplink":de.targetClass}),u.jsx("button",{onClick:()=>we(de),className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest transition-all ${de.isActive?"bg-green-500 text-white":"bg-gray-700 text-gray-300"}`,children:de.isActive?"Active":"Offline"})]})]},de.id)),u.jsxs("button",{onClick:()=>F(!0),className:"p-6 rounded-3xl border-2 border-dashed border-white/10 hover:border-blue-500/30 hover:bg-blue-500/5 transition-all flex flex-col items-center justify-center gap-3 text-gray-500 hover:text-blue-400 min-h-[220px]",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center",children:u.jsx(Ul,{className:"w-6 h-6"})}),u.jsx("span",{className:"font-bold uppercase tracking-widest text-xs",children:"Initialize Protocol"})]})]}),n==="MISSIONS"&&u.jsx("div",{className:"space-y-4",children:j.map(de=>u.jsxs("div",{className:`p-5 rounded-2xl border flex items-center justify-between transition-all ${de.isActive?"bg-purple-600/10 border-purple-500/30":"bg-black/20 border-white/10 opacity-60"}`,children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${de.isActive?"bg-purple-600 text-white shadow-lg shadow-purple-900/40":"bg-gray-800 text-gray-400"}`,children:u.jsx(Ud,{className:"w-7 h-7"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-lg text-white",children:de.title}),u.jsx("p",{className:"text-sm text-gray-500",children:de.description}),de.statRequirements&&u.jsx("div",{className:"flex gap-2 mt-2",children:Object.entries(de.statRequirements).map(([Ue,ne])=>u.jsxs("span",{className:"text-[9px] bg-white/10 px-2 py-0.5 rounded text-gray-300 uppercase font-mono border border-white/10",children:[ne," ",Ue]},Ue))}),u.jsxs("div",{className:"flex gap-3 mt-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-purple-400 bg-purple-900/30 px-2 py-0.5 rounded border border-purple-500/20",children:de.type}),u.jsxs("span",{className:"text-[10px] font-bold text-green-400 bg-green-900/30 px-2 py-0.5 rounded border border-green-500/20",children:["+",de.xpReward," XP"]}),de.itemRewardRarity&&u.jsx("span",{className:"text-[10px] font-bold text-yellow-400 bg-yellow-900/30 px-2 py-0.5 rounded border border-yellow-500/20",children:"LOOT DROP"}),u.jsx("span",{className:"text-[10px] font-bold text-cyan-400 bg-cyan-900/30 px-2 py-0.5 rounded border border-cyan-500/20",children:de.targetClass||"All Classes"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("button",{onClick:()=>ut(de),className:`w-12 h-6 rounded-full relative transition-colors duration-200 focus:outline-none ${de.isActive?"bg-purple-600":"bg-gray-700"}`,children:u.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 rounded-full bg-white transition-transform duration-200 ${de.isActive?"translate-x-6":""}`})}),u.jsx("span",{className:"block text-[8px] font-bold text-gray-600 uppercase mt-1 tracking-widest",children:de.isActive?"Active":"Standby"})]}),u.jsx("button",{onClick:()=>$e.deleteQuest(de.id),className:"p-2 text-gray-600 hover:text-red-400 transition",children:u.jsx(na,{className:"w-4 h-4"})})]})]},de.id))}),n==="MISSION_CONTROL"&&u.jsx(Zue,{deployments:J,onResolveQuest:Rt,onRollForSalvation:Oe})]})]}),u.jsx(Xue,{user:E,onClose:()=>A(null),onDeleteItem:Ge,onUnequipItem:lt,onGrantFlux:it}),u.jsx(Jue,{isOpen:D,onClose:()=>B(!1),form:M,setForm:Q,onSubmit:je,isSubmitting:Z}),u.jsx(os,{isOpen:R,onClose:()=>F(!1),title:"New XP Protocol Deployment",children:u.jsxs("form",{onSubmit:le,className:"space-y-4 text-gray-100 p-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Protocol Title"}),u.jsx("input",{value:ue.title,onChange:de=>oe({...ue,title:de.target.value}),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold",placeholder:"e.g. Double XP Weekend"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Multiplier"}),u.jsx("input",{type:"number",step:"0.5",value:ue.multiplier,onChange:de=>oe({...ue,multiplier:parseFloat(de.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Uplink Type"}),u.jsxs("select",{value:ue.type,onChange:de=>oe({...ue,type:de.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold",children:[u.jsx("option",{value:"GLOBAL",children:"Global Node"}),u.jsx("option",{value:"CLASS_SPECIFIC",children:"Class Sub-Node"})]})]})]}),ue.type==="CLASS_SPECIFIC"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1 px-1",children:"Target Sub-Node"}),u.jsx("select",{value:ue.targetClass,onChange:de=>oe({...ue,targetClass:de.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white font-bold",children:Object.values(Dr).map(de=>u.jsx("option",{value:de,children:de},de))})]}),u.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-4 rounded-2xl shadow-xl transition-all hover:bg-blue-700",children:"Initiate Uplink"})]})}),u.jsx(Yue,{user:I,onClose:()=>L(null),onAdjust:Ne})]})},tde={FORCE:{src:"/tools/force-diagram.html",label:"Free Body Diagram Builder",icon:u.jsx(Uq,{className:"w-4 h-4"}),color:"green",hoverBg:"hover:bg-green-600",iconBg:"bg-green-600/20",iconText:"text-green-400"},BAR:{src:"/tools/bar-chart.html",label:"Conservation of Energy (LOL) Chart",icon:u.jsx(Mq,{className:"w-4 h-4"}),color:"blue",hoverBg:"hover:bg-blue-600",iconBg:"bg-blue-600/20",iconText:"text-blue-400"},GRAPHER:{src:"/tools/grapher.html",label:"AP Physics Grapher Pro",icon:u.jsx(_E,{className:"w-4 h-4"}),color:"purple",hoverBg:"hover:bg-purple-600",iconBg:"bg-purple-600/20",iconText:"text-purple-400"}},rde=({onToggleChat:t})=>{const[e,r]=P.useState(null),[n,i]=P.useState(!1),a=l=>{e===l?r(null):(r(l),i(!1))};if(!e)return u.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-3 items-end",children:[u.jsxs("button",{onClick:()=>a("GRAPHER"),className:"bg-white/10 hover:bg-purple-600 text-white p-3 rounded-full shadow-lg backdrop-blur-md border border-white/20 transition-all hover:scale-110 group relative",title:"Physics Grapher",children:[u.jsx(_E,{className:"w-6 h-6"}),u.jsx("span",{className:"absolute right-full mr-2 bg-black/80 px-2 py-1 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition pointer-events-none",children:"Grapher Pro"})]}),u.jsxs("button",{onClick:()=>a("BAR"),className:"bg-white/10 hover:bg-blue-600 text-white p-3 rounded-full shadow-lg backdrop-blur-md border border-white/20 transition-all hover:scale-110 group relative",title:"LOL Diagrams",children:[u.jsx(Mq,{className:"w-6 h-6"}),u.jsx("span",{className:"absolute right-full mr-2 bg-black/80 px-2 py-1 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition pointer-events-none",children:"LOL Charts"})]}),u.jsxs("button",{onClick:()=>a("FORCE"),className:"bg-white/10 hover:bg-green-600 text-white p-3 rounded-full shadow-lg backdrop-blur-md border border-white/20 transition-all hover:scale-110 group relative",title:"Force Diagrams",children:[u.jsx(Uq,{className:"w-6 h-6"}),u.jsx("span",{className:"absolute right-full mr-2 bg-black/80 px-2 py-1 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition pointer-events-none",children:"Force Diagram"})]}),t&&u.jsxs("button",{onClick:t,className:"bg-white/10 hover:bg-[#5865F2] text-white p-3 rounded-full shadow-lg backdrop-blur-md border border-white/20 transition-all hover:scale-110 group relative",title:"Class Chat",children:[u.jsx(sA,{className:"w-6 h-6"}),u.jsx("span",{className:"absolute right-full mr-2 bg-black/80 px-2 py-1 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition pointer-events-none",children:"Class Comms"})]})]});const s=tde[e];return u.jsxs("div",{className:`fixed z-50 bg-[#1e1e1e] border border-white/20 shadow-2xl transition-all duration-300 overflow-hidden flex flex-col ${n?"w-64 h-12 bottom-6 right-6 rounded-xl":"inset-4 md:inset-10 rounded-2xl"}`,children:[u.jsxs("div",{className:"bg-[#2d2d2d] p-3 flex justify-between items-center border-b border-white/10",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`p-1.5 rounded-lg ${s.iconBg} ${s.iconText}`,children:s.icon}),u.jsx("span",{className:"font-bold text-white text-sm",children:s.label})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>i(!n),className:"p-1.5 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition",children:n?u.jsx(aA,{className:"w-4 h-4"}):u.jsx(Lq,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>r(null),className:"p-1.5 hover:bg-red-500/20 rounded-lg text-gray-400 hover:text-red-400 transition",children:u.jsx(ds,{className:"w-4 h-4"})})]})]}),!n&&u.jsx("div",{className:"flex-1 bg-white relative",children:u.jsx("iframe",{src:s.src,className:"w-full h-full border-none",title:s.label,sandbox:"allow-scripts allow-same-origin allow-modals allow-downloads allow-forms"})})]})},nde=["","","","","","","",""],ide=["","","","","","","","","","","","","","","","","","","","","","","","","",""],ade=({user:t,isOpen:e,onClose:r,assignments:n,classConfigs:i,onOpenResource:a})=>{var Ne;const{confirm:s}=bu(),[l,d]=P.useState([]),[h,p]=P.useState(""),[m,y]=P.useState("Main"),[b,T]=P.useState(!1),[S,w]=P.useState(!1),[N,k]=P.useState(null),[j,$]=P.useState(null),[I,L]=P.useState([]),[E,A]=P.useState(null),R=P.useRef(null),F=P.useRef(null),D=P.useRef(null),B=P.useMemo(()=>Object.values(Dr).filter(le=>{var Ge;if(le===Dr.UNCATEGORIZED)return!1;if(t.role==="ADMIN")return!0;const je=i.find(lt=>lt.className===le),we=(Ge=t.enrolledClasses)==null?void 0:Ge.includes(le),ut=je?je.features.communications:!0;return we&&ut}),[i,t.role,t.enrolledClasses]),[M,Q]=P.useState(B[0]||"");P.useEffect(()=>{(!M||!B.includes(M))&&B.length>0&&Q(B[0])},[B]);const Z=P.useMemo(()=>m==="Resources"&&j?`res_${j}`:m==="Resources"&&!j||!M?"":`class_${M.replace(/\s+/g,"_").toLowerCase()}`,[M,m,j]),W=P.useRef(null),J=P.useMemo(()=>n.filter(le=>le.classType===M&&le.status!=="DRAFT"),[n,M]),Y=P.useMemo(()=>l.filter(le=>{var je;return le.isGlobalPinned||((je=le.pinnedBy)==null?void 0:je.includes(t.id))}),[l,t.id]),ge=P.useMemo(()=>t.mutedUntil?new Date(t.mutedUntil)>new Date:!1,[t.mutedUntil]);P.useEffect(()=>{if(!e)return;let le="";if(m==="Resources"&&j?le=`res_${j}`:(m==="Main"||m==="Bookmarks")&&(le=`class_${M.replace(/\s+/g,"_").toLowerCase()}`),!le)return;T(!0);const je=$e.subscribeToChannelMessages(le,we=>{d(we),T(!1)});return()=>{je()}},[e,M,m,j]),P.useEffect(()=>{if(!e||t.role!=="ADMIN")return;const le=$e.subscribeToFlaggedMessages(je=>{L(je)});return()=>le()},[e,t.role]),P.useEffect(()=>{W.current&&(W.current.scrollTop=W.current.scrollHeight)},[l,b,m,j]),P.useEffect(()=>{const le=je=>{R.current&&!R.current.contains(je.target)&&w(!1),F.current&&!F.current.contains(je.target)&&k(null)};return document.addEventListener("mousedown",le),()=>document.removeEventListener("mousedown",le)},[]),P.useEffect(()=>{if(!e)return;const le=je=>{je.key==="Escape"&&r()};return window.addEventListener("keydown",le),()=>window.removeEventListener("keydown",le)},[e,r]);const ce=P.useCallback(async le=>{if(le.preventDefault(),!(!h.trim()||!Z)&&!ge)try{await $e.sendMessage(t,h,Z,M),p(""),w(!1)}catch(je){console.error("Failed to send message:",je)}},[h,Z,ge,t,M]),X=P.useCallback(async(le,je)=>{try{await $e.toggleReaction(le,je,t.id),k(null)}catch(we){console.error(we)}},[t.id]),te=P.useCallback(async le=>{try{await $e.togglePersonalPin(le,t.id)}catch(je){console.error(je)}},[t.id]),ue=P.useCallback(async(le,je)=>{try{await $e.toggleGlobalPin(le,!je)}catch(we){console.error(we)}},[]),oe=async le=>{if(await s({message:"Permanently delete this message?",confirmLabel:"Delete"}))try{await $e.deleteMessage(le)}catch(je){console.error(je)}},ae=async le=>{try{await $e.unflagMessage(le),await $e.resolveFlagByMessageId(le)}catch(je){console.error(je)}},pe=async le=>{if(await s({message:"Delete this flagged message?",confirmLabel:"Delete"}))try{await $e.resolveFlagByMessageId(le),await $e.deleteMessage(le)}catch(je){console.error(je)}},ye=[{label:"15 min",minutes:15},{label:"1 hour",minutes:60},{label:"24 hours",minutes:1440},{label:"Indefinite",minutes:$e.INDEFINITE_MUTE}],Xe=async le=>{if(E){try{await $e.muteUser(E.senderId,le)}catch(je){console.error(je)}A(null)}};return P.useEffect(()=>{const le=je=>{D.current&&!D.current.contains(je.target)&&A(null)};return E&&document.addEventListener("mousedown",le),()=>document.removeEventListener("mousedown",le)},[E]),e?u.jsxs("div",{className:"fixed bottom-0 right-0 md:bottom-6 md:right-6 w-full md:w-[420px] h-[650px] z-[60] font-sans animate-in slide-in-from-bottom-10 duration-500 shadow-2xl flex flex-col bg-black/40 backdrop-blur-xl border border-white/10 md:rounded-3xl overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 border-b border-white/5 backdrop-blur-md z-10",children:[u.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[m==="Resources"&&j?u.jsx("button",{onClick:()=>$(null),className:"p-2 hover:bg-white/10 rounded-full transition text-gray-300",children:u.jsx(loe,{className:"w-5 h-5"})}):u.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center shadow-lg text-white shrink-0",children:u.jsx(sA,{className:"w-5 h-5"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h3",{className:"font-bold text-white text-sm truncate leading-tight",children:m==="Moderation"?"Moderation Queue":m==="Resources"?j?(Ne=J.find(le=>le.id===j))==null?void 0:Ne.title:"Class Resources":M}),m!=="Resources"&&m!=="Moderation"&&B.length>1&&u.jsxs("div",{className:"relative group flex items-center cursor-pointer",children:[u.jsx("span",{className:"text-[10px] text-gray-400 font-medium uppercase tracking-wider truncate",children:M}),u.jsx(za,{className:"w-3 h-3 text-gray-500 ml-1"}),u.jsx("select",{className:"absolute inset-0 opacity-0 cursor-pointer",value:M,onChange:le=>Q(le.target.value),children:B.map(le=>u.jsx("option",{value:le,children:le},le))})]})]})]}),u.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition text-gray-400 hover:text-white","aria-label":"Close chat",children:u.jsx(ds,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[u.jsxs("div",{className:"w-16 bg-black/20 border-r border-white/5 flex flex-col items-center py-4 gap-4",children:[u.jsx("button",{onClick:()=>y("Main"),"aria-label":"Main chat",className:`p-3 rounded-2xl transition-all ${m==="Main"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:u.jsx(sA,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>y("Resources"),"aria-label":"Resource channels",className:`p-3 rounded-2xl transition-all ${m==="Resources"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:u.jsx(so,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>y("Bookmarks"),"aria-label":"Bookmarked messages",className:`p-3 rounded-2xl transition-all relative ${m==="Bookmarks"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:u.jsx(II,{className:"w-5 h-5"})}),t.role==="ADMIN"&&u.jsxs("button",{onClick:()=>y("Moderation"),"aria-label":"Moderation queue",className:`mt-auto p-3 rounded-2xl transition-all relative ${m==="Moderation"?"bg-red-600 text-white shadow-lg shadow-red-500/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[u.jsx(zl,{className:"w-5 h-5"}),I.length>0&&u.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center animate-pulse",children:I.length})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col relative",children:[m==="Resources"&&!j&&u.jsx("div",{className:"absolute inset-0 p-4 overflow-y-auto custom-scrollbar animate-in slide-in-from-right duration-300",children:u.jsx("div",{className:"space-y-2",children:J.map(le=>u.jsxs("div",{onClick:()=>$(le.id),className:"group p-4 bg-white/5 hover:bg-white/10 border border-white/5 rounded-2xl transition-all cursor-pointer flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[u.jsx("div",{className:"p-2.5 rounded-xl bg-indigo-500/10 text-indigo-400 group-hover:bg-indigo-500 group-hover:text-white transition shadow-inner",children:u.jsx(woe,{className:"w-5 h-5"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h4",{className:"font-bold text-gray-200 text-sm truncate group-hover:text-white transition",children:le.title}),u.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:le.unit})]})]}),u.jsx("button",{onClick:je=>{je.stopPropagation(),a==null||a(le.id),r()},className:"p-2 text-gray-500 hover:text-white hover:bg-white/10 rounded-lg transition",children:u.jsx(poe,{className:"w-4 h-4"})})]},le.id))})}),m==="Moderation"&&t.role==="ADMIN"&&u.jsxs("div",{className:"absolute inset-0 p-4 overflow-y-auto custom-scrollbar animate-in slide-in-from-right duration-300",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Is,{className:"w-4 h-4 text-red-400"}),u.jsx("span",{className:"text-sm font-bold text-red-400 uppercase tracking-widest",children:"Flagged Messages"}),u.jsxs("span",{className:"ml-auto text-xs text-gray-500",children:[I.length," item",I.length!==1?"s":""]})]}),I.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-gray-500",children:[u.jsx(zl,{className:"w-10 h-10 mb-3 opacity-30"}),u.jsx("p",{className:"text-sm",children:"Queue clear  no flagged messages"})]}):u.jsx("div",{className:"space-y-3",children:I.map(le=>{var je;return u.jsxs("div",{className:"p-3 bg-red-900/20 border border-red-500/30 rounded-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-xs font-bold text-gray-300",children:le.senderName}),u.jsx("span",{className:"text-[10px] text-gray-500",children:new Date(le.timestamp).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),u.jsx("p",{className:"text-sm text-gray-200 mb-1",children:le.content}),le.systemNote&&u.jsx("p",{className:"text-[10px] text-red-400 mb-2 italic",children:le.systemNote}),u.jsx("div",{className:"text-[10px] text-gray-500 mb-3",children:((je=le.channelId)==null?void 0:je.replace("class_","").replace(/_/g," "))||"unknown channel"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>ae(le.id),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 bg-emerald-600/20 hover:bg-emerald-600/40 border border-emerald-500/30 text-emerald-400 rounded-xl text-xs font-bold transition",children:[u.jsx(Zg,{className:"w-3.5 h-3.5"})," Approve"]}),u.jsxs("button",{onClick:()=>pe(le.id),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 bg-red-600/20 hover:bg-red-600/40 border border-red-500/30 text-red-400 rounded-xl text-xs font-bold transition",children:[u.jsx(na,{className:"w-3.5 h-3.5"})," Delete"]}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>A((E==null?void 0:E.id)===`flag-${le.id}`?null:{id:`flag-${le.id}`,senderId:le.senderId,senderName:le.senderName}),className:"flex items-center justify-center gap-1.5 px-3 py-2 bg-orange-600/20 hover:bg-orange-600/40 border border-orange-500/30 text-orange-400 rounded-xl text-xs font-bold transition",title:"Mute",children:u.jsx(vb,{className:"w-3.5 h-3.5"})}),(E==null?void 0:E.id)===`flag-${le.id}`&&u.jsxs("div",{ref:D,className:"absolute bottom-full mb-1 right-0 bg-black/95 border border-orange-500/30 rounded-xl p-1 shadow-2xl z-50 animate-in zoom-in-95 whitespace-nowrap",children:[u.jsxs("div",{className:"text-[9px] text-gray-500 px-2 py-1 font-bold uppercase",children:["Mute ",le.senderName]}),ye.map(we=>u.jsx("button",{onClick:()=>Xe(we.minutes),className:"block w-full text-left px-3 py-1.5 text-xs text-orange-300 hover:bg-orange-500/20 rounded-lg transition",children:we.label},we.minutes))]})]})]})]},le.id)})})]}),(m==="Main"||m==="Bookmarks"||m==="Resources"&&j)&&u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:W,className:"flex-1 overflow-y-auto p-4 pt-12 space-y-6 custom-scrollbar scroll-smooth",children:(m==="Bookmarks"?Y:l).map((le,je,we)=>{var lt;const ut=le.senderId===t.id,Ge=je>0&&we[je-1].senderId===le.senderId&&new Date(le.timestamp).getTime()-new Date(we[je-1].timestamp).getTime()<3e5;return u.jsxs("div",{className:`group flex flex-col ${ut?"items-end":"items-start"} ${Ge?"mt-1":"mt-4"}`,children:[!Ge&&u.jsxs("div",{className:"flex items-center gap-2 mb-1 px-1",children:[u.jsx("span",{className:`text-xs font-bold ${ut?"text-indigo-400":"text-gray-300"}`,children:le.senderName}),u.jsx("span",{className:"text-[10px] text-gray-600",children:new Date(le.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),le.isGlobalPinned&&u.jsx(DI,{className:"w-3 h-3 text-yellow-500 fill-current"})]}),u.jsxs("div",{className:"relative max-w-[85%]",children:[u.jsxs("div",{className:`flex items-center bg-black/80 backdrop-blur rounded-full px-2 py-1 gap-2 border border-white/10 opacity-0 group-hover:opacity-100 transition-all absolute -top-8 ${ut?"right-0":"left-0"} z-30`,children:[u.jsx("button",{onClick:()=>k(le.id),className:"p-1 hover:bg-white/10 rounded-full transition","aria-label":"Add reaction",children:u.jsx(BI,{className:"w-3.5 h-3.5 text-yellow-400"})}),u.jsx("button",{onClick:()=>te(le.id),className:`p-1 hover:bg-white/10 rounded-full transition ${(lt=le.pinnedBy)!=null&&lt.includes(t.id)?"text-purple-400":"text-gray-400"}`,"aria-label":"Bookmark message",children:u.jsx(II,{className:"w-3.5 h-3.5"})}),t.role==="ADMIN"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>ue(le.id,!!le.isGlobalPinned),className:`p-1 hover:bg-white/10 rounded-full transition ${le.isGlobalPinned?"text-yellow-400":"text-gray-400"}`,"aria-label":"Pin for everyone",children:u.jsx(DI,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:()=>oe(le.id),className:"p-1 hover:bg-red-500/20 text-gray-400 hover:text-red-400 rounded-full transition","aria-label":"Delete message",children:u.jsx(na,{className:"w-3.5 h-3.5"})}),le.senderId!==t.id&&u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>A((E==null?void 0:E.id)===le.id?null:{id:le.id,senderId:le.senderId,senderName:le.senderName}),className:"p-1 hover:bg-orange-500/20 text-gray-400 hover:text-orange-400 rounded-full transition","aria-label":"Mute user",children:u.jsx(vb,{className:"w-3.5 h-3.5"})}),(E==null?void 0:E.id)===le.id&&u.jsxs("div",{ref:D,className:"absolute bottom-full mb-1 right-0 bg-black/95 border border-orange-500/30 rounded-xl p-1 shadow-2xl z-50 animate-in zoom-in-95 whitespace-nowrap",children:[u.jsxs("div",{className:"text-[9px] text-gray-500 px-2 py-1 font-bold uppercase",children:["Mute ",le.senderName]}),ye.map(it=>u.jsx("button",{onClick:()=>Xe(it.minutes),className:"block w-full text-left px-3 py-1.5 text-xs text-orange-300 hover:bg-orange-500/20 rounded-lg transition",children:it.label},it.minutes))]})]})]})]}),N===le.id&&u.jsx("div",{ref:F,className:`absolute z-40 bottom-full mb-2 bg-black/95 border border-white/20 rounded-xl p-1 shadow-2xl flex gap-1 animate-in zoom-in-95 ${ut?"right-0":"left-0"}`,children:nde.map(it=>u.jsx("button",{onClick:()=>X(le.id,it),className:"p-1.5 hover:bg-white/10 rounded-lg transition text-sm",children:it},it))}),u.jsx("div",{className:`px-4 py-2.5 text-sm leading-relaxed shadow-lg backdrop-blur-sm border ${ut?"bg-indigo-600/80 text-white rounded-2xl rounded-tr-sm border-indigo-500/30":`bg-white/10 text-gray-100 rounded-2xl rounded-tl-sm border-white/5 ${le.isFlagged?"border-red-500/50 bg-red-900/20":""}`} ${le.isGlobalPinned?"ring-1 ring-yellow-500/50 bg-yellow-900/10":""}`,children:le.content}),u.jsx("div",{className:"flex flex-wrap gap-1 mt-1 justify-end",children:le.reactions&&Object.entries(le.reactions).map(([it,Rt])=>{const Oe=Rt;return Oe.length>0&&u.jsxs("button",{onClick:()=>X(le.id,it),className:`text-[10px] px-1.5 py-0.5 rounded-full border transition ${Oe.includes(t.id)?"bg-indigo-500/30 border-indigo-500/50 text-white":"bg-black/30 border-white/5 text-gray-400 hover:bg-white/10"}`,children:[it," ",Oe.length]},it)})})]})]},le.id)})}),u.jsx("div",{className:"p-4 bg-black/20 backdrop-blur-md border-t border-white/5",children:u.jsxs("form",{onSubmit:ce,className:"relative flex items-center gap-2",children:[S&&u.jsx("div",{ref:R,className:"absolute bottom-full left-0 mb-4 bg-[#1a1b1e] border border-white/10 rounded-2xl p-3 shadow-2xl grid grid-cols-6 gap-2 w-64 animate-in slide-in-from-bottom-2 z-50",children:ide.map(le=>u.jsx("button",{type:"button",onClick:()=>p(je=>je+le),className:"p-2 hover:bg-white/10 rounded-lg text-xl transition",children:le},le))}),u.jsx("button",{type:"button",onClick:()=>w(!S),className:"p-3 text-gray-400 hover:text-yellow-400 hover:bg-white/5 rounded-xl transition","aria-label":"Open emoji picker",children:u.jsx(BI,{className:"w-5 h-5"})}),u.jsx("input",{type:"text",value:h,onChange:le=>p(le.target.value),placeholder:ge?"Transmission Disabled":"Type message...",disabled:!Z||ge,className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-indigo-500/50 focus:bg-white/10 transition"}),u.jsx("button",{type:"submit",disabled:!Z||ge||!h.trim(),className:"p-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl shadow-lg transition","aria-label":"Send message",children:u.jsx(Doe,{className:"w-5 h-5"})})]})})]})]})]})]}):null};function WH(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=WH(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Zt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=WH(t))&&(n&&(n+=" "),n+=e);return n}var n3,DR;function Va(){if(DR)return n3;DR=1;var t=Array.isArray;return n3=t,n3}var i3,LR;function XH(){if(LR)return i3;LR=1;var t=typeof zy=="object"&&zy&&zy.Object===Object&&zy;return i3=t,i3}var a3,BR;function Vo(){if(BR)return a3;BR=1;var t=XH(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return a3=r,a3}var s3,UR;function r1(){if(UR)return s3;UR=1;var t=Vo(),e=t.Symbol;return s3=e,s3}var o3,zR;function sde(){if(zR)return o3;zR=1;var t=r1(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var l=r.call(s,i),d=s[i];try{s[i]=void 0;var h=!0}catch{}var p=n.call(s);return h&&(l?s[i]=d:delete s[i]),p}return o3=a,o3}var l3,$R;function ode(){if($R)return l3;$R=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return l3=r,l3}var c3,VR;function Zl(){if(VR)return c3;VR=1;var t=r1(),e=sde(),r=ode(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:a&&a in Object(l)?e(l):r(l)}return c3=s,c3}var u3,FR;function Jl(){if(FR)return u3;FR=1;function t(e){return e!=null&&typeof e=="object"}return u3=t,u3}var d3,qR;function wf(){if(qR)return d3;qR=1;var t=Zl(),e=Jl(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return d3=n,d3}var h3,HR;function qE(){if(HR)return h3;HR=1;var t=Va(),e=wf(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return h3=i,h3}var f3,GR;function xu(){if(GR)return f3;GR=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return f3=t,f3}var p3,KR;function HE(){if(KR)return p3;KR=1;var t=Zl(),e=xu(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!e(l))return!1;var d=t(l);return d==n||d==i||d==r||d==a}return p3=s,p3}var m3,WR;function lde(){if(WR)return m3;WR=1;var t=Vo(),e=t["__core-js_shared__"];return m3=e,m3}var g3,XR;function cde(){if(XR)return g3;XR=1;var t=lde(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return g3=r,g3}var y3,QR;function QH(){if(QR)return y3;QR=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return y3=r,y3}var v3,YR;function ude(){if(YR)return v3;YR=1;var t=HE(),e=cde(),r=xu(),n=QH(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,d=s.toString,h=l.hasOwnProperty,p=RegExp("^"+d.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!r(y)||e(y))return!1;var b=t(y)?p:a;return b.test(n(y))}return v3=m,v3}var b3,ZR;function dde(){if(ZR)return b3;ZR=1;function t(e,r){return e==null?void 0:e[r]}return b3=t,b3}var x3,JR;function e0(){if(JR)return x3;JR=1;var t=ude(),e=dde();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return x3=r,x3}var w3,eM;function x2(){if(eM)return w3;eM=1;var t=e0(),e=t(Object,"create");return w3=e,w3}var _3,tM;function hde(){if(tM)return _3;tM=1;var t=x2();function e(){this.__data__=t?t(null):{},this.size=0}return _3=e,_3}var S3,rM;function fde(){if(rM)return S3;rM=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return S3=t,S3}var T3,nM;function pde(){if(nM)return T3;nM=1;var t=x2(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var l=s[a];return l===e?void 0:l}return n.call(s,a)?s[a]:void 0}return T3=i,T3}var A3,iM;function mde(){if(iM)return A3;iM=1;var t=x2(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return A3=n,A3}var E3,aM;function gde(){if(aM)return E3;aM=1;var t=x2(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return E3=r,E3}var N3,sM;function yde(){if(sM)return N3;sM=1;var t=hde(),e=fde(),r=pde(),n=mde(),i=gde();function a(s){var l=-1,d=s==null?0:s.length;for(this.clear();++l<d;){var h=s[l];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,N3=a,N3}var C3,oM;function vde(){if(oM)return C3;oM=1;function t(){this.__data__=[],this.size=0}return C3=t,C3}var j3,lM;function GE(){if(lM)return j3;lM=1;function t(e,r){return e===r||e!==e&&r!==r}return j3=t,j3}var k3,cM;function w2(){if(cM)return k3;cM=1;var t=GE();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return k3=e,k3}var O3,uM;function bde(){if(uM)return O3;uM=1;var t=w2(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():r.call(a,s,1),--this.size,!0}return O3=n,O3}var I3,dM;function xde(){if(dM)return I3;dM=1;var t=w2();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return I3=e,I3}var R3,hM;function wde(){if(hM)return R3;hM=1;var t=w2();function e(r){return t(this.__data__,r)>-1}return R3=e,R3}var M3,fM;function _de(){if(fM)return M3;fM=1;var t=w2();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return M3=e,M3}var P3,pM;function _2(){if(pM)return P3;pM=1;var t=vde(),e=bde(),r=xde(),n=wde(),i=_de();function a(s){var l=-1,d=s==null?0:s.length;for(this.clear();++l<d;){var h=s[l];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,P3=a,P3}var D3,mM;function KE(){if(mM)return D3;mM=1;var t=e0(),e=Vo(),r=t(e,"Map");return D3=r,D3}var L3,gM;function Sde(){if(gM)return L3;gM=1;var t=yde(),e=_2(),r=KE();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return L3=n,L3}var B3,yM;function Tde(){if(yM)return B3;yM=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return B3=t,B3}var U3,vM;function S2(){if(vM)return U3;vM=1;var t=Tde();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return U3=e,U3}var z3,bM;function Ade(){if(bM)return z3;bM=1;var t=S2();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return z3=e,z3}var $3,xM;function Ede(){if(xM)return $3;xM=1;var t=S2();function e(r){return t(this,r).get(r)}return $3=e,$3}var V3,wM;function Nde(){if(wM)return V3;wM=1;var t=S2();function e(r){return t(this,r).has(r)}return V3=e,V3}var F3,_M;function Cde(){if(_M)return F3;_M=1;var t=S2();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return F3=e,F3}var q3,SM;function WE(){if(SM)return q3;SM=1;var t=Sde(),e=Ade(),r=Ede(),n=Nde(),i=Cde();function a(s){var l=-1,d=s==null?0:s.length;for(this.clear();++l<d;){var h=s[l];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,q3=a,q3}var H3,TM;function YH(){if(TM)return H3;TM=1;var t=WE(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,l=i?i.apply(this,s):s[0],d=a.cache;if(d.has(l))return d.get(l);var h=n.apply(this,s);return a.cache=d.set(l,h)||d,h};return a.cache=new(r.Cache||t),a}return r.Cache=t,H3=r,H3}var G3,AM;function jde(){if(AM)return G3;AM=1;var t=YH(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return G3=r,G3}var K3,EM;function kde(){if(EM)return K3;EM=1;var t=jde(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,l,d,h){a.push(d?h.replace(r,"$1"):l||s)}),a});return K3=n,K3}var W3,NM;function XE(){if(NM)return W3;NM=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return W3=t,W3}var X3,CM;function Ode(){if(CM)return X3;CM=1;var t=r1(),e=XE(),r=Va(),n=wf(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return a?a.call(l):"";var d=l+"";return d=="0"&&1/l==-1/0?"-0":d}return X3=s,X3}var Q3,jM;function ZH(){if(jM)return Q3;jM=1;var t=Ode();function e(r){return r==null?"":t(r)}return Q3=e,Q3}var Y3,kM;function JH(){if(kM)return Y3;kM=1;var t=Va(),e=qE(),r=kde(),n=ZH();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return Y3=i,Y3}var Z3,OM;function T2(){if(OM)return Z3;OM=1;var t=wf();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Z3=e,Z3}var J3,IM;function QE(){if(IM)return J3;IM=1;var t=JH(),e=T2();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return J3=r,J3}var e6,RM;function eG(){if(RM)return e6;RM=1;var t=QE();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return e6=e,e6}var Ide=eG();const ks=Tr(Ide);var t6,MM;function Rde(){if(MM)return t6;MM=1;function t(e){return e==null}return t6=t,t6}var Mde=Rde();const Gt=Tr(Mde);var r6,PM;function Pde(){if(PM)return r6;PM=1;var t=Zl(),e=Va(),r=Jl(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return r6=i,r6}var Dde=Pde();const $d=Tr(Dde);var Lde=HE();const Ut=Tr(Lde);var Bde=xu();const _f=Tr(Bde);var n6={exports:{}},Nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DM;function Ude(){if(DM)return Nr;DM=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function S(w){if(typeof w=="object"&&w!==null){var N=w.$$typeof;switch(N){case t:switch(w=w.type,w){case r:case i:case n:case h:case p:return w;default:switch(w=w&&w.$$typeof,w){case l:case s:case d:case y:case m:case a:return w;default:return N}}case e:return N}}}return Nr.ContextConsumer=s,Nr.ContextProvider=a,Nr.Element=t,Nr.ForwardRef=d,Nr.Fragment=r,Nr.Lazy=y,Nr.Memo=m,Nr.Portal=e,Nr.Profiler=i,Nr.StrictMode=n,Nr.Suspense=h,Nr.SuspenseList=p,Nr.isAsyncMode=function(){return!1},Nr.isConcurrentMode=function(){return!1},Nr.isContextConsumer=function(w){return S(w)===s},Nr.isContextProvider=function(w){return S(w)===a},Nr.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Nr.isForwardRef=function(w){return S(w)===d},Nr.isFragment=function(w){return S(w)===r},Nr.isLazy=function(w){return S(w)===y},Nr.isMemo=function(w){return S(w)===m},Nr.isPortal=function(w){return S(w)===e},Nr.isProfiler=function(w){return S(w)===i},Nr.isStrictMode=function(w){return S(w)===n},Nr.isSuspense=function(w){return S(w)===h},Nr.isSuspenseList=function(w){return S(w)===p},Nr.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===i||w===n||w===h||w===p||w===b||typeof w=="object"&&w!==null&&(w.$$typeof===y||w.$$typeof===m||w.$$typeof===a||w.$$typeof===s||w.$$typeof===d||w.$$typeof===T||w.getModuleId!==void 0)},Nr.typeOf=S,Nr}var LM;function zde(){return LM||(LM=1,n6.exports=Ude()),n6.exports}var $de=zde(),i6,BM;function tG(){if(BM)return i6;BM=1;var t=Zl(),e=Jl(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return i6=n,i6}var a6,UM;function Vde(){if(UM)return a6;UM=1;var t=tG();function e(r){return t(r)&&r!=+r}return a6=e,a6}var Fde=Vde();const n1=Tr(Fde);var qde=tG();const Hde=Tr(qde);var to=function(e){return e===0?0:e>0?1:-1},md=function(e){return $d(e)&&e.indexOf("%")===e.length-1},ot=function(e){return Hde(e)&&!n1(e)},Gde=function(e){return Gt(e)},pi=function(e){return ot(e)||$d(e)},Kde=0,i1=function(e){var r=++Kde;return"".concat(e||"").concat(r)},ro=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ot(e)&&!$d(e))return n;var a;if(md(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return n1(a)&&(a=n),i&&a>r&&(a=r),a},Hc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Wde=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Ma=function(e,r){return ot(e)&&ot(r)?function(n){return e+n*(r-e)}:function(){return r}};function Nb(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ks(n,e))===r})}var Xde=function(e){if(!e||!e.length)return null;for(var r=e.length,n=0,i=0,a=0,s=0,l=1/0,d=-1/0,h=0,p=0,m=0;m<r;m++)h=e[m].cx||0,p=e[m].cy||0,n+=h,i+=p,a+=h*p,s+=h*h,l=Math.min(l,h),d=Math.max(d,h);var y=r*s!==n*n?(r*a-n*i)/(r*s-n*n):0;return{xmin:l,xmax:d,a:y,b:(i-y*n)/r}},Qde=function(e,r){return ot(e)&&ot(r)?e-r:$d(e)&&$d(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ph(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function xA(t){"@babel/helpers - typeof";return xA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xA(t)}var Yde=["viewBox","children"],Zde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zM=["points","pathLength"],s6={svg:Yde,polygon:zM,polyline:zM},YE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cb=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(P.isValidElement(e)&&(n=e.props),!_f(n))return null;var i={};return Object.keys(n).forEach(function(a){YE.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},Jde=function(e,r,n){return function(i){return e(r,n,i),null}},Vd=function(e,r,n){if(!_f(e)||xA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];YE.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Jde(s,r,n))}),i},e0e=["children"],t0e=["children"];function $M(t,e){if(t==null)return{};var r=r0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var VM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ol=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},FM=null,o6=null,ZE=function t(e){if(e===FM&&Array.isArray(o6))return o6;var r=[];return P.Children.forEach(e,function(n){Gt(n)||($de.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),o6=r,FM=e,r};function cs(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ol(i)}):n=[Ol(e)],ZE(t).forEach(function(i){var a=ks(i,"type.displayName")||ks(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function es(t,e){var r=cs(t,e);return r&&r[0]}var qM=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ot(n)||n<=0||!ot(i)||i<=0)},n0e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],i0e=function(e){return e&&e.type&&$d(e.type)&&n0e.indexOf(e.type)>=0},a0e=function(e,r,n,i){var a,s=(a=s6==null?void 0:s6[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ut(e)&&(i&&s.includes(r)||Zde.includes(r))||n&&YE.includes(r)},Ct=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!_f(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;a0e((l=i)===null||l===void 0?void 0:l[s],s,r,n)&&(a[s]=i[s])}),a},wA=function t(e,r){if(e===r)return!0;var n=P.Children.count(e);if(n!==P.Children.count(r))return!1;if(n===0)return!0;if(n===1)return HM(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!HM(a,s))return!1}return!0},HM=function(e,r){if(Gt(e)&&Gt(r))return!0;if(!Gt(e)&&!Gt(r)){var n=e.props||{},i=n.children,a=$M(n,e0e),s=r.props||{},l=s.children,d=$M(s,t0e);return i&&l?ph(a,d)&&wA(i,l):!i&&!l?ph(a,d):!1}return!1},GM=function(e,r){var n=[],i={};return ZE(e).forEach(function(a,s){if(i0e(a))n.push(a);else if(a){var l=Ol(a.type),d=r[l]||{},h=d.handler,p=d.once;if(h&&(!p||!i[l])){var m=h(a,l,s);n.push(m),i[l]=!0}}}),n},s0e=function(e){var r=e&&e.type;return r&&VM[r]?VM[r]:null},o0e=function(e,r){return ZE(r).indexOf(e)},l0e=["children","width","height","viewBox","className","style","title","desc"];function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_A.apply(this,arguments)}function c0e(t,e){if(t==null)return{};var r=u0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function u0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SA(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,l=t.title,d=t.desc,h=c0e(t,l0e),p=i||{width:r,height:n,x:0,y:0},m=Zt("recharts-surface",a);return ee.createElement("svg",_A({},Ct(h,!0,"svg"),{className:m,width:r,height:n,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),ee.createElement("title",null,l),ee.createElement("desc",null,d),e)}var d0e=["children","className"];function TA(){return TA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TA.apply(this,arguments)}function h0e(t,e){if(t==null)return{};var r=f0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var xr=ee.forwardRef(function(t,e){var r=t.children,n=t.className,i=h0e(t,d0e),a=Zt("recharts-layer",n);return ee.createElement("g",TA({className:a},Ct(i,!0),{ref:e}),r)}),Il=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},l6,KM;function p0e(){if(KM)return l6;KM=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return l6=t,l6}var c6,WM;function m0e(){if(WM)return c6;WM=1;var t=p0e();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return c6=e,c6}var u6,XM;function rG(){if(XM)return u6;XM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+a+"]");function d(h){return l.test(h)}return u6=d,u6}var d6,QM;function g0e(){if(QM)return d6;QM=1;function t(e){return e.split("")}return d6=t,d6}var h6,YM;function y0e(){if(YM)return h6;YM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+l+"|"+d+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",T=h+"?",S="["+a+"]?",w="(?:"+b+"(?:"+[p,m,y].join("|")+")"+S+T+")*",N=S+T+w,k="(?:"+[p+l+"?",l,m,y,s].join("|")+")",j=RegExp(d+"(?="+d+")|"+k+N,"g");function $(I){return I.match(j)||[]}return h6=$,h6}var f6,ZM;function v0e(){if(ZM)return f6;ZM=1;var t=g0e(),e=rG(),r=y0e();function n(i){return e(i)?r(i):t(i)}return f6=n,f6}var p6,JM;function b0e(){if(JM)return p6;JM=1;var t=m0e(),e=rG(),r=v0e(),n=ZH();function i(a){return function(s){s=n(s);var l=e(s)?r(s):void 0,d=l?l[0]:s.charAt(0),h=l?t(l,1).join(""):s.slice(1);return d[a]()+h}}return p6=i,p6}var m6,eP;function x0e(){if(eP)return m6;eP=1;var t=b0e(),e=t("toUpperCase");return m6=e,m6}var w0e=x0e();const A2=Tr(w0e);function ln(t){return function(){return t}}const nG=Math.cos,jb=Math.sin,co=Math.sqrt,kb=Math.PI,E2=2*kb,AA=Math.PI,EA=2*AA,od=1e-6,_0e=EA-od;function iG(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function S0e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return iG;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class T0e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?iG:S0e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,d=n-e,h=i-r,p=s-e,m=l-r,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>od)if(!(Math.abs(m*d-h*p)>od)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-s,T=i-l,S=d*d+h*h,w=b*b+T*T,N=Math.sqrt(S),k=Math.sqrt(y),j=a*Math.tan((AA-Math.acos((S+y-w)/(2*N*k)))/2),$=j/k,I=j/N;Math.abs($-1)>od&&this._append`L${e+$*p},${r+$*m}`,this._append`A${a},${a},0,0,${+(m*b>p*T)},${this._x1=e+I*d},${this._y1=r+I*h}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),d=n*Math.sin(i),h=e+l,p=r+d,m=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>od||Math.abs(this._y1-p)>od)&&this._append`L${h},${p}`,n&&(y<0&&(y=y%EA+EA),y>_0e?this._append`A${n},${n},0,1,${m},${e-l},${r-d}A${n},${n},0,1,${m},${this._x1=h},${this._y1=p}`:y>od&&this._append`A${n},${n},0,${+(y>=AA)},${m},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function JE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new T0e(e)}function eN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aG(t){this._context=t}aG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function N2(t){return new aG(t)}function sG(t){return t[0]}function oG(t){return t[1]}function lG(t,e){var r=ln(!0),n=null,i=N2,a=null,s=JE(l);t=typeof t=="function"?t:t===void 0?sG:ln(t),e=typeof e=="function"?e:e===void 0?oG:ln(e);function l(d){var h,p=(d=eN(d)).length,m,y=!1,b;for(n==null&&(a=i(b=s())),h=0;h<=p;++h)!(h<p&&r(m=d[h],h,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(m,h,d),+e(m,h,d));if(b)return a=null,b+""||null}return l.x=function(d){return arguments.length?(t=typeof d=="function"?d:ln(+d),l):t},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:ln(+d),l):e},l.defined=function(d){return arguments.length?(r=typeof d=="function"?d:ln(!!d),l):r},l.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),l):i},l.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),l):n},l}function lv(t,e,r){var n=null,i=ln(!0),a=null,s=N2,l=null,d=JE(h);t=typeof t=="function"?t:t===void 0?sG:ln(+t),e=typeof e=="function"?e:ln(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?oG:ln(+r);function h(m){var y,b,T,S=(m=eN(m)).length,w,N=!1,k,j=new Array(S),$=new Array(S);for(a==null&&(l=s(k=d())),y=0;y<=S;++y){if(!(y<S&&i(w=m[y],y,m))===N)if(N=!N)b=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),T=y-1;T>=b;--T)l.point(j[T],$[T]);l.lineEnd(),l.areaEnd()}N&&(j[y]=+t(w,y,m),$[y]=+e(w,y,m),l.point(n?+n(w,y,m):j[y],r?+r(w,y,m):$[y]))}if(k)return l=null,k+""||null}function p(){return lG().defined(i).curve(s).context(a)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:ln(+m),n=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:ln(+m),h):t},h.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ln(+m),h):n},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:ln(+m),r=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:ln(+m),h):e},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ln(+m),h):r},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(r)},h.lineX1=function(){return p().x(n).y(e)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:ln(!!m),h):i},h.curve=function(m){return arguments.length?(s=m,a!=null&&(l=s(a)),h):s},h.context=function(m){return arguments.length?(m==null?a=l=null:l=s(a=m),h):a},h}class cG{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function A0e(t){return new cG(t,!0)}function E0e(t){return new cG(t,!1)}const tN={draw(t,e){const r=co(e/kb);t.moveTo(r,0),t.arc(0,0,r,0,E2)}},N0e={draw(t,e){const r=co(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},uG=co(1/3),C0e=uG*2,j0e={draw(t,e){const r=co(e/C0e),n=r*uG;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},k0e={draw(t,e){const r=co(e),n=-r/2;t.rect(n,n,r,r)}},O0e=.8908130915292852,dG=jb(kb/10)/jb(7*kb/10),I0e=jb(E2/10)*dG,R0e=-nG(E2/10)*dG,M0e={draw(t,e){const r=co(e*O0e),n=I0e*r,i=R0e*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=E2*a/5,l=nG(s),d=jb(s);t.lineTo(d*r,-l*r),t.lineTo(l*n-d*i,d*n+l*i)}t.closePath()}},g6=co(3),P0e={draw(t,e){const r=-co(e/(g6*3));t.moveTo(0,r*2),t.lineTo(-g6*r,-r),t.lineTo(g6*r,-r),t.closePath()}},_s=-.5,Ss=co(3)/2,NA=1/co(12),D0e=(NA/2+1)*3,L0e={draw(t,e){const r=co(e/D0e),n=r/2,i=r*NA,a=n,s=r*NA+r,l=-a,d=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(l,d),t.lineTo(_s*n-Ss*i,Ss*n+_s*i),t.lineTo(_s*a-Ss*s,Ss*a+_s*s),t.lineTo(_s*l-Ss*d,Ss*l+_s*d),t.lineTo(_s*n+Ss*i,_s*i-Ss*n),t.lineTo(_s*a+Ss*s,_s*s-Ss*a),t.lineTo(_s*l+Ss*d,_s*d-Ss*l),t.closePath()}};function B0e(t,e){let r=null,n=JE(i);t=typeof t=="function"?t:ln(t||tN),e=typeof e=="function"?e:ln(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ln(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ln(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Ob(){}function Ib(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function hG(t){this._context=t}hG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ib(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ib(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function U0e(t){return new hG(t)}function fG(t){this._context=t}fG.prototype={areaStart:Ob,areaEnd:Ob,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ib(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function z0e(t){return new fG(t)}function pG(t){this._context=t}pG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ib(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $0e(t){return new pG(t)}function mG(t){this._context=t}mG.prototype={areaStart:Ob,areaEnd:Ob,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function V0e(t){return new mG(t)}function tP(t){return t<0?-1:1}function rP(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(tP(a)+tP(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function nP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function y6(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,s-l*r,a,s)}function Rb(t){this._context=t}Rb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:y6(this,this._t0,nP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,y6(this,nP(this,r=rP(this,t,e)),r);break;default:y6(this,this._t0,r=rP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function gG(t){this._context=new yG(t)}(gG.prototype=Object.create(Rb.prototype)).point=function(t,e){Rb.prototype.point.call(this,e,t)};function yG(t){this._context=t}yG.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function F0e(t){return new Rb(t)}function q0e(t){return new gG(t)}function vG(t){this._context=t}vG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=iP(t),i=iP(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function iP(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function H0e(t){return new vG(t)}function C2(t,e){this._context=t,this._t=e}C2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function G0e(t){return new C2(t,.5)}function K0e(t){return new C2(t,0)}function W0e(t){return new C2(t,1)}function Lh(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,l=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function CA(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function X0e(t,e){return t[e]}function Q0e(t){const e=[];return e.key=t,e}function Y0e(){var t=ln([]),e=CA,r=Lh,n=X0e;function i(a){var s=Array.from(t.apply(this,arguments),Q0e),l,d=s.length,h=-1,p;for(const m of a)for(l=0,++h;l<d;++l)(s[l][h]=[0,+n(m,s[l].key,h,a)]).data=m;for(l=0,p=eN(e(s));l<d;++l)s[p[l]].index=l;return r(s,p),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ln(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ln(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?CA:typeof a=="function"?a:ln(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Lh,i):r},i}function Z0e(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Lh(t,e)}}function J0e(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Lh(t,e)}}function ehe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var l=0,d=0,h=0;l<s;++l){for(var p=t[e[l]],m=p[n][1]||0,y=p[n-1][1]||0,b=(m-y)/2,T=0;T<l;++T){var S=t[e[T]],w=S[n][1]||0,N=S[n-1][1]||0;b+=w-N}d+=m,h+=b*m}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,Lh(t,e)}}function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}var the=["type","size","sizeType"];function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jA.apply(this,arguments)}function aP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(r),!0).forEach(function(n){rhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rhe(t,e,r){return e=nhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nhe(t){var e=ihe(t,"string");return Km(e)=="symbol"?e:e+""}function ihe(t,e){if(Km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ahe(t,e){if(t==null)return{};var r=she(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function she(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bG={symbolCircle:tN,symbolCross:N0e,symbolDiamond:j0e,symbolSquare:k0e,symbolStar:M0e,symbolTriangle:P0e,symbolWye:L0e},ohe=Math.PI/180,lhe=function(e){var r="symbol".concat(A2(e));return bG[r]||tN},che=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*ohe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},uhe=function(e,r){bG["symbol".concat(A2(e))]=r},j2=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,d=ahe(e,the),h=sP(sP({},d),{},{type:n,size:a,sizeType:l}),p=function(){var w=lhe(n),N=B0e().type(w).size(che(a,l,n));return N()},m=h.className,y=h.cx,b=h.cy,T=Ct(h,!0);return y===+y&&b===+b&&a===+a?ee.createElement("path",jA({},T,{className:Zt("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(b,")"),d:p()})):null};j2.registerSymbol=uhe;function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function kA(){return kA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kA.apply(this,arguments)}function oP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dhe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(r),!0).forEach(function(n){Wm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wG(n.key),n)}}function phe(t,e,r){return e&&fhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mhe(t,e,r){return e=Mb(e),ghe(t,xG()?Reflect.construct(e,r||[],Mb(t).constructor):e.apply(t,r))}function ghe(t,e){if(e&&(Bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yhe(t)}function yhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xG=function(){return!!t})()}function Mb(t){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(t)}function vhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OA(t,e)}function OA(t,e){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OA(t,e)}function Wm(t,e,r){return e=wG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wG(t){var e=bhe(t,"string");return Bh(e)=="symbol"?e:e+""}function bhe(t,e){if(Bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ts=32,rN=(function(t){function e(){return hhe(this,e),mhe(this,e,arguments)}return vhe(e,t),phe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Ts/2,s=Ts/6,l=Ts/3,d=n.inactive?i:n.color;if(n.type==="plainline")return ee.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Ts,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return ee.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Ts,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return ee.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Ts/8,"h").concat(Ts,"v").concat(Ts*3/4,"h").concat(-Ts,"z"),className:"recharts-legend-icon"});if(ee.isValidElement(n.legendIcon)){var h=dhe({},n);return delete h.legendIcon,ee.cloneElement(n.legendIcon,h)}return ee.createElement(j2,{fill:d,cx:a,cy:a,size:Ts,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,d=i.formatter,h=i.inactiveColor,p={x:0,y:0,width:Ts,height:Ts},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(b,T){var S=b.formatter||d,w=Zt(Wm(Wm({"recharts-legend-item":!0},"legend-item-".concat(T),!0),"inactive",b.inactive));if(b.type==="none")return null;var N=Ut(b.value)?null:b.value;Il(!Ut(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=b.inactive?h:b.color;return ee.createElement("li",kA({className:w,style:m,key:"legend-item-".concat(T)},Vd(n.props,b,T)),ee.createElement(SA,{width:s,height:s,viewBox:p,style:y},n.renderIcon(b)),ee.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},S?S(N,b,T):N))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return ee.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(P.PureComponent);Wm(rN,"displayName","Legend");Wm(rN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var v6,lP;function xhe(){if(lP)return v6;lP=1;var t=_2();function e(){this.__data__=new t,this.size=0}return v6=e,v6}var b6,cP;function whe(){if(cP)return b6;cP=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return b6=t,b6}var x6,uP;function _he(){if(uP)return x6;uP=1;function t(e){return this.__data__.get(e)}return x6=t,x6}var w6,dP;function She(){if(dP)return w6;dP=1;function t(e){return this.__data__.has(e)}return w6=t,w6}var _6,hP;function The(){if(hP)return _6;hP=1;var t=_2(),e=KE(),r=WE(),n=200;function i(a,s){var l=this.__data__;if(l instanceof t){var d=l.__data__;if(!e||d.length<n-1)return d.push([a,s]),this.size=++l.size,this;l=this.__data__=new r(d)}return l.set(a,s),this.size=l.size,this}return _6=i,_6}var S6,fP;function _G(){if(fP)return S6;fP=1;var t=_2(),e=xhe(),r=whe(),n=_he(),i=She(),a=The();function s(l){var d=this.__data__=new t(l);this.size=d.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,S6=s,S6}var T6,pP;function Ahe(){if(pP)return T6;pP=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return T6=e,T6}var A6,mP;function Ehe(){if(mP)return A6;mP=1;function t(e){return this.__data__.has(e)}return A6=t,A6}var E6,gP;function SG(){if(gP)return E6;gP=1;var t=WE(),e=Ahe(),r=Ehe();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,E6=n,E6}var N6,yP;function TG(){if(yP)return N6;yP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return N6=t,N6}var C6,vP;function AG(){if(vP)return C6;vP=1;function t(e,r){return e.has(r)}return C6=t,C6}var j6,bP;function EG(){if(bP)return j6;bP=1;var t=SG(),e=TG(),r=AG(),n=1,i=2;function a(s,l,d,h,p,m){var y=d&n,b=s.length,T=l.length;if(b!=T&&!(y&&T>b))return!1;var S=m.get(s),w=m.get(l);if(S&&w)return S==l&&w==s;var N=-1,k=!0,j=d&i?new t:void 0;for(m.set(s,l),m.set(l,s);++N<b;){var $=s[N],I=l[N];if(h)var L=y?h(I,$,N,l,s,m):h($,I,N,s,l,m);if(L!==void 0){if(L)continue;k=!1;break}if(j){if(!e(l,function(E,A){if(!r(j,A)&&($===E||p($,E,d,h,m)))return j.push(A)})){k=!1;break}}else if(!($===I||p($,I,d,h,m))){k=!1;break}}return m.delete(s),m.delete(l),k}return j6=a,j6}var k6,xP;function Nhe(){if(xP)return k6;xP=1;var t=Vo(),e=t.Uint8Array;return k6=e,k6}var O6,wP;function Che(){if(wP)return O6;wP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return O6=t,O6}var I6,_P;function nN(){if(_P)return I6;_P=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return I6=t,I6}var R6,SP;function jhe(){if(SP)return R6;SP=1;var t=r1(),e=Nhe(),r=GE(),n=EG(),i=Che(),a=nN(),s=1,l=2,d="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",y="[object Number]",b="[object RegExp]",T="[object Set]",S="[object String]",w="[object Symbol]",N="[object ArrayBuffer]",k="[object DataView]",j=t?t.prototype:void 0,$=j?j.valueOf:void 0;function I(L,E,A,R,F,D,B){switch(A){case k:if(L.byteLength!=E.byteLength||L.byteOffset!=E.byteOffset)return!1;L=L.buffer,E=E.buffer;case N:return!(L.byteLength!=E.byteLength||!D(new e(L),new e(E)));case d:case h:case y:return r(+L,+E);case p:return L.name==E.name&&L.message==E.message;case b:case S:return L==E+"";case m:var M=i;case T:var Q=R&s;if(M||(M=a),L.size!=E.size&&!Q)return!1;var Z=B.get(L);if(Z)return Z==E;R|=l,B.set(L,E);var W=n(M(L),M(E),R,F,D,B);return B.delete(L),W;case w:if($)return $.call(L)==$.call(E)}return!1}return R6=I,R6}var M6,TP;function NG(){if(TP)return M6;TP=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return M6=t,M6}var P6,AP;function khe(){if(AP)return P6;AP=1;var t=NG(),e=Va();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return P6=r,P6}var D6,EP;function Ohe(){if(EP)return D6;EP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var l=e[n];r(l,n,e)&&(s[a++]=l)}return s}return D6=t,D6}var L6,NP;function Ihe(){if(NP)return L6;NP=1;function t(){return[]}return L6=t,L6}var B6,CP;function Rhe(){if(CP)return B6;CP=1;var t=Ohe(),e=Ihe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return n.call(s,l)}))}:e;return B6=a,B6}var U6,jP;function Mhe(){if(jP)return U6;jP=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return U6=t,U6}var z6,kP;function Phe(){if(kP)return z6;kP=1;var t=Zl(),e=Jl(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return z6=n,z6}var $6,OP;function iN(){if(OP)return $6;OP=1;var t=Phe(),e=Jl(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return $6=a,$6}var Qp={exports:{}},V6,IP;function Dhe(){if(IP)return V6;IP=1;function t(){return!1}return V6=t,V6}Qp.exports;var RP;function CG(){return RP||(RP=1,(function(t,e){var r=Vo(),n=Dhe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?r.Buffer:void 0,d=l?l.isBuffer:void 0,h=d||n;t.exports=h})(Qp,Qp.exports)),Qp.exports}var F6,MP;function aN(){if(MP)return F6;MP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return F6=r,F6}var q6,PP;function sN(){if(PP)return q6;PP=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return q6=e,q6}var H6,DP;function Lhe(){if(DP)return H6;DP=1;var t=Zl(),e=sN(),r=Jl(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",y="[object RegExp]",b="[object Set]",T="[object String]",S="[object WeakMap]",w="[object ArrayBuffer]",N="[object DataView]",k="[object Float32Array]",j="[object Float64Array]",$="[object Int8Array]",I="[object Int16Array]",L="[object Int32Array]",E="[object Uint8Array]",A="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",D={};D[k]=D[j]=D[$]=D[I]=D[L]=D[E]=D[A]=D[R]=D[F]=!0,D[n]=D[i]=D[w]=D[a]=D[N]=D[s]=D[l]=D[d]=D[h]=D[p]=D[m]=D[y]=D[b]=D[T]=D[S]=!1;function B(M){return r(M)&&e(M.length)&&!!D[t(M)]}return H6=B,H6}var G6,LP;function jG(){if(LP)return G6;LP=1;function t(e){return function(r){return e(r)}}return G6=t,G6}var Yp={exports:{}};Yp.exports;var BP;function Bhe(){return BP||(BP=1,(function(t,e){var r=XH(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,l=(function(){try{var d=i&&i.require&&i.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(Yp,Yp.exports)),Yp.exports}var K6,UP;function kG(){if(UP)return K6;UP=1;var t=Lhe(),e=jG(),r=Bhe(),n=r&&r.isTypedArray,i=n?e(n):t;return K6=i,K6}var W6,zP;function Uhe(){if(zP)return W6;zP=1;var t=Mhe(),e=iN(),r=Va(),n=CG(),i=aN(),a=kG(),s=Object.prototype,l=s.hasOwnProperty;function d(h,p){var m=r(h),y=!m&&e(h),b=!m&&!y&&n(h),T=!m&&!y&&!b&&a(h),S=m||y||b||T,w=S?t(h.length,String):[],N=w.length;for(var k in h)(p||l.call(h,k))&&!(S&&(k=="length"||b&&(k=="offset"||k=="parent")||T&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,N)))&&w.push(k);return w}return W6=d,W6}var X6,$P;function zhe(){if($P)return X6;$P=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return X6=e,X6}var Q6,VP;function OG(){if(VP)return Q6;VP=1;function t(e,r){return function(n){return e(r(n))}}return Q6=t,Q6}var Y6,FP;function $he(){if(FP)return Y6;FP=1;var t=OG(),e=t(Object.keys,Object);return Y6=e,Y6}var Z6,qP;function Vhe(){if(qP)return Z6;qP=1;var t=zhe(),e=$he(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&s.push(l);return s}return Z6=i,Z6}var J6,HP;function a1(){if(HP)return J6;HP=1;var t=HE(),e=sN();function r(n){return n!=null&&e(n.length)&&!t(n)}return J6=r,J6}var e_,GP;function k2(){if(GP)return e_;GP=1;var t=Uhe(),e=Vhe(),r=a1();function n(i){return r(i)?t(i):e(i)}return e_=n,e_}var t_,KP;function Fhe(){if(KP)return t_;KP=1;var t=khe(),e=Rhe(),r=k2();function n(i){return t(i,r,e)}return t_=n,t_}var r_,WP;function qhe(){if(WP)return r_;WP=1;var t=Fhe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,l,d,h,p){var m=l&e,y=t(a),b=y.length,T=t(s),S=T.length;if(b!=S&&!m)return!1;for(var w=b;w--;){var N=y[w];if(!(m?N in s:n.call(s,N)))return!1}var k=p.get(a),j=p.get(s);if(k&&j)return k==s&&j==a;var $=!0;p.set(a,s),p.set(s,a);for(var I=m;++w<b;){N=y[w];var L=a[N],E=s[N];if(d)var A=m?d(E,L,N,s,a,p):d(L,E,N,a,s,p);if(!(A===void 0?L===E||h(L,E,l,d,p):A)){$=!1;break}I||(I=N=="constructor")}if($&&!I){var R=a.constructor,F=s.constructor;R!=F&&"constructor"in a&&"constructor"in s&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&($=!1)}return p.delete(a),p.delete(s),$}return r_=i,r_}var n_,XP;function Hhe(){if(XP)return n_;XP=1;var t=e0(),e=Vo(),r=t(e,"DataView");return n_=r,n_}var i_,QP;function Ghe(){if(QP)return i_;QP=1;var t=e0(),e=Vo(),r=t(e,"Promise");return i_=r,i_}var a_,YP;function IG(){if(YP)return a_;YP=1;var t=e0(),e=Vo(),r=t(e,"Set");return a_=r,a_}var s_,ZP;function Khe(){if(ZP)return s_;ZP=1;var t=e0(),e=Vo(),r=t(e,"WeakMap");return s_=r,s_}var o_,JP;function Whe(){if(JP)return o_;JP=1;var t=Hhe(),e=KE(),r=Ghe(),n=IG(),i=Khe(),a=Zl(),s=QH(),l="[object Map]",d="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",y="[object DataView]",b=s(t),T=s(e),S=s(r),w=s(n),N=s(i),k=a;return(t&&k(new t(new ArrayBuffer(1)))!=y||e&&k(new e)!=l||r&&k(r.resolve())!=h||n&&k(new n)!=p||i&&k(new i)!=m)&&(k=function(j){var $=a(j),I=$==d?j.constructor:void 0,L=I?s(I):"";if(L)switch(L){case b:return y;case T:return l;case S:return h;case w:return p;case N:return m}return $}),o_=k,o_}var l_,eD;function Xhe(){if(eD)return l_;eD=1;var t=_G(),e=EG(),r=jhe(),n=qhe(),i=Whe(),a=Va(),s=CG(),l=kG(),d=1,h="[object Arguments]",p="[object Array]",m="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function T(S,w,N,k,j,$){var I=a(S),L=a(w),E=I?p:i(S),A=L?p:i(w);E=E==h?m:E,A=A==h?m:A;var R=E==m,F=A==m,D=E==A;if(D&&s(S)){if(!s(w))return!1;I=!0,R=!1}if(D&&!R)return $||($=new t),I||l(S)?e(S,w,N,k,j,$):r(S,w,E,N,k,j,$);if(!(N&d)){var B=R&&b.call(S,"__wrapped__"),M=F&&b.call(w,"__wrapped__");if(B||M){var Q=B?S.value():S,Z=M?w.value():w;return $||($=new t),j(Q,Z,N,k,$)}}return D?($||($=new t),n(S,w,N,k,j,$)):!1}return l_=T,l_}var c_,tD;function oN(){if(tD)return c_;tD=1;var t=Xhe(),e=Jl();function r(n,i,a,s,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,l)}return c_=r,c_}var u_,rD;function Qhe(){if(rD)return u_;rD=1;var t=_G(),e=oN(),r=1,n=2;function i(a,s,l,d){var h=l.length,p=h,m=!d;if(a==null)return!p;for(a=Object(a);h--;){var y=l[h];if(m&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++h<p;){y=l[h];var b=y[0],T=a[b],S=y[1];if(m&&y[2]){if(T===void 0&&!(b in a))return!1}else{var w=new t;if(d)var N=d(T,S,b,a,s,w);if(!(N===void 0?e(S,T,r|n,d,w):N))return!1}}return!0}return u_=i,u_}var d_,nD;function RG(){if(nD)return d_;nD=1;var t=xu();function e(r){return r===r&&!t(r)}return d_=e,d_}var h_,iD;function Yhe(){if(iD)return h_;iD=1;var t=RG(),e=k2();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],l=n[s];i[a]=[s,l,t(l)]}return i}return h_=r,h_}var f_,aD;function MG(){if(aD)return f_;aD=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return f_=t,f_}var p_,sD;function Zhe(){if(sD)return p_;sD=1;var t=Qhe(),e=Yhe(),r=MG();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return p_=n,p_}var m_,oD;function Jhe(){if(oD)return m_;oD=1;function t(e,r){return e!=null&&r in Object(e)}return m_=t,m_}var g_,lD;function efe(){if(lD)return g_;lD=1;var t=JH(),e=iN(),r=Va(),n=aN(),i=sN(),a=T2();function s(l,d,h){d=t(d,l);for(var p=-1,m=d.length,y=!1;++p<m;){var b=a(d[p]);if(!(y=l!=null&&h(l,b)))break;l=l[b]}return y||++p!=m?y:(m=l==null?0:l.length,!!m&&i(m)&&n(b,m)&&(r(l)||e(l)))}return g_=s,g_}var y_,cD;function tfe(){if(cD)return y_;cD=1;var t=Jhe(),e=efe();function r(n,i){return n!=null&&e(n,i,t)}return y_=r,y_}var v_,uD;function rfe(){if(uD)return v_;uD=1;var t=oN(),e=eG(),r=tfe(),n=qE(),i=RG(),a=MG(),s=T2(),l=1,d=2;function h(p,m){return n(p)&&i(m)?a(s(p),m):function(y){var b=e(y,p);return b===void 0&&b===m?r(y,p):t(m,b,l|d)}}return v_=h,v_}var b_,dD;function Sf(){if(dD)return b_;dD=1;function t(e){return e}return b_=t,b_}var x_,hD;function nfe(){if(hD)return x_;hD=1;function t(e){return function(r){return r==null?void 0:r[e]}}return x_=t,x_}var w_,fD;function ife(){if(fD)return w_;fD=1;var t=QE();function e(r){return function(n){return t(n,r)}}return w_=e,w_}var __,pD;function afe(){if(pD)return __;pD=1;var t=nfe(),e=ife(),r=qE(),n=T2();function i(a){return r(a)?t(n(a)):e(a)}return __=i,__}var S_,mD;function Fo(){if(mD)return S_;mD=1;var t=Zhe(),e=rfe(),r=Sf(),n=Va(),i=afe();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return S_=a,S_}var T_,gD;function PG(){if(gD)return T_;gD=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return T_=t,T_}var A_,yD;function sfe(){if(yD)return A_;yD=1;function t(e){return e!==e}return A_=t,A_}var E_,vD;function ofe(){if(vD)return E_;vD=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return E_=t,E_}var N_,bD;function lfe(){if(bD)return N_;bD=1;var t=PG(),e=sfe(),r=ofe();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return N_=n,N_}var C_,xD;function cfe(){if(xD)return C_;xD=1;var t=lfe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return C_=e,C_}var j_,wD;function ufe(){if(wD)return j_;wD=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return j_=t,j_}var k_,_D;function dfe(){if(_D)return k_;_D=1;function t(){}return k_=t,k_}var O_,SD;function hfe(){if(SD)return O_;SD=1;var t=IG(),e=dfe(),r=nN(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return O_=i,O_}var I_,TD;function ffe(){if(TD)return I_;TD=1;var t=SG(),e=cfe(),r=ufe(),n=AG(),i=hfe(),a=nN(),s=200;function l(d,h,p){var m=-1,y=e,b=d.length,T=!0,S=[],w=S;if(p)T=!1,y=r;else if(b>=s){var N=h?null:i(d);if(N)return a(N);T=!1,y=n,w=new t}else w=h?[]:S;e:for(;++m<b;){var k=d[m],j=h?h(k):k;if(k=p||k!==0?k:0,T&&j===j){for(var $=w.length;$--;)if(w[$]===j)continue e;h&&w.push(j),S.push(k)}else y(w,j,p)||(w!==S&&w.push(j),S.push(k))}return S}return I_=l,I_}var R_,AD;function pfe(){if(AD)return R_;AD=1;var t=Fo(),e=ffe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return R_=r,R_}var mfe=pfe();const ED=Tr(mfe);function DG(t,e,r){return e===!0?ED(t,r):Ut(e)?ED(t,e):t}function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}var gfe=["ref"];function ND(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(r),!0).forEach(function(n){O2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BG(n.key),n)}}function vfe(t,e,r){return e&&CD(t.prototype,e),r&&CD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bfe(t,e,r){return e=Pb(e),xfe(t,LG()?Reflect.construct(e,r||[],Pb(t).constructor):e.apply(t,r))}function xfe(t,e){if(e&&(Uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wfe(t)}function wfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LG=function(){return!!t})()}function Pb(t){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(t)}function _fe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IA(t,e)}function IA(t,e){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IA(t,e)}function O2(t,e,r){return e=BG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BG(t){var e=Sfe(t,"string");return Uh(e)=="symbol"?e:e+""}function Sfe(t,e){if(Uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Tfe(t,e){if(t==null)return{};var r=Afe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Afe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Efe(t){return t.value}function Nfe(t,e){if(ee.isValidElement(t))return ee.cloneElement(t,e);if(typeof t=="function")return ee.createElement(t,e);e.ref;var r=Tfe(e,gfe);return ee.createElement(rN,r)}var jD=1,mh=(function(t){function e(){var r;yfe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=bfe(this,e,[].concat(i)),O2(r,"lastBoundingBox",{width:-1,height:-1}),r}return _fe(e,t),vfe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>jD||Math.abs(i.height-this.lastBoundingBox.height)>jD)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,d=i.margin,h=i.chartWidth,p=i.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var b=this.getBBoxSnapshot();m={left:((h||0)-b.width)/2}}else m=s==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var T=this.getBBoxSnapshot();y={top:((p||0)-T.height)/2}}else y=l==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return fl(fl({},m),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,l=i.height,d=i.wrapperStyle,h=i.payloadUniqBy,p=i.payload,m=fl(fl({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(d)),d);return ee.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(b){n.wrapperNode=b}},Nfe(a,fl(fl({},this.props),{},{payload:DG(p,h,Efe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=fl(fl({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ot(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])})(P.PureComponent);O2(mh,"displayName","Legend");O2(mh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var M_,kD;function Cfe(){if(kD)return M_;kD=1;var t=r1(),e=iN(),r=Va(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return M_=i,M_}var P_,OD;function UG(){if(OD)return P_;OD=1;var t=NG(),e=Cfe();function r(n,i,a,s,l){var d=-1,h=n.length;for(a||(a=e),l||(l=[]);++d<h;){var p=n[d];i>0&&a(p)?i>1?r(p,i-1,a,s,l):t(l,p):s||(l[l.length]=p)}return l}return P_=r,P_}var D_,ID;function jfe(){if(ID)return D_;ID=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),l=i(r),d=l.length;d--;){var h=l[e?d:++a];if(n(s[h],h,s)===!1)break}return r}}return D_=t,D_}var L_,RD;function kfe(){if(RD)return L_;RD=1;var t=jfe(),e=t();return L_=e,L_}var B_,MD;function zG(){if(MD)return B_;MD=1;var t=kfe(),e=k2();function r(n,i){return n&&t(n,i,e)}return B_=r,B_}var U_,PD;function Ofe(){if(PD)return U_;PD=1;var t=a1();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,l=n?s:-1,d=Object(i);(n?l--:++l<s)&&a(d[l],l,d)!==!1;);return i}}return U_=e,U_}var z_,DD;function lN(){if(DD)return z_;DD=1;var t=zG(),e=Ofe(),r=e(t);return z_=r,z_}var $_,LD;function $G(){if(LD)return $_;LD=1;var t=lN(),e=a1();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(l,d,h){s[++a]=i(l,d,h)}),s}return $_=r,$_}var V_,BD;function Ife(){if(BD)return V_;BD=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return V_=t,V_}var F_,UD;function Rfe(){if(UD)return F_;UD=1;var t=wf();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,l=t(r),d=n!==void 0,h=n===null,p=n===n,m=t(n);if(!h&&!m&&!l&&r>n||l&&d&&p&&!h&&!m||a&&d&&p||!i&&p||!s)return 1;if(!a&&!l&&!m&&r<n||m&&i&&s&&!a&&!l||h&&i&&s||!d&&s||!p)return-1}return 0}return F_=e,F_}var q_,zD;function Mfe(){if(zD)return q_;zD=1;var t=Rfe();function e(r,n,i){for(var a=-1,s=r.criteria,l=n.criteria,d=s.length,h=i.length;++a<d;){var p=t(s[a],l[a]);if(p){if(a>=h)return p;var m=i[a];return p*(m=="desc"?-1:1)}}return r.index-n.index}return q_=e,q_}var H_,$D;function Pfe(){if($D)return H_;$D=1;var t=XE(),e=QE(),r=Fo(),n=$G(),i=Ife(),a=jG(),s=Mfe(),l=Sf(),d=Va();function h(p,m,y){m.length?m=t(m,function(S){return d(S)?function(w){return e(w,S.length===1?S[0]:S)}:S}):m=[l];var b=-1;m=t(m,a(r));var T=n(p,function(S,w,N){var k=t(m,function(j){return j(S)});return{criteria:k,index:++b,value:S}});return i(T,function(S,w){return s(S,w,y)})}return H_=h,H_}var G_,VD;function Dfe(){if(VD)return G_;VD=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return G_=t,G_}var K_,FD;function Lfe(){if(FD)return K_;FD=1;var t=Dfe(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,l=-1,d=e(s.length-i,0),h=Array(d);++l<d;)h[l]=s[i+l];l=-1;for(var p=Array(i+1);++l<i;)p[l]=s[l];return p[i]=a(h),t(n,this,p)}}return K_=r,K_}var W_,qD;function Bfe(){if(qD)return W_;qD=1;function t(e){return function(){return e}}return W_=t,W_}var X_,HD;function VG(){if(HD)return X_;HD=1;var t=e0(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return X_=e,X_}var Q_,GD;function Ufe(){if(GD)return Q_;GD=1;var t=Bfe(),e=VG(),r=Sf(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return Q_=n,Q_}var Y_,KD;function zfe(){if(KD)return Y_;KD=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var l=r(),d=e-(l-s);if(s=l,d>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Y_=n,Y_}var Z_,WD;function $fe(){if(WD)return Z_;WD=1;var t=Ufe(),e=zfe(),r=e(t);return Z_=r,Z_}var J_,XD;function Vfe(){if(XD)return J_;XD=1;var t=Sf(),e=Lfe(),r=$fe();function n(i,a){return r(e(i,a,t),i+"")}return J_=n,J_}var eS,QD;function I2(){if(QD)return eS;QD=1;var t=GE(),e=a1(),r=aN(),n=xu();function i(a,s,l){if(!n(l))return!1;var d=typeof s;return(d=="number"?e(l)&&r(s,l.length):d=="string"&&s in l)?t(l[s],a):!1}return eS=i,eS}var tS,YD;function Ffe(){if(YD)return tS;YD=1;var t=UG(),e=Pfe(),r=Vfe(),n=I2(),i=r(function(a,s){if(a==null)return[];var l=s.length;return l>1&&n(a,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return tS=i,tS}var qfe=Ffe();const cN=Tr(qfe);function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function RA(){return RA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RA.apply(this,arguments)}function Hfe(t,e){return Xfe(t)||Wfe(t,e)||Kfe(t,e)||Gfe()}function Gfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kfe(t,e){if(t){if(typeof t=="string")return ZD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZD(t,e)}}function ZD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function Xfe(t){if(Array.isArray(t))return t}function JD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(r),!0).forEach(function(n){Qfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qfe(t,e,r){return e=Yfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yfe(t){var e=Zfe(t,"string");return Xm(e)=="symbol"?e:e+""}function Zfe(t,e){if(Xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jfe(t){return Array.isArray(t)&&pi(t[0])&&pi(t[1])?t.join(" ~ "):t}var epe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,d=e.labelStyle,h=d===void 0?{}:d,p=e.payload,m=e.formatter,y=e.itemSorter,b=e.wrapperClassName,T=e.labelClassName,S=e.label,w=e.labelFormatter,N=e.accessibilityLayer,k=N===void 0?!1:N,j=function(){if(p&&p.length){var B={padding:0,margin:0},M=(y?cN(p,y):p).map(function(Q,Z){if(Q.type==="none")return null;var W=rS({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},l),J=Q.formatter||m||Jfe,Y=Q.value,ge=Q.name,ce=Y,X=ge;if(J&&ce!=null&&X!=null){var te=J(Y,ge,Q,Z,p);if(Array.isArray(te)){var ue=Hfe(te,2);ce=ue[0],X=ue[1]}else ce=te}return ee.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:W},pi(X)?ee.createElement("span",{className:"recharts-tooltip-item-name"},X):null,pi(X)?ee.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ee.createElement("span",{className:"recharts-tooltip-item-value"},ce),ee.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return ee.createElement("ul",{className:"recharts-tooltip-item-list",style:B},M)}return null},$=rS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),I=rS({margin:0},h),L=!Gt(S),E=L?S:"",A=Zt("recharts-default-tooltip",b),R=Zt("recharts-tooltip-label",T);L&&w&&p!==void 0&&p!==null&&(E=w(S,p));var F=k?{role:"status","aria-live":"assertive"}:{};return ee.createElement("div",RA({className:A,style:$},F),ee.createElement("p",{className:R,style:I},ee.isValidElement(E)?E:"".concat(E)),j())};function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}function cv(t,e,r){return e=tpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tpe(t){var e=rpe(t,"string");return Qm(e)=="symbol"?e:e+""}function rpe(t,e){if(Qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rp="recharts-tooltip-wrapper",npe={visibility:"hidden"};function ipe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Zt(Rp,cv(cv(cv(cv({},"".concat(Rp,"-right"),ot(r)&&e&&ot(e.x)&&r>=e.x),"".concat(Rp,"-left"),ot(r)&&e&&ot(e.x)&&r<e.x),"".concat(Rp,"-bottom"),ot(n)&&e&&ot(e.y)&&n>=e.y),"".concat(Rp,"-top"),ot(n)&&e&&ot(e.y)&&n<e.y))}function eL(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(a&&ot(a[n]))return a[n];var p=r[n]-l-i,m=r[n]+i;if(e[n])return s[n]?p:m;if(s[n]){var y=p,b=d[n];return y<b?Math.max(m,d[n]):Math.max(p,d[n])}var T=m+l,S=d[n]+h;return T>S?Math.max(p,d[n]):Math.max(m,d[n])}function ape(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function spe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,d=t.viewBox,h,p,m;return s.height>0&&s.width>0&&r?(p=eL({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),m=eL({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),h=ape({translateX:p,translateY:m,useTranslate3d:l})):h=npe,{cssProperties:h,cssClasses:ipe({translateX:p,translateY:m,coordinate:r})}}function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function tL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(r),!0).forEach(function(n){PA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ope(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qG(n.key),n)}}function cpe(t,e,r){return e&&lpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function upe(t,e,r){return e=Db(e),dpe(t,FG()?Reflect.construct(e,r||[],Db(t).constructor):e.apply(t,r))}function dpe(t,e){if(e&&(zh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hpe(t)}function hpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FG=function(){return!!t})()}function Db(t){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(t)}function fpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MA(t,e)}function PA(t,e,r){return e=qG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qG(t){var e=ppe(t,"string");return zh(e)=="symbol"?e:e+""}function ppe(t,e){if(zh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nL=1,mpe=(function(t){function e(){var r;ope(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=upe(this,e,[].concat(i)),PA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),PA(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,d,h,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&l!==void 0?l:0,y:(h=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),r}return fpe(e,t),cpe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>nL||Math.abs(n.height-this.state.lastBoundingBox.height)>nL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,d=i.animationEasing,h=i.children,p=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,b=i.offset,T=i.position,S=i.reverseDirection,w=i.useTranslate3d,N=i.viewBox,k=i.wrapperStyle,j=spe({allowEscapeViewBox:s,coordinate:p,offsetTopLeft:b,position:T,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:N}),$=j.cssClasses,I=j.cssProperties,L=rL(rL({transition:y&&a?"transform ".concat(l,"ms ").concat(d):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},k);return ee.createElement("div",{tabIndex:-1,className:$,style:L,ref:function(A){n.wrapperNode=A}},h)}}])})(P.PureComponent),gpe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},t0={isSsr:gpe()};function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function iL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(r),!0).forEach(function(n){uN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ype(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GG(n.key),n)}}function bpe(t,e,r){return e&&vpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xpe(t,e,r){return e=Lb(e),wpe(t,HG()?Reflect.construct(e,r||[],Lb(t).constructor):e.apply(t,r))}function wpe(t,e){if(e&&($h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _pe(t)}function _pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HG=function(){return!!t})()}function Lb(t){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(t)}function Spe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DA(t,e)}function DA(t,e){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DA(t,e)}function uN(t,e,r){return e=GG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GG(t){var e=Tpe(t,"string");return $h(e)=="symbol"?e:e+""}function Tpe(t,e){if($h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ape(t){return t.dataKey}function Epe(t,e){return ee.isValidElement(t)?ee.cloneElement(t,e):typeof t=="function"?ee.createElement(t,e):ee.createElement(epe,e)}var wo=(function(t){function e(){return ype(this,e),xpe(this,e,arguments)}return Spe(e,t),bpe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,d=i.animationEasing,h=i.content,p=i.coordinate,m=i.filterNull,y=i.isAnimationActive,b=i.offset,T=i.payload,S=i.payloadUniqBy,w=i.position,N=i.reverseDirection,k=i.useTranslate3d,j=i.viewBox,$=i.wrapperStyle,I=T??[];m&&I.length&&(I=DG(T.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),S,Ape));var L=I.length>0;return ee.createElement(mpe,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:y,active:a,coordinate:p,hasPayload:L,offset:b,position:w,reverseDirection:N,useTranslate3d:k,viewBox:j,wrapperStyle:$},Epe(h,aL(aL({},this.props),{},{payload:I})))}}])})(P.PureComponent);uN(wo,"displayName","Tooltip");uN(wo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!t0.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nS,sL;function Npe(){if(sL)return nS;sL=1;var t=Vo(),e=function(){return t.Date.now()};return nS=e,nS}var iS,oL;function Cpe(){if(oL)return iS;oL=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return iS=e,iS}var aS,lL;function jpe(){if(lL)return aS;lL=1;var t=Cpe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return aS=r,aS}var sS,cL;function KG(){if(cL)return sS;cL=1;var t=jpe(),e=xu(),r=wf(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var m=a.test(h);return m||s.test(h)?l(h.slice(2),m?2:8):i.test(h)?n:+h}return sS=d,sS}var oS,uL;function kpe(){if(uL)return oS;uL=1;var t=xu(),e=Npe(),r=KG(),n="Expected a function",i=Math.max,a=Math.min;function s(l,d,h){var p,m,y,b,T,S,w=0,N=!1,k=!1,j=!0;if(typeof l!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(N=!!h.leading,k="maxWait"in h,y=k?i(r(h.maxWait)||0,d):y,j="trailing"in h?!!h.trailing:j);function $(M){var Q=p,Z=m;return p=m=void 0,w=M,b=l.apply(Z,Q),b}function I(M){return w=M,T=setTimeout(A,d),N?$(M):b}function L(M){var Q=M-S,Z=M-w,W=d-Q;return k?a(W,y-Z):W}function E(M){var Q=M-S,Z=M-w;return S===void 0||Q>=d||Q<0||k&&Z>=y}function A(){var M=e();if(E(M))return R(M);T=setTimeout(A,L(M))}function R(M){return T=void 0,j&&p?$(M):(p=m=void 0,b)}function F(){T!==void 0&&clearTimeout(T),w=0,p=S=m=T=void 0}function D(){return T===void 0?b:R(e())}function B(){var M=e(),Q=E(M);if(p=arguments,m=this,S=M,Q){if(T===void 0)return I(S);if(k)return clearTimeout(T),T=setTimeout(A,d),$(S)}return T===void 0&&(T=setTimeout(A,d)),b}return B.cancel=F,B.flush=D,B}return oS=s,oS}var lS,dL;function Ope(){if(dL)return lS;dL=1;var t=kpe(),e=xu(),r="Expected a function";function n(i,a,s){var l=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(l="leading"in s?!!s.leading:l,d="trailing"in s?!!s.trailing:d),t(i,a,{leading:l,maxWait:a,trailing:d})}return lS=n,lS}var Ipe=Ope();const WG=Tr(Ipe);function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function hL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(r),!0).forEach(function(n){Rpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rpe(t,e,r){return e=Mpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mpe(t){var e=Ppe(t,"string");return Ym(e)=="symbol"?e:e+""}function Ppe(t,e){if(Ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dpe(t,e){return zpe(t)||Upe(t,e)||Bpe(t,e)||Lpe()}function Lpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bpe(t,e){if(t){if(typeof t=="string")return fL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fL(t,e)}}function fL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Upe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function zpe(t){if(Array.isArray(t))return t}var XG=P.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,l=t.height,d=l===void 0?"100%":l,h=t.minWidth,p=h===void 0?0:h,m=t.minHeight,y=t.maxHeight,b=t.children,T=t.debounce,S=T===void 0?0:T,w=t.id,N=t.className,k=t.onResize,j=t.style,$=j===void 0?{}:j,I=P.useRef(null),L=P.useRef();L.current=k,P.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var E=P.useState({containerWidth:i.width,containerHeight:i.height}),A=Dpe(E,2),R=A[0],F=A[1],D=P.useCallback(function(M,Q){F(function(Z){var W=Math.round(M),J=Math.round(Q);return Z.containerWidth===W&&Z.containerHeight===J?Z:{containerWidth:W,containerHeight:J}})},[]);P.useEffect(function(){var M=function(ge){var ce,X=ge[0].contentRect,te=X.width,ue=X.height;D(te,ue),(ce=L.current)===null||ce===void 0||ce.call(L,te,ue)};S>0&&(M=WG(M,S,{trailing:!0,leading:!1}));var Q=new ResizeObserver(M),Z=I.current.getBoundingClientRect(),W=Z.width,J=Z.height;return D(W,J),Q.observe(I.current),function(){Q.disconnect()}},[D,S]);var B=P.useMemo(function(){var M=R.containerWidth,Q=R.containerHeight;if(M<0||Q<0)return null;Il(md(s)||md(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,d),Il(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Z=md(s)?M:s,W=md(d)?Q:d;r&&r>0&&(Z?W=Z/r:W&&(Z=W*r),y&&W>y&&(W=y)),Il(Z>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,W,s,d,p,m,r);var J=!Array.isArray(b)&&Ol(b.type).endsWith("Chart");return ee.Children.map(b,function(Y){return ee.isValidElement(Y)?P.cloneElement(Y,uv({width:Z,height:W},J?{style:uv({height:"100%",width:"100%",maxHeight:W,maxWidth:Z},Y.props.style)}:{})):Y})},[r,b,d,y,m,p,R,s]);return ee.createElement("div",{id:w?"".concat(w):void 0,className:Zt("recharts-responsive-container",N),style:uv(uv({},$),{},{width:s,height:d,minWidth:p,minHeight:m,maxHeight:y}),ref:I},B)}),dN=function(e){return null};dN.displayName="Cell";function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function pL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(r),!0).forEach(function(n){$pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $pe(t,e,r){return e=Vpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vpe(t){var e=Fpe(t,"string");return Zm(e)=="symbol"?e:e+""}function Fpe(t,e){if(Zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G0={widthCache:{},cacheCount:0},qpe=2e3,Hpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mL="recharts_measurement_span";function Gpe(t){var e=LA({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var dm=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||t0.isSsr)return{width:0,height:0};var n=Gpe(r),i=JSON.stringify({text:e,copyStyle:n});if(G0.widthCache[i])return G0.widthCache[i];try{var a=document.getElementById(mL);a||(a=document.createElement("span"),a.setAttribute("id",mL),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=LA(LA({},Hpe),n);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),d={width:l.width,height:l.height};return G0.widthCache[i]=d,++G0.cacheCount>qpe&&(G0.cacheCount=0,G0.widthCache={}),d}catch{return{width:0,height:0}}},Kpe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function Bb(t,e){return Ype(t)||Qpe(t,e)||Xpe(t,e)||Wpe()}function Wpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xpe(t,e){if(t){if(typeof t=="string")return gL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gL(t,e)}}function gL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function Ype(t){if(Array.isArray(t))return t}function Zpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eme(n.key),n)}}function Jpe(t,e,r){return e&&yL(t.prototype,e),r&&yL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eme(t){var e=tme(t,"string");return Jm(e)=="symbol"?e:e+""}function tme(t,e){if(Jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ime=Object.keys(QG),nh="NaN";function ame(t,e){return t*QG[e]}var dv=(function(){function t(e,r){Zpe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!rme.test(r)&&(this.num=NaN,this.unit=""),ime.includes(r)&&(this.num=ame(e,r),this.unit="px")}return Jpe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=nme.exec(r))!==null&&n!==void 0?n:[],a=Bb(i,3),s=a[1],l=a[2];return new t(parseFloat(s),l??"")}}])})();function YG(t){if(t.includes(nh))return nh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=vL.exec(e))!==null&&r!==void 0?r:[],i=Bb(n,4),a=i[1],s=i[2],l=i[3],d=dv.parse(a??""),h=dv.parse(l??""),p=s==="*"?d.multiply(h):d.divide(h);if(p.isNaN())return nh;e=e.replace(vL,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=bL.exec(e))!==null&&m!==void 0?m:[],b=Bb(y,4),T=b[1],S=b[2],w=b[3],N=dv.parse(T??""),k=dv.parse(w??""),j=S==="+"?N.add(k):N.subtract(k);if(j.isNaN())return nh;e=e.replace(bL,j.toString())}return e}var xL=/\(([^()]*)\)/;function sme(t){for(var e=t;e.includes("(");){var r=xL.exec(e),n=Bb(r,2),i=n[1];e=e.replace(xL,YG(i))}return e}function ome(t){var e=t.replace(/\s+/g,"");return e=sme(e),e=YG(e),e}function lme(t){try{return ome(t)}catch{return nh}}function cS(t){var e=lme(t.slice(5,-1));return e===nh?"":e}var cme=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ume=["dx","dy","angle","className","breakAll"];function BA(){return BA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BA.apply(this,arguments)}function wL(t,e){if(t==null)return{};var r=dme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _L(t,e){return mme(t)||pme(t,e)||fme(t,e)||hme()}function hme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fme(t,e){if(t){if(typeof t=="string")return SL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SL(t,e)}}function SL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function mme(t){if(Array.isArray(t))return t}var ZG=/[ \f\n\r\t\v\u2028\u2029]+/,JG=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Gt(r)||(n?a=r.toString().split(""):a=r.toString().split(ZG));var s=a.map(function(d){return{word:d,width:dm(d,i).width}}),l=n?0:dm("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},gme=function(e,r,n,i,a){var s=e.maxLines,l=e.children,d=e.style,h=e.breakAll,p=ot(s),m=l,y=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(W,J){var Y=J.word,ge=J.width,ce=W[W.length-1];if(ce&&(i==null||a||ce.width+ge+n<Number(i)))ce.words.push(Y),ce.width+=ge+n;else{var X={words:[Y],width:ge};W.push(X)}return W},[])},b=y(r),T=function(Z){return Z.reduce(function(W,J){return W.width>J.width?W:J})};if(!p)return b;for(var S="",w=function(Z){var W=m.slice(0,Z),J=JG({breakAll:h,style:d,children:W+S}).wordsWithComputedWidth,Y=y(J),ge=Y.length>s||T(Y).width>Number(i);return[ge,Y]},N=0,k=m.length-1,j=0,$;N<=k&&j<=m.length-1;){var I=Math.floor((N+k)/2),L=I-1,E=w(L),A=_L(E,2),R=A[0],F=A[1],D=w(I),B=_L(D,1),M=B[0];if(!R&&!M&&(N=I+1),R&&M&&(k=I-1),!R&&M){$=F;break}j++}return $||b},TL=function(e){var r=Gt(e)?[]:e.toString().split(ZG);return[{words:r}]},yme=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((r||n)&&!t0.isSsr){var d,h,p=JG({breakAll:s,children:i,style:a});if(p){var m=p.wordsWithComputedWidth,y=p.spaceWidth;d=m,h=y}else return TL(i);return gme({breakAll:s,children:i,maxLines:l,style:a},d,h,r,n)}return TL(i)},AL="#808080",Vh=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,d=e.capHeight,h=d===void 0?"0.71em":d,p=e.scaleToFit,m=p===void 0?!1:p,y=e.textAnchor,b=y===void 0?"start":y,T=e.verticalAnchor,S=T===void 0?"end":T,w=e.fill,N=w===void 0?AL:w,k=wL(e,cme),j=P.useMemo(function(){return yme({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:m,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,m,k.style,k.width]),$=k.dx,I=k.dy,L=k.angle,E=k.className,A=k.breakAll,R=wL(k,ume);if(!pi(n)||!pi(a))return null;var F=n+(ot($)?$:0),D=a+(ot(I)?I:0),B;switch(S){case"start":B=cS("calc(".concat(h,")"));break;case"middle":B=cS("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(h," / 2))"));break;default:B=cS("calc(".concat(j.length-1," * -").concat(l,")"));break}var M=[];if(m){var Q=j[0].width,Z=k.width;M.push("scale(".concat((ot(Z)?Z/Q:1)/Q,")"))}return L&&M.push("rotate(".concat(L,", ").concat(F,", ").concat(D,")")),M.length&&(R.transform=M.join(" ")),ee.createElement("text",BA({},Ct(R,!0),{x:F,y:D,className:Zt("recharts-text",E),textAnchor:b,fill:N.includes("url")?AL:N}),j.map(function(W,J){var Y=W.words.join(A?"":" ");return ee.createElement("tspan",{x:F,dy:J===0?B:l,key:"".concat(Y,"-").concat(J)},Y)}))};function iu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vme(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hN(t){let e,r,n;t.length!==2?(e=iu,r=(l,d)=>iu(t(l),d),n=(l,d)=>t(l)-d):(e=t===iu||t===vme?t:bme,r=t,n=t);function i(l,d,h=0,p=l.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(l[m],d)<0?h=m+1:p=m}while(h<p)}return h}function a(l,d,h=0,p=l.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(l[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function s(l,d,h=0,p=l.length){const m=i(l,d,h,p-1);return m>h&&n(l[m-1],d)>-n(l[m],d)?m-1:m}return{left:i,center:s,right:a}}function bme(){return 0}function eK(t){return t===null?NaN:+t}function*xme(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const wme=hN(iu),s1=wme.right;hN(eK).center;class EL extends Map{constructor(e,r=Tme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(NL(this,e))}has(e){return super.has(NL(this,e))}set(e,r){return super.set(_me(this,e),r)}delete(e){return super.delete(Sme(this,e))}}function NL({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function _me({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Sme({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Tme(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ame(t=iu){if(t===iu)return tK;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function tK(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Eme=Math.sqrt(50),Nme=Math.sqrt(10),Cme=Math.sqrt(2);function Ub(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Eme?10:a>=Nme?5:a>=Cme?2:1;let l,d,h;return i<0?(h=Math.pow(10,-i)/s,l=Math.round(t*h),d=Math.round(e*h),l/h<t&&++l,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*s,l=Math.round(t/h),d=Math.round(e/h),l*h<t&&++l,d*h>e&&--d),d<l&&.5<=r&&r<2?Ub(t,e,r*2):[l,d,h]}function UA(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?Ub(e,t,r):Ub(t,e,r);if(!(a>=i))return[];const l=a-i+1,d=new Array(l);if(n)if(s<0)for(let h=0;h<l;++h)d[h]=(a-h)/-s;else for(let h=0;h<l;++h)d[h]=(a-h)*s;else if(s<0)for(let h=0;h<l;++h)d[h]=(i+h)/-s;else for(let h=0;h<l;++h)d[h]=(i+h)*s;return d}function zA(t,e,r){return e=+e,t=+t,r=+r,Ub(t,e,r)[2]}function $A(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?zA(e,t,r):zA(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function CL(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function jL(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function rK(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?tK:Ame(i);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),b=Math.max(r,Math.floor(e-h*m/d+y)),T=Math.min(n,Math.floor(e+(d-h)*m/d+y));rK(t,e,b,T,i)}const a=t[e];let s=r,l=n;for(Mp(t,r,e),i(t[n],a)>0&&Mp(t,r,n);s<l;){for(Mp(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?Mp(t,r,l):(++l,Mp(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Mp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function jme(t,e,r){if(t=Float64Array.from(xme(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return jL(t);if(e>=1)return CL(t);var n,i=(n-1)*e,a=Math.floor(i),s=CL(rK(t,a).subarray(0,a+1)),l=jL(t.subarray(a+1));return s+(l-s)*(i-a)}}function kme(t,e,r=eK){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function Ome(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Bs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ec(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const VA=Symbol("implicit");function fN(){var t=new EL,e=[],r=[],n=VA;function i(a){let s=t.get(a);if(s===void 0){if(n!==VA)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new EL;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return fN(e,r).unknown(n)},Bs.apply(i,arguments),i}function eg(){var t=fN().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,l=!1,d=0,h=0,p=.5;delete t.unknown;function m(){var y=e().length,b=i<n,T=b?i:n,S=b?n:i;a=(S-T)/Math.max(1,y-d+h*2),l&&(a=Math.floor(a)),T+=(S-T-a*(y-d))*p,s=a*(1-d),l&&(T=Math.round(T),s=Math.round(s));var w=Ome(y).map(function(N){return T+a*N});return r(b?w.reverse():w)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,l=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(l=!!y,m()):l},t.padding=function(y){return arguments.length?(d=Math.min(1,h=+y),m()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),m()):d},t.paddingOuter=function(y){return arguments.length?(h=+y,m()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},t.copy=function(){return eg(e(),[n,i]).round(l).paddingInner(d).paddingOuter(h).align(p)},Bs.apply(m(),arguments)}function nK(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nK(e())},t}function hm(){return nK(eg.apply(null,arguments).paddingInner(1))}function pN(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function iK(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function o1(){}var tg=.7,zb=1/tg,gh="\\s*([+-]?\\d+)\\s*",rg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ime=/^#([0-9a-f]{3,8})$/,Rme=new RegExp(`^rgb\\(${gh},${gh},${gh}\\)$`),Mme=new RegExp(`^rgb\\(${ko},${ko},${ko}\\)$`),Pme=new RegExp(`^rgba\\(${gh},${gh},${gh},${rg}\\)$`),Dme=new RegExp(`^rgba\\(${ko},${ko},${ko},${rg}\\)$`),Lme=new RegExp(`^hsl\\(${rg},${ko},${ko}\\)$`),Bme=new RegExp(`^hsla\\(${rg},${ko},${ko},${rg}\\)$`),kL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pN(o1,ng,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:OL,formatHex:OL,formatHex8:Ume,formatHsl:zme,formatRgb:IL,toString:IL});function OL(){return this.rgb().formatHex()}function Ume(){return this.rgb().formatHex8()}function zme(){return aK(this).formatHsl()}function IL(){return this.rgb().formatRgb()}function ng(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Ime.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?RL(e):r===3?new Ba(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?hv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?hv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Rme.exec(t))?new Ba(e[1],e[2],e[3],1):(e=Mme.exec(t))?new Ba(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Pme.exec(t))?hv(e[1],e[2],e[3],e[4]):(e=Dme.exec(t))?hv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Lme.exec(t))?DL(e[1],e[2]/100,e[3]/100,1):(e=Bme.exec(t))?DL(e[1],e[2]/100,e[3]/100,e[4]):kL.hasOwnProperty(t)?RL(kL[t]):t==="transparent"?new Ba(NaN,NaN,NaN,0):null}function RL(t){return new Ba(t>>16&255,t>>8&255,t&255,1)}function hv(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ba(t,e,r,n)}function $me(t){return t instanceof o1||(t=ng(t)),t?(t=t.rgb(),new Ba(t.r,t.g,t.b,t.opacity)):new Ba}function FA(t,e,r,n){return arguments.length===1?$me(t):new Ba(t,e,r,n??1)}function Ba(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}pN(Ba,FA,iK(o1,{brighter(t){return t=t==null?zb:Math.pow(zb,t),new Ba(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?tg:Math.pow(tg,t),new Ba(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ba(Ed(this.r),Ed(this.g),Ed(this.b),$b(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ML,formatHex:ML,formatHex8:Vme,formatRgb:PL,toString:PL}));function ML(){return`#${gd(this.r)}${gd(this.g)}${gd(this.b)}`}function Vme(){return`#${gd(this.r)}${gd(this.g)}${gd(this.b)}${gd((isNaN(this.opacity)?1:this.opacity)*255)}`}function PL(){const t=$b(this.opacity);return`${t===1?"rgb(":"rgba("}${Ed(this.r)}, ${Ed(this.g)}, ${Ed(this.b)}${t===1?")":`, ${t})`}`}function $b(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ed(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gd(t){return t=Ed(t),(t<16?"0":"")+t.toString(16)}function DL(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new eo(t,e,r,n)}function aK(t){if(t instanceof eo)return new eo(t.h,t.s,t.l,t.opacity);if(t instanceof o1||(t=ng(t)),!t)return new eo;if(t instanceof eo)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,l=a-i,d=(a+i)/2;return l?(e===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-e)/l+2:s=(e-r)/l+4,l/=d<.5?a+i:2-a-i,s*=60):l=d>0&&d<1?0:s,new eo(s,l,d,t.opacity)}function Fme(t,e,r,n){return arguments.length===1?aK(t):new eo(t,e,r,n??1)}function eo(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}pN(eo,Fme,iK(o1,{brighter(t){return t=t==null?zb:Math.pow(zb,t),new eo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?tg:Math.pow(tg,t),new eo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ba(uS(t>=240?t-240:t+120,i,n),uS(t,i,n),uS(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new eo(LL(this.h),fv(this.s),fv(this.l),$b(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$b(this.opacity);return`${t===1?"hsl(":"hsla("}${LL(this.h)}, ${fv(this.s)*100}%, ${fv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function LL(t){return t=(t||0)%360,t<0?t+360:t}function fv(t){return Math.max(0,Math.min(1,t||0))}function uS(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const mN=t=>()=>t;function qme(t,e){return function(r){return t+r*e}}function Hme(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Gme(t){return(t=+t)==1?sK:function(e,r){return r-e?Hme(e,r,t):mN(isNaN(e)?r:e)}}function sK(t,e){var r=e-t;return r?qme(t,r):mN(isNaN(t)?e:t)}const BL=(function t(e){var r=Gme(e);function n(i,a){var s=r((i=FA(i)).r,(a=FA(a)).r),l=r(i.g,a.g),d=r(i.b,a.b),h=sK(i.opacity,a.opacity);return function(p){return i.r=s(p),i.g=l(p),i.b=d(p),i.opacity=h(p),i+""}}return n.gamma=t,n})(1);function Kme(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Wme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xme(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Tf(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function Qme(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Vb(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Yme(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Tf(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var qA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dS=new RegExp(qA.source,"g");function Zme(t){return function(){return t}}function Jme(t){return function(e){return t(e)+""}}function ege(t,e){var r=qA.lastIndex=dS.lastIndex=0,n,i,a,s=-1,l=[],d=[];for(t=t+"",e=e+"";(n=qA.exec(t))&&(i=dS.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,d.push({i:s,x:Vb(n,i)})),r=dS.lastIndex;return r<e.length&&(a=e.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?d[0]?Jme(d[0].x):Zme(e):(e=d.length,function(h){for(var p=0,m;p<e;++p)l[(m=d[p]).i]=m.x(h);return l.join("")})}function Tf(t,e){var r=typeof e,n;return e==null||r==="boolean"?mN(e):(r==="number"?Vb:r==="string"?(n=ng(e))?(e=n,BL):ege:e instanceof ng?BL:e instanceof Date?Qme:Wme(e)?Kme:Array.isArray(e)?Xme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Yme:Vb)(t,e)}function gN(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function tge(t,e){e===void 0&&(e=t,t=Tf);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function rge(t){return function(){return t}}function Fb(t){return+t}var UL=[0,1];function ga(t){return t}function HA(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:rge(isNaN(e)?NaN:.5)}function nge(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function ige(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=HA(i,n),a=r(s,a)):(n=HA(n,i),a=r(a,s)),function(l){return a(n(l))}}function age(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=HA(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(l){var d=s1(t,l,1,n)-1;return a[d](i[d](l))}}function l1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function R2(){var t=UL,e=UL,r=Tf,n,i,a,s=ga,l,d,h;function p(){var y=Math.min(t.length,e.length);return s!==ga&&(s=nge(t[0],t[y-1])),l=y>2?age:ige,d=h=null,m}function m(y){return y==null||isNaN(y=+y)?a:(d||(d=l(t.map(n),e,r)))(n(s(y)))}return m.invert=function(y){return s(i((h||(h=l(e,t.map(n),Vb)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,Fb),p()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),r=gN,p()},m.clamp=function(y){return arguments.length?(s=y?!0:ga,p()):s!==ga},m.interpolate=function(y){return arguments.length?(r=y,p()):r},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,b){return n=y,i=b,p()}}function yN(){return R2()(ga,ga)}function sge(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qb(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Fh(t){return t=qb(Math.abs(t)),t?t[1]:NaN}function oge(t,e){return function(r,n){for(var i=r.length,a=[],s=0,l=t[0],d=0;i>0&&l>0&&(d+l+1>n&&(l=Math.max(1,n-d)),a.push(r.substring(i-=l,i+l)),!((d+=l+1)>n));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function lge(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var cge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ig(t){if(!(e=cge.exec(t)))throw new Error("invalid format: "+t);var e;return new vN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ig.prototype=vN.prototype;function vN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}vN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uge(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Hb;function dge(t,e){var r=qb(t,e);if(!r)return Hb=void 0,t.toPrecision(e);var n=r[0],i=r[1],a=i-(Hb=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+qb(t,Math.max(0,e+a-1))[0]}function zL(t,e){var r=qb(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $L={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:sge,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zL(t*100,e),r:zL,s:dge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function VL(t){return t}var FL=Array.prototype.map,qL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hge(t){var e=t.grouping===void 0||t.thousands===void 0?VL:oge(FL.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?VL:lge(FL.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(m,y){m=ig(m);var b=m.fill,T=m.align,S=m.sign,w=m.symbol,N=m.zero,k=m.width,j=m.comma,$=m.precision,I=m.trim,L=m.type;L==="n"?(j=!0,L="g"):$L[L]||($===void 0&&($=12),I=!0,L="g"),(N||b==="0"&&T==="=")&&(N=!0,b="0",T="=");var E=(y&&y.prefix!==void 0?y.prefix:"")+(w==="$"?r:w==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():""),A=(w==="$"?n:/[%p]/.test(L)?s:"")+(y&&y.suffix!==void 0?y.suffix:""),R=$L[L],F=/[defgprs%]/.test(L);$=$===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function D(B){var M=E,Q=A,Z,W,J;if(L==="c")Q=R(B)+Q,B="";else{B=+B;var Y=B<0||1/B<0;if(B=isNaN(B)?d:R(Math.abs(B),$),I&&(B=uge(B)),Y&&+B==0&&S!=="+"&&(Y=!1),M=(Y?S==="("?S:l:S==="-"||S==="("?"":S)+M,Q=(L==="s"&&!isNaN(B)&&Hb!==void 0?qL[8+Hb/3]:"")+Q+(Y&&S==="("?")":""),F){for(Z=-1,W=B.length;++Z<W;)if(J=B.charCodeAt(Z),48>J||J>57){Q=(J===46?i+B.slice(Z+1):B.slice(Z))+Q,B=B.slice(0,Z);break}}}j&&!N&&(B=e(B,1/0));var ge=M.length+B.length+Q.length,ce=ge<k?new Array(k-ge+1).join(b):"";switch(j&&N&&(B=e(ce+B,ce.length?k-Q.length:1/0),ce=""),T){case"<":B=M+B+Q+ce;break;case"=":B=M+ce+B+Q;break;case"^":B=ce.slice(0,ge=ce.length>>1)+M+B+Q+ce.slice(ge);break;default:B=ce+M+B+Q;break}return a(B)}return D.toString=function(){return m+""},D}function p(m,y){var b=Math.max(-8,Math.min(8,Math.floor(Fh(y)/3)))*3,T=Math.pow(10,-b),S=h((m=ig(m),m.type="f",m),{suffix:qL[8+b/3]});return function(w){return S(T*w)}}return{format:h,formatPrefix:p}}var pv,bN,oK;fge({thousands:",",grouping:[3],currency:["$",""]});function fge(t){return pv=hge(t),bN=pv.format,oK=pv.formatPrefix,pv}function pge(t){return Math.max(0,-Fh(Math.abs(t)))}function mge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fh(e)/3)))*3-Fh(Math.abs(t)))}function gge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fh(e)-Fh(t))+1}function lK(t,e,r,n){var i=$A(t,e,r),a;switch(n=ig(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=mge(i,s))&&(n.precision=a),oK(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=gge(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=pge(i))&&(n.precision=a-(n.type==="%")*2);break}}return bN(n)}function wu(t){var e=t.domain;return t.ticks=function(r){var n=e();return UA(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return lK(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],l=n[a],d,h,p=10;for(l<s&&(h=s,s=l,l=h,h=i,i=a,a=h);p-- >0;){if(h=zA(s,l,r),h===d)return n[i]=s,n[a]=l,e(n);if(h>0)s=Math.floor(s/h)*h,l=Math.ceil(l/h)*h;else if(h<0)s=Math.ceil(s*h)/h,l=Math.floor(l*h)/h;else break;d=h}return t},t}function Gb(){var t=yN();return t.copy=function(){return l1(t,Gb())},Bs.apply(t,arguments),wu(t)}function cK(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Fb),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return cK(t).unknown(e)},t=arguments.length?Array.from(t,Fb):[0,1],wu(r)}function uK(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function HL(t){return Math.log(t)}function GL(t){return Math.exp(t)}function yge(t){return-Math.log(-t)}function vge(t){return-Math.exp(-t)}function bge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function xge(t){return t===10?bge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function wge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function KL(t){return(e,r)=>-t(-e,r)}function xN(t){const e=t(HL,GL),r=e.domain;let n=10,i,a;function s(){return i=wge(n),a=xge(n),r()[0]<0?(i=KL(i),a=KL(a),t(yge,vge)):t(HL,GL),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const d=r();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let y=i(h),b=i(p),T,S;const w=l==null?10:+l;let N=[];if(!(n%1)&&b-y<w){if(y=Math.floor(y),b=Math.ceil(b),h>0){for(;y<=b;++y)for(T=1;T<n;++T)if(S=y<0?T/a(-y):T*a(y),!(S<h)){if(S>p)break;N.push(S)}}else for(;y<=b;++y)for(T=n-1;T>=1;--T)if(S=y>0?T/a(-y):T*a(y),!(S<h)){if(S>p)break;N.push(S)}N.length*2<w&&(N=UA(h,p,w))}else N=UA(y,b,Math.min(b-y,w)).map(a);return m?N.reverse():N},e.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=ig(d)).precision==null&&(d.trim=!0),d=bN(d)),l===1/0)return d;const h=Math.max(1,n*l/e.ticks().length);return p=>{let m=p/a(Math.round(i(p)));return m*n<n-.5&&(m*=n),m<=h?d(p):""}},e.nice=()=>r(uK(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function dK(){const t=xN(R2()).domain([1,10]);return t.copy=()=>l1(t,dK()).base(t.base()),Bs.apply(t,arguments),t}function WL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function XL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function wN(t){var e=1,r=t(WL(e),XL(e));return r.constant=function(n){return arguments.length?t(WL(e=+n),XL(e)):e},wu(r)}function hK(){var t=wN(R2());return t.copy=function(){return l1(t,hK()).constant(t.constant())},Bs.apply(t,arguments)}function QL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function _ge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Sge(t){return t<0?-t*t:t*t}function _N(t){var e=t(ga,ga),r=1;function n(){return r===1?t(ga,ga):r===.5?t(_ge,Sge):t(QL(r),QL(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},wu(e)}function SN(){var t=_N(R2());return t.copy=function(){return l1(t,SN()).exponent(t.exponent())},Bs.apply(t,arguments),t}function Tge(){return SN.apply(null,arguments).exponent(.5)}function YL(t){return Math.sign(t)*t*t}function Age(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function fK(){var t=yN(),e=[0,1],r=!1,n;function i(a){var s=Age(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(YL(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Fb)).map(YL)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return fK(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Bs.apply(i,arguments),wu(i)}function pK(){var t=[],e=[],r=[],n;function i(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=kme(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:e[s1(r,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(iu),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return pK().domain(t).range(e).unknown(n)},Bs.apply(a,arguments)}function mK(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(d){return d!=null&&d<=d?i[s1(n,d,0,r)]:a}function l(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return s}return s.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,l()):[t,e]},s.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,l()):i.slice()},s.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},s.unknown=function(d){return arguments.length&&(a=d),s},s.thresholds=function(){return n.slice()},s.copy=function(){return mK().domain([t,e]).range(i).unknown(a)},Bs.apply(wu(s),arguments)}function gK(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[s1(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return gK().domain(t).range(e).unknown(r)},Bs.apply(i,arguments)}const hS=new Date,fS=new Date;function vi(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const d=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return d;let h;do d.push(h=new Date(+a)),e(a,l),t(a);while(h<a&&a<s);return d},i.filter=a=>vi(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(hS.setTime(+a),fS.setTime(+s),t(hS),t(fS),Math.floor(r(hS,fS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Kb=vi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Kb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?vi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Kb);Kb.range;const Al=1e3,Cs=Al*60,El=Cs*60,ql=El*24,TN=ql*7,ZL=ql*30,pS=ql*365,yd=vi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Al)},(t,e)=>(e-t)/Al,t=>t.getUTCSeconds());yd.range;const AN=vi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Al)},(t,e)=>{t.setTime(+t+e*Cs)},(t,e)=>(e-t)/Cs,t=>t.getMinutes());AN.range;const EN=vi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Cs)},(t,e)=>(e-t)/Cs,t=>t.getUTCMinutes());EN.range;const NN=vi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Al-t.getMinutes()*Cs)},(t,e)=>{t.setTime(+t+e*El)},(t,e)=>(e-t)/El,t=>t.getHours());NN.range;const CN=vi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*El)},(t,e)=>(e-t)/El,t=>t.getUTCHours());CN.range;const c1=vi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Cs)/ql,t=>t.getDate()-1);c1.range;const M2=vi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ql,t=>t.getUTCDate()-1);M2.range;const yK=vi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ql,t=>Math.floor(t/ql));yK.range;function r0(t){return vi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Cs)/TN)}const P2=r0(0),Wb=r0(1),Ege=r0(2),Nge=r0(3),qh=r0(4),Cge=r0(5),jge=r0(6);P2.range;Wb.range;Ege.range;Nge.range;qh.range;Cge.range;jge.range;function n0(t){return vi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/TN)}const D2=n0(0),Xb=n0(1),kge=n0(2),Oge=n0(3),Hh=n0(4),Ige=n0(5),Rge=n0(6);D2.range;Xb.range;kge.range;Oge.range;Hh.range;Ige.range;Rge.range;const jN=vi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());jN.range;const kN=vi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());kN.range;const Hl=vi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Hl.range;const Gl=vi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Gl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Gl.range;function vK(t,e,r,n,i,a){const s=[[yd,1,Al],[yd,5,5*Al],[yd,15,15*Al],[yd,30,30*Al],[a,1,Cs],[a,5,5*Cs],[a,15,15*Cs],[a,30,30*Cs],[i,1,El],[i,3,3*El],[i,6,6*El],[i,12,12*El],[n,1,ql],[n,2,2*ql],[r,1,TN],[e,1,ZL],[e,3,3*ZL],[t,1,pS]];function l(h,p,m){const y=p<h;y&&([h,p]=[p,h]);const b=m&&typeof m.range=="function"?m:d(h,p,m),T=b?b.range(h,+p+1):[];return y?T.reverse():T}function d(h,p,m){const y=Math.abs(p-h)/m,b=hN(([,,w])=>w).right(s,y);if(b===s.length)return t.every($A(h/pS,p/pS,m));if(b===0)return Kb.every(Math.max($A(h,p,m),1));const[T,S]=s[y/s[b-1][2]<s[b][2]/y?b-1:b];return T.every(S)}return[l,d]}const[Mge,Pge]=vK(Gl,kN,D2,yK,CN,EN),[Dge,Lge]=vK(Hl,jN,P2,c1,NN,AN);function mS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function gS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Bge(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,d=t.shortMonths,h=Dp(i),p=Lp(i),m=Dp(a),y=Lp(a),b=Dp(s),T=Lp(s),S=Dp(l),w=Lp(l),N=Dp(d),k=Lp(d),j={a:J,A:Y,b:ge,B:ce,c:null,d:iB,e:iB,f:o1e,g:y1e,G:b1e,H:i1e,I:a1e,j:s1e,L:bK,m:l1e,M:c1e,p:X,q:te,Q:oB,s:lB,S:u1e,u:d1e,U:h1e,V:f1e,w:p1e,W:m1e,x:null,X:null,y:g1e,Y:v1e,Z:x1e,"%":sB},$={a:ue,A:oe,b:ae,B:pe,c:null,d:aB,e:aB,f:T1e,g:M1e,G:D1e,H:w1e,I:_1e,j:S1e,L:wK,m:A1e,M:E1e,p:ye,q:Xe,Q:oB,s:lB,S:N1e,u:C1e,U:j1e,V:k1e,w:O1e,W:I1e,x:null,X:null,y:R1e,Y:P1e,Z:L1e,"%":sB},I={a:F,A:D,b:B,B:M,c:Q,d:rB,e:rB,f:e1e,g:tB,G:eB,H:nB,I:nB,j:Qge,L:Jge,m:Xge,M:Yge,p:R,q:Wge,Q:r1e,s:n1e,S:Zge,u:Fge,U:qge,V:Hge,w:Vge,W:Gge,x:Z,X:W,y:tB,Y:eB,Z:Kge,"%":t1e};j.x=L(r,j),j.X=L(n,j),j.c=L(e,j),$.x=L(r,$),$.X=L(n,$),$.c=L(e,$);function L(Ne,le){return function(je){var we=[],ut=-1,Ge=0,lt=Ne.length,it,Rt,Oe;for(je instanceof Date||(je=new Date(+je));++ut<lt;)Ne.charCodeAt(ut)===37&&(we.push(Ne.slice(Ge,ut)),(Rt=JL[it=Ne.charAt(++ut)])!=null?it=Ne.charAt(++ut):Rt=it==="e"?" ":"0",(Oe=le[it])&&(it=Oe(je,Rt)),we.push(it),Ge=ut+1);return we.push(Ne.slice(Ge,ut)),we.join("")}}function E(Ne,le){return function(je){var we=Pp(1900,void 0,1),ut=A(we,Ne,je+="",0),Ge,lt;if(ut!=je.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(le&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(Ge=gS(Pp(we.y,0,1)),lt=Ge.getUTCDay(),Ge=lt>4||lt===0?Xb.ceil(Ge):Xb(Ge),Ge=M2.offset(Ge,(we.V-1)*7),we.y=Ge.getUTCFullYear(),we.m=Ge.getUTCMonth(),we.d=Ge.getUTCDate()+(we.w+6)%7):(Ge=mS(Pp(we.y,0,1)),lt=Ge.getDay(),Ge=lt>4||lt===0?Wb.ceil(Ge):Wb(Ge),Ge=c1.offset(Ge,(we.V-1)*7),we.y=Ge.getFullYear(),we.m=Ge.getMonth(),we.d=Ge.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),lt="Z"in we?gS(Pp(we.y,0,1)).getUTCDay():mS(Pp(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(lt+5)%7:we.w+we.U*7-(lt+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,gS(we)):mS(we)}}function A(Ne,le,je,we){for(var ut=0,Ge=le.length,lt=je.length,it,Rt;ut<Ge;){if(we>=lt)return-1;if(it=le.charCodeAt(ut++),it===37){if(it=le.charAt(ut++),Rt=I[it in JL?le.charAt(ut++):it],!Rt||(we=Rt(Ne,je,we))<0)return-1}else if(it!=je.charCodeAt(we++))return-1}return we}function R(Ne,le,je){var we=h.exec(le.slice(je));return we?(Ne.p=p.get(we[0].toLowerCase()),je+we[0].length):-1}function F(Ne,le,je){var we=b.exec(le.slice(je));return we?(Ne.w=T.get(we[0].toLowerCase()),je+we[0].length):-1}function D(Ne,le,je){var we=m.exec(le.slice(je));return we?(Ne.w=y.get(we[0].toLowerCase()),je+we[0].length):-1}function B(Ne,le,je){var we=N.exec(le.slice(je));return we?(Ne.m=k.get(we[0].toLowerCase()),je+we[0].length):-1}function M(Ne,le,je){var we=S.exec(le.slice(je));return we?(Ne.m=w.get(we[0].toLowerCase()),je+we[0].length):-1}function Q(Ne,le,je){return A(Ne,e,le,je)}function Z(Ne,le,je){return A(Ne,r,le,je)}function W(Ne,le,je){return A(Ne,n,le,je)}function J(Ne){return s[Ne.getDay()]}function Y(Ne){return a[Ne.getDay()]}function ge(Ne){return d[Ne.getMonth()]}function ce(Ne){return l[Ne.getMonth()]}function X(Ne){return i[+(Ne.getHours()>=12)]}function te(Ne){return 1+~~(Ne.getMonth()/3)}function ue(Ne){return s[Ne.getUTCDay()]}function oe(Ne){return a[Ne.getUTCDay()]}function ae(Ne){return d[Ne.getUTCMonth()]}function pe(Ne){return l[Ne.getUTCMonth()]}function ye(Ne){return i[+(Ne.getUTCHours()>=12)]}function Xe(Ne){return 1+~~(Ne.getUTCMonth()/3)}return{format:function(Ne){var le=L(Ne+="",j);return le.toString=function(){return Ne},le},parse:function(Ne){var le=E(Ne+="",!1);return le.toString=function(){return Ne},le},utcFormat:function(Ne){var le=L(Ne+="",$);return le.toString=function(){return Ne},le},utcParse:function(Ne){var le=E(Ne+="",!0);return le.toString=function(){return Ne},le}}}var JL={"-":"",_:" ",0:"0"},Ri=/^\s*\d+/,Uge=/^%/,zge=/[\\^$*+?|[\]().{}]/g;function _r(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function $ge(t){return t.replace(zge,"\\$&")}function Dp(t){return new RegExp("^(?:"+t.map($ge).join("|")+")","i")}function Lp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Vge(t,e,r){var n=Ri.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Fge(t,e,r){var n=Ri.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function qge(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Hge(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Gge(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function eB(t,e,r){var n=Ri.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function tB(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Kge(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Wge(t,e,r){var n=Ri.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Xge(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function rB(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Qge(t,e,r){var n=Ri.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function nB(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Yge(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Zge(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Jge(t,e,r){var n=Ri.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function e1e(t,e,r){var n=Ri.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function t1e(t,e,r){var n=Uge.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function r1e(t,e,r){var n=Ri.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function n1e(t,e,r){var n=Ri.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function iB(t,e){return _r(t.getDate(),e,2)}function i1e(t,e){return _r(t.getHours(),e,2)}function a1e(t,e){return _r(t.getHours()%12||12,e,2)}function s1e(t,e){return _r(1+c1.count(Hl(t),t),e,3)}function bK(t,e){return _r(t.getMilliseconds(),e,3)}function o1e(t,e){return bK(t,e)+"000"}function l1e(t,e){return _r(t.getMonth()+1,e,2)}function c1e(t,e){return _r(t.getMinutes(),e,2)}function u1e(t,e){return _r(t.getSeconds(),e,2)}function d1e(t){var e=t.getDay();return e===0?7:e}function h1e(t,e){return _r(P2.count(Hl(t)-1,t),e,2)}function xK(t){var e=t.getDay();return e>=4||e===0?qh(t):qh.ceil(t)}function f1e(t,e){return t=xK(t),_r(qh.count(Hl(t),t)+(Hl(t).getDay()===4),e,2)}function p1e(t){return t.getDay()}function m1e(t,e){return _r(Wb.count(Hl(t)-1,t),e,2)}function g1e(t,e){return _r(t.getFullYear()%100,e,2)}function y1e(t,e){return t=xK(t),_r(t.getFullYear()%100,e,2)}function v1e(t,e){return _r(t.getFullYear()%1e4,e,4)}function b1e(t,e){var r=t.getDay();return t=r>=4||r===0?qh(t):qh.ceil(t),_r(t.getFullYear()%1e4,e,4)}function x1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_r(e/60|0,"0",2)+_r(e%60,"0",2)}function aB(t,e){return _r(t.getUTCDate(),e,2)}function w1e(t,e){return _r(t.getUTCHours(),e,2)}function _1e(t,e){return _r(t.getUTCHours()%12||12,e,2)}function S1e(t,e){return _r(1+M2.count(Gl(t),t),e,3)}function wK(t,e){return _r(t.getUTCMilliseconds(),e,3)}function T1e(t,e){return wK(t,e)+"000"}function A1e(t,e){return _r(t.getUTCMonth()+1,e,2)}function E1e(t,e){return _r(t.getUTCMinutes(),e,2)}function N1e(t,e){return _r(t.getUTCSeconds(),e,2)}function C1e(t){var e=t.getUTCDay();return e===0?7:e}function j1e(t,e){return _r(D2.count(Gl(t)-1,t),e,2)}function _K(t){var e=t.getUTCDay();return e>=4||e===0?Hh(t):Hh.ceil(t)}function k1e(t,e){return t=_K(t),_r(Hh.count(Gl(t),t)+(Gl(t).getUTCDay()===4),e,2)}function O1e(t){return t.getUTCDay()}function I1e(t,e){return _r(Xb.count(Gl(t)-1,t),e,2)}function R1e(t,e){return _r(t.getUTCFullYear()%100,e,2)}function M1e(t,e){return t=_K(t),_r(t.getUTCFullYear()%100,e,2)}function P1e(t,e){return _r(t.getUTCFullYear()%1e4,e,4)}function D1e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Hh(t):Hh.ceil(t),_r(t.getUTCFullYear()%1e4,e,4)}function L1e(){return"+0000"}function sB(){return"%"}function oB(t){return+t}function lB(t){return Math.floor(+t/1e3)}var K0,SK,TK;B1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function B1e(t){return K0=Bge(t),SK=K0.format,K0.parse,TK=K0.utcFormat,K0.utcParse,K0}function U1e(t){return new Date(t)}function z1e(t){return t instanceof Date?+t:+new Date(+t)}function ON(t,e,r,n,i,a,s,l,d,h){var p=yN(),m=p.invert,y=p.domain,b=h(".%L"),T=h(":%S"),S=h("%I:%M"),w=h("%I %p"),N=h("%a %d"),k=h("%b %d"),j=h("%B"),$=h("%Y");function I(L){return(d(L)<L?b:l(L)<L?T:s(L)<L?S:a(L)<L?w:n(L)<L?i(L)<L?N:k:r(L)<L?j:$)(L)}return p.invert=function(L){return new Date(m(L))},p.domain=function(L){return arguments.length?y(Array.from(L,z1e)):y().map(U1e)},p.ticks=function(L){var E=y();return t(E[0],E[E.length-1],L??10)},p.tickFormat=function(L,E){return E==null?I:h(E)},p.nice=function(L){var E=y();return(!L||typeof L.range!="function")&&(L=e(E[0],E[E.length-1],L??10)),L?y(uK(E,L)):p},p.copy=function(){return l1(p,ON(t,e,r,n,i,a,s,l,d,h))},p}function $1e(){return Bs.apply(ON(Dge,Lge,Hl,jN,P2,c1,NN,AN,yd,SK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function V1e(){return Bs.apply(ON(Mge,Pge,Gl,kN,D2,M2,CN,EN,yd,TK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function L2(){var t=0,e=1,r,n,i,a,s=ga,l=!1,d;function h(m){return m==null||isNaN(m=+m)?d:s(i===0?.5:(m=(a(m)-r)*i,l?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(m){return arguments.length?(l=!!m,h):l},h.interpolator=function(m){return arguments.length?(s=m,h):s};function p(m){return function(y){var b,T;return arguments.length?([b,T]=y,s=m(b,T),h):[s(0),s(1)]}}return h.range=p(Tf),h.rangeRound=p(gN),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return a=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),h}}function _u(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function AK(){var t=wu(L2()(ga));return t.copy=function(){return _u(t,AK())},ec.apply(t,arguments)}function EK(){var t=xN(L2()).domain([1,10]);return t.copy=function(){return _u(t,EK()).base(t.base())},ec.apply(t,arguments)}function NK(){var t=wN(L2());return t.copy=function(){return _u(t,NK()).constant(t.constant())},ec.apply(t,arguments)}function IN(){var t=_N(L2());return t.copy=function(){return _u(t,IN()).exponent(t.exponent())},ec.apply(t,arguments)}function F1e(){return IN.apply(null,arguments).exponent(.5)}function CK(){var t=[],e=ga;function r(n){if(n!=null&&!isNaN(n=+n))return e((s1(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(iu),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>jme(t,a/n))},r.copy=function(){return CK(e).domain(t)},ec.apply(r,arguments)}function B2(){var t=0,e=.5,r=1,n=1,i,a,s,l,d,h=ga,p,m=!1,y;function b(S){return isNaN(S=+S)?y:(S=.5+((S=+p(S))-a)*(n*S<n*a?l:d),h(m?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([t,e,r]=S,i=p(t=+t),a=p(e=+e),s=p(r=+r),l=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),n=a<i?-1:1,b):[t,e,r]},b.clamp=function(S){return arguments.length?(m=!!S,b):m},b.interpolator=function(S){return arguments.length?(h=S,b):h};function T(S){return function(w){var N,k,j;return arguments.length?([N,k,j]=w,h=tge(S,[N,k,j]),b):[h(0),h(.5),h(1)]}}return b.range=T(Tf),b.rangeRound=T(gN),b.unknown=function(S){return arguments.length?(y=S,b):y},function(S){return p=S,i=S(t),a=S(e),s=S(r),l=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),n=a<i?-1:1,b}}function jK(){var t=wu(B2()(ga));return t.copy=function(){return _u(t,jK())},ec.apply(t,arguments)}function kK(){var t=xN(B2()).domain([.1,1,10]);return t.copy=function(){return _u(t,kK()).base(t.base())},ec.apply(t,arguments)}function OK(){var t=wN(B2());return t.copy=function(){return _u(t,OK()).constant(t.constant())},ec.apply(t,arguments)}function RN(){var t=_N(B2());return t.copy=function(){return _u(t,RN()).exponent(t.exponent())},ec.apply(t,arguments)}function q1e(){return RN.apply(null,arguments).exponent(.5)}const cB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:eg,scaleDiverging:jK,scaleDivergingLog:kK,scaleDivergingPow:RN,scaleDivergingSqrt:q1e,scaleDivergingSymlog:OK,scaleIdentity:cK,scaleImplicit:VA,scaleLinear:Gb,scaleLog:dK,scaleOrdinal:fN,scalePoint:hm,scalePow:SN,scaleQuantile:pK,scaleQuantize:mK,scaleRadial:fK,scaleSequential:AK,scaleSequentialLog:EK,scaleSequentialPow:IN,scaleSequentialQuantile:CK,scaleSequentialSqrt:F1e,scaleSequentialSymlog:NK,scaleSqrt:Tge,scaleSymlog:hK,scaleThreshold:gK,scaleTime:$1e,scaleUtc:V1e,tickFormat:lK},Symbol.toStringTag,{value:"Module"}));var yS,uB;function U2(){if(uB)return yS;uB=1;var t=wf();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var l=r[a],d=n(l);if(d!=null&&(h===void 0?d===d&&!t(d):i(d,h)))var h=d,p=l}return p}return yS=e,yS}var vS,dB;function IK(){if(dB)return vS;dB=1;function t(e,r){return e>r}return vS=t,vS}var bS,hB;function H1e(){if(hB)return bS;hB=1;var t=U2(),e=IK(),r=Sf();function n(i){return i&&i.length?t(i,r,e):void 0}return bS=n,bS}var G1e=H1e();const z2=Tr(G1e);var xS,fB;function RK(){if(fB)return xS;fB=1;function t(e,r){return e<r}return xS=t,xS}var wS,pB;function K1e(){if(pB)return wS;pB=1;var t=U2(),e=RK(),r=Sf();function n(i){return i&&i.length?t(i,r,e):void 0}return wS=n,wS}var W1e=K1e();const $2=Tr(W1e);var _S,mB;function X1e(){if(mB)return _S;mB=1;var t=XE(),e=Fo(),r=$G(),n=Va();function i(a,s){var l=n(a)?t:r;return l(a,e(s,3))}return _S=i,_S}var SS,gB;function Q1e(){if(gB)return SS;gB=1;var t=UG(),e=X1e();function r(n,i){return t(e(n,i),1)}return SS=r,SS}var Y1e=Q1e();const Z1e=Tr(Y1e);var TS,yB;function J1e(){if(yB)return TS;yB=1;var t=oN();function e(r,n){return t(r,n)}return TS=e,TS}var eye=J1e();const u1=Tr(eye);var Af=1e9,tye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},PN,wn=!0,Ls="[DecimalError] ",Nd=Ls+"Invalid argument: ",MN=Ls+"Exponent out of range: ",Ef=Math.floor,ld=Math.pow,rye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rs,Ni=1e7,pn=7,MK=9007199254740991,Qb=Ef(MK/pn),bt={};bt.absoluteValue=bt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};bt.comparedTo=bt.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};bt.decimalPlaces=bt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*pn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};bt.dividedBy=bt.div=function(t){return Rl(this,new this.constructor(t))};bt.dividedToIntegerBy=bt.idiv=function(t){var e=this,r=e.constructor;return Zr(Rl(e,new r(t),0,1),r.precision)};bt.equals=bt.eq=function(t){return!this.cmp(t)};bt.exponent=function(){return ii(this)};bt.greaterThan=bt.gt=function(t){return this.cmp(t)>0};bt.greaterThanOrEqualTo=bt.gte=function(t){return this.cmp(t)>=0};bt.isInteger=bt.isint=function(){return this.e>this.d.length-2};bt.isNegative=bt.isneg=function(){return this.s<0};bt.isPositive=bt.ispos=function(){return this.s>0};bt.isZero=function(){return this.s===0};bt.lessThan=bt.lt=function(t){return this.cmp(t)<0};bt.lessThanOrEqualTo=bt.lte=function(t){return this.cmp(t)<1};bt.logarithm=bt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(rs))throw Error(Ls+"NaN");if(r.s<1)throw Error(Ls+(r.s?"NaN":"-Infinity"));return r.eq(rs)?new n(0):(wn=!1,e=Rl(ag(r,a),ag(t,a),a),wn=!0,Zr(e,i))};bt.minus=bt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?LK(e,t):PK(e,(t.s=-t.s,t))};bt.modulo=bt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ls+"NaN");return r.s?(wn=!1,e=Rl(r,t,0,1).times(t),wn=!0,r.minus(e)):Zr(new n(r),i)};bt.naturalExponential=bt.exp=function(){return DK(this)};bt.naturalLogarithm=bt.ln=function(){return ag(this)};bt.negated=bt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};bt.plus=bt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PK(e,t):LK(e,(t.s=-t.s,t))};bt.precision=bt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Nd+t);if(e=ii(i)+1,n=i.d.length-1,r=n*pn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};bt.squareRoot=bt.sqrt=function(){var t,e,r,n,i,a,s,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(Ls+"NaN")}for(t=ii(l),wn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Co(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ef((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=s=r+3;;)if(a=n,n=a.plus(Rl(l,a,s+2)).times(.5),Co(a.d).slice(0,s)===(e=Co(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Zr(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;s+=4}return wn=!0,Zr(n,r)};bt.times=bt.mul=function(t){var e,r,n,i,a,s,l,d,h,p=this,m=p.constructor,y=p.d,b=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,d=y.length,h=b.length,d<h&&(a=y,y=b,b=a,s=d,d=h,h=s),a=[],s=d+h,n=s;n--;)a.push(0);for(n=h;--n>=0;){for(e=0,i=d+n;i>n;)l=a[i]+b[n]*y[i-n-1]+e,a[i--]=l%Ni|0,e=l/Ni|0;a[i]=(a[i]+e)%Ni|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,wn?Zr(t,m.precision):t};bt.toDecimalPlaces=bt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Do(t,0,Af),e===void 0?e=n.rounding:Do(e,0,8),Zr(r,t+ii(r)+1,e))};bt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Fd(n,!0):(Do(t,0,Af),e===void 0?e=i.rounding:Do(e,0,8),n=Zr(new i(n),t+1,e),r=Fd(n,!0,t+1)),r};bt.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Fd(i):(Do(t,0,Af),e===void 0?e=a.rounding:Do(e,0,8),n=Zr(new a(i),t+ii(i)+1,e),r=Fd(n.abs(),!1,t+ii(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};bt.toInteger=bt.toint=function(){var t=this,e=t.constructor;return Zr(new e(t),ii(t)+1,e.rounding)};bt.toNumber=function(){return+this};bt.toPower=bt.pow=function(t){var e,r,n,i,a,s,l=this,d=l.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(rs);if(l=new d(l),!l.s){if(t.s<1)throw Error(Ls+"Infinity");return l}if(l.eq(rs))return l;if(n=d.precision,t.eq(rs))return Zr(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=l.s,s){if((r=p<0?-p:p)<=MK){for(i=new d(rs),e=Math.ceil(n/pn+4),wn=!1;r%2&&(i=i.times(l),bB(i.d,e)),r=Ef(r/2),r!==0;)l=l.times(l),bB(l.d,e);return wn=!0,t.s<0?new d(rs).div(i):Zr(i,n)}}else if(a<0)throw Error(Ls+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,wn=!1,i=t.times(ag(l,n+h)),wn=!0,i=DK(i),i.s=a,i};bt.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=ii(i),n=Fd(i,r<=a.toExpNeg||r>=a.toExpPos)):(Do(t,1,Af),e===void 0?e=a.rounding:Do(e,0,8),i=Zr(new a(i),t,e),r=ii(i),n=Fd(i,t<=r||r<=a.toExpNeg,t)),n};bt.toSignificantDigits=bt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Do(t,1,Af),e===void 0?e=n.rounding:Do(e,0,8)),Zr(new n(r),t,e)};bt.toString=bt.valueOf=bt.val=bt.toJSON=bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ii(t),r=t.constructor;return Fd(t,e<=r.toExpNeg||e>=r.toExpPos)};function PK(t,e){var r,n,i,a,s,l,d,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),wn?Zr(e,m):e;if(d=t.d,h=e.d,s=t.e,i=e.e,d=d.slice(),a=s-i,a){for(a<0?(n=d,a=-a,l=h.length):(n=h,i=s,l=d.length),s=Math.ceil(m/pn),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=d.length,a=h.length,l-a<0&&(a=l,n=h,h=d,d=n),r=0;a;)r=(d[--a]=d[a]+h[a]+r)/Ni|0,d[a]%=Ni;for(r&&(d.unshift(r),++i),l=d.length;d[--l]==0;)d.pop();return e.d=d,e.e=i,wn?Zr(e,m):e}function Do(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Nd+t)}function Co(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=pn-n.length,r&&(a+=Lc(r)),a+=n;s=t[e],n=s+"",r=pn-n.length,r&&(a+=Lc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Rl=(function(){function t(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%Ni|0,s=a/Ni|0;return s&&n.unshift(s),n}function e(n,i,a,s){var l,d;if(a!=s)d=a>s?1:-1;else for(l=d=0;l<a;l++)if(n[l]!=i[l]){d=n[l]>i[l]?1:-1;break}return d}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Ni+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,d,h,p,m,y,b,T,S,w,N,k,j,$,I,L,E,A,R=n.constructor,F=n.s==i.s?1:-1,D=n.d,B=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(Ls+"Division by zero");for(d=n.e-i.e,E=B.length,I=D.length,b=new R(F),T=b.d=[],h=0;B[h]==(D[h]||0);)++h;if(B[h]>(D[h]||0)&&--d,a==null?k=a=R.precision:s?k=a+(ii(n)-ii(i))+1:k=a,k<0)return new R(0);if(k=k/pn+2|0,h=0,E==1)for(p=0,B=B[0],k++;(h<I||p)&&k--;h++)j=p*Ni+(D[h]||0),T[h]=j/B|0,p=j%B|0;else{for(p=Ni/(B[0]+1)|0,p>1&&(B=t(B,p),D=t(D,p),E=B.length,I=D.length),$=E,S=D.slice(0,E),w=S.length;w<E;)S[w++]=0;A=B.slice(),A.unshift(0),L=B[0],B[1]>=Ni/2&&++L;do p=0,l=e(B,S,E,w),l<0?(N=S[0],E!=w&&(N=N*Ni+(S[1]||0)),p=N/L|0,p>1?(p>=Ni&&(p=Ni-1),m=t(B,p),y=m.length,w=S.length,l=e(m,S,y,w),l==1&&(p--,r(m,E<y?A:B,y))):(p==0&&(l=p=1),m=B.slice()),y=m.length,y<w&&m.unshift(0),r(S,m,w),l==-1&&(w=S.length,l=e(B,S,E,w),l<1&&(p++,r(S,E<w?A:B,w))),w=S.length):l===0&&(p++,S=[0]),T[h++]=p,l&&S[0]?S[w++]=D[$]||0:(S=[D[$]],w=1);while(($++<I||S[0]!==void 0)&&k--)}return T[0]||T.shift(),b.e=d,Zr(b,s?a+ii(b)+1:a)}})();function DK(t,e){var r,n,i,a,s,l,d=0,h=0,p=t.constructor,m=p.precision;if(ii(t)>16)throw Error(MN+ii(t));if(!t.s)return new p(rs);for(wn=!1,l=m,s=new p(.03125);t.abs().gte(.1);)t=t.times(s),h+=5;for(n=Math.log(ld(2,h))/Math.LN10*2+5|0,l+=n,r=i=a=new p(rs),p.precision=l;;){if(i=Zr(i.times(t),l),r=r.times(++d),s=a.plus(Rl(i,r,l)),Co(s.d).slice(0,l)===Co(a.d).slice(0,l)){for(;h--;)a=Zr(a.times(a),l);return p.precision=m,e==null?(wn=!0,Zr(a,m)):a}a=s}}function ii(t){for(var e=t.e*pn,r=t.d[0];r>=10;r/=10)e++;return e}function AS(t,e,r){if(e>t.LN10.sd())throw wn=!0,r&&(t.precision=r),Error(Ls+"LN10 precision limit exceeded");return Zr(new t(t.LN10),e)}function Lc(t){for(var e="";t--;)e+="0";return e}function ag(t,e){var r,n,i,a,s,l,d,h,p,m=1,y=10,b=t,T=b.d,S=b.constructor,w=S.precision;if(b.s<1)throw Error(Ls+(b.s?"NaN":"-Infinity"));if(b.eq(rs))return new S(0);if(e==null?(wn=!1,h=w):h=e,b.eq(10))return e==null&&(wn=!0),AS(S,h);if(h+=y,S.precision=h,r=Co(T),n=r.charAt(0),a=ii(b),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=Co(b.d),n=r.charAt(0),m++;a=ii(b),n>1?(b=new S("0."+r),a++):b=new S(n+"."+r.slice(1))}else return d=AS(S,h+2,w).times(a+""),b=ag(new S(n+"."+r.slice(1)),h-y).plus(d),S.precision=w,e==null?(wn=!0,Zr(b,w)):b;for(l=s=b=Rl(b.minus(rs),b.plus(rs),h),p=Zr(b.times(b),h),i=3;;){if(s=Zr(s.times(p),h),d=l.plus(Rl(s,new S(i),h)),Co(d.d).slice(0,h)===Co(l.d).slice(0,h))return l=l.times(2),a!==0&&(l=l.plus(AS(S,h+2,w).times(a+""))),l=Rl(l,new S(m),h),S.precision=w,e==null?(wn=!0,Zr(l,w)):l;l=d,i+=2}}function vB(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Ef(r/pn),t.d=[],n=(r+1)%pn,r<0&&(n+=pn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=pn;n<i;)t.d.push(+e.slice(n,n+=pn));e=e.slice(n),n=pn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),wn&&(t.e>Qb||t.e<-Qb))throw Error(MN+r)}else t.s=0,t.e=0,t.d=[0];return t}function Zr(t,e,r){var n,i,a,s,l,d,h,p,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=pn,i=e,h=m[p=0];else{if(p=Math.ceil((n+1)/pn),a=m.length,p>=a)return t;for(h=a=m[p],s=1;a>=10;a/=10)s++;n%=pn,i=n-pn+s}if(r!==void 0&&(a=ld(10,s-i-1),l=h/a%10|0,d=e<0||m[p+1]!==void 0||h%a,d=r<4?(l||d)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||d||r==6&&(n>0?i>0?h/ld(10,s-i):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return d?(a=ii(t),m.length=1,e=e-a-1,m[0]=ld(10,(pn-e%pn)%pn),t.e=Ef(-e/pn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,a=1,p--):(m.length=p+1,a=ld(10,pn-n),m[p]=i>0?(h/ld(10,s-i)%ld(10,i)|0)*a:0),d)for(;;)if(p==0){(m[0]+=a)==Ni&&(m[0]=1,++t.e);break}else{if(m[p]+=a,m[p]!=Ni)break;m[p--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(wn&&(t.e>Qb||t.e<-Qb))throw Error(MN+ii(t));return t}function LK(t,e){var r,n,i,a,s,l,d,h,p,m,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),wn?Zr(e,b):e;if(d=t.d,m=e.d,n=e.e,h=t.e,d=d.slice(),s=h-n,s){for(p=s<0,p?(r=d,s=-s,l=m.length):(r=m,n=h,l=d.length),i=Math.max(Math.ceil(b/pn),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=d.length,l=m.length,p=i<l,p&&(l=i),i=0;i<l;i++)if(d[i]!=m[i]){p=d[i]<m[i];break}s=0}for(p&&(r=d,d=m,m=r,e.s=-e.s),l=d.length,i=m.length-l;i>0;--i)d[l++]=0;for(i=m.length;i>s;){if(d[--i]<m[i]){for(a=i;a&&d[--a]===0;)d[a]=Ni-1;--d[a],d[i]+=Ni}d[i]-=m[i]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,wn?Zr(e,b):e):new y(0)}function Fd(t,e,r){var n,i=ii(t),a=Co(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Lc(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Lc(-i-1)+a,r&&(n=r-s)>0&&(a+=Lc(n))):i>=s?(a+=Lc(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Lc(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Lc(n))),t.s<0?"-"+a:a}function bB(t,e){if(t.length>e)return t.length=e,!0}function BK(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Nd+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return vB(s,a.toString())}else if(typeof a!="string")throw Error(Nd+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,rye.test(a))vB(s,a);else throw Error(Nd+a)}if(i.prototype=bt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=BK,i.config=i.set=nye,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function nye(t){if(!t||typeof t!="object")throw Error(Ls+"Object expected");var e,r,n,i=["precision",1,Af,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Ef(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Nd+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Nd+r+": "+n);return this}var PN=BK(tye);rs=new PN(1);const Hr=PN;function iye(t){return lye(t)||oye(t)||sye(t)||aye()}function aye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sye(t,e){if(t){if(typeof t=="string")return GA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GA(t,e)}}function oye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lye(t){if(Array.isArray(t))return GA(t)}function GA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var cye=function(e){return e},UK={},zK=function(e){return e===UK},xB=function(e){return function r(){return arguments.length===0||arguments.length===1&&zK(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},uye=function t(e,r){return e===1?r:xB(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==UK}).length;return s>=e?r.apply(void 0,i):t(e-s,xB(function(){for(var l=arguments.length,d=new Array(l),h=0;h<l;h++)d[h]=arguments[h];var p=i.map(function(m){return zK(m)?d.shift():m});return r.apply(void 0,iye(p).concat(d))}))})},V2=function(e){return uye(e.length,e)},KA=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},dye=V2(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),hye=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return cye;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,d){return d(l)},a.apply(void 0,arguments))}},WA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},$K=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(l,d){return l===r[d]})||(r=a,n=e.apply(void 0,a)),n}};function fye(t){var e;return t===0?e=1:e=Math.floor(new Hr(t).abs().log(10).toNumber())+1,e}function pye(t,e,r){for(var n=new Hr(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var mye=V2(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),gye=V2(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),yye=V2(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const F2={rangeStep:pye,getDigitCount:fye,interpolateNumber:mye,uninterpolateNumber:gye,uninterpolateTruncation:yye};function XA(t){return xye(t)||bye(t)||VK(t)||vye()}function vye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function xye(t){if(Array.isArray(t))return QA(t)}function sg(t,e){return Sye(t)||_ye(t,e)||VK(t,e)||wye()}function wye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VK(t,e){if(t){if(typeof t=="string")return QA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QA(t,e)}}function QA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _ye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,a=d}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Sye(t){if(Array.isArray(t))return t}function FK(t){var e=sg(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function qK(t,e,r){if(t.lte(0))return new Hr(0);var n=F2.getDigitCount(t.toNumber()),i=new Hr(10).pow(n),a=t.div(i),s=n!==1?.05:.1,l=new Hr(Math.ceil(a.div(s).toNumber())).add(r).mul(s),d=l.mul(i);return e?d:new Hr(Math.ceil(d))}function Tye(t,e,r){var n=1,i=new Hr(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Hr(10).pow(F2.getDigitCount(t)-1),i=new Hr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Hr(Math.floor(t)))}else t===0?i=new Hr(Math.floor((e-1)/2)):r||(i=new Hr(Math.floor(t)));var s=Math.floor((e-1)/2),l=hye(dye(function(d){return i.add(new Hr(d-s).mul(n)).toNumber()}),KA);return l(0,e)}function HK(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Hr(0),tickMin:new Hr(0),tickMax:new Hr(0)};var a=qK(new Hr(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Hr(0):(s=new Hr(t).add(e).div(2),s=s.sub(new Hr(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),d=Math.ceil(new Hr(e).sub(s).div(a).toNumber()),h=l+d+1;return h>r?HK(t,e,r,n,i+1):(h<r&&(d=e>0?d+(r-h):d,l=e>0?l:l+(r-h)),{step:a,tickMin:s.sub(new Hr(l).mul(a)),tickMax:s.add(new Hr(d).mul(a))})}function Aye(t){var e=sg(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=FK([r,n]),d=sg(l,2),h=d[0],p=d[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(XA(KA(0,i-1).map(function(){return 1/0}))):[].concat(XA(KA(0,i-1).map(function(){return-1/0})),[p]);return r>n?WA(m):m}if(h===p)return Tye(h,i,a);var y=HK(h,p,s,a),b=y.step,T=y.tickMin,S=y.tickMax,w=F2.rangeStep(T,S.add(new Hr(.1).mul(b)),b);return r>n?WA(w):w}function Eye(t,e){var r=sg(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=FK([n,i]),l=sg(s,2),d=l[0],h=l[1];if(d===-1/0||h===1/0)return[n,i];if(d===h)return[d];var p=Math.max(e,2),m=qK(new Hr(h).sub(d).div(p-1),a,0),y=[].concat(XA(F2.rangeStep(new Hr(d),new Hr(h).sub(new Hr(.99).mul(m)),m)),[h]);return n>i?WA(y):y}var Nye=$K(Aye),Cye=$K(Eye),jye="Invariant failed";function qd(t,e){throw new Error(jye)}var kye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yb.apply(this,arguments)}function Oye(t,e){return Pye(t)||Mye(t,e)||Rye(t,e)||Iye()}function Iye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rye(t,e){if(t){if(typeof t=="string")return wB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wB(t,e)}}function wB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function Pye(t){if(Array.isArray(t))return t}function Dye(t,e){if(t==null)return{};var r=Lye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Bye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WK(n.key),n)}}function zye(t,e,r){return e&&Uye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ye(t,e,r){return e=Zb(e),Vye(t,GK()?Reflect.construct(e,r||[],Zb(t).constructor):e.apply(t,r))}function Vye(t,e){if(e&&(Gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fye(t)}function Fye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GK=function(){return!!t})()}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(t)}function qye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}function YA(t,e){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YA(t,e)}function KK(t,e,r){return e=WK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WK(t){var e=Hye(t,"string");return Gh(e)=="symbol"?e:e+""}function Hye(t,e){if(Gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var d1=(function(t){function e(){return Bye(this,e),$ye(this,e,arguments)}return qye(e,t),zye(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,l=n.dataKey,d=n.data,h=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,y=Dye(n,kye),b=Ct(y,!1);this.props.direction==="x"&&p.type!=="number"&&qd();var T=d.map(function(S){var w=h(S,l),N=w.x,k=w.y,j=w.value,$=w.errorVal;if(!$)return null;var I=[],L,E;if(Array.isArray($)){var A=Oye($,2);L=A[0],E=A[1]}else L=E=$;if(a==="vertical"){var R=p.scale,F=k+i,D=F+s,B=F-s,M=R(j-L),Q=R(j+E);I.push({x1:Q,y1:D,x2:Q,y2:B}),I.push({x1:M,y1:F,x2:Q,y2:F}),I.push({x1:M,y1:D,x2:M,y2:B})}else if(a==="horizontal"){var Z=m.scale,W=N+i,J=W-s,Y=W+s,ge=Z(j-L),ce=Z(j+E);I.push({x1:J,y1:ce,x2:Y,y2:ce}),I.push({x1:W,y1:ge,x2:W,y2:ce}),I.push({x1:J,y1:ge,x2:Y,y2:ge})}return ee.createElement(xr,Yb({className:"recharts-errorBar",key:"bar-".concat(I.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},b),I.map(function(X){return ee.createElement("line",Yb({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return ee.createElement(xr,{className:"recharts-errorBars"},T)}}])})(ee.Component);KK(d1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});KK(d1,"displayName","ErrorBar");function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function _B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function td(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(r),!0).forEach(function(n){Gye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_B(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gye(t,e,r){return e=Kye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kye(t){var e=Wye(t,"string");return og(e)=="symbol"?e:e+""}function Wye(t,e){if(og(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XK=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=es(r,mh);if(!s)return null;var l=mh.defaultProps,d=l!==void 0?td(td({},l),s.props):{},h;return s.props&&s.props.payload?h=s.props&&s.props.payload:a==="children"?h=(n||[]).reduce(function(p,m){var y=m.item,b=m.props,T=b.sectors||b.data||[];return p.concat(T.map(function(S){return{type:s.props.iconType||y.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):h=(n||[]).map(function(p){var m=p.item,y=m.type.defaultProps,b=y!==void 0?td(td({},y),m.props):{},T=b.dataKey,S=b.name,w=b.legendType,N=b.hide;return{inactive:N,dataKey:T,type:d.iconType||w||"square",color:DN(m),value:S||T,payload:b}}),td(td(td({},d),mh.getWithHeight(s,i)),{},{payload:h,item:s})};function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function SB(t){return Zye(t)||Yye(t)||Qye(t)||Xye()}function Xye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qye(t,e){if(t){if(typeof t=="string")return ZA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZA(t,e)}}function Yye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zye(t){if(Array.isArray(t))return ZA(t)}function ZA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(r),!0).forEach(function(n){yh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yh(t,e,r){return e=Jye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jye(t){var e=eve(t,"string");return lg(e)=="symbol"?e:e+""}function eve(t,e){if(lg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gi(t,e,r){return Gt(t)||Gt(e)?r:pi(e)?ks(t,e,r):Ut(e)?e(t):r}function fm(t,e,r,n){var i=Z1e(t,function(l){return Gi(l,e)});if(r==="number"){var a=i.filter(function(l){return ot(l)||parseFloat(l)});return a.length?[$2(a),z2(a)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!Gt(l)}):i;return s.map(function(l){return pi(l)||l instanceof Date?l:""})}var tve=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,h=0;h<l;h++){var p=h>0?i[h-1].coordinate:i[l-1].coordinate,m=i[h].coordinate,y=h>=l-1?i[0].coordinate:i[h+1].coordinate,b=void 0;if(to(m-p)!==to(y-m)){var T=[];if(to(y-m)===to(d[1]-d[0])){b=y;var S=m+d[1]-d[0];T[0]=Math.min(S,(S+p)/2),T[1]=Math.max(S,(S+p)/2)}else{b=p;var w=y+d[1]-d[0];T[0]=Math.min(m,(w+m)/2),T[1]=Math.max(m,(w+m)/2)}var N=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(e>N[0]&&e<=N[1]||e>=T[0]&&e<=T[1]){s=i[h].index;break}}else{var k=Math.min(p,y),j=Math.max(p,y);if(e>(k+m)/2&&e<=(j+m)/2){s=i[h].index;break}}}else for(var $=0;$<l;$++)if($===0&&e<=(n[$].coordinate+n[$+1].coordinate)/2||$>0&&$<l-1&&e>(n[$].coordinate+n[$-1].coordinate)/2&&e<=(n[$].coordinate+n[$+1].coordinate)/2||$===l-1&&e>(n[$].coordinate+n[$-1].coordinate)/2){s=n[$].index;break}return s},DN=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,d;switch(i){case"Line":d=s;break;case"Area":case"Radar":d=s&&s!=="none"?s:l;break;default:d=l;break}return d},rve=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),d=0,h=l.length;d<h;d++)for(var p=a[l[d]].stackGroups,m=Object.keys(p),y=0,b=m.length;y<b;y++){var T=p[m[y]],S=T.items,w=T.cateAxisId,N=S.filter(function(E){return Ol(E.type).indexOf("Bar")>=0});if(N&&N.length){var k=N[0].type.defaultProps,j=k!==void 0?Dn(Dn({},k),N[0].props):N[0].props,$=j.barSize,I=j[w];s[I]||(s[I]=[]);var L=Gt($)?r:$;s[I].push({item:N[0],stackList:N.slice(1),barSize:Gt(L)?void 0:ro(L,n,0)})}}return s},nve=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,d=s.length;if(d<1)return null;var h=ro(r,i,0,!0),p,m=[];if(s[0].barSize===+s[0].barSize){var y=!1,b=i/d,T=s.reduce(function($,I){return $+I.barSize||0},0);T+=(d-1)*h,T>=i&&(T-=(d-1)*h,h=0),T>=i&&b>0&&(y=!0,b*=.9,T=d*b);var S=(i-T)/2>>0,w={offset:S-h,size:0};p=s.reduce(function($,I){var L={item:I.item,position:{offset:w.offset+w.size+h,size:y?b:I.barSize}},E=[].concat(SB($),[L]);return w=E[E.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(A){E.push({item:A,position:w})}),E},m)}else{var N=ro(n,i,0,!0);i-2*N-(d-1)*h<=0&&(h=0);var k=(i-2*N-(d-1)*h)/d;k>1&&(k>>=0);var j=l===+l?Math.min(k,l):k;p=s.reduce(function($,I,L){var E=[].concat(SB($),[{item:I.item,position:{offset:N+(k+h)*L+(k-j)/2,size:j}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(A){E.push({item:A,position:E[E.length-1].position})}),E},m)}return p},ive=function(e,r,n,i){var a=n.children,s=n.width,l=n.margin,d=s-(l.left||0)-(l.right||0),h=XK({children:a,legendWidth:d});if(h){var p=i||{},m=p.width,y=p.height,b=h.align,T=h.verticalAlign,S=h.layout;if((S==="vertical"||S==="horizontal"&&T==="middle")&&b!=="center"&&ot(e[b]))return Dn(Dn({},e),{},yh({},b,e[b]+(m||0)));if((S==="horizontal"||S==="vertical"&&b==="center")&&T!=="middle"&&ot(e[T]))return Dn(Dn({},e),{},yh({},T,e[T]+(y||0)))}return e},ave=function(e,r,n){return Gt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},QK=function(e,r,n,i,a){var s=r.props.children,l=cs(s,d1).filter(function(h){return ave(i,a,h.props.direction)});if(l&&l.length){var d=l.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var m=Gi(p,n);if(Gt(m))return h;var y=Array.isArray(m)?[$2(m),z2(m)]:[m,m],b=d.reduce(function(T,S){var w=Gi(p,S,0),N=y[0]-Math.abs(Array.isArray(w)?w[0]:w),k=y[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(N,T[0]),Math.max(k,T[1])]},[1/0,-1/0]);return[Math.min(b[0],h[0]),Math.max(b[1],h[1])]},[1/0,-1/0])}return null},sve=function(e,r,n,i,a){var s=r.map(function(l){return QK(e,l,n,a,i)}).filter(function(l){return!Gt(l)});return s&&s.length?s.reduce(function(l,d){return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]):null},YK=function(e,r,n,i,a){var s=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&QK(e,d,h,i)||fm(e,h,n,a)});if(n==="number")return s.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var l={};return s.reduce(function(d,h){for(var p=0,m=h.length;p<m;p++)l[h[p]]||(l[h[p]]=!0,d.push(h[p]));return d},[])},ZK=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},JK=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var a,s,l=e.map(function(d){return d.coordinate===r&&(a=!0),d.coordinate===n&&(s=!0),d.coordinate});return a||l.push(r),s||l.push(n),l},Nl=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?to(l[0]-l[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var y=a?a.indexOf(m):m;return{coordinate:i(y)+h,value:m,offset:h}});return p.filter(function(m){return!n1(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:i(m)+h,value:m,index:y,offset:h}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+h,value:m,offset:h}}):i.domain().map(function(m,y){return{coordinate:i(m)+h,value:a?a[m]:m,index:y,offset:h}})},ES=new WeakMap,mv=function(e,r){if(typeof r!="function")return e;ES.has(e)||ES.set(e,new WeakMap);var n=ES.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},eW=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:eg(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Gb(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:hm(),realScaleType:"point"}:a==="category"?{scale:eg(),realScaleType:"band"}:{scale:Gb(),realScaleType:"linear"};if($d(i)){var d="scale".concat(A2(i));return{scale:(cB[d]||hm)(),realScaleType:cB[d]?d:"point"}}return Ut(i)?{scale:i}:{scale:hm(),realScaleType:"point"}},AB=1e-4,tW=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-AB,s=Math.max(i[0],i[1])+AB,l=e(r[0]),d=e(r[n-1]);(l<a||l>s||d<a||d>s)&&e.domain([r[0],r[n-1]])}},ove=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},lve=function(e,r){if(!r||r.length!==2||!ot(r[0])||!ot(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ot(e[0])||e[0]<n)&&(a[0]=n),(!ot(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},cve=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,l=0;l<r;++l){var d=n1(e[l][n][1])?e[l][n][0]:e[l][n][1];d>=0?(e[l][n][0]=a,e[l][n][1]=a+d,a=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+d,s=e[l][n][1])}},uve=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var l=n1(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},dve={sign:cve,expand:Z0e,none:Lh,silhouette:J0e,wiggle:ehe,positive:uve},hve=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=dve[n],s=Y0e().keys(i).value(function(l,d){return+Gi(l,d,0)}).order(CA).offset(a);return s(e)},fve=function(e,r,n,i,a,s){if(!e)return null;var l=s?r.reverse():r,d={},h=l.reduce(function(m,y){var b,T=(b=y.type)!==null&&b!==void 0&&b.defaultProps?Dn(Dn({},y.type.defaultProps),y.props):y.props,S=T.stackId,w=T.hide;if(w)return m;var N=T[n],k=m[N]||{hasStack:!1,stackGroups:{}};if(pi(S)){var j=k.stackGroups[S]||{numericAxisId:n,cateAxisId:i,items:[]};j.items.push(y),k.hasStack=!0,k.stackGroups[S]=j}else k.stackGroups[i1("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return Dn(Dn({},m),{},yh({},N,k))},d),p={};return Object.keys(h).reduce(function(m,y){var b=h[y];if(b.hasStack){var T={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(S,w){var N=b.stackGroups[w];return Dn(Dn({},S),{},yh({},w,{numericAxisId:n,cateAxisId:i,items:N.items,stackedData:hve(e,N.items,a)}))},T)}return Dn(Dn({},m),{},yh({},y,b))},p)},rW=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,l=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=Nye(h,a,l);return e.domain([$2(p),z2(p)]),{niceTicks:p}}if(a&&i==="number"){var m=e.domain(),y=Cye(m,a,l);return{niceTicks:y}}return null};function EB(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Gt(i[e.dataKey])){var l=Nb(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var d=Gi(i,Gt(s)?e.dataKey:s);return Gt(d)?null:e.scale(d)}var NB=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var d=Gi(s,r.dataKey,r.domain[l]);return Gt(d)?null:r.scale(d)-a/2+i},pve=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},mve=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(pi(a)){var s=r[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},gve=function(e){return e.reduce(function(r,n){return[$2(n.concat([r[0]]).filter(ot)),z2(n.concat([r[1]]).filter(ot))]},[1/0,-1/0])},nW=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],l=s.stackedData,d=l.reduce(function(h,p){var m=gve(p.slice(r,n+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},CB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JA=function(e,r,n){if(Ut(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ot(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(CB.test(e[0])){var a=+CB.exec(e[0])[1];i[0]=r[0]-a}else Ut(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ot(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(jB.test(e[1])){var s=+jB.exec(e[1])[1];i[1]=r[1]+s}else Ut(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Jb=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=cN(r,function(m){return m.coordinate}),s=1/0,l=1,d=a.length;l<d;l++){var h=a[l],p=a[l-1];s=Math.min((h.coordinate||0)-(p.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},kB=function(e,r,n){return!e||!e.length||u1(e,ks(n,"type.defaultProps.domain"))?r:e},iW=function(e,r){var n=e.type.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,l=n.formatter,d=n.tooltipType,h=n.chartType,p=n.hide;return Dn(Dn({},Ct(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:DN(e),value:Gi(r,i),type:d,payload:r,chartType:h,hide:p})};function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function OB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(r),!0).forEach(function(n){aW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aW(t,e,r){return e=yve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yve(t){var e=vve(t,"string");return cg(e)=="symbol"?e:e+""}function vve(t,e){if(cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bve(t,e){return Sve(t)||_ve(t,e)||wve(t,e)||xve()}function xve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wve(t,e){if(t){if(typeof t=="string")return IB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IB(t,e)}}function IB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _ve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function Sve(t){if(Array.isArray(t))return t}var ex=Math.PI/180,Tve=function(e){return e*180/Math.PI},Gr=function(e,r,n,i){return{x:e+Math.cos(-ex*i)*n,y:r+Math.sin(-ex*i)*n}},Ave=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Eve=function(e,r,n,i,a){var s=e.width,l=e.height,d=e.startAngle,h=e.endAngle,p=ro(e.cx,s,s/2),m=ro(e.cy,l,l/2),y=Ave(s,l,n),b=ro(e.innerRadius,y,0),T=ro(e.outerRadius,y,y*.8),S=Object.keys(r);return S.reduce(function(w,N){var k=r[N],j=k.domain,$=k.reversed,I;if(Gt(k.range))i==="angleAxis"?I=[d,h]:i==="radiusAxis"&&(I=[b,T]),$&&(I=[I[1],I[0]]);else{I=k.range;var L=I,E=bve(L,2);d=E[0],h=E[1]}var A=eW(k,a),R=A.realScaleType,F=A.scale;F.domain(j).range(I),tW(F);var D=rW(F,gl(gl({},k),{},{realScaleType:R})),B=gl(gl(gl({},k),D),{},{range:I,radius:T,realScaleType:R,scale:F,cx:p,cy:m,innerRadius:b,outerRadius:T,startAngle:d,endAngle:h});return gl(gl({},w),{},aW({},N,B))},{})},Nve=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},Cve=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,l=Nve({x:n,y:i},{x:a,y:s});if(l<=0)return{radius:l};var d=(n-a)/l,h=Math.acos(d);return i>s&&(h=2*Math.PI-h),{radius:l,angle:Tve(h),angleInRadian:h}},jve=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},kve=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(a,s);return e+l*360},RB=function(e,r){var n=e.x,i=e.y,a=Cve({x:n,y:i},r),s=a.radius,l=a.angle,d=r.innerRadius,h=r.outerRadius;if(s<d||s>h)return!1;if(s===0)return!0;var p=jve(r),m=p.startAngle,y=p.endAngle,b=l,T;if(m<=y){for(;b>y;)b-=360;for(;b<m;)b+=360;T=b>=m&&b<=y}else{for(;b>m;)b-=360;for(;b<y;)b+=360;T=b>=y&&b<=m}return T?gl(gl({},r),{},{radius:s,angle:kve(b,r)}):null},sW=function(e){return!P.isValidElement(e)&&!Ut(e)&&typeof e!="boolean"?e.className:""};function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}var Ove=["offset"];function Ive(t){return Dve(t)||Pve(t)||Mve(t)||Rve()}function Rve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mve(t,e){if(t){if(typeof t=="string")return e8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e8(t,e)}}function Pve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dve(t){if(Array.isArray(t))return e8(t)}function e8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lve(t,e){if(t==null)return{};var r=Bve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function MB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MB(Object(r),!0).forEach(function(n){Uve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uve(t,e,r){return e=zve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zve(t){var e=$ve(t,"string");return ug(e)=="symbol"?e:e+""}function $ve(t,e){if(ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dg.apply(this,arguments)}var Vve=function(e){var r=e.value,n=e.formatter,i=Gt(e.children)?r:e.children;return Ut(n)?n(i):i},Fve=function(e,r){var n=to(r-e),i=Math.min(Math.abs(r-e),360);return n*i},qve=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,l=e.className,d=a,h=d.cx,p=d.cy,m=d.innerRadius,y=d.outerRadius,b=d.startAngle,T=d.endAngle,S=d.clockWise,w=(m+y)/2,N=Fve(b,T),k=N>=0?1:-1,j,$;i==="insideStart"?(j=b+k*s,$=S):i==="insideEnd"?(j=T-k*s,$=!S):i==="end"&&(j=T+k*s,$=S),$=N<=0?$:!$;var I=Gr(h,p,w,j),L=Gr(h,p,w,j+($?1:-1)*359),E="M".concat(I.x,",").concat(I.y,`
    A`).concat(w,",").concat(w,",0,1,").concat($?0:1,`,
    `).concat(L.x,",").concat(L.y),A=Gt(e.id)?i1("recharts-radial-line-"):e.id;return ee.createElement("text",dg({},n,{dominantBaseline:"central",className:Zt("recharts-radial-bar-label",l)}),ee.createElement("defs",null,ee.createElement("path",{id:A,d:E})),ee.createElement("textPath",{xlinkHref:"#".concat(A)},r))},Hve=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,l=a.cy,d=a.innerRadius,h=a.outerRadius,p=a.startAngle,m=a.endAngle,y=(p+m)/2;if(i==="outside"){var b=Gr(s,l,h+n,y),T=b.x,S=b.y;return{x:T,y:S,textAnchor:T>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(d+h)/2,N=Gr(s,l,w,y),k=N.x,j=N.y;return{x:k,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Gve=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,l=s.x,d=s.y,h=s.width,p=s.height,m=p>=0?1:-1,y=m*i,b=m>0?"end":"start",T=m>0?"start":"end",S=h>=0?1:-1,w=S*i,N=S>0?"end":"start",k=S>0?"start":"end";if(a==="top"){var j={x:l+h/2,y:d-m*i,textAnchor:"middle",verticalAnchor:b};return di(di({},j),n?{height:Math.max(d-n.y,0),width:h}:{})}if(a==="bottom"){var $={x:l+h/2,y:d+p+y,textAnchor:"middle",verticalAnchor:T};return di(di({},$),n?{height:Math.max(n.y+n.height-(d+p),0),width:h}:{})}if(a==="left"){var I={x:l-w,y:d+p/2,textAnchor:N,verticalAnchor:"middle"};return di(di({},I),n?{width:Math.max(I.x-n.x,0),height:p}:{})}if(a==="right"){var L={x:l+h+w,y:d+p/2,textAnchor:k,verticalAnchor:"middle"};return di(di({},L),n?{width:Math.max(n.x+n.width-L.x,0),height:p}:{})}var E=n?{width:h,height:p}:{};return a==="insideLeft"?di({x:l+w,y:d+p/2,textAnchor:k,verticalAnchor:"middle"},E):a==="insideRight"?di({x:l+h-w,y:d+p/2,textAnchor:N,verticalAnchor:"middle"},E):a==="insideTop"?di({x:l+h/2,y:d+y,textAnchor:"middle",verticalAnchor:T},E):a==="insideBottom"?di({x:l+h/2,y:d+p-y,textAnchor:"middle",verticalAnchor:b},E):a==="insideTopLeft"?di({x:l+w,y:d+y,textAnchor:k,verticalAnchor:T},E):a==="insideTopRight"?di({x:l+h-w,y:d+y,textAnchor:N,verticalAnchor:T},E):a==="insideBottomLeft"?di({x:l+w,y:d+p-y,textAnchor:k,verticalAnchor:b},E):a==="insideBottomRight"?di({x:l+h-w,y:d+p-y,textAnchor:N,verticalAnchor:b},E):_f(a)&&(ot(a.x)||md(a.x))&&(ot(a.y)||md(a.y))?di({x:l+ro(a.x,h),y:d+ro(a.y,p),textAnchor:"end",verticalAnchor:"end"},E):di({x:l+h/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Kve=function(e){return"cx"in e&&ot(e.cx)};function Fi(t){var e=t.offset,r=e===void 0?5:e,n=Lve(t,Ove),i=di({offset:r},n),a=i.viewBox,s=i.position,l=i.value,d=i.children,h=i.content,p=i.className,m=p===void 0?"":p,y=i.textBreakAll;if(!a||Gt(l)&&Gt(d)&&!P.isValidElement(h)&&!Ut(h))return null;if(P.isValidElement(h))return P.cloneElement(h,i);var b;if(Ut(h)){if(b=P.createElement(h,i),P.isValidElement(b))return b}else b=Vve(i);var T=Kve(a),S=Ct(i,!0);if(T&&(s==="insideStart"||s==="insideEnd"||s==="end"))return qve(i,b,S);var w=T?Hve(i):Gve(i);return ee.createElement(Vh,dg({className:Zt("recharts-label",m)},S,w,{breakAll:y}),b)}Fi.displayName="Label";var oW=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,d=e.radius,h=e.innerRadius,p=e.outerRadius,m=e.x,y=e.y,b=e.top,T=e.left,S=e.width,w=e.height,N=e.clockWise,k=e.labelViewBox;if(k)return k;if(ot(S)&&ot(w)){if(ot(m)&&ot(y))return{x:m,y,width:S,height:w};if(ot(b)&&ot(T))return{x:b,y:T,width:S,height:w}}return ot(m)&&ot(y)?{x:m,y,width:0,height:0}:ot(r)&&ot(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:h||0,outerRadius:p||d||l||0,clockWise:N}:e.viewBox?e.viewBox:{}},Wve=function(e,r){return e?e===!0?ee.createElement(Fi,{key:"label-implicit",viewBox:r}):pi(e)?ee.createElement(Fi,{key:"label-implicit",viewBox:r,value:e}):P.isValidElement(e)?e.type===Fi?P.cloneElement(e,{key:"label-implicit",viewBox:r}):ee.createElement(Fi,{key:"label-implicit",content:e,viewBox:r}):Ut(e)?ee.createElement(Fi,{key:"label-implicit",content:e,viewBox:r}):_f(e)?ee.createElement(Fi,dg({viewBox:r},e,{key:"label-implicit"})):null:null},Xve=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=oW(e),s=cs(i,Fi).map(function(d,h){return P.cloneElement(d,{viewBox:r||a,key:"label-".concat(h)})});if(!n)return s;var l=Wve(e.label,r||a);return[l].concat(Ive(s))};Fi.parseViewBox=oW;Fi.renderCallByParent=Xve;var NS,PB;function Qve(){if(PB)return NS;PB=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return NS=t,NS}var Yve=Qve();const lW=Tr(Yve);function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}var Zve=["valueAccessor"],Jve=["data","dataKey","clockWise","id","textBreakAll"];function ebe(t){return ibe(t)||nbe(t)||rbe(t)||tbe()}function tbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rbe(t,e){if(t){if(typeof t=="string")return t8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t8(t,e)}}function nbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ibe(t){if(Array.isArray(t))return t8(t)}function t8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tx.apply(this,arguments)}function DB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DB(Object(r),!0).forEach(function(n){abe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function abe(t,e,r){return e=sbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sbe(t){var e=obe(t,"string");return hg(e)=="symbol"?e:e+""}function obe(t,e){if(hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BB(t,e){if(t==null)return{};var r=lbe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var cbe=function(e){return Array.isArray(e.value)?lW(e.value):e.value};function Ml(t){var e=t.valueAccessor,r=e===void 0?cbe:e,n=BB(t,Zve),i=n.data,a=n.dataKey,s=n.clockWise,l=n.id,d=n.textBreakAll,h=BB(n,Jve);return!i||!i.length?null:ee.createElement(xr,{className:"recharts-label-list"},i.map(function(p,m){var y=Gt(a)?r(p,m):Gi(p&&p.payload,a),b=Gt(l)?{}:{id:"".concat(l,"-").concat(m)};return ee.createElement(Fi,tx({},Ct(p,!0),h,b,{parentViewBox:p.parentViewBox,value:y,textBreakAll:d,viewBox:Fi.parseViewBox(Gt(s)?p:LB(LB({},p),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}Ml.displayName="LabelList";function ube(t,e){return t?t===!0?ee.createElement(Ml,{key:"labelList-implicit",data:e}):ee.isValidElement(t)||Ut(t)?ee.createElement(Ml,{key:"labelList-implicit",data:e,content:t}):_f(t)?ee.createElement(Ml,tx({data:e},t,{key:"labelList-implicit"})):null:null}function dbe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=cs(n,Ml).map(function(s,l){return P.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=ube(t.label,e);return[a].concat(ebe(i))}Ml.renderCallByParent=dbe;function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function r8(){return r8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r8.apply(this,arguments)}function UB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UB(Object(r),!0).forEach(function(n){hbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hbe(t,e,r){return e=fbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fbe(t){var e=pbe(t,"string");return fg(e)=="symbol"?e:e+""}function pbe(t,e){if(fg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mbe=function(e,r){var n=to(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},gv=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,l=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,p=d*(l?1:-1)+i,m=Math.asin(d/p)/ex,y=h?a:a+s*m,b=Gr(r,n,p,y),T=Gr(r,n,i,y),S=h?a-s*m:a,w=Gr(r,n,p*Math.cos(m*ex),S);return{center:b,circleTangency:T,lineTangency:w,theta:m}},cW=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,d=mbe(s,l),h=s+d,p=Gr(r,n,a,s),m=Gr(r,n,a,h),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var b=Gr(r,n,i,s),T=Gr(r,n,i,h);y+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=h),`,
            `).concat(b.x,",").concat(b.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},gbe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,m=to(p-h),y=gv({cx:r,cy:n,radius:a,angle:h,sign:m,cornerRadius:s,cornerIsExternal:d}),b=y.circleTangency,T=y.lineTangency,S=y.theta,w=gv({cx:r,cy:n,radius:a,angle:p,sign:-m,cornerRadius:s,cornerIsExternal:d}),N=w.circleTangency,k=w.lineTangency,j=w.theta,$=d?Math.abs(h-p):Math.abs(h-p)-S-j;if($<0)return l?"M ".concat(T.x,",").concat(T.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):cW({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:h,endAngle:p});var I="M ".concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var L=gv({cx:r,cy:n,radius:i,angle:h,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),E=L.circleTangency,A=L.lineTangency,R=L.theta,F=gv({cx:r,cy:n,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),D=F.circleTangency,B=F.lineTangency,M=F.theta,Q=d?Math.abs(h-p):Math.abs(h-p)-R-M;if(Q<0&&s===0)return"".concat(I,"L").concat(r,",").concat(n,"Z");I+="L".concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,"Z")}else I+="L".concat(r,",").concat(n,"Z");return I},ybe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uW=function(e){var r=zB(zB({},ybe),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,y=r.className;if(s<a||p===m)return null;var b=Zt("recharts-sector",y),T=s-a,S=ro(l,T,0,!0),w;return S>0&&Math.abs(p-m)<360?w=gbe({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,T/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:p,endAngle:m}):w=cW({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:p,endAngle:m}),ee.createElement("path",r8({},Ct(r,!0),{className:b,d:w,role:"img"}))};function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function n8(){return n8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n8.apply(this,arguments)}function $B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(r),!0).forEach(function(n){vbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$B(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vbe(t,e,r){return e=bbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bbe(t){var e=xbe(t,"string");return pg(e)=="symbol"?e:e+""}function xbe(t,e){if(pg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FB={curveBasisClosed:z0e,curveBasisOpen:$0e,curveBasis:U0e,curveBumpX:A0e,curveBumpY:E0e,curveLinearClosed:V0e,curveLinear:N2,curveMonotoneX:F0e,curveMonotoneY:q0e,curveNatural:H0e,curveStep:G0e,curveStepAfter:W0e,curveStepBefore:K0e},yv=function(e){return e.x===+e.x&&e.y===+e.y},Bp=function(e){return e.x},Up=function(e){return e.y},wbe=function(e,r){if(Ut(e))return e;var n="curve".concat(A2(e));return(n==="curveMonotone"||n==="curveBump")&&r?FB["".concat(n).concat(r==="vertical"?"Y":"X")]:FB[n]||N2},_be=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,l=e.layout,d=e.connectNulls,h=d===void 0?!1:d,p=wbe(n,l),m=h?a.filter(function(S){return yv(S)}):a,y;if(Array.isArray(s)){var b=h?s.filter(function(S){return yv(S)}):s,T=m.map(function(S,w){return VB(VB({},S),{},{base:b[w]})});return l==="vertical"?y=lv().y(Up).x1(Bp).x0(function(S){return S.base.x}):y=lv().x(Bp).y1(Up).y0(function(S){return S.base.y}),y.defined(yv).curve(p),y(T)}return l==="vertical"&&ot(s)?y=lv().y(Up).x1(Bp).x0(s):ot(s)?y=lv().x(Bp).y1(Up).y0(s):y=lG().x(Bp).y(Up),y.defined(yv).curve(p),y(m)},i8=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?_be(e):i;return P.createElement("path",n8({},Ct(e,!1),Cb(e),{className:Zt("recharts-curve",r),d:s,ref:a}))},CS={exports:{}},jS,qB;function Sbe(){if(qB)return jS;qB=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jS=t,jS}var kS,HB;function Tbe(){if(HB)return kS;HB=1;var t=Sbe();function e(){}function r(){}return r.resetWarningCache=e,kS=function(){function n(s,l,d,h,p,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},kS}var GB;function Abe(){return GB||(GB=1,CS.exports=Tbe()()),CS.exports}var Ebe=Abe();const Cr=Tr(Ebe),{getOwnPropertyNames:Nbe,getOwnPropertySymbols:Cbe}=Object,{hasOwnProperty:jbe}=Object.prototype;function OS(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function vv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,s=a.get(r),l=a.get(n);if(s&&l)return s===n&&l===r;a.set(r,n),a.set(n,r);const d=t(r,n,i);return a.delete(r),a.delete(n),d}}function kbe(t){return t!=null?t[Symbol.toStringTag]:void 0}function KB(t){return Nbe(t).concat(Cbe(t))}const Obe=Object.hasOwn||((t,e)=>jbe.call(t,e));function i0(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Ibe="__v",Rbe="__o",Mbe="_owner",{getOwnPropertyDescriptor:WB,keys:XB}=Object;function Pbe(t,e){return t.byteLength===e.byteLength&&rx(new Uint8Array(t),new Uint8Array(e))}function Dbe(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Lbe(t,e){return t.byteLength===e.byteLength&&rx(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Bbe(t,e){return i0(t.getTime(),e.getTime())}function Ube(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function zbe(t,e){return t===e}function QB(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let s,l,d=0;for(;(s=a.next())&&!s.done;){const h=e.entries();let p=!1,m=0;for(;(l=h.next())&&!l.done;){if(i[m]){m++;continue}const y=s.value,b=l.value;if(r.equals(y[0],b[0],d,m,t,e,r)&&r.equals(y[1],b[1],y[0],b[0],t,e,r)){p=i[m]=!0;break}m++}if(!p)return!1;d++}return!0}const $be=i0;function Vbe(t,e,r){const n=XB(t);let i=n.length;if(XB(e).length!==i)return!1;for(;i-- >0;)if(!dW(t,e,r,n[i]))return!1;return!0}function zp(t,e,r){const n=KB(t);let i=n.length;if(KB(e).length!==i)return!1;let a,s,l;for(;i-- >0;)if(a=n[i],!dW(t,e,r,a)||(s=WB(t,a),l=WB(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Fbe(t,e){return i0(t.valueOf(),e.valueOf())}function qbe(t,e){return t.source===e.source&&t.flags===e.flags}function YB(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let s,l;for(;(s=a.next())&&!s.done;){const d=e.values();let h=!1,p=0;for(;(l=d.next())&&!l.done;){if(!i[p]&&r.equals(s.value,l.value,s.value,l.value,t,e,r)){h=i[p]=!0;break}p++}if(!h)return!1}return!0}function rx(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Hbe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function dW(t,e,r,n){return(n===Mbe||n===Rbe||n===Ibe)&&(t.$$typeof||e.$$typeof)?!0:Obe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const Gbe="[object ArrayBuffer]",Kbe="[object Arguments]",Wbe="[object Boolean]",Xbe="[object DataView]",Qbe="[object Date]",Ybe="[object Error]",Zbe="[object Map]",Jbe="[object Number]",exe="[object Object]",txe="[object RegExp]",rxe="[object Set]",nxe="[object String]",ixe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},axe="[object URL]",sxe=Object.prototype.toString;function oxe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:y,areUrlsEqual:b,unknownTagComparators:T}){return function(w,N,k){if(w===N)return!0;if(w==null||N==null)return!1;const j=typeof w;if(j!==typeof N)return!1;if(j!=="object")return j==="number"?l(w,N,k):j==="function"?a(w,N,k):!1;const $=w.constructor;if($!==N.constructor)return!1;if($===Object)return d(w,N,k);if(Array.isArray(w))return e(w,N,k);if($===Date)return n(w,N,k);if($===RegExp)return p(w,N,k);if($===Map)return s(w,N,k);if($===Set)return m(w,N,k);const I=sxe.call(w);if(I===Qbe)return n(w,N,k);if(I===txe)return p(w,N,k);if(I===Zbe)return s(w,N,k);if(I===rxe)return m(w,N,k);if(I===exe)return typeof w.then!="function"&&typeof N.then!="function"&&d(w,N,k);if(I===axe)return b(w,N,k);if(I===Ybe)return i(w,N,k);if(I===Kbe)return d(w,N,k);if(ixe[I])return y(w,N,k);if(I===Gbe)return t(w,N,k);if(I===Xbe)return r(w,N,k);if(I===Wbe||I===Jbe||I===nxe)return h(w,N,k);if(T){let L=T[I];if(!L){const E=kbe(w);E&&(L=T[E])}if(L)return L(w,N,k)}return!1}}function lxe({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:Pbe,areArraysEqual:r?zp:Dbe,areDataViewsEqual:Lbe,areDatesEqual:Bbe,areErrorsEqual:Ube,areFunctionsEqual:zbe,areMapsEqual:r?OS(QB,zp):QB,areNumbersEqual:$be,areObjectsEqual:r?zp:Vbe,arePrimitiveWrappersEqual:Fbe,areRegExpsEqual:qbe,areSetsEqual:r?OS(YB,zp):YB,areTypedArraysEqual:r?OS(rx,zp):rx,areUrlsEqual:Hbe,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=vv(n.areArraysEqual),a=vv(n.areMapsEqual),s=vv(n.areObjectsEqual),l=vv(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return n}function cxe(t){return function(e,r,n,i,a,s,l){return t(e,r,l)}}function uxe({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(l,d){const{cache:h=t?new WeakMap:void 0,meta:p}=r();return e(l,d,{cache:h,equals:n,meta:p,strict:i})};if(t)return function(l,d){return e(l,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,d){return e(l,d,a)}}const dxe=Su();Su({strict:!0});Su({circular:!0});Su({circular:!0,strict:!0});Su({createInternalComparator:()=>i0});Su({strict:!0,createInternalComparator:()=>i0});Su({circular:!0,createInternalComparator:()=>i0});Su({circular:!0,createInternalComparator:()=>i0,strict:!0});function Su(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=lxe(t),s=oxe(a),l=r?r(s):cxe(s);return uxe({circular:e,comparator:s,createState:n,equals:l,strict:i})}function hxe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function ZB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):hxe(i)};requestAnimationFrame(n)}function a8(t){"@babel/helpers - typeof";return a8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a8(t)}function fxe(t){return yxe(t)||gxe(t)||mxe(t)||pxe()}function pxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mxe(t,e){if(t){if(typeof t=="string")return JB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JB(t,e)}}function JB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yxe(t){if(Array.isArray(t))return t}function vxe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,l=fxe(s),d=l[0],h=l.slice(1);if(typeof d=="number"){ZB(i.bind(null,h),d);return}i(d),ZB(i.bind(null,h));return}a8(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function eU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eU(Object(r),!0).forEach(function(n){hW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hW(t,e,r){return e=bxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bxe(t){var e=xxe(t,"string");return mg(e)==="symbol"?e:String(e)}function xxe(t,e){if(mg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wxe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},_xe=function(e){return e},Sxe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},pm=function(e,r){return Object.keys(r).reduce(function(n,i){return tU(tU({},n),{},hW({},i,e(i,r[i])))},{})},rU=function(e,r,n){return e.map(function(i){return"".concat(Sxe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Txe(t,e){return Nxe(t)||Exe(t,e)||fW(t,e)||Axe()}function Axe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Exe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function Nxe(t){if(Array.isArray(t))return t}function Cxe(t){return Oxe(t)||kxe(t)||fW(t)||jxe()}function jxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fW(t,e){if(t){if(typeof t=="string")return s8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s8(t,e)}}function kxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oxe(t){if(Array.isArray(t))return s8(t)}function s8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nx=1e-4,pW=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},mW=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},nU=function(e,r){return function(n){var i=pW(e,r);return mW(i,n)}},Ixe=function(e,r){return function(n){var i=pW(e,r),a=[].concat(Cxe(i.map(function(s,l){return s*l}).slice(1)),[0]);return mW(a,n)}},iU=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),p=Txe(h,4);i=p[0],a=p[1],s=p[2],l=p[3]}}}var m=nU(i,s),y=nU(a,l),b=Ixe(i,s),T=function(N){return N>1?1:N<0?0:N},S=function(N){for(var k=N>1?1:N,j=k,$=0;$<8;++$){var I=m(j)-k,L=b(j);if(Math.abs(I-k)<nx||L<nx)return y(j);j=T(j-I/L)}return y(j)};return S.isStepper=!1,S},Rxe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,d=function(p,m,y){var b=-(p-m)*n,T=y*a,S=y+(b-T)*l/1e3,w=y*l/1e3+p;return Math.abs(w-m)<nx&&Math.abs(S)<nx?[m,0]:[w,S]};return d.isStepper=!0,d.dt=l,d},Mxe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iU(i);case"spring":return Rxe();default:if(i.split("(")[0]==="cubic-bezier")return iU(i)}return typeof i=="function"?i:null};function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function aU(t){return Lxe(t)||Dxe(t)||gW(t)||Pxe()}function Pxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lxe(t){if(Array.isArray(t))return l8(t)}function sU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sU(Object(r),!0).forEach(function(n){o8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o8(t,e,r){return e=Bxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bxe(t){var e=Uxe(t,"string");return gg(e)==="symbol"?e:String(e)}function Uxe(t,e){if(gg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zxe(t,e){return Fxe(t)||Vxe(t,e)||gW(t,e)||$xe()}function $xe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gW(t,e){if(t){if(typeof t=="string")return l8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l8(t,e)}}function l8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function Fxe(t){if(Array.isArray(t))return t}var ix=function(e,r,n){return e+(r-e)*n},c8=function(e){var r=e.from,n=e.to;return r!==n},qxe=function t(e,r,n){var i=pm(function(a,s){if(c8(s)){var l=e(s.from,s.to,s.velocity),d=zxe(l,2),h=d[0],p=d[1];return zi(zi({},s),{},{from:h,velocity:p})}return s},r);return n<1?pm(function(a,s){return c8(s)?zi(zi({},s),{},{velocity:ix(s.velocity,i[a].velocity,n),from:ix(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const Hxe=(function(t,e,r,n,i){var a=wxe(t,e),s=a.reduce(function(w,N){return zi(zi({},w),{},o8({},N,[t[N],e[N]]))},{}),l=a.reduce(function(w,N){return zi(zi({},w),{},o8({},N,{from:t[N],velocity:0,to:e[N]}))},{}),d=-1,h,p,m=function(){return null},y=function(){return pm(function(N,k){return k.from},l)},b=function(){return!Object.values(l).filter(c8).length},T=function(N){h||(h=N);var k=N-h,j=k/r.dt;l=qxe(r,l,j),i(zi(zi(zi({},t),e),y())),h=N,b()||(d=requestAnimationFrame(m))},S=function(N){p||(p=N);var k=(N-p)/n,j=pm(function(I,L){return ix.apply(void 0,aU(L).concat([r(k)]))},s);if(i(zi(zi(zi({},t),e),j)),k<1)d=requestAnimationFrame(m);else{var $=pm(function(I,L){return ix.apply(void 0,aU(L).concat([r(1)]))},s);i(zi(zi(zi({},t),e),$))}};return m=r.isStepper?T:S,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}var Gxe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Kxe(t,e){if(t==null)return{};var r=Wxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wxe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function IS(t){return Zxe(t)||Yxe(t)||Qxe(t)||Xxe()}function Xxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qxe(t,e){if(t){if(typeof t=="string")return u8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u8(t,e)}}function Yxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zxe(t){if(Array.isArray(t))return u8(t)}function u8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oU(Object(r),!0).forEach(function(n){Zp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zp(t,e,r){return e=yW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yW(n.key),n)}}function t2e(t,e,r){return e&&e2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yW(t){var e=r2e(t,"string");return Kh(e)==="symbol"?e:String(e)}function r2e(t,e){if(Kh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d8(t,e)}function d8(t,e){return d8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d8(t,e)}function i2e(t){var e=a2e();return function(){var n=ax(t),i;if(e){var a=ax(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return h8(this,i)}}function h8(t,e){if(e&&(Kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f8(t)}function f8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ax(t){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ax(t)}var Lo=(function(t){n2e(r,t);var e=i2e(r);function r(n,i){var a;Jxe(this,r),a=e.call(this,n,i);var s=a.props,l=s.isActive,d=s.attributeName,h=s.from,p=s.to,m=s.steps,y=s.children,b=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(f8(a)),a.changeStyle=a.changeStyle.bind(f8(a)),!l||b<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:p}),h8(a);if(m&&m.length)a.state={style:m[0].style};else if(h){if(typeof y=="function")return a.state={style:h},h8(a);a.state={style:d?Zp({},d,h):h}}else a.state={style:{}};return a}return t2e(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,d=a.attributeName,h=a.shouldReAnimate,p=a.to,m=a.from,y=this.state.style;if(l){if(!s){var b={style:d?Zp({},d,p):p};this.state&&y&&(d&&y[d]!==p||!d&&y!==p)&&this.setState(b);return}if(!(dxe(i.to,p)&&i.canBegin&&i.isActive)){var T=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=T||h?m:i.to;if(this.state&&y){var w={style:d?Zp({},d,S):S};(d&&y[d]!==S||!d&&y!==S)&&this.setState(w)}this.runAnimation(Qs(Qs({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,d=i.duration,h=i.easing,p=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,b=Hxe(s,l,Mxe(h),d,this.changeStyle),T=function(){a.stopJSAnimation=b()};this.manager.start([y,p,T,d,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,d=i.onAnimationStart,h=s[0],p=h.style,m=h.duration,y=m===void 0?0:m,b=function(S,w,N){if(N===0)return S;var k=w.duration,j=w.easing,$=j===void 0?"ease":j,I=w.style,L=w.properties,E=w.onAnimationEnd,A=N>0?s[N-1]:w,R=L||Object.keys(I);if(typeof $=="function"||$==="spring")return[].concat(IS(S),[a.runJSAnimation.bind(a,{from:A.style,to:I,duration:k,easing:$}),k]);var F=rU(R,k,$),D=Qs(Qs(Qs({},A.style),I),{},{transition:F});return[].concat(IS(S),[D,k,E]).filter(_xe)};return this.manager.start([d].concat(IS(s.reduce(b,[p,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=vxe());var a=i.begin,s=i.duration,l=i.attributeName,d=i.to,h=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,b=i.children,T=this.manager;if(this.unSubscribe=T.subscribe(this.handleStyleChange),typeof h=="function"||typeof b=="function"||h==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var S=l?Zp({},l,d):d,w=rU(Object.keys(S),s,h);T.start([p,a,Qs(Qs({},S),{},{transition:w}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=Kxe(i,Gxe),h=P.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!l||h===0||s<=0)return a;var m=function(b){var T=b.props,S=T.style,w=S===void 0?{}:S,N=T.className,k=P.cloneElement(b,Qs(Qs({},d),{},{style:Qs(Qs({},w),p),className:N}));return k};return h===1?m(P.Children.only(a)):ee.createElement("div",null,P.Children.map(a,function(y){return m(y)}))}}]),r})(P.PureComponent);Lo.displayName="Animate";Lo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Lo.propTypes={from:Cr.oneOfType([Cr.object,Cr.string]),to:Cr.oneOfType([Cr.object,Cr.string]),attributeName:Cr.string,duration:Cr.number,begin:Cr.number,easing:Cr.oneOfType([Cr.string,Cr.func]),steps:Cr.arrayOf(Cr.shape({duration:Cr.number.isRequired,style:Cr.object.isRequired,easing:Cr.oneOfType([Cr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Cr.func]),properties:Cr.arrayOf("string"),onAnimationEnd:Cr.func})),children:Cr.oneOfType([Cr.node,Cr.func]),isActive:Cr.bool,canBegin:Cr.bool,onAnimationEnd:Cr.func,shouldReAnimate:Cr.bool,onAnimationStart:Cr.func,onAnimationReStart:Cr.func};var Jp=v$();function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sx.apply(this,arguments)}function s2e(t,e){return u2e(t)||c2e(t,e)||l2e(t,e)||o2e()}function o2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l2e(t,e){if(t){if(typeof t=="string")return lU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lU(t,e)}}function lU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function u2e(t){if(Array.isArray(t))return t}function cU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cU(Object(r),!0).forEach(function(n){d2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d2e(t,e,r){return e=h2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h2e(t){var e=f2e(t,"string");return yg(e)=="symbol"?e:e+""}function f2e(t,e){if(yg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dU=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,d=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,p;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,b=4;y<b;y++)m[y]=a[y]>s?s:a[y];p="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+d*m[0],",").concat(r)),p+="L ".concat(e+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+l*m[1])),p+="L ".concat(e+n,",").concat(r+i-l*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+n-d*m[2],",").concat(r+i)),p+="L ".concat(e+d*m[3],",").concat(r+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+i-l*m[3])),p+="Z"}else if(s>0&&a===+a&&a>0){var T=Math.min(s,a);p="M ".concat(e,",").concat(r+l*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(e+d*T,",").concat(r,`
            L `).concat(e+n-d*T,",").concat(r,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(e+n,",").concat(r+l*T,`
            L `).concat(e+n,",").concat(r+i-l*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(e+n-d*T,",").concat(r+i,`
            L `).concat(e+d*T,",").concat(r+i,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(e,",").concat(r+i-l*T," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},p2e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,l=r.width,d=r.height;if(Math.abs(l)>0&&Math.abs(d)>0){var h=Math.min(a,a+l),p=Math.max(a,a+l),m=Math.min(s,s+d),y=Math.max(s,s+d);return n>=h&&n<=p&&i>=m&&i<=y}return!1},m2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LN=function(e){var r=uU(uU({},m2e),e),n=P.useRef(),i=P.useState(-1),a=s2e(i,2),s=a[0],l=a[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&l($)}catch{}},[]);var d=r.x,h=r.y,p=r.width,m=r.height,y=r.radius,b=r.className,T=r.animationEasing,S=r.animationDuration,w=r.animationBegin,N=r.isAnimationActive,k=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var j=Zt("recharts-rectangle",b);return k?ee.createElement(Lo,{canBegin:s>0,from:{width:p,height:m,x:d,y:h},to:{width:p,height:m,x:d,y:h},duration:S,animationEasing:T,isActive:k},function($){var I=$.width,L=$.height,E=$.x,A=$.y;return ee.createElement(Lo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,isActive:N,easing:T},ee.createElement("path",sx({},Ct(r,!0),{className:j,d:dU(E,A,I,L,y),ref:n})))}):ee.createElement("path",sx({},Ct(r,!0),{className:j,d:dU(d,h,p,m,y)}))},g2e=["points","className","baseLinePoints","connectNulls"];function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ih.apply(this,arguments)}function y2e(t,e){if(t==null)return{};var r=v2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hU(t){return _2e(t)||w2e(t)||x2e(t)||b2e()}function b2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x2e(t,e){if(t){if(typeof t=="string")return p8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p8(t,e)}}function w2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _2e(t){if(Array.isArray(t))return p8(t)}function p8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fU=function(e){return e&&e.x===+e.x&&e.y===+e.y},S2e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){fU(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),fU(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},mm=function(e,r){var n=S2e(e);r&&(n=[n.reduce(function(a,s){return[].concat(hU(a),hU(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,l,d){return"".concat(s).concat(d===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},T2e=function(e,r,n){var i=mm(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(mm(r.reverse(),n).slice(1))},vW=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=y2e(e,g2e);if(!r||!r.length)return null;var l=Zt("recharts-polygon",n);if(i&&i.length){var d=s.stroke&&s.stroke!=="none",h=T2e(r,i,a);return ee.createElement("g",{className:l},ee.createElement("path",ih({},Ct(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:h})),d?ee.createElement("path",ih({},Ct(s,!0),{fill:"none",d:mm(r,a)})):null,d?ee.createElement("path",ih({},Ct(s,!0),{fill:"none",d:mm(i,a)})):null)}var p=mm(r,a);return ee.createElement("path",ih({},Ct(s,!0),{fill:p.slice(-1)==="Z"?s.fill:"none",className:l,d:p}))};function m8(){return m8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m8.apply(this,arguments)}var q2=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=Zt("recharts-dot",a);return r===+r&&n===+n&&i===+i?P.createElement("circle",m8({},Ct(e,!1),Cb(e),{className:s,cx:r,cy:n,r:i})):null};function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}var A2e=["x","y","top","left","width","height","className"];function g8(){return g8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g8.apply(this,arguments)}function pU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(r),!0).forEach(function(n){N2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N2e(t,e,r){return e=C2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C2e(t){var e=j2e(t,"string");return vg(e)=="symbol"?e:e+""}function j2e(t,e){if(vg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k2e(t,e){if(t==null)return{};var r=O2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var I2e=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},R2e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,l=s===void 0?0:s,d=e.left,h=d===void 0?0:d,p=e.width,m=p===void 0?0:p,y=e.height,b=y===void 0?0:y,T=e.className,S=k2e(e,A2e),w=E2e({x:n,y:a,top:l,left:h,width:m,height:b},S);return!ot(n)||!ot(a)||!ot(m)||!ot(b)||!ot(l)||!ot(h)?null:ee.createElement("path",g8({},Ct(w,!0),{className:Zt("recharts-cross",T),d:I2e(n,a,m,b,l,h)}))},M2e=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function bg(t){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}function P2e(t,e){if(t==null)return{};var r=D2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function D2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kl.apply(this,arguments)}function mU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(r),!0).forEach(function(n){L2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L2e(t,e,r){return e=B2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B2e(t){var e=U2e(t,"string");return bg(e)=="symbol"?e:e+""}function U2e(t,e){if(bg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z2e=function(e,r,n,i){var a="";return i.forEach(function(s,l){var d=Gr(r,n,e,s);l?a+="L ".concat(d.x,",").concat(d.y):a+="M ".concat(d.x,",").concat(d.y)}),a+="Z",a},$2e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.polarAngles,l=e.radialLines;if(!s||!s.length||!l)return null;var d=xg({stroke:"#ccc"},Ct(e,!1));return ee.createElement("g",{className:"recharts-polar-grid-angle"},s.map(function(h){var p=Gr(r,n,i,h),m=Gr(r,n,a,h);return ee.createElement("line",Kl({},d,{key:"line-".concat(h),x1:p.x,y1:p.y,x2:m.x,y2:m.y}))}))},V2e=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.index,s=xg(xg({stroke:"#ccc"},Ct(e,!1)),{},{fill:"none"});return ee.createElement("circle",Kl({},s,{className:Zt("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:r,cy:n,r:i}))},F2e=function(e){var r=e.radius,n=e.index,i=xg(xg({stroke:"#ccc"},Ct(e,!1)),{},{fill:"none"});return ee.createElement("path",Kl({},i,{className:Zt("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(n),d:z2e(r,e.cx,e.cy,e.polarAngles)}))},q2e=function(e){var r=e.polarRadius,n=e.gridType;return!r||!r.length?null:ee.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,a){var s=a;return n==="circle"?ee.createElement(V2e,Kl({key:s},e,{radius:i,index:a})):ee.createElement(F2e,Kl({key:s},e,{radius:i,index:a}))}))},bW=function(e){var r=e.cx,n=r===void 0?0:r,i=e.cy,a=i===void 0?0:i,s=e.innerRadius,l=s===void 0?0:s,d=e.outerRadius,h=d===void 0?0:d,p=e.gridType,m=p===void 0?"polygon":p,y=e.radialLines,b=y===void 0?!0:y,T=P2e(e,M2e);return h<=0?null:ee.createElement("g",{className:"recharts-polar-grid"},ee.createElement($2e,Kl({cx:n,cy:a,innerRadius:l,outerRadius:h,gridType:m,radialLines:b},T)),ee.createElement(q2e,Kl({cx:n,cy:a,innerRadius:l,outerRadius:h,gridType:m,radialLines:b},T)))};bW.displayName="PolarGrid";var RS,gU;function H2e(){if(gU)return RS;gU=1;var t=U2(),e=IK(),r=Fo();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return RS=n,RS}var G2e=H2e();const K2e=Tr(G2e);var MS,yU;function W2e(){if(yU)return MS;yU=1;var t=U2(),e=Fo(),r=RK();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return MS=n,MS}var X2e=W2e();const Q2e=Tr(X2e);var Y2e=["cx","cy","angle","ticks","axisLine"],Z2e=["ticks","tick","angle","tickFormatter","stroke"];function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gm.apply(this,arguments)}function vU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vU(Object(r),!0).forEach(function(n){H2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bU(t,e){if(t==null)return{};var r=J2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function J2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function e4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wW(n.key),n)}}function t4e(t,e,r){return e&&xU(t.prototype,e),r&&xU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function r4e(t,e,r){return e=ox(e),n4e(t,xW()?Reflect.construct(e,r||[],ox(t).constructor):e.apply(t,r))}function n4e(t,e){if(e&&(Wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i4e(t)}function i4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xW=function(){return!!t})()}function ox(t){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ox(t)}function a4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y8(t,e)}function y8(t,e){return y8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y8(t,e)}function H2(t,e,r){return e=wW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wW(t){var e=s4e(t,"string");return Wh(e)=="symbol"?e:e+""}function s4e(t,e){if(Wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var h1=(function(t){function e(){return e4e(this,e),r4e(this,e,arguments)}return a4e(e,t),t4e(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,l=a.cx,d=a.cy;return Gr(l,d,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,d=K2e(l,function(p){return p.coordinate||0}),h=Q2e(l,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,d=n.axisLine,h=bU(n,Y2e),p=l.reduce(function(T,S){return[Math.min(T[0],S.coordinate),Math.max(T[1],S.coordinate)]},[1/0,-1/0]),m=Gr(i,a,p[0],s),y=Gr(i,a,p[1],s),b=rd(rd(rd({},Ct(h,!1)),{},{fill:"none"},Ct(d,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return ee.createElement("line",gm({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,d=i.tickFormatter,h=i.stroke,p=bU(i,Z2e),m=this.getTickTextAnchor(),y=Ct(p,!1),b=Ct(s,!1),T=a.map(function(S,w){var N=n.getTickValueCoord(S),k=rd(rd(rd(rd({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},y),{},{stroke:"none",fill:h},b),{},{index:w},N),{},{payload:S});return ee.createElement(xr,gm({className:Zt("recharts-polar-radius-axis-tick",sW(s)),key:"tick-".concat(S.coordinate)},Vd(n.props,S,w)),e.renderTickItem(s,k,d?d(S.value,w):S.value))});return ee.createElement(xr,{className:"recharts-polar-radius-axis-ticks"},T)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:ee.createElement(xr,{className:Zt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Fi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return ee.isValidElement(n)?s=ee.cloneElement(n,i):Ut(n)?s=n(i):s=ee.createElement(Vh,gm({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])})(P.PureComponent);H2(h1,"displayName","PolarRadiusAxis");H2(h1,"axisType","radiusAxis");H2(h1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fd.apply(this,arguments)}function wU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wU(Object(r),!0).forEach(function(n){G2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _U(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SW(n.key),n)}}function l4e(t,e,r){return e&&_U(t.prototype,e),r&&_U(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c4e(t,e,r){return e=lx(e),u4e(t,_W()?Reflect.construct(e,r||[],lx(t).constructor):e.apply(t,r))}function u4e(t,e){if(e&&(Xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d4e(t)}function d4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _W(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_W=function(){return!!t})()}function lx(t){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lx(t)}function h4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v8(t,e)}function v8(t,e){return v8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v8(t,e)}function G2(t,e,r){return e=SW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SW(t){var e=f4e(t,"string");return Xh(e)=="symbol"?e:e+""}function f4e(t,e){if(Xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var p4e=Math.PI/180,SU=1e-5,f1=(function(t){function e(){return o4e(this,e),c4e(this,e,arguments)}return h4e(e,t),l4e(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,l=i.radius,d=i.orientation,h=i.tickSize,p=h||8,m=Gr(a,s,l,n.coordinate),y=Gr(a,s,l+(d==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*p4e),s;return a>SU?s=i==="outer"?"start":"end":a<-SU?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,l=n.axisLine,d=n.axisLineType,h=nd(nd({},Ct(this.props,!1)),{},{fill:"none"},Ct(l,!1));if(d==="circle")return ee.createElement(q2,fd({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:a,r:s}));var p=this.props.ticks,m=p.map(function(y){return Gr(i,a,s,y.coordinate)});return ee.createElement(vW,fd({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,d=i.tickFormatter,h=i.stroke,p=Ct(this.props,!1),m=Ct(s,!1),y=nd(nd({},p),{},{fill:"none"},Ct(l,!1)),b=a.map(function(T,S){var w=n.getTickLineCoord(T),N=n.getTickTextAnchor(T),k=nd(nd(nd({textAnchor:N},p),{},{stroke:"none",fill:h},m),{},{index:S,payload:T,x:w.x2,y:w.y2});return ee.createElement(xr,fd({className:Zt("recharts-polar-angle-axis-tick",sW(s)),key:"tick-".concat(T.coordinate)},Vd(n.props,T,S)),l&&ee.createElement("line",fd({className:"recharts-polar-angle-axis-tick-line"},y,w)),s&&e.renderTickItem(s,k,d?d(T.value,S):T.value))});return ee.createElement(xr,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:ee.createElement(xr,{className:Zt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return ee.isValidElement(n)?s=ee.cloneElement(n,i):Ut(n)?s=n(i):s=ee.createElement(Vh,fd({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])})(P.PureComponent);G2(f1,"displayName","PolarAngleAxis");G2(f1,"axisType","angleAxis");G2(f1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var PS,TU;function m4e(){if(TU)return PS;TU=1;var t=OG(),e=t(Object.getPrototypeOf,Object);return PS=e,PS}var DS,AU;function g4e(){if(AU)return DS;AU=1;var t=Zl(),e=m4e(),r=Jl(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,l=a.hasOwnProperty,d=s.call(Object);function h(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var y=l.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==d}return DS=h,DS}var y4e=g4e();const v4e=Tr(y4e);var LS,EU;function b4e(){if(EU)return LS;EU=1;var t=Zl(),e=Jl(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return LS=n,LS}var x4e=b4e();const w4e=Tr(x4e);function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cx.apply(this,arguments)}function _4e(t,e){return E4e(t)||A4e(t,e)||T4e(t,e)||S4e()}function S4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T4e(t,e){if(t){if(typeof t=="string")return NU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NU(t,e)}}function NU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function E4e(t){if(Array.isArray(t))return t}function CU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CU(Object(r),!0).forEach(function(n){N4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N4e(t,e,r){return e=C4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C4e(t){var e=j4e(t,"string");return wg(e)=="symbol"?e:e+""}function j4e(t,e){if(wg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kU=function(e,r,n,i,a){var s=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-s/2,",").concat(r+a),l+="L ".concat(e+n-s/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},k4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O4e=function(e){var r=jU(jU({},k4e),e),n=P.useRef(),i=P.useState(-1),a=_4e(i,2),s=a[0],l=a[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var d=r.x,h=r.y,p=r.upperWidth,m=r.lowerWidth,y=r.height,b=r.className,T=r.animationEasing,S=r.animationDuration,w=r.animationBegin,N=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||y!==+y||p===0&&m===0||y===0)return null;var k=Zt("recharts-trapezoid",b);return N?ee.createElement(Lo,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:h},to:{upperWidth:p,lowerWidth:m,height:y,x:d,y:h},duration:S,animationEasing:T,isActive:N},function(j){var $=j.upperWidth,I=j.lowerWidth,L=j.height,E=j.x,A=j.y;return ee.createElement(Lo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,easing:T},ee.createElement("path",cx({},Ct(r,!0),{className:k,d:kU(E,A,$,I,L),ref:n})))}):ee.createElement("g",null,ee.createElement("path",cx({},Ct(r,!0),{className:k,d:kU(d,h,p,m,y)})))},I4e=["option","shapeType","propTransformer","activeClassName","isActive"];function _g(t){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}function R4e(t,e){if(t==null)return{};var r=M4e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ux(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OU(Object(r),!0).forEach(function(n){P4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P4e(t,e,r){return e=D4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D4e(t){var e=L4e(t,"string");return _g(e)=="symbol"?e:e+""}function L4e(t,e){if(_g(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B4e(t,e){return ux(ux({},e),t)}function U4e(t,e){return t==="symbols"}function IU(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ee.createElement(LN,r);case"trapezoid":return ee.createElement(O4e,r);case"sector":return ee.createElement(uW,r);case"symbols":if(U4e(e))return ee.createElement(j2,r);break;default:return null}}function z4e(t){return P.isValidElement(t)?t.props:t}function b8(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?B4e:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,l=t.isActive,d=R4e(t,I4e),h;if(P.isValidElement(e))h=P.cloneElement(e,ux(ux({},d),z4e(e)));else if(Ut(e))h=e(d);else if(v4e(e)&&!w4e(e)){var p=i(e,d);h=ee.createElement(IU,{shapeType:r,elementProps:p})}else{var m=d;h=ee.createElement(IU,{shapeType:r,elementProps:m})}return l?ee.createElement(xr,{className:s},h):h}function K2(t,e){return e!=null&&"trapezoids"in t.props}function W2(t,e){return e!=null&&"sectors"in t.props}function Sg(t,e){return e!=null&&"points"in t.props}function $4e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function V4e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function F4e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function q4e(t,e){var r;return K2(t,e)?r=$4e:W2(t,e)?r=V4e:Sg(t,e)&&(r=F4e),r}function H4e(t,e){var r;return K2(t,e)?r="trapezoids":W2(t,e)?r="sectors":Sg(t,e)&&(r="points"),r}function G4e(t,e){if(K2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(W2(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Sg(t,e)?e.payload:{}}function K4e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=H4e(r,e),a=G4e(r,e),s=n.filter(function(d,h){var p=u1(a,d),m=r.props[i].filter(function(T){var S=q4e(r,e);return S(T,e)}),y=r.props[i].indexOf(m[m.length-1]),b=h===y;return p&&b}),l=n.indexOf(s[s.length-1]);return l}var BS,RU;function W4e(){if(RU)return BS;RU=1;function t(e){return e&&e.length?e[0]:void 0}return BS=t,BS}var US,MU;function X4e(){return MU||(MU=1,US=W4e()),US}var Q4e=X4e();const Y4e=Tr(Q4e);var Z4e=["key"];function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function J4e(t,e){if(t==null)return{};var r=ewe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ewe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dx(){return dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dx.apply(this,arguments)}function PU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PU(Object(r),!0).forEach(function(n){bl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function twe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AW(n.key),n)}}function rwe(t,e,r){return e&&DU(t.prototype,e),r&&DU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nwe(t,e,r){return e=hx(e),iwe(t,TW()?Reflect.construct(e,r||[],hx(t).constructor):e.apply(t,r))}function iwe(t,e){if(e&&(Qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return awe(t)}function awe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TW=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hx(t)}function swe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x8(t,e)}function x8(t,e){return x8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x8(t,e)}function bl(t,e,r){return e=AW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AW(t){var e=owe(t,"string");return Qh(e)=="symbol"?e:e+""}function owe(t,e){if(Qh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var p1=(function(t){function e(){var r;twe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=nwe(this,e,[].concat(i)),bl(r,"state",{isAnimationFinished:!1}),bl(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ut(s)&&s()}),bl(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ut(s)&&s()}),bl(r,"handleMouseEnter",function(s){var l=r.props.onMouseEnter;l&&l(r.props,s)}),bl(r,"handleMouseLeave",function(s){var l=r.props.onMouseLeave;l&&l(r.props,s)}),r}return swe(e,t),rwe(e,[{key:"renderDots",value:function(n){var i=this.props,a=i.dot,s=i.dataKey,l=Ct(this.props,!1),d=Ct(a,!0),h=n.map(function(p,m){var y=pa(pa(pa({key:"dot-".concat(m),r:3},l),d),{},{dataKey:s,cx:p.x,cy:p.y,index:m,payload:p});return e.renderDotItem(a,y)});return ee.createElement(xr,{className:"recharts-radar-dots"},h)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,a=i.shape,s=i.dot,l=i.isRange,d=i.baseLinePoints,h=i.connectNulls,p;return ee.isValidElement(a)?p=ee.cloneElement(a,pa(pa({},this.props),{},{points:n})):Ut(a)?p=a(pa(pa({},this.props),{},{points:n})):p=ee.createElement(vW,dx({},Ct(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:l?d:null,connectNulls:h})),ee.createElement(xr,{className:"recharts-radar-polygon"},p,s?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,a=i.points,s=i.isAnimationActive,l=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state.prevPoints;return ee.createElement(Lo,{begin:l,duration:d,isActive:s,easing:h,from:{t:0},to:{t:1},key:"radar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t,T=m&&m.length/a.length,S=a.map(function(w,N){var k=m&&m[Math.floor(N*T)];if(k){var j=Ma(k.x,w.x),$=Ma(k.y,w.y);return pa(pa({},w),{},{x:j(b),y:$(b)})}var I=Ma(w.cx,w.x),L=Ma(w.cy,w.y);return pa(pa({},w),{},{x:I(b),y:L(b)})});return n.renderPolygonStatically(S)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,s=n.isRange,l=this.state.prevPoints;return a&&i&&i.length&&!s&&(!l||!u1(l,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.className,s=n.points,l=n.isAnimationActive;if(i||!s||!s.length)return null;var d=this.state.isAnimationFinished,h=Zt("recharts-radar",a);return ee.createElement(xr,{className:h},this.renderPolygon(),(!l||d)&&Ml.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var a;if(ee.isValidElement(n))a=ee.cloneElement(n,i);else if(Ut(n))a=n(i);else{var s=i.key,l=J4e(i,Z4e);a=ee.createElement(q2,dx({},l,{key:s,className:Zt("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return a}}])})(P.PureComponent);bl(p1,"displayName","Radar");bl(p1,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!t0.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});bl(p1,"getComposedData",function(t){var e=t.radiusAxis,r=t.angleAxis,n=t.displayedData,i=t.dataKey,a=t.bandSize,s=r.cx,l=r.cy,d=!1,h=[],p=r.type!=="number"?a??0:0;n.forEach(function(y,b){var T=Gi(y,r.dataKey,b),S=Gi(y,i),w=r.scale(T)+p,N=Array.isArray(S)?lW(S):S,k=Gt(N)?void 0:e.scale(N);Array.isArray(S)&&S.length>=2&&(d=!0),h.push(pa(pa({},Gr(s,l,k,w)),{},{name:T,value:S,cx:s,cy:l,radius:k,angle:w,payload:y}))});var m=[];return d&&h.forEach(function(y){if(Array.isArray(y.value)){var b=Y4e(y.value),T=Gt(b)?void 0:e.scale(b);m.push(pa(pa({},y),{},{radius:T},Gr(s,l,T,y.angle)))}else m.push(y)}),{points:h,isRange:d,baseLinePoints:m}});var zS,LU;function lwe(){if(LU)return zS;LU=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var l=-1,d=e(t((i-n)/(a||1)),0),h=Array(d);d--;)h[s?d:++l]=n,n+=a;return h}return zS=r,zS}var $S,BU;function EW(){if(BU)return $S;BU=1;var t=KG(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return $S=n,$S}var VS,UU;function cwe(){if(UU)return VS;UU=1;var t=lwe(),e=I2(),r=EW();function n(i){return function(a,s,l){return l&&typeof l!="number"&&e(a,s,l)&&(s=l=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),l=l===void 0?a<s?1:-1:r(l),t(a,s,l,i)}}return VS=n,VS}var FS,zU;function uwe(){if(zU)return FS;zU=1;var t=cwe(),e=t();return FS=e,FS}var dwe=uwe();const fx=Tr(dwe);function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function $U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$U(Object(r),!0).forEach(function(n){NW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$U(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NW(t,e,r){return e=hwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hwe(t){var e=fwe(t,"string");return Tg(e)=="symbol"?e:e+""}function fwe(t,e){if(Tg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pwe=["Webkit","Moz","O","ms"],mwe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=pwe.reduce(function(a,s){return VU(VU({},a),{},NW({},s+n,r))},{});return i[e]=r,i};function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},px.apply(this,arguments)}function FU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(r),!0).forEach(function(n){Ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jW(n.key),n)}}function ywe(t,e,r){return e&&qU(t.prototype,e),r&&qU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vwe(t,e,r){return e=mx(e),bwe(t,CW()?Reflect.construct(e,r||[],mx(t).constructor):e.apply(t,r))}function bwe(t,e){if(e&&(Yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xwe(t)}function xwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CW=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mx(t)}function wwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w8(t,e)}function w8(t,e){return w8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w8(t,e)}function Ja(t,e,r){return e=jW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jW(t){var e=_we(t,"string");return Yh(e)=="symbol"?e:e+""}function _we(t,e){if(Yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Swe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=hm().domain(fx(0,d)).range([a,a+s-l]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:p}},HU=function(e){return e.changedTouches&&!!e.changedTouches.length},Zh=(function(t){function e(r){var n;return gwe(this,e),n=vwe(this,e,[r]),Ja(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ja(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ja(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Ja(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ja(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ja(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ja(n,"handleSlideDragStart",function(i){var a=HU(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return wwe(e,t),ywe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,l=this.props,d=l.gap,h=l.data,p=h.length-1,m=Math.min(i,a),y=Math.max(i,a),b=e.getIndexInRange(s,m),T=e.getIndexInRange(s,y);return{startIndex:b-b%d,endIndex:T===p?p:T-T%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,d=Gi(a[n],l,n);return Ut(s)?s(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,d=this.props,h=d.x,p=d.width,m=d.travellerWidth,y=d.startIndex,b=d.endIndex,T=d.onChange,S=n.pageX-a;S>0?S=Math.min(S,h+p-m-l,h+p-m-s):S<0&&(S=Math.max(S,h-s,h-l));var w=this.getIndex({startX:s+S,endX:l+S});(w.startIndex!==y||w.endIndex!==b)&&T&&T(w),this.setState({startX:s+S,endX:l+S,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=HU(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,d=i.startX,h=this.state[s],p=this.props,m=p.x,y=p.width,b=p.travellerWidth,T=p.onChange,S=p.gap,w=p.data,N={startX:this.state.startX,endX:this.state.endX},k=n.pageX-a;k>0?k=Math.min(k,m+y-b-h):k<0&&(k=Math.max(k,m-h)),N[s]=h+k;var j=this.getIndex(N),$=j.startIndex,I=j.endIndex,L=function(){var A=w.length-1;return s==="startX"&&(l>d?$%S===0:I%S===0)||l<d&&I===A||s==="endX"&&(l>d?I%S===0:$%S===0)||l>d&&I===A};this.setState(Ja(Ja({},s,h+k),"brushMoveStartX",n.pageX),function(){T&&L()&&T(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,l=s.scaleValues,d=s.startX,h=s.endX,p=this.state[i],m=l.indexOf(p);if(m!==-1){var y=m+n;if(!(y===-1||y>=l.length)){var b=l[y];i==="startX"&&b>=h||i==="endX"&&b<=d||this.setState(Ja({},i,b),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,d=n.fill,h=n.stroke;return ee.createElement("rect",{stroke:h,fill:d,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,d=n.data,h=n.children,p=n.padding,m=P.Children.only(h);return m?ee.cloneElement(m,{x:i,y:a,width:s,height:l,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,l=this,d=this.props,h=d.y,p=d.travellerWidth,m=d.height,y=d.traveller,b=d.ariaLabel,T=d.data,S=d.startIndex,w=d.endIndex,N=Math.max(n,this.props.x),k=qS(qS({},Ct(this.props,!1)),{},{x:N,y:h,width:p,height:m}),j=b||"Min value: ".concat((a=T[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=T[w])===null||s===void 0?void 0:s.name);return ee.createElement(xr,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),l.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,k))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,l=a.height,d=a.stroke,h=a.travellerWidth,p=Math.min(n,i)+h,m=Math.max(Math.abs(i-n)-h,0);return ee.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:s,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,l=n.height,d=n.travellerWidth,h=n.stroke,p=this.state,m=p.startX,y=p.endX,b=5,T={pointerEvents:"none",fill:h};return ee.createElement(xr,{className:"recharts-brush-texts"},ee.createElement(Vh,px({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-b,y:s+l/2},T),this.getTextOfTick(i)),ee.createElement(Vh,px({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+d+b,y:s+l/2},T),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,l=n.x,d=n.y,h=n.width,p=n.height,m=n.alwaysShowText,y=this.state,b=y.startX,T=y.endX,S=y.isTextActive,w=y.isSlideMoving,N=y.isTravellerMoving,k=y.isTravellerFocused;if(!i||!i.length||!ot(l)||!ot(d)||!ot(h)||!ot(p)||h<=0||p<=0)return null;var j=Zt("recharts-brush",a),$=ee.Children.count(s)===1,I=mwe("userSelect","none");return ee.createElement(xr,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(b,T),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(T,"endX"),(S||w||N||k||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,l=n.height,d=n.stroke,h=Math.floor(a+l/2)-1;return ee.createElement(ee.Fragment,null,ee.createElement("rect",{x:i,y:a,width:s,height:l,fill:d,stroke:"none"}),ee.createElement("line",{x1:i+1,y1:h,x2:i+s-1,y2:h,fill:"none",stroke:"#fff"}),ee.createElement("line",{x1:i+1,y1:h+2,x2:i+s-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return ee.isValidElement(n)?a=ee.cloneElement(n,i):Ut(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,l=n.x,d=n.travellerWidth,h=n.updateId,p=n.startIndex,m=n.endIndex;if(a!==i.prevData||h!==i.prevUpdateId)return qS({prevData:a,prevTravellerWidth:d,prevUpdateId:h,prevX:l,prevWidth:s},a&&a.length?Swe({data:a,width:s,x:l,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([l,l+s-d]);var y=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:h,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,l=a-1;l-s>1;){var d=Math.floor((s+l)/2);n[d]>i?l=d:s=d}return i>=n[l]?l:s}}])})(P.PureComponent);Ja(Zh,"displayName","Brush");Ja(Zh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var HS,GU;function Twe(){if(GU)return HS;GU=1;var t=lN();function e(r,n){var i;return t(r,function(a,s,l){return i=n(a,s,l),!i}),!!i}return HS=e,HS}var GS,KU;function Awe(){if(KU)return GS;KU=1;var t=TG(),e=Fo(),r=Twe(),n=Va(),i=I2();function a(s,l,d){var h=n(s)?t:r;return d&&i(s,l,d)&&(l=void 0),h(s,e(l,3))}return GS=a,GS}var Ewe=Awe();const Nwe=Tr(Ewe);var Oo=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},KS,WU;function Cwe(){if(WU)return KS;WU=1;var t=VG();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return KS=e,KS}var WS,XU;function jwe(){if(XU)return WS;XU=1;var t=Cwe(),e=zG(),r=Fo();function n(i,a){var s={};return a=r(a,3),e(i,function(l,d,h){t(s,d,a(l,d,h))}),s}return WS=n,WS}var kwe=jwe();const Owe=Tr(kwe);var XS,QU;function Iwe(){if(QU)return XS;QU=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return XS=t,XS}var QS,YU;function Rwe(){if(YU)return QS;YU=1;var t=lN();function e(r,n){var i=!0;return t(r,function(a,s,l){return i=!!n(a,s,l),i}),i}return QS=e,QS}var YS,ZU;function Mwe(){if(ZU)return YS;ZU=1;var t=Iwe(),e=Rwe(),r=Fo(),n=Va(),i=I2();function a(s,l,d){var h=n(s)?t:e;return d&&i(s,l,d)&&(l=void 0),h(s,r(l,3))}return YS=a,YS}var Pwe=Mwe();const kW=Tr(Pwe);var Dwe=["x","y"];function Ag(t){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(t)}function _8(){return _8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_8.apply(this,arguments)}function JU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $p(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(r),!0).forEach(function(n){Lwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lwe(t,e,r){return e=Bwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bwe(t){var e=Uwe(t,"string");return Ag(e)=="symbol"?e:e+""}function Uwe(t,e){if(Ag(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zwe(t,e){if(t==null)return{};var r=$we(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $we(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vwe(t,e){var r=t.x,n=t.y,i=zwe(t,Dwe),a="".concat(r),s=parseInt(a,10),l="".concat(n),d=parseInt(l,10),h="".concat(e.height||i.height),p=parseInt(h,10),m="".concat(e.width||i.width),y=parseInt(m,10);return $p($p($p($p($p({},e),i),s?{x:s}:{}),d?{y:d}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function ez(t){return ee.createElement(b8,_8({shapeType:"rectangle",propTransformer:Vwe,activeClassName:"recharts-active-bar"},t))}var Fwe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ot(n)||Gde(n);return a?e(n,i):(a||qd(),r)}},qwe=["value","background"],OW;function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function Hwe(t,e){if(t==null)return{};var r=Gwe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gx.apply(this,arguments)}function tz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tz(Object(r),!0).forEach(function(n){Wc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RW(n.key),n)}}function Wwe(t,e,r){return e&&rz(t.prototype,e),r&&rz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xwe(t,e,r){return e=yx(e),Qwe(t,IW()?Reflect.construct(e,r||[],yx(t).constructor):e.apply(t,r))}function Qwe(t,e){if(e&&(Jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ywe(t)}function Ywe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IW=function(){return!!t})()}function yx(t){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yx(t)}function Zwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S8(t,e)}function S8(t,e){return S8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S8(t,e)}function Wc(t,e,r){return e=RW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RW(t){var e=Jwe(t,"string");return Jh(e)=="symbol"?e:e+""}function Jwe(t,e){if(Jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m1=(function(t){function e(){var r;Kwe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Xwe(this,e,[].concat(i)),Wc(r,"state",{isAnimationFinished:!1}),Wc(r,"id",i1("recharts-bar-")),Wc(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Wc(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Zwe(e,t),Wwe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,l=a.dataKey,d=a.activeIndex,h=a.activeBar,p=Ct(this.props,!1);return n&&n.map(function(m,y){var b=y===d,T=b?h:s,S=ri(ri(ri({},p),m),{},{isActive:b,option:T,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ee.createElement(xr,gx({className:"recharts-bar-rectangle"},Vd(i.props,m,y),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y)}),ee.createElement(ez,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,d=i.animationBegin,h=i.animationDuration,p=i.animationEasing,m=i.animationId,y=this.state.prevData;return ee.createElement(Lo,{begin:d,duration:h,isActive:l,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var T=b.t,S=a.map(function(w,N){var k=y&&y[N];if(k){var j=Ma(k.x,w.x),$=Ma(k.y,w.y),I=Ma(k.width,w.width),L=Ma(k.height,w.height);return ri(ri({},w),{},{x:j(T),y:$(T),width:I(T),height:L(T)})}if(s==="horizontal"){var E=Ma(0,w.height),A=E(T);return ri(ri({},w),{},{y:w.y+w.height-A,height:A})}var R=Ma(0,w.width),F=R(T);return ri(ri({},w),{},{width:F})});return ee.createElement(xr,null,n.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!u1(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,d=Ct(this.props.background,!1);return a.map(function(h,p){h.value;var m=h.background,y=Hwe(h,qwe);if(!m)return null;var b=ri(ri(ri(ri(ri({},y),{},{fill:"#eee"},m),d),Vd(n.props,h,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:p,className:"recharts-bar-background-rectangle"});return ee.createElement(ez,gx({key:"background-bar-".concat(p),option:n.props.background,isActive:p===l},b))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,d=a.yAxis,h=a.layout,p=a.children,m=cs(p,d1);if(!m)return null;var y=h==="vertical"?s[0].height/2:s[0].width/2,b=function(w,N){var k=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:k,errorVal:Gi(w,N)}},T={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ee.createElement(xr,T,m.map(function(S){return ee.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:s,xAxis:l,yAxis:d,layout:h,offset:y,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,l=n.xAxis,d=n.yAxis,h=n.left,p=n.top,m=n.width,y=n.height,b=n.isAnimationActive,T=n.background,S=n.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,N=Zt("recharts-bar",s),k=l&&l.allowDataOverflow,j=d&&d.allowDataOverflow,$=k||j,I=Gt(S)?this.id:S;return ee.createElement(xr,{className:N},k||j?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(I)},ee.createElement("rect",{x:k?h:h-m/2,y:j?p:p-y/2,width:k?m:m*2,height:j?y:y*2}))):null,ee.createElement(xr,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(I,")"):null},T?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,I),(!b||w)&&Ml.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(P.PureComponent);OW=m1;Wc(m1,"displayName","Bar");Wc(m1,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!t0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wc(m1,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,l=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,y=t.offset,b=ove(n,r);if(!b)return null;var T=e.layout,S=r.type.defaultProps,w=S!==void 0?ri(ri({},S),r.props):r.props,N=w.dataKey,k=w.children,j=w.minPointSize,$=T==="horizontal"?s:a,I=h?$.scale.domain():null,L=pve({numericAxis:$}),E=cs(k,dN),A=m.map(function(R,F){var D,B,M,Q,Z,W;h?D=lve(h[p+F],I):(D=Gi(R,N),Array.isArray(D)||(D=[L,D]));var J=Fwe(j,OW.defaultProps.minPointSize)(D[1],F);if(T==="horizontal"){var Y,ge=[s.scale(D[0]),s.scale(D[1])],ce=ge[0],X=ge[1];B=NB({axis:a,ticks:l,bandSize:i,offset:b.offset,entry:R,index:F}),M=(Y=X??ce)!==null&&Y!==void 0?Y:void 0,Q=b.size;var te=ce-X;if(Z=Number.isNaN(te)?0:te,W={x:B,y:s.y,width:Q,height:s.height},Math.abs(J)>0&&Math.abs(Z)<Math.abs(J)){var ue=to(Z||J)*(Math.abs(J)-Math.abs(Z));M-=ue,Z+=ue}}else{var oe=[a.scale(D[0]),a.scale(D[1])],ae=oe[0],pe=oe[1];if(B=ae,M=NB({axis:s,ticks:d,bandSize:i,offset:b.offset,entry:R,index:F}),Q=pe-ae,Z=b.size,W={x:a.x,y:M,width:a.width,height:Z},Math.abs(J)>0&&Math.abs(Q)<Math.abs(J)){var ye=to(Q||J)*(Math.abs(J)-Math.abs(Q));Q+=ye}}return ri(ri(ri({},R),{},{x:B,y:M,width:Q,height:Z,value:h?D:D[1],payload:R,background:W},E&&E[F]&&E[F].props),{},{tooltipPayload:[iW(r,R)],tooltipPosition:{x:B+Q/2,y:M+Z/2}})});return ri({data:A,layout:T},y)});function Eg(t){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}function e5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MW(n.key),n)}}function t5e(t,e,r){return e&&nz(t.prototype,e),r&&nz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Js(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iz(Object(r),!0).forEach(function(n){X2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X2(t,e,r){return e=MW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MW(t){var e=r5e(t,"string");return Eg(e)=="symbol"?e:e+""}function r5e(t,e){if(Eg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n5e=function(e,r,n,i,a){var s=e.width,l=e.height,d=e.layout,h=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},y=!!es(h,m1);return p.reduce(function(b,T){var S=r[T],w=S.orientation,N=S.domain,k=S.padding,j=k===void 0?{}:k,$=S.mirror,I=S.reversed,L="".concat(w).concat($?"Mirror":""),E,A,R,F,D;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var B=N[1]-N[0],M=1/0,Q=S.categoricalDomain.sort(Qde);if(Q.forEach(function(oe,ae){ae>0&&(M=Math.min((oe||0)-(Q[ae-1]||0),M))}),Number.isFinite(M)){var Z=M/B,W=S.layout==="vertical"?n.height:n.width;if(S.padding==="gap"&&(E=Z*W/2),S.padding==="no-gap"){var J=ro(e.barCategoryGap,Z*W),Y=Z*W/2;E=Y-J-(Y-J)/W*J}}}i==="xAxis"?A=[n.left+(j.left||0)+(E||0),n.left+n.width-(j.right||0)-(E||0)]:i==="yAxis"?A=d==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(E||0),n.top+n.height-(j.bottom||0)-(E||0)]:A=S.range,I&&(A=[A[1],A[0]]);var ge=eW(S,a,y),ce=ge.scale,X=ge.realScaleType;ce.domain(N).range(A),tW(ce);var te=rW(ce,Js(Js({},S),{},{realScaleType:X}));i==="xAxis"?(D=w==="top"&&!$||w==="bottom"&&$,R=n.left,F=m[L]-D*S.height):i==="yAxis"&&(D=w==="left"&&!$||w==="right"&&$,R=m[L]-D*S.width,F=n.top);var ue=Js(Js(Js({},S),te),{},{realScaleType:X,x:R,y:F,scale:ce,width:i==="xAxis"?n.width:S.width,height:i==="yAxis"?n.height:S.height});return ue.bandSize=Jb(ue,te),!S.hide&&i==="xAxis"?m[L]+=(D?-1:1)*ue.height:S.hide||(m[L]+=(D?-1:1)*ue.width),Js(Js({},b),{},X2({},T,ue))},{})},PW=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},i5e=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return PW({x:r,y:n},{x:i,y:a})},DW=(function(){function t(e){e5e(this,t),this.scale=e}return t5e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();X2(DW,"EPS",1e-4);var BN=function(e){var r=Object.keys(e).reduce(function(n,i){return Js(Js({},n),{},X2({},i,DW.create(e[i])))},{});return Js(Js({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return Owe(i,function(d,h){return r[h].apply(d,{bandAware:s,position:l})})},isInRange:function(i){return kW(i,function(a,s){return r[s].isInRange(a)})}})};function a5e(t){return(t%180+180)%180}var s5e=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=a5e(i),s=a*Math.PI/180,l=Math.atan(n/r),d=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(d)},ZS,az;function o5e(){if(az)return ZS;az=1;var t=Fo(),e=a1(),r=k2();function n(i){return function(a,s,l){var d=Object(a);if(!e(a)){var h=t(s,3);a=r(a),s=function(m){return h(d[m],m,d)}}var p=i(a,s,l);return p>-1?d[h?a[p]:p]:void 0}}return ZS=n,ZS}var JS,sz;function l5e(){if(sz)return JS;sz=1;var t=EW();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return JS=e,JS}var eT,oz;function c5e(){if(oz)return eT;oz=1;var t=PG(),e=Fo(),r=l5e(),n=Math.max;function i(a,s,l){var d=a==null?0:a.length;if(!d)return-1;var h=l==null?0:r(l);return h<0&&(h=n(d+h,0)),t(a,e(s,3),h)}return eT=i,eT}var tT,lz;function u5e(){if(lz)return tT;lz=1;var t=o5e(),e=c5e(),r=t(e);return tT=r,tT}var d5e=u5e();const h5e=Tr(d5e);var f5e=YH();const p5e=Tr(f5e);var m5e=p5e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),UN=P.createContext(void 0),zN=P.createContext(void 0),LW=P.createContext(void 0),BW=P.createContext({}),UW=P.createContext(void 0),zW=P.createContext(0),$W=P.createContext(0),cz=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,l=e.children,d=e.width,h=e.height,p=m5e(a);return ee.createElement(UN.Provider,{value:n},ee.createElement(zN.Provider,{value:i},ee.createElement(BW.Provider,{value:a},ee.createElement(LW.Provider,{value:p},ee.createElement(UW.Provider,{value:s},ee.createElement(zW.Provider,{value:h},ee.createElement($W.Provider,{value:d},l)))))))},g5e=function(){return P.useContext(UW)},VW=function(e){var r=P.useContext(UN);r==null&&qd();var n=r[e];return n==null&&qd(),n},y5e=function(){var e=P.useContext(UN);return Hc(e)},v5e=function(){var e=P.useContext(zN),r=h5e(e,function(n){return kW(n.domain,Number.isFinite)});return r||Hc(e)},FW=function(e){var r=P.useContext(zN);r==null&&qd();var n=r[e];return n==null&&qd(),n},b5e=function(){var e=P.useContext(LW);return e},x5e=function(){return P.useContext(BW)},$N=function(){return P.useContext($W)},VN=function(){return P.useContext(zW)};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function w5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HW(n.key),n)}}function S5e(t,e,r){return e&&_5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T5e(t,e,r){return e=vx(e),A5e(t,qW()?Reflect.construct(e,r||[],vx(t).constructor):e.apply(t,r))}function A5e(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E5e(t)}function E5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qW=function(){return!!t})()}function vx(t){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vx(t)}function N5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T8(t,e)}function T8(t,e){return T8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T8(t,e)}function uz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uz(Object(r),!0).forEach(function(n){FN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FN(t,e,r){return e=HW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HW(t){var e=C5e(t,"string");return ef(e)=="symbol"?e:e+""}function C5e(t,e){if(ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function j5e(t,e){return R5e(t)||I5e(t,e)||O5e(t,e)||k5e()}function k5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O5e(t,e){if(t){if(typeof t=="string")return hz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hz(t,e)}}function hz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function I5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function R5e(t){if(Array.isArray(t))return t}function A8(){return A8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A8.apply(this,arguments)}var M5e=function(e,r){var n;return ee.isValidElement(e)?n=ee.cloneElement(e,r):Ut(e)?n=e(r):n=ee.createElement("line",A8({},r,{className:"recharts-reference-line-line"})),n},P5e=function(e,r,n,i,a,s,l,d,h){var p=a.x,m=a.y,y=a.width,b=a.height;if(n){var T=h.y,S=e.y.apply(T,{position:s});if(Oo(h,"discard")&&!e.y.isInRange(S))return null;var w=[{x:p+y,y:S},{x:p,y:S}];return d==="left"?w.reverse():w}if(r){var N=h.x,k=e.x.apply(N,{position:s});if(Oo(h,"discard")&&!e.x.isInRange(k))return null;var j=[{x:k,y:m+b},{x:k,y:m}];return l==="top"?j.reverse():j}if(i){var $=h.segment,I=$.map(function(L){return e.apply(L,{position:s})});return Oo(h,"discard")&&Nwe(I,function(L){return!e.isInRange(L)})?null:I}return null};function D5e(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,d=t.alwaysShow,h=g5e(),p=VW(i),m=FW(a),y=b5e();if(!h||!y)return null;Il(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=BN({x:p.scale,y:m.scale}),T=pi(e),S=pi(r),w=n&&n.length===2,N=P5e(b,T,S,w,y,t.position,p.orientation,m.orientation,t);if(!N)return null;var k=j5e(N,2),j=k[0],$=j.x,I=j.y,L=k[1],E=L.x,A=L.y,R=Oo(t,"hidden")?"url(#".concat(h,")"):void 0,F=dz(dz({clipPath:R},Ct(t,!0)),{},{x1:$,y1:I,x2:E,y2:A});return ee.createElement(xr,{className:Zt("recharts-reference-line",l)},M5e(s,F),Fi.renderCallByParent(t,i5e({x1:$,y1:I,x2:E,y2:A})))}var qN=(function(t){function e(){return w5e(this,e),T5e(this,e,arguments)}return N5e(e,t),S5e(e,[{key:"render",value:function(){return ee.createElement(D5e,this.props)}}])})(ee.Component);FN(qN,"displayName","ReferenceLine");FN(qN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function E8(){return E8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E8.apply(this,arguments)}function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function fz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fz(Object(r),!0).forEach(function(n){Q2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KW(n.key),n)}}function U5e(t,e,r){return e&&B5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z5e(t,e,r){return e=bx(e),$5e(t,GW()?Reflect.construct(e,r||[],bx(t).constructor):e.apply(t,r))}function $5e(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V5e(t)}function V5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GW=function(){return!!t})()}function bx(t){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bx(t)}function F5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N8(t,e)}function N8(t,e){return N8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},N8(t,e)}function Q2(t,e,r){return e=KW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KW(t){var e=q5e(t,"string");return tf(e)=="symbol"?e:e+""}function q5e(t,e){if(tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H5e=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=BN({x:i.scale,y:a.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return Oo(e,"discard")&&!s.isInRange(l)?null:l},Y2=(function(t){function e(){return L5e(this,e),z5e(this,e,arguments)}return F5e(e,t),U5e(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,l=n.alwaysShow,d=n.clipPathId,h=pi(i),p=pi(a);if(Il(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=H5e(this.props);if(!m)return null;var y=m.x,b=m.y,T=this.props,S=T.shape,w=T.className,N=Oo(this.props,"hidden")?"url(#".concat(d,")"):void 0,k=pz(pz({clipPath:N},Ct(this.props,!0)),{},{cx:y,cy:b});return ee.createElement(xr,{className:Zt("recharts-reference-dot",w)},e.renderDot(S,k),Fi.renderCallByParent(this.props,{x:y-s,y:b-s,width:2*s,height:2*s}))}}])})(ee.Component);Q2(Y2,"displayName","ReferenceDot");Q2(Y2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Q2(Y2,"renderDot",function(t,e){var r;return ee.isValidElement(t)?r=ee.cloneElement(t,e):Ut(t)?r=t(e):r=ee.createElement(q2,E8({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function C8(){return C8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C8.apply(this,arguments)}function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function mz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mz(Object(r),!0).forEach(function(n){Z2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XW(n.key),n)}}function W5e(t,e,r){return e&&K5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X5e(t,e,r){return e=xx(e),Q5e(t,WW()?Reflect.construct(e,r||[],xx(t).constructor):e.apply(t,r))}function Q5e(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y5e(t)}function Y5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WW=function(){return!!t})()}function xx(t){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xx(t)}function Z5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j8(t,e)}function j8(t,e){return j8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j8(t,e)}function Z2(t,e,r){return e=XW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XW(t){var e=J5e(t,"string");return rf(e)=="symbol"?e:e+""}function J5e(t,e){if(rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var e3e=function(e,r,n,i,a){var s=a.x1,l=a.x2,d=a.y1,h=a.y2,p=a.xAxis,m=a.yAxis;if(!p||!m)return null;var y=BN({x:p.scale,y:m.scale}),b={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(d,{position:"start"}):y.y.rangeMin},T={x:r?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(h,{position:"end"}):y.y.rangeMax};return Oo(a,"discard")&&(!y.isInRange(b)||!y.isInRange(T))?null:PW(b,T)},J2=(function(t){function e(){return G5e(this,e),X5e(this,e,arguments)}return Z5e(e,t),W5e(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,l=n.y2,d=n.className,h=n.alwaysShow,p=n.clipPathId;Il(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=pi(i),y=pi(a),b=pi(s),T=pi(l),S=this.props.shape;if(!m&&!y&&!b&&!T&&!S)return null;var w=e3e(m,y,b,T,this.props);if(!w&&!S)return null;var N=Oo(this.props,"hidden")?"url(#".concat(p,")"):void 0;return ee.createElement(xr,{className:Zt("recharts-reference-area",d)},e.renderRect(S,gz(gz({clipPath:N},Ct(this.props,!0)),w)),Fi.renderCallByParent(this.props,w))}}])})(ee.Component);Z2(J2,"displayName","ReferenceArea");Z2(J2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Z2(J2,"renderRect",function(t,e){var r;return ee.isValidElement(t)?r=ee.cloneElement(t,e):Ut(t)?r=t(e):r=ee.createElement(LN,C8({},e,{className:"recharts-reference-area-rect"})),r});function QW(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function t3e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return s5e(n,r)}function r3e(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function wx(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function n3e(t,e){return QW(t,e+1)}function i3e(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,l=e.end,d=0,h=1,p=s,m=function(){var T=n==null?void 0:n[d];if(T===void 0)return{v:QW(n,h)};var S=d,w,N=function(){return w===void 0&&(w=r(T,S)),w},k=T.coordinate,j=d===0||wx(t,k,N,p,l);j||(d=0,p=s,h+=1),j&&(p=k+t*(N()/2+i),d+=h)},y;h<=a.length;)if(y=m(),y)return y.v;return[]}function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function yz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ea(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yz(Object(r),!0).forEach(function(n){a3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a3e(t,e,r){return e=s3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s3e(t){var e=o3e(t,"string");return Ng(e)=="symbol"?e:e+""}function o3e(t,e){if(Ng(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l3e(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,l=e.start,d=e.end,h=function(y){var b=a[y],T,S=function(){return T===void 0&&(T=r(b,y)),T};if(y===s-1){var w=t*(b.coordinate+t*S()/2-d);a[y]=b=ea(ea({},b),{},{tickCoord:w>0?b.coordinate-w*t:b.coordinate})}else a[y]=b=ea(ea({},b),{},{tickCoord:b.coordinate});var N=wx(t,b.tickCoord,S,l,d);N&&(d=b.tickCoord-t*(S()/2+i),a[y]=ea(ea({},b),{},{isShow:!0}))},p=s-1;p>=0;p--)h(p);return a}function c3e(t,e,r,n,i,a){var s=(n||[]).slice(),l=s.length,d=e.start,h=e.end;if(a){var p=n[l-1],m=r(p,l-1),y=t*(p.coordinate+t*m/2-h);s[l-1]=p=ea(ea({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var b=wx(t,p.tickCoord,function(){return m},d,h);b&&(h=p.tickCoord-t*(m/2+i),s[l-1]=ea(ea({},p),{},{isShow:!0}))}for(var T=a?l-1:l,S=function(k){var j=s[k],$,I=function(){return $===void 0&&($=r(j,k)),$};if(k===0){var L=t*(j.coordinate-t*I()/2-d);s[k]=j=ea(ea({},j),{},{tickCoord:L<0?j.coordinate-L*t:j.coordinate})}else s[k]=j=ea(ea({},j),{},{tickCoord:j.coordinate});var E=wx(t,j.tickCoord,I,d,h);E&&(d=j.tickCoord+t*(I()/2+i),s[k]=ea(ea({},j),{},{isShow:!0}))},w=0;w<T;w++)S(w);return s}function HN(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,l=t.orientation,d=t.interval,h=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(ot(d)||t0.isSsr)return n3e(i,typeof d=="number"&&ot(d)?d:0);var y=[],b=l==="top"||l==="bottom"?"width":"height",T=p&&b==="width"?dm(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},S=function(j,$){var I=Ut(h)?h(j.value,$):j.value;return b==="width"?t3e(dm(I,{fontSize:e,letterSpacing:r}),T,m):dm(I,{fontSize:e,letterSpacing:r})[b]},w=i.length>=2?to(i[1].coordinate-i[0].coordinate):1,N=r3e(a,w,b);return d==="equidistantPreserveStart"?i3e(w,N,S,i,s):(d==="preserveStart"||d==="preserveStartEnd"?y=c3e(w,N,S,i,s,d==="preserveStartEnd"):y=l3e(w,N,S,i,s),y.filter(function(k){return k.isShow}))}var u3e=["viewBox"],d3e=["viewBox"],h3e=["ticks"];function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function ah(){return ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ah.apply(this,arguments)}function vz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vz(Object(r),!0).forEach(function(n){GN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rT(t,e){if(t==null)return{};var r=f3e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function p3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZW(n.key),n)}}function m3e(t,e,r){return e&&bz(t.prototype,e),r&&bz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g3e(t,e,r){return e=_x(e),y3e(t,YW()?Reflect.construct(e,r||[],_x(t).constructor):e.apply(t,r))}function y3e(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v3e(t)}function v3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YW=function(){return!!t})()}function _x(t){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_x(t)}function b3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k8(t,e)}function k8(t,e){return k8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k8(t,e)}function GN(t,e,r){return e=ZW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZW(t){var e=x3e(t,"string");return nf(e)=="symbol"?e:e+""}function x3e(t,e){if(nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nf=(function(t){function e(r){var n;return p3e(this,e),n=g3e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return b3e(e,t),m3e(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=rT(n,u3e),l=this.props,d=l.viewBox,h=rT(l,d3e);return!ph(a,d)||!ph(s,h)||!ph(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,l=i.width,d=i.height,h=i.orientation,p=i.tickSize,m=i.mirror,y=i.tickMargin,b,T,S,w,N,k,j=m?-1:1,$=n.tickSize||p,I=ot(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":b=T=n.coordinate,w=s+ +!m*d,S=w-j*$,k=S-j*y,N=I;break;case"left":S=w=n.coordinate,T=a+ +!m*l,b=T-j*$,N=b-j*y,k=I;break;case"right":S=w=n.coordinate,T=a+ +m*l,b=T+j*$,N=b+j*y,k=I;break;default:b=T=n.coordinate,w=s+ +m*d,S=w+j*$,k=S+j*y,N=I;break}return{line:{x1:b,y1:S,x2:T,y2:w},tick:{x:N,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,d=n.orientation,h=n.mirror,p=n.axisLine,m=ui(ui(ui({},Ct(this.props,!1)),Ct(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!h||d==="bottom"&&h);m=ui(ui({},m),{},{x1:i,y1:a+y*l,x2:i+s,y2:a+y*l})}else{var b=+(d==="left"&&!h||d==="right"&&h);m=ui(ui({},m),{},{x1:i+b*s,y1:a,x2:i+b*s,y2:a+l})}return ee.createElement("line",ah({},m,{className:Zt("recharts-cartesian-axis-line",ks(p,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,l=this.props,d=l.tickLine,h=l.stroke,p=l.tick,m=l.tickFormatter,y=l.unit,b=HN(ui(ui({},this.props),{},{ticks:n}),i,a),T=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),w=Ct(this.props,!1),N=Ct(p,!1),k=ui(ui({},w),{},{fill:"none"},Ct(d,!1)),j=b.map(function($,I){var L=s.getTickLineCoord($),E=L.line,A=L.tick,R=ui(ui(ui(ui({textAnchor:T,verticalAnchor:S},w),{},{stroke:"none",fill:h},N),A),{},{index:I,payload:$,visibleTicksCount:b.length,tickFormatter:m});return ee.createElement(xr,ah({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Vd(s.props,$,I)),d&&ee.createElement("line",ah({},k,E,{className:Zt("recharts-cartesian-axis-tick-line",ks(d,"className"))})),p&&e.renderTickItem(p,R,"".concat(Ut(m)?m($.value,I):$.value).concat(y||"")))});return ee.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,d=i.ticksGenerator,h=i.className,p=i.hide;if(p)return null;var m=this.props,y=m.ticks,b=rT(m,h3e),T=y;return Ut(d)&&(T=y&&y.length>0?d(this.props):d(b)),s<=0||l<=0||!T||!T.length?null:ee.createElement(xr,{className:Zt("recharts-cartesian-axis",h),ref:function(w){n.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(T,this.state.fontSize,this.state.letterSpacing),Fi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,l=Zt(i.className,"recharts-cartesian-axis-tick-value");return ee.isValidElement(n)?s=ee.cloneElement(n,ui(ui({},i),{},{className:l})):Ut(n)?s=n(ui(ui({},i),{},{className:l})):s=ee.createElement(Vh,ah({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(P.Component);GN(Nf,"displayName","CartesianAxis");GN(Nf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var w3e=["x1","y1","x2","y2","key"],_3e=["offset"];function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function xz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xz(Object(r),!0).forEach(function(n){S3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S3e(t,e,r){return e=T3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T3e(t){var e=A3e(t,"string");return Hd(e)=="symbol"?e:e+""}function A3e(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vd.apply(this,arguments)}function wz(t,e){if(t==null)return{};var r=E3e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function E3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var N3e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,l=e.height,d=e.ry;return ee.createElement("rect",{x:i,y:a,ry:d,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function JW(t,e){var r;if(ee.isValidElement(t))r=ee.cloneElement(t,e);else if(Ut(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.key,d=wz(e,w3e),h=Ct(d,!1);h.offset;var p=wz(h,_3e);r=ee.createElement("line",vd({},p,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:l}))}return r}function C3e(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,d){var h=ra(ra({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(d),index:d});return JW(i,h)});return ee.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function j3e(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,d){var h=ra(ra({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(d),index:d});return JW(i,h)});return ee.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function k3e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,l=t.horizontalPoints,d=t.horizontal,h=d===void 0?!0:d;if(!h||!e||!e.length)return null;var p=l.map(function(y){return Math.round(y+i-i)}).sort(function(y,b){return y-b});i!==p[0]&&p.unshift(0);var m=p.map(function(y,b){var T=!p[b+1],S=T?i+s-y:p[b+1]-y;if(S<=0)return null;var w=b%e.length;return ee.createElement("rect",{key:"react-".concat(b),y,x:n,height:S,width:a,stroke:"none",fill:e[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ee.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function O3e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,l=t.width,d=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var p=h.map(function(y){return Math.round(y+a-a)}).sort(function(y,b){return y-b});a!==p[0]&&p.unshift(0);var m=p.map(function(y,b){var T=!p[b+1],S=T?a+l-y:p[b+1]-y;if(S<=0)return null;var w=b%n.length;return ee.createElement("rect",{key:"react-".concat(b),x:y,y:s,width:S,height:d,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ee.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var I3e=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return JK(HN(ra(ra(ra({},Nf.defaultProps),n),{},{ticks:Nl(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},R3e=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return JK(HN(ra(ra(ra({},Nf.defaultProps),n),{},{ticks:Nl(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},W0={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function eX(t){var e,r,n,i,a,s,l=$N(),d=VN(),h=x5e(),p=ra(ra({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:W0.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:W0.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:W0.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:W0.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:W0.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:W0.verticalFill,x:ot(t.x)?t.x:h.left,y:ot(t.y)?t.y:h.top,width:ot(t.width)?t.width:h.width,height:ot(t.height)?t.height:h.height}),m=p.x,y=p.y,b=p.width,T=p.height,S=p.syncWithTicks,w=p.horizontalValues,N=p.verticalValues,k=y5e(),j=v5e();if(!ot(b)||b<=0||!ot(T)||T<=0||!ot(m)||m!==+m||!ot(y)||y!==+y)return null;var $=p.verticalCoordinatesGenerator||I3e,I=p.horizontalCoordinatesGenerator||R3e,L=p.horizontalPoints,E=p.verticalPoints;if((!L||!L.length)&&Ut(I)){var A=w&&w.length,R=I({yAxis:j?ra(ra({},j),{},{ticks:A?w:j.ticks}):void 0,width:l,height:d,offset:h},A?!0:S);Il(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Hd(R),"]")),Array.isArray(R)&&(L=R)}if((!E||!E.length)&&Ut($)){var F=N&&N.length,D=$({xAxis:k?ra(ra({},k),{},{ticks:F?N:k.ticks}):void 0,width:l,height:d,offset:h},F?!0:S);Il(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Hd(D),"]")),Array.isArray(D)&&(E=D)}return ee.createElement("g",{className:"recharts-cartesian-grid"},ee.createElement(N3e,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),ee.createElement(C3e,vd({},p,{offset:h,horizontalPoints:L,xAxis:k,yAxis:j})),ee.createElement(j3e,vd({},p,{offset:h,verticalPoints:E,xAxis:k,yAxis:j})),ee.createElement(k3e,vd({},p,{horizontalPoints:L})),ee.createElement(O3e,vd({},p,{verticalPoints:E})))}eX.displayName="CartesianGrid";function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function M3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nX(n.key),n)}}function D3e(t,e,r){return e&&P3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L3e(t,e,r){return e=Sx(e),B3e(t,tX()?Reflect.construct(e,r||[],Sx(t).constructor):e.apply(t,r))}function B3e(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U3e(t)}function U3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tX=function(){return!!t})()}function Sx(t){return Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sx(t)}function z3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O8(t,e)}function O8(t,e){return O8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O8(t,e)}function rX(t,e,r){return e=nX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nX(t){var e=$3e(t,"string");return af(e)=="symbol"?e:e+""}function $3e(t,e){if(af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e4=(function(t){function e(){return M3e(this,e),L3e(this,e,arguments)}return z3e(e,t),D3e(e,[{key:"render",value:function(){return null}}])})(P.Component);rX(e4,"displayName","ZAxis");rX(e4,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var V3e=["option","isActive"];function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ym.apply(this,arguments)}function F3e(t,e){if(t==null)return{};var r=q3e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function q3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function H3e(t){var e=t.option,r=t.isActive,n=F3e(t,V3e);return typeof e=="string"?P.createElement(b8,ym({option:P.createElement(j2,ym({type:e},n)),isActive:r,shapeType:"symbols"},n)):P.createElement(b8,ym({option:e,isActive:r,shapeType:"symbols"},n))}function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vm.apply(this,arguments)}function _z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function As(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(r),!0).forEach(function(n){Xc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_z(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aX(n.key),n)}}function K3e(t,e,r){return e&&Sz(t.prototype,e),r&&Sz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function W3e(t,e,r){return e=Tx(e),X3e(t,iX()?Reflect.construct(e,r||[],Tx(t).constructor):e.apply(t,r))}function X3e(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q3e(t)}function Q3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iX=function(){return!!t})()}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tx(t)}function Y3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I8(t,e)}function I8(t,e){return I8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I8(t,e)}function Xc(t,e,r){return e=aX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aX(t){var e=Z3e(t,"string");return sf(e)=="symbol"?e:e+""}function Z3e(t,e){if(sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var g1=(function(t){function e(){var r;G3e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=W3e(this,e,[].concat(i)),Xc(r,"state",{isAnimationFinished:!1}),Xc(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Xc(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Xc(r,"id",i1("recharts-scatter-")),r}return Y3e(e,t),K3e(e,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,s=a.shape,l=a.activeShape,d=a.activeIndex,h=Ct(this.props,!1);return n.map(function(p,m){var y=d===m,b=y?l:s,T=As(As({},h),p);return ee.createElement(xr,vm({className:"recharts-scatter-symbol",key:"symbol-".concat(p==null?void 0:p.cx,"-").concat(p==null?void 0:p.cy,"-").concat(p==null?void 0:p.size,"-").concat(m)},Vd(i.props,p,m),{role:"img"}),ee.createElement(H3e,vm({option:b,isActive:y,key:"symbol-".concat(m)},T)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,s=i.isAnimationActive,l=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state.prevPoints;return ee.createElement(Lo,{begin:l,duration:d,isActive:s,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t,T=a.map(function(S,w){var N=m&&m[w];if(N){var k=Ma(N.cx,S.cx),j=Ma(N.cy,S.cy),$=Ma(N.size,S.size);return As(As({},S),{},{cx:k(b),cy:j(b),size:$(b)})}var I=Ma(0,S.size);return As(As({},S),{},{size:I(b)})});return ee.createElement(xr,null,n.renderSymbolsStatically(T))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,s=this.state.prevPoints;return a&&i&&i.length&&(!s||!u1(s,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,s=i.xAxis,l=i.yAxis,d=i.children,h=cs(d,d1);return h?h.map(function(p,m){var y=p.props,b=y.direction,T=y.dataKey;return ee.cloneElement(p,{key:"".concat(b,"-").concat(T,"-").concat(a[m]),data:a,xAxis:s,yAxis:l,layout:b==="x"?"vertical":"horizontal",dataPointFormatter:function(w,N){return{x:w.cx,y:w.cy,value:b==="x"?+w.node.x:+w.node.y,errorVal:Gi(w,N)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,s=n.lineType,l=n.lineJointType,d=Ct(this.props,!1),h=Ct(a,!1),p,m;if(s==="joint")p=i.map(function(j){return{x:j.cx,y:j.cy}});else if(s==="fitting"){var y=Xde(i),b=y.xmin,T=y.xmax,S=y.a,w=y.b,N=function($){return S*$+w};p=[{x:b,y:N(b)},{x:T,y:N(T)}]}var k=As(As(As({},d),{},{fill:"none",stroke:d&&d.fill},h),{},{points:p});return ee.isValidElement(a)?m=ee.cloneElement(a,k):Ut(a)?m=a(k):m=ee.createElement(i8,vm({},k,{type:l})),ee.createElement(xr,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,s=n.line,l=n.className,d=n.xAxis,h=n.yAxis,p=n.left,m=n.top,y=n.width,b=n.height,T=n.id,S=n.isAnimationActive;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,N=Zt("recharts-scatter",l),k=d&&d.allowDataOverflow,j=h&&h.allowDataOverflow,$=k||j,I=Gt(T)?this.id:T;return ee.createElement(xr,{className:N,clipPath:$?"url(#clipPath-".concat(I,")"):null},k||j?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(I)},ee.createElement("rect",{x:k?p:p-y/2,y:j?m:m-b/2,width:k?y:y*2,height:j?b:b*2}))):null,s&&this.renderLine(),this.renderErrorBar(),ee.createElement(xr,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!S||w)&&Ml.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])})(P.PureComponent);Xc(g1,"displayName","Scatter");Xc(g1,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!t0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Xc(g1,"getComposedData",function(t){var e=t.xAxis,r=t.yAxis,n=t.zAxis,i=t.item,a=t.displayedData,s=t.xAxisTicks,l=t.yAxisTicks,d=t.offset,h=i.props.tooltipType,p=cs(i.props.children,dN),m=Gt(e.dataKey)?i.props.dataKey:e.dataKey,y=Gt(r.dataKey)?i.props.dataKey:r.dataKey,b=n&&n.dataKey,T=n?n.range:e4.defaultProps.range,S=T&&T[0],w=e.scale.bandwidth?e.scale.bandwidth():0,N=r.scale.bandwidth?r.scale.bandwidth():0,k=a.map(function(j,$){var I=Gi(j,m),L=Gi(j,y),E=!Gt(b)&&Gi(j,b)||"-",A=[{name:Gt(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:I,payload:j,dataKey:m,type:h},{name:Gt(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:L,payload:j,dataKey:y,type:h}];E!=="-"&&A.push({name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:j,dataKey:b,type:h});var R=EB({axis:e,ticks:s,bandSize:w,entry:j,index:$,dataKey:m}),F=EB({axis:r,ticks:l,bandSize:N,entry:j,index:$,dataKey:y}),D=E!=="-"?n.scale(E):S,B=Math.sqrt(Math.max(D,0)/Math.PI);return As(As({},j),{},{cx:R,cy:F,x:R-B,y:F-B,xAxis:e,yAxis:r,zAxis:n,width:2*B,height:2*B,size:D,node:{x:I,y:L,z:E},tooltipPayload:A,tooltipPosition:{x:R,y:F},payload:j},p&&p[$]&&p[$].props)});return As({points:k},d)});function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function J3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lX(n.key),n)}}function t6e(t,e,r){return e&&e6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r6e(t,e,r){return e=Ax(e),n6e(t,sX()?Reflect.construct(e,r||[],Ax(t).constructor):e.apply(t,r))}function n6e(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i6e(t)}function i6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sX=function(){return!!t})()}function Ax(t){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ax(t)}function a6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R8(t,e)}function R8(t,e){return R8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R8(t,e)}function oX(t,e,r){return e=lX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lX(t){var e=s6e(t,"string");return of(e)=="symbol"?e:e+""}function s6e(t,e){if(of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function M8(){return M8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M8.apply(this,arguments)}function o6e(t){var e=t.xAxisId,r=$N(),n=VN(),i=VW(e);return i==null?null:P.createElement(Nf,M8({},i,{className:Zt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Nl(s,!0)}}))}var t4=(function(t){function e(){return J3e(this,e),r6e(this,e,arguments)}return a6e(e,t),t6e(e,[{key:"render",value:function(){return P.createElement(o6e,this.props)}}])})(P.Component);oX(t4,"displayName","XAxis");oX(t4,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function l6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dX(n.key),n)}}function u6e(t,e,r){return e&&c6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d6e(t,e,r){return e=Ex(e),h6e(t,cX()?Reflect.construct(e,r||[],Ex(t).constructor):e.apply(t,r))}function h6e(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f6e(t)}function f6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cX=function(){return!!t})()}function Ex(t){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ex(t)}function p6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P8(t,e)}function P8(t,e){return P8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P8(t,e)}function uX(t,e,r){return e=dX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dX(t){var e=m6e(t,"string");return lf(e)=="symbol"?e:e+""}function m6e(t,e){if(lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function D8(){return D8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D8.apply(this,arguments)}var g6e=function(e){var r=e.yAxisId,n=$N(),i=VN(),a=FW(r);return a==null?null:P.createElement(Nf,D8({},a,{className:Zt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Nl(l,!0)}}))},r4=(function(t){function e(){return l6e(this,e),d6e(this,e,arguments)}return p6e(e,t),u6e(e,[{key:"render",value:function(){return P.createElement(g6e,this.props)}}])})(P.Component);uX(r4,"displayName","YAxis");uX(r4,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Tz(t){return x6e(t)||b6e(t)||v6e(t)||y6e()}function y6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v6e(t,e){if(t){if(typeof t=="string")return L8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L8(t,e)}}function b6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x6e(t){if(Array.isArray(t))return L8(t)}function L8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var B8=function(e,r,n,i,a){var s=cs(e,qN),l=cs(e,Y2),d=[].concat(Tz(s),Tz(l)),h=cs(e,J2),p="".concat(i,"Id"),m=i[0],y=r;if(d.length&&(y=d.reduce(function(S,w){if(w.props[p]===n&&Oo(w.props,"extendDomain")&&ot(w.props[m])){var N=w.props[m];return[Math.min(S[0],N),Math.max(S[1],N)]}return S},y)),h.length){var b="".concat(m,"1"),T="".concat(m,"2");y=h.reduce(function(S,w){if(w.props[p]===n&&Oo(w.props,"extendDomain")&&ot(w.props[b])&&ot(w.props[T])){var N=w.props[b],k=w.props[T];return[Math.min(S[0],N,k),Math.max(S[1],N,k)]}return S},y)}return a&&a.length&&(y=a.reduce(function(S,w){return ot(w)?[Math.min(S[0],w),Math.max(S[1],w)]:S},y)),y},nT={exports:{}},Az;function w6e(){return Az||(Az=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function a(d,h,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,m||d,y),T=r?r+h:h;return d._events[T]?d._events[T].fn?d._events[T]=[d._events[T],b]:d._events[T].push(b):(d._events[T]=b,d._eventsCount++),d}function s(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},l.prototype.listeners=function(h){var p=r?r+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,b=m.length,T=new Array(b);y<b;y++)T[y]=m[y].fn;return T},l.prototype.listenerCount=function(h){var p=r?r+h:h,m=this._events[p];return m?m.fn?1:m.length:0},l.prototype.emit=function(h,p,m,y,b,T){var S=r?r+h:h;if(!this._events[S])return!1;var w=this._events[S],N=arguments.length,k,j;if(w.fn){switch(w.once&&this.removeListener(h,w.fn,void 0,!0),N){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,m),!0;case 4:return w.fn.call(w.context,p,m,y),!0;case 5:return w.fn.call(w.context,p,m,y,b),!0;case 6:return w.fn.call(w.context,p,m,y,b,T),!0}for(j=1,k=new Array(N-1);j<N;j++)k[j-1]=arguments[j];w.fn.apply(w.context,k)}else{var $=w.length,I;for(j=0;j<$;j++)switch(w[j].once&&this.removeListener(h,w[j].fn,void 0,!0),N){case 1:w[j].fn.call(w[j].context);break;case 2:w[j].fn.call(w[j].context,p);break;case 3:w[j].fn.call(w[j].context,p,m);break;case 4:w[j].fn.call(w[j].context,p,m,y);break;default:if(!k)for(I=1,k=new Array(N-1);I<N;I++)k[I-1]=arguments[I];w[j].fn.apply(w[j].context,k)}}return!0},l.prototype.on=function(h,p,m){return a(this,h,p,m,!1)},l.prototype.once=function(h,p,m){return a(this,h,p,m,!0)},l.prototype.removeListener=function(h,p,m,y){var b=r?r+h:h;if(!this._events[b])return this;if(!p)return s(this,b),this;var T=this._events[b];if(T.fn)T.fn===p&&(!y||T.once)&&(!m||T.context===m)&&s(this,b);else{for(var S=0,w=[],N=T.length;S<N;S++)(T[S].fn!==p||y&&!T[S].once||m&&T[S].context!==m)&&w.push(T[S]);w.length?this._events[b]=w.length===1?w[0]:w:s(this,b)}return this},l.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&s(this,p)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(nT)),nT.exports}var _6e=w6e();const S6e=Tr(_6e);var iT=new S6e,aT="recharts.syncMouseEvents";function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function T6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hX(n.key),n)}}function E6e(t,e,r){return e&&A6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sT(t,e,r){return e=hX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hX(t){var e=N6e(t,"string");return Cg(e)=="symbol"?e:e+""}function N6e(t,e){if(Cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var C6e=(function(){function t(){T6e(this,t),sT(this,"activeIndex",0),sT(this,"coordinateList",[]),sT(this,"layout","horizontal")}return E6e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,l=s===void 0?null:s,d=r.layout,h=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,y=r.mouseHandlerCallback,b=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+d+h,y=s+this.offset.top+l/2+p;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])})();function j6e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ot(n)&&ot(i))return!0}return!1}function k6e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function fX(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Gr(e,r,n,i),l=Gr(e,r,n,a);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function O6e(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,d=e.cy,h=e.innerRadius,p=e.outerRadius,m=e.angle,y=Gr(l,d,h,m),b=Gr(l,d,p,m);n=y.x,i=y.y,a=b.x,s=b.y}else return fX(e);return[{x:n,y:i},{x:a,y:s}]}function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function Ez(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(r),!0).forEach(function(n){I6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ez(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I6e(t,e,r){return e=R6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R6e(t){var e=M6e(t,"string");return jg(e)=="symbol"?e:e+""}function M6e(t,e){if(jg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P6e(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,l=t.activePayload,d=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,b=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!a||!s||y!=="ScatterChart"&&i!=="axis")return null;var T,S=i8;if(y==="ScatterChart")T=s,S=R2e;else if(y==="BarChart")T=k6e(m,s,d,p),S=LN;else if(m==="radial"){var w=fX(s),N=w.cx,k=w.cy,j=w.radius,$=w.startAngle,I=w.endAngle;T={cx:N,cy:k,startAngle:$,endAngle:I,innerRadius:j,outerRadius:j},S=uW}else T={points:O6e(m,s,d)},S=i8;var L=bv(bv(bv(bv({stroke:"#ccc",pointerEvents:"none"},d),T),Ct(b,!1)),{},{payload:l,payloadIndex:h,className:Zt("recharts-tooltip-cursor",b.className)});return P.isValidElement(b)?P.cloneElement(b,L):P.createElement(S,L)}var D6e=["item"],L6e=["children","className","width","height","style","compact","title","desc"];function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function sh(){return sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sh.apply(this,arguments)}function Nz(t,e){return z6e(t)||U6e(t,e)||mX(t,e)||B6e()}function B6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function z6e(t){if(Array.isArray(t))return t}function Cz(t,e){if(t==null)return{};var r=$6e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function V6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gX(n.key),n)}}function q6e(t,e,r){return e&&F6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H6e(t,e,r){return e=Nx(e),G6e(t,pX()?Reflect.construct(e,r||[],Nx(t).constructor):e.apply(t,r))}function G6e(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K6e(t)}function K6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pX=function(){return!!t})()}function Nx(t){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nx(t)}function W6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U8(t,e)}function U8(t,e){return U8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U8(t,e)}function uf(t){return Y6e(t)||Q6e(t)||mX(t)||X6e()}function X6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mX(t,e){if(t){if(typeof t=="string")return z8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z8(t,e)}}function Q6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Y6e(t){if(Array.isArray(t))return z8(t)}function z8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(r),!0).forEach(function(n){It(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function It(t,e,r){return e=gX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gX(t){var e=Z6e(t,"string");return cf(e)=="symbol"?e:e+""}function Z6e(t,e){if(cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J6e={xAxis:["bottom","top"],yAxis:["left","right"]},e_e={width:"100%",height:"100%"},yX={x:0,y:0};function xv(t){return t}var t_e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},r_e=function(e,r,n,i){var a=r.find(function(p){return p&&p.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=i.radius;return Pe(Pe(Pe({},i),Gr(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var d=a.coordinate,h=i.angle;return Pe(Pe(Pe({},i),Gr(i.cx,i.cy,d,h)),{},{angle:h,radius:d})}return yX},n4=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(l,d){var h=d.props.data;return h&&h.length?[].concat(uf(l),uf(h)):l},[]);return s.length>0?s:e&&e.length&&ot(i)&&ot(a)?e.slice(i,a+1):[]};function vX(t){return t==="number"?[0,"auto"]:void 0}var $8=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,l=n4(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(d,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var b=m===void 0?l:m;y=Nb(b,s.dataKey,i)}else y=m&&m[n]||l[n];return y?[].concat(uf(d),[iW(h,y)]):d},[])},kz=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=t_e(a,n),l=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,p=tve(s,l,h,d);if(p>=0&&h){var m=h[p]&&h[p].value,y=$8(e,r,p,m),b=r_e(n,l,p,a);return{activeTooltipIndex:p,activeLabel:m,activePayload:y,activeCoordinate:b}}return null},n_e=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,y=e.stackOffset,b=ZK(p,a);return n.reduce(function(T,S){var w,N=S.type.defaultProps!==void 0?Pe(Pe({},S.type.defaultProps),S.props):S.props,k=N.type,j=N.dataKey,$=N.allowDataOverflow,I=N.allowDuplicatedCategory,L=N.scale,E=N.ticks,A=N.includeHidden,R=N[s];if(T[R])return T;var F=n4(e.data,{graphicalItems:i.filter(function(te){var ue,oe=s in te.props?te.props[s]:(ue=te.type.defaultProps)===null||ue===void 0?void 0:ue[s];return oe===R}),dataStartIndex:d,dataEndIndex:h}),D=F.length,B,M,Q;j6e(N.domain,$,k)&&(B=JA(N.domain,null,$),b&&(k==="number"||L!=="auto")&&(Q=fm(F,j,"category")));var Z=vX(k);if(!B||B.length===0){var W,J=(W=N.domain)!==null&&W!==void 0?W:Z;if(j){if(B=fm(F,j,k),k==="category"&&b){var Y=Wde(B);I&&Y?(M=B,B=fx(0,D)):I||(B=kB(J,B,S).reduce(function(te,ue){return te.indexOf(ue)>=0?te:[].concat(uf(te),[ue])},[]))}else if(k==="category")I?B=B.filter(function(te){return te!==""&&!Gt(te)}):B=kB(J,B,S).reduce(function(te,ue){return te.indexOf(ue)>=0||ue===""||Gt(ue)?te:[].concat(uf(te),[ue])},[]);else if(k==="number"){var ge=sve(F,i.filter(function(te){var ue,oe,ae=s in te.props?te.props[s]:(ue=te.type.defaultProps)===null||ue===void 0?void 0:ue[s],pe="hide"in te.props?te.props.hide:(oe=te.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return ae===R&&(A||!pe)}),j,a,p);ge&&(B=ge)}b&&(k==="number"||L!=="auto")&&(Q=fm(F,j,"category"))}else b?B=fx(0,D):l&&l[R]&&l[R].hasStack&&k==="number"?B=y==="expand"?[0,1]:nW(l[R].stackGroups,d,h):B=YK(F,i.filter(function(te){var ue=s in te.props?te.props[s]:te.type.defaultProps[s],oe="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return ue===R&&(A||!oe)}),k,p,!0);if(k==="number")B=B8(m,B,R,a,E),J&&(B=JA(J,B,$));else if(k==="category"&&J){var ce=J,X=B.every(function(te){return ce.indexOf(te)>=0});X&&(B=ce)}}return Pe(Pe({},T),{},It({},R,Pe(Pe({},N),{},{axisType:a,domain:B,categoricalDomain:Q,duplicateDomain:M,originalDomain:(w=N.domain)!==null&&w!==void 0?w:Z,isCategorical:b,layout:p})))},{})},i_e=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,y=n4(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),b=y.length,T=ZK(p,a),S=-1;return n.reduce(function(w,N){var k=N.type.defaultProps!==void 0?Pe(Pe({},N.type.defaultProps),N.props):N.props,j=k[s],$=vX("number");if(!w[j]){S++;var I;return T?I=fx(0,b):l&&l[j]&&l[j].hasStack?(I=nW(l[j].stackGroups,d,h),I=B8(m,I,j,a)):(I=JA($,YK(y,n.filter(function(L){var E,A,R=s in L.props?L.props[s]:(E=L.type.defaultProps)===null||E===void 0?void 0:E[s],F="hide"in L.props?L.props.hide:(A=L.type.defaultProps)===null||A===void 0?void 0:A.hide;return R===j&&!F}),"number",p),i.defaultProps.allowDataOverflow),I=B8(m,I,j,a)),Pe(Pe({},w),{},It({},j,Pe(Pe({axisType:a},i.defaultProps),{},{hide:!0,orientation:ks(J6e,"".concat(a,".").concat(S%2),null),domain:I,originalDomain:$,isCategorical:T,layout:p})))}return w},{})},a_e=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.children,m="".concat(i,"Id"),y=cs(p,a),b={};return y&&y.length?b=n_e(e,{axes:y,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:d,dataEndIndex:h}):s&&s.length&&(b=i_e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:d,dataEndIndex:h})),b},s_e=function(e){var r=Hc(e),n=Nl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:cN(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Jb(r,n)}},Oz=function(e){var r=e.children,n=e.defaultShowTooltip,i=es(r,Zh),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},o_e=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ol(r&&r.type);return n&&n.indexOf("Bar")>=0})},Iz=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},l_e=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,d=l===void 0?{}:l,h=n.width,p=n.height,m=n.children,y=n.margin||{},b=es(m,Zh),T=es(m,mh),S=Object.keys(d).reduce(function(I,L){var E=d[L],A=E.orientation;return!E.mirror&&!E.hide?Pe(Pe({},I),{},It({},A,I[A]+E.width)):I},{left:y.left||0,right:y.right||0}),w=Object.keys(s).reduce(function(I,L){var E=s[L],A=E.orientation;return!E.mirror&&!E.hide?Pe(Pe({},I),{},It({},A,ks(I,"".concat(A))+E.height)):I},{top:y.top||0,bottom:y.bottom||0}),N=Pe(Pe({},w),S),k=N.bottom;b&&(N.bottom+=b.props.height||Zh.defaultProps.height),T&&r&&(N=ive(N,i,n,r));var j=h-N.left-N.right,$=p-N.top-N.bottom;return Pe(Pe({brushBottom:k},N),{},{width:Math.max(j,0),height:Math.max($,0)})},c_e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},bX=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,d=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,y=function(N,k){var j=k.graphicalItems,$=k.stackGroups,I=k.offset,L=k.updateId,E=k.dataStartIndex,A=k.dataEndIndex,R=N.barSize,F=N.layout,D=N.barGap,B=N.barCategoryGap,M=N.maxBarSize,Q=Iz(F),Z=Q.numericAxisName,W=Q.cateAxisName,J=o_e(j),Y=[];return j.forEach(function(ge,ce){var X=n4(N.data,{graphicalItems:[ge],dataStartIndex:E,dataEndIndex:A}),te=ge.type.defaultProps!==void 0?Pe(Pe({},ge.type.defaultProps),ge.props):ge.props,ue=te.dataKey,oe=te.maxBarSize,ae=te["".concat(Z,"Id")],pe=te["".concat(W,"Id")],ye={},Xe=d.reduce(function(de,Ue){var ne=k["".concat(Ue.axisType,"Map")],De=te["".concat(Ue.axisType,"Id")];ne&&ne[De]||Ue.axisType==="zAxis"||qd();var Ye=ne[De];return Pe(Pe({},de),{},It(It({},Ue.axisType,Ye),"".concat(Ue.axisType,"Ticks"),Nl(Ye)))},ye),Ne=Xe[W],le=Xe["".concat(W,"Ticks")],je=$&&$[ae]&&$[ae].hasStack&&mve(ge,$[ae].stackGroups),we=Ol(ge.type).indexOf("Bar")>=0,ut=Jb(Ne,le),Ge=[],lt=J&&rve({barSize:R,stackGroups:$,totalSize:c_e(Xe,W)});if(we){var it,Rt,Oe=Gt(oe)?M:oe,at=(it=(Rt=Jb(Ne,le,!0))!==null&&Rt!==void 0?Rt:Oe)!==null&&it!==void 0?it:0;Ge=nve({barGap:D,barCategoryGap:B,bandSize:at!==ut?at:ut,sizeList:lt[pe],maxBarSize:Oe}),at!==ut&&(Ge=Ge.map(function(de){return Pe(Pe({},de),{},{position:Pe(Pe({},de.position),{},{offset:de.position.offset-at/2})})}))}var ht=ge&&ge.type&&ge.type.getComposedData;ht&&Y.push({props:Pe(Pe({},ht(Pe(Pe({},Xe),{},{displayedData:X,props:N,dataKey:ue,item:ge,bandSize:ut,barPosition:Ge,offset:I,stackedData:je,layout:F,dataStartIndex:E,dataEndIndex:A}))),{},It(It(It({key:ge.key||"item-".concat(ce)},Z,Xe[Z]),W,Xe[W]),"animationId",L)),childIndex:o0e(ge,N.children),item:ge})}),Y},b=function(N,k){var j=N.props,$=N.dataStartIndex,I=N.dataEndIndex,L=N.updateId;if(!qM({props:j}))return null;var E=j.children,A=j.layout,R=j.stackOffset,F=j.data,D=j.reverseStackOrder,B=Iz(A),M=B.numericAxisName,Q=B.cateAxisName,Z=cs(E,n),W=fve(F,Z,"".concat(M,"Id"),"".concat(Q,"Id"),R,D),J=d.reduce(function(te,ue){var oe="".concat(ue.axisType,"Map");return Pe(Pe({},te),{},It({},oe,a_e(j,Pe(Pe({},ue),{},{graphicalItems:Z,stackGroups:ue.axisType===M&&W,dataStartIndex:$,dataEndIndex:I}))))},{}),Y=l_e(Pe(Pe({},J),{},{props:j,graphicalItems:Z}),k==null?void 0:k.legendBBox);Object.keys(J).forEach(function(te){J[te]=p(j,J[te],Y,te.replace("Map",""),r)});var ge=J["".concat(Q,"Map")],ce=s_e(ge),X=y(j,Pe(Pe({},J),{},{dataStartIndex:$,dataEndIndex:I,updateId:L,graphicalItems:Z,stackGroups:W,offset:Y}));return Pe(Pe({formattedGraphicalItems:X,graphicalItems:Z,offset:Y,stackGroups:W},ce),J)},T=(function(w){function N(k){var j,$,I;return V6e(this,N),I=H6e(this,N,[k]),It(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),It(I,"accessibilityManager",new C6e),It(I,"handleLegendBBoxUpdate",function(L){if(L){var E=I.state,A=E.dataStartIndex,R=E.dataEndIndex,F=E.updateId;I.setState(Pe({legendBBox:L},b({props:I.props,dataStartIndex:A,dataEndIndex:R,updateId:F},Pe(Pe({},I.state),{},{legendBBox:L}))))}}),It(I,"handleReceiveSyncEvent",function(L,E,A){if(I.props.syncId===L){if(A===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(E)}}),It(I,"handleBrushChange",function(L){var E=L.startIndex,A=L.endIndex;if(E!==I.state.dataStartIndex||A!==I.state.dataEndIndex){var R=I.state.updateId;I.setState(function(){return Pe({dataStartIndex:E,dataEndIndex:A},b({props:I.props,dataStartIndex:E,dataEndIndex:A,updateId:R},I.state))}),I.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),It(I,"handleMouseEnter",function(L){var E=I.getMouseInfo(L);if(E){var A=Pe(Pe({},E),{},{isTooltipActive:!0});I.setState(A),I.triggerSyncEvent(A);var R=I.props.onMouseEnter;Ut(R)&&R(A,L)}}),It(I,"triggeredAfterMouseMove",function(L){var E=I.getMouseInfo(L),A=E?Pe(Pe({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(A),I.triggerSyncEvent(A);var R=I.props.onMouseMove;Ut(R)&&R(A,L)}),It(I,"handleItemMouseEnter",function(L){I.setState(function(){return{isTooltipActive:!0,activeItem:L,activePayload:L.tooltipPayload,activeCoordinate:L.tooltipPosition||{x:L.cx,y:L.cy}}})}),It(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),It(I,"handleMouseMove",function(L){L.persist(),I.throttleTriggeredAfterMouseMove(L)}),It(I,"handleMouseLeave",function(L){I.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};I.setState(E),I.triggerSyncEvent(E);var A=I.props.onMouseLeave;Ut(A)&&A(E,L)}),It(I,"handleOuterEvent",function(L){var E=s0e(L),A=ks(I.props,"".concat(E));if(E&&Ut(A)){var R,F;/.*touch.*/i.test(E)?F=I.getMouseInfo(L.changedTouches[0]):F=I.getMouseInfo(L),A((R=F)!==null&&R!==void 0?R:{},L)}}),It(I,"handleClick",function(L){var E=I.getMouseInfo(L);if(E){var A=Pe(Pe({},E),{},{isTooltipActive:!0});I.setState(A),I.triggerSyncEvent(A);var R=I.props.onClick;Ut(R)&&R(A,L)}}),It(I,"handleMouseDown",function(L){var E=I.props.onMouseDown;if(Ut(E)){var A=I.getMouseInfo(L);E(A,L)}}),It(I,"handleMouseUp",function(L){var E=I.props.onMouseUp;if(Ut(E)){var A=I.getMouseInfo(L);E(A,L)}}),It(I,"handleTouchMove",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(L.changedTouches[0])}),It(I,"handleTouchStart",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&I.handleMouseDown(L.changedTouches[0])}),It(I,"handleTouchEnd",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&I.handleMouseUp(L.changedTouches[0])}),It(I,"handleDoubleClick",function(L){var E=I.props.onDoubleClick;if(Ut(E)){var A=I.getMouseInfo(L);E(A,L)}}),It(I,"handleContextMenu",function(L){var E=I.props.onContextMenu;if(Ut(E)){var A=I.getMouseInfo(L);E(A,L)}}),It(I,"triggerSyncEvent",function(L){I.props.syncId!==void 0&&iT.emit(aT,I.props.syncId,L,I.eventEmitterSymbol)}),It(I,"applySyncEvent",function(L){var E=I.props,A=E.layout,R=E.syncMethod,F=I.state.updateId,D=L.dataStartIndex,B=L.dataEndIndex;if(L.dataStartIndex!==void 0||L.dataEndIndex!==void 0)I.setState(Pe({dataStartIndex:D,dataEndIndex:B},b({props:I.props,dataStartIndex:D,dataEndIndex:B,updateId:F},I.state)));else if(L.activeTooltipIndex!==void 0){var M=L.chartX,Q=L.chartY,Z=L.activeTooltipIndex,W=I.state,J=W.offset,Y=W.tooltipTicks;if(!J)return;if(typeof R=="function")Z=R(Y,L);else if(R==="value"){Z=-1;for(var ge=0;ge<Y.length;ge++)if(Y[ge].value===L.activeLabel){Z=ge;break}}var ce=Pe(Pe({},J),{},{x:J.left,y:J.top}),X=Math.min(M,ce.x+ce.width),te=Math.min(Q,ce.y+ce.height),ue=Y[Z]&&Y[Z].value,oe=$8(I.state,I.props.data,Z),ae=Y[Z]?{x:A==="horizontal"?Y[Z].coordinate:X,y:A==="horizontal"?te:Y[Z].coordinate}:yX;I.setState(Pe(Pe({},L),{},{activeLabel:ue,activeCoordinate:ae,activePayload:oe,activeTooltipIndex:Z}))}else I.setState(L)}),It(I,"renderCursor",function(L){var E,A=I.state,R=A.isTooltipActive,F=A.activeCoordinate,D=A.activePayload,B=A.offset,M=A.activeTooltipIndex,Q=A.tooltipAxisBandSize,Z=I.getTooltipEventType(),W=(E=L.props.active)!==null&&E!==void 0?E:R,J=I.props.layout,Y=L.key||"_recharts-cursor";return ee.createElement(P6e,{key:Y,activeCoordinate:F,activePayload:D,activeTooltipIndex:M,chartName:r,element:L,isActive:W,layout:J,offset:B,tooltipAxisBandSize:Q,tooltipEventType:Z})}),It(I,"renderPolarAxis",function(L,E,A){var R=ks(L,"type.axisType"),F=ks(I.state,"".concat(R,"Map")),D=L.type.defaultProps,B=D!==void 0?Pe(Pe({},D),L.props):L.props,M=F&&F[B["".concat(R,"Id")]];return P.cloneElement(L,Pe(Pe({},M),{},{className:Zt(R,M.className),key:L.key||"".concat(E,"-").concat(A),ticks:Nl(M,!0)}))}),It(I,"renderPolarGrid",function(L){var E=L.props,A=E.radialLines,R=E.polarAngles,F=E.polarRadius,D=I.state,B=D.radiusAxisMap,M=D.angleAxisMap,Q=Hc(B),Z=Hc(M),W=Z.cx,J=Z.cy,Y=Z.innerRadius,ge=Z.outerRadius;return P.cloneElement(L,{polarAngles:Array.isArray(R)?R:Nl(Z,!0).map(function(ce){return ce.coordinate}),polarRadius:Array.isArray(F)?F:Nl(Q,!0).map(function(ce){return ce.coordinate}),cx:W,cy:J,innerRadius:Y,outerRadius:ge,key:L.key||"polar-grid",radialLines:A})}),It(I,"renderLegend",function(){var L=I.state.formattedGraphicalItems,E=I.props,A=E.children,R=E.width,F=E.height,D=I.props.margin||{},B=R-(D.left||0)-(D.right||0),M=XK({children:A,formattedGraphicalItems:L,legendWidth:B,legendContent:h});if(!M)return null;var Q=M.item,Z=Cz(M,D6e);return P.cloneElement(Q,Pe(Pe({},Z),{},{chartWidth:R,chartHeight:F,margin:D,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),It(I,"renderTooltip",function(){var L,E=I.props,A=E.children,R=E.accessibilityLayer,F=es(A,wo);if(!F)return null;var D=I.state,B=D.isTooltipActive,M=D.activeCoordinate,Q=D.activePayload,Z=D.activeLabel,W=D.offset,J=(L=F.props.active)!==null&&L!==void 0?L:B;return P.cloneElement(F,{viewBox:Pe(Pe({},W),{},{x:W.left,y:W.top}),active:J,label:Z,payload:J?Q:[],coordinate:M,accessibilityLayer:R})}),It(I,"renderBrush",function(L){var E=I.props,A=E.margin,R=E.data,F=I.state,D=F.offset,B=F.dataStartIndex,M=F.dataEndIndex,Q=F.updateId;return P.cloneElement(L,{key:L.key||"_recharts-brush",onChange:mv(I.handleBrushChange,L.props.onChange),data:R,x:ot(L.props.x)?L.props.x:D.left,y:ot(L.props.y)?L.props.y:D.top+D.height+D.brushBottom-(A.bottom||0),width:ot(L.props.width)?L.props.width:D.width,startIndex:B,endIndex:M,updateId:"brush-".concat(Q)})}),It(I,"renderReferenceElement",function(L,E,A){if(!L)return null;var R=I,F=R.clipPathId,D=I.state,B=D.xAxisMap,M=D.yAxisMap,Q=D.offset,Z=L.type.defaultProps||{},W=L.props,J=W.xAxisId,Y=J===void 0?Z.xAxisId:J,ge=W.yAxisId,ce=ge===void 0?Z.yAxisId:ge;return P.cloneElement(L,{key:L.key||"".concat(E,"-").concat(A),xAxis:B[Y],yAxis:M[ce],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:F})}),It(I,"renderActivePoints",function(L){var E=L.item,A=L.activePoint,R=L.basePoint,F=L.childIndex,D=L.isRange,B=[],M=E.props.key,Q=E.item.type.defaultProps!==void 0?Pe(Pe({},E.item.type.defaultProps),E.item.props):E.item.props,Z=Q.activeDot,W=Q.dataKey,J=Pe(Pe({index:F,dataKey:W,cx:A.x,cy:A.y,r:4,fill:DN(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ct(Z,!1)),Cb(Z));return B.push(N.renderActiveDot(Z,J,"".concat(M,"-activePoint-").concat(F))),R?B.push(N.renderActiveDot(Z,Pe(Pe({},J),{},{cx:R.x,cy:R.y}),"".concat(M,"-basePoint-").concat(F))):D&&B.push(null),B}),It(I,"renderGraphicChild",function(L,E,A){var R=I.filterFormatItem(L,E,A);if(!R)return null;var F=I.getTooltipEventType(),D=I.state,B=D.isTooltipActive,M=D.tooltipAxis,Q=D.activeTooltipIndex,Z=D.activeLabel,W=I.props.children,J=es(W,wo),Y=R.props,ge=Y.points,ce=Y.isRange,X=Y.baseLine,te=R.item.type.defaultProps!==void 0?Pe(Pe({},R.item.type.defaultProps),R.item.props):R.item.props,ue=te.activeDot,oe=te.hide,ae=te.activeBar,pe=te.activeShape,ye=!!(!oe&&B&&J&&(ue||ae||pe)),Xe={};F!=="axis"&&J&&J.props.trigger==="click"?Xe={onClick:mv(I.handleItemMouseEnter,L.props.onClick)}:F!=="axis"&&(Xe={onMouseLeave:mv(I.handleItemMouseLeave,L.props.onMouseLeave),onMouseEnter:mv(I.handleItemMouseEnter,L.props.onMouseEnter)});var Ne=P.cloneElement(L,Pe(Pe({},R.props),Xe));function le(Ue){return typeof M.dataKey=="function"?M.dataKey(Ue.payload):null}if(ye)if(Q>=0){var je,we;if(M.dataKey&&!M.allowDuplicatedCategory){var ut=typeof M.dataKey=="function"?le:"payload.".concat(M.dataKey.toString());je=Nb(ge,ut,Z),we=ce&&X&&Nb(X,ut,Z)}else je=ge==null?void 0:ge[Q],we=ce&&X&&X[Q];if(pe||ae){var Ge=L.props.activeIndex!==void 0?L.props.activeIndex:Q;return[P.cloneElement(L,Pe(Pe(Pe({},R.props),Xe),{},{activeIndex:Ge})),null,null]}if(!Gt(je))return[Ne].concat(uf(I.renderActivePoints({item:R,activePoint:je,basePoint:we,childIndex:Q,isRange:ce})))}else{var lt,it=(lt=I.getItemByXY(I.state.activeCoordinate))!==null&&lt!==void 0?lt:{graphicalItem:Ne},Rt=it.graphicalItem,Oe=Rt.item,at=Oe===void 0?L:Oe,ht=Rt.childIndex,de=Pe(Pe(Pe({},R.props),Xe),{},{activeIndex:ht});return[P.cloneElement(at,de),null,null]}return ce?[Ne,null,null]:[Ne,null]}),It(I,"renderCustomized",function(L,E,A){return P.cloneElement(L,Pe(Pe({key:"recharts-customized-".concat(A)},I.props),I.state))}),It(I,"renderMap",{CartesianGrid:{handler:xv,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:xv},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:xv},YAxis:{handler:xv},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((j=k.id)!==null&&j!==void 0?j:i1("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=WG(I.triggeredAfterMouseMove,($=k.throttleDelay)!==null&&$!==void 0?$:1e3/60),I.state={},I}return W6e(N,w),q6e(N,[{key:"componentDidMount",value:function(){var j,$;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,$=j.children,I=j.data,L=j.height,E=j.layout,A=es($,wo);if(A){var R=A.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,D=$8(this.state,I,R,F),B=this.state.tooltipTicks[R].coordinate,M=(this.state.offset.top+L)/2,Q=E==="horizontal",Z=Q?{x:B,y:M}:{y:B,x:M},W=this.state.formattedGraphicalItems.find(function(Y){var ge=Y.item;return ge.type.name==="Scatter"});W&&(Z=Pe(Pe({},Z),W.props.points[R].tooltipPosition),D=W.props.points[R].tooltipPayload);var J={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:F,activePayload:D,activeCoordinate:Z};this.setState(J),this.renderCursor(A),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var I,L;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0}})}return null}},{key:"componentDidUpdate",value:function(j){wA([es(j.children,wo)],[es(this.props.children,wo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=es(this.props.children,wo);if(j&&typeof j.props.shared=="boolean"){var $=j.props.shared?"axis":"item";return l.indexOf($)>=0?$:a}return a}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var $=this.container,I=$.getBoundingClientRect(),L=Kpe(I),E={chartX:Math.round(j.pageX-L.left),chartY:Math.round(j.pageY-L.top)},A=I.width/$.offsetWidth||1,R=this.inRange(E.chartX,E.chartY,A);if(!R)return null;var F=this.state,D=F.xAxisMap,B=F.yAxisMap,M=this.getTooltipEventType(),Q=kz(this.state,this.props.data,this.props.layout,R);if(M!=="axis"&&D&&B){var Z=Hc(D).scale,W=Hc(B).scale,J=Z&&Z.invert?Z.invert(E.chartX):null,Y=W&&W.invert?W.invert(E.chartY):null;return Pe(Pe({},E),{},{xValue:J,yValue:Y},Q)}return Q?Pe(Pe({},E),Q):null}},{key:"inRange",value:function(j,$){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=this.props.layout,E=j/I,A=$/I;if(L==="horizontal"||L==="vertical"){var R=this.state.offset,F=E>=R.left&&E<=R.left+R.width&&A>=R.top&&A<=R.top+R.height;return F?{x:E,y:A}:null}var D=this.state,B=D.angleAxisMap,M=D.radiusAxisMap;if(B&&M){var Q=Hc(B);return RB({x:E,y:A},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,$=this.getTooltipEventType(),I=es(j,wo),L={};I&&$==="axis"&&(I.props.trigger==="click"?L={onClick:this.handleClick}:L={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Cb(this.props,this.handleOuterEvent);return Pe(Pe({},E),L)}},{key:"addListener",value:function(){iT.on(aT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){iT.removeListener(aT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,$,I){for(var L=this.state.formattedGraphicalItems,E=0,A=L.length;E<A;E++){var R=L[E];if(R.item===j||R.props.key===j.key||$===Ol(R.item.type)&&I===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,$=this.state.offset,I=$.left,L=$.top,E=$.height,A=$.width;return ee.createElement("defs",null,ee.createElement("clipPath",{id:j},ee.createElement("rect",{x:I,y:L,height:E,width:A})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function($,I){var L=Nz(I,2),E=L[0],A=L[1];return Pe(Pe({},$),{},It({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function($,I){var L=Nz(I,2),E=L[0],A=L[1];return Pe(Pe({},$),{},It({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[j])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(j){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[j])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(j){var $=this.state,I=$.formattedGraphicalItems,L=$.activeItem;if(I&&I.length)for(var E=0,A=I.length;E<A;E++){var R=I[E],F=R.props,D=R.item,B=D.type.defaultProps!==void 0?Pe(Pe({},D.type.defaultProps),D.props):D.props,M=Ol(D.type);if(M==="Bar"){var Q=(F.data||[]).find(function(Y){return p2e(j,Y)});if(Q)return{graphicalItem:R,payload:Q}}else if(M==="RadialBar"){var Z=(F.data||[]).find(function(Y){return RB(j,Y)});if(Z)return{graphicalItem:R,payload:Z}}else if(K2(R,L)||W2(R,L)||Sg(R,L)){var W=K4e({graphicalItem:R,activeTooltipItem:L,itemData:B.data}),J=B.activeIndex===void 0?W:B.activeIndex;return{graphicalItem:Pe(Pe({},R),{},{childIndex:J}),payload:Sg(R,L)?B.data[W]:R.props.data[W]}}}return null}},{key:"render",value:function(){var j=this;if(!qM(this))return null;var $=this.props,I=$.children,L=$.className,E=$.width,A=$.height,R=$.style,F=$.compact,D=$.title,B=$.desc,M=Cz($,L6e),Q=Ct(M,!1);if(F)return ee.createElement(cz,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ee.createElement(SA,sh({},Q,{width:E,height:A,title:D,desc:B}),this.renderClipPath(),GM(I,this.renderMap)));if(this.props.accessibilityLayer){var Z,W;Q.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,Q.role=(W=this.props.role)!==null&&W!==void 0?W:"application",Q.onKeyDown=function(Y){j.accessibilityManager.keyboardEvent(Y)},Q.onFocus=function(){j.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return ee.createElement(cz,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ee.createElement("div",sh({className:Zt("recharts-wrapper",L),style:Pe({position:"relative",cursor:"default",width:E,height:A},R)},J,{ref:function(ge){j.container=ge}}),ee.createElement(SA,sh({},Q,{width:E,height:A,title:D,desc:B,style:e_e}),this.renderClipPath(),GM(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(P.Component);It(T,"displayName",r),It(T,"defaultProps",Pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),It(T,"getDerivedStateFromProps",function(w,N){var k=w.dataKey,j=w.data,$=w.children,I=w.width,L=w.height,E=w.layout,A=w.stackOffset,R=w.margin,F=N.dataStartIndex,D=N.dataEndIndex;if(N.updateId===void 0){var B=Oz(w);return Pe(Pe(Pe({},B),{},{updateId:0},b(Pe(Pe({props:w},B),{},{updateId:0}),N)),{},{prevDataKey:k,prevData:j,prevWidth:I,prevHeight:L,prevLayout:E,prevStackOffset:A,prevMargin:R,prevChildren:$})}if(k!==N.prevDataKey||j!==N.prevData||I!==N.prevWidth||L!==N.prevHeight||E!==N.prevLayout||A!==N.prevStackOffset||!ph(R,N.prevMargin)){var M=Oz(w),Q={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},Z=Pe(Pe({},kz(N,j,E)),{},{updateId:N.updateId+1}),W=Pe(Pe(Pe({},M),Q),Z);return Pe(Pe(Pe({},W),b(Pe({props:w},W),N)),{},{prevDataKey:k,prevData:j,prevWidth:I,prevHeight:L,prevLayout:E,prevStackOffset:A,prevMargin:R,prevChildren:$})}if(!wA($,N.prevChildren)){var J,Y,ge,ce,X=es($,Zh),te=X&&(J=(Y=X.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&J!==void 0?J:F,ue=X&&(ge=(ce=X.props)===null||ce===void 0?void 0:ce.endIndex)!==null&&ge!==void 0?ge:D,oe=te!==F||ue!==D,ae=!Gt(j),pe=ae&&!oe?N.updateId:N.updateId+1;return Pe(Pe({updateId:pe},b(Pe(Pe({props:w},N),{},{updateId:pe,dataStartIndex:te,dataEndIndex:ue}),N)),{},{prevChildren:$,dataStartIndex:te,dataEndIndex:ue})}return null}),It(T,"renderActiveDot",function(w,N,k){var j;return P.isValidElement(w)?j=P.cloneElement(w,N):Ut(w)?j=w(N):j=ee.createElement(q2,N),ee.createElement(xr,{className:"recharts-active-dot",key:k},j)});var S=P.forwardRef(function(N,k){return ee.createElement(T,sh({},N,{ref:k}))});return S.displayName=T.displayName,S},u_e=bX({chartName:"RadarChart",GraphicalChild:p1,axisComponents:[{axisType:"angleAxis",AxisComp:f1},{axisType:"radiusAxis",AxisComp:h1}],formatAxisMap:Eve,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),d_e=bX({chartName:"ScatterChart",GraphicalChild:g1,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:t4},{axisType:"yAxis",AxisComp:r4},{axisType:"zAxis",AxisComp:e4}],formatAxisMap:n5e});const i4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Cf(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function KN(t){return"nodeType"in t}function xa(t){var e,r;return t?Cf(t)?t:KN(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function WN(t){const{Document:e}=xa(t);return t instanceof e}function y1(t){return Cf(t)?!1:t instanceof xa(t).HTMLElement}function xX(t){return t instanceof xa(t).SVGElement}function jf(t){return t?Cf(t)?t.document:KN(t)?WN(t)?t:y1(t)||xX(t)?t.ownerDocument:document:document:document}const Wl=i4?P.useLayoutEffect:P.useEffect;function a4(t){const e=P.useRef(t);return Wl(()=>{e.current=t}),P.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function h_e(){const t=P.useRef(null),e=P.useCallback((n,i)=>{t.current=setInterval(n,i)},[]),r=P.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function kg(t,e){e===void 0&&(e=[t]);const r=P.useRef(t);return Wl(()=>{r.current!==t&&(r.current=t)},e),r}function v1(t,e){const r=P.useRef();return P.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function Cx(t){const e=a4(t),r=P.useRef(null),n=P.useCallback(i=>{i!==r.current&&(e==null||e(i,r.current)),r.current=i},[]);return[r,n]}function jx(t){const e=P.useRef();return P.useEffect(()=>{e.current=t},[t]),e.current}let oT={};function s4(t,e){return P.useMemo(()=>{if(e)return e;const r=oT[t]==null?0:oT[t]+1;return oT[t]=r,t+"-"+r},[t,e])}function wX(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((a,s)=>{const l=Object.entries(s);for(const[d,h]of l){const p=a[d];p!=null&&(a[d]=p+t*h)}return a},{...e})}}const vh=wX(1),kx=wX(-1);function f_e(t){return"clientX"in t&&"clientY"in t}function XN(t){if(!t)return!1;const{KeyboardEvent:e}=xa(t.target);return e&&t instanceof e}function p_e(t){if(!t)return!1;const{TouchEvent:e}=xa(t.target);return e&&t instanceof e}function Og(t){if(p_e(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return f_e(t)?{x:t.clientX,y:t.clientY}:null}const Ig=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[Ig.Translate.toString(t),Ig.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),Rz="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function m_e(t){return t.matches(Rz)?t:t.querySelector(Rz)}const g_e={display:"none"};function y_e(t){let{id:e,value:r}=t;return ee.createElement("div",{id:e,style:g_e},r)}function v_e(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ee.createElement("div",{id:e,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function b_e(){const[t,e]=P.useState("");return{announce:P.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const _X=P.createContext(null);function x_e(t){const e=P.useContext(_X);P.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function w_e(){const[t]=P.useState(()=>new Set),e=P.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[P.useCallback(n=>{let{type:i,event:a}=n;t.forEach(s=>{var l;return(l=s[i])==null?void 0:l.call(s,a)})},[t]),e]}const __e={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},S_e={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function T_e(t){let{announcements:e=S_e,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=__e}=t;const{announce:a,announcement:s}=b_e(),l=s4("DndLiveRegion"),[d,h]=P.useState(!1);if(P.useEffect(()=>{h(!0)},[]),x_e(P.useMemo(()=>({onDragStart(m){let{active:y}=m;a(e.onDragStart({active:y}))},onDragMove(m){let{active:y,over:b}=m;e.onDragMove&&a(e.onDragMove({active:y,over:b}))},onDragOver(m){let{active:y,over:b}=m;a(e.onDragOver({active:y,over:b}))},onDragEnd(m){let{active:y,over:b}=m;a(e.onDragEnd({active:y,over:b}))},onDragCancel(m){let{active:y,over:b}=m;a(e.onDragCancel({active:y,over:b}))}}),[a,e])),!d)return null;const p=ee.createElement(ee.Fragment,null,ee.createElement(y_e,{id:n,value:i.draggable}),ee.createElement(v_e,{id:l,announcement:s}));return r?Jp.createPortal(p,r):p}var hi;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(hi||(hi={}));function Ox(){}function Mz(t,e){return P.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function A_e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return P.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const oo=Object.freeze({x:0,y:0});function E_e(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function N_e(t,e){const r=Og(t);if(!r)return"0 0";const n={x:(r.x-e.left)/e.width*100,y:(r.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function C_e(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function j_e(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function k_e(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function Pz(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}const O_e=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=Pz(e,e.left,e.top),a=[];for(const s of n){const{id:l}=s,d=r.get(l);if(d){const h=E_e(Pz(d),i);a.push({id:l,data:{droppableContainer:s,value:h}})}}return a.sort(C_e)};function I_e(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),s=i-n,l=a-r;if(n<i&&r<a){const d=e.width*e.height,h=t.width*t.height,p=s*l,m=p/(d+h-p);return Number(m.toFixed(4))}return 0}const R_e=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=[];for(const a of n){const{id:s}=a,l=r.get(s);if(l){const d=I_e(l,e);d>0&&i.push({id:s,data:{droppableContainer:a,value:d}})}}return i.sort(j_e)};function M_e(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function SX(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:oo}function P_e(t){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.reduce((s,l)=>({...s,top:s.top+t*l.y,bottom:s.bottom+t*l.y,left:s.left+t*l.x,right:s.right+t*l.x}),{...r})}}const D_e=P_e(1);function TX(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function L_e(t,e,r){const n=TX(e);if(!n)return t;const{scaleX:i,scaleY:a,x:s,y:l}=n,d=t.left-s-(1-i)*parseFloat(r),h=t.top-l-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),p=i?t.width/i:t.width,m=a?t.height/a:t.height;return{width:p,height:m,top:h,right:d+p,bottom:h+m,left:d}}const B_e={ignoreTransform:!1};function b1(t,e){e===void 0&&(e=B_e);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:p}=xa(t).getComputedStyle(t);h&&(r=L_e(r,h,p))}const{top:n,left:i,width:a,height:s,bottom:l,right:d}=r;return{top:n,left:i,width:a,height:s,bottom:l,right:d}}function Dz(t){return b1(t,{ignoreTransform:!0})}function U_e(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function z_e(t,e){return e===void 0&&(e=xa(t).getComputedStyle(t)),e.position==="fixed"}function $_e(t,e){e===void 0&&(e=xa(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=e[i];return typeof a=="string"?r.test(a):!1})}function QN(t,e){const r=[];function n(i){if(e!=null&&r.length>=e||!i)return r;if(WN(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!y1(i)||xX(i)||r.includes(i))return r;const a=xa(t).getComputedStyle(i);return i!==t&&$_e(i,a)&&r.push(i),z_e(i,a)?r:n(i.parentNode)}return t?n(t):r}function AX(t){const[e]=QN(t,1);return e??null}function lT(t){return!i4||!t?null:Cf(t)?t:KN(t)?WN(t)||t===jf(t).scrollingElement?window:y1(t)?t:null:null}function EX(t){return Cf(t)?t.scrollX:t.scrollLeft}function NX(t){return Cf(t)?t.scrollY:t.scrollTop}function V8(t){return{x:EX(t),y:NX(t)}}var ji;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(ji||(ji={}));function CX(t){return!i4||!t?!1:t===document.scrollingElement}function jX(t){const e={x:0,y:0},r=CX(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},i=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,s=t.scrollTop>=n.y,l=t.scrollLeft>=n.x;return{isTop:i,isLeft:a,isBottom:s,isRight:l,maxScroll:n,minScroll:e}}const V_e={x:.2,y:.2};function F_e(t,e,r,n,i){let{top:a,left:s,right:l,bottom:d}=r;n===void 0&&(n=10),i===void 0&&(i=V_e);const{isTop:h,isBottom:p,isLeft:m,isRight:y}=jX(t),b={x:0,y:0},T={x:0,y:0},S={height:e.height*i.y,width:e.width*i.x};return!h&&a<=e.top+S.height?(b.y=ji.Backward,T.y=n*Math.abs((e.top+S.height-a)/S.height)):!p&&d>=e.bottom-S.height&&(b.y=ji.Forward,T.y=n*Math.abs((e.bottom-S.height-d)/S.height)),!y&&l>=e.right-S.width?(b.x=ji.Forward,T.x=n*Math.abs((e.right-S.width-l)/S.width)):!m&&s<=e.left+S.width&&(b.x=ji.Backward,T.x=n*Math.abs((e.left+S.width-s)/S.width)),{direction:b,speed:T}}function q_e(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:s}=window;return{top:0,left:0,right:a,bottom:s,width:a,height:s}}const{top:e,left:r,right:n,bottom:i}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:i,width:t.clientWidth,height:t.clientHeight}}function kX(t){return t.reduce((e,r)=>vh(e,V8(r)),oo)}function H_e(t){return t.reduce((e,r)=>e+EX(r),0)}function G_e(t){return t.reduce((e,r)=>e+NX(r),0)}function OX(t,e){if(e===void 0&&(e=b1),!t)return;const{top:r,left:n,bottom:i,right:a}=e(t);AX(t)&&(i<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const K_e=[["x",["left","right"],H_e],["y",["top","bottom"],G_e]];class YN{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=QN(r),i=kX(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,s,l]of K_e)for(const d of s)Object.defineProperty(this,d,{get:()=>{const h=l(n),p=i[a]-h;return this.rect[d]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class bm{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var i;(i=this.target)==null||i.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function W_e(t){const{EventTarget:e}=xa(t);return t instanceof e?t:jf(t)}function cT(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Es;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Es||(Es={}));function Lz(t){t.preventDefault()}function X_e(t){t.stopPropagation()}var Yr;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Yr||(Yr={}));const IX={start:[Yr.Space,Yr.Enter],cancel:[Yr.Esc],end:[Yr.Space,Yr.Enter,Yr.Tab]},Q_e=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case Yr.Right:return{...r,x:r.x+25};case Yr.Left:return{...r,x:r.x-25};case Yr.Down:return{...r,y:r.y+25};case Yr.Up:return{...r,y:r.y-25}}};class RX{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new bm(jf(r)),this.windowListeners=new bm(xa(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Es.Resize,this.handleCancel),this.windowListeners.add(Es.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Es.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&OX(n),r(oo)}handleKeyDown(e){if(XN(e)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:a=IX,coordinateGetter:s=Q_e,scrollBehavior:l="smooth"}=i,{code:d}=e;if(a.end.includes(d)){this.handleEnd(e);return}if(a.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:h}=n.current,p=h?{x:h.left,y:h.top}:oo;this.referenceCoordinates||(this.referenceCoordinates=p);const m=s(e,{active:r,context:n.current,currentCoordinates:p});if(m){const y=kx(m,p),b={x:0,y:0},{scrollableAncestors:T}=n.current;for(const S of T){const w=e.code,{isTop:N,isRight:k,isLeft:j,isBottom:$,maxScroll:I,minScroll:L}=jX(S),E=q_e(S),A={x:Math.min(w===Yr.Right?E.right-E.width/2:E.right,Math.max(w===Yr.Right?E.left:E.left+E.width/2,m.x)),y:Math.min(w===Yr.Down?E.bottom-E.height/2:E.bottom,Math.max(w===Yr.Down?E.top:E.top+E.height/2,m.y))},R=w===Yr.Right&&!k||w===Yr.Left&&!j,F=w===Yr.Down&&!$||w===Yr.Up&&!N;if(R&&A.x!==m.x){const D=S.scrollLeft+y.x,B=w===Yr.Right&&D<=I.x||w===Yr.Left&&D>=L.x;if(B&&!y.y){S.scrollTo({left:D,behavior:l});return}B?b.x=S.scrollLeft-D:b.x=w===Yr.Right?S.scrollLeft-I.x:S.scrollLeft-L.x,b.x&&S.scrollBy({left:-b.x,behavior:l});break}else if(F&&A.y!==m.y){const D=S.scrollTop+y.y,B=w===Yr.Down&&D<=I.y||w===Yr.Up&&D>=L.y;if(B&&!y.x){S.scrollTo({top:D,behavior:l});return}B?b.y=S.scrollTop-D:b.y=w===Yr.Down?S.scrollTop-I.y:S.scrollTop-L.y,b.y&&S.scrollBy({top:-b.y,behavior:l});break}}this.handleMove(e,vh(kx(m,this.referenceCoordinates),b))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}RX.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=IX,onActivation:i}=e,{active:a}=r;const{code:s}=t.nativeEvent;if(n.start.includes(s)){const l=a.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function Bz(t){return!!(t&&"distance"in t)}function Uz(t){return!!(t&&"delay"in t)}class ZN{constructor(e,r,n){var i;n===void 0&&(n=W_e(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:a}=e,{target:s}=a;this.props=e,this.events=r,this.document=jf(s),this.documentListeners=new bm(this.document),this.listeners=new bm(n),this.windowListeners=new bm(xa(s)),this.initialCoordinates=(i=Og(a))!=null?i:oo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Es.Resize,this.handleCancel),this.windowListeners.add(Es.DragStart,Lz),this.windowListeners.add(Es.VisibilityChange,this.handleCancel),this.windowListeners.add(Es.ContextMenu,Lz),this.documentListeners.add(Es.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Uz(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Bz(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:i}=this.props;i(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Es.Click,X_e,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Es.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:i,props:a}=this,{onMove:s,options:{activationConstraint:l}}=a;if(!i)return;const d=(r=Og(e))!=null?r:oo,h=kx(i,d);if(!n&&l){if(Bz(l)){if(l.tolerance!=null&&cT(h,l.tolerance))return this.handleCancel();if(cT(h,l.distance))return this.handleStart()}if(Uz(l)&&cT(h,l.tolerance))return this.handleCancel();this.handlePending(l,h);return}e.cancelable&&e.preventDefault(),s(d)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===Yr.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Y_e={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class JN extends ZN{constructor(e){const{event:r}=e,n=jf(r.target);super(e,Y_e,n)}}JN.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const Z_e={move:{name:"mousemove"},end:{name:"mouseup"}};var F8;(function(t){t[t.RightClick=2]="RightClick"})(F8||(F8={}));class J_e extends ZN{constructor(e){super(e,Z_e,jf(e.event.target))}}J_e.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===F8.RightClick?!1:(n==null||n({event:r}),!0)}}];const uT={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class MX extends ZN{constructor(e){super(e,uT)}static setup(){return window.addEventListener(uT.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(uT.move.name,e)};function e(){}}}MX.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:i}=r;return i.length>1?!1:(n==null||n({event:r}),!0)}}];var xm;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(xm||(xm={}));var Ix;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ix||(Ix={}));function eSe(t){let{acceleration:e,activator:r=xm.Pointer,canScroll:n,draggingRect:i,enabled:a,interval:s=5,order:l=Ix.TreeOrder,pointerCoordinates:d,scrollableAncestors:h,scrollableAncestorRects:p,delta:m,threshold:y}=t;const b=rSe({delta:m,disabled:!a}),[T,S]=h_e(),w=P.useRef({x:0,y:0}),N=P.useRef({x:0,y:0}),k=P.useMemo(()=>{switch(r){case xm.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case xm.DraggableRect:return i}},[r,i,d]),j=P.useRef(null),$=P.useCallback(()=>{const L=j.current;if(!L)return;const E=w.current.x*N.current.x,A=w.current.y*N.current.y;L.scrollBy(E,A)},[]),I=P.useMemo(()=>l===Ix.TreeOrder?[...h].reverse():h,[l,h]);P.useEffect(()=>{if(!a||!h.length||!k){S();return}for(const L of I){if((n==null?void 0:n(L))===!1)continue;const E=h.indexOf(L),A=p[E];if(!A)continue;const{direction:R,speed:F}=F_e(L,A,k,e,y);for(const D of["x","y"])b[D][R[D]]||(F[D]=0,R[D]=0);if(F.x>0||F.y>0){S(),j.current=L,T($,s),w.current=F,N.current=R;return}}w.current={x:0,y:0},N.current={x:0,y:0},S()},[e,$,n,S,a,s,JSON.stringify(k),JSON.stringify(b),T,h,I,p,JSON.stringify(y)])}const tSe={x:{[ji.Backward]:!1,[ji.Forward]:!1},y:{[ji.Backward]:!1,[ji.Forward]:!1}};function rSe(t){let{delta:e,disabled:r}=t;const n=jx(e);return v1(i=>{if(r||!n||!i)return tSe;const a={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[ji.Backward]:i.x[ji.Backward]||a.x===-1,[ji.Forward]:i.x[ji.Forward]||a.x===1},y:{[ji.Backward]:i.y[ji.Backward]||a.y===-1,[ji.Forward]:i.y[ji.Forward]||a.y===1}}},[r,e,n])}function nSe(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return v1(i=>{var a;return e==null?null:(a=n??i)!=null?a:null},[n,e])}function iSe(t,e){return P.useMemo(()=>t.reduce((r,n)=>{const{sensor:i}=n,a=i.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,n)}));return[...r,...a]},[]),[t,e])}var Rg;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Rg||(Rg={}));var q8;(function(t){t.Optimized="optimized"})(q8||(q8={}));const zz=new Map;function aSe(t,e){let{dragging:r,dependencies:n,config:i}=e;const[a,s]=P.useState(null),{frequency:l,measure:d,strategy:h}=i,p=P.useRef(t),m=w(),y=kg(m),b=P.useCallback(function(N){N===void 0&&(N=[]),!y.current&&s(k=>k===null?N:k.concat(N.filter(j=>!k.includes(j))))},[y]),T=P.useRef(null),S=v1(N=>{if(m&&!r)return zz;if(!N||N===zz||p.current!==t||a!=null){const k=new Map;for(let j of t){if(!j)continue;if(a&&a.length>0&&!a.includes(j.id)&&j.rect.current){k.set(j.id,j.rect.current);continue}const $=j.node.current,I=$?new YN(d($),$):null;j.rect.current=I,I&&k.set(j.id,I)}return k}return N},[t,a,r,m,d]);return P.useEffect(()=>{p.current=t},[t]),P.useEffect(()=>{m||b()},[r,m]),P.useEffect(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),P.useEffect(()=>{m||typeof l!="number"||T.current!==null||(T.current=setTimeout(()=>{b(),T.current=null},l))},[l,m,b,...n]),{droppableRects:S,measureDroppableContainers:b,measuringScheduled:a!=null};function w(){switch(h){case Rg.Always:return!1;case Rg.BeforeDragging:return r;default:return!r}}}function e9(t,e){return v1(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function sSe(t,e){return e9(t,e)}function oSe(t){let{callback:e,disabled:r}=t;const n=a4(e),i=P.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return P.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function o4(t){let{callback:e,disabled:r}=t;const n=a4(e),i=P.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return P.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function lSe(t){return new YN(b1(t),t)}function $z(t,e,r){e===void 0&&(e=lSe);const[n,i]=P.useState(null);function a(){i(d=>{if(!t)return null;if(t.isConnected===!1){var h;return(h=d??r)!=null?h:null}const p=e(t);return JSON.stringify(d)===JSON.stringify(p)?d:p})}const s=oSe({callback(d){if(t)for(const h of d){const{type:p,target:m}=h;if(p==="childList"&&m instanceof HTMLElement&&m.contains(t)){a();break}}}}),l=o4({callback:a});return Wl(()=>{a(),t?(l==null||l.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),s==null||s.disconnect())},[t]),n}function cSe(t){const e=e9(t);return SX(t,e)}const Vz=[];function uSe(t){const e=P.useRef(t),r=v1(n=>t?n&&n!==Vz&&t&&e.current&&t.parentNode===e.current.parentNode?n:QN(t):Vz,[t]);return P.useEffect(()=>{e.current=t},[t]),r}function dSe(t){const[e,r]=P.useState(null),n=P.useRef(t),i=P.useCallback(a=>{const s=lT(a.target);s&&r(l=>l?(l.set(s,V8(s)),new Map(l)):null)},[]);return P.useEffect(()=>{const a=n.current;if(t!==a){s(a);const l=t.map(d=>{const h=lT(d);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,V8(h)]):null}).filter(d=>d!=null);r(l.length?new Map(l):null),n.current=t}return()=>{s(t),s(a)};function s(l){l.forEach(d=>{const h=lT(d);h==null||h.removeEventListener("scroll",i)})}},[i,t]),P.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,s)=>vh(a,s),oo):kX(t):oo,[t,e])}function Fz(t,e){e===void 0&&(e=[]);const r=P.useRef(null);return P.useEffect(()=>{r.current=null},e),P.useEffect(()=>{const n=t!==oo;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?kx(t,r.current):oo}function hSe(t){P.useEffect(()=>{if(!i4)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function fSe(t,e){return P.useMemo(()=>t.reduce((r,n)=>{let{eventName:i,handler:a}=n;return r[i]=s=>{a(s,e)},r},{}),[t,e])}function PX(t){return P.useMemo(()=>t?U_e(t):null,[t])}const qz=[];function pSe(t,e){e===void 0&&(e=b1);const[r]=t,n=PX(r?xa(r):null),[i,a]=P.useState(qz);function s(){a(()=>t.length?t.map(d=>CX(d)?n:new YN(e(d),d)):qz)}const l=o4({callback:s});return Wl(()=>{l==null||l.disconnect(),s(),t.forEach(d=>l==null?void 0:l.observe(d))},[t]),i}function DX(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return y1(e)?e:t}function mSe(t){let{measure:e}=t;const[r,n]=P.useState(null),i=P.useCallback(h=>{for(const{target:p}of h)if(y1(p)){n(m=>{const y=e(p);return m?{...m,width:y.width,height:y.height}:y});break}},[e]),a=o4({callback:i}),s=P.useCallback(h=>{const p=DX(h);a==null||a.disconnect(),p&&(a==null||a.observe(p)),n(p?e(p):null)},[e,a]),[l,d]=Cx(s);return P.useMemo(()=>({nodeRef:l,rect:r,setRef:d}),[r,l,d])}const gSe=[{sensor:JN,options:{}},{sensor:RX,options:{}}],ySe={current:{}},Fv={draggable:{measure:Dz},droppable:{measure:Dz,strategy:Rg.WhileDragging,frequency:q8.Optimized},dragOverlay:{measure:b1}};class wm extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const vSe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new wm,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ox},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Fv,measureDroppableContainers:Ox,windowRect:null,measuringScheduled:!1},LX={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ox,draggableNodes:new Map,over:null,measureDroppableContainers:Ox},x1=P.createContext(LX),BX=P.createContext(vSe);function bSe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new wm}}}function xSe(t,e){switch(e.type){case hi.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case hi.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case hi.DragEnd:case hi.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case hi.RegisterDroppable:{const{element:r}=e,{id:n}=r,i=new wm(t.droppable.containers);return i.set(n,r),{...t,droppable:{...t.droppable,containers:i}}}case hi.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=e,a=t.droppable.containers.get(r);if(!a||n!==a.key)return t;const s=new wm(t.droppable.containers);return s.set(r,{...a,disabled:i}),{...t,droppable:{...t.droppable,containers:s}}}case hi.UnregisterDroppable:{const{id:r,key:n}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;const a=new wm(t.droppable.containers);return a.delete(r),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function wSe(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:i}=P.useContext(x1),a=jx(n),s=jx(r==null?void 0:r.id);return P.useEffect(()=>{if(!e&&!n&&a&&s!=null){if(!XN(a)||document.activeElement===a.target)return;const l=i.get(s);if(!l)return;const{activatorNode:d,node:h}=l;if(!d.current&&!h.current)return;requestAnimationFrame(()=>{for(const p of[d.current,h.current]){if(!p)continue;const m=m_e(p);if(m){m.focus();break}}})}},[n,e,i,s,a]),null}function UX(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((i,a)=>a({transform:i,...n}),r):r}function _Se(t){return P.useMemo(()=>({draggable:{...Fv.draggable,...t==null?void 0:t.draggable},droppable:{...Fv.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Fv.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function SSe(t){let{activeNode:e,measure:r,initialRect:n,config:i=!0}=t;const a=P.useRef(!1),{x:s,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Wl(()=>{if(!s&&!l||!e){a.current=!1;return}if(a.current||!n)return;const h=e==null?void 0:e.node.current;if(!h||h.isConnected===!1)return;const p=r(h),m=SX(p,n);if(s||(m.x=0),l||(m.y=0),a.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const y=AX(h);y&&y.scrollBy({top:m.y,left:m.x})}},[e,s,l,n,r])}const l4=P.createContext({...oo,scaleX:1,scaleY:1});var Bc;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Bc||(Bc={}));const TSe=P.memo(function(e){var r,n,i,a;let{id:s,accessibility:l,autoScroll:d=!0,children:h,sensors:p=gSe,collisionDetection:m=R_e,measuring:y,modifiers:b,...T}=e;const S=P.useReducer(xSe,void 0,bSe),[w,N]=S,[k,j]=w_e(),[$,I]=P.useState(Bc.Uninitialized),L=$===Bc.Initialized,{draggable:{active:E,nodes:A,translate:R},droppable:{containers:F}}=w,D=E!=null?A.get(E):null,B=P.useRef({initial:null,translated:null}),M=P.useMemo(()=>{var kr;return E!=null?{id:E,data:(kr=D==null?void 0:D.data)!=null?kr:ySe,rect:B}:null},[E,D]),Q=P.useRef(null),[Z,W]=P.useState(null),[J,Y]=P.useState(null),ge=kg(T,Object.values(T)),ce=s4("DndDescribedBy",s),X=P.useMemo(()=>F.getEnabled(),[F]),te=_Se(y),{droppableRects:ue,measureDroppableContainers:oe,measuringScheduled:ae}=aSe(X,{dragging:L,dependencies:[R.x,R.y],config:te.droppable}),pe=nSe(A,E),ye=P.useMemo(()=>J?Og(J):null,[J]),Xe=jr(),Ne=sSe(pe,te.draggable.measure);SSe({activeNode:E!=null?A.get(E):null,config:Xe.layoutShiftCompensation,initialRect:Ne,measure:te.draggable.measure});const le=$z(pe,te.draggable.measure,Ne),je=$z(pe?pe.parentElement:null),we=P.useRef({activatorEvent:null,active:null,activeNode:pe,collisionRect:null,collisions:null,droppableRects:ue,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ut=F.getNodeFor((r=we.current.over)==null?void 0:r.id),Ge=mSe({measure:te.dragOverlay.measure}),lt=(n=Ge.nodeRef.current)!=null?n:pe,it=L?(i=Ge.rect)!=null?i:le:null,Rt=!!(Ge.nodeRef.current&&Ge.rect),Oe=cSe(Rt?null:le),at=PX(lt?xa(lt):null),ht=uSe(L?ut??pe:null),de=pSe(ht),Ue=UX(b,{transform:{x:R.x-Oe.x,y:R.y-Oe.y,scaleX:1,scaleY:1},activatorEvent:J,active:M,activeNodeRect:le,containerNodeRect:je,draggingNodeRect:it,over:we.current.over,overlayNodeRect:Ge.rect,scrollableAncestors:ht,scrollableAncestorRects:de,windowRect:at}),ne=ye?vh(ye,R):null,De=dSe(ht),Ye=Fz(De),et=Fz(De,[le]),Qe=vh(Ue,Ye),Fe=it?D_e(it,Ue):null,mt=M&&Fe?m({active:M,collisionRect:Fe,droppableRects:ue,droppableContainers:X,pointerCoordinates:ne}):null,_t=k_e(mt,"id"),[en,mn]=P.useState(null),Sn=Rt?Ue:vh(Ue,et),Kt=M_e(Sn,(a=en==null?void 0:en.rect)!=null?a:null,le),qt=P.useRef(null),Ht=P.useCallback((kr,Ar)=>{let{sensor:Mt,options:tn}=Ar;if(Q.current==null)return;const Tn=A.get(Q.current);if(!Tn)return;const gn=kr.nativeEvent,rn=new Mt({active:Q.current,activeNode:Tn,event:gn,options:tn,context:we,onAbort(Xt){if(!A.get(Xt))return;const{onDragAbort:Xr}=ge.current,yn={id:Xt};Xr==null||Xr(yn),k({type:"onDragAbort",event:yn})},onPending(Xt,bi,Xr,yn){if(!A.get(Xt))return;const{onDragPending:Or}=ge.current,nn={id:Xt,constraint:bi,initialCoordinates:Xr,offset:yn};Or==null||Or(nn),k({type:"onDragPending",event:nn})},onStart(Xt){const bi=Q.current;if(bi==null)return;const Xr=A.get(bi);if(!Xr)return;const{onDragStart:yn}=ge.current,aa={activatorEvent:gn,active:{id:bi,data:Xr.data,rect:B}};Jp.unstable_batchedUpdates(()=>{yn==null||yn(aa),I(Bc.Initializing),N({type:hi.DragStart,initialCoordinates:Xt,active:bi}),k({type:"onDragStart",event:aa}),W(qt.current),Y(gn)})},onMove(Xt){N({type:hi.DragMove,coordinates:Xt})},onEnd:zr(hi.DragEnd),onCancel:zr(hi.DragCancel)});qt.current=rn;function zr(Xt){return async function(){const{active:Xr,collisions:yn,over:aa,scrollAdjustedTranslate:Or}=we.current;let nn=null;if(Xr&&Or){const{cancelDrop:Ki}=ge.current;nn={activatorEvent:gn,active:Xr,collisions:yn,delta:Or,over:aa},Xt===hi.DragEnd&&typeof Ki=="function"&&await Promise.resolve(Ki(nn))&&(Xt=hi.DragCancel)}Q.current=null,Jp.unstable_batchedUpdates(()=>{N({type:Xt}),I(Bc.Uninitialized),mn(null),W(null),Y(null),qt.current=null;const Ki=Xt===hi.DragEnd?"onDragEnd":"onDragCancel";if(nn){const Wn=ge.current[Ki];Wn==null||Wn(nn),k({type:Ki,event:nn})}})}}},[A]),oi=P.useCallback((kr,Ar)=>(Mt,tn)=>{const Tn=Mt.nativeEvent,gn=A.get(tn);if(Q.current!==null||!gn||Tn.dndKit||Tn.defaultPrevented)return;const rn={active:gn};kr(Mt,Ar.options,rn)===!0&&(Tn.dndKit={capturedBy:Ar.sensor},Q.current=tn,Ht(Mt,Ar))},[A,Ht]),li=iSe(p,oi);hSe(p),Wl(()=>{le&&$===Bc.Initializing&&I(Bc.Initialized)},[le,$]),P.useEffect(()=>{const{onDragMove:kr}=ge.current,{active:Ar,activatorEvent:Mt,collisions:tn,over:Tn}=we.current;if(!Ar||!Mt)return;const gn={active:Ar,activatorEvent:Mt,collisions:tn,delta:{x:Qe.x,y:Qe.y},over:Tn};Jp.unstable_batchedUpdates(()=>{kr==null||kr(gn),k({type:"onDragMove",event:gn})})},[Qe.x,Qe.y]),P.useEffect(()=>{const{active:kr,activatorEvent:Ar,collisions:Mt,droppableContainers:tn,scrollAdjustedTranslate:Tn}=we.current;if(!kr||Q.current==null||!Ar||!Tn)return;const{onDragOver:gn}=ge.current,rn=tn.get(_t),zr=rn&&rn.rect.current?{id:rn.id,rect:rn.rect.current,data:rn.data,disabled:rn.disabled}:null,Xt={active:kr,activatorEvent:Ar,collisions:Mt,delta:{x:Tn.x,y:Tn.y},over:zr};Jp.unstable_batchedUpdates(()=>{mn(zr),gn==null||gn(Xt),k({type:"onDragOver",event:Xt})})},[_t]),Wl(()=>{we.current={activatorEvent:J,active:M,activeNode:pe,collisionRect:Fe,collisions:mt,droppableRects:ue,draggableNodes:A,draggingNode:lt,draggingNodeRect:it,droppableContainers:F,over:en,scrollableAncestors:ht,scrollAdjustedTranslate:Qe},B.current={initial:it,translated:Fe}},[M,pe,mt,Fe,A,lt,it,ue,F,en,ht,Qe]),eSe({...Xe,delta:R,draggingRect:Fe,pointerCoordinates:ne,scrollableAncestors:ht,scrollableAncestorRects:de});const wa=P.useMemo(()=>({active:M,activeNode:pe,activeNodeRect:le,activatorEvent:J,collisions:mt,containerNodeRect:je,dragOverlay:Ge,draggableNodes:A,droppableContainers:F,droppableRects:ue,over:en,measureDroppableContainers:oe,scrollableAncestors:ht,scrollableAncestorRects:de,measuringConfiguration:te,measuringScheduled:ae,windowRect:at}),[M,pe,le,J,mt,je,Ge,A,F,ue,en,oe,ht,de,te,ae,at]),Mi=P.useMemo(()=>({activatorEvent:J,activators:li,active:M,activeNodeRect:le,ariaDescribedById:{draggable:ce},dispatch:N,draggableNodes:A,over:en,measureDroppableContainers:oe}),[J,li,M,le,N,ce,A,en,oe]);return ee.createElement(_X.Provider,{value:j},ee.createElement(x1.Provider,{value:Mi},ee.createElement(BX.Provider,{value:wa},ee.createElement(l4.Provider,{value:Kt},h)),ee.createElement(wSe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),ee.createElement(T_e,{...l,hiddenTextDescribedById:ce}));function jr(){const kr=(Z==null?void 0:Z.autoScrollEnabled)===!1,Ar=typeof d=="object"?d.enabled===!1:d===!1,Mt=L&&!kr&&!Ar;return typeof d=="object"?{...d,enabled:Mt}:{enabled:Mt}}}),ASe=P.createContext(null),Hz="button",ESe="Draggable";function zX(t){let{id:e,data:r,disabled:n=!1,attributes:i}=t;const a=s4(ESe),{activators:s,activatorEvent:l,active:d,activeNodeRect:h,ariaDescribedById:p,draggableNodes:m,over:y}=P.useContext(x1),{role:b=Hz,roleDescription:T="draggable",tabIndex:S=0}=i??{},w=(d==null?void 0:d.id)===e,N=P.useContext(w?l4:ASe),[k,j]=Cx(),[$,I]=Cx(),L=fSe(s,e),E=kg(r);Wl(()=>(m.set(e,{id:e,key:a,node:k,activatorNode:$,data:E}),()=>{const R=m.get(e);R&&R.key===a&&m.delete(e)}),[m,e]);const A=P.useMemo(()=>({role:b,tabIndex:S,"aria-disabled":n,"aria-pressed":w&&b===Hz?!0:void 0,"aria-roledescription":T,"aria-describedby":p.draggable}),[n,b,S,w,T,p.draggable]);return{active:d,activatorEvent:l,activeNodeRect:h,attributes:A,isDragging:w,listeners:n?void 0:L,node:k,over:y,setNodeRef:j,setActivatorNodeRef:I,transform:N}}function NSe(){return P.useContext(BX)}const CSe="Droppable",jSe={timeout:25};function t9(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:i}=t;const a=s4(CSe),{active:s,dispatch:l,over:d,measureDroppableContainers:h}=P.useContext(x1),p=P.useRef({disabled:r}),m=P.useRef(!1),y=P.useRef(null),b=P.useRef(null),{disabled:T,updateMeasurementsFor:S,timeout:w}={...jSe,...i},N=kg(S??n),k=P.useCallback(()=>{if(!m.current){m.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{h(Array.isArray(N.current)?N.current:[N.current]),b.current=null},w)},[w]),j=o4({callback:k,disabled:T||!s}),$=P.useCallback((A,R)=>{j&&(R&&(j.unobserve(R),m.current=!1),A&&j.observe(A))},[j]),[I,L]=Cx($),E=kg(e);return P.useEffect(()=>{!j||!I.current||(j.disconnect(),m.current=!1,j.observe(I.current))},[I,j]),P.useEffect(()=>(l({type:hi.RegisterDroppable,element:{id:n,key:a,disabled:r,node:I,rect:y,data:E}}),()=>l({type:hi.UnregisterDroppable,key:a,id:n})),[n]),P.useEffect(()=>{r!==p.current.disabled&&(l({type:hi.SetDroppableDisabled,id:n,key:a,disabled:r}),p.current.disabled=r)},[n,a,r,l]),{active:s,rect:y,isOver:(d==null?void 0:d.id)===n,node:I,over:d,setNodeRef:L}}function kSe(t){let{animation:e,children:r}=t;const[n,i]=P.useState(null),[a,s]=P.useState(null),l=jx(r);return!r&&!n&&l&&i(l),Wl(()=>{if(!a)return;const d=n==null?void 0:n.key,h=n==null?void 0:n.props.id;if(d==null||h==null){i(null);return}Promise.resolve(e(h,a)).then(()=>{i(null)})},[e,n,a]),ee.createElement(ee.Fragment,null,r,n?P.cloneElement(n,{ref:s}):null)}const OSe={x:0,y:0,scaleX:1,scaleY:1};function ISe(t){let{children:e}=t;return ee.createElement(x1.Provider,{value:LX},ee.createElement(l4.Provider,{value:OSe},e))}const RSe={position:"fixed",touchAction:"none"},MSe=t=>XN(t)?"transform 250ms ease":void 0,PSe=P.forwardRef((t,e)=>{let{as:r,activatorEvent:n,adjustScale:i,children:a,className:s,rect:l,style:d,transform:h,transition:p=MSe}=t;if(!l)return null;const m=i?h:{...h,scaleX:1,scaleY:1},y={...RSe,width:l.width,height:l.height,top:l.top,left:l.left,transform:Ig.Transform.toString(m),transformOrigin:i&&n?N_e(n,l):void 0,transition:typeof p=="function"?p(n):p,...d};return ee.createElement(r,{className:s,style:y,ref:e},a)}),DSe=t=>e=>{let{active:r,dragOverlay:n}=e;const i={},{styles:a,className:s}=t;if(a!=null&&a.active)for(const[l,d]of Object.entries(a.active))d!==void 0&&(i[l]=r.node.style.getPropertyValue(l),r.node.style.setProperty(l,d));if(a!=null&&a.dragOverlay)for(const[l,d]of Object.entries(a.dragOverlay))d!==void 0&&n.node.style.setProperty(l,d);return s!=null&&s.active&&r.node.classList.add(s.active),s!=null&&s.dragOverlay&&n.node.classList.add(s.dragOverlay),function(){for(const[d,h]of Object.entries(i))r.node.style.setProperty(d,h);s!=null&&s.active&&r.node.classList.remove(s.active)}},LSe=t=>{let{transform:{initial:e,final:r}}=t;return[{transform:Ig.Transform.toString(e)},{transform:Ig.Transform.toString(r)}]},BSe={duration:250,easing:"ease",keyframes:LSe,sideEffects:DSe({styles:{active:{opacity:"0"}}})};function USe(t){let{config:e,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=t;return a4((a,s)=>{if(e===null)return;const l=r.get(a);if(!l)return;const d=l.node.current;if(!d)return;const h=DX(s);if(!h)return;const{transform:p}=xa(s).getComputedStyle(s),m=TX(p);if(!m)return;const y=typeof e=="function"?e:zSe(e);return OX(d,i.draggable.measure),y({active:{id:a,data:l.data,node:d,rect:i.draggable.measure(d)},draggableNodes:r,dragOverlay:{node:s,rect:i.dragOverlay.measure(h)},droppableContainers:n,measuringConfiguration:i,transform:m})})}function zSe(t){const{duration:e,easing:r,sideEffects:n,keyframes:i}={...BSe,...t};return a=>{let{active:s,dragOverlay:l,transform:d,...h}=a;if(!e)return;const p={x:l.rect.left-s.rect.left,y:l.rect.top-s.rect.top},m={scaleX:d.scaleX!==1?s.rect.width*d.scaleX/l.rect.width:1,scaleY:d.scaleY!==1?s.rect.height*d.scaleY/l.rect.height:1},y={x:d.x-p.x,y:d.y-p.y,...m},b=i({...h,active:s,dragOverlay:l,transform:{initial:d,final:y}}),[T]=b,S=b[b.length-1];if(JSON.stringify(T)===JSON.stringify(S))return;const w=n==null?void 0:n({active:s,dragOverlay:l,...h}),N=l.node.animate(b,{duration:e,easing:r,fill:"forwards"});return new Promise(k=>{N.onfinish=()=>{w==null||w(),k()}})}}let Gz=0;function $Se(t){return P.useMemo(()=>{if(t!=null)return Gz++,Gz},[t])}const VSe=ee.memo(t=>{let{adjustScale:e=!1,children:r,dropAnimation:n,style:i,transition:a,modifiers:s,wrapperElement:l="div",className:d,zIndex:h=999}=t;const{activatorEvent:p,active:m,activeNodeRect:y,containerNodeRect:b,draggableNodes:T,droppableContainers:S,dragOverlay:w,over:N,measuringConfiguration:k,scrollableAncestors:j,scrollableAncestorRects:$,windowRect:I}=NSe(),L=P.useContext(l4),E=$Se(m==null?void 0:m.id),A=UX(s,{activatorEvent:p,active:m,activeNodeRect:y,containerNodeRect:b,draggingNodeRect:w.rect,over:N,overlayNodeRect:w.rect,scrollableAncestors:j,scrollableAncestorRects:$,transform:L,windowRect:I}),R=e9(y),F=USe({config:n,draggableNodes:T,droppableContainers:S,measuringConfiguration:k}),D=R?w.setRef:void 0;return ee.createElement(ISe,null,ee.createElement(kSe,{animation:F},m&&E?ee.createElement(PSe,{key:E,id:m.id,ref:D,as:l,activatorEvent:p,adjustScale:e,className:d,transition:a,rect:R,style:{zIndex:h,...i},transform:A},r):null))});function Kz(t,e=800){const[r,n]=P.useState(t),i=P.useRef(t),a=P.useRef(0);return P.useEffect(()=>{const s=i.current,l=t;if(i.current=t,s===l)return;const d=performance.now(),h=l-s,p=m=>{const y=m-d,b=Math.min(y/e,1),T=1-Math.pow(1-b,3);n(Math.round(s+h*T)),b<1&&(a.current=requestAnimationFrame(p))};return a.current=requestAnimationFrame(p),()=>cancelAnimationFrame(a.current)},[t,e]),r}const $X=["#FDDCB5","#F1C27D","#E0A370","#C68642","#A0785A","#8D5524","#6B3A2A","#4A2511"],VX=["#1a1a2e","#4a3728","#8B6914","#D4A017","#C0392B","#D5D5D5","#3498DB","#8E44AD"],FSe=["Buzz Cut","Short Crop","Side Part","Long Flow","Ponytail","Spiky"],Wz={COMMON:{primary:"#64748b",glow:"rgba(100,116,139,0.3)",particle:"#94a3b8",intensity:.3},UNCOMMON:{primary:"#22c55e",glow:"rgba(34,197,94,0.4)",particle:"#4ade80",intensity:.5},RARE:{primary:"#3b82f6",glow:"rgba(59,130,246,0.5)",particle:"#60a5fa",intensity:.7},UNIQUE:{primary:"#f59e0b",glow:"rgba(245,158,11,0.6)",particle:"#fbbf24",intensity:.9}},X0=t=>t?Wz[t.rarity]||Wz.COMMON:null,qSe=(t,e)=>{const n=100-e,i=100+e;switch(t){case 0:return{main:`M${n+2} 40 Q${n} 30 100 26 Q${i} 30 ${i-2} 40 Q${i-4} 33 100 30 Q${n+4} 33 ${n+2} 40`};case 1:return{main:`M${n} 44 Q${n-1} 28 100 22 Q${i+1} 28 ${i} 44 Q${i-2} 32 100 28 Q${n+2} 32 ${n} 44`};case 2:return{main:`M${n} 46 Q${n-2} 26 95 20 Q${i+3} 22 ${i+1} 46 Q${i-1} 30 100 26 Q${n+2} 28 ${n} 46`,accent:`M${n-1} 44 Q${n-4} 38 ${n-2} 52`};case 3:return{back:`M${n-3} 44 Q${n-6} 55 ${n-4} 85 Q${n-2} 92 ${n+4} 88 L${n+2} 46 Z`,main:`M${n} 46 Q${n-2} 24 100 18 Q${i+2} 24 ${i} 46 Q${i-2} 30 100 25 Q${n+2} 30 ${n} 46`,accent:`M${i+3} 44 Q${i+6} 55 ${i+4} 85 Q${i+2} 92 ${i-4} 88 L${i-2} 46 Z`};case 4:return{main:`M${n} 44 Q${n-1} 26 100 22 Q${i+1} 26 ${i} 44 Q${i-2} 32 100 28 Q${n+2} 32 ${n} 44`,back:"M104 32 Q108 30 110 38 Q114 60 108 82 Q104 86 102 78 Q106 62 106 42 Z"};case 5:return{main:`M${n} 44 Q${n-1} 28 100 22 Q${i+1} 28 ${i} 44 Q${i-2} 32 100 28 Q${n+2} 32 ${n} 44`,accent:"M88 32 L84 12 L94 26 L96 8 L102 24 L106 6 L108 26 L116 10 L112 32"};default:return{main:`M${n} 44 Q${n-1} 28 100 22 Q${i+1} 28 ${i} 44 Q${i-2} 32 100 28 Q${n+2} 32 ${n} 44`}}},Rx=({equipped:t,appearance:e,evolutionLevel:r=1,activeCosmetic:n,cosmeticColor:i})=>{const a=(e==null?void 0:e.hue)||0,s=(e==null?void 0:e.bodyType)||"A",l=s==="B",d=s==="C",h=$X[(e==null?void 0:e.skinTone)??0],p=VX[(e==null?void 0:e.hairColor)??0],m=(e==null?void 0:e.hairStyle)??1,y=h+"99",b=t==null?void 0:t.HEAD,T=t==null?void 0:t.CHEST,S=t==null?void 0:t.HANDS,w=t==null?void 0:t.FEET,N=t==null?void 0:t.BELT,k=t==null?void 0:t.AMULET,j=P.useMemo(()=>[b,T,S,w,N,k].filter(Boolean).length,[b,T,S,w,N,k]),$=P.useMemo(()=>[b,T,S,w,N,k].some(A=>(A==null?void 0:A.rarity)==="UNIQUE"),[b,T,S,w,N,k]),I=Math.min(1,.2+j*.13),L=l?23:21,E=P.useMemo(()=>qSe(m,L),[m,L]);return u.jsxs("svg",{viewBox:"0 0 200 340",className:"w-full h-full",style:{filter:"drop-shadow(0 4px 20px rgba(0,0,0,0.25))"},children:[u.jsxs("defs",{children:[u.jsxs("filter",{id:"av-glow",x:"-30%",y:"-30%",width:"160%",height:"160%",children:[u.jsx("feGaussianBlur",{stdDeviation:"3",result:"b"}),u.jsx("feComposite",{in:"SourceGraphic",in2:"b",operator:"over"})]}),u.jsxs("filter",{id:"av-soft",x:"-10%",y:"-10%",width:"120%",height:"120%",children:[u.jsx("feGaussianBlur",{stdDeviation:"1.5",result:"b"}),u.jsx("feComposite",{in:"SourceGraphic",in2:"b",operator:"over"})]}),u.jsxs("filter",{id:"av-bloom",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[u.jsx("feGaussianBlur",{stdDeviation:"6",result:"b"}),u.jsx("feComposite",{in:"SourceGraphic",in2:"b",operator:"over"})]}),u.jsxs("linearGradient",{id:"av-outfit",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"0%",stopColor:`hsl(${a+240}, 20%, 20%)`}),u.jsx("stop",{offset:"100%",stopColor:`hsl(${a+240}, 18%, 12%)`})]}),u.jsxs("linearGradient",{id:"av-hl",x1:"0",y1:"0",x2:"1",y2:"1",children:[u.jsx("stop",{offset:"0%",stopColor:`hsla(${a+240}, 30%, 35%, 0.2)`}),u.jsx("stop",{offset:"100%",stopColor:"transparent"})]}),u.jsxs("linearGradient",{id:"av-pants",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"0%",stopColor:`hsl(${a+240}, 15%, 16%)`}),u.jsx("stop",{offset:"100%",stopColor:`hsl(${a+240}, 12%, 10%)`})]}),u.jsxs("radialGradient",{id:"av-face",cx:"45%",cy:"40%",r:"55%",children:[u.jsx("stop",{offset:"0%",stopColor:h}),u.jsx("stop",{offset:"100%",stopColor:y})]}),u.jsxs("radialGradient",{id:"av-energy",cx:"50%",cy:"50%",r:"50%",children:[u.jsx("stop",{offset:"0%",stopColor:`hsl(${a+180}, 100%, 70%)`,stopOpacity:I}),u.jsx("stop",{offset:"60%",stopColor:`hsl(${a+200}, 80%, 50%)`,stopOpacity:I*.3}),u.jsx("stop",{offset:"100%",stopColor:"transparent",stopOpacity:"0"})]}),u.jsxs("linearGradient",{id:"av-hair",x1:"0",y1:"0",x2:"0.3",y2:"1",children:[u.jsx("stop",{offset:"0%",stopColor:p}),u.jsx("stop",{offset:"100%",stopColor:p+"cc"})]})]}),u.jsx("ellipse",{cx:"100",cy:"326",rx:"42",ry:"5",fill:"rgba(0,0,0,0.3)",children:u.jsx("animate",{attributeName:"rx",values:"42;39;42",dur:"3.5s",repeatCount:"indefinite"})}),u.jsxs("g",{children:[u.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-1.5;0,0",dur:"3.5s",repeatCount:"indefinite"}),r>=30&&u.jsxs("g",{filter:"url(#av-bloom)",children:[u.jsx("path",{d:r>=50?"M58 105 Q18 60 28 25 Q38 50 52 72 Q32 58 22 38 Q36 56 52 82 Z":"M60 115 Q32 82 40 55 Q47 72 56 88 Z",fill:r>=50?"rgba(251,191,36,0.12)":"rgba(139,92,246,0.1)",stroke:r>=50?"#fbbf24":"#a78bfa",strokeWidth:"0.5",strokeOpacity:"0.4",children:u.jsx("animate",{attributeName:"opacity",values:"0.8;0.4;0.8",dur:"3s",repeatCount:"indefinite"})}),u.jsx("path",{d:r>=50?"M142 105 Q182 60 172 25 Q162 50 148 72 Q168 58 178 38 Q164 56 148 82 Z":"M140 115 Q168 82 160 55 Q153 72 144 88 Z",fill:r>=50?"rgba(251,191,36,0.12)":"rgba(139,92,246,0.1)",stroke:r>=50?"#fbbf24":"#a78bfa",strokeWidth:"0.5",strokeOpacity:"0.4",children:u.jsx("animate",{attributeName:"opacity",values:"0.4;0.8;0.4",dur:"3s",repeatCount:"indefinite"})})]}),u.jsx("path",{d:d?"M82 200 L80 270 Q80 282 87 282 L94 282 Q98 282 97 276 L94 200":l?"M80 198 L78 272 Q78 282 86 282 L94 282 Q98 282 97 276 L93 198":"M82 198 L79 270 Q79 282 86 282 L94 282 Q99 282 98 276 L94 198",fill:"url(#av-pants)",stroke:`hsl(${a+240},15%,22%)`,strokeWidth:"0.8"}),u.jsx("path",{d:d?"M106 200 L104 270 Q104 282 111 282 L118 282 Q122 282 121 276 L120 200":l?"M107 198 L105 272 Q105 282 112 282 L120 282 Q124 282 123 276 L121 198":"M106 198 L103 270 Q103 282 110 282 L118 282 Q123 282 122 276 L120 198",fill:"url(#av-pants)",stroke:`hsl(${a+240},15%,22%)`,strokeWidth:"0.8"}),w?(()=>{const A=X0(w);return u.jsxs("g",{filter:A.intensity>.5?"url(#av-soft)":void 0,children:[u.jsx("path",{d:"M76 270 L74 282 Q72 292 82 292 L96 292 Q100 292 98 284 L96 270",fill:A.primary,stroke:A.particle,strokeWidth:"0.8",strokeOpacity:"0.6"}),u.jsx("path",{d:"M102 270 L100 282 Q98 292 108 292 L122 292 Q126 292 124 284 L122 270",fill:A.primary,stroke:A.particle,strokeWidth:"0.8",strokeOpacity:"0.6"}),u.jsx("line",{x1:"78",y1:"276",x2:"96",y2:"276",stroke:A.particle,strokeWidth:"1.5",strokeOpacity:"0.5"}),u.jsx("line",{x1:"104",y1:"276",x2:"122",y2:"276",stroke:A.particle,strokeWidth:"1.5",strokeOpacity:"0.5"}),A.intensity>=.7&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:"80",y1:"284",x2:"94",y2:"284",stroke:A.particle,strokeWidth:"0.6",strokeOpacity:"0.4",children:u.jsx("animate",{attributeName:"strokeOpacity",values:"0.4;0.1;0.4",dur:"2s",repeatCount:"indefinite"})}),u.jsx("line",{x1:"106",y1:"284",x2:"120",y2:"284",stroke:A.particle,strokeWidth:"0.6",strokeOpacity:"0.4",children:u.jsx("animate",{attributeName:"strokeOpacity",values:"0.1;0.4;0.1",dur:"2s",repeatCount:"indefinite"})})]})]})})():u.jsxs("g",{children:[u.jsx("path",{d:"M76 270 L74 282 Q72 290 82 290 L96 290 Q100 290 98 282 L96 270",fill:`hsl(${a+240},12%,14%)`,stroke:`hsl(${a+240},10%,20%)`,strokeWidth:"0.5"}),u.jsx("path",{d:"M102 270 L100 282 Q98 290 108 290 L122 290 Q126 290 124 282 L122 270",fill:`hsl(${a+240},12%,14%)`,stroke:`hsl(${a+240},10%,20%)`,strokeWidth:"0.5"})]}),u.jsx("path",{d:d?"M70 88 Q100 82 130 88 L122 140 L128 200 Q100 208 72 200 L78 140 Z":l?"M64 88 Q100 82 136 88 L128 200 Q100 206 72 200 Z":"M68 88 Q100 82 132 88 L126 200 Q100 206 74 200 Z",fill:"url(#av-outfit)",stroke:`hsl(${a+240},18%,25%)`,strokeWidth:"1"}),u.jsx("path",{d:d?"M70 88 Q100 82 100 88 L100 200 Q86 204 72 200 L78 140 Z":l?"M64 88 Q100 82 100 88 L100 200 Q86 203 72 200 Z":"M68 88 Q100 82 100 88 L100 200 Q86 204 74 200 Z",fill:"url(#av-hl)"}),u.jsx("path",{d:"M88 88 L100 105 L112 88",fill:h}),u.jsx("path",{d:"M86 87 L100 106 L114 87",fill:"none",stroke:`hsl(${a+240},20%,28%)`,strokeWidth:"1.2"}),u.jsx("line",{x1:"100",y1:"106",x2:"100",y2:"195",stroke:`hsla(${a+180},30%,40%,0.08)`,strokeWidth:"0.5"}),T&&(()=>{const A=X0(T);return u.jsxs("g",{filter:A.intensity>.5?"url(#av-soft)":void 0,children:[u.jsx("path",{d:d?"M72 92 Q100 86 128 92 L122 175 Q100 180 78 175 Z":l?"M70 92 Q100 86 130 92 L126 175 Q100 180 74 175 Z":"M72 92 Q100 86 128 92 L124 175 Q100 180 76 175 Z",fill:A.primary,fillOpacity:"0.3",stroke:A.primary,strokeWidth:"1",strokeOpacity:"0.6"}),u.jsx("path",{d:`M${d?70:l?64:68} 88 Q${d?62:l?56:60} 86 ${d?62:l?56:60} 96 L${d?72:l?66:70} 100`,fill:A.primary,fillOpacity:"0.5",stroke:A.particle,strokeWidth:"0.5"}),u.jsx("path",{d:`M${d?130:l?136:132} 88 Q${d?138:l?144:140} 86 ${d?138:l?144:140} 96 L${d?128:l?134:130} 100`,fill:A.primary,fillOpacity:"0.5",stroke:A.particle,strokeWidth:"0.5"}),u.jsx("line",{x1:"80",y1:"115",x2:"120",y2:"115",stroke:A.particle,strokeWidth:"0.8",strokeOpacity:"0.3"}),u.jsx("line",{x1:"82",y1:"140",x2:"118",y2:"140",stroke:A.particle,strokeWidth:"0.8",strokeOpacity:"0.2"}),u.jsx("circle",{cx:"100",cy:"120",r:"5",fill:"none",stroke:A.primary,strokeWidth:"1.2",strokeOpacity:"0.7"}),u.jsx("circle",{cx:"100",cy:"120",r:"2",fill:A.particle,fillOpacity:"0.7",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.7;0.3;0.7",dur:"2s",repeatCount:"indefinite"})}),A.intensity>=.7&&u.jsxs("g",{children:[u.jsx("line",{x1:"88",y1:"100",x2:"82",y2:"165",stroke:A.particle,strokeWidth:"0.5",strokeOpacity:"0.2",strokeDasharray:"3 4",children:u.jsx("animate",{attributeName:"strokeDashoffset",values:"0;-14",dur:"2s",repeatCount:"indefinite"})}),u.jsx("line",{x1:"112",y1:"100",x2:"118",y2:"165",stroke:A.particle,strokeWidth:"0.5",strokeOpacity:"0.2",strokeDasharray:"3 4",children:u.jsx("animate",{attributeName:"strokeDashoffset",values:"0;-14",dur:"2s",repeatCount:"indefinite"})})]})]})})(),N?(()=>{const A=X0(N);return u.jsxs("g",{children:[u.jsx("rect",{x:"72",y:"188",width:"56",height:"14",rx:"3",fill:A.primary,fillOpacity:"0.55",stroke:A.primary,strokeWidth:"0.8"}),u.jsx("rect",{x:"94",y:"189",width:"12",height:"12",rx:"2",fill:A.particle,fillOpacity:"0.4"}),u.jsx("rect",{x:"74",y:"190",width:"8",height:"10",rx:"2",fill:A.primary,fillOpacity:"0.3",stroke:A.particle,strokeWidth:"0.3"}),u.jsx("rect",{x:"118",y:"190",width:"8",height:"10",rx:"2",fill:A.primary,fillOpacity:"0.3",stroke:A.particle,strokeWidth:"0.3"})]})})():u.jsx("line",{x1:"74",y1:"195",x2:"126",y2:"195",stroke:`hsl(${a+240},15%,25%)`,strokeWidth:"1.5"}),u.jsx("path",{d:d?"M70 90 L52 94 Q46 96 46 103 L45 155 Q45 160 49 160 L59 160 L66 155 Z":l?"M64 90 L46 94 Q40 96 40 103 L40 155 Q40 160 44 160 L56 160 L64 155 Z":"M68 90 L50 94 Q44 96 43 103 L42 155 Q42 160 46 160 L58 160 L66 155 Z",fill:"url(#av-outfit)",stroke:`hsl(${a+240},18%,25%)`,strokeWidth:"0.8"}),u.jsx("path",{d:d?"M130 90 L148 94 Q154 96 154 103 L155 155 Q155 160 151 160 L141 160 L134 155 Z":l?"M136 90 L154 94 Q160 96 160 103 L160 155 Q160 160 156 160 L144 160 L136 155 Z":"M132 90 L150 94 Q156 96 157 103 L158 155 Q158 160 154 160 L142 160 L134 155 Z",fill:"url(#av-outfit)",stroke:`hsl(${a+240},18%,25%)`,strokeWidth:"0.8"}),S?(()=>{const A=X0(S);return u.jsxs("g",{filter:A.intensity>.5?"url(#av-soft)":void 0,children:[u.jsx("path",{d:"M38 148 L38 172 Q38 178 44 178 L58 178 Q62 178 62 172 L62 148",fill:A.primary,fillOpacity:"0.5",stroke:A.primary,strokeWidth:"0.8",strokeOpacity:"0.7"}),u.jsx("path",{d:"M138 148 L138 172 Q138 178 144 178 L158 178 Q162 178 162 172 L162 148",fill:A.primary,fillOpacity:"0.5",stroke:A.primary,strokeWidth:"0.8",strokeOpacity:"0.7"}),u.jsx("line",{x1:"42",y1:"170",x2:"58",y2:"170",stroke:A.particle,strokeWidth:"1",strokeOpacity:"0.5"}),u.jsx("line",{x1:"142",y1:"170",x2:"158",y2:"170",stroke:A.particle,strokeWidth:"1",strokeOpacity:"0.5"}),A.intensity>=.7&&u.jsxs(u.Fragment,{children:[u.jsx("circle",{cx:"50",cy:"168",r:"2",fill:A.particle,fillOpacity:"0.5",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.5;0.2;0.5",dur:"1.5s",repeatCount:"indefinite"})}),u.jsx("circle",{cx:"150",cy:"168",r:"2",fill:A.particle,fillOpacity:"0.5",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.2;0.5;0.2",dur:"1.5s",repeatCount:"indefinite"})})]})]})})():u.jsxs("g",{children:[u.jsx("ellipse",{cx:"50",cy:"166",rx:"7",ry:"9",fill:h}),u.jsx("ellipse",{cx:"150",cy:"166",rx:"7",ry:"9",fill:h})]}),j>0&&u.jsxs(u.Fragment,{children:[u.jsx("g",{filter:"url(#av-bloom)",children:u.jsx("circle",{cx:"100",cy:"130",r:"6",fill:"url(#av-energy)",children:u.jsx("animate",{attributeName:"r",values:"6;8;6",dur:"3s",repeatCount:"indefinite"})})}),u.jsx("circle",{cx:"100",cy:"130",r:"2.5",fill:`hsl(${a+180},100%,75%)`,fillOpacity:I*.7,children:u.jsx("animate",{attributeName:"fillOpacity",values:`${I*.7};${I*.3};${I*.7}`,dur:"2s",repeatCount:"indefinite"})})]}),j>=3&&u.jsx("line",{x1:"100",y1:"108",x2:"100",y2:"185",stroke:`hsl(${a+180},80%,55%)`,strokeWidth:"0.5",strokeOpacity:"0.15",strokeDasharray:"3 5",children:u.jsx("animate",{attributeName:"strokeDashoffset",values:"0;-16",dur:"2s",repeatCount:"indefinite"})}),u.jsx("rect",{x:"93",y:"72",width:"14",height:"18",rx:"5",fill:h}),k&&(()=>{const A=X0(k);return u.jsxs("g",{filter:"url(#av-glow)",children:[u.jsx("path",{d:"M92 78 Q100 96 108 78",stroke:A.particle,strokeWidth:"0.8",fill:"none",strokeOpacity:"0.5"}),u.jsx("polygon",{points:"100,90 95,97 100,104 105,97",fill:A.primary,stroke:A.particle,strokeWidth:"0.8",children:u.jsx("animate",{attributeName:"opacity",values:"1;0.7;1",dur:"2.5s",repeatCount:"indefinite"})}),u.jsx("circle",{cx:"100",cy:"97",r:"2",fill:A.particle,children:u.jsx("animate",{attributeName:"r",values:"2;2.5;2",dur:"2s",repeatCount:"indefinite"})})]})})(),u.jsxs("g",{children:[E.back&&u.jsx("path",{d:E.back,fill:"url(#av-hair)",opacity:"0.8"}),u.jsx("ellipse",{cx:"100",cy:"50",rx:L,ry:"28",fill:"url(#av-face)",stroke:y,strokeWidth:"0.5"}),u.jsx("ellipse",{cx:100-L-1,cy:"52",rx:"4",ry:"6",fill:h,stroke:y,strokeWidth:"0.3"}),u.jsx("ellipse",{cx:100+L+1,cy:"52",rx:"4",ry:"6",fill:h,stroke:y,strokeWidth:"0.3"}),u.jsxs("g",{children:[u.jsx("path",{d:"M86 40 Q90 37 96 39",stroke:p,strokeWidth:"1.5",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:"M104 39 Q110 37 114 40",stroke:p,strokeWidth:"1.5",fill:"none",strokeLinecap:"round"}),u.jsx("ellipse",{cx:"91",cy:"47",rx:"6",ry:"4.5",fill:"white"}),u.jsx("ellipse",{cx:"109",cy:"47",rx:"6",ry:"4.5",fill:"white"}),u.jsx("circle",{cx:"92",cy:"47",r:"3",fill:`hsl(${a+180},70%,45%)`}),u.jsx("circle",{cx:"110",cy:"47",r:"3",fill:`hsl(${a+180},70%,45%)`}),u.jsx("circle",{cx:"92",cy:"47",r:"1.5",fill:"#111"}),u.jsx("circle",{cx:"110",cy:"47",r:"1.5",fill:"#111"}),u.jsx("circle",{cx:"93.5",cy:"45.5",r:"1",fill:"white",fillOpacity:"0.8"}),u.jsx("circle",{cx:"111.5",cy:"45.5",r:"1",fill:"white",fillOpacity:"0.8"}),u.jsx("ellipse",{cx:"91",cy:"47",rx:"6.5",ry:"0",fill:h,children:u.jsx("animate",{attributeName:"ry",values:"0;0;0;5;0;0;0;0;0;0;0;0",dur:"5s",repeatCount:"indefinite"})}),u.jsx("ellipse",{cx:"109",cy:"47",rx:"6.5",ry:"0",fill:h,children:u.jsx("animate",{attributeName:"ry",values:"0;0;0;5;0;0;0;0;0;0;0;0",dur:"5s",repeatCount:"indefinite"})}),u.jsx("path",{d:"M98 52 Q100 56 102 52",stroke:y,strokeWidth:"0.8",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:"M95 60 Q100 63 105 60",stroke:y,strokeWidth:"0.8",fill:"none",strokeLinecap:"round"})]}),u.jsx("path",{d:E.main,fill:"url(#av-hair)"}),E.accent&&u.jsx("path",{d:E.accent,fill:"url(#av-hair)",opacity:"0.9"}),b&&(()=>{const A=X0(b),R=b.visualId||"";return u.jsx("g",{filter:A.intensity>.5?"url(#av-glow)":"url(#av-soft)",children:R.includes("helm")?u.jsxs(u.Fragment,{children:[u.jsx("path",{d:`M${100-L-2} 28 Q100 10 ${100+L+2} 28 L${100+L+4} 62 Q100 72 ${100-L-4} 62 Z`,fill:A.primary,fillOpacity:"0.55",stroke:A.primary,strokeWidth:"1.2"}),u.jsx("rect",{x:"80",y:"44",width:"40",height:"8",rx:"4",fill:`hsl(${a+180},90%,55%)`,fillOpacity:"0.85",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.85;0.5;0.85",dur:"3s",repeatCount:"indefinite"})})]}):R.includes("visor")?u.jsxs(u.Fragment,{children:[u.jsx("rect",{x:"80",y:"42",width:"40",height:"12",rx:"6",fill:`hsla(${a+180},80%,50%,0.7)`,stroke:A.primary,strokeWidth:"1",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.7;0.4;0.7",dur:"2.5s",repeatCount:"indefinite"})}),u.jsx("line",{x1:"76",y1:"48",x2:"80",y2:"48",stroke:A.primary,strokeWidth:"1.5"}),u.jsx("line",{x1:"120",y1:"48",x2:"124",y2:"48",stroke:A.primary,strokeWidth:"1.5"})]}):u.jsxs(u.Fragment,{children:[u.jsx("rect",{x:"78",y:"36",width:"44",height:"6",rx:"3",fill:A.primary,fillOpacity:"0.7",stroke:A.particle,strokeWidth:"0.5"}),u.jsx("circle",{cx:"89",cy:"47",r:"8",fill:"none",stroke:A.primary,strokeWidth:"1.5"}),u.jsx("circle",{cx:"111",cy:"47",r:"8",fill:"none",stroke:A.primary,strokeWidth:"1.5"}),u.jsx("circle",{cx:"89",cy:"47",r:"5.5",fill:A.particle,fillOpacity:"0.3",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.3;0.15;0.3",dur:"2s",repeatCount:"indefinite"})}),u.jsx("circle",{cx:"111",cy:"47",r:"5.5",fill:A.particle,fillOpacity:"0.3",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.15;0.3;0.15",dur:"2s",repeatCount:"indefinite"})}),u.jsx("line",{x1:"97",y1:"47",x2:"103",y2:"47",stroke:A.primary,strokeWidth:"1.5"})]})})})()]}),r>=15&&u.jsxs("g",{filter:"url(#av-glow)",children:[u.jsx("ellipse",{cx:"100",cy:"22",rx:"18",ry:"4",fill:"none",stroke:r>=50?"#fbbf24":r>=30?"#a78bfa":"#60a5fa",strokeWidth:"1.5",strokeOpacity:"0.7",children:u.jsx("animate",{attributeName:"strokeOpacity",values:"0.7;0.35;0.7",dur:"2s",repeatCount:"indefinite"})}),r>=30&&u.jsx("ellipse",{cx:"100",cy:"18",rx:"22",ry:"5",fill:"none",stroke:r>=50?"#fbbf24":"#a78bfa",strokeWidth:"0.8",strokeOpacity:"0.35",strokeDasharray:"3 3",children:u.jsx("animate",{attributeName:"strokeDashoffset",values:"0;-12",dur:"3s",repeatCount:"indefinite"})}),r>=50&&[-12,0,12].map((A,R)=>u.jsx("polygon",{points:`${100+A},16 ${97+A},22 ${103+A},22`,fill:"#fbbf24",fillOpacity:"0.6",children:u.jsx("animate",{attributeName:"fillOpacity",values:"0.6;0.25;0.6",dur:`${1.5+R*.2}s`,repeatCount:"indefinite"})},R))]}),$&&u.jsx("g",{filter:"url(#av-bloom)",children:[0,60,120,180,240,300].map((A,R)=>{const F=A*Math.PI/180,D=100+Math.cos(F)*50,B=145+Math.sin(F)*75;return u.jsxs("circle",{cx:D,cy:B,r:"1.5",fill:"#fbbf24",fillOpacity:"0.5",children:[u.jsx("animate",{attributeName:"cy",values:`${B};${B-18};${B}`,dur:`${2+R*.3}s`,repeatCount:"indefinite"}),u.jsx("animate",{attributeName:"fillOpacity",values:"0.5;0;0.5",dur:`${2+R*.3}s`,repeatCount:"indefinite"})]},R)})}),r>=5&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:"56",y1:"90",x2:"48",y2:"97",stroke:`hsl(${a+180},70%,50%)`,strokeWidth:"1",strokeOpacity:.12+r*.004}),u.jsx("line",{x1:"144",y1:"90",x2:"152",y2:"97",stroke:`hsl(${a+180},70%,50%)`,strokeWidth:"1",strokeOpacity:.12+r*.004})]}),r>=5&&u.jsx("g",{filter:"url(#av-soft)",children:Array.from({length:Math.min(8,Math.floor(r/6))}).map((A,R)=>{const F=R*360/Math.min(8,Math.floor(r/6))*(Math.PI/180),D=100+Math.cos(F)*(38+R*3),B=140+Math.sin(F)*(55+R*2),M=r>=50?"#fbbf24":r>=30?"#a78bfa":r>=15?"#60a5fa":`hsl(${a+180},70%,60%)`;return u.jsxs("circle",{cx:D,cy:B,r:"1",fill:M,fillOpacity:"0.35",children:[u.jsx("animate",{attributeName:"cy",values:`${B};${B-12};${B}`,dur:`${2+R*.4}s`,repeatCount:"indefinite"}),u.jsx("animate",{attributeName:"fillOpacity",values:"0.35;0;0.35",dur:`${2+R*.4}s`,repeatCount:"indefinite"})]},R)})}),n&&i&&u.jsx("g",{filter:"url(#av-soft)",children:Array.from({length:8}).map((A,R)=>{const F=60+Math.random()*80,D=20+Math.random()*260;return u.jsxs("circle",{cx:F,cy:D,r:1+Math.random(),fill:i,fillOpacity:"0.45",children:[u.jsx("animate",{attributeName:"cy",values:`${D};${D-25};${D}`,dur:`${3+R*.5}s`,repeatCount:"indefinite"}),u.jsx("animate",{attributeName:"fillOpacity",values:"0.45;0;0.45",dur:`${3+R*.5}s`,repeatCount:"indefinite"})]},`c-${R}`)})})]})]})},r9=[{id:"first_steps",title:"First Steps",description:"Earn your first 100 XP",icon:"",category:"PROGRESSION",condition:{type:"XP_TOTAL",target:100},xpReward:25},{id:"rising_star",title:"Rising Star",description:"Reach Level 5",icon:"",category:"PROGRESSION",condition:{type:"LEVEL_REACHED",target:5},xpReward:100,fluxReward:50},{id:"veteran",title:"Veteran Operative",description:"Reach Level 10",icon:"",category:"PROGRESSION",condition:{type:"LEVEL_REACHED",target:10},xpReward:250,fluxReward:100},{id:"elite",title:"Elite Agent",description:"Reach Level 25",icon:"",category:"PROGRESSION",condition:{type:"LEVEL_REACHED",target:25},xpReward:500,fluxReward:250},{id:"legend",title:"Living Legend",description:"Reach Level 50",icon:"",category:"PROGRESSION",condition:{type:"LEVEL_REACHED",target:50},xpReward:1e3,fluxReward:500,isSecret:!0},{id:"xp_5k",title:"Knowledge Seeker",description:"Accumulate 5,000 total XP",icon:"",category:"PROGRESSION",condition:{type:"XP_TOTAL",target:5e3},xpReward:150},{id:"xp_25k",title:"Scholar Supreme",description:"Accumulate 25,000 total XP",icon:"",category:"PROGRESSION",condition:{type:"XP_TOTAL",target:25e3},xpReward:500,fluxReward:200},{id:"collector_10",title:"Gear Collector",description:"Collect 10 items",icon:"",category:"COLLECTION",condition:{type:"ITEMS_COLLECTED",target:10},xpReward:50},{id:"collector_50",title:"Hoarder",description:"Collect 50 items",icon:"",category:"COLLECTION",condition:{type:"ITEMS_COLLECTED",target:50},xpReward:150,fluxReward:75},{id:"gear_score_100",title:"Well Equipped",description:"Achieve a Gear Score of 100",icon:"",category:"COLLECTION",condition:{type:"GEAR_SCORE",target:100},xpReward:100},{id:"gear_score_500",title:"Walking Arsenal",description:"Achieve a Gear Score of 500",icon:"",category:"COLLECTION",condition:{type:"GEAR_SCORE",target:500},xpReward:300,fluxReward:150,isSecret:!0},{id:"first_mission",title:"Field Agent",description:"Complete your first mission",icon:"",category:"COMBAT",condition:{type:"QUESTS_COMPLETED",target:1},xpReward:50},{id:"mission_5",title:"Seasoned Operative",description:"Complete 5 missions",icon:"",category:"COMBAT",condition:{type:"QUESTS_COMPLETED",target:5},xpReward:150},{id:"mission_20",title:"Mission Master",description:"Complete 20 missions",icon:"",category:"COMBAT",condition:{type:"QUESTS_COMPLETED",target:20},xpReward:400,fluxReward:200},{id:"boss_slayer",title:"Boss Slayer",description:"Help defeat 3 bosses",icon:"",category:"COMBAT",condition:{type:"BOSS_KILLS",target:3},xpReward:300,fluxReward:150},{id:"streak_3",title:"Consistent",description:"Maintain a 3-week engagement streak",icon:"",category:"DEDICATION",condition:{type:"STREAK_WEEKS",target:3},xpReward:75},{id:"streak_8",title:"Unstoppable",description:"Maintain an 8-week engagement streak",icon:"",category:"DEDICATION",condition:{type:"STREAK_WEEKS",target:8},xpReward:200,fluxReward:100},{id:"streak_16",title:"Iron Will",description:"Maintain a 16-week engagement streak",icon:"",category:"DEDICATION",condition:{type:"STREAK_WEEKS",target:16},xpReward:500,fluxReward:250,isSecret:!0},{id:"login_7",title:"Daily Devotion",description:"Log in 7 days in a row",icon:"",category:"DEDICATION",condition:{type:"LOGIN_STREAK",target:7},xpReward:100},{id:"login_30",title:"Month of Mastery",description:"Log in 30 days in a row",icon:"",category:"DEDICATION",condition:{type:"LOGIN_STREAK",target:30},xpReward:300,fluxReward:150,isSecret:!0},{id:"challenges_10",title:"Challenge Accepted",description:"Complete 10 daily challenges",icon:"",category:"DEDICATION",condition:{type:"CHALLENGES_COMPLETED",target:10},xpReward:100},{id:"tutor_1",title:"Helpful Hand",description:"Complete 1 peer tutoring session",icon:"",category:"SOCIAL",condition:{type:"TUTORING_SESSIONS",target:1},xpReward:75},{id:"tutor_10",title:"Mentor",description:"Complete 10 peer tutoring sessions",icon:"",category:"SOCIAL",condition:{type:"TUTORING_SESSIONS",target:10},xpReward:300,fluxReward:200},{id:"tech_50",title:"Tech Wizard",description:"Reach 50 Tech stat",icon:"",category:"MASTERY",condition:{type:"STAT_THRESHOLD",target:50,stat:"tech"},xpReward:100},{id:"focus_50",title:"Zen Master",description:"Reach 50 Focus stat",icon:"",category:"MASTERY",condition:{type:"STAT_THRESHOLD",target:50,stat:"focus"},xpReward:100},{id:"analysis_50",title:"Sharp Mind",description:"Reach 50 Analysis stat",icon:"",category:"MASTERY",condition:{type:"STAT_THRESHOLD",target:50,stat:"analysis"},xpReward:100},{id:"charisma_50",title:"Silver Tongue",description:"Reach 50 Charisma stat",icon:"",category:"MASTERY",condition:{type:"STAT_THRESHOLD",target:50,stat:"charisma"},xpReward:100},{id:"craft_10",title:"Artisan",description:"Craft items 10 times",icon:"",category:"MASTERY",condition:{type:"ITEMS_CRAFTED",target:10},xpReward:100,fluxReward:50}],HSe=t=>r9.filter(e=>!e.isSecret||t.includes(e.id)),GSe={THEORIST:{name:"Theorist",description:"Master of physics theory and mathematical modeling",color:"blue",icon:""},EXPERIMENTALIST:{name:"Experimentalist",description:"Expert in lab work and hands-on experimentation",color:"green",icon:""},ANALYST:{name:"Analyst",description:"Data-driven problem solver and pattern recognizer",color:"yellow",icon:""},DIPLOMAT:{name:"Diplomat",description:"Collaborative leader who excels in group work",color:"purple",icon:""}},FX=[{id:"th_1",name:"Equation Mind",description:"+5 Analysis from equipment",specialization:"THEORIST",tier:1,cost:1,prerequisites:[],effect:{type:"STAT_BOOST",stat:"analysis",value:5},icon:""},{id:"th_2",name:"Deep Thinker",description:"+10% XP from review questions",specialization:"THEORIST",tier:1,cost:1,prerequisites:[],effect:{type:"XP_MULTIPLIER",value:.1},icon:""},{id:"th_3",name:"Theoretical Framework",description:"+8 Analysis from equipment",specialization:"THEORIST",tier:2,cost:2,prerequisites:["th_1"],effect:{type:"STAT_BOOST",stat:"analysis",value:8},icon:""},{id:"th_4",name:"Thought Experiment",description:"+15% XP from study materials",specialization:"THEORIST",tier:2,cost:2,prerequisites:["th_2"],effect:{type:"XP_MULTIPLIER",value:.15},icon:""},{id:"th_5",name:"Unified Theory",description:"+12 Analysis, +5 Tech",specialization:"THEORIST",tier:3,cost:3,prerequisites:["th_3","th_4"],effect:{type:"STAT_BOOST",stat:"analysis",value:12},icon:""},{id:"th_6",name:"Grand Theorem",description:"+25% XP from all sources",specialization:"THEORIST",tier:4,cost:5,prerequisites:["th_5"],effect:{type:"XP_MULTIPLIER",value:.25},icon:""},{id:"ex_1",name:"Lab Safety",description:"+5 Tech from equipment",specialization:"EXPERIMENTALIST",tier:1,cost:1,prerequisites:[],effect:{type:"STAT_BOOST",stat:"tech",value:5},icon:""},{id:"ex_2",name:"Hands-On Learning",description:"+10% XP from engagement",specialization:"EXPERIMENTALIST",tier:1,cost:1,prerequisites:[],effect:{type:"XP_MULTIPLIER",value:.1},icon:""},{id:"ex_3",name:"Precision Tools",description:"+8 Tech from equipment",specialization:"EXPERIMENTALIST",tier:2,cost:2,prerequisites:["ex_1"],effect:{type:"STAT_BOOST",stat:"tech",value:8},icon:""},{id:"ex_4",name:"Data Collection",description:"Crafting costs 20% less Flux",specialization:"EXPERIMENTALIST",tier:2,cost:2,prerequisites:["ex_2"],effect:{type:"FLUX_DISCOUNT",value:.2},icon:""},{id:"ex_5",name:"Breakthrough",description:"+12 Tech, crafting improves tier by +1",specialization:"EXPERIMENTALIST",tier:3,cost:3,prerequisites:["ex_3","ex_4"],effect:{type:"CRAFT_BONUS",value:1},icon:""},{id:"ex_6",name:"Master Inventor",description:"+20% better craft results",specialization:"EXPERIMENTALIST",tier:4,cost:5,prerequisites:["ex_5"],effect:{type:"CRAFT_BONUS",value:2},icon:""},{id:"an_1",name:"Pattern Recognition",description:"+5 Focus from equipment",specialization:"ANALYST",tier:1,cost:1,prerequisites:[],effect:{type:"STAT_BOOST",stat:"focus",value:5},icon:""},{id:"an_2",name:"Streak Amplifier",description:"Streak bonuses increased by 50%",specialization:"ANALYST",tier:1,cost:1,prerequisites:[],effect:{type:"STREAK_BONUS",value:.5},icon:""},{id:"an_3",name:"Critical Analysis",description:"+8 Focus from equipment",specialization:"ANALYST",tier:2,cost:2,prerequisites:["an_1"],effect:{type:"STAT_BOOST",stat:"focus",value:8},icon:""},{id:"an_4",name:"Efficiency Expert",description:"+15% XP from engagement time",specialization:"ANALYST",tier:2,cost:2,prerequisites:["an_2"],effect:{type:"XP_MULTIPLIER",value:.15},icon:""},{id:"an_5",name:"Predictive Model",description:"+12 Focus, streak bonus doubled",specialization:"ANALYST",tier:3,cost:3,prerequisites:["an_3","an_4"],effect:{type:"STREAK_BONUS",value:1},icon:""},{id:"an_6",name:"Omniscient",description:"+30% XP from all quiz answers",specialization:"ANALYST",tier:4,cost:5,prerequisites:["an_5"],effect:{type:"XP_MULTIPLIER",value:.3},icon:""},{id:"di_1",name:"Team Player",description:"+5 Charisma from equipment",specialization:"DIPLOMAT",tier:1,cost:1,prerequisites:[],effect:{type:"STAT_BOOST",stat:"charisma",value:5},icon:""},{id:"di_2",name:"Group Synergy",description:"+20% XP from group quests",specialization:"DIPLOMAT",tier:1,cost:1,prerequisites:[],effect:{type:"QUEST_BONUS",value:.2},icon:""},{id:"di_3",name:"Inspiring Presence",description:"+8 Charisma from equipment",specialization:"DIPLOMAT",tier:2,cost:2,prerequisites:["di_1"],effect:{type:"STAT_BOOST",stat:"charisma",value:8},icon:""},{id:"di_4",name:"Peer Mentor",description:"+50% tutoring rewards",specialization:"DIPLOMAT",tier:2,cost:2,prerequisites:["di_2"],effect:{type:"QUEST_BONUS",value:.5},icon:""},{id:"di_5",name:"Natural Leader",description:"+12 Charisma, party size +1",specialization:"DIPLOMAT",tier:3,cost:3,prerequisites:["di_3","di_4"],effect:{type:"STAT_BOOST",stat:"charisma",value:12},icon:""},{id:"di_6",name:"Commander",description:"All party members get +10% XP",specialization:"DIPLOMAT",tier:4,cost:5,prerequisites:["di_5"],effect:{type:"XP_MULTIPLIER",value:.1},icon:""}],Xz=(t,e)=>{const r=FX.find(n=>n.id===t);return r?r.prerequisites.every(n=>e.includes(n)):!1},KSe=[{id:"tesla_set",name:"Tesla's Arsenal",description:"Gear infused with electromagnetic energy",itemIds:["Data Gauntlets","Neural Band","Circuit Ring"],bonuses:[{count:2,label:"2-Piece: Spark",effects:[{stat:"tech",value:10}]},{count:3,label:"3-Piece: Overcharge",effects:[{stat:"tech",value:25},{stat:"focus",value:10}]}]},{id:"newton_set",name:"Newton's Laws",description:"Classical mechanics manifested in gear",itemIds:["Fiber Helm","Polymer Vest","Mag-Boots"],bonuses:[{count:2,label:"2-Piece: Inertia",effects:[{stat:"analysis",value:10}]},{count:3,label:"3-Piece: Force Field",effects:[{stat:"analysis",value:25},{stat:"charisma",value:10}]}]},{id:"curie_set",name:"Curie's Focus",description:"Gear radiating determination and precision",itemIds:["Precision Grips","Quantum Chip","Focus Band"],bonuses:[{count:2,label:"2-Piece: Concentration",effects:[{stat:"focus",value:10}]},{count:3,label:"3-Piece: Radiance",effects:[{stat:"focus",value:25},{stat:"analysis",value:10}]}]},{id:"diplomat_set",name:"Diplomat's Ensemble",description:"Gear designed for collaboration and leadership",itemIds:["Exo-Plate","Utility Belt","Resonance Core"],bonuses:[{count:2,label:"2-Piece: Rapport",effects:[{stat:"charisma",value:10}]},{count:3,label:"3-Piece: Aura of Command",effects:[{stat:"charisma",value:25},{stat:"tech",value:10}]}]}],qX=t=>{const e=[],r=t.map(n=>n.baseName);for(const n of KSe){const i=n.itemIds.filter(s=>r.includes(s)).length,a=n.bonuses.filter(s=>i>=s.count).sort((s,l)=>l.count-s.count);a.length>0&&e.push({set:n,activeBonus:a[0]})}return e},WSe=[{id:"w_xp_50",label:"50 XP",type:"XP",value:50,weight:25,color:"#3b82f6"},{id:"w_xp_100",label:"100 XP",type:"XP",value:100,weight:18,color:"#6366f1"},{id:"w_xp_250",label:"250 XP",type:"XP",value:250,weight:8,color:"#8b5cf6"},{id:"w_flux_10",label:"10 Flux",type:"FLUX",value:10,weight:20,color:"#06b6d4"},{id:"w_flux_25",label:"25 Flux",type:"FLUX",value:25,weight:12,color:"#0891b2"},{id:"w_flux_100",label:"100 Flux",type:"FLUX",value:100,weight:3,color:"#0e7490"},{id:"w_item_common",label:"Common Item",type:"ITEM",value:1,rarity:"COMMON",weight:15,color:"#64748b"},{id:"w_item_uncommon",label:"Uncommon Item",type:"ITEM",value:1,rarity:"UNCOMMON",weight:8,color:"#22c55e"},{id:"w_item_rare",label:"Rare Item!",type:"ITEM",value:1,rarity:"RARE",weight:3,color:"#eab308"},{id:"w_gem",label:"Random Gem",type:"GEM",value:1,weight:10,color:"#ec4899"},{id:"w_skillpt",label:"Skill Point",type:"SKILL_POINT",value:1,weight:5,color:"#a855f7"},{id:"w_nothing",label:"Try Again!",type:"NOTHING",value:0,weight:15,color:"#374151"}],Qz=[{level:1,name:"Recruit",description:"Standard-issue operative suit",visualEffects:{glowIntensity:.1,particleCount:0,armorDetail:"BASIC",wingType:"NONE",crownType:"NONE"}},{level:5,name:"Agent",description:"Enhanced suit with energy conduits",visualEffects:{glowIntensity:.25,particleCount:2,armorDetail:"ENHANCED",wingType:"NONE",crownType:"NONE"}},{level:15,name:"Specialist",description:"Advanced armor plating with integrated systems",visualEffects:{glowIntensity:.5,particleCount:4,armorDetail:"ADVANCED",wingType:"NONE",crownType:"CIRCLET"}},{level:30,name:"Commander",description:"Legendary suit with energy wings",visualEffects:{glowIntensity:.75,particleCount:6,armorDetail:"LEGENDARY",wingType:"ENERGY",crownType:"HALO"}},{level:50,name:"Mythic",description:"Transcendent form with crystalline wings and crown",visualEffects:{glowIntensity:1,particleCount:10,armorDetail:"MYTHIC",wingType:"PHOENIX",crownType:"CROWN"}}],HX=t=>[...Qz].sort((r,n)=>n.level-r.level).find(r=>t>=r.level)||Qz[0],XSe=t=>t<=0?1:t<=2?1.05:t<=4?1.1:t<=7?1.15:t<=12?1.25:1.5,QSe={PROGRESSION:{label:"Progression",icon:""},COMBAT:{label:"Missions",icon:""},SOCIAL:{label:"Social",icon:""},COLLECTION:{label:"Collection",icon:""},DEDICATION:{label:"Dedication",icon:""},MASTERY:{label:"Mastery",icon:""}},YSe=({unlockedAchievements:t,achievementProgress:e})=>{const r=P.useMemo(()=>HSe(t),[t]),n=["PROGRESSION","COMBAT","DEDICATION","COLLECTION","MASTERY","SOCIAL"],i=t.length,a=r9.filter(s=>!s.isSecret).length;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[u.jsx(Ud,{className:"w-5 h-5 text-yellow-400"})," Achievements"]}),u.jsxs("span",{className:"text-sm text-gray-400",children:[i,"/",a," unlocked"]})]}),u.jsx("div",{className:"w-full bg-white/5 rounded-full h-2",children:u.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-yellow-500 to-amber-500 transition-all duration-500",style:{width:`${i/a*100}%`}})}),n.map(s=>{const l=r.filter(h=>h.category===s);if(l.length===0)return null;const d=QSe[s];return u.jsxs("div",{children:[u.jsxs("h4",{className:"text-xs font-mono uppercase tracking-widest text-gray-500 mb-2 flex items-center gap-1.5",children:[u.jsx("span",{children:d.icon})," ",d.label]}),u.jsx("div",{className:"grid grid-cols-1 gap-2",children:l.map(h=>{const p=t.includes(h.id),m=e[h.id]||0,y=Math.min(100,m/h.condition.target*100);return u.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl border transition-all ${p?"border-yellow-500/30 bg-yellow-500/5":"border-white/5 bg-white/3"}`,children:[u.jsx("span",{className:`text-2xl ${p?"":"grayscale opacity-40"}`,children:h.icon}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-sm font-bold ${p?"text-yellow-400":"text-gray-400"}`,children:h.title}),h.isSecret&&!p&&u.jsx(Vm,{className:"w-3 h-3 text-gray-600"})]}),u.jsx("p",{className:"text-[10px] text-gray-500",children:h.description}),!p&&u.jsxs("div",{className:"mt-1.5 flex items-center gap-2",children:[u.jsx("div",{className:"flex-1 bg-white/5 rounded-full h-1.5",children:u.jsx("div",{className:"h-1.5 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all",style:{width:`${y}%`}})}),u.jsxs("span",{className:"text-[9px] text-gray-600 font-mono",children:[m,"/",h.condition.target]})]})]}),p&&u.jsxs("div",{className:"text-right shrink-0",children:[u.jsxs("div",{className:"text-[10px] text-yellow-500 font-bold",children:["+",h.xpReward," XP"]}),h.fluxReward&&u.jsxs("div",{className:"text-[9px] text-cyan-400 font-bold",children:["+",h.fluxReward," Flux"]})]})]},h.id)})})]},s)})]})},ZSe={THEORIST:"from-blue-500 to-cyan-500",EXPERIMENTALIST:"from-green-500 to-emerald-500",ANALYST:"from-yellow-500 to-orange-500",DIPLOMAT:"from-purple-500 to-pink-500"},JSe=({specialization:t,skillPoints:e,unlockedSkills:r})=>{const[n,i]=P.useState(t||null),[a,s]=P.useState(null),l=ia(),d=!!t,h=n||"THEORIST",p=FX.filter(b=>b.specialization===h),m=[1,2,3,4],y=async b=>{if(!a){s(b);try{await $e.unlockSkill(b,h),Ci.skillUnlock(),l.success("Skill unlocked!")}catch(T){l.error(T instanceof Error?T.message:"Failed to unlock")}s(null)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-white",children:"Specialization"}),u.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5",children:"You earn 1 Skill Point every 2 levels"})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg px-3 py-1.5",children:[u.jsx(Ii,{className:"w-4 h-4 text-yellow-400"}),u.jsxs("span",{className:"text-sm font-bold text-yellow-400",children:[e," SP"]})]})]}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(GSe).map(([b,T])=>{const S=h===b,w=d&&t!==b;return u.jsxs("button",{onClick:()=>!w&&i(b),disabled:w,className:`p-3 rounded-xl border text-left transition-all ${S?`border-white/30 bg-gradient-to-br ${ZSe[b]} bg-opacity-10`:w?"border-white/5 bg-white/2 opacity-40 cursor-not-allowed":"border-white/10 bg-white/5 hover:bg-white/10 cursor-pointer"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:T.icon}),u.jsx("span",{className:"font-bold text-sm text-white",children:T.name}),w&&u.jsx(Vm,{className:"w-3 h-3 text-gray-500 ml-auto"})]}),u.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:T.description})]},b)})}),u.jsx("div",{className:"space-y-4",children:m.map(b=>{const T=p.filter(S=>S.tier===b);return u.jsxs("div",{children:[u.jsxs("p",{className:"text-[10px] font-mono text-gray-600 uppercase tracking-widest mb-2",children:["Tier ",b]}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.map(S=>{const w=r.includes(S.id),N=d&&!w&&Xz(S.id,r)&&e>=S.cost,k=Xz(S.id,r);return u.jsxs("div",{className:`relative p-3 rounded-xl border transition-all ${w?"border-green-500/30 bg-green-500/10":N?"border-yellow-500/30 bg-yellow-500/5 hover:bg-yellow-500/10 cursor-pointer":"border-white/5 bg-white/3 opacity-50"}`,onClick:()=>N&&y(S.id),children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-sm",children:S.icon}),u.jsx("span",{className:"text-xs font-bold text-white truncate",children:S.name}),w&&u.jsx(fi,{className:"w-3.5 h-3.5 text-green-400 ml-auto"}),!w&&!k&&u.jsx(Vm,{className:"w-3 h-3 text-gray-600 ml-auto"})]}),u.jsx("p",{className:"text-[10px] text-gray-400",children:S.description}),!w&&u.jsxs("div",{className:"mt-1 text-[9px] font-mono text-gray-600",children:["Cost: ",S.cost," SP"]}),a===S.id&&u.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center",children:u.jsx("div",{className:"w-4 h-4 border-2 border-yellow-400 border-t-transparent rounded-full animate-spin"})})]},S.id)})})]},b)})})]})},dT=25,wv=WSe,eTe=({currency:t,lastSpin:e,classType:r})=>{const[n,i]=P.useState(!1),[a,s]=P.useState(0),[l,d]=P.useState(null),h=P.useRef(null),p=ia(),m=new Date().toISOString().split("T")[0],y=e===m,b=!y&&t>=dT&&!n,T=async()=>{if(b){i(!0),d(null),Ci.wheelSpin();try{const N=await $e.spinFortuneWheel(r),k=wv.findIndex(I=>I.id===N.prizeId),j=360/wv.length,$=360*5+(360-k*j-j/2);s(I=>I+$),setTimeout(()=>{Ci.wheelPrize(),d(N.rewardDescription),i(!1),N.prizeType!=="NOTHING"?p.success(`You won: ${N.rewardDescription}!`):p.info(N.rewardDescription)},4e3)}catch(N){i(!1),p.error(N instanceof Error?N.message:"Spin failed")}}},S=360/wv.length,w=140;return u.jsxs("div",{className:"flex flex-col items-center gap-6",children:[u.jsx("h3",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500",children:"Fortune Terminal"}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Spend ",dT," Flux for a daily spin"]}),u.jsxs("div",{className:"relative w-[320px] h-[320px]",children:[u.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 z-10 w-0 h-0 border-l-[12px] border-l-transparent border-r-[12px] border-r-transparent border-t-[24px] border-t-yellow-400 drop-shadow-lg"}),u.jsx("svg",{viewBox:"-160 -160 320 320",className:"w-full h-full drop-shadow-2xl overflow-visible",children:u.jsxs("g",{style:{transform:`rotate(${a}deg)`,transformOrigin:"0px 0px",transition:n?"transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99)":"none"},ref:h,children:[wv.map((N,k)=>{const j=(k*S-90)*(Math.PI/180),$=((k+1)*S-90)*(Math.PI/180),I=w*Math.cos(j),L=w*Math.sin(j),E=w*Math.cos($),A=w*Math.sin($),R=S>180?1:0,F=((k+.5)*S-90)*(Math.PI/180),D=w*.65*Math.cos(F),B=w*.65*Math.sin(F),M=(k+.5)*S;return u.jsxs("g",{children:[u.jsx("path",{d:`M0,0 L${I},${L} A${w},${w} 0 ${R},1 ${E},${A} Z`,fill:N.color,stroke:"rgba(255,255,255,0.2)",strokeWidth:"1"}),u.jsx("text",{x:D,y:B,fill:"white",fontSize:"9",fontWeight:"bold",textAnchor:"middle",dominantBaseline:"central",transform:`rotate(${M}, ${D}, ${B})`,children:N.label})]},N.id)}),u.jsx("circle",{cx:"0",cy:"0",r:"18",fill:"#1a1b26",stroke:"rgba(255,255,255,0.3)",strokeWidth:"2"}),u.jsx("text",{x:"0",y:"0",fill:"white",fontSize:"8",fontWeight:"bold",textAnchor:"middle",dominantBaseline:"central",children:"SPIN"})]})})]}),l&&u.jsxs("div",{className:"text-center animate-in fade-in zoom-in duration-300",children:[u.jsx("p",{className:"text-sm text-gray-300",children:"You won:"}),u.jsx("p",{className:"text-lg font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-amber-500",children:l})]}),u.jsx("button",{onClick:T,disabled:!b,className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all ${b?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:scale-105 hover:shadow-lg hover:shadow-purple-500/30":"bg-white/5 text-gray-600 cursor-not-allowed"}`,children:n?"Spinning...":y?"Come back tomorrow!":`Spin (${dT} Flux)`})]})};function tTe(t,e){const[r,n]=P.useState(e);return P.useEffect(()=>{const i=$e.subscribeToBossShards(t,a=>{n(Math.max(0,e-a))});return()=>i()},[t,e]),r}function rTe(t){const[e,r]=P.useState([]);return P.useEffect(()=>{const n=$e.subscribeToBossDamageLog(t,r);return()=>n()},[t]),e}const nTe=({boss:t,userId:e,attacking:r,onAttack:n,lastHit:i})=>{var T;const a=tTe(t.id,t.maxHp),s=rTe(t.id),l=a/t.maxHp*100,d=new Date(t.deadline).getTime()-Date.now(),h=Math.max(0,Math.floor(d/36e5)),p=s.reduce((S,w)=>(S[w.userId]||(S[w.userId]={name:w.userName,total:0}),S[w.userId].total+=w.damage,S),{}),m=Object.entries(p).sort(([,S],[,w])=>w.total-S.total).slice(0,5),y=((T=p[e])==null?void 0:T.total)||0,b=(i==null?void 0:i.bossId)===t.id;return u.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-red-500/20 bg-gradient-to-br from-red-950/40 to-black/60",children:[b&&u.jsx("div",{className:"absolute inset-0 bg-red-500/20 animate-ping pointer-events-none",style:{animationDuration:"0.3s",animationIterationCount:1}}),u.jsxs("div",{className:"p-5 space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-black text-red-400",children:t.name}),u.jsx("p",{className:"text-xs text-gray-500",children:t.description})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx(Os,{className:"w-3 h-3"}),h>0?`${h}h left`:"Expiring soon"]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[u.jsxs("span",{className:"text-red-400 font-mono",children:[a.toLocaleString()," HP"]}),u.jsx("span",{className:"text-gray-600",children:t.maxHp.toLocaleString()})]}),u.jsx("div",{className:"w-full bg-white/5 rounded-full h-4 overflow-hidden",children:u.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ${l>50?"bg-gradient-to-r from-red-600 to-red-500":l>25?"bg-gradient-to-r from-orange-600 to-yellow-500":"bg-gradient-to-r from-yellow-600 to-green-500"}`,style:{width:`${l}%`}})})]}),b&&i&&u.jsx("div",{className:"text-center animate-bounce",children:u.jsxs("span",{className:"text-xl font-black text-red-400",children:["-",i.damage]})}),y>0&&u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[u.jsx(zl,{className:"w-3 h-3"}),"Your total damage: ",u.jsx("span",{className:"text-white font-bold",children:y})]}),m.length>0&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-600 uppercase tracking-widest",children:[u.jsx(uu,{className:"w-3 h-3"})," Top Attackers"]}),m.map(([S,w],N)=>u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsxs("span",{className:`${S===e?"text-cyan-400 font-bold":"text-gray-400"}`,children:["#",N+1," ",w.name]}),u.jsxs("span",{className:"text-red-400 font-mono",children:[w.total," dmg"]})]},S))]}),u.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-500 border-t border-white/5 pt-3",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Ii,{className:"w-3 h-3 text-yellow-400"})," ",t.completionRewards.xp," XP"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-cyan-400",children:"~"})," ",t.completionRewards.flux," Flux"]}),t.completionRewards.itemRarity&&u.jsxs("span",{className:"text-purple-400",children:[t.completionRewards.itemRarity," item"]})]}),u.jsx("button",{onClick:()=>n(t.id),disabled:!!r,className:`w-full py-2.5 rounded-xl font-bold text-sm transition-all ${r===t.id?"bg-red-500/20 text-red-400 animate-pulse":"bg-gradient-to-r from-red-600 to-orange-600 text-white hover:scale-[1.02] hover:shadow-lg hover:shadow-red-500/30"}`,children:r===t.id?"Attacking...":"Attack!"})]})]})},iTe=({userId:t,userName:e,classType:r})=>{const[n,i]=P.useState([]),[a,s]=P.useState(null),[l,d]=P.useState(null),h=ia();P.useEffect(()=>{let m;try{m=$e.subscribeToBossEncounters(y=>{const b=y.filter(T=>!T.classType||T.classType===r||T.classType==="GLOBAL");i(b)})}catch{}return()=>m==null?void 0:m()},[r]);const p=async m=>{if(!a){s(m);try{const y=5+Math.floor(Math.random()*20),b=await $e.dealBossDamage(m,y,e);Ci.bossHit(),d({bossId:m,damage:b.damageDealt}),setTimeout(()=>d(null),1500),b.bossDefeated?(Ci.bossDefeated(),h.success("Boss defeated! Rewards incoming!")):h.info(`Dealt ${b.damageDealt} damage! (+${b.xpEarned} XP)`)}catch(y){h.error(y instanceof Error?y.message:"Attack failed")}s(null)}};return n.length===0?null:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-red-400 flex items-center gap-2",children:[u.jsx(Uoe,{className:"w-5 h-5"})," Active Threats"]}),n.map(m=>u.jsx(nTe,{boss:m,userId:t,userName:e,attacking:a,onAttack:p,lastHit:l},m.id))]})};function aTe(t,e){const[r,n]=P.useState(e);return P.useEffect(()=>{const i=$e.subscribeToBossQuizShards(t,a=>{n(Math.max(0,e-a))});return()=>i()},[t,e]),r}const sTe=({quiz:t,onAnswer:e,submitting:r,currentQuestion:n,selectedAnswer:i,answerResult:a})=>{const s=aTe(t.id,t.maxHp),l=s/t.maxHp*100,d=t.questions[n%t.questions.length],h=n>=t.questions.length;return u.jsxs("div",{className:"rounded-2xl border border-amber-500/20 bg-gradient-to-br from-amber-950/30 to-black/50 p-5 space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-base font-black text-amber-400",children:t.bossName}),u.jsx("p",{className:"text-xs text-gray-500",children:t.description})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[u.jsxs("span",{className:"text-red-400 font-mono",children:[s," HP"]}),u.jsx("span",{className:"text-gray-600",children:t.maxHp})]}),u.jsx("div",{className:"w-full bg-white/5 rounded-full h-3 overflow-hidden",children:u.jsx("div",{className:"h-3 rounded-full bg-gradient-to-r from-red-600 to-orange-500 transition-all duration-500",style:{width:`${l}%`}})})]}),h?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(fi,{className:"w-12 h-12 text-green-400 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-gray-300",children:"All questions answered!"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Check back for more questions tomorrow."})]}):d?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[u.jsxs("span",{children:["Question ",n+1," / ",t.questions.length]}),u.jsxs("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${d.difficulty==="HARD"?"bg-red-500/20 text-red-400":d.difficulty==="MEDIUM"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:[d.difficulty,d.damageBonus?` (+${d.damageBonus} dmg)`:""]})]}),u.jsx("p",{className:"text-sm text-white font-medium",children:d.stem}),u.jsx("div",{className:"space-y-2",children:d.options.map((p,m)=>{const y=i===m,b=a&&y,T=a==null?void 0:a.correct;return u.jsx("button",{onClick:()=>e(t.id,d.id,m),disabled:r||!!a,className:`w-full text-left p-3 rounded-xl border text-sm transition-all ${b&&T?"border-green-500/50 bg-green-500/10 text-green-400":b&&!T?"border-red-500/50 bg-red-500/10 text-red-400":y?"border-amber-500/30 bg-amber-500/10":"border-white/10 bg-white/5 hover:bg-white/10 text-gray-300"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-xs font-mono text-gray-600 w-5",children:[String.fromCharCode(65+m),"."]}),u.jsx("span",{children:p}),b&&T&&u.jsx(fi,{className:"w-4 h-4 text-green-400 ml-auto"}),b&&!T&&u.jsx(zm,{className:"w-4 h-4 text-red-400 ml-auto"})]})},m)})}),a&&a.correct&&u.jsxs("div",{className:"text-center text-sm text-amber-400 font-bold animate-bounce",children:[u.jsx(Ii,{className:"w-4 h-4 inline mr-1"}),"-",a.damage," HP!"]})]}):null,u.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-500 border-t border-white/5 pt-3",children:[u.jsx("span",{children:"Defeat rewards:"}),u.jsxs("span",{className:"text-yellow-400",children:[t.rewards.xp," XP"]}),u.jsxs("span",{className:"text-cyan-400",children:[t.rewards.flux," Flux"]}),t.rewards.itemRarity&&u.jsxs("span",{className:"text-purple-400",children:[t.rewards.itemRarity," item"]})]})]})},oTe=({classType:t})=>{const[e,r]=P.useState([]),[n,i]=P.useState(0),[a,s]=P.useState(null),[l,d]=P.useState(null),[h,p]=P.useState(!1),m=ia();P.useEffect(()=>{let b;try{b=$e.subscribeToBossQuizzes(t,r)}catch{}return()=>b==null?void 0:b()},[t]);const y=async(b,T,S)=>{if(!h){p(!0),s(S);try{const w=await $e.answerBossQuiz(b,T,S);w.alreadyAnswered?m.info("Already answered this question!"):w.correct?(Ci.bossHit(),m.success(`Correct! Dealt ${w.damage} damage!`)):m.error("Incorrect. No damage dealt."),d({correct:w.correct,damage:w.damage}),setTimeout(()=>{i(N=>N+1),s(null),d(null)},2e3)}catch(w){m.error(w instanceof Error?w.message:"Failed to submit answer")}p(!1)}};return e.length===0?null:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-amber-400 flex items-center gap-2",children:[u.jsx(Ih,{className:"w-5 h-5"})," Boss Quiz Challenge"]}),e.map(b=>u.jsx(sTe,{quiz:b,onAnswer:y,submitting:h,currentQuestion:n,selectedAnswer:a,answerResult:l},b.id))]})},lTe=({activeChallenges:t,classType:e})=>{const[r,n]=P.useState([]),[i,a]=P.useState(null),s=ia();P.useEffect(()=>{let y;try{y=$e.subscribeToDailyChallenges(n)}catch{}return()=>y==null?void 0:y()},[]);const l=y=>t.find(b=>b.challengeId===y),d=async y=>{if(!i){a(y);try{const b=await $e.claimDailyChallenge(y,e);Ci.dailyReward(),s.success(`Claimed! +${b.xpReward} XP${b.fluxReward?` +${b.fluxReward} Flux`:""}`)}catch(b){s.error(b instanceof Error?b.message:"Claim failed")}a(null)}};if(r.length===0)return null;const h=r.filter(y=>!y.isWeekly),p=r.filter(y=>y.isWeekly),m=y=>{const b=l(y.id),T=(b==null?void 0:b.progress)||0,S=(b==null?void 0:b.completed)||!1,w=!!(b!=null&&b.claimedAt),N=Math.min(100,T/y.target*100);return u.jsx("div",{className:`p-3 rounded-xl border transition-all ${w?"border-green-500/20 bg-green-500/5 opacity-60":S?"border-yellow-500/30 bg-yellow-500/5":"border-white/10 bg-white/5"}`,children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`mt-0.5 p-1.5 rounded-lg ${S?"bg-yellow-500/20":"bg-white/5"}`,children:w?u.jsx(fi,{className:"w-4 h-4 text-green-400"}):S?u.jsx(yoe,{className:"w-4 h-4 text-yellow-400"}):u.jsx(Po,{className:"w-4 h-4 text-gray-400"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-bold text-white",children:y.title}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsxs("span",{className:"text-[10px] text-yellow-400 font-bold",children:["+",y.xpReward," XP"]}),y.fluxReward&&u.jsxs("span",{className:"text-[10px] text-cyan-400 font-bold",children:["+",y.fluxReward]})]})]}),u.jsx("p",{className:"text-[11px] text-gray-400 mt-0.5",children:y.description}),!w&&u.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[u.jsx("div",{className:"flex-1 bg-white/5 rounded-full h-1.5",children:u.jsx("div",{className:`h-1.5 rounded-full transition-all ${S?"bg-gradient-to-r from-yellow-500 to-amber-500":"bg-gradient-to-r from-purple-500 to-pink-500"}`,style:{width:`${N}%`}})}),u.jsxs("span",{className:"text-[9px] text-gray-600 font-mono",children:[T,"/",y.target]})]}),S&&!w&&u.jsx("button",{onClick:()=>d(y.id),disabled:!!i,className:"mt-2 px-3 py-1 bg-gradient-to-r from-yellow-600 to-amber-600 text-white text-xs font-bold rounded-lg hover:scale-105 transition-all",children:i===y.id?"Claiming...":"Claim Reward"})]})]})},y.id)};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[u.jsx(soe,{className:"w-5 h-5 text-purple-400"})," Daily Challenges"]}),u.jsx("div",{className:"space-y-2",children:h.map(m)}),p.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("h4",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mt-4 flex items-center gap-1",children:[u.jsx(Ii,{className:"w-3 h-3 text-cyan-400"})," Weekly Challenge"]}),u.jsx("div",{className:"space-y-2",children:p.map(m)})]})]})},hT={OPEN:"bg-blue-500/10 text-blue-400 border-blue-500/20",MATCHED:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",IN_PROGRESS:"bg-purple-500/10 text-purple-400 border-purple-500/20",COMPLETED:"bg-orange-500/10 text-orange-400 border-orange-500/20",VERIFIED:"bg-green-500/10 text-green-400 border-green-500/20"},cTe=({userId:t,userName:e,classType:r,isAdmin:n})=>{const[i,a]=P.useState([]),[s,l]=P.useState(!1),[d,h]=P.useState(""),[p,m]=P.useState(!1),y=ia();P.useEffect(()=>{let j;try{j=$e.subscribeToTutoringSessions(r,a)}catch{}return()=>j==null?void 0:j()},[r]);const b=async()=>{if(!(!d.trim()||p)){m(!0);try{await $e.createTutoringRequest(t,e,d,r),y.success("Tutoring request posted!"),h(""),l(!1)}catch{y.error("Failed to create request")}m(!1)}},T=async j=>{try{await $e.claimTutorRole(j,t,e),y.success("You are now the tutor for this session!")}catch{y.error("Failed to claim tutor role")}},S=async(j,$)=>{try{const I=await $e.completeTutoring(j,$);y.success(`Verified! Tutor earned ${I.xpAwarded} XP and ${I.fluxAwarded} Flux`)}catch{y.error("Failed to verify session")}},w=i.filter(j=>j.status==="OPEN"),N=i.filter(j=>["MATCHED","IN_PROGRESS"].includes(j.status)),k=i.filter(j=>["COMPLETED","VERIFIED"].includes(j.status));return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[u.jsx(Rh,{className:"w-5 h-5 text-green-400"})," Peer Tutoring"]}),u.jsxs("button",{onClick:()=>l(!s),className:"flex items-center gap-1 px-3 py-1.5 bg-green-600/20 border border-green-500/30 text-green-400 text-xs font-bold rounded-lg hover:bg-green-600/30 transition",children:[u.jsx(Ul,{className:"w-3 h-3"})," Request Help"]})]}),u.jsx("p",{className:"text-xs text-gray-500",children:"Help classmates and earn XP + Cyber-Flux rewards!"}),s&&u.jsxs("div",{className:"p-3 bg-white/5 border border-white/10 rounded-xl space-y-2",children:[u.jsx("input",{value:d,onChange:j=>h(j.target.value),placeholder:"What do you need help with?",className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-gray-600 focus:outline-none focus:border-green-500/50",maxLength:200}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:b,disabled:!d.trim()||p,className:"px-4 py-1.5 bg-green-600 text-white text-xs font-bold rounded-lg hover:bg-green-500 transition disabled:opacity-50",children:p?"Posting...":"Post Request"}),u.jsx("button",{onClick:()=>l(!1),className:"px-3 py-1.5 text-gray-400 text-xs hover:text-white transition",children:"Cancel"})]})]}),w.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-[10px] font-mono uppercase tracking-widest text-gray-600 flex items-center gap-1",children:[u.jsx(xoe,{className:"w-3 h-3"})," Open Requests"]}),w.map(j=>u.jsxs("div",{className:"p-3 bg-white/5 border border-white/10 rounded-xl",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-white font-medium",children:j.topic}),u.jsxs("p",{className:"text-[10px] text-gray-500 mt-0.5",children:["Requested by ",j.requesterName," - ",new Date(j.createdAt).toLocaleDateString()]})]}),u.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${hT[j.status]}`,children:j.status})]}),j.requesterId!==t&&u.jsxs("button",{onClick:()=>T(j.id),className:"mt-2 px-3 py-1 bg-blue-600/20 border border-blue-500/30 text-blue-400 text-xs font-bold rounded-lg hover:bg-blue-600/30 transition",children:[u.jsx(uu,{className:"w-3 h-3 inline mr-1"})," I can help!"]})]},j.id))]}),N.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-[10px] font-mono uppercase tracking-widest text-gray-600 flex items-center gap-1",children:[u.jsx(Os,{className:"w-3 h-3"})," Active Sessions"]}),N.map(j=>u.jsxs("div",{className:"p-3 bg-purple-500/5 border border-purple-500/20 rounded-xl",children:[u.jsx("p",{className:"text-sm text-white font-medium",children:j.topic}),u.jsxs("p",{className:"text-[10px] text-gray-500",children:[j.requesterName,"  ",j.tutorName||"Finding tutor..."]}),u.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${hT[j.status]} mt-1 inline-block`,children:j.status}),n&&j.tutorId&&j.status!=="VERIFIED"&&u.jsxs("button",{onClick:()=>S(j.id,j.tutorId),className:"mt-2 ml-2 px-3 py-1 bg-green-600/20 border border-green-500/30 text-green-400 text-xs font-bold rounded-lg",children:[u.jsx(fi,{className:"w-3 h-3 inline mr-1"})," Verify & Award"]})]},j.id))]}),k.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-[10px] font-mono uppercase tracking-widest text-gray-600 flex items-center gap-1",children:[u.jsx(fi,{className:"w-3 h-3 text-green-400"})," Completed (",k.length,")"]}),k.slice(0,3).map(j=>u.jsxs("div",{className:"p-2 bg-green-500/5 border border-green-500/10 rounded-lg flex justify-between items-center",children:[u.jsx("span",{className:"text-xs text-gray-400 truncate",children:j.topic}),u.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${hT[j.status]}`,children:j.status})]},j.id))]}),i.length===0&&u.jsxs("div",{className:"text-center py-6 text-gray-600",children:[u.jsx(Rh,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),u.jsx("p",{className:"text-xs",children:"No tutoring sessions yet. Be the first to ask for help!"})]})]})},uTe=({item:t,onClose:e})=>{const[r,n]=P.useState("chest"),i=Vn(t.rarity);P.useEffect(()=>{Ci.chestOpen();const s=setTimeout(()=>n("opening"),800),l=setTimeout(()=>n("reveal"),1800);return()=>{clearTimeout(s),clearTimeout(l)}},[]);const a={COMMON:"shadow-gray-500/30",UNCOMMON:"shadow-green-500/40",RARE:"shadow-blue-500/50",UNIQUE:"shadow-yellow-500/60"};return u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[60] flex items-center justify-center",onClick:r==="reveal"?e:void 0,children:u.jsxs("div",{className:"text-center space-y-6",children:[r==="chest"&&u.jsxs("div",{className:"animate-in zoom-in duration-500",children:[u.jsxs("svg",{viewBox:"0 0 100 100",className:"w-32 h-32 mx-auto",children:[u.jsx("rect",{x:"15",y:"40",width:"70",height:"45",rx:"5",fill:"#8B4513",stroke:"#654321",strokeWidth:"2"}),u.jsx("path",{d:"M12 40 Q50 20 88 40 L85 45 Q50 28 15 45 Z",fill:"#A0522D",stroke:"#654321",strokeWidth:"1.5"}),u.jsx("circle",{cx:"50",cy:"55",r:"6",fill:"#DAA520",stroke:"#B8860B",strokeWidth:"1.5"}),u.jsx("rect",{x:"47",y:"55",width:"6",height:"10",rx:"1",fill:"#DAA520",stroke:"#B8860B",strokeWidth:"1"}),u.jsxs("circle",{cx:"50",cy:"55",r:"15",fill:"rgba(255,215,0,0.15)",children:[u.jsx("animate",{attributeName:"r",values:"15;20;15",dur:"1.5s",repeatCount:"indefinite"}),u.jsx("animate",{attributeName:"opacity",values:"0.15;0.3;0.15",dur:"1.5s",repeatCount:"indefinite"})]})]}),u.jsx("p",{className:"text-sm text-gray-400 mt-4 animate-pulse",children:"Opening..."})]}),r==="opening"&&u.jsx("div",{className:"animate-in zoom-in duration-300",children:u.jsxs("svg",{viewBox:"0 0 100 100",className:"w-32 h-32 mx-auto",children:[u.jsx("rect",{x:"15",y:"45",width:"70",height:"40",rx:"5",fill:"#8B4513",stroke:"#654321",strokeWidth:"2"}),u.jsx("path",{d:"M12 45 Q50 5 88 45 L85 48 Q50 12 15 48 Z",fill:"#A0522D",stroke:"#654321",strokeWidth:"1.5"}),u.jsxs("ellipse",{cx:"50",cy:"45",rx:"25",ry:"15",fill:"rgba(255,255,255,0.3)",children:[u.jsx("animate",{attributeName:"ry",values:"15;40;60",dur:"0.8s",fill:"freeze"}),u.jsx("animate",{attributeName:"opacity",values:"0.3;0.8;0",dur:"0.8s",fill:"freeze"})]}),[0,45,90,135,180,225,270,315].map((s,l)=>u.jsxs("circle",{cx:"50",cy:"45",r:"2",fill:t.rarity==="UNIQUE"?"#fbbf24":t.rarity==="RARE"?"#3b82f6":"#22c55e",children:[u.jsx("animate",{attributeName:"cx",values:`50;${50+Math.cos(s*Math.PI/180)*40}`,dur:"0.8s",fill:"freeze"}),u.jsx("animate",{attributeName:"cy",values:`45;${45+Math.sin(s*Math.PI/180)*40}`,dur:"0.8s",fill:"freeze"}),u.jsx("animate",{attributeName:"opacity",values:"1;0",dur:"0.8s",fill:"freeze"})]},l))]})}),r==="reveal"&&u.jsxs("div",{className:"animate-in zoom-in fade-in duration-500 space-y-4",children:[u.jsxs("div",{className:`mx-auto w-64 p-6 rounded-2xl border ${i.border} ${i.bg} shadow-2xl ${a[t.rarity]}`,children:[u.jsx("div",{className:`text-[10px] font-mono uppercase tracking-widest ${i.text} mb-2`,children:t.rarity}),u.jsx("h3",{className:`text-lg font-black ${i.text}`,children:t.name}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.slot}),u.jsx("div",{className:"mt-3 space-y-1",children:Object.entries(t.stats).filter(([,s])=>s&&s>0).map(([s,l])=>u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-gray-400 capitalize",children:s}),u.jsxs("span",{className:`font-bold ${i.text}`,children:["+",l]})]},s))}),t.affixes.length>0&&u.jsx("div",{className:"mt-2 pt-2 border-t border-white/5",children:t.affixes.map((s,l)=>u.jsxs("div",{className:"text-[10px] text-gray-400",children:[s.name,": +",s.value," ",s.stat," (T",s.tier,")"]},l))}),t.setId&&u.jsx("div",{className:"mt-2 text-[10px] text-purple-400 font-bold",children:"Part of a set"}),(t.sockets||0)>0&&u.jsx("div",{className:"mt-2 flex gap-1",children:Array.from({length:t.sockets||0}).map((s,l)=>u.jsx("div",{className:"w-3 h-3 rounded-full border border-white/20 bg-black/30"},l))})]}),u.jsx("p",{className:"text-xs text-gray-500 animate-pulse",children:"Click anywhere to close"})]})]})})},dTe=[{key:"tech",label:"Tech",color:"text-blue-400",bg:"bg-blue-500"},{key:"focus",label:"Focus",color:"text-green-400",bg:"bg-green-500"},{key:"analysis",label:"Analysis",color:"text-yellow-400",bg:"bg-yellow-500"},{key:"charisma",label:"Charisma",color:"text-purple-400",bg:"bg-purple-500"}],hTe=["HEAD","CHEST","HANDS","BELT","FEET","AMULET","RING1","RING2"],fTe=({user:t,classType:e,onClose:r})=>{var L,E,A;const[n,i]=ee.useState(!1),a=t.gamification||{xp:0,level:1,currency:0,badges:[],privacyMode:!1},s=a.level||1,l=Ph(s),d=HX(s),{equipped:h,appearance:p}=zd(t,e),m=FE({gamification:{...a,equipped:h}}),y=Dh(h),b=((L=a.classXp)==null?void 0:L[e])||0,T=(E=t.settings)==null?void 0:E.privacyMode,S=T?a.codename||"Unknown Agent":t.name,w=Object.values(h).filter(Boolean),N=qX(w),k=a.unlockedAchievements||[],j=P.useMemo(()=>r9.filter(R=>k.includes(R.id)),[k]),$=Math.max(m.tech,m.focus,m.analysis,m.charisma,1),I=()=>{navigator.clipboard.writeText(`${window.location.origin}/profile/${t.id}`),i(!0),setTimeout(()=>i(!1),2e3)};return u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:u.jsxs("div",{className:"bg-gradient-to-br from-[#0d0e1a] to-[#1a1b2e] border border-white/10 rounded-3xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",onClick:R=>R.stopPropagation(),children:[u.jsxs("div",{className:"relative p-8 border-b border-white/5 overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 opacity-20",style:{background:`radial-gradient(circle at 30% 50%, hsl(${(p==null?void 0:p.hue)||180}, 70%, 30%), transparent 70%)`}}),u.jsxs("div",{className:"relative flex items-center gap-6",children:[u.jsx("div",{className:"w-32 h-44 shrink-0",children:u.jsx(Rx,{equipped:h,appearance:p})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h1",{className:`text-2xl font-black ${T?"text-purple-300 italic":"text-white"}`,children:S}),u.jsx("button",{onClick:I,className:"p-1 text-gray-500 hover:text-white transition rounded",title:"Copy profile link",children:n?u.jsx(Zg,{className:"w-4 h-4 text-green-400"}):u.jsx(iA,{className:"w-4 h-4"})})]}),u.jsx("p",{className:`text-sm font-mono uppercase tracking-widest ${l.tierColor.split(" ")[1]}`,children:l.rankName}),u.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[d.name,"  Level ",s]}),u.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500",children:b.toLocaleString()}),u.jsx("div",{className:"text-[9px] text-gray-600 font-mono",children:"CLASS XP"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xl font-black text-yellow-400",children:y}),u.jsx("div",{className:"text-[9px] text-gray-600 font-mono",children:"GEAR SCORE"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-xl font-black text-orange-400",children:[a.engagementStreak||0,"w"]}),u.jsx("div",{className:"text-[9px] text-gray-600 font-mono",children:"STREAK"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xl font-black text-purple-400",children:k.length}),u.jsx("div",{className:"text-[9px] text-gray-600 font-mono",children:"BADGES"})]})]}),a.specialization&&u.jsx("div",{className:"mt-3 inline-flex items-center gap-1 px-2 py-1 bg-white/5 border border-white/10 rounded-lg",children:u.jsx("span",{className:"text-xs text-gray-300 font-bold",children:a.specialization})})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-0 divide-x divide-white/5",children:[u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(Po,{className:"w-3 h-3"})," Combat Stats"]}),u.jsx("div",{className:"space-y-2",children:dTe.map(({key:R,label:F,color:D,bg:B})=>{const M=m[R]||0,Q=M/$*100;return u.jsxs("div",{className:"space-y-0.5",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-xs text-gray-400",children:F}),u.jsx("span",{className:`text-xs font-bold ${D}`,children:M})]}),u.jsx("div",{className:"w-full bg-white/5 rounded-full h-1.5",children:u.jsx("div",{className:`h-1.5 rounded-full ${B} transition-all`,style:{width:`${Q}%`}})})]},R)})})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(zl,{className:"w-3 h-3"})," Equipment"]}),u.jsx("div",{className:"space-y-1.5",children:hTe.map(R=>{const F=h[R];if(!F)return u.jsxs("div",{className:"flex items-center gap-2 p-1.5 bg-white/2 rounded text-xs text-gray-700",children:[u.jsx("span",{className:"font-mono w-12 text-[10px]",children:R}),u.jsx("span",{className:"italic",children:"Empty"})]},R);const D=Vn(F.rarity);return u.jsxs("div",{className:`flex items-center gap-2 p-1.5 rounded border ${D.border} ${D.bg}`,children:[u.jsx("span",{className:"font-mono w-12 text-[10px] text-gray-500",children:R}),u.jsx("span",{className:`text-xs font-bold truncate ${D.text}`,children:F.name})]},R)})})]}),N.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-2 flex items-center gap-1",children:[u.jsx(wE,{className:"w-3 h-3 text-purple-400"})," Active Sets"]}),N.map(({set:R,activeBonus:F})=>u.jsxs("div",{className:"p-2 bg-purple-500/5 border border-purple-500/20 rounded-lg mb-1 text-xs",children:[u.jsx("span",{className:"text-purple-400 font-bold",children:R.name}),u.jsxs("span",{className:"text-gray-500 ml-1",children:[" ",F.label]})]},R.id))]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(Ud,{className:"w-3 h-3 text-yellow-400"})," Achievements (",k.length,")"]}),j.length>0?u.jsx("div",{className:"grid grid-cols-3 gap-2",children:j.slice(0,12).map(R=>u.jsxs("div",{className:"text-center p-2 bg-yellow-500/5 border border-yellow-500/10 rounded-lg",children:[u.jsx("div",{className:"text-xl",children:R.icon}),u.jsx("div",{className:"text-[9px] text-yellow-400 font-bold truncate mt-0.5",children:R.title})]},R.id))}):u.jsx("p",{className:"text-xs text-gray-600 italic",children:"No achievements yet"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3",children:"Activity"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(bE,{className:"w-3.5 h-3.5 text-orange-400"}),u.jsx("span",{className:"text-gray-400",children:"Engagement Streak:"}),u.jsxs("span",{className:"text-orange-400 font-bold",children:[a.engagementStreak||0," weeks"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(zoe,{className:"w-3.5 h-3.5 text-red-400"}),u.jsx("span",{className:"text-gray-400",children:"Quests Completed:"}),u.jsx("span",{className:"text-red-400 font-bold",children:((A=a.completedQuests)==null?void 0:A.length)||0})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(Rh,{className:"w-3.5 h-3.5 text-green-400"}),u.jsx("span",{className:"text-gray-400",children:"Tutoring Sessions:"}),u.jsx("span",{className:"text-green-400 font-bold",children:a.tutoringSessionsCompleted||0})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(Ii,{className:"w-3.5 h-3.5 text-cyan-400"}),u.jsx("span",{className:"text-gray-400",children:"Total XP:"}),u.jsx("span",{className:"text-cyan-400 font-bold",children:(a.xp||0).toLocaleString()})]})]})]})]})]})]})})};function pTe(t){const{activatorEvent:e,draggingNodeRect:r,transform:n}=t;if(r&&e){const i=Og(e);return i?{...n,x:n.x+i.x-(r.left+r.width/2),y:n.y+i.y-(r.top+r.height/2)}:n}return n}const mTe={Textbook:u.jsx(so,{className:"w-5 h-5"}),Simulation:u.jsx(zq,{className:"w-5 h-5 fill-current"}),"Lab Guide":u.jsx(d2,{className:"w-5 h-5"}),"Practice Set":u.jsx(Po,{className:"w-5 h-5"}),Article:u.jsx(Bq,{className:"w-5 h-5"}),"Video Lesson":u.jsx(qq,{className:"w-5 h-5"}),Supplemental:u.jsx(xE,{className:"w-5 h-5"})};let Q0=0,fT=!1,pT=!1,Yz="";const gTe=({user:t,assignments:e,submissions:r,enabledFeatures:n,onNavigate:i,onStartAssignment:a,studentTab:s="RESOURCES"})=>{var Ki,Wn,Ir,an,An,_a,Wi,ho,Us,Sa,yt,he,qe,rt,Bt,tr,sn,Rr,on,fr,fo,zs,Ho,Au,$s,Vs,sa,xi,Eu;const l=ia(),{confirm:d}=bu(),[h,p]=P.useState(new Set),[m,y]=P.useState(t.classType||((Ki=t.enrolledClasses)==null?void 0:Ki[0])||"Unassigned"),[b,T]=P.useState(null),[S,w]=P.useState([]),[N,k]=P.useState(!1),[j,$]=P.useState(null);Yz!==t.id&&(Yz=t.id,Q0=((Wn=t.gamification)==null?void 0:Wn.lastLevelSeen)||1,fT=!1,pT=!1),Q0===0&&(Q0=((Ir=t.gamification)==null?void 0:Ir.lastLevelSeen)||1);const I=s,[L,E]=P.useState(!1),[A,R]=P.useState(null),[F,D]=P.useState(!1),[B,M]=P.useState(null),[Q,Z]=P.useState(null),[W,J]=P.useState(null),[Y,ge]=P.useState(null),[ce,X]=P.useState(null),[te,ue]=P.useState(null),[oe,ae]=P.useState(!1),[pe,ye]=P.useState(null),[Xe,Ne]=P.useState(!1);P.useEffect(()=>{var We,ct,Et;const ve=((We=t.gamification)==null?void 0:We.level)||1,Ie=Math.max(((ct=t.gamification)==null?void 0:ct.lastLevelSeen)||1,Q0);if(ve>Ie){Q0=ve;const $t=((Et=t.gamification)==null?void 0:Et.inventory)||[],mr=$t.length>0?$t[$t.length-1]:null;$(mr),k(!0),Ci.levelUp()}},[(an=t.gamification)==null?void 0:an.level,(An=t.gamification)==null?void 0:An.lastLevelSeen,(_a=t.gamification)==null?void 0:_a.inventory]),P.useEffect(()=>{const ve=[];try{ve.push($e.subscribeToXPEvents(Ie=>{const We=Ie.find(ct=>ct.isActive&&(ct.type==="GLOBAL"||ct.targetClass===m));T(We||null)}))}catch{}try{ve.push($e.subscribeToQuests(Ie=>{const We=t.enrolledClasses||(t.classType?[t.classType]:[]);w(Ie.filter(ct=>{if(!ct.isActive)return!1;const Et=new Date;return!(ct.startsAt&&new Date(ct.startsAt)>Et||ct.expiresAt&&new Date(ct.expiresAt)<Et||ct.targetClass&&!We.includes(ct.targetClass))}))}))}catch{}return()=>ve.forEach(Ie=>Ie())},[m]);const le=((ho=(Wi=t.gamification)==null?void 0:Wi.classXp)==null?void 0:ho[m])||0,je=ee.useRef(le),we=ee.useRef(m);P.useEffect(()=>{if(we.current!==m){we.current=m,je.current=le;return}if(le>je.current&&je.current>=0){const ve=le-je.current;if(ve>0&&ve<500){ue(ve),Ci.xpGain();const Ie=setTimeout(()=>ue(null),2e3);return()=>clearTimeout(Ie)}}je.current=le},[le]),P.useEffect(()=>{var We;if(fT)return;fT=!0;const ve=new Date().toISOString().split("T")[0];((We=t.gamification)==null?void 0:We.lastLoginRewardDate)!==ve&&!Xe&&$e.claimDailyLogin().then(ct=>{ct.alreadyClaimed||(Ne(!0),Ci.dailyReward(),l.success(`Daily login: +${ct.xpReward} XP, +${ct.fluxReward} Flux (${ct.streak}-day streak!)`))}).catch(()=>{})},[]),P.useEffect(()=>{pT||(pT=!0,$e.updateEngagementStreak().catch(()=>{}))},[]);const[ut,Ge]=P.useState([]);P.useEffect(()=>{let ve;try{ve=$e.subscribeToAnnouncements(Ge)}catch{}return()=>ve==null?void 0:ve()},[]);const lt=P.useMemo(()=>{var Ie;const ve=((Ie=t.gamification)==null?void 0:Ie.dismissedAnnouncements)||[];return ut.filter(We=>!ve.includes(We.id)&&(We.classType==="GLOBAL"||We.classType===m))},[ut,(Us=t.gamification)==null?void 0:Us.dismissedAnnouncements,m]),it=async ve=>{await $e.dismissAnnouncement(t.id,ve)},Rt=()=>{var Ie;const ve=((Ie=t.gamification)==null?void 0:Ie.level)||1;Q0=ve,k(!1),$(null),$e.updateUserLastLevelSeen(t.id,ve).catch(()=>{})},Oe=async ve=>{try{await $e.updateUserAppearance(t.id,ve,m),l.success("Profile updated!"),E(!1),M(null),Z(null),J(null),ge(null),X(null)}catch{l.error("Failed to save  try again")}},at=t.enrolledClasses||(t.classType?[t.classType]:[]),ht=P.useMemo(()=>zd(t,m),[t,m]),de=ht.equipped,Ue=ht.inventory,ne=P.useMemo(()=>{const ve={tech:10,focus:10,analysis:10,charisma:10};return Object.values(de).filter(Boolean).forEach(We=>{We.stats&&Object.entries(We.stats).forEach(([ct,Et])=>{ve[ct]+=Et})}),ve},[de]),De=P.useMemo(()=>Dh(de),[de]),Ye=P.useMemo(()=>{const ve=t.gamification||{},We={...ve.achievementProgress||{}},ct=ve.xp||0,Et=ve.level||1,$t=ve.inventory||[],mr=ve.completedQuests||[],Un=ve.engagementStreak||0,wi=ve.loginStreak||0,Qt=ve.tutoringSessionsCompleted||0,Fs=ve.bossesDefeated||0,fs=ve.challengesCompleted||0,Xi=ve.itemsCrafted||0,gr=(Go,Nu)=>{(!We[Go]||Nu>We[Go])&&(We[Go]=Nu)};return gr("first_steps",ct),gr("xp_5k",ct),gr("xp_25k",ct),gr("rising_star",Et),gr("veteran",Et),gr("elite",Et),gr("legend",Et),gr("collector_10",$t.length),gr("collector_50",$t.length),gr("gear_score_100",De),gr("gear_score_500",De),gr("first_mission",mr.length),gr("mission_5",mr.length),gr("mission_20",mr.length),gr("boss_slayer",Fs),gr("streak_3",Un),gr("streak_8",Un),gr("streak_16",Un),gr("login_7",wi),gr("login_30",wi),gr("challenges_10",fs),gr("tutor_1",Qt),gr("tutor_10",Qt),gr("tech_50",ne.tech),gr("focus_50",ne.focus),gr("analysis_50",ne.analysis),gr("charisma_50",ne.charisma),gr("craft_10",Xi),We},[t,De,ne]),et=[{subject:"Tech",A:ne.tech,fullMark:100},{subject:"Focus",A:ne.focus,fullMark:100},{subject:"Analysis",A:ne.analysis,fullMark:100},{subject:"Charisma",A:ne.charisma,fullMark:100}],Qe=P.useMemo(()=>{const ve={};return e.filter(Ie=>Ie.classType===m&&Ie.status!=="DRAFT").forEach(Ie=>{var Et;const We=r.find($t=>$t.assignmentId===Ie.id),ct=Ie.unit||"General Resources";ve[ct]||(ve[ct]=[]),ve[ct].push({...Ie,lastEngagement:We&&We.submittedAt||null,engagementTime:((Et=We==null?void 0:We.metrics)==null?void 0:Et.engagementTime)||0})}),ve},[e,r,m]),Fe=ve=>{const Ie=new Set(h);Ie.has(ve)?Ie.delete(ve):Ie.add(ve),p(Ie)},mt=((Sa=t.gamification)==null?void 0:Sa.level)||1,_t=((yt=t.gamification)==null?void 0:yt.currency)||0,en=le,mn=en%1e3/1e3*100,Sn=Kz(en),Kt=Kz(_t),qt=Ph(mt),Ht=async ve=>{const Ie=ve.target.value;y(Ie),await $e.switchUserView(t.id,Ie)},oi=async ve=>{if(!F){D(!0);try{await $e.equipItem(t.id,ve,m),R(null),Ci.equip(),l.success(`${ve.name} equipped.`)}catch{l.error("Failed to equip item.")}finally{D(!1)}}},li=async ve=>{D(!0);try{await $e.unequipItem(t.id,ve,m),R(null),l.success("Item unequipped.")}catch{l.error("Failed to unequip item.")}finally{D(!1)}},wa=async()=>{if(!A)return;if(Object.values(de).some(We=>We&&We.id===A.id)){l.error("Unequip this item before salvaging.");return}const Ie=IR(A);if(await d({message:`Salvage ${A.name} for ${Ie} Cyber-Flux? This item will be destroyed.`,confirmLabel:"Salvage"})){D(!0);try{await $e.disenchantItem(t.id,A,m),R(null),Ci.salvage(),l.success(`Salvaged for ${Ie} Cyber-Flux.`)}catch{l.error("Failed to salvage item.")}finally{D(!1)}}},Mi=async ve=>{if(!A)return;const Ie=ed[ve];if(_t<Ie)return l.error("Insufficient Cyber-Flux.");D(!0);try{await $e.craftItem(t.id,A,ve,m),R(null),Ci.craft(),l.success(`${ve.charAt(0)+ve.slice(1).toLowerCase()} complete.`)}catch(We){const ct=(We==null?void 0:We.message)||(We==null?void 0:We.code)||"Unknown error";l.error(`Fabrication failed: ${ct}`)}finally{D(!1)}},jr=((he=t.gamification)==null?void 0:he.activeQuests)||[],kr=((qe=t.gamification)==null?void 0:qe.completedQuests)||[],Ar=S.filter(ve=>jr.some(Ie=>Ie.questId===ve.id)),Mt=S.filter(ve=>!jr.some(Ie=>Ie.questId===ve.id)&&!kr.includes(ve.id)),tn=async ve=>{try{await $e.acceptQuest(t.id,ve.id),Ci.questAccept(),l.success(`Contract accepted: ${ve.title}`)}catch{l.error("Failed to accept contract.")}},Tn=async ve=>{const Ie=ve.type==="CUSTOM";if(await d({message:Ie?"Submit quest for manual HQ verification?":"Deploy agent for skill check? This will calculate your success probability based on current gear.",confirmLabel:Ie?"Submit":"Deploy",variant:"info"}))try{await $e.deployMission(t.id,ve),Ci.questDeploy(),l.info("Mission deployed. Awaiting verification.")}catch{l.error("Deployment failed.")}},gn=["HEAD","HANDS","RING1","AMULET"],rn=["CHEST","BELT","FEET","RING2"],[zr,Xt]=P.useState(null),bi=A_e(Mz(JN,{activationConstraint:{distance:8}}),Mz(MX,{activationConstraint:{delay:150,tolerance:5}})),Xr=ve=>ve==="RING1"||ve==="RING2"?["RING"]:[ve],yn=ve=>{const{active:Ie}=ve,We=Ue.find(ct=>ct.id===Ie.id)||Object.values(de).find(ct=>ct&&ct.id===Ie.id);Xt(We||null)},aa=ve=>{const{active:Ie,over:We}=ve;if(Xt(null),!We)return;const ct=Ie.id,Et=We.id;if(Et.startsWith("slot-")){const $t=Et.replace("slot-",""),mr=Ue.find(wi=>wi.id===ct);if(!mr||!Xr($t).includes(mr.slot))return;oi(mr)}if(ct.startsWith("equipped-")&&(Et==="inventory-zone"||Et.startsWith("storage-cell-"))){const $t=ct.replace("equipped-","");li($t)}},Or=(ve,Ie,We="w-5 h-5")=>{const ct=`${We} ${Ie}`,Et={viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};switch(ve){case"HEAD":return u.jsxs("svg",{className:ct,...Et,children:[u.jsx("path",{d:"M12 2C8 2 5 5 5 9v2a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V9c0-4-3-7-7-7z"}),u.jsx("path",{d:"M5 11v2h14v-2"}),u.jsx("path",{d:"M8 6h8",strokeWidth:1.5,opacity:.6})]});case"CHEST":return u.jsxs("svg",{className:ct,...Et,children:[u.jsx("path",{d:"M6 4l-2 3v5a2 2 0 0 0 2 2h2l1 3h6l1-3h2a2 2 0 0 0 2-2V7l-2-3"}),u.jsx("path",{d:"M6 4h12"}),u.jsx("path",{d:"M12 4v5"}),u.jsx("path",{d:"M9 9h6"})]});case"HANDS":return u.jsxs("svg",{className:ct,...Et,children:[u.jsx("path",{d:"M7 14V8a2 2 0 0 1 4 0v1"}),u.jsx("path",{d:"M11 9V7a2 2 0 0 1 4 0v3"}),u.jsx("path",{d:"M15 10V9a2 2 0 0 1 3 1v4c0 3-2 6-5 7H9c-3-1-5-4-5-7v-2a2 2 0 0 1 3-1"})]});case"FEET":return u.jsxs("svg",{className:ct,...Et,children:[u.jsx("path",{d:"M7 3v10l-3 4v2h16v-2l-2-2V7a4 4 0 0 0-4-4H7z"}),u.jsx("path",{d:"M4 19h16"}),u.jsx("path",{d:"M11 3v4"})]});case"BELT":return u.jsxs("svg",{className:ct,...Et,children:[u.jsx("rect",{x:"2",y:"9",width:"20",height:"6",rx:"1"}),u.jsx("rect",{x:"9",y:"8",width:"6",height:"8",rx:"1",strokeWidth:1.5}),u.jsx("line",{x1:"9",y1:"12",x2:"15",y2:"12"})]});case"AMULET":return u.jsxs("svg",{className:ct,...Et,children:[u.jsx("path",{d:"M6 3a14 14 0 0 0 12 0"}),u.jsx("path",{d:"M12 7v3"}),u.jsx("path",{d:"M12 10l-3 3 3 5 3-5-3-3z",fill:"currentColor",fillOpacity:.2})]});case"RING":return u.jsxs("svg",{className:ct,...Et,children:[u.jsx("ellipse",{cx:"12",cy:"14",rx:"6",ry:"5"}),u.jsx("path",{d:"M12 9V6"}),u.jsx("path",{d:"M10 6h4l-2-3-2 3z",fill:"currentColor",fillOpacity:.3})]});default:return u.jsx(mb,{className:ct})}},nn=({slot:ve})=>{const Ie=de[ve],We=Ie?Vn(Ie.rarity):{border:"border-white/10",bg:"bg-black/20",text:"text-gray-600",glow:"",shimmer:""},{setNodeRef:ct,isOver:Et}=t9({id:`slot-${ve}`}),{attributes:$t,listeners:mr,setNodeRef:Un,isDragging:wi}=zX({id:Ie?`equipped-${ve}`:`empty-slot-${ve}`,disabled:!Ie}),Qt=zr&&Xr(ve).includes(zr.slot),Fs=Et&&Qt?"ring-2 ring-purple-500 scale-110":zr&&Qt?"ring-1 ring-purple-500/40 animate-pulse":"";return u.jsx("div",{ref:ct,className:"relative",children:u.jsx("div",{ref:Un,...$t,...mr,className:`w-16 h-16 rounded-xl border-2 flex flex-col items-center justify-center relative group transition-all duration-200 ${wi?"opacity-30 scale-90 border-dashed":"hover:scale-110 cursor-grab active:cursor-grabbing"} ${We.border} ${We.bg} ${We.shimmer} ${We.glow} ${Fs}`,onClick:()=>!wi&&Ie&&R(Ie),children:Ie?u.jsxs(u.Fragment,{children:[Or(ve.replace(/\d/,""),We.text),u.jsx("span",{className:`text-[7px] font-bold mt-0.5 truncate w-full text-center px-0.5 ${We.text}`,children:Ie.baseName||Ie.name.split(" ").slice(-1)[0]}),!wi&&u.jsxs("div",{className:"absolute -top-[4.5rem] left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-150 pointer-events-none z-30 bg-black/95 border border-white/15 px-3 py-2 rounded-lg whitespace-nowrap shadow-xl backdrop-blur-sm",children:[u.jsx("div",{className:`text-[10px] font-bold ${We.text}`,children:Ie.name}),u.jsxs("div",{className:"text-[9px] text-gray-400 font-mono",children:[Ie.rarity," ",ve]}),u.jsx("div",{className:"text-[9px] text-gray-500 mt-0.5",children:Object.entries(Ie.stats).map(([fs,Xi])=>`+${Xi} ${fs.slice(0,3).toUpperCase()}`).join("  ")}),u.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-black/95 border-b border-r border-white/15 rotate-45"})]})]}):u.jsx("span",{className:"text-[8px] font-bold text-gray-600 uppercase tracking-widest",children:ve.slice(0,4)})})})};return u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 h-full pb-12",children:[lt.length>0&&u.jsx("div",{className:"lg:col-span-12 space-y-2",children:lt.map(ve=>{const Ie={INFO:"bg-blue-600/10 border-blue-500/30 text-blue-300",WARNING:"bg-yellow-600/10 border-yellow-500/30 text-yellow-300",URGENT:"bg-red-600/10 border-red-500/30 text-red-300 animate-pulse"};return u.jsxs("div",{className:`border rounded-2xl p-4 flex items-start gap-3 ${Ie[ve.priority]}`,children:[u.jsx(yb,{className:"w-5 h-5 shrink-0 mt-0.5"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-bold text-sm text-white",children:ve.title}),u.jsx("div",{className:"text-xs mt-0.5 opacity-80",children:ve.content})]}),u.jsx("button",{onClick:()=>it(ve.id),className:"p-1 text-gray-500 hover:text-white transition shrink-0",children:u.jsx(ds,{className:"w-4 h-4"})})]},ve.id)})}),b&&u.jsx("div",{className:"lg:col-span-12",children:u.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 border border-blue-500/50 rounded-2xl p-4 flex items-center justify-between shadow-[0_0_20px_rgba(59,130,246,0.3)] animate-pulse",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-blue-500 text-white p-2 rounded-lg",children:u.jsx(Ii,{className:"w-5 h-5 fill-current"})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-white font-bold text-lg uppercase tracking-wider",children:[b.title," ACTIVE"]}),u.jsxs("p",{className:"text-blue-300 text-xs font-mono",children:["Protocol engaged. Gaining ",b.multiplier,"x XP on all tasks."]})]})]}),u.jsxs("div",{className:"text-3xl font-black text-white/90 font-mono tracking-tighter",children:[b.multiplier,"x"]})]})}),u.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[u.jsxs("div",{className:`bg-white/5 border rounded-3xl p-6 backdrop-blur-md relative overflow-hidden group ${qt.tierColor.split(" ")[0]} border-opacity-30`,children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/40 to-transparent"}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[u.jsx("div",{className:`w-24 h-24 rounded-full p-1 bg-gradient-to-tr from-white/10 to-white/5 mb-4 ${qt.tierGlow} shadow-xl`,children:u.jsx("img",{src:t.avatarUrl,alt:"Avatar",className:`w-full h-full rounded-full border-4 object-cover ${qt.tierColor.split(" ")[0]}`})}),u.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:((rt=t.gamification)==null?void 0:rt.codename)||t.name}),u.jsxs("div",{className:"flex flex-col items-center gap-1",children:[u.jsxs("span",{className:`font-mono text-xs uppercase tracking-[0.2em] mt-1 font-bold ${qt.tierColor.split(" ")[1]}`,children:[qt.rankName," (Lvl ",mt,")"]}),u.jsxs("span",{className:"text-[10px] bg-yellow-500/10 text-yellow-400 px-2 py-0.5 rounded border border-yellow-500/20 font-bold uppercase tracking-widest",children:["Gear Score: ",De]})]}),at.length>1&&u.jsxs("div",{className:"mt-4 relative w-full",children:[u.jsx("select",{value:m,onChange:Ht,className:"w-full bg-black/40 border border-white/20 text-white text-xs font-bold py-2 px-4 rounded-xl appearance-none focus:outline-none focus:border-purple-500 transition",children:at.map(ve=>u.jsx("option",{value:ve,children:ve},ve))}),u.jsx(za,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400 pointer-events-none"})]}),u.jsx("div",{className:"w-full h-2 bg-black/60 rounded-full mt-6 overflow-hidden border border-white/5 relative",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-400 to-purple-500 transition-all duration-1000",style:{width:`${mn}%`}})}),u.jsxs("div",{className:"flex justify-between w-full text-[9px] text-gray-500 mt-2 font-mono font-bold relative",children:[u.jsxs("span",{children:[Sn.toLocaleString()," XP (",m,")"]}),u.jsx("span",{children:"Next Rank"}),te&&u.jsxs("span",{className:"xp-float-anim absolute -top-6 left-1/2 -translate-x-1/2 text-sm font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-400 whitespace-nowrap",children:["+",te," XP"]})]})]})]}),u.jsx("div",{className:"bg-black/20 border border-white/5 rounded-2xl p-4 flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500/20 text-cyan-400 flex items-center justify-center",children:u.jsx(_oe,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest",children:"Cyber-Flux"}),u.jsx("div",{className:"text-xl font-black text-white leading-none",children:Kt})]})]})}),(((Bt=t.gamification)==null?void 0:Bt.engagementStreak)||0)>0&&(()=>{var We;const ve=((We=t.gamification)==null?void 0:We.engagementStreak)||0,Ie=XSe(ve);return u.jsx("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-2xl p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-500/20 text-orange-400 flex items-center justify-center",children:u.jsx(bE,{className:"w-6 h-6"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest",children:"Streak"}),u.jsxs("div",{className:"text-xl font-black text-orange-400 leading-none",children:[ve,"w"]})]}),Ie>1&&u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[9px] text-gray-500 uppercase",children:"XP Bonus"}),u.jsxs("div",{className:"text-sm font-black text-yellow-400",children:["+",Math.round((Ie-1)*100),"%"]})]})]})})})(),(((tr=t.gamification)==null?void 0:tr.loginStreak)||0)>1&&u.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-2xl p-3 flex items-center gap-3",children:[u.jsx(Loe,{className:"w-5 h-5 text-purple-400"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Daily Login"}),u.jsxs("div",{className:"text-sm font-black text-purple-400",children:[((sn=t.gamification)==null?void 0:sn.loginStreak)||0," day streak"]})]})]}),u.jsxs("button",{onClick:()=>ae(!0),className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 p-3 rounded-2xl flex items-center justify-center gap-2 transition text-gray-400 hover:text-white text-sm font-bold",children:[u.jsx($m,{className:"w-4 h-4"})," View Profile"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest px-2",children:"Access Nodes"}),n.physicsLab&&u.jsxs("button",{onClick:()=>i("Physics Lab"),className:"w-full bg-blue-500/10 hover:bg-blue-500/20 border border-blue-500/20 p-4 rounded-2xl flex items-center justify-between transition group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-blue-500/20 rounded-xl text-blue-400 shadow-inner",children:u.jsx(d2,{className:"w-5 h-5"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-bold text-gray-200 text-sm",children:"Physics Lab"}),u.jsx("div",{className:"text-[10px] text-blue-300/70 uppercase font-bold tracking-tight",children:"Active Simulations"})]})]}),u.jsx(Ad,{className:"w-4 h-4 text-blue-500 group-hover:translate-x-1 transition"})]}),n.evidenceLocker&&u.jsxs("button",{onClick:()=>i("Forensics"),className:"w-full bg-emerald-500/10 hover:bg-emerald-500/20 border border-emerald-500/20 p-4 rounded-2xl flex items-center justify-between transition group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-xl text-emerald-400 shadow-inner",children:u.jsx(Noe,{className:"w-5 h-5"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-bold text-gray-200 text-sm",children:"Evidence Log"}),u.jsx("div",{className:"text-[10px] text-emerald-300/70 uppercase font-bold tracking-tight",children:"Weekly Portfolio"})]})]}),u.jsx(Ad,{className:"w-4 h-4 text-emerald-500 group-hover:translate-x-1 transition"})]})]})]}),u.jsx("div",{className:"lg:col-span-9 space-y-6",children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-md min-h-[600px] flex flex-col",children:[I==="MISSIONS"&&u.jsxs("div",{className:"space-y-6",style:{animation:"tabEnter 0.3s ease-out both"},children:[u.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest px-2",children:"Available Contracts"}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[Mt.length===0&&u.jsx("div",{className:"text-gray-500 italic px-4 py-10 text-center bg-black/10 rounded-xl border border-dashed border-white/5",children:"No new contracts available. Check back later."}),Mt.map(ve=>u.jsxs("div",{className:"bg-black/20 border border-indigo-500/30 p-5 rounded-2xl relative overflow-hidden group hover:border-indigo-500/60 transition",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("h4",{className:"text-lg font-bold text-white",children:ve.title}),u.jsx("span",{className:"bg-indigo-600 text-white text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wider",children:ve.type.replace("_"," ")})]}),u.jsx("p",{className:"text-sm text-gray-400 mb-4 pr-16",children:ve.description}),u.jsxs("div",{className:"flex items-center gap-4 text-xs font-mono text-gray-500 mb-4",children:[ve.statRequirements&&u.jsx("div",{className:"flex gap-2",children:Object.entries(ve.statRequirements).map(([Ie,We])=>u.jsxs("span",{className:"bg-white/5 px-2 py-1 rounded border border-white/10 uppercase",children:[We," ",Ie]},Ie))}),ve.expiresAt&&u.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[u.jsx(Is,{className:"w-3 h-3"})," Expires: ",new Date(ve.expiresAt).toLocaleDateString()]})]}),u.jsxs("button",{onClick:()=>tn(ve),className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-xl text-sm font-bold shadow-lg shadow-indigo-900/20 transition flex items-center gap-2",children:[u.jsx(hh,{className:"w-4 h-4"})," Accept Contract"]})]},ve.id))]}),u.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest px-2 pt-4 border-t border-white/10",children:"Active Operations"}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[Ar.length===0&&u.jsx("div",{className:"text-gray-500 italic px-4 py-10 text-center bg-black/10 rounded-xl border border-dashed border-white/5",children:"No active operations. Accept a contract above to begin."}),Ar.map(ve=>{var Et,$t;const Ie=((Et=jr.find(mr=>mr.questId===ve.id))==null?void 0:Et.status)||"ACCEPTED",We=($t=jr.find(mr=>mr.questId===ve.id))==null?void 0:$t.deploymentRoll,ct=ve.type==="CUSTOM";return u.jsxs("div",{className:"bg-[#0f0720]/80 border border-purple-500/30 p-6 rounded-3xl relative group hover:border-purple-500/60 transition-all shadow-[0_0_30px_rgba(168,85,247,0.1)]",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-purple-600/20 text-purple-400 flex items-center justify-center border border-purple-500/20 shadow-inner",children:u.jsx(Po,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-white font-bold text-lg leading-tight",children:ve.title}),u.jsxs("div",{className:"text-[10px] text-gray-500 uppercase font-black tracking-[0.1em]",children:[ve.type," MISSION"]})]})]}),u.jsx("span",{className:`text-[10px] font-black tracking-widest px-3 py-1 rounded-full border ${Ie==="COMPLETED"?"bg-green-500/20 text-green-400 border-green-500/30":Ie==="FAILED"?"bg-red-500/20 text-red-400 border-red-500/30":Ie==="DEPLOYED"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-white/5 text-gray-400 border-white/10"}`,children:Ie})]}),Ie==="ACCEPTED"?u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"text-sm text-gray-400 mb-6 leading-relaxed bg-black/20 p-4 rounded-2xl border border-white/5",children:ve.description}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:()=>Tn(ve),className:"flex-1 bg-indigo-600 hover:bg-indigo-500 text-white py-4 rounded-2xl text-sm font-black uppercase tracking-widest transition shadow-lg shadow-indigo-900/40 flex items-center justify-center gap-3 group/btn",children:[u.jsx($q,{className:"w-5 h-5 group-hover/btn:animate-pulse"}),ct?"Broadcast Submission to HQ":"Deploy for Skill Check"]}),ve.isGroupQuest&&u.jsx("button",{className:"bg-white/5 hover:bg-white/10 text-white px-6 py-4 rounded-2xl text-sm font-black transition border border-white/10",children:u.jsx(uu,{className:"w-5 h-5"})})]})]}):Ie==="DEPLOYED"?u.jsxs("div",{className:"bg-black/40 p-6 rounded-3xl border border-purple-500/20 flex flex-col gap-4 animate-in fade-in zoom-in-95",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-ping absolute -top-1 -right-1"}),u.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full absolute -top-1 -right-1 shadow-[0_0_10px_#22c55e]"}),u.jsx(Ii,{className:"w-6 h-6 text-purple-400"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Uplink Status"}),u.jsx("div",{className:"text-sm font-black text-white font-mono uppercase tracking-tighter",children:ct?"AWAITING_HQ_SIG_VERIFICATION":We===100?"SUCCESS_VERIFIED":"FAILURE_DETECTED"})]})]}),u.jsx("div",{className:"h-10 w-px bg-white/5"}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold",children:"Node"}),u.jsx("div",{className:"text-xs font-bold text-purple-300",children:"HQ_CENTRAL"})]})]}),u.jsx("div",{className:"h-1 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-indigo-500 animate-pulse w-3/4"})}),u.jsx("p",{className:"text-[11px] text-gray-500 italic text-center font-mono",children:ct?"Encrypted transmission confirmed. HQ is currently reviewing your evidence data. Rewards will be issued upon manual signal confirmation.":"Autonomous verification complete. Skill check results logged below."})]}):null]},ve.id)})]})]},"missions"),I==="RESOURCES"&&u.jsx("div",{style:{animation:"tabEnter 0.3s ease-out both"},children:Object.entries(Qe).length===0?u.jsx("div",{className:"text-center py-20 text-gray-500 italic",children:"No resources released for this class node."}):u.jsx("div",{className:"space-y-4",children:Object.entries(Qe).sort().map(([ve,Ie])=>u.jsxs("div",{className:"bg-black/20 rounded-2xl border border-white/5 overflow-hidden",children:[u.jsxs("button",{onClick:()=>Fe(ve),className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[h.has(ve)?u.jsx(za,{className:"w-4 h-4 text-purple-400"}):u.jsx(Ad,{className:"w-4 h-4 text-gray-500"}),u.jsx("span",{className:"font-bold text-sm text-gray-300 uppercase tracking-wider",children:ve})]}),u.jsxs("span",{className:"text-[10px] bg-white/5 text-gray-500 px-2 py-0.5 rounded-full font-mono",children:[Ie.length," Files"]})]}),h.has(ve)&&u.jsx("div",{className:"grid grid-cols-1 gap-2 p-3 pt-0 animate-in slide-in-from-top-2 duration-300",children:Ie.map(We=>{const ct=!!We.dueDate,Et=We.dueDate?new Date(We.dueDate):null,$t=new Date,mr=Et?Math.ceil((Et.getTime()-$t.getTime())/864e5):1/0,Un=mr<=0?"text-red-400":mr<=2?"text-yellow-400":"text-gray-500",wi=Math.floor(We.engagementTime/60),Qt=wi>=5;return u.jsxs("div",{className:"bg-white/5 border border-white/5 hover:border-purple-500/40 p-4 rounded-xl transition-all cursor-pointer group flex items-center gap-4",onClick:()=>a&&a(We.id),children:[u.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 transition-all ${Qt?"bg-green-500/20 text-green-400 ring-2 ring-green-500/30":We.lastEngagement?"bg-green-500/10 text-green-400":"bg-purple-500/10 text-purple-400 group-hover:scale-110 shadow-lg group-hover:shadow-purple-500/20"}`,children:Qt?u.jsx(fi,{className:"w-6 h-6"}):We.lastEngagement?u.jsx(fi,{className:"w-5 h-5 opacity-60"}):mTe[We.category||"Supplemental"]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[8px] font-bold uppercase px-1.5 py-0.5 rounded bg-black/40 text-gray-500 border border-white/5",children:We.category}),u.jsx("h4",{className:"font-bold text-white text-sm truncate",children:We.title})]}),u.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:u.jsx("p",{className:"text-xs text-gray-500 truncate",children:We.description})}),u.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[We.lastEngagement&&u.jsxs("span",{className:"text-[9px] text-green-500 font-bold",children:[wi,"m engaged"]}),ct&&u.jsxs("span",{className:`text-[9px] font-bold flex items-center gap-0.5 ${Un}`,children:[u.jsx(Os,{className:"w-3 h-3"}),mr<=0?"Overdue":mr===1?"Due tomorrow":`Due in ${mr}d`]})]})]}),u.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition",children:u.jsx(zq,{className:"w-4 h-4 text-purple-400 fill-current"})})]},We.id)})})]},ve))})},"resources"),I==="LOADOUT"&&u.jsxs(TSe,{sensors:bi,collisionDetection:O_e,modifiers:[pTe],onDragStart:yn,onDragEnd:aa,children:[u.jsxs("div",{className:"flex flex-col h-full",style:{animation:"tabEnter 0.3s ease-out both"},children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 flex-1 min-h-0",children:[u.jsxs("div",{className:"bg-black/30 rounded-2xl border border-white/10 relative overflow-hidden flex flex-col items-center justify-center p-4 min-h-[400px]",children:[u.jsx("div",{className:"absolute inset-0 loadout-hex-bg pointer-events-none"}),u.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:`radial-gradient(ellipse at 50% 60%, hsla(${(((Rr=ht.appearance)==null?void 0:Rr.hue)||0)+200}, 60%, 25%, 0.3) 0%, transparent 70%)`}}),u.jsxs("div",{className:"flex w-full h-full relative z-10 justify-between items-center px-4",children:[u.jsx("div",{className:"flex flex-col gap-4",children:gn.map(ve=>u.jsx(nn,{slot:ve},ve))}),u.jsx("div",{className:"w-40 h-full relative",children:u.jsx(Rx,{equipped:de,appearance:ht.appearance,evolutionLevel:mt})}),u.jsx("div",{className:"flex flex-col gap-4",children:rn.map(ve=>u.jsx(nn,{slot:ve},ve))})]}),u.jsxs("button",{onClick:ve=>{ve.preventDefault(),ve.stopPropagation(),E(!0)},className:"absolute bottom-6 bg-purple-600/20 hover:bg-purple-600 text-purple-400 hover:text-white px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-[0.2em] border border-purple-500/30 transition shadow-lg z-[40] flex items-center gap-2",children:[u.jsx(Foe,{className:"w-3.5 h-3.5"}),"Edit DNA Profile"]})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 rounded-2xl p-4 border border-white/5 flex-1 min-h-[200px]",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Performance Radar"}),u.jsx("div",{className:"h-[200px]",children:u.jsx(XG,{width:"100%",height:"100%",children:u.jsxs(u_e,{cx:"50%",cy:"50%",outerRadius:"70%",data:et,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"radarGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"0%",stopColor:"#06b6d4",stopOpacity:.6}),u.jsx("stop",{offset:"100%",stopColor:"#a855f7",stopOpacity:.3})]})}),u.jsx(bW,{stroke:"rgba(255,255,255,0.08)"}),u.jsx(f1,{dataKey:"subject",tick:{fill:"#9ca3af",fontSize:10,fontWeight:700}}),u.jsx(h1,{angle:30,domain:[0,150],tick:!1,axisLine:!1}),u.jsx(p1,{name:"Stats",dataKey:"A",stroke:"#a855f7",strokeWidth:2,fill:"url(#radarGradient)",fillOpacity:.5,animationDuration:800})]})})})]}),u.jsx("div",{className:"bg-black/20 rounded-2xl p-4 border border-white/5",children:u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),u.jsx("span",{className:"text-gray-500",children:"Tech"})," ",u.jsx("span",{className:"text-blue-400 font-bold ml-auto",children:ne.tech})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"}),u.jsx("span",{className:"text-gray-500",children:"Focus"})," ",u.jsx("span",{className:"text-green-400 font-bold ml-auto",children:ne.focus})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400"}),u.jsx("span",{className:"text-gray-500",children:"Analysis"})," ",u.jsx("span",{className:"text-yellow-400 font-bold ml-auto",children:ne.analysis})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400"}),u.jsx("span",{className:"text-gray-500",children:"Charisma"})," ",u.jsx("span",{className:"text-purple-400 font-bold ml-auto",children:ne.charisma})]})]})})]})]}),u.jsx(yTe,{inventory:Ue,equipped:de,draggedItem:zr,onInspect:R,getSlotIcon:Or})]},"loadout"),u.jsx(VSe,{dropAnimation:{duration:250,easing:"cubic-bezier(0.2, 0.8, 0.2, 1)"},zIndex:9999,children:zr&&(()=>{const ve=Vn(zr.rarity);return u.jsx("div",{className:"drag-overlay-tile rounded-xl pointer-events-none",style:{willChange:"transform, box-shadow"},children:u.jsxs("div",{className:`w-[68px] h-[68px] rounded-xl border-2 flex flex-col items-center justify-center backdrop-blur-sm ${ve.bg} ${ve.border} ${ve.glow}`,style:{filter:"brightness(1.3) saturate(1.2)"},children:[Or(zr.slot,ve.text,"w-7 h-7"),u.jsx("span",{className:`text-[8px] font-bold mt-0.5 ${ve.text} drop-shadow-lg`,children:zr.baseName||zr.name.split(" ").slice(-1)[0]})]})})})()})]}),I==="ACHIEVEMENTS"&&u.jsx("div",{style:{animation:"tabEnter 0.3s ease-out both"},children:u.jsx(YSe,{unlockedAchievements:((on=t.gamification)==null?void 0:on.unlockedAchievements)||[],achievementProgress:Ye})},"achievements"),I==="SKILLS"&&u.jsx("div",{style:{animation:"tabEnter 0.3s ease-out both"},children:u.jsx(JSe,{specialization:(fr=t.gamification)==null?void 0:fr.specialization,skillPoints:((fo=t.gamification)==null?void 0:fo.skillPoints)||0,unlockedSkills:((zs=t.gamification)==null?void 0:zs.unlockedSkills)||[]})},"skills"),I==="FORTUNE"&&u.jsx("div",{className:"space-y-8",style:{animation:"tabEnter 0.3s ease-out both"},children:u.jsx(eTe,{currency:_t,lastSpin:(Ho=t.gamification)==null?void 0:Ho.lastWheelSpin,classType:m})},"fortune"),I==="TUTORING"&&u.jsx("div",{style:{animation:"tabEnter 0.3s ease-out both"},children:u.jsx(cTe,{userId:t.id,userName:t.name,classType:m})},"tutoring")]})}),u.jsxs("div",{className:"lg:col-span-12 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-md",children:u.jsx(lTe,{userId:t.id,activeChallenges:((Au=t.gamification)==null?void 0:Au.activeDailyChallenges)||[],classType:m})}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-md space-y-6",children:[u.jsx(iTe,{userId:t.id,userName:t.name,classType:m}),u.jsx(oTe,{classType:m})]})]}),u.jsx(os,{isOpen:L,onClose:()=>{E(!1),M(null),Z(null),J(null),ge(null),X(null)},title:"Customize Your Agent",maxWidth:"max-w-lg",children:u.jsxs("div",{className:"p-4 space-y-6",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"w-44 h-64 bg-black/40 rounded-3xl p-3 border border-purple-500/20 shadow-inner loadout-hex-bg",children:u.jsx(Rx,{equipped:de,appearance:{...ht.appearance,hue:B??(($s=ht.appearance)==null?void 0:$s.hue)??0,bodyType:Q??((Vs=ht.appearance)==null?void 0:Vs.bodyType)??"A",skinTone:W??((sa=ht.appearance)==null?void 0:sa.skinTone)??0,hairStyle:Y??((xi=ht.appearance)==null?void 0:xi.hairStyle)??1,hairColor:ce??((Eu=ht.appearance)==null?void 0:Eu.hairColor)??0}})})}),u.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/10",children:[u.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 text-center",children:"Skin Tone"}),u.jsx("div",{className:"flex justify-center gap-2",children:$X.map((ve,Ie)=>{var ct;const We=(W??((ct=ht.appearance)==null?void 0:ct.skinTone)??0)===Ie;return u.jsx("button",{onClick:()=>J(Ie),className:`w-8 h-8 rounded-full border-2 transition-all hover:scale-110 ${We?"border-white scale-110 ring-2 ring-white/30":"border-white/10"}`,style:{backgroundColor:ve}},Ie)})})]}),u.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/10",children:[u.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 text-center",children:"Hair Style"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:FSe.map((ve,Ie)=>{var ct;const We=(Y??((ct=ht.appearance)==null?void 0:ct.hairStyle)??1)===Ie;return u.jsx("button",{onClick:()=>ge(Ie),className:`px-3 py-2 rounded-xl text-xs font-bold transition-all ${We?"bg-purple-500/30 border-purple-500 text-white border-2":"bg-white/5 border border-white/10 text-gray-400 hover:bg-white/10 hover:text-gray-200"}`,children:ve},Ie)})})]}),u.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/10",children:[u.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 text-center",children:"Hair Color"}),u.jsx("div",{className:"flex justify-center gap-2",children:VX.map((ve,Ie)=>{var ct;const We=(ce??((ct=ht.appearance)==null?void 0:ct.hairColor)??0)===Ie;return u.jsx("button",{onClick:()=>X(Ie),className:`w-8 h-8 rounded-full border-2 transition-all hover:scale-110 ${We?"border-white scale-110 ring-2 ring-white/30":"border-white/10"}`,style:{backgroundColor:ve}},Ie)})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/10",children:[u.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 text-center",children:"Body Frame"}),u.jsx("div",{className:"flex justify-center gap-2",children:["A","B","C"].map(ve=>{var We;const Ie=(Q??((We=ht.appearance)==null?void 0:We.bodyType)??"A")===ve;return u.jsx("button",{onClick:()=>Z(ve),className:`px-3 py-2 rounded-xl border-2 transition-all font-bold text-xs ${Ie?"border-purple-500 bg-purple-500/20 text-white":"border-white/10 text-gray-500 hover:border-white/20"}`,children:ve==="A"?"Alpha":ve==="B"?"Beta":"Femme"},ve)})})]}),u.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/10",children:[u.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 text-center",children:"Energy Color"}),u.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:[0,30,60,90,120,180,240,300].map(ve=>{var We;const Ie=(B??((We=ht.appearance)==null?void 0:We.hue)??0)===ve;return u.jsx("button",{onClick:()=>M(ve),className:`w-6 h-6 rounded-full border-2 transition-all hover:scale-110 mx-auto ${Ie?"border-white scale-110 ring-1 ring-white/30":"border-transparent"}`,style:{backgroundColor:`hsl(${ve}, 60%, 45%)`}},ve)})})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>{E(!1),M(null),Z(null),J(null),ge(null),X(null)},className:"flex-1 py-3 bg-white/5 border border-white/10 text-gray-400 font-bold rounded-xl hover:bg-white/10 transition",children:"Cancel"}),u.jsx("button",{onClick:()=>{var ve,Ie,We,ct,Et;return Oe({hue:B??((ve=ht.appearance)==null?void 0:ve.hue)??0,bodyType:Q??((Ie=ht.appearance)==null?void 0:Ie.bodyType)??"A",skinTone:W??((We=ht.appearance)==null?void 0:We.skinTone)??0,hairStyle:Y??((ct=ht.appearance)==null?void 0:ct.hairStyle)??1,hairColor:ce??((Et=ht.appearance)==null?void 0:Et.hairColor)??0})},className:"flex-1 py-3 bg-purple-600 text-white font-bold rounded-xl hover:bg-purple-500 transition shadow-lg shadow-purple-900/20",children:"Save Profile"})]})]})}),u.jsx(os,{isOpen:!!A,onClose:()=>R(null),title:"Nano-Fabricator Terminal",maxWidth:"max-w-xl",children:A&&u.jsxs("div",{className:"space-y-6 text-gray-100",children:[u.jsxs("div",{className:`p-5 rounded-xl border ${Vn(A.rarity).bg} ${Vn(A.rarity).border} ${Vn(A.rarity).shimmer} relative overflow-hidden`,children:[u.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[u.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center flex-shrink-0 border ${Vn(A.rarity).border} ${Vn(A.rarity).bg}`,style:{boxShadow:A.rarity==="UNIQUE"?"0 0 20px rgba(249,115,22,0.3)":A.rarity==="RARE"?"0 0 15px rgba(234,179,8,0.2)":"none"},children:Or(A.slot,Vn(A.rarity).text,"w-7 h-7")}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:`text-lg font-bold ${Vn(A.rarity).text}`,children:A.name}),u.jsxs("div",{className:"text-xs text-gray-300 font-mono uppercase",children:[A.rarity," ",A.slot]})]})]}),u.jsx("div",{className:"mt-4 space-y-1",children:Object.entries(A.stats).map(([ve,Ie])=>u.jsxs("div",{className:"flex justify-between text-sm text-gray-200 border-b border-white/5 pb-1",children:[u.jsx("span",{className:"uppercase text-xs text-gray-400 font-bold",children:ve}),u.jsxs("span",{className:"font-mono font-bold",children:["+",Ie]})]},ve))}),u.jsx("div",{className:"mt-4 flex gap-2 flex-wrap",children:A.affixes.map((ve,Ie)=>u.jsxs("span",{className:"text-[9px] bg-black/40 px-2 py-1 rounded border border-white/10 text-gray-400",children:[ve.name," (T",ve.tier,")"]},Ie))})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[(()=>{const ve=A.slot==="RING"?"RING1":A.slot,Ie=de[ve]||(A.slot==="RING"?de.RING2:null);if(!Ie||Ie.id===A.id)return null;const We=Vn(Ie.rarity),ct=new Set([...Object.keys(A.stats),...Object.keys(Ie.stats)]);return u.jsxs("div",{className:"col-span-2 bg-black/30 border border-white/10 rounded-xl p-3 mb-1",children:[u.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold tracking-widest mb-2",children:"Replacing Currently Equipped"}),u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:`text-xs font-bold ${We.text}`,children:Ie.name}),u.jsx("span",{className:"text-[10px] text-gray-500 font-mono",children:Ie.rarity})]}),u.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:Array.from(ct).map(Et=>{const $t=A.stats[Et]||0,mr=Ie.stats[Et]||0,Un=$t-mr;return Un===0?u.jsxs("span",{className:"text-[10px] text-gray-600 font-mono",children:[Et.slice(0,3).toUpperCase(),": 0"]},Et):u.jsxs("span",{className:`text-[10px] font-mono font-bold ${Un>0?"text-green-400":"text-red-400"}`,children:[Et.slice(0,3).toUpperCase(),": ",Un>0?"":"",Math.abs(Un)]},Et)})})]})})(),(()=>{var Ie;const ve=(Ie=Object.entries(de).find(([,We])=>We&&We.id===A.id))==null?void 0:Ie[0];return ve?u.jsx("button",{onClick:()=>li(ve),className:"col-span-2 py-3 bg-orange-600 hover:bg-orange-500 text-white font-bold rounded-xl transition shadow-lg shadow-orange-900/20",disabled:F,children:"Unequip Gear"}):u.jsx("button",{onClick:()=>oi(A),className:"col-span-2 py-3 bg-green-600 hover:bg-green-500 text-white font-bold rounded-xl transition shadow-lg shadow-green-900/20",disabled:F,children:"Equip Gear"})})(),u.jsx("div",{className:"col-span-2 border-t border-white/10 my-2"}),u.jsx("div",{className:"col-span-2 text-center text-xs text-gray-500 font-bold uppercase tracking-widest mb-1",children:"Fabrication Protocols"}),u.jsxs("button",{onClick:()=>Mi("RECALIBRATE"),disabled:F||_t<ed.RECALIBRATE,className:"bg-black/20 hover:bg-purple-900/20 border border-white/10 hover:border-purple-500/50 p-3 rounded-xl text-left transition group disabled:opacity-50",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-xs font-bold text-gray-300 group-hover:text-purple-300",children:"Recalibrate"}),u.jsxs("span",{className:"text-[10px] bg-cyan-900/30 text-cyan-400 px-1.5 rounded",children:[ed.RECALIBRATE," Flux"]})]}),u.jsx("p",{className:"text-[9px] text-gray-500",children:"Reroll numeric values within current tier."})]}),u.jsxs("button",{onClick:()=>Mi("REFORGE"),disabled:F||_t<ed.REFORGE||A.rarity==="UNIQUE",className:"bg-black/20 hover:bg-red-900/20 border border-white/10 hover:border-red-500/50 p-3 rounded-xl text-left transition group disabled:opacity-50",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-xs font-bold text-gray-300 group-hover:text-red-300",children:"Reforge"}),u.jsxs("span",{className:"text-[10px] bg-cyan-900/30 text-cyan-400 px-1.5 rounded",children:[ed.REFORGE," Flux"]})]}),u.jsx("p",{className:"text-[9px] text-gray-500",children:"Reroll all affixes. Keeps Rarity."})]}),u.jsxs("button",{onClick:()=>Mi("OPTIMIZE"),disabled:F||_t<ed.OPTIMIZE,className:"col-span-2 bg-black/20 hover:bg-yellow-900/20 border border-white/10 hover:border-yellow-500/50 p-3 rounded-xl text-left transition group disabled:opacity-50",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-xs font-bold text-gray-300 group-hover:text-yellow-300",children:"Optimize Tier"}),u.jsxs("span",{className:"text-[10px] bg-cyan-900/30 text-cyan-400 px-1.5 rounded",children:[ed.OPTIMIZE," Flux"]})]}),u.jsx("p",{className:"text-[9px] text-gray-500",children:"Upgrade affix tiers to match current operative level."})]}),u.jsx("div",{className:"col-span-2 border-t border-white/10 my-2"}),u.jsxs("button",{onClick:wa,disabled:F,className:"col-span-2 py-3 bg-red-900/20 hover:bg-red-900/40 border border-red-500/30 text-red-400 font-bold rounded-xl transition flex items-center justify-center gap-2",children:[u.jsx(na,{className:"w-4 h-4"}),"Salvage for ",IR(A)," Flux"]})]})]})}),oe&&u.jsx(fTe,{user:t,classType:m,onClose:()=>ae(!1)}),pe&&u.jsx(uTe,{item:pe,onClose:()=>ye(null)}),u.jsx(os,{isOpen:N,onClose:Rt,title:"PROMOTION GRANTED",maxWidth:"max-w-md",children:u.jsxs("div",{className:"text-center py-6 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",style:{contain:"strict"},children:Array.from({length:20}).map((ve,Ie)=>u.jsx("div",{className:"absolute w-2 h-2 rounded-full",style:{left:`${10+Math.random()*80}%`,top:"-10px",backgroundColor:["#eab308","#8b5cf6","#06b6d4","#f97316","#22c55e","#ec4899"][Ie%6],animation:`confettiDrift ${1.5+Math.random()*1.5}s ${Math.random()*.8}s ease-out forwards`,opacity:.9,willChange:"transform, opacity"}},Ie))}),u.jsxs("div",{className:"relative inline-block mb-6",children:[u.jsx("div",{className:"absolute inset-[-12px] rounded-full border-2 border-yellow-400/30 animate-ping",style:{animationDuration:"2s"}}),u.jsx("div",{className:"absolute inset-[-6px] rounded-full border border-yellow-400/20 animate-pulse"}),u.jsx("div",{className:"level-up-burst w-28 h-28 mx-auto bg-gradient-to-tr from-yellow-400 via-amber-500 to-yellow-600 rounded-full flex items-center justify-center shadow-[0_0_60px_rgba(234,179,8,0.6)] relative",children:u.jsx("span",{className:"text-5xl font-black text-white drop-shadow-lg",children:mt})})]}),u.jsx("div",{className:"mb-2 overflow-hidden inline-block",children:u.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",style:{animation:"typeReveal 0.8s steps(20) 0.4s both",overflow:"hidden",whiteSpace:"nowrap",display:"inline-block"},children:qt.rankName})}),u.jsx("p",{className:"text-gray-400 mb-8 animate-in fade-in duration-500",style:{animationDelay:"0.6s",animationFillMode:"both"},children:"Clearance Level Increased. New capabilities unlocked."}),j&&u.jsxs("div",{className:`${Vn(j.rarity).shimmer} bg-white/5 border rounded-xl p-5 mb-6 relative overflow-hidden ${Vn(j.rarity).border}`,style:{animation:"levelUpBurst 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.8s both"},children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/5 via-white/10 to-transparent opacity-50"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-[0.2em] mb-2",children:" Supply Drop Received"}),u.jsx("div",{className:`text-xl font-bold ${Vn(j.rarity).text}`,children:j.name}),u.jsxs("div",{className:"text-[10px] text-gray-500 uppercase font-mono mt-1",children:[j.rarity," ",j.slot]}),u.jsx("div",{className:"flex justify-center gap-5 mt-3 text-[10px] font-mono",children:Object.entries(j.stats).map(([ve,Ie])=>u.jsxs("span",{className:"text-emerald-400 bg-emerald-500/10 px-2 py-0.5 rounded border border-emerald-500/20",children:["+",Ie," ",ve.toUpperCase()]},ve))})]})]}),u.jsx("button",{onClick:Rt,className:"w-full py-4 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-400 hover:to-amber-400 text-black font-black rounded-xl uppercase tracking-widest transition shadow-[0_0_30px_rgba(234,179,8,0.3)]",style:{animation:"buttonFadeIn 0.4s ease-out 1.2s both"},children:"Accept Promotion"})]})})]})},yTe=({inventory:t,equipped:e,draggedItem:r,onInspect:n,getSlotIcon:i})=>{const{setNodeRef:a,isOver:s}=t9({id:"inventory-zone"}),l=r&&Object.values(e).some(d=>(d==null?void 0:d.id)===r.id);return u.jsxs("div",{ref:a,className:`mt-6 flex-1 min-h-[250px] bg-black/40 border-2 rounded-2xl p-4 overflow-hidden flex flex-col transition-all duration-200 ${l?"border-purple-500/40 bg-purple-900/5":s?"border-purple-500/50 bg-purple-900/10":"border-white/10"}`,children:[u.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 flex items-center justify-between",children:[u.jsxs("span",{children:["Gear Storage (",t.length,")"]}),u.jsxs("span",{className:"text-[9px] text-gray-600 flex items-center gap-1",children:[u.jsx(boe,{className:"w-3 h-3"})," Drag to equip"]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3 content-start",children:[t.map(d=>u.jsx(bTe,{item:d,equipped:e,onInspect:n,getSlotIcon:i},d.id)),Array.from({length:Math.max(0,16-t.length)}).map((d,h)=>u.jsx(vTe,{index:h,isDroppingEquipped:!!l},`empty-${h}`))]})]})},vTe=({index:t,isDroppingEquipped:e})=>{const{setNodeRef:r,isOver:n}=t9({id:`storage-cell-${t}`});return u.jsx("div",{ref:r,className:`aspect-square rounded-xl border transition-all duration-200 ${n?"border-purple-500/60 bg-purple-500/15 scale-105 shadow-lg shadow-purple-500/20":e?"border-purple-500/20 bg-purple-500/5":"border-white/5 bg-white/5"}`})},bTe=({item:t,equipped:e,onInspect:r,getSlotIcon:n})=>{const{attributes:i,listeners:a,setNodeRef:s,isDragging:l}=zX({id:t.id}),d=Object.values(e).some(p=>(p==null?void 0:p.id)===t.id),h=Vn(t.rarity);return u.jsxs("div",{ref:s,...i,...a,onClick:()=>!l&&r(t),className:`aspect-square rounded-xl border-2 flex flex-col items-center justify-center relative group transition-all duration-200 ${l?"opacity-30 scale-90 border-dashed":"cursor-grab active:cursor-grabbing opacity-80 hover:opacity-100 hover:scale-105"} ${d?"ring-2 ring-white/50 opacity-100":""} ${h.bg} ${h.border} ${h.shimmer} ${d?h.glow:""}`,children:[n(t.slot,h.text,"w-6 h-6"),d&&u.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full shadow-lg"}),!l&&u.jsxs("div",{className:"absolute -top-[4.5rem] left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-150 pointer-events-none z-30 bg-black/95 border border-white/15 px-3 py-2 rounded-lg whitespace-nowrap shadow-xl backdrop-blur-sm",children:[u.jsx("div",{className:`text-[10px] font-bold ${h.text}`,children:t.name}),u.jsxs("div",{className:"text-[9px] text-gray-400 font-mono",children:[t.rarity," ",t.slot,d?"  EQUIPPED":""]}),u.jsx("div",{className:"text-[9px] text-gray-500 mt-0.5",children:Object.entries(t.stats).map(([p,m])=>`+${m} ${p.slice(0,3).toUpperCase()}`).join("  ")}),u.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-black/95 border-b border-r border-white/15 rotate-45"})]})]})};var c4=typeof self<"u"?self:global;const Mg=typeof navigator<"u",xTe=Mg&&typeof HTMLImageElement>"u",Mx=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),u4=c4.Buffer,_v=c4.BigInt,d4=!!u4,wTe=t=>t;function Px(t,e=wTe){if(Mx)try{return typeof require=="function"?Promise.resolve(e(require(t))):import(t).then(e)}catch{console.warn(`Couldn't load ${t}`)}}let n9=c4.fetch;const _Te=t=>n9=t;if(!c4.fetch){const t=Px("http",(n=>n)),e=Px("https",(n=>n)),r=(n,{headers:i}={})=>new Promise((async(a,s)=>{let{port:l,hostname:d,pathname:h,protocol:p,search:m}=new URL(n);const y={method:"GET",hostname:d,path:encodeURI(h)+m,headers:i};l!==""&&(y.port=Number(l));const b=(p==="https:"?await e:await t).request(y,(T=>{if(T.statusCode===301||T.statusCode===302){let S=new URL(T.headers.location,n).toString();return r(S,{headers:i}).then(a).catch(s)}a({status:T.statusCode,arrayBuffer:()=>new Promise((S=>{let w=[];T.on("data",(N=>w.push(N))),T.on("end",(()=>S(Buffer.concat(w))))}))})}));b.on("error",s),b.end()}));_Te(r)}function Dt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Dx=t=>GX(t)?void 0:t,STe=t=>t!==void 0;function GX(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(STe).length===0)}function ai(t){let e=new Error(t);throw delete e.stack,e}function bd(t){return(t=(function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e})(t).trim())===""?void 0:t}function H8(t){let e=(function(r){let n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048})(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const G8=t=>String.fromCharCode.apply(null,t),Zz=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function KX(t){return Zz?Zz.decode(t):d4?Buffer.from(t).toString("utf8"):decodeURIComponent(escape(G8(t)))}class Pa{static from(e,r){return e instanceof this&&e.le===r?e:new Pa(e,void 0,void 0,r)}constructor(e,r=0,n,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-r);let a=new DataView(e,r,n);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Pa){n===void 0&&(n=e.byteLength-r),(r+=e.byteOffset)+n>e.byteOffset+e.byteLength&&ai("Creating view outside of available memory in ArrayBuffer");let a=new DataView(e.buffer,r,n);this._swapDataView(a)}else if(typeof e=="number"){let a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else ai("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,r,n=Pa){return e instanceof DataView||e instanceof Pa?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||ai("BufferView.set(): Invalid data argument."),this.toUint8().set(e,r),new n(this,r,e.byteLength)}subarray(e,r){return r=r||this._lengthToEnd(e),new Pa(this,e,r)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,r){return new Uint8Array(this.buffer,this.byteOffset+e,r)}getString(e=0,r=this.byteLength){return KX(this.getUint8Array(e,r))}getLatin1String(e=0,r=this.byteLength){let n=this.getUint8Array(e,r);return G8(n)}getUnicodeString(e=0,r=this.byteLength){const n=[];for(let i=0;i<r&&e+i<this.byteLength;i+=2)n.push(this.getUint16(e+i));return G8(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,r=this.le){return this.dataView.getInt16(e,r)}getInt32(e,r=this.le){return this.dataView.getInt32(e,r)}getUint16(e,r=this.le){return this.dataView.getUint16(e,r)}getUint32(e,r=this.le){return this.dataView.getUint32(e,r)}getFloat32(e,r=this.le){return this.dataView.getFloat32(e,r)}getFloat64(e,r=this.le){return this.dataView.getFloat64(e,r)}getFloat(e,r=this.le){return this.dataView.getFloat32(e,r)}getDouble(e,r=this.le){return this.dataView.getFloat64(e,r)}getUintBytes(e,r,n){switch(r){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,r,n){switch(r){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function K8(t,e){ai(`${t} '${e}' was not loaded, try using full build of exifr.`)}class i9 extends Map{constructor(e){super(),this.kind=e}get(e,r){return this.has(e)||K8(this.kind,e),r&&(e in r||(function(n,i){ai(`Unknown ${n} '${i}'.`)})(this.kind,e),r[e].enabled||K8(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var Bo=new i9("file parser"),ni=new i9("segment parser"),qo=new i9("file reader");function TTe(t,e){return typeof t=="string"?Jz(t,e):Mg&&!xTe&&t instanceof HTMLImageElement?Jz(t.src,e):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new Pa(t):Mg&&t instanceof Blob?W8(t,e,"blob",Kd):void ai("Invalid input argument")}function Jz(t,e){return(r=t).startsWith("data:")||r.length>1e4?X8(t,e,"base64"):Mx&&t.includes("://")?W8(t,e,"url",Gd):Mx?X8(t,e,"fs"):Mg?W8(t,e,"url",Gd):void ai("Invalid input argument");var r}async function W8(t,e,r,n){return qo.has(r)?X8(t,e,r):n?(async function(i,a){let s=await a(i);return new Pa(s)})(t,n):void ai(`Parser ${r} is not loaded`)}async function X8(t,e,r){let n=new(qo.get(r))(t,e);return await n.read(),n}const Gd=t=>n9(t).then((e=>e.arrayBuffer())),Kd=t=>new Promise(((e,r)=>{let n=new FileReader;n.onloadend=()=>e(n.result||new ArrayBuffer),n.onerror=r,n.readAsArrayBuffer(t)}));class ATe extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function Gn(t,e,r){let n=new ATe;for(let[i,a]of r)n.set(i,a);if(Array.isArray(e))for(let i of e)t.set(i,n);else t.set(e,n);return n}function Wd(t,e,r){let n,i=t.get(e);for(n of r)i.set(n[0],n[1])}const Oi=new Map,uo=new Map,au=new Map,Qc=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],kf=["jfif","xmp","icc","iptc","ihdr"],Xd=["tiff",...kf],Pn=["ifd0","ifd1","exif","gps","interop"],Yc=[...Xd,...Pn],Zc=["makerNote","userComment"],Of=["translateKeys","translateValues","reviveValues","multiSegment"],Jc=[...Of,"sanitize","mergeOutput","silentErrors"];class WX{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Vp extends WX{get needed(){return this.enabled||this.deps.size>0}constructor(e,r,n,i){if(super(),Dt(this,"enabled",!1),Dt(this,"skip",new Set),Dt(this,"pick",new Set),Dt(this,"deps",new Set),Dt(this,"translateKeys",!1),Dt(this,"translateValues",!1),Dt(this,"reviveValues",!1),this.key=e,this.enabled=r,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=Pn.includes(e),this.canBeFiltered&&(this.dict=Oi.get(e)),n!==void 0)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if(typeof n=="object"){if(this.enabled=!0,this.parse=n.parse!==!1,this.canBeFiltered){let{pick:a,skip:s}=n;a&&a.length>0&&this.translateTagSet(a,this.pick),s&&s.length>0&&this.translateTagSet(s,this.skip)}this.applyInheritables(n)}else n===!0||n===!1?this.parse=this.enabled=n:ai(`Invalid options argument: ${n}`)}applyInheritables(e){let r,n;for(r of Of)n=e[r],n!==void 0&&(this[r]=n)}translateTagSet(e,r){if(this.dict){let n,i,{tagKeys:a,tagValues:s}=this.dict;for(n of e)typeof n=="string"?(i=s.indexOf(n),i===-1&&(i=a.indexOf(Number(n))),i!==-1&&r.add(Number(a[i]))):r.add(n)}else for(let n of e)r.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Lx(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Lx(this.pick,this.deps)}}var ha={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},e$=new Map;class a0 extends WX{static useCached(e){let r=e$.get(e);return r!==void 0||(r=new this(e),e$.set(e,r)),r}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):ai(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Mg?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of Qc)this[e]=ha[e];for(e of Jc)this[e]=ha[e];for(e of Zc)this[e]=ha[e];for(e of Yc)this[e]=new Vp(e,ha[e],void 0,this)}setupFromTrue(){let e;for(e of Qc)this[e]=ha[e];for(e of Jc)this[e]=ha[e];for(e of Zc)this[e]=!0;for(e of Yc)this[e]=new Vp(e,!0,void 0,this)}setupFromArray(e){let r;for(r of Qc)this[r]=ha[r];for(r of Jc)this[r]=ha[r];for(r of Zc)this[r]=ha[r];for(r of Yc)this[r]=new Vp(r,!1,void 0,this);this.setupGlobalFilters(e,void 0,Pn)}setupFromObject(e){let r;for(r of(Pn.ifd0=Pn.ifd0||Pn.image,Pn.ifd1=Pn.ifd1||Pn.thumbnail,Object.assign(this,e),Qc))this[r]=mT(e[r],ha[r]);for(r of Jc)this[r]=mT(e[r],ha[r]);for(r of Zc)this[r]=mT(e[r],ha[r]);for(r of Xd)this[r]=new Vp(r,ha[r],e[r],this);for(r of Pn)this[r]=new Vp(r,ha[r],e[r],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Pn,Yc),e.tiff===!0?this.batchEnableWithBool(Pn,!0):e.tiff===!1?this.batchEnableWithUserValue(Pn,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Pn):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Pn)}batchEnableWithBool(e,r){for(let n of e)this[n].enabled=r}batchEnableWithUserValue(e,r){for(let n of e){let i=r[n];this[n].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,r,n,i=n){if(e&&e.length){for(let s of i)this[s].enabled=!1;let a=t$(e,n);for(let[s,l]of a)Lx(this[s].pick,l),this[s].enabled=!0}else if(r&&r.length){let a=t$(r,n);for(let[s,l]of a)Lx(this[s].skip,l)}}filterNestedSegmentTags(){let{ifd0:e,exif:r,xmp:n,iptc:i,icc:a}=this;this.makerNote?r.deps.add(37500):r.skip.add(37500),this.userComment?r.deps.add(37510):r.skip.add(37510),n.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),a.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:r,gps:n,interop:i}=this;i.needed&&(r.deps.add(40965),e.deps.add(40965)),r.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=Pn.some((a=>this[a].enabled===!0))||this.makerNote||this.userComment;for(let a of Pn)this[a].finalizeFilters()}get onlyTiff(){return!kf.map((e=>this[e].enabled)).some((e=>e===!0))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of Xd)this[e].enabled&&!ni.has(e)&&K8("segment parser",e)}}function t$(t,e){let r,n,i,a,s=[];for(i of e){for(a of(r=Oi.get(i),n=[],r))(t.includes(a[0])||t.includes(a[1]))&&n.push(a[0]);n.length&&s.push([i,n])}return s}function mT(t,e){return t!==void 0?t:e!==void 0?e:void 0}function Lx(t,e){for(let r of e)t.add(r)}Dt(a0,"default",ha);class Tu{constructor(e){Dt(this,"parsers",{}),Dt(this,"output",{}),Dt(this,"errors",[]),Dt(this,"pushToErrors",(r=>this.errors.push(r))),this.options=a0.useCached(e)}async read(e){this.file=await TTe(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,r=e.getUint16(0);for(let[n,i]of Bo)if(i.canHandle(e,r))return this.fileParser=new i(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),ai("Unknown file format")}async parse(){let{output:e,errors:r}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),r.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&r.length>0&&(e.errors=r),Dx(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let r=Object.values(this.parsers).map((async n=>{let i=await n.parse();n.assignToOutput(e,i)}));this.options.silentErrors&&(r=r.map((n=>n.catch(this.pushToErrors)))),await Promise.all(r)}async extractThumbnail(){this.setup();let{options:e,file:r}=this,n=ni.get("tiff",e);var i;if(r.tiff?i={start:0,type:"tiff"}:r.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let a=await this.fileParser.ensureSegmentChunk(i),s=this.parsers.tiff=new n(a,e,r),l=await s.extractThumbnail();return r.close&&r.close(),l}}async function h4(t,e){let r=new Tu(e);return await r.read(t),r.parse()}var ETe=Object.freeze({__proto__:null,parse:h4,Exifr:Tu,fileParsers:Bo,segmentParsers:ni,fileReaders:qo,tagKeys:Oi,tagValues:uo,tagRevivers:au,createDictionary:Gn,extendDictionary:Wd,fetchUrlAsArrayBuffer:Gd,readBlobAsArrayBuffer:Kd,chunkedProps:Qc,otherSegments:kf,segments:Xd,tiffBlocks:Pn,segmentsAndBlocks:Yc,tiffExtractables:Zc,inheritables:Of,allFormatters:Jc,Options:a0});class f4{constructor(e,r,n){Dt(this,"errors",[]),Dt(this,"ensureSegmentChunk",(async i=>{let a=i.start,s=i.size||65536;if(this.file.chunked)if(this.file.available(a,s))i.chunk=this.file.subarray(a,s);else try{i.chunk=await this.file.readChunk(a,s)}catch(l){ai(`Couldn't read segment: ${JSON.stringify(i)}. ${l.message}`)}else this.file.byteLength>a+s?i.chunk=this.file.subarray(a,s):i.size===void 0?i.chunk=this.file.subarray(a):ai("Segment unreachable: "+JSON.stringify(i));return i.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=r,this.parsers=n}injectSegment(e,r){this.options[e].enabled&&this.createParser(e,r)}createParser(e,r){let n=new(ni.get(e))(r,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let r of e){let{type:n,chunk:i}=r,a=this.options[n];if(a&&a.enabled){let s=this.parsers[n];s&&s.append||s||this.createParser(n,i)}}}async readSegments(e){let r=e.map(this.ensureSegmentChunk);await Promise.all(r)}}class no{static findPosition(e,r){let n=e.getUint16(r+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,r,n):this.headerLength,a=r+i,s=n-i;return{offset:r,length:n,headerLength:i,start:a,size:s,end:a+s}}static parse(e,r={}){return new this(e,new a0({[this.type]:r}),e).parse()}normalizeInput(e){return e instanceof Pa?e:new Pa(e)}constructor(e,r={},n){Dt(this,"errors",[]),Dt(this,"raw",new Map),Dt(this,"handleError",(i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)})),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=r,this.localOptions=r[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,r){let n=au.get(r),i=uo.get(r),a=Oi.get(r),s=this.options[r],l=s.reviveValues&&!!n,d=s.translateValues&&!!i,h=s.translateKeys&&!!a,p={};for(let[m,y]of e)l&&n.has(m)?y=n.get(m)(y):d&&i.has(m)&&(y=this.translateValue(y,i.get(m))),h&&a.has(m)&&(m=a.get(m)||m),p[m]=y;return p}translateValue(e,r){return r[e]||r.DEFAULT||e}assignToOutput(e,r){this.assignObjectToOutput(e,this.constructor.type,r)}assignObjectToOutput(e,r,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[r]?Object.assign(e[r],n):e[r]=n}}Dt(no,"headerLength",4),Dt(no,"type",void 0),Dt(no,"multiSegment",!1),Dt(no,"canHandle",(()=>!1));function NTe(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function CTe(t){return t>=224&&t<=239}function jTe(t,e,r){for(let[n,i]of ni)if(i.canHandle(t,e,r))return n}class r$ extends f4{constructor(...e){super(...e),Dt(this,"appSegments",[]),Dt(this,"jpegSegments",[]),Dt(this,"unknownSegments",[])}static canHandle(e,r){return r===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(ni.keyList())):(e=e===void 0?ni.keyList().filter((r=>this.options[r].enabled)):e.filter((r=>this.options[r].enabled&&ni.has(r))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,r){this.setupSegmentFinderArgs(r);let{file:n,findAll:i,wanted:a,remaining:s}=this;if(!i&&this.file.chunked&&(i=Array.from(a).some((l=>{let d=ni.get(l),h=this.options[l];return d.multiSegment&&h.multiSegment})),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let l=!1;for(;s.size>0&&!l&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:d}=n,h=this.appSegments.some((p=>!this.file.available(p.offset||p.start,p.length||p.size)));if(l=e>d&&!h?!await n.readNextChunk(e):!await n.readNextChunk(d),(e=this.findAppSegmentsInRange(e,n.byteLength))===void 0)return}}}findAppSegmentsInRange(e,r){r-=2;let n,i,a,s,l,d,{file:h,findAll:p,wanted:m,remaining:y,options:b}=this;for(;e<r;e++)if(h.getUint8(e)===255){if(n=h.getUint8(e+1),CTe(n)){if(i=h.getUint16(e+2),a=jTe(h,e,i),a&&m.has(a)&&(s=ni.get(a),l=s.findPosition(h,e),d=b[a],l.type=a,this.appSegments.push(l),!p&&(s.multiSegment&&d.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||y.delete(a)):y.delete(a),y.size===0)))break;b.recordUnknownSegments&&(l=no.findPosition(h,e),l.marker=n,this.unknownSegments.push(l)),e+=i+1}else if(NTe(n)){if(i=h.getUint16(e+2),n===218&&b.stopAfterSos!==!1)return;b.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:n}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some((r=>r.multiSegment)))return;let e=(function(r,n){let i,a,s,l=new Map;for(let d=0;d<r.length;d++)i=r[d],a=i[n],l.has(a)?s=l.get(a):l.set(a,s=[]),s.push(i);return Array.from(l)})(this.appSegments,"type");this.mergedAppSegments=e.map((([r,n])=>{let i=ni.get(r,this.options);return i.handleMultiSegments?{type:r,chunk:i.handleMultiSegments(n)}:n[0]}))}getSegment(e){return this.appSegments.find((r=>r.type===e))}async getOrFindSegment(e){let r=this.getSegment(e);return r===void 0&&(await this.findAppSegments(0,[e]),r=this.getSegment(e)),r}}Dt(r$,"type","jpeg"),Bo.set("jpeg",r$);const kTe=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class OTe extends no{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,r,n=new Map){let{pick:i,skip:a}=this.options[r];i=new Set(i);let s=i.size>0,l=a.size===0,d=this.chunk.getUint16(e);e+=2;for(let h=0;h<d;h++){let p=this.chunk.getUint16(e);if(s){if(i.has(p)&&(n.set(p,this.parseTag(e,p,r)),i.delete(p),i.size===0))break}else!l&&a.has(p)||n.set(p,this.parseTag(e,p,r));e+=12}return n}parseTag(e,r,n){let{chunk:i}=this,a=i.getUint16(e+2),s=i.getUint32(e+4),l=kTe[a];if(l*s<=4?e+=8:e=i.getUint32(e+8),(a<1||a>13)&&ai(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${e}`),e>i.byteLength&&ai(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${e} is outside of chunk size ${i.byteLength}`),a===1)return i.getUint8Array(e,s);if(a===2)return bd(i.getString(e,s));if(a===7)return i.getUint8Array(e,s);if(s===1)return this.parseTagValue(a,e);{let d=new((function(p){switch(p){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}})(a))(s),h=l;for(let p=0;p<s;p++)d[p]=this.parseTagValue(a,e),e+=h;return d}}parseTagValue(e,r){let{chunk:n}=this;switch(e){case 1:return n.getUint8(r);case 3:return n.getUint16(r);case 4:return n.getUint32(r);case 5:return n.getUint32(r)/n.getUint32(r+4);case 6:return n.getInt8(r);case 8:return n.getInt16(r);case 9:return n.getInt32(r);case 10:return n.getInt32(r)/n.getInt32(r+4);case 11:return n.getFloat(r);case 12:return n.getDouble(r);case 13:return n.getUint32(r);default:ai(`Invalid tiff type ${e}`)}}}class gT extends OTe{static canHandle(e,r){return e.getUint8(r+1)===225&&e.getUint32(r+4)===1165519206&&e.getUint16(r+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let r=this[e]();return r.catch!==void 0&&(r=r.catch(this.handleError)),r}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),r=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(r)}}parseBlock(e,r){let n=new Map;return this[r]=n,this.parseTags(e,r,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&ai("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&ai(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,H8(this.options));let r=this.parseBlock(this.ifd0Offset,"ifd0");return r.size!==0?(this.exifOffset=r.get(34665),this.interopOffset=r.get(40965),this.gpsOffset=r.get(34853),this.xmp=r.get(700),this.iptc=r.get(33723),this.icc=r.get(34675),this.options.sanitize&&(r.delete(34665),r.delete(40965),r.delete(34853),r.delete(700),r.delete(33723),r.delete(34675)),r):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,H8(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,r){let n=e.get(r);n&&n.length===1&&e.set(r,n[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",n$(...e.get(2),e.get(1))),e.set("longitude",n$(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),r=this.ifd1.get(514);return this.chunk.getUint8Array(e,r)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,r,n,i={};for(r of Pn)if(e=this[r],!GX(e))if(n=this.canTranslate?this.translateBlock(e,r):Object.fromEntries(e),this.options.mergeOutput){if(r==="ifd1")continue;Object.assign(i,n)}else i[r]=n;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,r){if(this.globalOptions.mergeOutput)Object.assign(e,r);else for(let[n,i]of Object.entries(r))this.assignObjectToOutput(e,n,i)}}function n$(t,e,r,n){var i=t+e/60+r/3600;return n!=="S"&&n!=="W"||(i*=-1),i}Dt(gT,"type","tiff"),Dt(gT,"headerLength",10),ni.set("tiff",gT);var ITe=Object.freeze({__proto__:null,default:ETe,Exifr:Tu,fileParsers:Bo,segmentParsers:ni,fileReaders:qo,tagKeys:Oi,tagValues:uo,tagRevivers:au,createDictionary:Gn,extendDictionary:Wd,fetchUrlAsArrayBuffer:Gd,readBlobAsArrayBuffer:Kd,chunkedProps:Qc,otherSegments:kf,segments:Xd,tiffBlocks:Pn,segmentsAndBlocks:Yc,tiffExtractables:Zc,inheritables:Of,allFormatters:Jc,Options:a0,parse:h4});const a9={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},s9=Object.assign({},a9,{firstChunkSize:4e4,gps:[1,2,3,4]});async function XX(t){let e=new Tu(s9);await e.read(t);let r=await e.parse();if(r&&r.gps){let{latitude:n,longitude:i}=r.gps;return{latitude:n,longitude:i}}}const o9=Object.assign({},a9,{tiff:!1,ifd1:!0,mergeOutput:!1});async function QX(t){let e=new Tu(o9);await e.read(t);let r=await e.extractThumbnail();return r&&d4?u4.from(r):r}async function YX(t){let e=await this.thumbnail(t);if(e!==void 0){let r=new Blob([e]);return URL.createObjectURL(r)}}const l9=Object.assign({},a9,{firstChunkSize:4e4,ifd0:[274]});async function c9(t){let e=new Tu(l9);await e.read(t);let r=await e.parse();if(r&&r.ifd0)return r.ifd0[274]}const u9=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let xd=!0,wd=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,r,n]=e;xd=Number(r)+.1*Number(n)<13.4,wd=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);xd=wd=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);xd=wd=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);xd=wd=Number(e)<77}}async function ZX(t){let e=await c9(t);return Object.assign({canvas:xd,css:wd},u9[e])}class RTe extends Pa{constructor(...e){super(...e),Dt(this,"ranges",new MTe),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,r,n){if(e===0&&this.byteLength===0&&n){let i=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(i)}else{let i=e+r;if(i>this.byteLength){let{dataView:a}=this._extend(i);this._swapDataView(a)}}}_extend(e){let r;r=d4?u4.allocUnsafe(e):new Uint8Array(e);let n=new DataView(r.buffer,r.byteOffset,r.byteLength);return r.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:r,dataView:n}}subarray(e,r,n=!1){return r=r||this._lengthToEnd(e),n&&this._tryExtend(e,r),this.ranges.add(e,r),super.subarray(e,r)}set(e,r,n=!1){n&&this._tryExtend(r,e.byteLength,e);let i=super.set(e,r);return this.ranges.add(r,i.byteLength),i}async ensureChunk(e,r){this.chunked&&(this.ranges.available(e,r)||await this.readChunk(e,r))}available(e,r){return this.ranges.available(e,r)}}class MTe{constructor(){Dt(this,"list",[])}get length(){return this.list.length}add(e,r,n=0){let i=e+r,a=this.list.filter((s=>i$(e,s.offset,i)||i$(e,s.end,i)));if(a.length>0){e=Math.min(e,...a.map((l=>l.offset))),i=Math.max(i,...a.map((l=>l.end))),r=i-e;let s=a.shift();s.offset=e,s.length=r,s.end=i,this.list=this.list.filter((l=>!a.includes(l)))}else this.list.push({offset:e,length:r,end:i})}available(e,r){let n=e+r;return this.list.some((i=>i.offset<=e&&n<=i.end))}}function i$(t,e,r){return t<=e&&e<=r}class p4 extends RTe{constructor(e,r){super(0),Dt(this,"chunksRead",0),this.input=e,this.options=r}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let r=this.options.chunkSize,n=await this.readChunk(e,r);return!!n&&n.byteLength===r}async readChunk(e,r){if(this.chunksRead++,(r=this.safeWrapAddress(e,r))!==0)return this._readChunk(e,r)}safeWrapAddress(e,r){return this.size!==void 0&&e+r>this.size?Math.max(0,this.size-e):r}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}qo.set("blob",class extends p4{async readWhole(){this.chunked=!1;let t=await Kd(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let r=e?t+e:void 0,n=this.input.slice(t,r),i=await Kd(n);return this.set(i,t,!0)}});var PTe=Object.freeze({__proto__:null,default:ITe,Exifr:Tu,fileParsers:Bo,segmentParsers:ni,fileReaders:qo,tagKeys:Oi,tagValues:uo,tagRevivers:au,createDictionary:Gn,extendDictionary:Wd,fetchUrlAsArrayBuffer:Gd,readBlobAsArrayBuffer:Kd,chunkedProps:Qc,otherSegments:kf,segments:Xd,tiffBlocks:Pn,segmentsAndBlocks:Yc,tiffExtractables:Zc,inheritables:Of,allFormatters:Jc,Options:a0,parse:h4,gpsOnlyOptions:s9,gps:XX,thumbnailOnlyOptions:o9,thumbnail:QX,thumbnailUrl:YX,orientationOnlyOptions:l9,orientation:c9,rotations:u9,get rotateCanvas(){return xd},get rotateCss(){return wd},rotation:ZX});qo.set("url",class extends p4{async readWhole(){this.chunked=!1;let t=await Gd(this.input);t instanceof ArrayBuffer?this._swapArrayBuffer(t):t instanceof Uint8Array&&this._swapBuffer(t)}async _readChunk(t,e){let r=e?t+e-1:void 0,n=this.options.httpHeaders||{};(t||r)&&(n.range=`bytes=${[t,r].join("-")}`);let i=await n9(this.input,{headers:n}),a=await i.arrayBuffer(),s=a.byteLength;if(i.status!==416)return s!==e&&(this.size=t+s),this.set(a,t,!0)}});Pa.prototype.getUint64=function(t){let e=this.getUint32(t),r=this.getUint32(t+4);return e<1048575?e<<32|r:typeof _v!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),_v(e)<<_v(32)|_v(r)):void ai("Trying to read 64b value but JS can only handle 53b numbers.")};class DTe extends f4{parseBoxes(e=0){let r=[];for(;e<this.file.byteLength-4;){let n=this.parseBoxHead(e);if(r.push(n),n.length===0)break;e+=n.length}return r}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,r){return e.boxes===void 0&&this.parseSubBoxes(e),e.boxes.find((n=>n.kind===r))}parseBoxHead(e){let r=this.file.getUint32(e),n=this.file.getString(e+4,4),i=e+8;return r===1&&(r=this.file.getUint64(e+8),i+=8),{offset:e,length:r,kind:n,start:i}}parseBoxFullHead(e){if(e.version!==void 0)return;let r=this.file.getUint32(e.start);e.version=r>>24,e.start+=4}}class JX extends DTe{static canHandle(e,r){if(r!==0)return!1;let n=e.getUint16(2);if(n>50)return!1;let i=16,a=[];for(;i<n;)a.push(e.getString(i,4)),i+=4;return a.includes(this.type)}async parse(){let e=this.file.getUint32(0),r=this.parseBoxHead(e);for(;r.kind!=="meta";)e+=r.length,await this.file.ensureChunk(e,16),r=this.parseBoxHead(e);await this.file.ensureChunk(r.offset,r.length),this.parseBoxFullHead(r),this.parseSubBoxes(r),this.options.icc.enabled&&await this.findIcc(r),this.options.tiff.enabled&&await this.findExif(r)}async registerSegment(e,r,n){await this.file.ensureChunk(r,n);let i=this.file.subarray(r,n);this.createParser(e,i)}async findIcc(e){let r=this.findBox(e,"iprp");if(r===void 0)return;let n=this.findBox(r,"ipco");if(n===void 0)return;let i=this.findBox(n,"colr");i!==void 0&&await this.registerSegment("icc",i.offset+12,i.length)}async findExif(e){let r=this.findBox(e,"iinf");if(r===void 0)return;let n=this.findBox(e,"iloc");if(n===void 0)return;let i=this.findExifLocIdInIinf(r),a=this.findExtentInIloc(n,i);if(a===void 0)return;let[s,l]=a;await this.file.ensureChunk(s,l);let d=4+this.file.getUint32(s);s+=d,l-=d,await this.registerSegment("tiff",s,l)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let r,n,i,a,s=e.start,l=this.file.getUint16(s);for(s+=2;l--;){if(r=this.parseBoxHead(s),this.parseBoxFullHead(r),n=r.start,r.version>=2&&(i=r.version===3?4:2,a=this.file.getString(n+i+2,4),a==="Exif"))return this.file.getUintBytes(n,i);s+=r.length}}get8bits(e){let r=this.file.getUint8(e);return[r>>4,15&r]}findExtentInIloc(e,r){this.parseBoxFullHead(e);let n=e.start,[i,a]=this.get8bits(n++),[s,l]=this.get8bits(n++),d=e.version===2?4:2,h=e.version===1||e.version===2?2:0,p=l+i+a,m=e.version===2?4:2,y=this.file.getUintBytes(n,m);for(n+=m;y--;){let b=this.file.getUintBytes(n,d);n+=d+h+2+s;let T=this.file.getUint16(n);if(n+=2,b===r)return T>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(n+l,i),this.file.getUintBytes(n+l+i,a)];n+=T*p}}}class eQ extends JX{}Dt(eQ,"type","heic");class a$ extends JX{}Dt(a$,"type","avif"),Bo.set("heic",eQ),Bo.set("avif",a$),Gn(Oi,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),Gn(Oi,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),Gn(Oi,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),Gn(uo,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let _m=Gn(uo,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const s$={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};_m.set(37392,s$),_m.set(41488,s$);const yT={0:"Normal",1:"Low",2:"High"};function o$(t){return typeof t=="object"&&t.length!==void 0?t[0]:t}function l$(t){let e=Array.from(t).slice(1);return e[1]>15&&(e=e.map((r=>String.fromCharCode(r)))),e[2]!=="0"&&e[2]!==0||e.pop(),e.join(".")}function vT(t){if(typeof t=="string"){var[e,r,n,i,a,s]=t.trim().split(/[-: ]/g).map(Number),l=new Date(e,r-1,n);return Number.isNaN(i)||Number.isNaN(a)||Number.isNaN(s)||(l.setHours(i),l.setMinutes(a),l.setSeconds(s)),Number.isNaN(+l)?t:l}}function Fp(t){if(typeof t=="string")return t;let e=[];if(t[1]===0&&t[t.length-1]===0)for(let r=0;r<t.length;r+=2)e.push(c$(t[r+1],t[r]));else for(let r=0;r<t.length;r+=2)e.push(c$(t[r],t[r+1]));return bd(String.fromCodePoint(...e))}function c$(t,e){return t<<8|e}_m.set(41992,yT),_m.set(41993,yT),_m.set(41994,yT),Gn(au,["ifd0","ifd1"],[[50827,function(t){return typeof t!="string"?KX(t):t}],[306,vT],[40091,Fp],[40092,Fp],[40093,Fp],[40094,Fp],[40095,Fp]]),Gn(au,"exif",[[40960,l$],[36864,l$],[36867,vT],[36868,vT],[40962,o$],[40963,o$]]),Gn(au,"gps",[[0,t=>Array.from(t).join(".")],[7,t=>Array.from(t).join(":")]]);class bT extends no{static canHandle(e,r){return e.getUint8(r+1)===225&&e.getUint32(r+4)===1752462448&&e.getString(r+4,20)==="http://ns.adobe.com/"}static headerLength(e,r){return e.getString(r+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(e,r){let n=super.findPosition(e,r);return n.multiSegment=n.extended=n.headerLength===79,n.multiSegment?(n.chunkCount=e.getUint8(r+72),n.chunkNumber=e.getUint8(r+76),e.getUint8(r+77)!==0&&n.chunkNumber++):(n.chunkCount=1/0,n.chunkNumber=-1),n}static handleMultiSegments(e){return e.map((r=>r.chunk.getString())).join("")}normalizeInput(e){return typeof e=="string"?e:Pa.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=(function(a){let s={},l={};for(let d of iQ)s[d]=[],l[d]=0;return a.replace(zTe,((d,h,p)=>{if(h==="<"){let m=++l[p];return s[p].push(m),`${d}#${m}`}return`${d}#${s[p].pop()}`}))})(e);let r=bh.findAll(e,"rdf","Description");r.length===0&&r.push(new bh("rdf","Description",void 0,e));let n,i={};for(let a of r)for(let s of a.properties)n=UTe(s.ns,i),tQ(s,n);return(function(a){let s;for(let l in a)s=a[l]=Dx(a[l]),s===void 0&&delete a[l];return Dx(a)})(i)}assignToOutput(e,r){if(this.localOptions.parse)for(let[n,i]of Object.entries(r))switch(n){case"tiff":this.assignObjectToOutput(e,"ifd0",i);break;case"exif":this.assignObjectToOutput(e,"exif",i);break;case"xmlns":break;default:this.assignObjectToOutput(e,n,i)}else e.xmp=r}}Dt(bT,"type","xmp"),Dt(bT,"multiSegment",!0),ni.set("xmp",bT);class Bx{static findAll(e){return rQ(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(Bx.unpackMatch)}static unpackMatch(e){let r=e[1],n=e[2],i=e[3].slice(1,-1);return i=nQ(i),new Bx(r,n,i)}constructor(e,r,n){this.ns=e,this.name=r,this.value=n}serialize(){return this.value}}class bh{static findAll(e,r,n){if(r!==void 0||n!==void 0){r=r||"[\\w\\d-]+",n=n||"[\\w\\d-]+";var i=new RegExp(`<(${r}):(${n})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else i=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return rQ(e,i).map(bh.unpackMatch)}static unpackMatch(e){let r=e[1],n=e[2],i=e[4],a=e[8];return new bh(r,n,i,a)}constructor(e,r,n,i){this.ns=e,this.name=r,this.attrString=n,this.innerXml=i,this.attrs=Bx.findAll(n),this.children=bh.findAll(i),this.value=this.children.length===0?nQ(i):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:e,name:r}=this;return e==="rdf"&&(r==="Seq"||r==="Bag"||r==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return BTe(this.children.map(LTe));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let e={};for(let r of this.properties)tQ(r,e);return this.value!==void 0&&(e.value=this.value),Dx(e)}}function tQ(t,e){let r=t.serialize();r!==void 0&&(e[t.name]=r)}var LTe=t=>t.serialize(),BTe=t=>t.length===1?t[0]:t,UTe=(t,e)=>e[t]?e[t]:e[t]={};function rQ(t,e){let r,n=[];if(!t)return n;for(;(r=e.exec(t))!==null;)n.push(r);return n}function nQ(t){if((function(n){return n==null||n==="null"||n==="undefined"||n===""||n.trim()===""})(t))return;let e=Number(t);if(!Number.isNaN(e))return e;let r=t.toLowerCase();return r==="true"||r!=="false"&&t.trim()}const iQ=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],zTe=new RegExp(`(<|\\/)(${iQ.join("|")})`,"g");var $Te=Object.freeze({__proto__:null,default:PTe,Exifr:Tu,fileParsers:Bo,segmentParsers:ni,fileReaders:qo,tagKeys:Oi,tagValues:uo,tagRevivers:au,createDictionary:Gn,extendDictionary:Wd,fetchUrlAsArrayBuffer:Gd,readBlobAsArrayBuffer:Kd,chunkedProps:Qc,otherSegments:kf,segments:Xd,tiffBlocks:Pn,segmentsAndBlocks:Yc,tiffExtractables:Zc,inheritables:Of,allFormatters:Jc,Options:a0,parse:h4,gpsOnlyOptions:s9,gps:XX,thumbnailOnlyOptions:o9,thumbnail:QX,thumbnailUrl:YX,orientationOnlyOptions:l9,orientation:c9,rotations:u9,get rotateCanvas(){return xd},get rotateCss(){return wd},rotation:ZX});let u$=Px("fs",(t=>t.promises));qo.set("fs",class extends p4{async readWhole(){this.chunked=!1,this.fs=await u$;let t=await this.fs.readFile(this.input);this._swapBuffer(t)}async readChunked(){this.chunked=!0,this.fs=await u$,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(t,e){this.fh===void 0&&await this.open(),t+e>this.size&&(e=this.size-t);var r=this.subarray(t,e,!0);return await this.fh.read(r.dataView,0,e,t),r}async close(){if(this.fh){let t=this.fh;this.fh=void 0,await t.close()}}});qo.set("base64",class extends p4{constructor(...t){super(...t),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(t,e){let r,n,i=this.input;t===void 0?(t=0,r=0,n=0):(r=4*Math.floor(t/3),n=t-r/4*3),e===void 0&&(e=this.size);let a=t+e,s=r+4*Math.ceil(a/3);i=i.slice(r,s);let l=Math.min(e,this.size-t);if(d4){let d=u4.from(i,"base64").slice(n,n+l);return this.set(d,t,!0)}{let d=this.subarray(t,l,!0),h=atob(i),p=d.toUint8();for(let m=0;m<l;m++)p[m]=h.charCodeAt(n+m);return d}}});class d$ extends f4{static canHandle(e,r){return r===18761||r===19789}extendOptions(e){let{ifd0:r,xmp:n,iptc:i,icc:a}=e;n.enabled&&r.deps.add(700),i.enabled&&r.deps.add(33723),a.enabled&&r.deps.add(34675),r.finalizeFilters()}async parse(){let{tiff:e,xmp:r,iptc:n,icc:i}=this.options;if(e.enabled||r.enabled||n.enabled||i.enabled){let a=Math.max(H8(this.options),this.options.chunkSize);await this.file.ensureChunk(0,a),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let r=this.parsers.tiff[e];this.injectSegment(e,r)}}}Dt(d$,"type","tiff"),Bo.set("tiff",d$);let VTe=Px("zlib");const FTe=["ihdr","iccp","text","itxt","exif"];class h$ extends f4{constructor(...e){super(...e),Dt(this,"catchError",(r=>this.errors.push(r))),Dt(this,"metaChunks",[]),Dt(this,"unknownChunks",[])}static canHandle(e,r){return r===35152&&e.getUint32(0)===2303741511&&e.getUint32(4)===218765834}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,r){let{file:n}=this;for(;e<r;){let i=n.getUint32(e),a=n.getUint32(e+4),s=n.getString(e+4,4).toLowerCase(),l=i+4+4+4,d={type:s,offset:e,length:l,start:e+4+4,size:i,marker:a};FTe.includes(s)?this.metaChunks.push(d):this.unknownChunks.push(d),e+=l}}parseTextChunks(){let e=this.metaChunks.filter((r=>r.type==="text"));for(let r of e){let[n,i]=this.file.getString(r.start,r.size).split("\0");this.injectKeyValToIhdr(n,i)}}injectKeyValToIhdr(e,r){let n=this.parsers.ihdr;n&&n.raw.set(e,r)}findIhdr(){let e=this.metaChunks.find((r=>r.type==="ihdr"));e&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find((r=>r.type==="exif"));e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter((r=>r.type==="itxt"));for(let r of e)r.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",r.chunk)}async findIcc(){let e=this.metaChunks.find((l=>l.type==="iccp"));if(!e)return;let{chunk:r}=e,n=r.getUint8Array(0,81),i=0;for(;i<80&&n[i]!==0;)i++;let a=i+2,s=r.getString(0,i);if(this.injectKeyValToIhdr("ProfileName",s),Mx){let l=await VTe,d=r.getUint8Array(a);d=l.inflateSync(d),this.injectSegment("icc",d)}}}Dt(h$,"type","png"),Bo.set("png",h$),Gn(Oi,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),Wd(Oi,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let f$=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];Wd(Oi,"ifd0",f$),Wd(Oi,"exif",f$),Gn(uo,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class xT extends no{static canHandle(e,r){return e.getUint8(r+1)===224&&e.getUint32(r+4)===1246120262&&e.getUint8(r+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}Dt(xT,"type","jfif"),Dt(xT,"headerLength",9),ni.set("jfif",xT),Gn(Oi,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class p$ extends no{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}Dt(p$,"type","ihdr"),ni.set("ihdr",p$),Gn(Oi,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),Gn(uo,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class qv extends no{static canHandle(e,r){return e.getUint8(r+1)===226&&e.getUint32(r+4)===1229144927}static findPosition(e,r){let n=super.findPosition(e,r);return n.chunkNumber=e.getUint8(r+16),n.chunkCount=e.getUint8(r+17),n.multiSegment=n.chunkCount>1,n}static handleMultiSegments(e){return(function(r){let n=(function(i){let a=i[0].constructor,s=0;for(let h of i)s+=h.length;let l=new a(s),d=0;for(let h of i)l.set(h,d),d+=h.length;return l})(r.map((i=>i.chunk.toUint8())));return new Pa(n)})(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&ai("ICC header is too short");for(let[r,n]of Object.entries(qTe)){r=parseInt(r,10);let i=n(this.chunk,r);i!=="\0\0\0\0"&&e.set(r,i)}}parseTags(){let e,r,n,i,a,{raw:s}=this,l=this.chunk.getUint32(128),d=132,h=this.chunk.byteLength;for(;l--;){if(e=this.chunk.getString(d,4),r=this.chunk.getUint32(d+4),n=this.chunk.getUint32(d+8),i=this.chunk.getString(r,4),r+n>h)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");a=this.parseTag(i,r,n),a!==void 0&&a!=="\0\0\0\0"&&s.set(e,a),d+=12}}parseTag(e,r,n){switch(e){case"desc":return this.parseDesc(r);case"mluc":return this.parseMluc(r);case"text":return this.parseText(r,n);case"sig ":return this.parseSig(r)}if(!(r+n>this.chunk.byteLength))return this.chunk.getUint8Array(r,n)}parseDesc(e){let r=this.chunk.getUint32(e+8)-1;return bd(this.chunk.getString(e+12,r))}parseText(e,r){return bd(this.chunk.getString(e+8,r-8))}parseSig(e){return bd(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:r}=this,n=r.getUint32(e+8),i=r.getUint32(e+12),a=e+16,s=[];for(let l=0;l<n;l++){let d=r.getString(a+0,2),h=r.getString(a+2,2),p=r.getUint32(a+4),m=r.getUint32(a+8)+e,y=bd(r.getUnicodeString(m,p));s.push({lang:d,country:h,text:y}),a+=i}return n===1?s[0].text:s}translateValue(e,r){return typeof e=="string"?r[e]||r[e.toLowerCase()]||e:r[e]||e}}Dt(qv,"type","icc"),Dt(qv,"multiSegment",!0),Dt(qv,"headerLength",18);const qTe={4:pl,8:function(t,e){return[t.getUint8(e),t.getUint8(e+1)>>4,t.getUint8(e+1)%16].map((r=>r.toString(10))).join(".")},12:pl,16:pl,20:pl,24:function(t,e){const r=t.getUint16(e),n=t.getUint16(e+2)-1,i=t.getUint16(e+4),a=t.getUint16(e+6),s=t.getUint16(e+8),l=t.getUint16(e+10);return new Date(Date.UTC(r,n,i,a,s,l))},36:pl,40:pl,48:pl,52:pl,64:(t,e)=>t.getUint32(e),80:pl};function pl(t,e){return bd(t.getString(e,4))}ni.set("icc",qv),Gn(Oi,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const Sv={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},m$={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};Gn(uo,"icc",[[4,Sv],[12,m$],[40,Object.assign({},Sv,m$)],[48,Sv],[80,Sv],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class Tv extends no{static canHandle(e,r,n){return e.getUint8(r+1)===237&&e.getString(r+4,9)==="Photoshop"&&this.containsIptc8bim(e,r,n)!==void 0}static headerLength(e,r,n){let i,a=this.containsIptc8bim(e,r,n);if(a!==void 0)return i=e.getUint8(r+a+7),i%2!=0&&(i+=1),i===0&&(i=4),a+8+i}static containsIptc8bim(e,r,n){for(let i=0;i<n;i++)if(this.isIptcSegmentHead(e,r+i))return i}static isIptcSegmentHead(e,r){return e.getUint8(r)===56&&e.getUint32(r)===943868237&&e.getUint16(r+4)===1028}parse(){let{raw:e}=this,r=this.chunk.byteLength-1,n=!1;for(let i=0;i<r;i++)if(this.chunk.getUint8(i)===28&&this.chunk.getUint8(i+1)===2){n=!0;let a=this.chunk.getUint16(i+3),s=this.chunk.getUint8(i+2),l=this.chunk.getLatin1String(i+5,a);e.set(s,this.pluralizeValue(e.get(s),l)),i+=4+a}else if(n)break;return this.translate(),this.output}pluralizeValue(e,r){return e!==void 0?e instanceof Array?(e.push(r),e):[e,r]:r}}Dt(Tv,"type","iptc"),Dt(Tv,"translateValues",!1),Dt(Tv,"reviveValues",!1),ni.set("iptc",Tv),Gn(Oi,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),Gn(uo,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);const qp=["Monday","Tuesday","Wednesday","Thursday","Friday"],HTe=({user:t})=>{const e=ia(),{confirm:r}=bu(),n=P.useMemo(()=>$e.getWeekId(),[]),[i,a]=P.useState([]),[s,l]=P.useState("Monday"),[d,h]=P.useState(!1),p=P.useRef(null),[m,y]=P.useState(!1),b=t.enrolledClasses||(t.classType?[t.classType]:[]),[T,S]=P.useState(t.classType||b[0]||"Uncategorized");P.useEffect(()=>{const E=new Date().toLocaleDateString("en-US",{weekday:"long"});qp.includes(E)&&l(E)},[]),P.useEffect(()=>{const E=$e.subscribeToEvidence(t.id,n,a);return()=>E()},[t.id,n]);const w=P.useMemo(()=>{const E=b[0]||"Uncategorized";return i.filter(A=>A.classType?A.classType===T:T===E)},[i,T,b]),N=E=>w.find(A=>A.dayOfWeek===E),k=E=>E?new Date(E).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):null,j=async E=>{var R;const A=(R=E.target.files)==null?void 0:R[0];if(A){h(!0);try{let F=null;if(A.type.startsWith("image/"))try{const Y=await $Te.parse(A,["DateTimeOriginal"])||{};Y.DateTimeOriginal&&(F=Y.DateTimeOriginal.toISOString())}catch(Y){console.warn("EXIF extraction failed",Y)}const D=T.replace(/[^a-zA-Z0-9]/g,"_"),B=Math.random().toString(36).substring(2,9),M=lm(cm,`evidence/${t.id}/${n}/${D}_${s}_${B}`);await eA(M,A);const Q=await hb(M),Z=N(s),J={id:`${t.id}_${n}_${s}_${D}`,studentId:t.id,weekId:n,classType:T,dayOfWeek:s,imageUrl:Q,timestamp:new Date().toISOString(),exifDate:F,reflection:(Z==null?void 0:Z.reflection)||""};await $e.uploadEvidence(J)}catch(F){e.error("Upload failed: "+(F instanceof Error?F.message:"Unknown error"))}finally{h(!1),p.current&&(p.current.value="")}}},$=async(E,A)=>{const R=N(E);R&&R.reflection!==A&&await $e.uploadEvidence({...R,reflection:A})},I=async()=>{if(!(w.length===0||!await r({title:"Generate & Delete Evidence",message:`WARNING: Generating this report will DELETE all ${T} photos and reflections for this week from the server to save space. Make sure you save the downloaded PDF immediately.`,confirmLabel:"Generate PDF",variant:"warning"}))){y(!0);try{const A=new PY,R=A.internal.pageSize.getWidth(),F=A.internal.pageSize.getHeight(),D=20,B=R-D*2,M=F-D;A.setFillColor(15,7,32),A.rect(0,0,R,40,"F"),A.setTextColor(255,255,255),A.setFontSize(22),A.setFont("helvetica","bold"),A.text("WEEKLY PROGRESS REPORT",D,18),A.setFontSize(10),A.setFont("helvetica","normal"),A.text(`Operative: ${t.name.toUpperCase()}`,D,28),A.text(`Class: ${T}`,D,33),A.text(`Cycle ID: ${n}`,D,38),A.text(`Generated: ${new Date().toLocaleDateString()}`,R-D,33,{align:"right"});let Q=55;const Z=[...w].sort((W,J)=>qp.indexOf(W.dayOfWeek)-qp.indexOf(J.dayOfWeek));for(const W of Z){let J=null,Y="JPEG",ge=0,ce=0,X=!1;try{const Ne=await fetch(W.imageUrl);if(!Ne.ok)throw new Error(`Image fetch failed: ${Ne.statusText}`);const le=await Ne.blob();J=await new Promise((Ge,lt)=>{const it=new FileReader;it.onloadend=()=>Ge(it.result),it.onerror=lt,it.readAsDataURL(le)}),le.type==="image/png"&&(Y="PNG"),le.type==="image/webp"&&(Y="WEBP");const je=A.getImageProperties(J),we=je.width/je.height,ut=100;ge=B,ce=ge/we,ce>ut&&(ce=ut,ge=ce*we)}catch(Ne){console.warn("Image processing error for PDF",Ne),X=!0,ce=15}const oe=20+ce+12;Q+oe>M&&(A.addPage(),Q=D),A.setDrawColor(200,200,200),A.setLineWidth(.5),A.line(D,Q,R-D,Q),Q+=6,A.setTextColor(15,7,32),A.setFontSize(16),A.setFont("helvetica","bold"),A.text(W.dayOfWeek.toUpperCase(),D,Q);const ae=k(W.exifDate)||k(W.timestamp);if(A.setFontSize(9),A.setFont("helvetica","italic"),A.setTextColor(100,100,100),A.text(`Captured: ${ae}`,R-D,Q,{align:"right"}),Q+=10,!X&&J){const Ne=(R-ge)/2;A.addImage(J,Y,Ne,Q,ge,ce),Q+=ce+12}else A.setTextColor(255,0,0),A.setFontSize(8),A.text("[Image Error]",D,Q),Q+=15;A.setFont("helvetica","normal"),A.setFontSize(10);const pe=W.reflection||"No reflection logged for this cycle.",ye=A.splitTextToSize(pe,B),Xe=ye.length*5+15;Q+Xe>M&&(A.addPage(),Q=D),A.setTextColor(15,7,32),A.setFontSize(11),A.setFont("helvetica","bold"),A.text("DAILY REFLECTION:",D,Q),Q+=6,A.setFont("helvetica","normal"),A.setFontSize(10),A.setTextColor(60,60,60),A.text(ye,D,Q),Q+=ye.length*5+25}A.save(`Report_${T.replace(/\s+/g,"")}_${t.name.replace(/\s+/g,"_")}_${n}.pdf`),await $e.deleteWeeklyEvidence(w),e.success("PDF generated and evidence cleared.")}catch(A){console.error("PDF generation failed:",A),e.error("Failed to build report. Data was NOT deleted. Check console for details.")}finally{y(!1)}}},L=N(s);return u.jsxs("div",{className:"h-full flex flex-col space-y-6",children:[u.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-500/30 p-6 rounded-2xl flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-emerald-400 flex items-center gap-2",children:[u.jsx(RI,{className:"w-7 h-7"})," Weekly Evidence Log"]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[b.length>1?u.jsxs("div",{className:"relative group",children:[u.jsx("select",{value:T,onChange:E=>S(E.target.value),className:"appearance-none bg-emerald-500/10 border border-emerald-500/30 text-emerald-200 text-xs font-bold py-1 pl-3 pr-8 rounded-lg cursor-pointer hover:bg-emerald-500/20 transition focus:outline-none",children:b.map(E=>u.jsx("option",{value:E,children:E},E))}),u.jsx(za,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-emerald-400 pointer-events-none"})]}):u.jsx("span",{className:"text-emerald-200/60 text-sm font-bold",children:T}),u.jsx("span",{className:"text-emerald-200/40 text-sm",children:"| Upload photos of lab work & notes."})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"bg-black/40 px-4 py-2 rounded-lg border border-emerald-500/20 text-center",children:[u.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-widest block",children:"Cycle ID"}),u.jsx("span",{className:"font-mono text-emerald-400 font-bold",children:n})]}),u.jsxs("button",{onClick:I,disabled:m||w.length===0,className:"bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 shadow-lg shadow-emerald-900/20 transition group",children:[m?u.jsx(as,{className:"w-5 h-5 animate-spin"}):u.jsx(foe,{className:"w-5 h-5 group-hover:bounce"}),"Save Report (PDF)"]})]})]}),u.jsx("input",{type:"file",ref:p,onChange:j,className:"hidden",accept:"image/*"}),u.jsx("div",{className:"flex items-center bg-white/5 p-1 rounded-xl border border-white/10 overflow-x-auto custom-scrollbar",children:qp.map(E=>{const A=N(E),R=s===E;return u.jsxs("button",{onClick:()=>l(E),className:`flex-1 min-w-[100px] flex flex-col items-center py-3 rounded-lg transition-all relative group ${R?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:[u.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-widest mb-1 ${R?"text-emerald-100":"text-gray-500 group-hover:text-gray-300"}`,children:["Day ",qp.indexOf(E)+1]}),u.jsx("span",{className:"font-bold text-sm",children:E}),A&&u.jsx("div",{className:`absolute top-2 right-2 ${R?"text-emerald-200":"text-emerald-500"}`,children:u.jsx(gb,{className:"w-3 h-3"})})]},E)})}),u.jsxs("div",{className:"flex-1 bg-white/5 border border-white/10 rounded-2xl p-6 relative overflow-hidden animate-in fade-in zoom-in-95 duration-300 flex flex-col gap-6",children:[u.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("h3",{className:"text-sm font-bold text-emerald-400 flex items-center gap-2 uppercase tracking-widest",children:[u.jsx(Soe,{className:"w-4 h-4"})," Evidence Capture (",T,")"]}),L&&u.jsxs("div",{className:"text-[9px] bg-black/40 px-2 py-0.5 rounded border border-white/10 text-gray-400 font-mono flex items-center gap-1",children:[u.jsx(Os,{className:"w-3 h-3"}),k(L.exifDate)||k(L.timestamp)]})]}),u.jsx("div",{className:"flex-1 bg-black/40 rounded-xl border-2 border-dashed border-white/10 relative group overflow-hidden transition-all hover:border-emerald-500/30",children:L?u.jsxs(u.Fragment,{children:[u.jsx("img",{src:L.imageUrl,alt:s,className:"w-full h-full object-contain bg-black/20"}),u.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition flex flex-col items-center justify-center gap-4 cursor-pointer",onClick:()=>{var E;return(E=p.current)==null?void 0:E.click()},children:[u.jsx(qm,{className:"w-8 h-8 text-emerald-400"}),u.jsx("span",{className:"text-white font-bold text-sm",children:"Replace Evidence"})]})]}):u.jsxs("button",{onClick:()=>{var E;return(E=p.current)==null?void 0:E.click()},className:"w-full h-full flex flex-col items-center justify-center text-gray-500 hover:text-emerald-400 hover:bg-white/5 transition gap-3",disabled:d,children:[d?u.jsx(as,{className:"w-10 h-10 animate-spin text-emerald-500"}):u.jsx("div",{className:"p-4 bg-white/5 rounded-full mb-2 group-hover:scale-110 transition shadow-xl",children:u.jsx(RI,{className:"w-8 h-8"})}),u.jsxs("div",{className:"text-center",children:[u.jsx("span",{className:"text-sm font-bold uppercase tracking-widest block",children:"Upload Photo"}),u.jsx("span",{className:"text-[10px] opacity-60",children:"Supports JPG, PNG, WEBP"})]})]})})]}),u.jsxs("div",{className:"h-48 md:h-56 flex flex-col flex-shrink-0",children:[u.jsx("div",{className:"mb-2",children:u.jsxs("h3",{className:"text-sm font-bold text-emerald-400 flex items-center gap-2 uppercase tracking-widest",children:[u.jsx(vE,{className:"w-4 h-4"})," Daily Reflection"]})}),L?u.jsx("textarea",{className:"flex-1 w-full bg-black/20 border border-white/10 rounded-xl p-4 text-sm text-gray-200 resize-none focus:outline-none focus:border-emerald-500/50 focus:bg-black/40 transition placeholder-gray-600 leading-relaxed custom-scrollbar",placeholder:`Document your findings for ${s} in ${T}...`,defaultValue:L.reflection,onBlur:E=>$(s,E.target.value)},s):u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-600 italic text-center px-10 border border-white/5 rounded-xl bg-white/5",children:[u.jsx("div",{className:"mb-2 opacity-30",children:u.jsx(Ad,{className:"w-6 h-6"})}),u.jsx("p",{className:"font-medium text-sm",children:"Reflection Locked"}),u.jsx("p",{className:"text-[10px] mt-1 max-w-[200px]",children:"Upload evidence photo to unlock the reflection journal for this day."})]})]})]})]})},GTe=({user:t})=>{const e=ia(),[r,n]=P.useState({id:Math.random().toString(36).substring(2,9),studentId:t.id,labTitle:"New Experiment",content:`Observation:

Formula used: $F = ma$`,dataPoints:[],timestamp:new Date().toISOString()}),[i,a]=P.useState(""),[s,l]=P.useState(""),[d,h]=P.useState("");P.useEffect(()=>{const y=r.content.replace(/\$(.*?)\$/g,(b,T)=>{try{return Ab.renderToString(T,{throwOnError:!1})}catch{return T}}).replace(/\n/g,"<br/>");a(y)},[r.content]);const p=async()=>{await $e.saveLabReport(r),await $e.awardXP(t.id,25),e.success("Report saved!")},m=()=>{const y=parseFloat(s),b=parseFloat(d);!isNaN(y)&&!isNaN(b)&&(n(T=>({...T,dataPoints:[...T.dataPoints,{x:y,y:b}].sort((S,w)=>S.x-w.x)})),l(""),h(""))};return u.jsxs("div",{className:"h-full flex flex-col gap-6",children:[u.jsxs("div",{className:"flex justify-between items-center bg-blue-900/20 border border-blue-500/30 p-4 rounded-xl",children:[u.jsxs("h2",{className:"text-2xl font-bold text-blue-400 flex items-center gap-2",children:[u.jsx(d2,{className:"w-6 h-6"})," Physics Laboratory"]}),u.jsxs("button",{onClick:p,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2",children:[u.jsx(Vq,{className:"w-4 h-4"})," Save Report"]})]}),u.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-6 min-h-0",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("div",{className:"flex-1 bg-black rounded-xl overflow-hidden border border-white/10",children:u.jsx("iframe",{src:"https://phet.colorado.edu/sims/html/forces-and-motion-basics/latest/forces-and-motion-basics_en.html",className:"w-full h-full border-none",title:"PhET Sim"})}),u.jsxs("div",{className:"h-1/3 bg-white/5 border border-white/10 rounded-xl p-4 flex gap-4",children:[u.jsxs("div",{className:"w-1/3",children:[u.jsx("h4",{className:"font-bold text-gray-300 mb-2 text-xs uppercase",children:"Data Entry"}),u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("input",{type:"number",placeholder:"X",value:s,onChange:y=>l(y.target.value),className:"w-full bg-black/20 border border-white/10 rounded p-1 text-white text-sm"}),u.jsx("input",{type:"number",placeholder:"Y",value:d,onChange:y=>h(y.target.value),className:"w-full bg-black/20 border border-white/10 rounded p-1 text-white text-sm"})]}),u.jsx("button",{onClick:m,className:"w-full bg-white/10 hover:bg-white/20 text-white text-xs font-bold py-1 rounded",children:"Add Point"})]}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsx(XG,{width:"100%",height:"100%",children:u.jsxs(d_e,{children:[u.jsx(eX,{strokeDasharray:"3 3",stroke:"#333"}),u.jsx(t4,{type:"number",dataKey:"x",stroke:"#666",name:"X"}),u.jsx(r4,{type:"number",dataKey:"y",stroke:"#666",name:"Y"}),u.jsx(wo,{cursor:{strokeDasharray:"3 3"},contentStyle:{backgroundColor:"#000"}}),u.jsx(g1,{name:"Data",data:r.dataPoints,fill:"#3b82f6"})]})})})]})]}),u.jsxs("div",{className:"flex flex-col bg-white/5 border border-white/10 rounded-xl overflow-hidden",children:[u.jsx("div",{className:"p-2 border-b border-white/10 bg-black/20 flex gap-2",children:u.jsx("div",{className:"text-xs text-gray-400 px-2 py-1",children:"Mode: LaTeX Enabled ($...$)"})}),u.jsxs("div",{className:"flex-1 flex flex-col md:flex-row min-h-0",children:[u.jsx("textarea",{className:"flex-1 bg-transparent p-4 text-sm text-gray-300 font-mono resize-none focus:outline-none border-r border-white/10",value:r.content,onChange:y=>n(b=>({...b,content:y.target.value})),placeholder:"Enter observations here. Use $E=mc^2$ for formulas."}),u.jsx("div",{className:"flex-1 bg-white/5 p-4 text-sm text-gray-200 overflow-y-auto prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:GH.sanitize(i,{ADD_TAGS:["annotation","semantics","mrow","mi","mn","mo","msup","msub","mfrac","mtext","math"],ADD_ATTR:["xmlns","encoding"]})}})]})]})]})]})},KTe=[{key:"tech",label:"Tech",color:"text-blue-400",icon:""},{key:"focus",label:"Focus",color:"text-green-400",icon:""},{key:"analysis",label:"Analysis",color:"text-yellow-400",icon:""},{key:"charisma",label:"Charisma",color:"text-purple-400",icon:""}],WTe=["HEAD","CHEST","HANDS","BELT","FEET","AMULET","RING1","RING2"],XTe=({userId:t,classType:e,onClose:r})=>{var $,I,L,E,A;const[n,i]=P.useState(null),[a,s]=P.useState(!0);if(P.useEffect(()=>{(async()=>{const F=await $e.getPublicProfile(t);i(F),s(!1)})()},[t]),a)return u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center",onClick:r,children:u.jsx("div",{className:"w-10 h-10 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"})});if(!n)return u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center",onClick:r,children:u.jsx("div",{className:"text-gray-400",children:"Player not found"})});const l=n.gamification||{xp:0,level:1,currency:0,badges:[],privacyMode:!1},d=($=n.settings)==null?void 0:$.privacyMode,h=d?l.codename||"Unknown Agent":n.name,p=l.level||1,m=Ph(p),y=HX(p),{equipped:b,appearance:T}=zd(n,e),S=FE({gamification:{...l,equipped:b}}),w=Dh(b),N=((I=l.classXp)==null?void 0:I[e])||0,k=Object.values(b).filter(Boolean),j=qX(k);return u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:u.jsxs("div",{className:"bg-[#12131e]/95 border border-white/10 rounded-3xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",onClick:R=>R.stopPropagation(),children:[u.jsxs("div",{className:"relative p-6 border-b border-white/5",children:[u.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition",children:u.jsx(ds,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-24 h-32 shrink-0",children:u.jsx(Rx,{equipped:b,appearance:T})}),u.jsxs("div",{children:[u.jsx("h2",{className:`text-xl font-black ${d?"text-purple-300 italic":"text-white"}`,children:h}),u.jsx("p",{className:`text-xs font-mono uppercase tracking-widest ${m.tierColor.split(" ")[1]}`,children:m.rankName}),u.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[y.name," - Level ",p]}),u.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Ii,{className:"w-3 h-3 text-cyan-400"}),u.jsxs("span",{className:"text-xs text-cyan-400 font-bold",children:[N.toLocaleString()," XP"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(zl,{className:"w-3 h-3 text-yellow-400"}),u.jsxs("span",{className:"text-xs text-yellow-400 font-bold",children:[w," GS"]})]})]})]})]})]}),u.jsxs("div",{className:"p-6 border-b border-white/5",children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(Po,{className:"w-3 h-3"})," Stats"]}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:KTe.map(({key:R,label:F,color:D,icon:B})=>{const M=S[R]||0;return u.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white/3 rounded-lg",children:[u.jsx("span",{className:"text-sm",children:B}),u.jsx("span",{className:"text-xs text-gray-400",children:F}),u.jsx("span",{className:`text-sm font-bold ${D} ml-auto`,children:M})]},R)})})]}),u.jsxs("div",{className:"p-6 border-b border-white/5",children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(zl,{className:"w-3 h-3"})," Equipment"]}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:WTe.map(R=>{const F=b[R];if(!F)return u.jsxs("div",{className:"p-2 bg-white/3 rounded-lg border border-white/5",children:[u.jsx("div",{className:"text-[10px] text-gray-600 font-mono",children:R}),u.jsx("div",{className:"text-xs text-gray-700 italic",children:"Empty"})]},R);const D=Vn(F.rarity);return u.jsxs("div",{className:`p-2 rounded-lg border ${D.border} ${D.bg}`,children:[u.jsx("div",{className:"text-[10px] text-gray-500 font-mono",children:R}),u.jsx("div",{className:`text-xs font-bold truncate ${D.text}`,children:F.name}),u.jsx("div",{className:"text-[9px] text-gray-500",children:F.rarity})]},R)})})]}),j.length>0&&u.jsxs("div",{className:"p-6 border-b border-white/5",children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(wE,{className:"w-3 h-3 text-purple-400"})," Set Bonuses"]}),j.map(({set:R,activeBonus:F})=>u.jsxs("div",{className:"p-2 bg-purple-500/5 border border-purple-500/20 rounded-lg mb-1",children:[u.jsx("div",{className:"text-xs font-bold text-purple-400",children:R.name}),u.jsxs("div",{className:"text-[10px] text-gray-400",children:[F.label,": ",F.effects.map(D=>`+${D.value} ${D.stat}`).join(", ")]})]},R.id))]}),(((L=l.unlockedAchievements)==null?void 0:L.length)||0)>0&&u.jsxs("div",{className:"p-6",children:[u.jsxs("h3",{className:"text-xs font-mono uppercase tracking-widest text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(Ud,{className:"w-3 h-3 text-yellow-400"})," Achievements (",(E=l.unlockedAchievements)==null?void 0:E.length,")"]}),u.jsx("div",{className:"flex flex-wrap gap-1",children:(A=l.unlockedAchievements)==null?void 0:A.slice(0,12).map(R=>u.jsx("span",{className:"text-[10px] bg-yellow-500/10 border border-yellow-500/20 rounded px-1.5 py-0.5 text-yellow-400",children:R.replace(/_/g," ")},R))})]})]})})},QTe=()=>u.jsx("div",{className:"grid grid-cols-1 divide-y divide-white/5",children:Array.from({length:5}).map((t,e)=>u.jsxs("div",{className:"p-6 flex items-center gap-6 animate-pulse",children:[u.jsx("div",{className:"w-12 h-8 bg-white/5 rounded"}),u.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("div",{className:"h-5 bg-white/5 rounded w-40"}),u.jsx("div",{className:"h-3 bg-white/5 rounded w-24"})]}),u.jsxs("div",{className:"space-y-2 text-right",children:[u.jsx("div",{className:"h-7 bg-white/5 rounded w-20 ml-auto"}),u.jsx("div",{className:"h-3 bg-white/5 rounded w-14 ml-auto"})]})]},e))}),YTe=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(Dr.AP_PHYSICS),[i,a]=P.useState(!0),[s,l]=P.useState(null);P.useEffect(()=>{const p=$e.subscribeToLeaderboard(m=>{e(m),a(!1)});return()=>p()},[]);const d=P.useMemo(()=>{const p=new Set;return t.forEach(m=>{var y;return(y=m.enrolledClasses)==null?void 0:y.forEach(b=>p.add(b))}),Array.from(p).sort()},[t]),h=P.useMemo(()=>t.filter(p=>{var m;return(m=p.enrolledClasses)==null?void 0:m.includes(r)}).sort((p,m)=>{var T,S,w,N;const y=((S=(T=p.gamification)==null?void 0:T.classXp)==null?void 0:S[r])||0;return(((N=(w=m.gamification)==null?void 0:w.classXp)==null?void 0:N[r])||0)-y}).slice(0,10),[t,r]);return u.jsxs("div",{className:"max-w-4xl mx-auto pt-8",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 mb-2",children:"Class Rankings"}),u.jsx("p",{className:"text-gray-400 mb-6",children:"Top operatives by XP accumulated."}),u.jsxs("div",{className:"inline-block relative",children:[u.jsxs("select",{value:r,onChange:p=>n(p.target.value),className:"appearance-none bg-white/5 border border-white/20 text-white font-bold py-2 pl-4 pr-10 rounded-xl focus:outline-none focus:border-purple-500 cursor-pointer min-w-[200px]",children:[d.map(p=>u.jsx("option",{value:p,children:p},p)),d.length===0&&u.jsx("option",{children:r})]}),u.jsx(za,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),u.jsx("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl overflow-hidden shadow-2xl",children:i?u.jsx(QTe,{}):u.jsxs(u.Fragment,{children:[h.length>=3&&u.jsx("div",{className:"flex items-end justify-center gap-4 px-6 pt-10 pb-6 bg-gradient-to-b from-purple-500/10 to-transparent border-b border-white/5",children:[1,0,2].map(p=>{var I,L,E,A,R;const m=h[p];if(!m)return null;const y=(I=m.settings)==null?void 0:I.privacyMode,b=y?((L=m.gamification)==null?void 0:L.codename)||"Unknown Agent":m.name,T=((A=(E=m.gamification)==null?void 0:E.classXp)==null?void 0:A[r])||0,S=((R=m.gamification)==null?void 0:R.level)||1,w=Ph(S),N=p===0,k=["h-28","h-20","h-16"],j=["w-20 h-20","w-14 h-14","w-14 h-14"],$=[{icon:u.jsx(Ud,{className:"w-5 h-5"}),color:"bg-yellow-500 text-yellow-900",ring:"ring-yellow-400/40"},{icon:u.jsx(Qy,{className:"w-4 h-4"}),color:"bg-gray-300 text-gray-700",ring:"ring-gray-300/30"},{icon:u.jsx(Qy,{className:"w-4 h-4"}),color:"bg-amber-600 text-amber-100",ring:"ring-amber-600/30"}];return u.jsxs("div",{className:`flex flex-col items-center ${N?"order-2":p===1?"order-1":"order-3"}`,style:{animation:`fadeSlideUp 0.5s ease-out ${.1+p*.15}s both`},children:[u.jsxs("div",{className:`relative mb-2 ${N?"mb-3":""}`,children:[u.jsx("div",{className:`${j[p]} rounded-full p-0.5 bg-white/10 ring-2 ${$[p].ring} relative ${N?"shadow-[0_0_30px_rgba(234,179,8,0.3)]":""}`,children:u.jsx("img",{src:m.avatarUrl,alt:b,className:`w-full h-full rounded-full border-2 ${w.tierColor.split(" ")[0]} object-cover`})}),u.jsx("div",{className:`absolute -bottom-2 left-1/2 -translate-x-1/2 ${$[p].color} rounded-full w-6 h-6 flex items-center justify-center shadow-lg`,children:$[p].icon})]}),u.jsxs("div",{className:`text-center ${N?"mt-2":"mt-1"}`,children:[u.jsx("div",{className:`font-bold truncate max-w-[100px] ${N?"text-sm text-white":"text-xs text-gray-300"} ${y?"italic":""}`,children:b}),u.jsx("div",{className:`font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 ${N?"text-xl":"text-base"}`,children:T.toLocaleString()}),u.jsx("div",{className:`text-[9px] font-mono uppercase ${w.tierColor.split(" ")[1]}`,children:w.rankName}),u.jsxs("button",{onClick:()=>l(m.id),className:"mt-1 text-[10px] text-gray-500 hover:text-purple-400 transition flex items-center gap-0.5 mx-auto",children:[u.jsx($m,{className:"w-3 h-3"})," Inspect"]})]}),u.jsx("div",{className:`${k[p]} w-20 mt-2 rounded-t-lg bg-gradient-to-t ${p===0?"from-yellow-500/20 to-yellow-500/5 border-yellow-500/30":p===1?"from-gray-400/15 to-gray-400/5 border-gray-400/20":"from-amber-600/15 to-amber-600/5 border-amber-600/20"} border border-b-0`})]},m.id)})}),u.jsxs("div",{className:"grid grid-cols-1 divide-y divide-white/5",children:[h.slice(h.length>=3?3:0).map((p,m)=>{var k,j,$,I,L;const y=h.length>=3?m+3:m,b=(k=p.settings)==null?void 0:k.privacyMode,T=b?((j=p.gamification)==null?void 0:j.codename)||"Unknown Agent":p.name,S=((I=($=p.gamification)==null?void 0:$.classXp)==null?void 0:I[r])||0,w=((L=p.gamification)==null?void 0:L.level)||1,N=Ph(w);return u.jsxs("div",{className:"p-5 flex items-center gap-5 transition hover:bg-white/5",style:{animation:`fadeSlideUp 0.4s ease-out ${.05*y}s both`},children:[u.jsxs("div",{className:"w-10 text-center font-bold text-lg text-gray-600 font-mono",children:[y<3&&y===0&&u.jsx(Ud,{className:"w-6 h-6 text-yellow-400 mx-auto"}),y<3&&y===1&&u.jsx(Qy,{className:"w-6 h-6 text-gray-300 mx-auto"}),y<3&&y===2&&u.jsx(Qy,{className:"w-6 h-6 text-amber-600 mx-auto"}),y>=3&&`#${y+1}`]}),u.jsxs("div",{className:"w-12 h-12 rounded-full p-0.5 bg-white/5 relative",children:[u.jsx("img",{src:p.avatarUrl,alt:T,className:`w-full h-full rounded-full border-2 ${N.tierColor.split(" ")[0]}`}),u.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-gray-900 rounded-full flex items-center justify-center text-[9px] font-bold border border-gray-600 text-white",children:w})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("h3",{className:`text-base font-bold truncate ${b?"text-purple-300 italic":"text-white"}`,children:[T,b&&u.jsx(Vm,{className:"w-3 h-3 text-gray-500 inline ml-1"})]}),u.jsx("span",{className:`text-[10px] font-mono uppercase font-bold tracking-widest ${N.tierColor.split(" ")[1]}`,children:N.rankName})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500",children:S.toLocaleString()}),u.jsx("div",{className:"text-[9px] text-gray-500 font-mono tracking-widest",children:"CLASS XP"})]}),u.jsx("button",{onClick:()=>l(p.id),className:"p-2 text-gray-600 hover:text-purple-400 transition rounded-lg hover:bg-white/5",title:"Inspect player",children:u.jsx($m,{className:"w-4 h-4"})})]},p.id)}),h.length===0&&u.jsxs("div",{className:"p-10 text-center text-gray-500 italic flex flex-col items-center gap-2",children:[u.jsx(uu,{className:"w-8 h-8 opacity-20"}),"No operatives ranked in ",r,"."]})]})]})}),s&&u.jsx(XTe,{userId:s,classType:r,onClose:()=>l(null)})]})};class ZTe extends ee.Component{constructor(r){super(r);jk(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught:",r,n)}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0f0720] p-6",children:u.jsxs("div",{className:"max-w-md w-full bg-white/5 backdrop-blur-xl border border-white/10 p-10 rounded-3xl text-center shadow-2xl",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-red-500/10 flex items-center justify-center",children:u.jsx("span",{className:"text-3xl",children:""})}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-3",children:"System Malfunction"}),u.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:"Something unexpected happened. Your data is safe  try reloading."}),this.state.error&&u.jsx("pre",{className:"text-[10px] text-red-400/60 bg-black/40 p-3 rounded-xl mb-6 text-left overflow-auto max-h-24 font-mono",children:this.state.error.message}),u.jsxs("button",{onClick:this.handleReload,className:"w-full py-4 bg-purple-600 hover:bg-purple-500 text-white rounded-xl font-bold transition flex items-center justify-center gap-2",children:[u.jsx(bb,{className:"w-5 h-5"}),"Reload Portal"]})]})}):this.props.children}}const g$={1:{name:"Remember & Understand",color:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/30",icon:u.jsx(Ih,{className:"w-4 h-4"})},2:{name:"Apply & Analyze",color:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/30",icon:u.jsx(Dq,{className:"w-4 h-4"})},3:{name:"Evaluate & Create",color:"text-purple-400",bg:"bg-purple-500/10",border:"border-purple-500/30",icon:u.jsx(wE,{className:"w-4 h-4"})}},JTe={multiple_choice:"Multiple Choice",multiple_select:"Select All That Apply",ranking:"Ranking Task",qualitative_reasoning:"Qualitative Reasoning",linked_mc:"Linked Questions",troubleshooting:"Troubleshooting",conflicting_contentions:"Conflicting Contentions",whats_wrong:"What's Wrong?",working_backwards:"Working Backwards"},wT=3;function _T(t,e){const r=[...t];for(let n=r.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[r[n],r[i]]=[r[i],r[n]]}return r.slice(0,e)}const eAe=({assignment:t})=>{const e=ia(),[r,n]=P.useState([]),[i,a]=P.useState([]),[s,l]=P.useState(!0),[d,h]=P.useState(!1),[p,m]=P.useState({}),[y,b]=P.useState(1),[T,S]=P.useState(null),[w,N]=P.useState(new Set),k=P.useCallback(D=>{const B=_T(D.filter(Z=>Z.tier===1),wT),M=_T(D.filter(Z=>Z.tier===2),wT),Q=_T(D.filter(Z=>Z.tier===3),wT);a([...B,...M,...Q]),m({}),S(null)},[]);P.useEffect(()=>{(async()=>{var B;l(!0),h(!1);try{const M=await Vi(pt(Ve,"question_banks",t.id));if(!M.exists()){h(!0);return}const Q=M.data().questions||[];n(Q),k(Q)}catch(M){console.error("Failed to load question bank:",M),h(!0);return}finally{l(!1)}try{const M=(B=uV().currentUser)==null?void 0:B.uid;if(M){const Q=await Vi(pt(Ve,"review_progress",`${M}_${t.id}`));Q.exists()&&N(new Set(Q.data().answeredQuestions||[]))}}catch(M){console.warn("Could not load review progress:",M)}})()},[t.id,k]);const j=()=>{r.length>0&&k(r)},$=(D,B,M)=>{const Q=p[D];if(!(Q!=null&&Q.submitted))if(M==="multiple_select"||M==="ranking"){const Z=(Q==null?void 0:Q.selected)||[],W=Z.includes(B)?Z.filter(J=>J!==B):[...Z,B];m(J=>({...J,[D]:{...J[D],selected:W,submitted:!1,correct:!1,xpAwarded:!1}}))}else m(Z=>({...Z,[D]:{selected:B,submitted:!1,correct:!1,xpAwarded:!1}}))},I=(D,B)=>{var M;(M=p[D])!=null&&M.submitted||m(Q=>({...Q,[D]:{...Q[D],linkedSelected:B}}))},L=async D=>{const B=p[D.id];if(!(B!=null&&B.selected))return;let M=!1;if(D.type==="multiple_select"||D.type==="ranking"){const Q=B.selected,Z=D.correctAnswer;M=Q.length===Z.length&&Q.every((W,J)=>W===Z[J])}else D.type==="linked_mc"?M=B.selected===D.correctAnswer&&(!D.linkedFollowUp||B.linkedSelected===D.linkedFollowUp.correctAnswer):M=B.selected===D.correctAnswer;if(M)if(w.has(D.id))m(Q=>({...Q,[D.id]:{...Q[D.id],submitted:!0,correct:!0,xpAwarded:!1}})),e.success("Correct! (XP already claimed for this question)");else{m(Q=>({...Q,[D.id]:{...Q[D.id],submitted:!0,correct:!0,xpAwarded:!1}}));try{(await Oq({assignmentId:t.id,questionId:D.id,xpAmount:D.xp,classType:t.classType})).data.awarded?(e.success(`+${D.xp} XP earned!`),m(W=>({...W,[D.id]:{...W[D.id],submitted:!0,correct:!0,xpAwarded:!0}})),N(W=>new Set([...W,D.id]))):e.success("Correct! (XP already claimed)")}catch(Q){console.error("XP award error:",Q)}}else m(Q=>({...Q,[D.id]:{...Q[D.id],submitted:!0,correct:!1,xpAwarded:!1}}))},E=P.useMemo(()=>i.filter(D=>D.tier===y),[i,y]),A=P.useMemo(()=>Object.entries(p).filter(([,D])=>D.correct&&D.xpAwarded).reduce((D,[B])=>{var M;return D+(((M=i.find(Q=>Q.id===B))==null?void 0:M.xp)||0)},0),[p,i]),R=P.useMemo(()=>i.reduce((D,B)=>D+B.xp,0),[i]),F=P.useMemo(()=>i.length>0&&i.every(D=>{var B;return(B=p[D.id])==null?void 0:B.submitted}),[i,p]);return s?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[u.jsx(as,{className:"w-8 h-8 text-purple-400 animate-spin"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Loading questions..."})]}):d?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[u.jsx(Ih,{className:"w-12 h-12 text-gray-600"}),u.jsx("p",{className:"text-gray-400 font-bold",children:"No Questions Available"}),u.jsx("p",{className:"text-gray-600 text-sm text-center max-w-sm",children:"Your teacher hasn't uploaded review questions for this resource yet."})]}):u.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-black/40 border-b border-white/10",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ih,{className:"w-5 h-5 text-purple-400"}),u.jsx("span",{className:"font-bold text-white text-sm",children:"Conceptual Review"}),u.jsxs("span",{className:"text-[10px] bg-white/10 text-gray-400 px-2 py-0.5 rounded-full font-mono",children:[r.length," in bank"]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ii,{className:"w-4 h-4 text-yellow-400"}),u.jsx("span",{className:"text-sm font-bold text-yellow-400",children:A}),u.jsxs("span",{className:"text-[10px] text-gray-500",children:["/ ",R," XP"]})]}),u.jsxs("button",{onClick:j,className:"flex items-center gap-1.5 text-[10px] font-bold text-purple-400 bg-purple-500/10 hover:bg-purple-500/20 px-3 py-1.5 rounded-lg border border-purple-500/30 transition",children:[u.jsx(bb,{className:"w-3 h-3"})," New Set"]})]})]}),u.jsx("div",{className:"flex gap-2 px-4 py-3 border-b border-white/5 bg-black/20",children:[1,2,3].map(D=>{const B=g$[D],M=i.filter(W=>W.tier===D),Q=M.filter(W=>{var J;return(J=p[W.id])==null?void 0:J.submitted}).length,Z=M.filter(W=>{var J;return(J=p[W.id])==null?void 0:J.correct}).length;return u.jsxs("button",{onClick:()=>b(D),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all ${y===D?`${B.bg} ${B.color} ${B.border} border`:"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[B.icon,u.jsx("span",{className:"hidden sm:inline",children:B.name}),u.jsxs("span",{className:"sm:hidden",children:["Tier ",D]}),Q>0&&u.jsxs("span",{className:`ml-1 text-[9px] px-1.5 py-0.5 rounded-full ${Z===M.length?"bg-emerald-500/20 text-emerald-400":"bg-white/10 text-gray-400"}`,children:[Z,"/",M.length]})]},D)})}),F&&u.jsxs("div",{className:"px-4 py-3 bg-purple-500/10 border-b border-purple-500/20 flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-purple-300 font-bold",children:"Set complete!"}),u.jsxs("button",{onClick:j,className:"bg-purple-600 hover:bg-purple-500 text-white text-xs font-bold px-4 py-2 rounded-lg transition flex items-center gap-1.5",children:[u.jsx(bb,{className:"w-3 h-3"})," New Questions"]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-4",children:[E.map((D,B)=>{const M=p[D.id],Q=T===D.id,Z=M==null?void 0:M.submitted,W=M==null?void 0:M.correct,J=g$[D.tier];return u.jsxs("div",{className:`rounded-2xl border transition-all ${Z?W?"border-emerald-500/40 bg-emerald-500/5":"border-red-500/30 bg-red-500/5":Q?`${J.border} ${J.bg}`:"border-white/10 bg-white/5 hover:border-white/20"}`,children:[u.jsxs("button",{onClick:()=>S(Q?null:D.id),className:"w-full p-4 flex items-start gap-3 text-left",children:[u.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 text-xs font-black ${Z?W?"bg-emerald-500 text-white":"bg-red-500/20 text-red-400":`${J.bg} ${J.color}`}`,children:Z?W?u.jsx(fi,{className:"w-4 h-4"}):u.jsx(zm,{className:"w-4 h-4"}):B+1}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[u.jsx("span",{className:`text-[9px] font-bold uppercase tracking-wider ${J.color}`,children:D.bloomsLevel}),u.jsx("span",{className:"text-[9px] text-gray-600",children:""}),u.jsx("span",{className:"text-[9px] text-gray-500 font-mono",children:JTe[D.type]||D.type}),u.jsxs("span",{className:"text-[9px] text-yellow-500 font-bold ml-auto flex items-center gap-0.5",children:[u.jsx(Ii,{className:"w-3 h-3"}),D.xp," XP"]})]}),u.jsx("p",{className:"text-sm text-gray-200 font-medium leading-snug",children:D.stem})]}),u.jsx(Ad,{className:`w-4 h-4 text-gray-500 transition-transform flex-shrink-0 mt-1 ${Q?"rotate-90":""}`})]}),Q&&u.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[D.context&&u.jsx("div",{className:"bg-black/30 border border-white/10 rounded-xl p-3 text-xs text-gray-400 italic leading-relaxed",children:D.context}),D.type==="ranking"?u.jsx(nAe,{question:D,answer:M,onSelect:$}):D.type==="multiple_select"?u.jsx(rAe,{question:D,answer:M,onSelect:$}):u.jsx(tAe,{question:D,answer:M,onSelect:$}),D.type==="linked_mc"&&D.linkedFollowUp&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10",children:[u.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest mb-2",children:"Follow-Up"}),u.jsx("p",{className:"text-sm text-gray-200 font-medium mb-3",children:D.linkedFollowUp.stem}),u.jsx("div",{className:"space-y-2",children:D.linkedFollowUp.options.map(Y=>{const ge=(M==null?void 0:M.linkedSelected)===Y.id,ce=Z,X=Y.id===D.linkedFollowUp.correctAnswer;return u.jsxs("button",{onClick:()=>I(D.id,Y.id),disabled:Z,className:`w-full text-left p-3 rounded-xl border text-sm transition-all ${ce?X?"border-emerald-500/50 bg-emerald-500/10 text-emerald-300":ge?"border-red-500/40 bg-red-500/10 text-red-300":"border-white/5 text-gray-500":ge?"border-purple-500/50 bg-purple-500/10 text-white":"border-white/10 hover:border-white/20 text-gray-300"}`,children:[u.jsxs("span",{className:"font-mono font-bold mr-2 text-xs",children:[Y.id.toUpperCase(),"."]})," ",Y.text]},Y.id)})})]}),Z?u.jsxs("div",{className:`p-4 rounded-xl border ${W?"border-emerald-500/30 bg-emerald-500/5":"border-red-500/30 bg-red-500/5"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[W?u.jsx(fi,{className:"w-5 h-5 text-emerald-400"}):u.jsx(zm,{className:"w-5 h-5 text-red-400"}),u.jsx("span",{className:`font-bold text-sm ${W?"text-emerald-400":"text-red-400"}`,children:W?`Correct! +${D.xp} XP`:"Incorrect"})]}),u.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:D.explanation})]}):u.jsx("button",{onClick:()=>L(D),disabled:!(M!=null&&M.selected)||Array.isArray(M==null?void 0:M.selected)&&M.selected.length===0,className:"w-full py-3 bg-purple-600 hover:bg-purple-500 disabled:bg-gray-700 disabled:text-gray-500 text-white font-bold rounded-xl transition",children:"Submit Answer"})]})]},D.id)}),E.length===0&&u.jsxs("div",{className:"text-center py-12 text-gray-500 italic",children:[u.jsx(Vm,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),"No questions for this tier."]})]})]})},tAe=({question:t,answer:e,onSelect:r})=>u.jsx("div",{className:"space-y-2",children:t.options.map(n=>{const i=(e==null?void 0:e.selected)===n.id,a=e==null?void 0:e.submitted,s=n.id===t.correctAnswer;return u.jsxs("button",{onClick:()=>r(t.id,n.id,t.type),disabled:e==null?void 0:e.submitted,className:`w-full text-left p-3 rounded-xl border text-sm transition-all ${a?s?"border-emerald-500/50 bg-emerald-500/10 text-emerald-300":i?"border-red-500/40 bg-red-500/10 text-red-300":"border-white/5 text-gray-500":i?"border-purple-500/50 bg-purple-500/10 text-white":"border-white/10 hover:border-white/20 text-gray-300"}`,children:[u.jsxs("span",{className:"font-mono font-bold mr-2 text-xs",children:[n.id.toUpperCase(),"."]})," ",n.text]},n.id)})}),rAe=({question:t,answer:e,onSelect:r})=>{const n=(e==null?void 0:e.selected)||[],i=t.correctAnswer;return u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:"Select all that apply"}),t.options.map(a=>{const s=n.includes(a.id),l=e==null?void 0:e.submitted,d=i.includes(a.id);return u.jsxs("button",{onClick:()=>r(t.id,a.id,"multiple_select"),disabled:e==null?void 0:e.submitted,className:`w-full text-left p-3 rounded-xl border text-sm transition-all flex items-center gap-3 ${l?d?"border-emerald-500/50 bg-emerald-500/10 text-emerald-300":s?"border-red-500/40 bg-red-500/10 text-red-300":"border-white/5 text-gray-500":s?"border-purple-500/50 bg-purple-500/10 text-white":"border-white/10 hover:border-white/20 text-gray-300"}`,children:[u.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 ${s?"border-purple-500 bg-purple-500":"border-gray-600"}`,children:s&&u.jsx(fi,{className:"w-3 h-3 text-white"})}),u.jsxs("span",{children:[u.jsxs("span",{className:"font-mono font-bold mr-1 text-xs",children:[a.id.toUpperCase(),"."]})," ",a.text]})]},a.id)})]})},nAe=({question:t,answer:e,onSelect:r})=>{const n=(e==null?void 0:e.selected)||[],i=e==null?void 0:e.submitted,a=t.correctAnswer;return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest flex items-center gap-1",children:[u.jsx(noe,{className:"w-3 h-3"})," Click in order (first to last)"]}),n.length>0&&u.jsx("div",{className:"flex gap-1 flex-wrap mb-2",children:n.map((s,l)=>{const d=t.options.find(p=>p.id===s),h=i&&a[l]===s;return u.jsxs("span",{className:`text-[10px] font-bold px-2 py-1 rounded-lg ${i?h?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-red-500/20 text-red-400 border border-red-500/30":"bg-purple-500/20 text-purple-300 border border-purple-500/30"}`,children:[l+1,". ",d==null?void 0:d.text.slice(0,30),((d==null?void 0:d.text.length)||0)>30?"...":""]},s)})}),t.options.map(s=>{const l=n.includes(s.id),d=n.indexOf(s.id);return u.jsxs("button",{onClick:()=>r(t.id,s.id,"ranking"),disabled:e==null?void 0:e.submitted,className:`w-full text-left p-3 rounded-xl border text-sm transition-all flex items-center gap-3 ${l?"border-purple-500/50 bg-purple-500/10 text-purple-300 opacity-60":"border-white/10 hover:border-white/20 text-gray-300"}`,children:[l?u.jsx("span",{className:"w-6 h-6 rounded-full bg-purple-500 text-white text-xs font-bold flex items-center justify-center",children:d+1}):u.jsx("span",{className:"w-6 h-6 rounded-full border-2 border-gray-600 text-xs flex items-center justify-center text-gray-600",children:"?"}),s.text]},s.id)})]})};function iAe(t){let e=t;return e=e.replace(/([A-Z][a-z]?)\s+\1(?:\s+[a-z])?\s**/g,"$1"),e=e.replace(/[\u200B\u200C\u200D\uFEFF\u00AD]/g,""),e=e.replace(/\$\$([^$]+)\$\$/g,(r,n)=>{try{return`<div class="my-3 text-center">${Ab.renderToString(n.trim(),{throwOnError:!1,displayMode:!0})}</div>`}catch{return`<code class="math-block">${n}</code>`}}),e=e.replace(/\$([^$]+)\$/g,(r,n)=>{try{return Ab.renderToString(n.trim(),{throwOnError:!1,displayMode:!1})}catch{return`<code class="math-inline">${n}</code>`}}),e=e.replace(new RegExp("(?<![a-z])([A-Z][a-z]*(?:_?\\{?[a-z]*\\}?)?)\\s*=\\s*([-]?(?:frac|sqrt|Delta|\\\\)?[\\w\\d{}()^_/\\\\.,]+(?:\\s*[+\\-*/]\\s*[-]?(?:frac|sqrt|Delta|\\\\)?[\\w\\d{}()^_/\\\\.,]+)*)(?![a-zA-Z])","g"),(r,n,i)=>`<code class="math-inline">${n} = ${i}</code>`),e=e.replace(/\\n\\n|\n\n/g,'</p><p class="mt-3">'),e=e.replace(/(?:^|\n)\*\s+(.+)/g,'<li class="ml-4 list-disc">$1</li>'),e=e.replace(/(?:^|\n)-\s+(.+)/g,'<li class="ml-4 list-disc">$1</li>'),e=e.replace(/((?:<li[^>]*>.*?<\/li>\s*)+)/g,'<ul class="my-2 space-y-1">$1</ul>'),e=e.replace(/(?:^|\n)(\d+)\.\s+(.+)/g,'<li class="ml-4" value="$1">$2</li>'),e=e.replace(/\\n|\n/g,"<br/>"),e=e.replace(/\*\*(.+?)\*\*/g,'<strong class="text-white">$1</strong>'),`<p>${e}</p>`}const aAe=({assignment:t,onComplete:e})=>{const[r,n]=P.useState(null),[i,a]=P.useState(!0),[s,l]=P.useState(!1),d=P.useRef(pb()),h=P.useRef(Date.now()),p=P.useRef(e),[m,y]=P.useState(!0),[b,T]=P.useState(0);P.useEffect(()=>{p.current=e},[e]);const S=P.useCallback(()=>{h.current=Date.now(),m||y(!0)},[m]);P.useEffect(()=>{const N=setInterval(()=>{Date.now()-h.current<6e4?(d.current.engagementTime+=1,T(d.current.engagementTime),m||y(!0)):m&&y(!1)},1e3);return()=>clearInterval(N)},[m]),P.useEffect(()=>{const N=["mousemove","keydown","scroll","click"];return N.forEach(k=>window.addEventListener(k,S)),()=>{N.forEach(k=>window.removeEventListener(k,S))}},[S]),P.useEffect(()=>()=>{p.current(d.current)},[]),P.useEffect(()=>{(async()=>{a(!0);try{const k=await Vi(pt(Ve,"reading_materials",t.id));k.exists()?n(k.data()):l(!0)}catch(k){console.error("Failed to load reading material:",k),l(!0)}finally{a(!1)}})()},[t.id]);const w=P.useMemo(()=>r?r.sections.map(N=>({title:N.title,html:iAe(N.content)})):[],[r]);return i?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[u.jsx(as,{className:"w-8 h-8 text-purple-400 animate-spin"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Loading study material..."})]}):s||!r?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[u.jsx(so,{className:"w-12 h-12 text-gray-600"}),u.jsx("p",{className:"text-gray-400 font-bold",children:"No Study Material Available"}),u.jsx("p",{className:"text-gray-600 text-sm text-center max-w-sm",children:"Your teacher hasn't uploaded reading material for this resource yet."})]}):u.jsxs("div",{className:"flex flex-col h-full bg-black/20 border border-white/10 rounded-2xl overflow-hidden relative",children:[u.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 flex justify-between items-center border-b border-white/5 z-20 shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:`flex items-center gap-2 text-sm font-bold ${m?"text-green-400":"text-yellow-500"}`,children:[m?u.jsx(yE,{className:"w-4 h-4"}):u.jsx(Os,{className:"w-4 h-4 animate-pulse"}),m?"Reading Active":"Away (Paused)"]}),u.jsxs("div",{className:"text-xs text-gray-400 font-mono bg-black/40 px-2 py-1 rounded",children:["TIME: ",Math.floor(b/60),"m ",b%60,"s"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[r.estimatedMinutes&&u.jsxs("span",{className:"text-[10px] text-gray-500 font-mono",children:["~",r.estimatedMinutes," min read"]}),!m&&u.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-yellow-500 bg-yellow-500/10 px-3 py-1 rounded-full border border-yellow-500/20 uppercase font-bold tracking-widest",children:[u.jsx(Is,{className:"w-3 h-3"})," Scroll to earn XP"]})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",onScroll:S,children:u.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:r.title}),r.description&&u.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:r.description})]}),u.jsx("div",{className:"space-y-10",children:w.map((N,k)=>u.jsxs("div",{className:"group",children:[u.jsxs("h2",{className:"text-lg font-bold text-purple-300 mb-4 flex items-center gap-3",children:[u.jsx("span",{className:"w-7 h-7 rounded-lg bg-purple-500/20 text-purple-400 text-xs font-black flex items-center justify-center shrink-0",children:k+1}),N.title]}),u.jsx("div",{className:"study-content text-sm text-gray-300 leading-relaxed pl-10",dangerouslySetInnerHTML:{__html:N.html}})]},k))}),u.jsx("div",{className:"mt-12 mb-4 text-center",children:u.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-500/10 text-emerald-400 text-xs font-bold px-4 py-2 rounded-full border border-emerald-500/20",children:[u.jsx(so,{className:"w-3.5 h-3.5"}),"Keep reading to earn engagement XP"]})})]})})]})},y$={Resources:"RESOURCES","Agent Loadout":"LOADOUT",Missions:"MISSIONS",Badges:"ACHIEVEMENTS",Skills:"SKILLS",Fortune:"FORTUNE",Tutoring:"TUTORING"},sAe=()=>{var ue,oe;const[t,e]=P.useState(null),[r,n]=P.useState("Dashboard"),[i,a]=P.useState([]),[s,l]=P.useState([]),[d,h]=P.useState([]),[p,m]=P.useState([]),[y,b]=P.useState([]),[T,S]=P.useState(null),[w,N]=P.useState("STUDENT"),[k,j]=P.useState("WORK"),[$,I]=P.useState(!1),[L,E]=P.useState(!1),[A,R]=P.useState(!0),[F,D]=P.useState(!1),B=P.useMemo(()=>{const ae=new Map;return s.forEach(pe=>{const ye=ae.get(pe.userId)||[];ye.push(pe),ae.set(pe.userId,ye)}),d.map(pe=>{const ye=ae.get(pe.id)||[],Xe=ye.length,Ne=Math.round(ye.reduce((le,je)=>{var we;return le+(((we=je.metrics)==null?void 0:we.engagementTime)||0)},0)/60);return{...pe,stats:{problemsCompleted:Xe,avgScore:0,rawAccuracy:0,totalTime:Ne}}})},[d,s]),M=P.useMemo(()=>i.find(ae=>ae.id===T)||null,[i,T]);P.useEffect(()=>{if(I(!1),E(!1),!T)return;const ae=Vi(pt(Ve,"question_banks",T)).then(ye=>{ye.exists()&&(ye.data().questions||[]).length>0&&I(!0)}).catch(()=>{}),pe=Vi(pt(Ve,"reading_materials",T)).then(ye=>{ye.exists()&&E(!0)}).catch(()=>{});Promise.all([ae,pe]).then(()=>{})},[T]),P.useEffect(()=>{let ae=null;const pe=uee(nA,async ye=>{ye?(await Q(ye),ae=ei(pt(Ve,"users",ye.uid),Xe=>{Xe.exists()&&e(Ne=>({...Ne||{},...Xe.data(),id:ye.uid}))})):(e(null),ae&&ae(),R(!1))});return()=>{pe(),ae&&ae()}},[]),P.useEffect(()=>{if(t&&(t.isWhitelisted||t.role===Ji.ADMIN)){const ae=$e.subscribeToAssignments(a),pe=$e.subscribeToClassConfigs(b),ye=[ae,pe];return t.role===Ji.ADMIN?(ye.push($e.subscribeToSubmissions(l)),ye.push($e.subscribeToUsers(h)),ye.push($e.subscribeToWhitelist(m))):ye.push($e.subscribeToUserSubmissions(t.id,l)),()=>ye.forEach(Xe=>Xe())}},[t==null?void 0:t.id,t==null?void 0:t.isWhitelisted,t==null?void 0:t.role]),P.useEffect(()=>{(t==null?void 0:t.role)===Ji.STUDENT&&r==="Dashboard"&&n("Resources")},[t==null?void 0:t.role,r]),P.useEffect(()=>{var ae;nle(((ae=t==null?void 0:t.settings)==null?void 0:ae.soundEffects)!==!1)},[(ue=t==null?void 0:t.settings)==null?void 0:ue.soundEffects]),tle((t==null?void 0:t.id)||null,((oe=t==null?void 0:t.settings)==null?void 0:oe.pushNotifications)===!0);const Q=async ae=>{try{const pe=pt(Ve,"users",ae.uid),ye=await Vi(pe),Xe=await Vi(pt(Ve,"allowed_emails",ae.email||"")),le=(await ae.getIdTokenResult()).claims.admin===!0||ae.email===Koe,je=Xe.exists()||le,we=Xe.exists()?Xe.data():null,ut=(we==null?void 0:we.classType)||Dr.UNCATEGORIZED,Ge=(we==null?void 0:we.classTypes)||(ut!==Dr.UNCATEGORIZED?[ut]:[]);if(ye.exists()){const lt=ye.data(),it={lastLoginAt:new Date().toISOString(),isWhitelisted:je};if(le&&(it.role="ADMIN"),!je&&!le&&(it.enrolledClasses=[]),je&&Ge.length>0){const Rt=lt.enrolledClasses||[],Oe=Array.from(new Set([...Rt,...Ge]));Oe.length!==Rt.length&&(it.enrolledClasses=Oe,(!lt.classType||lt.classType===Dr.UNCATEGORIZED)&&(it.classType=Ge[0]))}await qr(pe,it)}else{const lt={email:ae.email,name:ae.displayName||"Student",avatarUrl:ae.photoURL||"",role:le?"ADMIN":"STUDENT",classType:ut,enrolledClasses:je?Ge:[],isWhitelisted:je,createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString(),gamification:{xp:0,level:1,currency:0,badges:[],privacyMode:!1,classXp:{}},settings:{liveBackground:!0,performanceMode:!1,privacyMode:!1,compactView:!1}};await fa(pe,lt)}}catch(pe){console.error(pe)}finally{R(!1)}},Z=async()=>{await dee(nA),e(null),S(null)},W=ae=>{j("WORK"),S(ae)},J=P.useRef(M),Y=P.useRef(t);P.useEffect(()=>{J.current=M},[M]),P.useEffect(()=>{Y.current=t},[t]);const ge=async ae=>{const pe=Y.current,ye=J.current;if(!(!pe||!ye||pe.role===Ji.ADMIN)&&!(ae.engagementTime<10))try{await $e.submitEngagement(pe.id,pe.name,ye.id,ye.title,ae,ye.classType)}catch(Xe){console.error("Engagement submission failed:",Xe)}},ce=P.useMemo(()=>{const ae={physicsLab:!0,evidenceLocker:!0,leaderboard:!0,physicsTools:!0,communications:!0};if(t&&t.role==="STUDENT"&&t.classType){const pe=y.find(ye=>ye.className===t.classType);if(pe)return pe.features}return ae},[t==null?void 0:t.role,t==null?void 0:t.classType,y]);if(A)return u.jsx("div",{className:"h-screen flex items-center justify-center bg-[#0f0720] text-white font-mono",children:"ESTABLISHING CONNECTION..."});if(!t)return u.jsx(Pue,{});if(!t.isWhitelisted&&t.role!==Ji.ADMIN)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0f0720] p-6",children:u.jsxs("div",{className:"max-w-md w-full bg-white/5 backdrop-blur-xl border border-white/10 p-10 rounded-3xl text-center shadow-2xl relative z-10",children:[u.jsx(h2,{className:"w-16 h-16 text-amber-500 mx-auto mb-6"}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Access Pending"}),u.jsxs("p",{className:"text-gray-300 mb-8",children:["Hi ",t.name,"! Your account is currently restricted. Please contact ",Hq," for authorization."]}),u.jsx("button",{onClick:Z,className:"w-full py-4 bg-white/5 border border-white/10 text-white rounded-xl hover:bg-red-500/20 transition-all font-bold",children:"Sign Out"})]})});const X=t.role===Ji.ADMIN||ce.physicsTools,te=t.role===Ji.ADMIN||ce.communications;return u.jsx(ZTe,{children:u.jsx(Due,{children:u.jsx(Yoe,{children:u.jsxs(u.Fragment,{children:[u.jsx(Zoe,{}),X&&u.jsx(rde,{onToggleChat:te?()=>D(!F):void 0}),te&&u.jsx(ade,{user:t,isOpen:F,onClose:()=>D(!1),assignments:i,classConfigs:y,onOpenResource:ae=>{W(ae)}}),u.jsx(sle,{user:t,onLogout:Z,activeTab:r,setActiveTab:n,children:M?u.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center text-white bg-white/5 p-4 rounded-xl border border-white/10 backdrop-blur-md gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[M.title,t.role===Ji.ADMIN&&u.jsx("span",{className:"text-[10px] bg-purple-600 px-2 py-1 rounded-full uppercase tracking-widest",children:"Admin Control"})]}),u.jsxs("div",{className:"flex gap-4 mt-2",children:[u.jsx("button",{onClick:()=>j("WORK"),className:`text-sm font-bold pb-1 border-b-2 transition ${k==="WORK"?"border-purple-500 text-white":"border-transparent text-gray-400"}`,children:"Resource"}),$&&u.jsxs("button",{onClick:()=>j("REVIEW"),className:`text-sm font-bold pb-1 border-b-2 transition flex items-center gap-1.5 ${k==="REVIEW"?"border-purple-500 text-white":"border-transparent text-gray-400"}`,children:[u.jsx(Ih,{className:"w-3.5 h-3.5"})," Review"]}),L&&u.jsxs("button",{onClick:()=>j("STUDY"),className:`text-sm font-bold pb-1 border-b-2 transition flex items-center gap-1.5 ${k==="STUDY"?"border-purple-500 text-white":"border-transparent text-gray-400"}`,children:[u.jsx(so,{className:"w-3.5 h-3.5"})," Study Material"]})]})]}),u.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[t.role==="ADMIN"&&u.jsxs("div",{className:"flex bg-black/40 rounded-lg p-1 border border-white/10 text-[10px] font-bold",children:[u.jsx("button",{onClick:()=>N("STUDENT"),className:`px-3 py-1.5 rounded transition ${w==="STUDENT"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:"Student View"}),u.jsx("button",{onClick:()=>N("ADMIN"),className:`px-3 py-1.5 rounded transition ${w==="ADMIN"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:"Admin View"})]}),u.jsxs("button",{onClick:()=>{S(null),j("WORK")},className:"text-gray-400 hover:text-white transition flex items-center gap-1 text-sm bg-white/5 px-4 py-2 rounded-lg border border-white/10",children:[u.jsx(roe,{className:"w-4 h-4"})," Exit"]})]})]}),u.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[k==="WORK"&&u.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx(Mue,{onComplete:ge,contentUrl:M.contentUrl,htmlContent:M.htmlContent,userId:t.id,assignmentId:M.id,classType:M.classType})}),w==="ADMIN"&&t.role===Ji.ADMIN&&u.jsxs("div",{className:"w-full md:w-72 bg-white/5 border border-white/10 rounded-2xl p-6 backdrop-blur-md animate-in slide-in-from-right duration-300 overflow-y-auto",children:[u.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[u.jsx(Fm,{className:"w-4 h-4 text-purple-400"})," Admin Controls"]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5",children:[u.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest block mb-2",children:"Active Engagement"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-purple-600/20 rounded-xl flex items-center justify-center text-purple-400",children:u.jsx(uu,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:s.filter(ae=>ae.assignmentId===M.id&&!ae.isArchived).length}),u.jsx("div",{className:"text-[10px] text-gray-500",children:"Live Operatives"})]})]})]}),u.jsxs("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5",children:[u.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest block mb-2",children:"Collaboration"}),u.jsx("button",{onClick:()=>D(!0),className:"w-full bg-indigo-600 border border-indigo-500 py-2 rounded-lg text-xs font-bold text-white hover:bg-indigo-500 transition",children:"Open Class Chat"})]})]})]})]}),k==="REVIEW"&&u.jsx("div",{className:"h-full bg-white/5 border border-white/10 rounded-2xl overflow-hidden backdrop-blur-md",style:{animation:"tabEnter 0.3s ease-out both"},children:u.jsx(eAe,{assignment:M})}),k==="STUDY"&&u.jsx("div",{className:"h-full bg-white/5 border border-white/10 rounded-2xl overflow-hidden backdrop-blur-md",style:{animation:"tabEnter 0.3s ease-out both"},children:u.jsx(aAe,{assignment:M,onComplete:ge})})]})]}):u.jsx("div",{className:"h-full",children:u.jsxs("div",{className:"h-full animate-in fade-in slide-in-from-bottom-2 duration-300",children:[t.role===Ji.ADMIN&&u.jsxs(u.Fragment,{children:[r==="Dashboard"&&u.jsx($ue,{users:B,assignments:i,submissions:s}),r==="User Management"&&u.jsx(Vue,{users:B,whitelistedEmails:p,classConfigs:y,onWhitelist:async(ae,pe)=>$e.addToWhitelist(ae,pe)}),r==="Admin Panel"&&u.jsx(Kue,{assignments:i,submissions:s,onCreateAssignment:async ae=>{ae.title&&await $e.addAssignment(ae)},classConfigs:y,onPreviewAssignment:ae=>{N("STUDENT"),W(ae)}}),r==="XP Command"&&u.jsx(ede,{users:d})]}),t.role===Ji.STUDENT&&u.jsxs(u.Fragment,{children:[r in y$&&u.jsx(gTe,{user:t,assignments:i,submissions:s,enabledFeatures:ce,onNavigate:n,onStartAssignment:W,studentTab:y$[r]}),r==="Forensics"&&ce.evidenceLocker&&u.jsx(HTe,{user:t}),r==="Physics Lab"&&ce.physicsLab&&u.jsx(GTe,{user:t}),r==="Leaderboard"&&ce.leaderboard&&u.jsx(YTe,{})]})]},r)})})]})})})})},aQ=document.getElementById("root");if(!aQ)throw new Error("Could not find root element to mount to");const oAe=HY.createRoot(aQ);oAe.render(u.jsx(ee.StrictMode,{children:u.jsx(sAe,{})}));
